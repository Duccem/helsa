"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/cacheable-request";
exports.ids = ["vendor-chunks/cacheable-request"];
exports.modules = {

/***/ "(ssr)/../../../node_modules/cacheable-request/node_modules/get-stream/buffer-stream.js":
/*!****************************************************************************************!*\
  !*** ../../../node_modules/cacheable-request/node_modules/get-stream/buffer-stream.js ***!
  \****************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\nconst {PassThrough: PassThroughStream} = __webpack_require__(/*! stream */ \"stream\");\n\nmodule.exports = options => {\n\toptions = {...options};\n\n\tconst {array} = options;\n\tlet {encoding} = options;\n\tconst isBuffer = encoding === 'buffer';\n\tlet objectMode = false;\n\n\tif (array) {\n\t\tobjectMode = !(encoding || isBuffer);\n\t} else {\n\t\tencoding = encoding || 'utf8';\n\t}\n\n\tif (isBuffer) {\n\t\tencoding = null;\n\t}\n\n\tconst stream = new PassThroughStream({objectMode});\n\n\tif (encoding) {\n\t\tstream.setEncoding(encoding);\n\t}\n\n\tlet length = 0;\n\tconst chunks = [];\n\n\tstream.on('data', chunk => {\n\t\tchunks.push(chunk);\n\n\t\tif (objectMode) {\n\t\t\tlength = chunks.length;\n\t\t} else {\n\t\t\tlength += chunk.length;\n\t\t}\n\t});\n\n\tstream.getBufferedValue = () => {\n\t\tif (array) {\n\t\t\treturn chunks;\n\t\t}\n\n\t\treturn isBuffer ? Buffer.concat(chunks, length) : chunks.join('');\n\t};\n\n\tstream.getBufferedLength = () => length;\n\n\treturn stream;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2NhY2hlYWJsZS1yZXF1ZXN0L25vZGVfbW9kdWxlcy9nZXQtc3RyZWFtL2J1ZmZlci1zdHJlYW0uanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYixPQUFPLGdDQUFnQyxFQUFFLG1CQUFPLENBQUMsc0JBQVE7O0FBRXpEO0FBQ0EsWUFBWTs7QUFFWixRQUFRLE9BQU87QUFDZixNQUFNLFVBQVU7QUFDaEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLHVDQUF1QyxXQUFXOztBQUVsRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGhlbHNhL2FwcC8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY2FjaGVhYmxlLXJlcXVlc3Qvbm9kZV9tb2R1bGVzL2dldC1zdHJlYW0vYnVmZmVyLXN0cmVhbS5qcz9mMmU2Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcbmNvbnN0IHtQYXNzVGhyb3VnaDogUGFzc1Rocm91Z2hTdHJlYW19ID0gcmVxdWlyZSgnc3RyZWFtJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gb3B0aW9ucyA9PiB7XG5cdG9wdGlvbnMgPSB7Li4ub3B0aW9uc307XG5cblx0Y29uc3Qge2FycmF5fSA9IG9wdGlvbnM7XG5cdGxldCB7ZW5jb2Rpbmd9ID0gb3B0aW9ucztcblx0Y29uc3QgaXNCdWZmZXIgPSBlbmNvZGluZyA9PT0gJ2J1ZmZlcic7XG5cdGxldCBvYmplY3RNb2RlID0gZmFsc2U7XG5cblx0aWYgKGFycmF5KSB7XG5cdFx0b2JqZWN0TW9kZSA9ICEoZW5jb2RpbmcgfHwgaXNCdWZmZXIpO1xuXHR9IGVsc2Uge1xuXHRcdGVuY29kaW5nID0gZW5jb2RpbmcgfHwgJ3V0ZjgnO1xuXHR9XG5cblx0aWYgKGlzQnVmZmVyKSB7XG5cdFx0ZW5jb2RpbmcgPSBudWxsO1xuXHR9XG5cblx0Y29uc3Qgc3RyZWFtID0gbmV3IFBhc3NUaHJvdWdoU3RyZWFtKHtvYmplY3RNb2RlfSk7XG5cblx0aWYgKGVuY29kaW5nKSB7XG5cdFx0c3RyZWFtLnNldEVuY29kaW5nKGVuY29kaW5nKTtcblx0fVxuXG5cdGxldCBsZW5ndGggPSAwO1xuXHRjb25zdCBjaHVua3MgPSBbXTtcblxuXHRzdHJlYW0ub24oJ2RhdGEnLCBjaHVuayA9PiB7XG5cdFx0Y2h1bmtzLnB1c2goY2h1bmspO1xuXG5cdFx0aWYgKG9iamVjdE1vZGUpIHtcblx0XHRcdGxlbmd0aCA9IGNodW5rcy5sZW5ndGg7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGxlbmd0aCArPSBjaHVuay5sZW5ndGg7XG5cdFx0fVxuXHR9KTtcblxuXHRzdHJlYW0uZ2V0QnVmZmVyZWRWYWx1ZSA9ICgpID0+IHtcblx0XHRpZiAoYXJyYXkpIHtcblx0XHRcdHJldHVybiBjaHVua3M7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGlzQnVmZmVyID8gQnVmZmVyLmNvbmNhdChjaHVua3MsIGxlbmd0aCkgOiBjaHVua3Muam9pbignJyk7XG5cdH07XG5cblx0c3RyZWFtLmdldEJ1ZmZlcmVkTGVuZ3RoID0gKCkgPT4gbGVuZ3RoO1xuXG5cdHJldHVybiBzdHJlYW07XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../../node_modules/cacheable-request/node_modules/get-stream/buffer-stream.js\n");

/***/ }),

/***/ "(ssr)/../../../node_modules/cacheable-request/node_modules/get-stream/index.js":
/*!********************************************************************************!*\
  !*** ../../../node_modules/cacheable-request/node_modules/get-stream/index.js ***!
  \********************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\nconst {constants: BufferConstants} = __webpack_require__(/*! buffer */ \"buffer\");\nconst pump = __webpack_require__(/*! pump */ \"(ssr)/../../../node_modules/pump/index.js\");\nconst bufferStream = __webpack_require__(/*! ./buffer-stream */ \"(ssr)/../../../node_modules/cacheable-request/node_modules/get-stream/buffer-stream.js\");\n\nclass MaxBufferError extends Error {\n\tconstructor() {\n\t\tsuper('maxBuffer exceeded');\n\t\tthis.name = 'MaxBufferError';\n\t}\n}\n\nasync function getStream(inputStream, options) {\n\tif (!inputStream) {\n\t\treturn Promise.reject(new Error('Expected a stream'));\n\t}\n\n\toptions = {\n\t\tmaxBuffer: Infinity,\n\t\t...options\n\t};\n\n\tconst {maxBuffer} = options;\n\n\tlet stream;\n\tawait new Promise((resolve, reject) => {\n\t\tconst rejectPromise = error => {\n\t\t\t// Don't retrieve an oversized buffer.\n\t\t\tif (error && stream.getBufferedLength() <= BufferConstants.MAX_LENGTH) {\n\t\t\t\terror.bufferedData = stream.getBufferedValue();\n\t\t\t}\n\n\t\t\treject(error);\n\t\t};\n\n\t\tstream = pump(inputStream, bufferStream(options), error => {\n\t\t\tif (error) {\n\t\t\t\trejectPromise(error);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tresolve();\n\t\t});\n\n\t\tstream.on('data', () => {\n\t\t\tif (stream.getBufferedLength() > maxBuffer) {\n\t\t\t\trejectPromise(new MaxBufferError());\n\t\t\t}\n\t\t});\n\t});\n\n\treturn stream.getBufferedValue();\n}\n\nmodule.exports = getStream;\n// TODO: Remove this for the next major release\nmodule.exports[\"default\"] = getStream;\nmodule.exports.buffer = (stream, options) => getStream(stream, {...options, encoding: 'buffer'});\nmodule.exports.array = (stream, options) => getStream(stream, {...options, array: true});\nmodule.exports.MaxBufferError = MaxBufferError;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2NhY2hlYWJsZS1yZXF1ZXN0L25vZGVfbW9kdWxlcy9nZXQtc3RyZWFtL2luZGV4LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsT0FBTyw0QkFBNEIsRUFBRSxtQkFBTyxDQUFDLHNCQUFRO0FBQ3JELGFBQWEsbUJBQU8sQ0FBQyx1REFBTTtBQUMzQixxQkFBcUIsbUJBQU8sQ0FBQywrR0FBaUI7O0FBRTlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxRQUFRLFdBQVc7O0FBRW5CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRTs7QUFFRjtBQUNBOztBQUVBO0FBQ0E7QUFDQSx5QkFBc0I7QUFDdEIscUJBQXFCLDJDQUEyQywrQkFBK0I7QUFDL0Ysb0JBQW9CLDJDQUEyQyx3QkFBd0I7QUFDdkYsNkJBQTZCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGhlbHNhL2FwcC8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY2FjaGVhYmxlLXJlcXVlc3Qvbm9kZV9tb2R1bGVzL2dldC1zdHJlYW0vaW5kZXguanM/MmI4NiJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5jb25zdCB7Y29uc3RhbnRzOiBCdWZmZXJDb25zdGFudHN9ID0gcmVxdWlyZSgnYnVmZmVyJyk7XG5jb25zdCBwdW1wID0gcmVxdWlyZSgncHVtcCcpO1xuY29uc3QgYnVmZmVyU3RyZWFtID0gcmVxdWlyZSgnLi9idWZmZXItc3RyZWFtJyk7XG5cbmNsYXNzIE1heEJ1ZmZlckVycm9yIGV4dGVuZHMgRXJyb3Ige1xuXHRjb25zdHJ1Y3RvcigpIHtcblx0XHRzdXBlcignbWF4QnVmZmVyIGV4Y2VlZGVkJyk7XG5cdFx0dGhpcy5uYW1lID0gJ01heEJ1ZmZlckVycm9yJztcblx0fVxufVxuXG5hc3luYyBmdW5jdGlvbiBnZXRTdHJlYW0oaW5wdXRTdHJlYW0sIG9wdGlvbnMpIHtcblx0aWYgKCFpbnB1dFN0cmVhbSkge1xuXHRcdHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ0V4cGVjdGVkIGEgc3RyZWFtJykpO1xuXHR9XG5cblx0b3B0aW9ucyA9IHtcblx0XHRtYXhCdWZmZXI6IEluZmluaXR5LFxuXHRcdC4uLm9wdGlvbnNcblx0fTtcblxuXHRjb25zdCB7bWF4QnVmZmVyfSA9IG9wdGlvbnM7XG5cblx0bGV0IHN0cmVhbTtcblx0YXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdGNvbnN0IHJlamVjdFByb21pc2UgPSBlcnJvciA9PiB7XG5cdFx0XHQvLyBEb24ndCByZXRyaWV2ZSBhbiBvdmVyc2l6ZWQgYnVmZmVyLlxuXHRcdFx0aWYgKGVycm9yICYmIHN0cmVhbS5nZXRCdWZmZXJlZExlbmd0aCgpIDw9IEJ1ZmZlckNvbnN0YW50cy5NQVhfTEVOR1RIKSB7XG5cdFx0XHRcdGVycm9yLmJ1ZmZlcmVkRGF0YSA9IHN0cmVhbS5nZXRCdWZmZXJlZFZhbHVlKCk7XG5cdFx0XHR9XG5cblx0XHRcdHJlamVjdChlcnJvcik7XG5cdFx0fTtcblxuXHRcdHN0cmVhbSA9IHB1bXAoaW5wdXRTdHJlYW0sIGJ1ZmZlclN0cmVhbShvcHRpb25zKSwgZXJyb3IgPT4ge1xuXHRcdFx0aWYgKGVycm9yKSB7XG5cdFx0XHRcdHJlamVjdFByb21pc2UoZXJyb3IpO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdHJlc29sdmUoKTtcblx0XHR9KTtcblxuXHRcdHN0cmVhbS5vbignZGF0YScsICgpID0+IHtcblx0XHRcdGlmIChzdHJlYW0uZ2V0QnVmZmVyZWRMZW5ndGgoKSA+IG1heEJ1ZmZlcikge1xuXHRcdFx0XHRyZWplY3RQcm9taXNlKG5ldyBNYXhCdWZmZXJFcnJvcigpKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fSk7XG5cblx0cmV0dXJuIHN0cmVhbS5nZXRCdWZmZXJlZFZhbHVlKCk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZ2V0U3RyZWFtO1xuLy8gVE9ETzogUmVtb3ZlIHRoaXMgZm9yIHRoZSBuZXh0IG1ham9yIHJlbGVhc2Vcbm1vZHVsZS5leHBvcnRzLmRlZmF1bHQgPSBnZXRTdHJlYW07XG5tb2R1bGUuZXhwb3J0cy5idWZmZXIgPSAoc3RyZWFtLCBvcHRpb25zKSA9PiBnZXRTdHJlYW0oc3RyZWFtLCB7Li4ub3B0aW9ucywgZW5jb2Rpbmc6ICdidWZmZXInfSk7XG5tb2R1bGUuZXhwb3J0cy5hcnJheSA9IChzdHJlYW0sIG9wdGlvbnMpID0+IGdldFN0cmVhbShzdHJlYW0sIHsuLi5vcHRpb25zLCBhcnJheTogdHJ1ZX0pO1xubW9kdWxlLmV4cG9ydHMuTWF4QnVmZmVyRXJyb3IgPSBNYXhCdWZmZXJFcnJvcjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../../node_modules/cacheable-request/node_modules/get-stream/index.js\n");

/***/ }),

/***/ "(ssr)/../../../node_modules/cacheable-request/src/index.js":
/*!************************************************************!*\
  !*** ../../../node_modules/cacheable-request/src/index.js ***!
  \************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\nconst EventEmitter = __webpack_require__(/*! events */ \"events\");\nconst urlLib = __webpack_require__(/*! url */ \"url\");\nconst normalizeUrl = __webpack_require__(/*! normalize-url */ \"(ssr)/../../../node_modules/normalize-url/index.js\");\nconst getStream = __webpack_require__(/*! get-stream */ \"(ssr)/../../../node_modules/cacheable-request/node_modules/get-stream/index.js\");\nconst CachePolicy = __webpack_require__(/*! http-cache-semantics */ \"(ssr)/../../../node_modules/http-cache-semantics/index.js\");\nconst Response = __webpack_require__(/*! responselike */ \"(ssr)/../../../node_modules/responselike/src/index.js\");\nconst lowercaseKeys = __webpack_require__(/*! lowercase-keys */ \"(ssr)/../../../node_modules/lowercase-keys/index.js\");\nconst cloneResponse = __webpack_require__(/*! clone-response */ \"(ssr)/../../../node_modules/clone-response/src/index.js\");\nconst Keyv = __webpack_require__(/*! keyv */ \"(ssr)/../../../node_modules/keyv/src/index.js\");\n\nclass CacheableRequest {\n\tconstructor(request, cacheAdapter) {\n\t\tif (typeof request !== 'function') {\n\t\t\tthrow new TypeError('Parameter `request` must be a function');\n\t\t}\n\n\t\tthis.cache = new Keyv({\n\t\t\turi: typeof cacheAdapter === 'string' && cacheAdapter,\n\t\t\tstore: typeof cacheAdapter !== 'string' && cacheAdapter,\n\t\t\tnamespace: 'cacheable-request'\n\t\t});\n\n\t\treturn this.createCacheableRequest(request);\n\t}\n\n\tcreateCacheableRequest(request) {\n\t\treturn (opts, cb) => {\n\t\t\tlet url;\n\t\t\tif (typeof opts === 'string') {\n\t\t\t\turl = normalizeUrlObject(urlLib.parse(opts));\n\t\t\t\topts = {};\n\t\t\t} else if (opts instanceof urlLib.URL) {\n\t\t\t\turl = normalizeUrlObject(urlLib.parse(opts.toString()));\n\t\t\t\topts = {};\n\t\t\t} else {\n\t\t\t\tconst [pathname, ...searchParts] = (opts.path || '').split('?');\n\t\t\t\tconst search = searchParts.length > 0 ?\n\t\t\t\t\t`?${searchParts.join('?')}` :\n\t\t\t\t\t'';\n\t\t\t\turl = normalizeUrlObject({ ...opts, pathname, search });\n\t\t\t}\n\n\t\t\topts = {\n\t\t\t\theaders: {},\n\t\t\t\tmethod: 'GET',\n\t\t\t\tcache: true,\n\t\t\t\tstrictTtl: false,\n\t\t\t\tautomaticFailover: false,\n\t\t\t\t...opts,\n\t\t\t\t...urlObjectToRequestOptions(url)\n\t\t\t};\n\t\t\topts.headers = lowercaseKeys(opts.headers);\n\n\t\t\tconst ee = new EventEmitter();\n\t\t\tconst normalizedUrlString = normalizeUrl(\n\t\t\t\turlLib.format(url),\n\t\t\t\t{\n\t\t\t\t\tstripWWW: false,\n\t\t\t\t\tremoveTrailingSlash: false,\n\t\t\t\t\tstripAuthentication: false\n\t\t\t\t}\n\t\t\t);\n\t\t\tconst key = `${opts.method}:${normalizedUrlString}`;\n\t\t\tlet revalidate = false;\n\t\t\tlet madeRequest = false;\n\n\t\t\tconst makeRequest = opts => {\n\t\t\t\tmadeRequest = true;\n\t\t\t\tlet requestErrored = false;\n\t\t\t\tlet requestErrorCallback;\n\n\t\t\t\tconst requestErrorPromise = new Promise(resolve => {\n\t\t\t\t\trequestErrorCallback = () => {\n\t\t\t\t\t\tif (!requestErrored) {\n\t\t\t\t\t\t\trequestErrored = true;\n\t\t\t\t\t\t\tresolve();\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t});\n\n\t\t\t\tconst handler = response => {\n\t\t\t\t\tif (revalidate && !opts.forceRefresh) {\n\t\t\t\t\t\tresponse.status = response.statusCode;\n\t\t\t\t\t\tconst revalidatedPolicy = CachePolicy.fromObject(revalidate.cachePolicy).revalidatedPolicy(opts, response);\n\t\t\t\t\t\tif (!revalidatedPolicy.modified) {\n\t\t\t\t\t\t\tconst headers = revalidatedPolicy.policy.responseHeaders();\n\t\t\t\t\t\t\tresponse = new Response(revalidate.statusCode, headers, revalidate.body, revalidate.url);\n\t\t\t\t\t\t\tresponse.cachePolicy = revalidatedPolicy.policy;\n\t\t\t\t\t\t\tresponse.fromCache = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!response.fromCache) {\n\t\t\t\t\t\tresponse.cachePolicy = new CachePolicy(opts, response, opts);\n\t\t\t\t\t\tresponse.fromCache = false;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet clonedResponse;\n\t\t\t\t\tif (opts.cache && response.cachePolicy.storable()) {\n\t\t\t\t\t\tclonedResponse = cloneResponse(response);\n\n\t\t\t\t\t\t(async () => {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tconst bodyPromise = getStream.buffer(response);\n\n\t\t\t\t\t\t\t\tawait Promise.race([\n\t\t\t\t\t\t\t\t\trequestErrorPromise,\n\t\t\t\t\t\t\t\t\tnew Promise(resolve => response.once('end', resolve))\n\t\t\t\t\t\t\t\t]);\n\n\t\t\t\t\t\t\t\tif (requestErrored) {\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tconst body = await bodyPromise;\n\n\t\t\t\t\t\t\t\tconst value = {\n\t\t\t\t\t\t\t\t\tcachePolicy: response.cachePolicy.toObject(),\n\t\t\t\t\t\t\t\t\turl: response.url,\n\t\t\t\t\t\t\t\t\tstatusCode: response.fromCache ? revalidate.statusCode : response.statusCode,\n\t\t\t\t\t\t\t\t\tbody\n\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\tlet ttl = opts.strictTtl ? response.cachePolicy.timeToLive() : undefined;\n\t\t\t\t\t\t\t\tif (opts.maxTtl) {\n\t\t\t\t\t\t\t\t\tttl = ttl ? Math.min(ttl, opts.maxTtl) : opts.maxTtl;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tawait this.cache.set(key, value, ttl);\n\t\t\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\t\t\tee.emit('error', new CacheableRequest.CacheError(error));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})();\n\t\t\t\t\t} else if (opts.cache && revalidate) {\n\t\t\t\t\t\t(async () => {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tawait this.cache.delete(key);\n\t\t\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\t\t\tee.emit('error', new CacheableRequest.CacheError(error));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})();\n\t\t\t\t\t}\n\n\t\t\t\t\tee.emit('response', clonedResponse || response);\n\t\t\t\t\tif (typeof cb === 'function') {\n\t\t\t\t\t\tcb(clonedResponse || response);\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\ttry {\n\t\t\t\t\tconst req = request(opts, handler);\n\t\t\t\t\treq.once('error', requestErrorCallback);\n\t\t\t\t\treq.once('abort', requestErrorCallback);\n\t\t\t\t\tee.emit('request', req);\n\t\t\t\t} catch (error) {\n\t\t\t\t\tee.emit('error', new CacheableRequest.RequestError(error));\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t(async () => {\n\t\t\t\tconst get = async opts => {\n\t\t\t\t\tawait Promise.resolve();\n\n\t\t\t\t\tconst cacheEntry = opts.cache ? await this.cache.get(key) : undefined;\n\t\t\t\t\tif (typeof cacheEntry === 'undefined') {\n\t\t\t\t\t\treturn makeRequest(opts);\n\t\t\t\t\t}\n\n\t\t\t\t\tconst policy = CachePolicy.fromObject(cacheEntry.cachePolicy);\n\t\t\t\t\tif (policy.satisfiesWithoutRevalidation(opts) && !opts.forceRefresh) {\n\t\t\t\t\t\tconst headers = policy.responseHeaders();\n\t\t\t\t\t\tconst response = new Response(cacheEntry.statusCode, headers, cacheEntry.body, cacheEntry.url);\n\t\t\t\t\t\tresponse.cachePolicy = policy;\n\t\t\t\t\t\tresponse.fromCache = true;\n\n\t\t\t\t\t\tee.emit('response', response);\n\t\t\t\t\t\tif (typeof cb === 'function') {\n\t\t\t\t\t\t\tcb(response);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\trevalidate = cacheEntry;\n\t\t\t\t\t\topts.headers = policy.revalidationHeaders(opts);\n\t\t\t\t\t\tmakeRequest(opts);\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tconst errorHandler = error => ee.emit('error', new CacheableRequest.CacheError(error));\n\t\t\t\tthis.cache.once('error', errorHandler);\n\t\t\t\tee.on('response', () => this.cache.removeListener('error', errorHandler));\n\n\t\t\t\ttry {\n\t\t\t\t\tawait get(opts);\n\t\t\t\t} catch (error) {\n\t\t\t\t\tif (opts.automaticFailover && !madeRequest) {\n\t\t\t\t\t\tmakeRequest(opts);\n\t\t\t\t\t}\n\n\t\t\t\t\tee.emit('error', new CacheableRequest.CacheError(error));\n\t\t\t\t}\n\t\t\t})();\n\n\t\t\treturn ee;\n\t\t};\n\t}\n}\n\nfunction urlObjectToRequestOptions(url) {\n\tconst options = { ...url };\n\toptions.path = `${url.pathname || '/'}${url.search || ''}`;\n\tdelete options.pathname;\n\tdelete options.search;\n\treturn options;\n}\n\nfunction normalizeUrlObject(url) {\n\t// If url was parsed by url.parse or new URL:\n\t// - hostname will be set\n\t// - host will be hostname[:port]\n\t// - port will be set if it was explicit in the parsed string\n\t// Otherwise, url was from request options:\n\t// - hostname or host may be set\n\t// - host shall not have port encoded\n\treturn {\n\t\tprotocol: url.protocol,\n\t\tauth: url.auth,\n\t\thostname: url.hostname || url.host || 'localhost',\n\t\tport: url.port,\n\t\tpathname: url.pathname,\n\t\tsearch: url.search\n\t};\n}\n\nCacheableRequest.RequestError = class extends Error {\n\tconstructor(error) {\n\t\tsuper(error.message);\n\t\tthis.name = 'RequestError';\n\t\tObject.assign(this, error);\n\t}\n};\n\nCacheableRequest.CacheError = class extends Error {\n\tconstructor(error) {\n\t\tsuper(error.message);\n\t\tthis.name = 'CacheError';\n\t\tObject.assign(this, error);\n\t}\n};\n\nmodule.exports = CacheableRequest;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2NhY2hlYWJsZS1yZXF1ZXN0L3NyYy9pbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYixxQkFBcUIsbUJBQU8sQ0FBQyxzQkFBUTtBQUNyQyxlQUFlLG1CQUFPLENBQUMsZ0JBQUs7QUFDNUIscUJBQXFCLG1CQUFPLENBQUMseUVBQWU7QUFDNUMsa0JBQWtCLG1CQUFPLENBQUMsa0dBQVk7QUFDdEMsb0JBQW9CLG1CQUFPLENBQUMsdUZBQXNCO0FBQ2xELGlCQUFpQixtQkFBTyxDQUFDLDJFQUFjO0FBQ3ZDLHNCQUFzQixtQkFBTyxDQUFDLDJFQUFnQjtBQUM5QyxzQkFBc0IsbUJBQU8sQ0FBQywrRUFBZ0I7QUFDOUMsYUFBYSxtQkFBTyxDQUFDLDJEQUFNOztBQUUzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxTQUFTLHNCQUFzQjtBQUMvQjtBQUNBLCtCQUErQiwyQkFBMkI7QUFDMUQ7O0FBRUE7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsWUFBWSxHQUFHLG9CQUFvQjtBQUNyRDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsT0FBTztBQUNQLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxtQkFBbUI7QUFDbkIsbUJBQW1CLG9CQUFvQixFQUFFLGlCQUFpQjtBQUMxRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGhlbHNhL2FwcC8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY2FjaGVhYmxlLXJlcXVlc3Qvc3JjL2luZGV4LmpzPzJiNDEiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudHMnKTtcbmNvbnN0IHVybExpYiA9IHJlcXVpcmUoJ3VybCcpO1xuY29uc3Qgbm9ybWFsaXplVXJsID0gcmVxdWlyZSgnbm9ybWFsaXplLXVybCcpO1xuY29uc3QgZ2V0U3RyZWFtID0gcmVxdWlyZSgnZ2V0LXN0cmVhbScpO1xuY29uc3QgQ2FjaGVQb2xpY3kgPSByZXF1aXJlKCdodHRwLWNhY2hlLXNlbWFudGljcycpO1xuY29uc3QgUmVzcG9uc2UgPSByZXF1aXJlKCdyZXNwb25zZWxpa2UnKTtcbmNvbnN0IGxvd2VyY2FzZUtleXMgPSByZXF1aXJlKCdsb3dlcmNhc2Uta2V5cycpO1xuY29uc3QgY2xvbmVSZXNwb25zZSA9IHJlcXVpcmUoJ2Nsb25lLXJlc3BvbnNlJyk7XG5jb25zdCBLZXl2ID0gcmVxdWlyZSgna2V5dicpO1xuXG5jbGFzcyBDYWNoZWFibGVSZXF1ZXN0IHtcblx0Y29uc3RydWN0b3IocmVxdWVzdCwgY2FjaGVBZGFwdGVyKSB7XG5cdFx0aWYgKHR5cGVvZiByZXF1ZXN0ICE9PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdQYXJhbWV0ZXIgYHJlcXVlc3RgIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuXHRcdH1cblxuXHRcdHRoaXMuY2FjaGUgPSBuZXcgS2V5dih7XG5cdFx0XHR1cmk6IHR5cGVvZiBjYWNoZUFkYXB0ZXIgPT09ICdzdHJpbmcnICYmIGNhY2hlQWRhcHRlcixcblx0XHRcdHN0b3JlOiB0eXBlb2YgY2FjaGVBZGFwdGVyICE9PSAnc3RyaW5nJyAmJiBjYWNoZUFkYXB0ZXIsXG5cdFx0XHRuYW1lc3BhY2U6ICdjYWNoZWFibGUtcmVxdWVzdCdcblx0XHR9KTtcblxuXHRcdHJldHVybiB0aGlzLmNyZWF0ZUNhY2hlYWJsZVJlcXVlc3QocmVxdWVzdCk7XG5cdH1cblxuXHRjcmVhdGVDYWNoZWFibGVSZXF1ZXN0KHJlcXVlc3QpIHtcblx0XHRyZXR1cm4gKG9wdHMsIGNiKSA9PiB7XG5cdFx0XHRsZXQgdXJsO1xuXHRcdFx0aWYgKHR5cGVvZiBvcHRzID09PSAnc3RyaW5nJykge1xuXHRcdFx0XHR1cmwgPSBub3JtYWxpemVVcmxPYmplY3QodXJsTGliLnBhcnNlKG9wdHMpKTtcblx0XHRcdFx0b3B0cyA9IHt9O1xuXHRcdFx0fSBlbHNlIGlmIChvcHRzIGluc3RhbmNlb2YgdXJsTGliLlVSTCkge1xuXHRcdFx0XHR1cmwgPSBub3JtYWxpemVVcmxPYmplY3QodXJsTGliLnBhcnNlKG9wdHMudG9TdHJpbmcoKSkpO1xuXHRcdFx0XHRvcHRzID0ge307XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjb25zdCBbcGF0aG5hbWUsIC4uLnNlYXJjaFBhcnRzXSA9IChvcHRzLnBhdGggfHwgJycpLnNwbGl0KCc/Jyk7XG5cdFx0XHRcdGNvbnN0IHNlYXJjaCA9IHNlYXJjaFBhcnRzLmxlbmd0aCA+IDAgP1xuXHRcdFx0XHRcdGA/JHtzZWFyY2hQYXJ0cy5qb2luKCc/Jyl9YCA6XG5cdFx0XHRcdFx0Jyc7XG5cdFx0XHRcdHVybCA9IG5vcm1hbGl6ZVVybE9iamVjdCh7IC4uLm9wdHMsIHBhdGhuYW1lLCBzZWFyY2ggfSk7XG5cdFx0XHR9XG5cblx0XHRcdG9wdHMgPSB7XG5cdFx0XHRcdGhlYWRlcnM6IHt9LFxuXHRcdFx0XHRtZXRob2Q6ICdHRVQnLFxuXHRcdFx0XHRjYWNoZTogdHJ1ZSxcblx0XHRcdFx0c3RyaWN0VHRsOiBmYWxzZSxcblx0XHRcdFx0YXV0b21hdGljRmFpbG92ZXI6IGZhbHNlLFxuXHRcdFx0XHQuLi5vcHRzLFxuXHRcdFx0XHQuLi51cmxPYmplY3RUb1JlcXVlc3RPcHRpb25zKHVybClcblx0XHRcdH07XG5cdFx0XHRvcHRzLmhlYWRlcnMgPSBsb3dlcmNhc2VLZXlzKG9wdHMuaGVhZGVycyk7XG5cblx0XHRcdGNvbnN0IGVlID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXHRcdFx0Y29uc3Qgbm9ybWFsaXplZFVybFN0cmluZyA9IG5vcm1hbGl6ZVVybChcblx0XHRcdFx0dXJsTGliLmZvcm1hdCh1cmwpLFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0c3RyaXBXV1c6IGZhbHNlLFxuXHRcdFx0XHRcdHJlbW92ZVRyYWlsaW5nU2xhc2g6IGZhbHNlLFxuXHRcdFx0XHRcdHN0cmlwQXV0aGVudGljYXRpb246IGZhbHNlXG5cdFx0XHRcdH1cblx0XHRcdCk7XG5cdFx0XHRjb25zdCBrZXkgPSBgJHtvcHRzLm1ldGhvZH06JHtub3JtYWxpemVkVXJsU3RyaW5nfWA7XG5cdFx0XHRsZXQgcmV2YWxpZGF0ZSA9IGZhbHNlO1xuXHRcdFx0bGV0IG1hZGVSZXF1ZXN0ID0gZmFsc2U7XG5cblx0XHRcdGNvbnN0IG1ha2VSZXF1ZXN0ID0gb3B0cyA9PiB7XG5cdFx0XHRcdG1hZGVSZXF1ZXN0ID0gdHJ1ZTtcblx0XHRcdFx0bGV0IHJlcXVlc3RFcnJvcmVkID0gZmFsc2U7XG5cdFx0XHRcdGxldCByZXF1ZXN0RXJyb3JDYWxsYmFjaztcblxuXHRcdFx0XHRjb25zdCByZXF1ZXN0RXJyb3JQcm9taXNlID0gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG5cdFx0XHRcdFx0cmVxdWVzdEVycm9yQ2FsbGJhY2sgPSAoKSA9PiB7XG5cdFx0XHRcdFx0XHRpZiAoIXJlcXVlc3RFcnJvcmVkKSB7XG5cdFx0XHRcdFx0XHRcdHJlcXVlc3RFcnJvcmVkID0gdHJ1ZTtcblx0XHRcdFx0XHRcdFx0cmVzb2x2ZSgpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdGNvbnN0IGhhbmRsZXIgPSByZXNwb25zZSA9PiB7XG5cdFx0XHRcdFx0aWYgKHJldmFsaWRhdGUgJiYgIW9wdHMuZm9yY2VSZWZyZXNoKSB7XG5cdFx0XHRcdFx0XHRyZXNwb25zZS5zdGF0dXMgPSByZXNwb25zZS5zdGF0dXNDb2RlO1xuXHRcdFx0XHRcdFx0Y29uc3QgcmV2YWxpZGF0ZWRQb2xpY3kgPSBDYWNoZVBvbGljeS5mcm9tT2JqZWN0KHJldmFsaWRhdGUuY2FjaGVQb2xpY3kpLnJldmFsaWRhdGVkUG9saWN5KG9wdHMsIHJlc3BvbnNlKTtcblx0XHRcdFx0XHRcdGlmICghcmV2YWxpZGF0ZWRQb2xpY3kubW9kaWZpZWQpIHtcblx0XHRcdFx0XHRcdFx0Y29uc3QgaGVhZGVycyA9IHJldmFsaWRhdGVkUG9saWN5LnBvbGljeS5yZXNwb25zZUhlYWRlcnMoKTtcblx0XHRcdFx0XHRcdFx0cmVzcG9uc2UgPSBuZXcgUmVzcG9uc2UocmV2YWxpZGF0ZS5zdGF0dXNDb2RlLCBoZWFkZXJzLCByZXZhbGlkYXRlLmJvZHksIHJldmFsaWRhdGUudXJsKTtcblx0XHRcdFx0XHRcdFx0cmVzcG9uc2UuY2FjaGVQb2xpY3kgPSByZXZhbGlkYXRlZFBvbGljeS5wb2xpY3k7XG5cdFx0XHRcdFx0XHRcdHJlc3BvbnNlLmZyb21DYWNoZSA9IHRydWU7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKCFyZXNwb25zZS5mcm9tQ2FjaGUpIHtcblx0XHRcdFx0XHRcdHJlc3BvbnNlLmNhY2hlUG9saWN5ID0gbmV3IENhY2hlUG9saWN5KG9wdHMsIHJlc3BvbnNlLCBvcHRzKTtcblx0XHRcdFx0XHRcdHJlc3BvbnNlLmZyb21DYWNoZSA9IGZhbHNlO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGxldCBjbG9uZWRSZXNwb25zZTtcblx0XHRcdFx0XHRpZiAob3B0cy5jYWNoZSAmJiByZXNwb25zZS5jYWNoZVBvbGljeS5zdG9yYWJsZSgpKSB7XG5cdFx0XHRcdFx0XHRjbG9uZWRSZXNwb25zZSA9IGNsb25lUmVzcG9uc2UocmVzcG9uc2UpO1xuXG5cdFx0XHRcdFx0XHQoYXN5bmMgKCkgPT4ge1xuXHRcdFx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0XHRcdGNvbnN0IGJvZHlQcm9taXNlID0gZ2V0U3RyZWFtLmJ1ZmZlcihyZXNwb25zZSk7XG5cblx0XHRcdFx0XHRcdFx0XHRhd2FpdCBQcm9taXNlLnJhY2UoW1xuXHRcdFx0XHRcdFx0XHRcdFx0cmVxdWVzdEVycm9yUHJvbWlzZSxcblx0XHRcdFx0XHRcdFx0XHRcdG5ldyBQcm9taXNlKHJlc29sdmUgPT4gcmVzcG9uc2Uub25jZSgnZW5kJywgcmVzb2x2ZSkpXG5cdFx0XHRcdFx0XHRcdFx0XSk7XG5cblx0XHRcdFx0XHRcdFx0XHRpZiAocmVxdWVzdEVycm9yZWQpIHtcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRjb25zdCBib2R5ID0gYXdhaXQgYm9keVByb21pc2U7XG5cblx0XHRcdFx0XHRcdFx0XHRjb25zdCB2YWx1ZSA9IHtcblx0XHRcdFx0XHRcdFx0XHRcdGNhY2hlUG9saWN5OiByZXNwb25zZS5jYWNoZVBvbGljeS50b09iamVjdCgpLFxuXHRcdFx0XHRcdFx0XHRcdFx0dXJsOiByZXNwb25zZS51cmwsXG5cdFx0XHRcdFx0XHRcdFx0XHRzdGF0dXNDb2RlOiByZXNwb25zZS5mcm9tQ2FjaGUgPyByZXZhbGlkYXRlLnN0YXR1c0NvZGUgOiByZXNwb25zZS5zdGF0dXNDb2RlLFxuXHRcdFx0XHRcdFx0XHRcdFx0Ym9keVxuXHRcdFx0XHRcdFx0XHRcdH07XG5cblx0XHRcdFx0XHRcdFx0XHRsZXQgdHRsID0gb3B0cy5zdHJpY3RUdGwgPyByZXNwb25zZS5jYWNoZVBvbGljeS50aW1lVG9MaXZlKCkgOiB1bmRlZmluZWQ7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKG9wdHMubWF4VHRsKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHR0dGwgPSB0dGwgPyBNYXRoLm1pbih0dGwsIG9wdHMubWF4VHRsKSA6IG9wdHMubWF4VHRsO1xuXHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMuY2FjaGUuc2V0KGtleSwgdmFsdWUsIHR0bCk7XG5cdFx0XHRcdFx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRcdFx0XHRcdFx0ZWUuZW1pdCgnZXJyb3InLCBuZXcgQ2FjaGVhYmxlUmVxdWVzdC5DYWNoZUVycm9yKGVycm9yKSk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0pKCk7XG5cdFx0XHRcdFx0fSBlbHNlIGlmIChvcHRzLmNhY2hlICYmIHJldmFsaWRhdGUpIHtcblx0XHRcdFx0XHRcdChhc3luYyAoKSA9PiB7XG5cdFx0XHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5jYWNoZS5kZWxldGUoa2V5KTtcblx0XHRcdFx0XHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdFx0XHRcdFx0XHRlZS5lbWl0KCdlcnJvcicsIG5ldyBDYWNoZWFibGVSZXF1ZXN0LkNhY2hlRXJyb3IoZXJyb3IpKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSkoKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRlZS5lbWl0KCdyZXNwb25zZScsIGNsb25lZFJlc3BvbnNlIHx8IHJlc3BvbnNlKTtcblx0XHRcdFx0XHRpZiAodHlwZW9mIGNiID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdFx0XHRjYihjbG9uZWRSZXNwb25zZSB8fCByZXNwb25zZSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9O1xuXG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0Y29uc3QgcmVxID0gcmVxdWVzdChvcHRzLCBoYW5kbGVyKTtcblx0XHRcdFx0XHRyZXEub25jZSgnZXJyb3InLCByZXF1ZXN0RXJyb3JDYWxsYmFjayk7XG5cdFx0XHRcdFx0cmVxLm9uY2UoJ2Fib3J0JywgcmVxdWVzdEVycm9yQ2FsbGJhY2spO1xuXHRcdFx0XHRcdGVlLmVtaXQoJ3JlcXVlc3QnLCByZXEpO1xuXHRcdFx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0XHRcdGVlLmVtaXQoJ2Vycm9yJywgbmV3IENhY2hlYWJsZVJlcXVlc3QuUmVxdWVzdEVycm9yKGVycm9yKSk7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cblx0XHRcdChhc3luYyAoKSA9PiB7XG5cdFx0XHRcdGNvbnN0IGdldCA9IGFzeW5jIG9wdHMgPT4ge1xuXHRcdFx0XHRcdGF3YWl0IFByb21pc2UucmVzb2x2ZSgpO1xuXG5cdFx0XHRcdFx0Y29uc3QgY2FjaGVFbnRyeSA9IG9wdHMuY2FjaGUgPyBhd2FpdCB0aGlzLmNhY2hlLmdldChrZXkpIDogdW5kZWZpbmVkO1xuXHRcdFx0XHRcdGlmICh0eXBlb2YgY2FjaGVFbnRyeSA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRcdFx0XHRcdHJldHVybiBtYWtlUmVxdWVzdChvcHRzKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRjb25zdCBwb2xpY3kgPSBDYWNoZVBvbGljeS5mcm9tT2JqZWN0KGNhY2hlRW50cnkuY2FjaGVQb2xpY3kpO1xuXHRcdFx0XHRcdGlmIChwb2xpY3kuc2F0aXNmaWVzV2l0aG91dFJldmFsaWRhdGlvbihvcHRzKSAmJiAhb3B0cy5mb3JjZVJlZnJlc2gpIHtcblx0XHRcdFx0XHRcdGNvbnN0IGhlYWRlcnMgPSBwb2xpY3kucmVzcG9uc2VIZWFkZXJzKCk7XG5cdFx0XHRcdFx0XHRjb25zdCByZXNwb25zZSA9IG5ldyBSZXNwb25zZShjYWNoZUVudHJ5LnN0YXR1c0NvZGUsIGhlYWRlcnMsIGNhY2hlRW50cnkuYm9keSwgY2FjaGVFbnRyeS51cmwpO1xuXHRcdFx0XHRcdFx0cmVzcG9uc2UuY2FjaGVQb2xpY3kgPSBwb2xpY3k7XG5cdFx0XHRcdFx0XHRyZXNwb25zZS5mcm9tQ2FjaGUgPSB0cnVlO1xuXG5cdFx0XHRcdFx0XHRlZS5lbWl0KCdyZXNwb25zZScsIHJlc3BvbnNlKTtcblx0XHRcdFx0XHRcdGlmICh0eXBlb2YgY2IgPT09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0XHRcdFx0Y2IocmVzcG9uc2UpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRyZXZhbGlkYXRlID0gY2FjaGVFbnRyeTtcblx0XHRcdFx0XHRcdG9wdHMuaGVhZGVycyA9IHBvbGljeS5yZXZhbGlkYXRpb25IZWFkZXJzKG9wdHMpO1xuXHRcdFx0XHRcdFx0bWFrZVJlcXVlc3Qob3B0cyk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9O1xuXG5cdFx0XHRcdGNvbnN0IGVycm9ySGFuZGxlciA9IGVycm9yID0+IGVlLmVtaXQoJ2Vycm9yJywgbmV3IENhY2hlYWJsZVJlcXVlc3QuQ2FjaGVFcnJvcihlcnJvcikpO1xuXHRcdFx0XHR0aGlzLmNhY2hlLm9uY2UoJ2Vycm9yJywgZXJyb3JIYW5kbGVyKTtcblx0XHRcdFx0ZWUub24oJ3Jlc3BvbnNlJywgKCkgPT4gdGhpcy5jYWNoZS5yZW1vdmVMaXN0ZW5lcignZXJyb3InLCBlcnJvckhhbmRsZXIpKTtcblxuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdGF3YWl0IGdldChvcHRzKTtcblx0XHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdFx0XHRpZiAob3B0cy5hdXRvbWF0aWNGYWlsb3ZlciAmJiAhbWFkZVJlcXVlc3QpIHtcblx0XHRcdFx0XHRcdG1ha2VSZXF1ZXN0KG9wdHMpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGVlLmVtaXQoJ2Vycm9yJywgbmV3IENhY2hlYWJsZVJlcXVlc3QuQ2FjaGVFcnJvcihlcnJvcikpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KSgpO1xuXG5cdFx0XHRyZXR1cm4gZWU7XG5cdFx0fTtcblx0fVxufVxuXG5mdW5jdGlvbiB1cmxPYmplY3RUb1JlcXVlc3RPcHRpb25zKHVybCkge1xuXHRjb25zdCBvcHRpb25zID0geyAuLi51cmwgfTtcblx0b3B0aW9ucy5wYXRoID0gYCR7dXJsLnBhdGhuYW1lIHx8ICcvJ30ke3VybC5zZWFyY2ggfHwgJyd9YDtcblx0ZGVsZXRlIG9wdGlvbnMucGF0aG5hbWU7XG5cdGRlbGV0ZSBvcHRpb25zLnNlYXJjaDtcblx0cmV0dXJuIG9wdGlvbnM7XG59XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZVVybE9iamVjdCh1cmwpIHtcblx0Ly8gSWYgdXJsIHdhcyBwYXJzZWQgYnkgdXJsLnBhcnNlIG9yIG5ldyBVUkw6XG5cdC8vIC0gaG9zdG5hbWUgd2lsbCBiZSBzZXRcblx0Ly8gLSBob3N0IHdpbGwgYmUgaG9zdG5hbWVbOnBvcnRdXG5cdC8vIC0gcG9ydCB3aWxsIGJlIHNldCBpZiBpdCB3YXMgZXhwbGljaXQgaW4gdGhlIHBhcnNlZCBzdHJpbmdcblx0Ly8gT3RoZXJ3aXNlLCB1cmwgd2FzIGZyb20gcmVxdWVzdCBvcHRpb25zOlxuXHQvLyAtIGhvc3RuYW1lIG9yIGhvc3QgbWF5IGJlIHNldFxuXHQvLyAtIGhvc3Qgc2hhbGwgbm90IGhhdmUgcG9ydCBlbmNvZGVkXG5cdHJldHVybiB7XG5cdFx0cHJvdG9jb2w6IHVybC5wcm90b2NvbCxcblx0XHRhdXRoOiB1cmwuYXV0aCxcblx0XHRob3N0bmFtZTogdXJsLmhvc3RuYW1lIHx8IHVybC5ob3N0IHx8ICdsb2NhbGhvc3QnLFxuXHRcdHBvcnQ6IHVybC5wb3J0LFxuXHRcdHBhdGhuYW1lOiB1cmwucGF0aG5hbWUsXG5cdFx0c2VhcmNoOiB1cmwuc2VhcmNoXG5cdH07XG59XG5cbkNhY2hlYWJsZVJlcXVlc3QuUmVxdWVzdEVycm9yID0gY2xhc3MgZXh0ZW5kcyBFcnJvciB7XG5cdGNvbnN0cnVjdG9yKGVycm9yKSB7XG5cdFx0c3VwZXIoZXJyb3IubWVzc2FnZSk7XG5cdFx0dGhpcy5uYW1lID0gJ1JlcXVlc3RFcnJvcic7XG5cdFx0T2JqZWN0LmFzc2lnbih0aGlzLCBlcnJvcik7XG5cdH1cbn07XG5cbkNhY2hlYWJsZVJlcXVlc3QuQ2FjaGVFcnJvciA9IGNsYXNzIGV4dGVuZHMgRXJyb3Ige1xuXHRjb25zdHJ1Y3RvcihlcnJvcikge1xuXHRcdHN1cGVyKGVycm9yLm1lc3NhZ2UpO1xuXHRcdHRoaXMubmFtZSA9ICdDYWNoZUVycm9yJztcblx0XHRPYmplY3QuYXNzaWduKHRoaXMsIGVycm9yKTtcblx0fVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBDYWNoZWFibGVSZXF1ZXN0O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../../node_modules/cacheable-request/src/index.js\n");

/***/ })

};
;