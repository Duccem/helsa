"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@stream-io";
exports.ids = ["vendor-chunks/@stream-io"];
exports.modules = {

/***/ "(ssr)/../../../node_modules/@stream-io/video-client/dist/index.es.js":
/*!**********************************************************************!*\
  !*** ../../../node_modules/@stream-io/video-client/dist/index.es.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AudioSettingsRequestDefaultDeviceEnum: () => (/* binding */ AudioSettingsRequestDefaultDeviceEnum),\n/* harmony export */   AudioSettingsResponseDefaultDeviceEnum: () => (/* binding */ AudioSettingsResponseDefaultDeviceEnum),\n/* harmony export */   AxiosError: () => (/* reexport safe */ axios__WEBPACK_IMPORTED_MODULE_1__.AxiosError),\n/* harmony export */   BlockListOptionsBehaviorEnum: () => (/* binding */ BlockListOptionsBehaviorEnum),\n/* harmony export */   Browsers: () => (/* binding */ browsers),\n/* harmony export */   Call: () => (/* binding */ Call),\n/* harmony export */   CallState: () => (/* binding */ CallState),\n/* harmony export */   CallType: () => (/* binding */ CallType),\n/* harmony export */   CallTypes: () => (/* binding */ CallTypes),\n/* harmony export */   CallingState: () => (/* binding */ CallingState),\n/* harmony export */   CameraManager: () => (/* binding */ CameraManager),\n/* harmony export */   CameraManagerState: () => (/* binding */ CameraManagerState),\n/* harmony export */   ChannelConfigWithInfoAutomodBehaviorEnum: () => (/* binding */ ChannelConfigWithInfoAutomodBehaviorEnum),\n/* harmony export */   ChannelConfigWithInfoAutomodEnum: () => (/* binding */ ChannelConfigWithInfoAutomodEnum),\n/* harmony export */   ChannelConfigWithInfoBlocklistBehaviorEnum: () => (/* binding */ ChannelConfigWithInfoBlocklistBehaviorEnum),\n/* harmony export */   CreateDeviceRequestPushProviderEnum: () => (/* binding */ CreateDeviceRequestPushProviderEnum),\n/* harmony export */   DebounceType: () => (/* binding */ DebounceType),\n/* harmony export */   DynascaleManager: () => (/* binding */ DynascaleManager),\n/* harmony export */   ErrorFromResponse: () => (/* binding */ ErrorFromResponse),\n/* harmony export */   InputMediaDeviceManager: () => (/* binding */ InputMediaDeviceManager),\n/* harmony export */   InputMediaDeviceManagerState: () => (/* binding */ InputMediaDeviceManagerState),\n/* harmony export */   MicrophoneManager: () => (/* binding */ MicrophoneManager),\n/* harmony export */   MicrophoneManagerState: () => (/* binding */ MicrophoneManagerState),\n/* harmony export */   NoiseCancellationSettingsModeEnum: () => (/* binding */ NoiseCancellationSettingsModeEnum),\n/* harmony export */   OwnCapability: () => (/* binding */ OwnCapability),\n/* harmony export */   RecordSettingsRequestModeEnum: () => (/* binding */ RecordSettingsRequestModeEnum),\n/* harmony export */   RecordSettingsRequestQualityEnum: () => (/* binding */ RecordSettingsRequestQualityEnum),\n/* harmony export */   RxUtils: () => (/* binding */ rxUtils),\n/* harmony export */   ScreenShareManager: () => (/* binding */ ScreenShareManager),\n/* harmony export */   ScreenShareState: () => (/* binding */ ScreenShareState),\n/* harmony export */   SfuEvents: () => (/* binding */ events),\n/* harmony export */   SfuModels: () => (/* binding */ models),\n/* harmony export */   SpeakerManager: () => (/* binding */ SpeakerManager),\n/* harmony export */   SpeakerState: () => (/* binding */ SpeakerState),\n/* harmony export */   StreamSfuClient: () => (/* binding */ StreamSfuClient),\n/* harmony export */   StreamVideoClient: () => (/* binding */ StreamVideoClient),\n/* harmony export */   StreamVideoReadOnlyStateStore: () => (/* binding */ StreamVideoReadOnlyStateStore),\n/* harmony export */   StreamVideoWriteableStateStore: () => (/* binding */ StreamVideoWriteableStateStore),\n/* harmony export */   TranscriptionSettingsRequestModeEnum: () => (/* binding */ TranscriptionSettingsRequestModeEnum),\n/* harmony export */   TranscriptionSettingsResponseModeEnum: () => (/* binding */ TranscriptionSettingsResponseModeEnum),\n/* harmony export */   VideoSettingsRequestCameraFacingEnum: () => (/* binding */ VideoSettingsRequestCameraFacingEnum),\n/* harmony export */   VideoSettingsResponseCameraFacingEnum: () => (/* binding */ VideoSettingsResponseCameraFacingEnum),\n/* harmony export */   ViewportTracker: () => (/* binding */ ViewportTracker),\n/* harmony export */   VisibilityState: () => (/* binding */ VisibilityState),\n/* harmony export */   checkIfAudioOutputChangeSupported: () => (/* binding */ checkIfAudioOutputChangeSupported),\n/* harmony export */   combineComparators: () => (/* binding */ combineComparators),\n/* harmony export */   conditional: () => (/* binding */ conditional),\n/* harmony export */   createSoundDetector: () => (/* binding */ createSoundDetector),\n/* harmony export */   defaultSortPreset: () => (/* binding */ defaultSortPreset),\n/* harmony export */   descending: () => (/* binding */ descending),\n/* harmony export */   deviceIds$: () => (/* binding */ deviceIds$),\n/* harmony export */   disposeOfMediaStream: () => (/* binding */ disposeOfMediaStream),\n/* harmony export */   dominantSpeaker: () => (/* binding */ dominantSpeaker),\n/* harmony export */   getAudioBrowserPermission: () => (/* binding */ getAudioBrowserPermission),\n/* harmony export */   getAudioDevices: () => (/* binding */ getAudioDevices),\n/* harmony export */   getAudioOutputDevices: () => (/* binding */ getAudioOutputDevices),\n/* harmony export */   getAudioStream: () => (/* binding */ getAudioStream),\n/* harmony export */   getClientDetails: () => (/* binding */ getClientDetails),\n/* harmony export */   getDeviceInfo: () => (/* binding */ getDeviceInfo),\n/* harmony export */   getDeviceState: () => (/* binding */ getDeviceState),\n/* harmony export */   getLogLevel: () => (/* binding */ getLogLevel),\n/* harmony export */   getLogger: () => (/* binding */ getLogger),\n/* harmony export */   getOSInfo: () => (/* binding */ getOSInfo),\n/* harmony export */   getScreenShareStream: () => (/* binding */ getScreenShareStream),\n/* harmony export */   getSdkInfo: () => (/* binding */ getSdkInfo),\n/* harmony export */   getVideoBrowserPermission: () => (/* binding */ getVideoBrowserPermission),\n/* harmony export */   getVideoDevices: () => (/* binding */ getVideoDevices),\n/* harmony export */   getVideoStream: () => (/* binding */ getVideoStream),\n/* harmony export */   getWebRTCInfo: () => (/* binding */ getWebRTCInfo),\n/* harmony export */   hasAudio: () => (/* binding */ hasAudio),\n/* harmony export */   hasScreenShare: () => (/* binding */ hasScreenShare),\n/* harmony export */   hasScreenShareAudio: () => (/* binding */ hasScreenShareAudio),\n/* harmony export */   hasVideo: () => (/* binding */ hasVideo),\n/* harmony export */   isPinned: () => (/* binding */ isPinned),\n/* harmony export */   livestreamOrAudioRoomSortPreset: () => (/* binding */ livestreamOrAudioRoomSortPreset),\n/* harmony export */   logLevels: () => (/* binding */ logLevels),\n/* harmony export */   logToConsole: () => (/* binding */ logToConsole),\n/* harmony export */   name: () => (/* binding */ name),\n/* harmony export */   noopComparator: () => (/* binding */ noopComparator),\n/* harmony export */   paginatedLayoutSortPreset: () => (/* binding */ paginatedLayoutSortPreset),\n/* harmony export */   pinned: () => (/* binding */ pinned),\n/* harmony export */   publishingAudio: () => (/* binding */ publishingAudio),\n/* harmony export */   publishingVideo: () => (/* binding */ publishingVideo),\n/* harmony export */   reactionType: () => (/* binding */ reactionType),\n/* harmony export */   role: () => (/* binding */ role),\n/* harmony export */   screenSharing: () => (/* binding */ screenSharing),\n/* harmony export */   setDeviceInfo: () => (/* binding */ setDeviceInfo),\n/* harmony export */   setLogLevel: () => (/* binding */ setLogLevel),\n/* harmony export */   setLogger: () => (/* binding */ setLogger),\n/* harmony export */   setOSInfo: () => (/* binding */ setOSInfo),\n/* harmony export */   setPowerState: () => (/* binding */ setPowerState),\n/* harmony export */   setSdkInfo: () => (/* binding */ setSdkInfo),\n/* harmony export */   setThermalState: () => (/* binding */ setThermalState),\n/* harmony export */   setWebRTCInfo: () => (/* binding */ setWebRTCInfo),\n/* harmony export */   speakerLayoutSortPreset: () => (/* binding */ speakerLayoutSortPreset),\n/* harmony export */   speaking: () => (/* binding */ speaking)\n/* harmony export */ });\n/* harmony import */ var webrtc_adapter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! webrtc-adapter */ \"(ssr)/../../../node_modules/webrtc-adapter/src/js/adapter_core.js\");\n/* harmony import */ var _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @protobuf-ts/runtime */ \"(ssr)/../../../node_modules/@protobuf-ts/runtime/build/es2015/message-type.js\");\n/* harmony import */ var _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @protobuf-ts/runtime */ \"(ssr)/../../../node_modules/@protobuf-ts/runtime/build/es2015/json-typings.js\");\n/* harmony import */ var _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @protobuf-ts/runtime */ \"(ssr)/../../../node_modules/@protobuf-ts/runtime/build/es2015/pb-long.js\");\n/* harmony import */ var _protobuf_ts_runtime_rpc__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @protobuf-ts/runtime-rpc */ \"(ssr)/../../../node_modules/@protobuf-ts/runtime-rpc/build/es2015/service-type.js\");\n/* harmony import */ var _protobuf_ts_runtime_rpc__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @protobuf-ts/runtime-rpc */ \"(ssr)/../../../node_modules/@protobuf-ts/runtime-rpc/build/es2015/rpc-interceptor.js\");\n/* harmony import */ var _protobuf_ts_runtime_rpc__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @protobuf-ts/runtime-rpc */ \"(ssr)/../../../node_modules/@protobuf-ts/runtime-rpc/build/es2015/rpc-error.js\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! axios */ \"(ssr)/../../../node_modules/axios/lib/axios.js\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! axios */ \"(ssr)/../../../node_modules/axios/index.js\");\n/* harmony import */ var _protobuf_ts_twirp_transport__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @protobuf-ts/twirp-transport */ \"(ssr)/../../../node_modules/@protobuf-ts/twirp-transport/build/es2015/twirp-transport.js\");\n/* harmony import */ var _protobuf_ts_twirp_transport__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @protobuf-ts/twirp-transport */ \"(ssr)/../../../node_modules/@protobuf-ts/twirp-transport/build/es2015/twitch-twirp-error-code.js\");\n/* harmony import */ var ua_parser_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ua-parser-js */ \"(ssr)/../../../node_modules/ua-parser-js/src/ua-parser.js\");\n/* harmony import */ var ua_parser_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(ua_parser_js__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! __barrel_optimize__?names=BehaviorSubject,ReplaySubject,combineLatest,concatMap,debounceTime,distinctUntilChanged,distinctUntilKeyChanged,from,fromEvent,fromEventPattern,map,merge,of,pairwise,shareReplay,startWith,takeWhile!=!rxjs */ \"(ssr)/../../../node_modules/rxjs/dist/esm5/internal/ReplaySubject.js\");\n/* harmony import */ var _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! __barrel_optimize__?names=BehaviorSubject,ReplaySubject,combineLatest,concatMap,debounceTime,distinctUntilChanged,distinctUntilKeyChanged,from,fromEvent,fromEventPattern,map,merge,of,pairwise,shareReplay,startWith,takeWhile!=!rxjs */ \"(ssr)/../../../node_modules/rxjs/dist/esm5/internal/observable/combineLatest.js\");\n/* harmony import */ var _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! __barrel_optimize__?names=BehaviorSubject,ReplaySubject,combineLatest,concatMap,debounceTime,distinctUntilChanged,distinctUntilKeyChanged,from,fromEvent,fromEventPattern,map,merge,of,pairwise,shareReplay,startWith,takeWhile!=!rxjs */ \"(ssr)/../../../node_modules/rxjs/dist/esm5/internal/BehaviorSubject.js\");\n/* harmony import */ var _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! __barrel_optimize__?names=BehaviorSubject,ReplaySubject,combineLatest,concatMap,debounceTime,distinctUntilChanged,distinctUntilKeyChanged,from,fromEvent,fromEventPattern,map,merge,of,pairwise,shareReplay,startWith,takeWhile!=!rxjs */ \"(ssr)/../../../node_modules/rxjs/dist/esm5/internal/operators/map.js\");\n/* harmony import */ var _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! __barrel_optimize__?names=BehaviorSubject,ReplaySubject,combineLatest,concatMap,debounceTime,distinctUntilChanged,distinctUntilKeyChanged,from,fromEvent,fromEventPattern,map,merge,of,pairwise,shareReplay,startWith,takeWhile!=!rxjs */ \"(ssr)/../../../node_modules/rxjs/dist/esm5/internal/operators/shareReplay.js\");\n/* harmony import */ var _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! __barrel_optimize__?names=BehaviorSubject,ReplaySubject,combineLatest,concatMap,debounceTime,distinctUntilChanged,distinctUntilKeyChanged,from,fromEvent,fromEventPattern,map,merge,of,pairwise,shareReplay,startWith,takeWhile!=!rxjs */ \"(ssr)/../../../node_modules/rxjs/dist/esm5/internal/operators/distinctUntilChanged.js\");\n/* harmony import */ var _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! __barrel_optimize__?names=BehaviorSubject,ReplaySubject,combineLatest,concatMap,debounceTime,distinctUntilChanged,distinctUntilKeyChanged,from,fromEvent,fromEventPattern,map,merge,of,pairwise,shareReplay,startWith,takeWhile!=!rxjs */ \"(ssr)/../../../node_modules/rxjs/dist/esm5/internal/operators/takeWhile.js\");\n/* harmony import */ var _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! __barrel_optimize__?names=BehaviorSubject,ReplaySubject,combineLatest,concatMap,debounceTime,distinctUntilChanged,distinctUntilKeyChanged,from,fromEvent,fromEventPattern,map,merge,of,pairwise,shareReplay,startWith,takeWhile!=!rxjs */ \"(ssr)/../../../node_modules/rxjs/dist/esm5/internal/operators/distinctUntilKeyChanged.js\");\n/* harmony import */ var _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! __barrel_optimize__?names=BehaviorSubject,ReplaySubject,combineLatest,concatMap,debounceTime,distinctUntilChanged,distinctUntilKeyChanged,from,fromEvent,fromEventPattern,map,merge,of,pairwise,shareReplay,startWith,takeWhile!=!rxjs */ \"(ssr)/../../../node_modules/rxjs/dist/esm5/internal/observable/fromEventPattern.js\");\n/* harmony import */ var _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! __barrel_optimize__?names=BehaviorSubject,ReplaySubject,combineLatest,concatMap,debounceTime,distinctUntilChanged,distinctUntilKeyChanged,from,fromEvent,fromEventPattern,map,merge,of,pairwise,shareReplay,startWith,takeWhile!=!rxjs */ \"(ssr)/../../../node_modules/rxjs/dist/esm5/internal/observable/from.js\");\n/* harmony import */ var _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! __barrel_optimize__?names=BehaviorSubject,ReplaySubject,combineLatest,concatMap,debounceTime,distinctUntilChanged,distinctUntilKeyChanged,from,fromEvent,fromEventPattern,map,merge,of,pairwise,shareReplay,startWith,takeWhile!=!rxjs */ \"(ssr)/../../../node_modules/rxjs/dist/esm5/internal/observable/fromEvent.js\");\n/* harmony import */ var _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! __barrel_optimize__?names=BehaviorSubject,ReplaySubject,combineLatest,concatMap,debounceTime,distinctUntilChanged,distinctUntilKeyChanged,from,fromEvent,fromEventPattern,map,merge,of,pairwise,shareReplay,startWith,takeWhile!=!rxjs */ \"(ssr)/../../../node_modules/rxjs/dist/esm5/internal/operators/debounceTime.js\");\n/* harmony import */ var _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! __barrel_optimize__?names=BehaviorSubject,ReplaySubject,combineLatest,concatMap,debounceTime,distinctUntilChanged,distinctUntilKeyChanged,from,fromEvent,fromEventPattern,map,merge,of,pairwise,shareReplay,startWith,takeWhile!=!rxjs */ \"(ssr)/../../../node_modules/rxjs/dist/esm5/internal/observable/merge.js\");\n/* harmony import */ var _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! __barrel_optimize__?names=BehaviorSubject,ReplaySubject,combineLatest,concatMap,debounceTime,distinctUntilChanged,distinctUntilKeyChanged,from,fromEvent,fromEventPattern,map,merge,of,pairwise,shareReplay,startWith,takeWhile!=!rxjs */ \"(ssr)/../../../node_modules/rxjs/dist/esm5/internal/operators/startWith.js\");\n/* harmony import */ var _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! __barrel_optimize__?names=BehaviorSubject,ReplaySubject,combineLatest,concatMap,debounceTime,distinctUntilChanged,distinctUntilKeyChanged,from,fromEvent,fromEventPattern,map,merge,of,pairwise,shareReplay,startWith,takeWhile!=!rxjs */ \"(ssr)/../../../node_modules/rxjs/dist/esm5/internal/operators/concatMap.js\");\n/* harmony import */ var _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! __barrel_optimize__?names=BehaviorSubject,ReplaySubject,combineLatest,concatMap,debounceTime,distinctUntilChanged,distinctUntilKeyChanged,from,fromEvent,fromEventPattern,map,merge,of,pairwise,shareReplay,startWith,takeWhile!=!rxjs */ \"(ssr)/../../../node_modules/rxjs/dist/esm5/internal/operators/pairwise.js\");\n/* harmony import */ var _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! __barrel_optimize__?names=BehaviorSubject,ReplaySubject,combineLatest,concatMap,debounceTime,distinctUntilChanged,distinctUntilKeyChanged,from,fromEvent,fromEventPattern,map,merge,of,pairwise,shareReplay,startWith,takeWhile!=!rxjs */ \"(ssr)/../../../node_modules/rxjs/dist/esm5/internal/observable/of.js\");\n/* harmony import */ var sdp_transform__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! sdp-transform */ \"(ssr)/../../../node_modules/sdp-transform/lib/index.js\");\n/* harmony import */ var https__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! https */ \"https\");\n/* harmony import */ var https__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(https__WEBPACK_IMPORTED_MODULE_4__);\n\n\n\n\n\n\n\n\n\n\n/* tslint:disable */ /* eslint-disable */ /**\n * @export\n */ const AudioSettingsRequestDefaultDeviceEnum = {\n    SPEAKER: \"speaker\",\n    EARPIECE: \"earpiece\"\n};\n/**\n * @export\n */ const AudioSettingsResponseDefaultDeviceEnum = {\n    SPEAKER: \"speaker\",\n    EARPIECE: \"earpiece\"\n};\n/**\n * @export\n */ const BlockListOptionsBehaviorEnum = {\n    FLAG: \"flag\",\n    BLOCK: \"block\",\n    SHADOW_BLOCK: \"shadow_block\"\n};\n/**\n * @export\n */ const ChannelConfigWithInfoAutomodEnum = {\n    DISABLED: \"disabled\",\n    SIMPLE: \"simple\",\n    AI: \"AI\"\n};\n/**\n * @export\n */ const ChannelConfigWithInfoAutomodBehaviorEnum = {\n    FLAG: \"flag\",\n    BLOCK: \"block\",\n    SHADOW_BLOCK: \"shadow_block\"\n};\n/**\n * @export\n */ const ChannelConfigWithInfoBlocklistBehaviorEnum = {\n    FLAG: \"flag\",\n    BLOCK: \"block\",\n    SHADOW_BLOCK: \"shadow_block\"\n};\n/**\n * @export\n */ const CreateDeviceRequestPushProviderEnum = {\n    FIREBASE: \"firebase\",\n    APN: \"apn\",\n    HUAWEI: \"huawei\",\n    XIAOMI: \"xiaomi\"\n};\n/**\n * @export\n */ const NoiseCancellationSettingsModeEnum = {\n    AVAILABLE: \"available\",\n    DISABLED: \"disabled\",\n    AUTO_ON: \"auto-on\"\n};\n/**\n * All possibility of string to use\n * @export\n */ const OwnCapability = {\n    BLOCK_USERS: \"block-users\",\n    CHANGE_MAX_DURATION: \"change-max-duration\",\n    CREATE_CALL: \"create-call\",\n    CREATE_REACTION: \"create-reaction\",\n    ENABLE_NOISE_CANCELLATION: \"enable-noise-cancellation\",\n    END_CALL: \"end-call\",\n    JOIN_BACKSTAGE: \"join-backstage\",\n    JOIN_CALL: \"join-call\",\n    JOIN_ENDED_CALL: \"join-ended-call\",\n    MUTE_USERS: \"mute-users\",\n    PIN_FOR_EVERYONE: \"pin-for-everyone\",\n    READ_CALL: \"read-call\",\n    REMOVE_CALL_MEMBER: \"remove-call-member\",\n    SCREENSHARE: \"screenshare\",\n    SEND_AUDIO: \"send-audio\",\n    SEND_VIDEO: \"send-video\",\n    START_BROADCAST_CALL: \"start-broadcast-call\",\n    START_RECORD_CALL: \"start-record-call\",\n    START_TRANSCRIPTION_CALL: \"start-transcription-call\",\n    STOP_BROADCAST_CALL: \"stop-broadcast-call\",\n    STOP_RECORD_CALL: \"stop-record-call\",\n    STOP_TRANSCRIPTION_CALL: \"stop-transcription-call\",\n    UPDATE_CALL: \"update-call\",\n    UPDATE_CALL_MEMBER: \"update-call-member\",\n    UPDATE_CALL_PERMISSIONS: \"update-call-permissions\",\n    UPDATE_CALL_SETTINGS: \"update-call-settings\"\n};\n/**\n * @export\n */ const RecordSettingsRequestModeEnum = {\n    AVAILABLE: \"available\",\n    DISABLED: \"disabled\",\n    AUTO_ON: \"auto-on\"\n};\n/**\n * @export\n */ const RecordSettingsRequestQualityEnum = {\n    _360P: \"360p\",\n    _480P: \"480p\",\n    _720P: \"720p\",\n    _1080P: \"1080p\",\n    _1440P: \"1440p\",\n    PORTRAIT_360X640: \"portrait-360x640\",\n    PORTRAIT_480X854: \"portrait-480x854\",\n    PORTRAIT_720X1280: \"portrait-720x1280\",\n    PORTRAIT_1080X1920: \"portrait-1080x1920\",\n    PORTRAIT_1440X2560: \"portrait-1440x2560\"\n};\n/**\n * @export\n */ const TranscriptionSettingsRequestModeEnum = {\n    AVAILABLE: \"available\",\n    DISABLED: \"disabled\",\n    AUTO_ON: \"auto-on\"\n};\n/**\n * @export\n */ const TranscriptionSettingsResponseModeEnum = {\n    AVAILABLE: \"available\",\n    DISABLED: \"disabled\",\n    AUTO_ON: \"auto-on\"\n};\n/**\n * @export\n */ const VideoSettingsRequestCameraFacingEnum = {\n    FRONT: \"front\",\n    BACK: \"back\",\n    EXTERNAL: \"external\"\n};\n/**\n * @export\n */ const VideoSettingsResponseCameraFacingEnum = {\n    FRONT: \"front\",\n    BACK: \"back\",\n    EXTERNAL: \"external\"\n};\nclass ErrorFromResponse extends Error {\n}\n/* eslint-disable */ // @generated by protobuf-ts 2.9.4 with parameter long_type_string,client_generic,server_none,eslint_disable,optimize_code_size\n// @generated from protobuf file \"google/protobuf/struct.proto\" (package \"google.protobuf\", syntax proto3)\n// tslint:disable\n//\n// Protocol Buffers - Google's data interchange format\n// Copyright 2008 Google Inc.  All rights reserved.\n// https://developers.google.com/protocol-buffers/\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are\n// met:\n//\n//     * Redistributions of source code must retain the above copyright\n// notice, this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above\n// copyright notice, this list of conditions and the following disclaimer\n// in the documentation and/or other materials provided with the\n// distribution.\n//     * Neither the name of Google Inc. nor the names of its\n// contributors may be used to endorse or promote products derived from\n// this software without specific prior written permission.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n// \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n// LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n// A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n// OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n// SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n// LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n// DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n// THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n//\n/**\n * `NullValue` is a singleton enumeration to represent the null value for the\n * `Value` type union.\n *\n *  The JSON representation for `NullValue` is JSON `null`.\n *\n * @generated from protobuf enum google.protobuf.NullValue\n */ var NullValue;\n(function(NullValue) {\n    /**\n     * Null value.\n     *\n     * @generated from protobuf enum value: NULL_VALUE = 0;\n     */ NullValue[NullValue[\"NULL_VALUE\"] = 0] = \"NULL_VALUE\";\n})(NullValue || (NullValue = {}));\n// @generated message type with reflection information, may provide speed optimized methods\nclass Struct$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"google.protobuf.Struct\", [\n            {\n                no: 1,\n                name: \"fields\",\n                kind: \"map\",\n                K: 9 /*ScalarType.STRING*/ ,\n                V: {\n                    kind: \"message\",\n                    T: ()=>Value\n                }\n            }\n        ]);\n    }\n    /**\n     * Encode `Struct` to JSON object.\n     */ internalJsonWrite(message, options) {\n        let json = {};\n        for (let [k, v] of Object.entries(message.fields)){\n            json[k] = Value.toJson(v);\n        }\n        return json;\n    }\n    /**\n     * Decode `Struct` from JSON object.\n     */ internalJsonRead(json, options, target) {\n        if (!(0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_6__.isJsonObject)(json)) throw new globalThis.Error(\"Unable to parse message \" + this.typeName + \" from JSON \" + (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_6__.typeofJsonValue)(json) + \".\");\n        if (!target) target = this.create();\n        for (let [k, v] of globalThis.Object.entries(json)){\n            target.fields[k] = Value.fromJson(v);\n        }\n        return target;\n    }\n}\n/**\n * @generated MessageType for protobuf message google.protobuf.Struct\n */ const Struct = new Struct$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass Value$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"google.protobuf.Value\", [\n            {\n                no: 1,\n                name: \"null_value\",\n                kind: \"enum\",\n                oneof: \"kind\",\n                T: ()=>[\n                        \"google.protobuf.NullValue\",\n                        NullValue\n                    ]\n            },\n            {\n                no: 2,\n                name: \"number_value\",\n                kind: \"scalar\",\n                oneof: \"kind\",\n                T: 1 /*ScalarType.DOUBLE*/ \n            },\n            {\n                no: 3,\n                name: \"string_value\",\n                kind: \"scalar\",\n                oneof: \"kind\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 4,\n                name: \"bool_value\",\n                kind: \"scalar\",\n                oneof: \"kind\",\n                T: 8 /*ScalarType.BOOL*/ \n            },\n            {\n                no: 5,\n                name: \"struct_value\",\n                kind: \"message\",\n                oneof: \"kind\",\n                T: ()=>Struct\n            },\n            {\n                no: 6,\n                name: \"list_value\",\n                kind: \"message\",\n                oneof: \"kind\",\n                T: ()=>ListValue\n            }\n        ]);\n    }\n    /**\n     * Encode `Value` to JSON value.\n     */ internalJsonWrite(message, options) {\n        if (message.kind.oneofKind === undefined) throw new globalThis.Error();\n        switch(message.kind.oneofKind){\n            case undefined:\n                throw new globalThis.Error();\n            case \"boolValue\":\n                return message.kind.boolValue;\n            case \"nullValue\":\n                return null;\n            case \"numberValue\":\n                let numberValue = message.kind.numberValue;\n                if (typeof numberValue == \"number\" && !Number.isFinite(numberValue)) throw new globalThis.Error();\n                return numberValue;\n            case \"stringValue\":\n                return message.kind.stringValue;\n            case \"listValue\":\n                let listValueField = this.fields.find((f)=>f.no === 6);\n                if (listValueField?.kind !== \"message\") throw new globalThis.Error();\n                return listValueField.T().toJson(message.kind.listValue);\n            case \"structValue\":\n                let structValueField = this.fields.find((f)=>f.no === 5);\n                if (structValueField?.kind !== \"message\") throw new globalThis.Error();\n                return structValueField.T().toJson(message.kind.structValue);\n        }\n    }\n    /**\n     * Decode `Value` from JSON value.\n     */ internalJsonRead(json, options, target) {\n        if (!target) target = this.create();\n        switch(typeof json){\n            case \"number\":\n                target.kind = {\n                    oneofKind: \"numberValue\",\n                    numberValue: json\n                };\n                break;\n            case \"string\":\n                target.kind = {\n                    oneofKind: \"stringValue\",\n                    stringValue: json\n                };\n                break;\n            case \"boolean\":\n                target.kind = {\n                    oneofKind: \"boolValue\",\n                    boolValue: json\n                };\n                break;\n            case \"object\":\n                if (json === null) {\n                    target.kind = {\n                        oneofKind: \"nullValue\",\n                        nullValue: NullValue.NULL_VALUE\n                    };\n                } else if (globalThis.Array.isArray(json)) {\n                    target.kind = {\n                        oneofKind: \"listValue\",\n                        listValue: ListValue.fromJson(json)\n                    };\n                } else {\n                    target.kind = {\n                        oneofKind: \"structValue\",\n                        structValue: Struct.fromJson(json)\n                    };\n                }\n                break;\n            default:\n                throw new globalThis.Error(\"Unable to parse \" + this.typeName + \" from JSON \" + (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_6__.typeofJsonValue)(json));\n        }\n        return target;\n    }\n}\n/**\n * @generated MessageType for protobuf message google.protobuf.Value\n */ const Value = new Value$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ListValue$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"google.protobuf.ListValue\", [\n            {\n                no: 1,\n                name: \"values\",\n                kind: \"message\",\n                repeat: 1 /*RepeatType.PACKED*/ ,\n                T: ()=>Value\n            }\n        ]);\n    }\n    /**\n     * Encode `ListValue` to JSON array.\n     */ internalJsonWrite(message, options) {\n        return message.values.map((v)=>Value.toJson(v));\n    }\n    /**\n     * Decode `ListValue` from JSON array.\n     */ internalJsonRead(json, options, target) {\n        if (!globalThis.Array.isArray(json)) throw new globalThis.Error(\"Unable to parse \" + this.typeName + \" from JSON \" + (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_6__.typeofJsonValue)(json));\n        if (!target) target = this.create();\n        let values = json.map((v)=>Value.fromJson(v));\n        target.values.push(...values);\n        return target;\n    }\n}\n/**\n * @generated MessageType for protobuf message google.protobuf.ListValue\n */ const ListValue = new ListValue$Type();\n/* eslint-disable */ // @generated by protobuf-ts 2.9.4 with parameter long_type_string,client_generic,server_none,eslint_disable,optimize_code_size\n// @generated from protobuf file \"google/protobuf/timestamp.proto\" (package \"google.protobuf\", syntax proto3)\n// tslint:disable\n//\n// Protocol Buffers - Google's data interchange format\n// Copyright 2008 Google Inc.  All rights reserved.\n// https://developers.google.com/protocol-buffers/\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are\n// met:\n//\n//     * Redistributions of source code must retain the above copyright\n// notice, this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above\n// copyright notice, this list of conditions and the following disclaimer\n// in the documentation and/or other materials provided with the\n// distribution.\n//     * Neither the name of Google Inc. nor the names of its\n// contributors may be used to endorse or promote products derived from\n// this software without specific prior written permission.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n// \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n// LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n// A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n// OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n// SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n// LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n// DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n// THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n//\n// @generated message type with reflection information, may provide speed optimized methods\nclass Timestamp$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"google.protobuf.Timestamp\", [\n            {\n                no: 1,\n                name: \"seconds\",\n                kind: \"scalar\",\n                T: 3 /*ScalarType.INT64*/ \n            },\n            {\n                no: 2,\n                name: \"nanos\",\n                kind: \"scalar\",\n                T: 5 /*ScalarType.INT32*/ \n            }\n        ]);\n    }\n    /**\n     * Creates a new `Timestamp` for the current time.\n     */ now() {\n        const msg = this.create();\n        const ms = Date.now();\n        msg.seconds = _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.PbLong.from(Math.floor(ms / 1000)).toString();\n        msg.nanos = ms % 1000 * 1000000;\n        return msg;\n    }\n    /**\n     * Converts a `Timestamp` to a JavaScript Date.\n     */ toDate(message) {\n        return new Date(_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.PbLong.from(message.seconds).toNumber() * 1000 + Math.ceil(message.nanos / 1000000));\n    }\n    /**\n     * Converts a JavaScript Date to a `Timestamp`.\n     */ fromDate(date) {\n        const msg = this.create();\n        const ms = date.getTime();\n        msg.seconds = _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.PbLong.from(Math.floor(ms / 1000)).toString();\n        msg.nanos = ms % 1000 * 1000000;\n        return msg;\n    }\n    /**\n     * In JSON format, the `Timestamp` type is encoded as a string\n     * in the RFC 3339 format.\n     */ internalJsonWrite(message, options) {\n        let ms = _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.PbLong.from(message.seconds).toNumber() * 1000;\n        if (ms < Date.parse(\"0001-01-01T00:00:00Z\") || ms > Date.parse(\"9999-12-31T23:59:59Z\")) throw new Error(\"Unable to encode Timestamp to JSON. Must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive.\");\n        if (message.nanos < 0) throw new Error(\"Unable to encode invalid Timestamp to JSON. Nanos must not be negative.\");\n        let z = \"Z\";\n        if (message.nanos > 0) {\n            let nanosStr = (message.nanos + 1000000000).toString().substring(1);\n            if (nanosStr.substring(3) === \"000000\") z = \".\" + nanosStr.substring(0, 3) + \"Z\";\n            else if (nanosStr.substring(6) === \"000\") z = \".\" + nanosStr.substring(0, 6) + \"Z\";\n            else z = \".\" + nanosStr + \"Z\";\n        }\n        return new Date(ms).toISOString().replace(\".000Z\", z);\n    }\n    /**\n     * In JSON format, the `Timestamp` type is encoded as a string\n     * in the RFC 3339 format.\n     */ internalJsonRead(json, options, target) {\n        if (typeof json !== \"string\") throw new Error(\"Unable to parse Timestamp from JSON \" + (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_6__.typeofJsonValue)(json) + \".\");\n        let matches = json.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:Z|\\.([0-9]{3,9})Z|([+-][0-9][0-9]:[0-9][0-9]))$/);\n        if (!matches) throw new Error(\"Unable to parse Timestamp from JSON. Invalid format.\");\n        let ms = Date.parse(matches[1] + \"-\" + matches[2] + \"-\" + matches[3] + \"T\" + matches[4] + \":\" + matches[5] + \":\" + matches[6] + (matches[8] ? matches[8] : \"Z\"));\n        if (Number.isNaN(ms)) throw new Error(\"Unable to parse Timestamp from JSON. Invalid value.\");\n        if (ms < Date.parse(\"0001-01-01T00:00:00Z\") || ms > Date.parse(\"9999-12-31T23:59:59Z\")) throw new globalThis.Error(\"Unable to parse Timestamp from JSON. Must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive.\");\n        if (!target) target = this.create();\n        target.seconds = _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.PbLong.from(ms / 1000).toString();\n        target.nanos = 0;\n        if (matches[7]) target.nanos = parseInt(\"1\" + matches[7] + \"0\".repeat(9 - matches[7].length)) - 1000000000;\n        return target;\n    }\n}\n/**\n * @generated MessageType for protobuf message google.protobuf.Timestamp\n */ const Timestamp = new Timestamp$Type();\n/* eslint-disable */ // @generated by protobuf-ts 2.9.4 with parameter long_type_string,client_generic,server_none,eslint_disable,optimize_code_size\n// @generated from protobuf file \"video/sfu/models/models.proto\" (package \"stream.video.sfu.models\", syntax proto3)\n// tslint:disable\n/**\n * @generated from protobuf enum stream.video.sfu.models.PeerType\n */ var PeerType;\n(function(PeerType) {\n    /**\n     * todo fix me (marcelo)\n     *\n     * @generated from protobuf enum value: PEER_TYPE_PUBLISHER_UNSPECIFIED = 0;\n     */ PeerType[PeerType[\"PUBLISHER_UNSPECIFIED\"] = 0] = \"PUBLISHER_UNSPECIFIED\";\n    /**\n     * @generated from protobuf enum value: PEER_TYPE_SUBSCRIBER = 1;\n     */ PeerType[PeerType[\"SUBSCRIBER\"] = 1] = \"SUBSCRIBER\";\n})(PeerType || (PeerType = {}));\n/**\n * @generated from protobuf enum stream.video.sfu.models.ConnectionQuality\n */ var ConnectionQuality;\n(function(ConnectionQuality) {\n    /**\n     * @generated from protobuf enum value: CONNECTION_QUALITY_UNSPECIFIED = 0;\n     */ ConnectionQuality[ConnectionQuality[\"UNSPECIFIED\"] = 0] = \"UNSPECIFIED\";\n    /**\n     * @generated from protobuf enum value: CONNECTION_QUALITY_POOR = 1;\n     */ ConnectionQuality[ConnectionQuality[\"POOR\"] = 1] = \"POOR\";\n    /**\n     * @generated from protobuf enum value: CONNECTION_QUALITY_GOOD = 2;\n     */ ConnectionQuality[ConnectionQuality[\"GOOD\"] = 2] = \"GOOD\";\n    /**\n     * @generated from protobuf enum value: CONNECTION_QUALITY_EXCELLENT = 3;\n     */ ConnectionQuality[ConnectionQuality[\"EXCELLENT\"] = 3] = \"EXCELLENT\";\n})(ConnectionQuality || (ConnectionQuality = {}));\n/**\n * @generated from protobuf enum stream.video.sfu.models.VideoQuality\n */ var VideoQuality;\n(function(VideoQuality) {\n    /**\n     * @generated from protobuf enum value: VIDEO_QUALITY_LOW_UNSPECIFIED = 0;\n     */ VideoQuality[VideoQuality[\"LOW_UNSPECIFIED\"] = 0] = \"LOW_UNSPECIFIED\";\n    /**\n     * @generated from protobuf enum value: VIDEO_QUALITY_MID = 1;\n     */ VideoQuality[VideoQuality[\"MID\"] = 1] = \"MID\";\n    /**\n     * @generated from protobuf enum value: VIDEO_QUALITY_HIGH = 2;\n     */ VideoQuality[VideoQuality[\"HIGH\"] = 2] = \"HIGH\";\n    /**\n     * @generated from protobuf enum value: VIDEO_QUALITY_OFF = 3;\n     */ VideoQuality[VideoQuality[\"OFF\"] = 3] = \"OFF\";\n})(VideoQuality || (VideoQuality = {}));\n/**\n * @generated from protobuf enum stream.video.sfu.models.TrackType\n */ var TrackType;\n(function(TrackType) {\n    /**\n     * @generated from protobuf enum value: TRACK_TYPE_UNSPECIFIED = 0;\n     */ TrackType[TrackType[\"UNSPECIFIED\"] = 0] = \"UNSPECIFIED\";\n    /**\n     * @generated from protobuf enum value: TRACK_TYPE_AUDIO = 1;\n     */ TrackType[TrackType[\"AUDIO\"] = 1] = \"AUDIO\";\n    /**\n     * @generated from protobuf enum value: TRACK_TYPE_VIDEO = 2;\n     */ TrackType[TrackType[\"VIDEO\"] = 2] = \"VIDEO\";\n    /**\n     * @generated from protobuf enum value: TRACK_TYPE_SCREEN_SHARE = 3;\n     */ TrackType[TrackType[\"SCREEN_SHARE\"] = 3] = \"SCREEN_SHARE\";\n    /**\n     * @generated from protobuf enum value: TRACK_TYPE_SCREEN_SHARE_AUDIO = 4;\n     */ TrackType[TrackType[\"SCREEN_SHARE_AUDIO\"] = 4] = \"SCREEN_SHARE_AUDIO\";\n})(TrackType || (TrackType = {}));\n/**\n * @generated from protobuf enum stream.video.sfu.models.ErrorCode\n */ var ErrorCode;\n(function(ErrorCode) {\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_UNSPECIFIED = 0;\n     */ ErrorCode[ErrorCode[\"UNSPECIFIED\"] = 0] = \"UNSPECIFIED\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_PUBLISH_TRACK_NOT_FOUND = 100;\n     */ ErrorCode[ErrorCode[\"PUBLISH_TRACK_NOT_FOUND\"] = 100] = \"PUBLISH_TRACK_NOT_FOUND\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_PUBLISH_TRACKS_MISMATCH = 101;\n     */ ErrorCode[ErrorCode[\"PUBLISH_TRACKS_MISMATCH\"] = 101] = \"PUBLISH_TRACKS_MISMATCH\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_PUBLISH_TRACK_OUT_OF_ORDER = 102;\n     */ ErrorCode[ErrorCode[\"PUBLISH_TRACK_OUT_OF_ORDER\"] = 102] = \"PUBLISH_TRACK_OUT_OF_ORDER\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_PUBLISH_TRACK_VIDEO_LAYER_NOT_FOUND = 103;\n     */ ErrorCode[ErrorCode[\"PUBLISH_TRACK_VIDEO_LAYER_NOT_FOUND\"] = 103] = \"PUBLISH_TRACK_VIDEO_LAYER_NOT_FOUND\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_LIVE_ENDED = 104;\n     */ ErrorCode[ErrorCode[\"LIVE_ENDED\"] = 104] = \"LIVE_ENDED\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_PARTICIPANT_NOT_FOUND = 200;\n     */ ErrorCode[ErrorCode[\"PARTICIPANT_NOT_FOUND\"] = 200] = \"PARTICIPANT_NOT_FOUND\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_PARTICIPANT_MIGRATING_OUT = 201;\n     */ ErrorCode[ErrorCode[\"PARTICIPANT_MIGRATING_OUT\"] = 201] = \"PARTICIPANT_MIGRATING_OUT\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_PARTICIPANT_MIGRATION_FAILED = 202;\n     */ ErrorCode[ErrorCode[\"PARTICIPANT_MIGRATION_FAILED\"] = 202] = \"PARTICIPANT_MIGRATION_FAILED\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_PARTICIPANT_MIGRATING = 203;\n     */ ErrorCode[ErrorCode[\"PARTICIPANT_MIGRATING\"] = 203] = \"PARTICIPANT_MIGRATING\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_PARTICIPANT_RECONNECT_FAILED = 204;\n     */ ErrorCode[ErrorCode[\"PARTICIPANT_RECONNECT_FAILED\"] = 204] = \"PARTICIPANT_RECONNECT_FAILED\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_PARTICIPANT_MEDIA_TRANSPORT_FAILURE = 205;\n     */ ErrorCode[ErrorCode[\"PARTICIPANT_MEDIA_TRANSPORT_FAILURE\"] = 205] = \"PARTICIPANT_MEDIA_TRANSPORT_FAILURE\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_CALL_NOT_FOUND = 300;\n     */ ErrorCode[ErrorCode[\"CALL_NOT_FOUND\"] = 300] = \"CALL_NOT_FOUND\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_REQUEST_VALIDATION_FAILED = 400;\n     */ ErrorCode[ErrorCode[\"REQUEST_VALIDATION_FAILED\"] = 400] = \"REQUEST_VALIDATION_FAILED\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_UNAUTHENTICATED = 401;\n     */ ErrorCode[ErrorCode[\"UNAUTHENTICATED\"] = 401] = \"UNAUTHENTICATED\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_PERMISSION_DENIED = 403;\n     */ ErrorCode[ErrorCode[\"PERMISSION_DENIED\"] = 403] = \"PERMISSION_DENIED\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_TOO_MANY_REQUESTS = 429;\n     */ ErrorCode[ErrorCode[\"TOO_MANY_REQUESTS\"] = 429] = \"TOO_MANY_REQUESTS\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_INTERNAL_SERVER_ERROR = 500;\n     */ ErrorCode[ErrorCode[\"INTERNAL_SERVER_ERROR\"] = 500] = \"INTERNAL_SERVER_ERROR\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_SFU_SHUTTING_DOWN = 600;\n     */ ErrorCode[ErrorCode[\"SFU_SHUTTING_DOWN\"] = 600] = \"SFU_SHUTTING_DOWN\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_SFU_FULL = 700;\n     */ ErrorCode[ErrorCode[\"SFU_FULL\"] = 700] = \"SFU_FULL\";\n})(ErrorCode || (ErrorCode = {}));\n/**\n * @generated from protobuf enum stream.video.sfu.models.SdkType\n */ var SdkType;\n(function(SdkType) {\n    /**\n     * @generated from protobuf enum value: SDK_TYPE_UNSPECIFIED = 0;\n     */ SdkType[SdkType[\"UNSPECIFIED\"] = 0] = \"UNSPECIFIED\";\n    /**\n     * @generated from protobuf enum value: SDK_TYPE_REACT = 1;\n     */ SdkType[SdkType[\"REACT\"] = 1] = \"REACT\";\n    /**\n     * @generated from protobuf enum value: SDK_TYPE_ANGULAR = 2;\n     */ SdkType[SdkType[\"ANGULAR\"] = 2] = \"ANGULAR\";\n    /**\n     * @generated from protobuf enum value: SDK_TYPE_ANDROID = 3;\n     */ SdkType[SdkType[\"ANDROID\"] = 3] = \"ANDROID\";\n    /**\n     * @generated from protobuf enum value: SDK_TYPE_IOS = 4;\n     */ SdkType[SdkType[\"IOS\"] = 4] = \"IOS\";\n    /**\n     * @generated from protobuf enum value: SDK_TYPE_FLUTTER = 5;\n     */ SdkType[SdkType[\"FLUTTER\"] = 5] = \"FLUTTER\";\n    /**\n     * @generated from protobuf enum value: SDK_TYPE_REACT_NATIVE = 6;\n     */ SdkType[SdkType[\"REACT_NATIVE\"] = 6] = \"REACT_NATIVE\";\n    /**\n     * @generated from protobuf enum value: SDK_TYPE_UNITY = 7;\n     */ SdkType[SdkType[\"UNITY\"] = 7] = \"UNITY\";\n    /**\n     * @generated from protobuf enum value: SDK_TYPE_GO = 8;\n     */ SdkType[SdkType[\"GO\"] = 8] = \"GO\";\n    /**\n     * @generated from protobuf enum value: SDK_TYPE_PLAIN_JAVASCRIPT = 9;\n     */ SdkType[SdkType[\"PLAIN_JAVASCRIPT\"] = 9] = \"PLAIN_JAVASCRIPT\";\n})(SdkType || (SdkType = {}));\n/**\n * @generated from protobuf enum stream.video.sfu.models.TrackUnpublishReason\n */ var TrackUnpublishReason;\n(function(TrackUnpublishReason) {\n    /**\n     * Default value which is used when the specific reason\n     * for muting the track is not known.\n     *\n     * @generated from protobuf enum value: TRACK_UNPUBLISH_REASON_UNSPECIFIED = 0;\n     */ TrackUnpublishReason[TrackUnpublishReason[\"UNSPECIFIED\"] = 0] = \"UNSPECIFIED\";\n    /**\n     * Represents user muting their tracks.\n     *\n     * @generated from protobuf enum value: TRACK_UNPUBLISH_REASON_USER_MUTED = 1;\n     */ TrackUnpublishReason[TrackUnpublishReason[\"USER_MUTED\"] = 1] = \"USER_MUTED\";\n    /**\n     * Represents muting the track because the permission to\n     * publish the track has been revoked.\n     *\n     * @generated from protobuf enum value: TRACK_UNPUBLISH_REASON_PERMISSION_REVOKED = 2;\n     */ TrackUnpublishReason[TrackUnpublishReason[\"PERMISSION_REVOKED\"] = 2] = \"PERMISSION_REVOKED\";\n    /**\n     * Represents muting the track due to moderation actions.\n     * This is different from permission revoked because the\n     * participant can unmute themselves here whereas in case\n     * of \"permission revoke\" it is not possible until the\n     * call permissions are updated.\n     *\n     * @generated from protobuf enum value: TRACK_UNPUBLISH_REASON_MODERATION = 3;\n     */ TrackUnpublishReason[TrackUnpublishReason[\"MODERATION\"] = 3] = \"MODERATION\";\n})(TrackUnpublishReason || (TrackUnpublishReason = {}));\n/**\n * GoAwayReason represents the reason for the SFU to\n * disconnect the client.\n *\n * @generated from protobuf enum stream.video.sfu.models.GoAwayReason\n */ var GoAwayReason;\n(function(GoAwayReason) {\n    /**\n     * @generated from protobuf enum value: GO_AWAY_REASON_UNSPECIFIED = 0;\n     */ GoAwayReason[GoAwayReason[\"UNSPECIFIED\"] = 0] = \"UNSPECIFIED\";\n    /**\n     * @generated from protobuf enum value: GO_AWAY_REASON_SHUTTING_DOWN = 1;\n     */ GoAwayReason[GoAwayReason[\"SHUTTING_DOWN\"] = 1] = \"SHUTTING_DOWN\";\n    /**\n     * @generated from protobuf enum value: GO_AWAY_REASON_REBALANCE = 2;\n     */ GoAwayReason[GoAwayReason[\"REBALANCE\"] = 2] = \"REBALANCE\";\n})(GoAwayReason || (GoAwayReason = {}));\n/**\n * CallEndedReason represents the reason for the call to end.\n *\n * @generated from protobuf enum stream.video.sfu.models.CallEndedReason\n */ var CallEndedReason;\n(function(CallEndedReason) {\n    /**\n     * @generated from protobuf enum value: CALL_ENDED_REASON_UNSPECIFIED = 0;\n     */ CallEndedReason[CallEndedReason[\"UNSPECIFIED\"] = 0] = \"UNSPECIFIED\";\n    /**\n     * @generated from protobuf enum value: CALL_ENDED_REASON_ENDED = 1;\n     */ CallEndedReason[CallEndedReason[\"ENDED\"] = 1] = \"ENDED\";\n    /**\n     * @generated from protobuf enum value: CALL_ENDED_REASON_LIVE_ENDED = 2;\n     */ CallEndedReason[CallEndedReason[\"LIVE_ENDED\"] = 2] = \"LIVE_ENDED\";\n    /**\n     * @generated from protobuf enum value: CALL_ENDED_REASON_KICKED = 3;\n     */ CallEndedReason[CallEndedReason[\"KICKED\"] = 3] = \"KICKED\";\n    /**\n     * @generated from protobuf enum value: CALL_ENDED_REASON_SESSION_ENDED = 4;\n     */ CallEndedReason[CallEndedReason[\"SESSION_ENDED\"] = 4] = \"SESSION_ENDED\";\n})(CallEndedReason || (CallEndedReason = {}));\n/**\n * WebsocketReconnectStrategy defines the ws strategies available for handling reconnections.\n *\n * @generated from protobuf enum stream.video.sfu.models.WebsocketReconnectStrategy\n */ var WebsocketReconnectStrategy;\n(function(WebsocketReconnectStrategy) {\n    /**\n     * @generated from protobuf enum value: WEBSOCKET_RECONNECT_STRATEGY_UNSPECIFIED = 0;\n     */ WebsocketReconnectStrategy[WebsocketReconnectStrategy[\"UNSPECIFIED\"] = 0] = \"UNSPECIFIED\";\n    /**\n     * Sent after reaching the maximum reconnection attempts, or any other unrecoverable error leading to permanent disconnect.\n     *\n     * @generated from protobuf enum value: WEBSOCKET_RECONNECT_STRATEGY_DISCONNECT = 1;\n     */ WebsocketReconnectStrategy[WebsocketReconnectStrategy[\"DISCONNECT\"] = 1] = \"DISCONNECT\";\n    /**\n     * SDK should maintaining existing publisher/subscriber pc instances\n     * and establish a new WebSocket connection.\n     *\n     * @generated from protobuf enum value: WEBSOCKET_RECONNECT_STRATEGY_FAST = 2;\n     */ WebsocketReconnectStrategy[WebsocketReconnectStrategy[\"FAST\"] = 2] = \"FAST\";\n    /**\n     * SDK should obtain new credentials from the coordinator, drops existing pc instances, set a new session_id and initializes\n     * a completely new WebSocket connection, ensuring a comprehensive reset.\n     *\n     * @generated from protobuf enum value: WEBSOCKET_RECONNECT_STRATEGY_REJOIN = 3;\n     */ WebsocketReconnectStrategy[WebsocketReconnectStrategy[\"REJOIN\"] = 3] = \"REJOIN\";\n    /**\n     * SDK should migrate to a new SFU instance\n     *\n     * @generated from protobuf enum value: WEBSOCKET_RECONNECT_STRATEGY_MIGRATE = 4;\n     */ WebsocketReconnectStrategy[WebsocketReconnectStrategy[\"MIGRATE\"] = 4] = \"MIGRATE\";\n})(WebsocketReconnectStrategy || (WebsocketReconnectStrategy = {}));\n/**\n * AndroidThermalState is reported by the Android API. The full list of values is documented here\n * https://developer.android.com/reference/android/os/PowerManager.html#getCurrentThermalStatus()\n *\n * @generated from protobuf enum stream.video.sfu.models.AndroidThermalState\n */ var AndroidThermalState;\n(function(AndroidThermalState) {\n    /**\n     * @generated from protobuf enum value: ANDROID_THERMAL_STATE_UNSPECIFIED = 0;\n     */ AndroidThermalState[AndroidThermalState[\"UNSPECIFIED\"] = 0] = \"UNSPECIFIED\";\n    /**\n     * @generated from protobuf enum value: ANDROID_THERMAL_STATE_NONE = 1;\n     */ AndroidThermalState[AndroidThermalState[\"NONE\"] = 1] = \"NONE\";\n    /**\n     * @generated from protobuf enum value: ANDROID_THERMAL_STATE_LIGHT = 2;\n     */ AndroidThermalState[AndroidThermalState[\"LIGHT\"] = 2] = \"LIGHT\";\n    /**\n     * @generated from protobuf enum value: ANDROID_THERMAL_STATE_MODERATE = 3;\n     */ AndroidThermalState[AndroidThermalState[\"MODERATE\"] = 3] = \"MODERATE\";\n    /**\n     * @generated from protobuf enum value: ANDROID_THERMAL_STATE_SEVERE = 4;\n     */ AndroidThermalState[AndroidThermalState[\"SEVERE\"] = 4] = \"SEVERE\";\n    /**\n     * @generated from protobuf enum value: ANDROID_THERMAL_STATE_CRITICAL = 5;\n     */ AndroidThermalState[AndroidThermalState[\"CRITICAL\"] = 5] = \"CRITICAL\";\n    /**\n     * @generated from protobuf enum value: ANDROID_THERMAL_STATE_EMERGENCY = 6;\n     */ AndroidThermalState[AndroidThermalState[\"EMERGENCY\"] = 6] = \"EMERGENCY\";\n    /**\n     * @generated from protobuf enum value: ANDROID_THERMAL_STATE_SHUTDOWN = 7;\n     */ AndroidThermalState[AndroidThermalState[\"SHUTDOWN\"] = 7] = \"SHUTDOWN\";\n})(AndroidThermalState || (AndroidThermalState = {}));\n/**\n * AppleThermalState is the thermal state as reported by Apple devices when available or applicable to the platform.\n * The full list of states (enum) is available here: https://developer.apple.com/documentation/foundation/processinfo/thermalstate\n *\n * @generated from protobuf enum stream.video.sfu.models.AppleThermalState\n */ var AppleThermalState;\n(function(AppleThermalState) {\n    /**\n     * @generated from protobuf enum value: APPLE_THERMAL_STATE_UNSPECIFIED = 0;\n     */ AppleThermalState[AppleThermalState[\"UNSPECIFIED\"] = 0] = \"UNSPECIFIED\";\n    /**\n     * @generated from protobuf enum value: APPLE_THERMAL_STATE_NOMINAL = 1;\n     */ AppleThermalState[AppleThermalState[\"NOMINAL\"] = 1] = \"NOMINAL\";\n    /**\n     * @generated from protobuf enum value: APPLE_THERMAL_STATE_FAIR = 2;\n     */ AppleThermalState[AppleThermalState[\"FAIR\"] = 2] = \"FAIR\";\n    /**\n     * @generated from protobuf enum value: APPLE_THERMAL_STATE_SERIOUS = 3;\n     */ AppleThermalState[AppleThermalState[\"SERIOUS\"] = 3] = \"SERIOUS\";\n    /**\n     * @generated from protobuf enum value: APPLE_THERMAL_STATE_CRITICAL = 4;\n     */ AppleThermalState[AppleThermalState[\"CRITICAL\"] = 4] = \"CRITICAL\";\n})(AppleThermalState || (AppleThermalState = {}));\n// @generated message type with reflection information, may provide speed optimized methods\nclass CallState$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.CallState\", [\n            {\n                no: 1,\n                name: \"participants\",\n                kind: \"message\",\n                repeat: 1 /*RepeatType.PACKED*/ ,\n                T: ()=>Participant\n            },\n            {\n                no: 2,\n                name: \"started_at\",\n                kind: \"message\",\n                T: ()=>Timestamp\n            },\n            {\n                no: 3,\n                name: \"participant_count\",\n                kind: \"message\",\n                T: ()=>ParticipantCount\n            },\n            {\n                no: 4,\n                name: \"pins\",\n                kind: \"message\",\n                repeat: 1 /*RepeatType.PACKED*/ ,\n                T: ()=>Pin\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.CallState\n */ const CallState$1 = new CallState$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ParticipantCount$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.ParticipantCount\", [\n            {\n                no: 1,\n                name: \"total\",\n                kind: \"scalar\",\n                T: 13 /*ScalarType.UINT32*/ \n            },\n            {\n                no: 2,\n                name: \"anonymous\",\n                kind: \"scalar\",\n                T: 13 /*ScalarType.UINT32*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.ParticipantCount\n */ const ParticipantCount = new ParticipantCount$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass Pin$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.Pin\", [\n            {\n                no: 1,\n                name: \"user_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.Pin\n */ const Pin = new Pin$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass Participant$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.Participant\", [\n            {\n                no: 1,\n                name: \"user_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"published_tracks\",\n                kind: \"enum\",\n                repeat: 1 /*RepeatType.PACKED*/ ,\n                T: ()=>[\n                        \"stream.video.sfu.models.TrackType\",\n                        TrackType,\n                        \"TRACK_TYPE_\"\n                    ]\n            },\n            {\n                no: 4,\n                name: \"joined_at\",\n                kind: \"message\",\n                T: ()=>Timestamp\n            },\n            {\n                no: 5,\n                name: \"track_lookup_prefix\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 6,\n                name: \"connection_quality\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.ConnectionQuality\",\n                        ConnectionQuality,\n                        \"CONNECTION_QUALITY_\"\n                    ]\n            },\n            {\n                no: 7,\n                name: \"is_speaking\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            },\n            {\n                no: 8,\n                name: \"is_dominant_speaker\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            },\n            {\n                no: 9,\n                name: \"audio_level\",\n                kind: \"scalar\",\n                T: 2 /*ScalarType.FLOAT*/ \n            },\n            {\n                no: 10,\n                name: \"name\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 11,\n                name: \"image\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 12,\n                name: \"custom\",\n                kind: \"message\",\n                T: ()=>Struct\n            },\n            {\n                no: 13,\n                name: \"roles\",\n                kind: \"scalar\",\n                repeat: 2 /*RepeatType.UNPACKED*/ ,\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.Participant\n */ const Participant = new Participant$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass StreamQuality$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.StreamQuality\", [\n            {\n                no: 1,\n                name: \"video_quality\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.VideoQuality\",\n                        VideoQuality,\n                        \"VIDEO_QUALITY_\"\n                    ]\n            },\n            {\n                no: 2,\n                name: \"user_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.StreamQuality\n */ const StreamQuality = new StreamQuality$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass VideoDimension$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.VideoDimension\", [\n            {\n                no: 1,\n                name: \"width\",\n                kind: \"scalar\",\n                T: 13 /*ScalarType.UINT32*/ \n            },\n            {\n                no: 2,\n                name: \"height\",\n                kind: \"scalar\",\n                T: 13 /*ScalarType.UINT32*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.VideoDimension\n */ const VideoDimension = new VideoDimension$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass VideoLayer$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.VideoLayer\", [\n            {\n                no: 1,\n                name: \"rid\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"video_dimension\",\n                kind: \"message\",\n                T: ()=>VideoDimension\n            },\n            {\n                no: 4,\n                name: \"bitrate\",\n                kind: \"scalar\",\n                T: 13 /*ScalarType.UINT32*/ \n            },\n            {\n                no: 5,\n                name: \"fps\",\n                kind: \"scalar\",\n                T: 13 /*ScalarType.UINT32*/ \n            },\n            {\n                no: 6,\n                name: \"quality\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.VideoQuality\",\n                        VideoQuality,\n                        \"VIDEO_QUALITY_\"\n                    ]\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.VideoLayer\n */ const VideoLayer = new VideoLayer$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass PublishOptions$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.PublishOptions\", [\n            {\n                no: 1,\n                name: \"codecs\",\n                kind: \"message\",\n                repeat: 1 /*RepeatType.PACKED*/ ,\n                T: ()=>PublishOption\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.PublishOptions\n */ const PublishOptions = new PublishOptions$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass PublishOption$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.PublishOption\", [\n            {\n                no: 1,\n                name: \"track_type\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.TrackType\",\n                        TrackType,\n                        \"TRACK_TYPE_\"\n                    ]\n            },\n            {\n                no: 2,\n                name: \"codec\",\n                kind: \"message\",\n                T: ()=>Codec\n            },\n            {\n                no: 3,\n                name: \"bitrate\",\n                kind: \"scalar\",\n                T: 5 /*ScalarType.INT32*/ \n            },\n            {\n                no: 4,\n                name: \"fps\",\n                kind: \"scalar\",\n                T: 5 /*ScalarType.INT32*/ \n            },\n            {\n                no: 5,\n                name: \"max_spatial_layers\",\n                kind: \"scalar\",\n                T: 5 /*ScalarType.INT32*/ \n            },\n            {\n                no: 6,\n                name: \"max_temporal_layers\",\n                kind: \"scalar\",\n                T: 5 /*ScalarType.INT32*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.PublishOption\n */ const PublishOption = new PublishOption$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass Codec$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.Codec\", [\n            {\n                no: 11,\n                name: \"payload_type\",\n                kind: \"scalar\",\n                T: 13 /*ScalarType.UINT32*/ \n            },\n            {\n                no: 10,\n                name: \"name\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 14,\n                name: \"clock_rate\",\n                kind: \"scalar\",\n                T: 13 /*ScalarType.UINT32*/ \n            },\n            {\n                no: 13,\n                name: \"encoding_parameters\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 12,\n                name: \"fmtp\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.Codec\n */ const Codec = new Codec$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nlet ICETrickle$Type$1 = class ICETrickle$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.ICETrickle\", [\n            {\n                no: 1,\n                name: \"peer_type\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.PeerType\",\n                        PeerType,\n                        \"PEER_TYPE_\"\n                    ]\n            },\n            {\n                no: 2,\n                name: \"ice_candidate\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n};\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.ICETrickle\n */ const ICETrickle$1 = new ICETrickle$Type$1();\n// @generated message type with reflection information, may provide speed optimized methods\nclass TrackInfo$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.TrackInfo\", [\n            {\n                no: 1,\n                name: \"track_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"track_type\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.TrackType\",\n                        TrackType,\n                        \"TRACK_TYPE_\"\n                    ]\n            },\n            {\n                no: 5,\n                name: \"layers\",\n                kind: \"message\",\n                repeat: 1 /*RepeatType.PACKED*/ ,\n                T: ()=>VideoLayer\n            },\n            {\n                no: 6,\n                name: \"mid\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 7,\n                name: \"dtx\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            },\n            {\n                no: 8,\n                name: \"stereo\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            },\n            {\n                no: 9,\n                name: \"red\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            },\n            {\n                no: 10,\n                name: \"muted\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.TrackInfo\n */ const TrackInfo = new TrackInfo$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nlet Error$Type$1 = class Error$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.Error\", [\n            {\n                no: 1,\n                name: \"code\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.ErrorCode\",\n                        ErrorCode,\n                        \"ERROR_CODE_\"\n                    ]\n            },\n            {\n                no: 2,\n                name: \"message\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"should_retry\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            }\n        ]);\n    }\n};\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.Error\n */ const Error$2 = new Error$Type$1();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ClientDetails$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.ClientDetails\", [\n            {\n                no: 1,\n                name: \"sdk\",\n                kind: \"message\",\n                T: ()=>Sdk\n            },\n            {\n                no: 2,\n                name: \"os\",\n                kind: \"message\",\n                T: ()=>OS\n            },\n            {\n                no: 3,\n                name: \"browser\",\n                kind: \"message\",\n                T: ()=>Browser\n            },\n            {\n                no: 4,\n                name: \"device\",\n                kind: \"message\",\n                T: ()=>Device\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.ClientDetails\n */ const ClientDetails = new ClientDetails$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass Sdk$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.Sdk\", [\n            {\n                no: 1,\n                name: \"type\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.SdkType\",\n                        SdkType,\n                        \"SDK_TYPE_\"\n                    ]\n            },\n            {\n                no: 2,\n                name: \"major\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"minor\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 4,\n                name: \"patch\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.Sdk\n */ const Sdk = new Sdk$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass OS$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.OS\", [\n            {\n                no: 1,\n                name: \"name\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"version\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"architecture\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.OS\n */ const OS = new OS$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass Browser$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.Browser\", [\n            {\n                no: 1,\n                name: \"name\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"version\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.Browser\n */ const Browser = new Browser$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass Device$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.Device\", [\n            {\n                no: 1,\n                name: \"name\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"version\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.Device\n */ const Device = new Device$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass Call$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.Call\", [\n            {\n                no: 1,\n                name: \"type\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"created_by_user_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 4,\n                name: \"host_user_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 5,\n                name: \"custom\",\n                kind: \"message\",\n                T: ()=>Struct\n            },\n            {\n                no: 6,\n                name: \"created_at\",\n                kind: \"message\",\n                T: ()=>Timestamp\n            },\n            {\n                no: 7,\n                name: \"updated_at\",\n                kind: \"message\",\n                T: ()=>Timestamp\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.Call\n */ const Call$1 = new Call$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass CallGrants$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.CallGrants\", [\n            {\n                no: 1,\n                name: \"can_publish_audio\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            },\n            {\n                no: 2,\n                name: \"can_publish_video\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            },\n            {\n                no: 3,\n                name: \"can_screenshare\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.CallGrants\n */ const CallGrants = new CallGrants$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass InputDevices$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.InputDevices\", [\n            {\n                no: 1,\n                name: \"available_devices\",\n                kind: \"scalar\",\n                repeat: 2 /*RepeatType.UNPACKED*/ ,\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"current_device\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"is_permitted\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.InputDevices\n */ const InputDevices = new InputDevices$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass AndroidState$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.AndroidState\", [\n            {\n                no: 1,\n                name: \"thermal_state\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.AndroidThermalState\",\n                        AndroidThermalState,\n                        \"ANDROID_THERMAL_STATE_\"\n                    ]\n            },\n            {\n                no: 2,\n                name: \"is_power_saver_mode\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.AndroidState\n */ const AndroidState = new AndroidState$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass AppleState$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.AppleState\", [\n            {\n                no: 1,\n                name: \"thermal_state\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.AppleThermalState\",\n                        AppleThermalState,\n                        \"APPLE_THERMAL_STATE_\"\n                    ]\n            },\n            {\n                no: 2,\n                name: \"is_low_power_mode_enabled\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.AppleState\n */ const AppleState = new AppleState$Type();\nvar models = /*#__PURE__*/ Object.freeze({\n    __proto__: null,\n    AndroidState: AndroidState,\n    get AndroidThermalState () {\n        return AndroidThermalState;\n    },\n    AppleState: AppleState,\n    get AppleThermalState () {\n        return AppleThermalState;\n    },\n    Browser: Browser,\n    Call: Call$1,\n    get CallEndedReason () {\n        return CallEndedReason;\n    },\n    CallGrants: CallGrants,\n    CallState: CallState$1,\n    ClientDetails: ClientDetails,\n    Codec: Codec,\n    get ConnectionQuality () {\n        return ConnectionQuality;\n    },\n    Device: Device,\n    Error: Error$2,\n    get ErrorCode () {\n        return ErrorCode;\n    },\n    get GoAwayReason () {\n        return GoAwayReason;\n    },\n    ICETrickle: ICETrickle$1,\n    InputDevices: InputDevices,\n    OS: OS,\n    Participant: Participant,\n    ParticipantCount: ParticipantCount,\n    get PeerType () {\n        return PeerType;\n    },\n    Pin: Pin,\n    PublishOption: PublishOption,\n    PublishOptions: PublishOptions,\n    Sdk: Sdk,\n    get SdkType () {\n        return SdkType;\n    },\n    StreamQuality: StreamQuality,\n    TrackInfo: TrackInfo,\n    get TrackType () {\n        return TrackType;\n    },\n    get TrackUnpublishReason () {\n        return TrackUnpublishReason;\n    },\n    VideoDimension: VideoDimension,\n    VideoLayer: VideoLayer,\n    get VideoQuality () {\n        return VideoQuality;\n    },\n    get WebsocketReconnectStrategy () {\n        return WebsocketReconnectStrategy;\n    }\n});\n/* eslint-disable */ // @generated by protobuf-ts 2.9.4 with parameter long_type_string,client_generic,server_none,eslint_disable,optimize_code_size\n// @generated from protobuf file \"video/sfu/signal_rpc/signal.proto\" (package \"stream.video.sfu.signal\", syntax proto3)\n// tslint:disable\n// @generated message type with reflection information, may provide speed optimized methods\nclass StartNoiseCancellationRequest$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.StartNoiseCancellationRequest\", [\n            {\n                no: 1,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.StartNoiseCancellationRequest\n */ const StartNoiseCancellationRequest = new StartNoiseCancellationRequest$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass StartNoiseCancellationResponse$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.StartNoiseCancellationResponse\", [\n            {\n                no: 1,\n                name: \"error\",\n                kind: \"message\",\n                T: ()=>Error$2\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.StartNoiseCancellationResponse\n */ const StartNoiseCancellationResponse = new StartNoiseCancellationResponse$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass StopNoiseCancellationRequest$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.StopNoiseCancellationRequest\", [\n            {\n                no: 1,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.StopNoiseCancellationRequest\n */ const StopNoiseCancellationRequest = new StopNoiseCancellationRequest$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass StopNoiseCancellationResponse$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.StopNoiseCancellationResponse\", [\n            {\n                no: 1,\n                name: \"error\",\n                kind: \"message\",\n                T: ()=>Error$2\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.StopNoiseCancellationResponse\n */ const StopNoiseCancellationResponse = new StopNoiseCancellationResponse$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass Reconnection$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.Reconnection\", [\n            {\n                no: 1,\n                name: \"time_seconds\",\n                kind: \"scalar\",\n                T: 2 /*ScalarType.FLOAT*/ \n            },\n            {\n                no: 2,\n                name: \"strategy\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.WebsocketReconnectStrategy\",\n                        WebsocketReconnectStrategy,\n                        \"WEBSOCKET_RECONNECT_STRATEGY_\"\n                    ]\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.Reconnection\n */ const Reconnection = new Reconnection$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass Telemetry$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.Telemetry\", [\n            {\n                no: 1,\n                name: \"connection_time_seconds\",\n                kind: \"scalar\",\n                oneof: \"data\",\n                T: 2 /*ScalarType.FLOAT*/ \n            },\n            {\n                no: 2,\n                name: \"reconnection\",\n                kind: \"message\",\n                oneof: \"data\",\n                T: ()=>Reconnection\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.Telemetry\n */ const Telemetry = new Telemetry$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass SendStatsRequest$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.SendStatsRequest\", [\n            {\n                no: 1,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"subscriber_stats\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"publisher_stats\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 4,\n                name: \"webrtc_version\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 5,\n                name: \"sdk\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 6,\n                name: \"sdk_version\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 7,\n                name: \"audio_devices\",\n                kind: \"message\",\n                T: ()=>InputDevices\n            },\n            {\n                no: 8,\n                name: \"video_devices\",\n                kind: \"message\",\n                T: ()=>InputDevices\n            },\n            {\n                no: 9,\n                name: \"android\",\n                kind: \"message\",\n                oneof: \"deviceState\",\n                T: ()=>AndroidState\n            },\n            {\n                no: 10,\n                name: \"apple\",\n                kind: \"message\",\n                oneof: \"deviceState\",\n                T: ()=>AppleState\n            },\n            {\n                no: 11,\n                name: \"telemetry\",\n                kind: \"message\",\n                T: ()=>Telemetry\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.SendStatsRequest\n */ const SendStatsRequest = new SendStatsRequest$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass SendStatsResponse$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.SendStatsResponse\", [\n            {\n                no: 1,\n                name: \"error\",\n                kind: \"message\",\n                T: ()=>Error$2\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.SendStatsResponse\n */ const SendStatsResponse = new SendStatsResponse$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ICERestartRequest$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.ICERestartRequest\", [\n            {\n                no: 1,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"peer_type\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.PeerType\",\n                        PeerType,\n                        \"PEER_TYPE_\"\n                    ]\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.ICERestartRequest\n */ const ICERestartRequest = new ICERestartRequest$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ICERestartResponse$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.ICERestartResponse\", [\n            {\n                no: 1,\n                name: \"error\",\n                kind: \"message\",\n                T: ()=>Error$2\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.ICERestartResponse\n */ const ICERestartResponse = new ICERestartResponse$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass UpdateMuteStatesRequest$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.UpdateMuteStatesRequest\", [\n            {\n                no: 1,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"mute_states\",\n                kind: \"message\",\n                repeat: 1 /*RepeatType.PACKED*/ ,\n                T: ()=>TrackMuteState\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.UpdateMuteStatesRequest\n */ const UpdateMuteStatesRequest = new UpdateMuteStatesRequest$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass UpdateMuteStatesResponse$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.UpdateMuteStatesResponse\", [\n            {\n                no: 4,\n                name: \"error\",\n                kind: \"message\",\n                T: ()=>Error$2\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.UpdateMuteStatesResponse\n */ const UpdateMuteStatesResponse = new UpdateMuteStatesResponse$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass TrackMuteState$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.TrackMuteState\", [\n            {\n                no: 1,\n                name: \"track_type\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.TrackType\",\n                        TrackType,\n                        \"TRACK_TYPE_\"\n                    ]\n            },\n            {\n                no: 2,\n                name: \"muted\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.TrackMuteState\n */ const TrackMuteState = new TrackMuteState$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass AudioMuteChanged$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.AudioMuteChanged\", [\n            {\n                no: 1,\n                name: \"muted\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.AudioMuteChanged\n */ new AudioMuteChanged$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass VideoMuteChanged$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.VideoMuteChanged\", [\n            {\n                no: 2,\n                name: \"muted\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.VideoMuteChanged\n */ new VideoMuteChanged$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass UpdateSubscriptionsRequest$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.UpdateSubscriptionsRequest\", [\n            {\n                no: 2,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"tracks\",\n                kind: \"message\",\n                repeat: 1 /*RepeatType.PACKED*/ ,\n                T: ()=>TrackSubscriptionDetails\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.UpdateSubscriptionsRequest\n */ const UpdateSubscriptionsRequest = new UpdateSubscriptionsRequest$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass UpdateSubscriptionsResponse$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.UpdateSubscriptionsResponse\", [\n            {\n                no: 4,\n                name: \"error\",\n                kind: \"message\",\n                T: ()=>Error$2\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.UpdateSubscriptionsResponse\n */ const UpdateSubscriptionsResponse = new UpdateSubscriptionsResponse$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass TrackSubscriptionDetails$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.TrackSubscriptionDetails\", [\n            {\n                no: 1,\n                name: \"user_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"track_type\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.TrackType\",\n                        TrackType,\n                        \"TRACK_TYPE_\"\n                    ]\n            },\n            {\n                no: 4,\n                name: \"dimension\",\n                kind: \"message\",\n                T: ()=>VideoDimension\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.TrackSubscriptionDetails\n */ const TrackSubscriptionDetails = new TrackSubscriptionDetails$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass SendAnswerRequest$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.SendAnswerRequest\", [\n            {\n                no: 1,\n                name: \"peer_type\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.PeerType\",\n                        PeerType,\n                        \"PEER_TYPE_\"\n                    ]\n            },\n            {\n                no: 2,\n                name: \"sdp\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.SendAnswerRequest\n */ const SendAnswerRequest = new SendAnswerRequest$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass SendAnswerResponse$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.SendAnswerResponse\", [\n            {\n                no: 4,\n                name: \"error\",\n                kind: \"message\",\n                T: ()=>Error$2\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.SendAnswerResponse\n */ const SendAnswerResponse = new SendAnswerResponse$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ICETrickleResponse$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.ICETrickleResponse\", [\n            {\n                no: 4,\n                name: \"error\",\n                kind: \"message\",\n                T: ()=>Error$2\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.ICETrickleResponse\n */ const ICETrickleResponse = new ICETrickleResponse$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass SetPublisherRequest$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.SetPublisherRequest\", [\n            {\n                no: 1,\n                name: \"sdp\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"tracks\",\n                kind: \"message\",\n                repeat: 1 /*RepeatType.PACKED*/ ,\n                T: ()=>TrackInfo\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.SetPublisherRequest\n */ const SetPublisherRequest = new SetPublisherRequest$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass SetPublisherResponse$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.SetPublisherResponse\", [\n            {\n                no: 1,\n                name: \"sdp\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"ice_restart\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            },\n            {\n                no: 4,\n                name: \"error\",\n                kind: \"message\",\n                T: ()=>Error$2\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.SetPublisherResponse\n */ const SetPublisherResponse = new SetPublisherResponse$Type();\n/**\n * @generated ServiceType for protobuf service stream.video.sfu.signal.SignalServer\n */ const SignalServer = new _protobuf_ts_runtime_rpc__WEBPACK_IMPORTED_MODULE_8__.ServiceType(\"stream.video.sfu.signal.SignalServer\", [\n    {\n        name: \"SetPublisher\",\n        options: {},\n        I: SetPublisherRequest,\n        O: SetPublisherResponse\n    },\n    {\n        name: \"SendAnswer\",\n        options: {},\n        I: SendAnswerRequest,\n        O: SendAnswerResponse\n    },\n    {\n        name: \"IceTrickle\",\n        options: {},\n        I: ICETrickle$1,\n        O: ICETrickleResponse\n    },\n    {\n        name: \"UpdateSubscriptions\",\n        options: {},\n        I: UpdateSubscriptionsRequest,\n        O: UpdateSubscriptionsResponse\n    },\n    {\n        name: \"UpdateMuteStates\",\n        options: {},\n        I: UpdateMuteStatesRequest,\n        O: UpdateMuteStatesResponse\n    },\n    {\n        name: \"IceRestart\",\n        options: {},\n        I: ICERestartRequest,\n        O: ICERestartResponse\n    },\n    {\n        name: \"SendStats\",\n        options: {},\n        I: SendStatsRequest,\n        O: SendStatsResponse\n    },\n    {\n        name: \"StartNoiseCancellation\",\n        options: {},\n        I: StartNoiseCancellationRequest,\n        O: StartNoiseCancellationResponse\n    },\n    {\n        name: \"StopNoiseCancellation\",\n        options: {},\n        I: StopNoiseCancellationRequest,\n        O: StopNoiseCancellationResponse\n    }\n]);\n/* eslint-disable */ // @generated by protobuf-ts 2.9.4 with parameter long_type_string,client_generic,server_none,eslint_disable,optimize_code_size\n// @generated from protobuf file \"video/sfu/event/events.proto\" (package \"stream.video.sfu.event\", syntax proto3)\n// tslint:disable\n// @generated message type with reflection information, may provide speed optimized methods\nclass SfuEvent$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.SfuEvent\", [\n            {\n                no: 1,\n                name: \"subscriber_offer\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>SubscriberOffer\n            },\n            {\n                no: 2,\n                name: \"publisher_answer\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>PublisherAnswer\n            },\n            {\n                no: 3,\n                name: \"connection_quality_changed\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>ConnectionQualityChanged\n            },\n            {\n                no: 4,\n                name: \"audio_level_changed\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>AudioLevelChanged\n            },\n            {\n                no: 5,\n                name: \"ice_trickle\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>ICETrickle$1\n            },\n            {\n                no: 6,\n                name: \"change_publish_quality\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>ChangePublishQuality\n            },\n            {\n                no: 10,\n                name: \"participant_joined\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>ParticipantJoined\n            },\n            {\n                no: 11,\n                name: \"participant_left\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>ParticipantLeft\n            },\n            {\n                no: 12,\n                name: \"dominant_speaker_changed\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>DominantSpeakerChanged\n            },\n            {\n                no: 13,\n                name: \"join_response\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>JoinResponse\n            },\n            {\n                no: 14,\n                name: \"health_check_response\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>HealthCheckResponse\n            },\n            {\n                no: 16,\n                name: \"track_published\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>TrackPublished\n            },\n            {\n                no: 17,\n                name: \"track_unpublished\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>TrackUnpublished\n            },\n            {\n                no: 18,\n                name: \"error\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>Error$1\n            },\n            {\n                no: 19,\n                name: \"call_grants_updated\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>CallGrantsUpdated\n            },\n            {\n                no: 20,\n                name: \"go_away\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>GoAway\n            },\n            {\n                no: 21,\n                name: \"ice_restart\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>ICERestart\n            },\n            {\n                no: 22,\n                name: \"pins_updated\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>PinsChanged\n            },\n            {\n                no: 23,\n                name: \"call_ended\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>CallEnded\n            },\n            {\n                no: 24,\n                name: \"participant_updated\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>ParticipantUpdated\n            },\n            {\n                no: 25,\n                name: \"participant_migration_complete\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>ParticipantMigrationComplete\n            },\n            {\n                no: 26,\n                name: \"codec_negotiation_complete\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>CodecNegotiationComplete\n            },\n            {\n                no: 27,\n                name: \"change_publish_options\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>ChangePublishOptions\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.SfuEvent\n */ const SfuEvent = new SfuEvent$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ChangePublishOptions$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.ChangePublishOptions\", [\n            {\n                no: 1,\n                name: \"publish_option\",\n                kind: \"message\",\n                T: ()=>PublishOption\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.ChangePublishOptions\n */ const ChangePublishOptions = new ChangePublishOptions$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass CodecNegotiationComplete$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.CodecNegotiationComplete\", []);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.CodecNegotiationComplete\n */ const CodecNegotiationComplete = new CodecNegotiationComplete$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ParticipantMigrationComplete$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.ParticipantMigrationComplete\", []);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.ParticipantMigrationComplete\n */ const ParticipantMigrationComplete = new ParticipantMigrationComplete$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass PinsChanged$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.PinsChanged\", [\n            {\n                no: 1,\n                name: \"pins\",\n                kind: \"message\",\n                repeat: 1 /*RepeatType.PACKED*/ ,\n                T: ()=>Pin\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.PinsChanged\n */ const PinsChanged = new PinsChanged$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass Error$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.Error\", [\n            {\n                no: 4,\n                name: \"error\",\n                kind: \"message\",\n                T: ()=>Error$2\n            },\n            {\n                no: 5,\n                name: \"reconnect_strategy\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.WebsocketReconnectStrategy\",\n                        WebsocketReconnectStrategy,\n                        \"WEBSOCKET_RECONNECT_STRATEGY_\"\n                    ]\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.Error\n */ const Error$1 = new Error$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ICETrickle$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.ICETrickle\", [\n            {\n                no: 1,\n                name: \"peer_type\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.PeerType\",\n                        PeerType,\n                        \"PEER_TYPE_\"\n                    ]\n            },\n            {\n                no: 2,\n                name: \"ice_candidate\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.ICETrickle\n */ const ICETrickle = new ICETrickle$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ICERestart$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.ICERestart\", [\n            {\n                no: 1,\n                name: \"peer_type\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.PeerType\",\n                        PeerType,\n                        \"PEER_TYPE_\"\n                    ]\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.ICERestart\n */ const ICERestart = new ICERestart$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass SfuRequest$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.SfuRequest\", [\n            {\n                no: 1,\n                name: \"join_request\",\n                kind: \"message\",\n                oneof: \"requestPayload\",\n                T: ()=>JoinRequest\n            },\n            {\n                no: 2,\n                name: \"health_check_request\",\n                kind: \"message\",\n                oneof: \"requestPayload\",\n                T: ()=>HealthCheckRequest\n            },\n            {\n                no: 3,\n                name: \"leave_call_request\",\n                kind: \"message\",\n                oneof: \"requestPayload\",\n                T: ()=>LeaveCallRequest\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.SfuRequest\n */ const SfuRequest = new SfuRequest$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass LeaveCallRequest$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.LeaveCallRequest\", [\n            {\n                no: 1,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"reason\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.LeaveCallRequest\n */ const LeaveCallRequest = new LeaveCallRequest$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass HealthCheckRequest$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.HealthCheckRequest\", []);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.HealthCheckRequest\n */ const HealthCheckRequest = new HealthCheckRequest$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass HealthCheckResponse$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.HealthCheckResponse\", [\n            {\n                no: 1,\n                name: \"participant_count\",\n                kind: \"message\",\n                T: ()=>ParticipantCount\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.HealthCheckResponse\n */ const HealthCheckResponse = new HealthCheckResponse$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass TrackPublished$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.TrackPublished\", [\n            {\n                no: 1,\n                name: \"user_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"type\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.TrackType\",\n                        TrackType,\n                        \"TRACK_TYPE_\"\n                    ]\n            },\n            {\n                no: 4,\n                name: \"participant\",\n                kind: \"message\",\n                T: ()=>Participant\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.TrackPublished\n */ const TrackPublished = new TrackPublished$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass TrackUnpublished$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.TrackUnpublished\", [\n            {\n                no: 1,\n                name: \"user_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"type\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.TrackType\",\n                        TrackType,\n                        \"TRACK_TYPE_\"\n                    ]\n            },\n            {\n                no: 4,\n                name: \"cause\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.TrackUnpublishReason\",\n                        TrackUnpublishReason,\n                        \"TRACK_UNPUBLISH_REASON_\"\n                    ]\n            },\n            {\n                no: 5,\n                name: \"participant\",\n                kind: \"message\",\n                T: ()=>Participant\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.TrackUnpublished\n */ const TrackUnpublished = new TrackUnpublished$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass JoinRequest$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.JoinRequest\", [\n            {\n                no: 1,\n                name: \"token\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"subscriber_sdp\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 8,\n                name: \"publisher_sdp\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 4,\n                name: \"client_details\",\n                kind: \"message\",\n                T: ()=>ClientDetails\n            },\n            {\n                no: 5,\n                name: \"migration\",\n                kind: \"message\",\n                T: ()=>Migration\n            },\n            {\n                no: 6,\n                name: \"fast_reconnect\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            },\n            {\n                no: 7,\n                name: \"reconnect_details\",\n                kind: \"message\",\n                T: ()=>ReconnectDetails\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.JoinRequest\n */ const JoinRequest = new JoinRequest$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ReconnectDetails$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.ReconnectDetails\", [\n            {\n                no: 1,\n                name: \"strategy\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.WebsocketReconnectStrategy\",\n                        WebsocketReconnectStrategy,\n                        \"WEBSOCKET_RECONNECT_STRATEGY_\"\n                    ]\n            },\n            {\n                no: 3,\n                name: \"announced_tracks\",\n                kind: \"message\",\n                repeat: 1 /*RepeatType.PACKED*/ ,\n                T: ()=>TrackInfo\n            },\n            {\n                no: 4,\n                name: \"subscriptions\",\n                kind: \"message\",\n                repeat: 1 /*RepeatType.PACKED*/ ,\n                T: ()=>TrackSubscriptionDetails\n            },\n            {\n                no: 5,\n                name: \"reconnect_attempt\",\n                kind: \"scalar\",\n                T: 13 /*ScalarType.UINT32*/ \n            },\n            {\n                no: 6,\n                name: \"from_sfu_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 7,\n                name: \"previous_session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.ReconnectDetails\n */ const ReconnectDetails = new ReconnectDetails$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass Migration$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.Migration\", [\n            {\n                no: 1,\n                name: \"from_sfu_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"announced_tracks\",\n                kind: \"message\",\n                repeat: 1 /*RepeatType.PACKED*/ ,\n                T: ()=>TrackInfo\n            },\n            {\n                no: 3,\n                name: \"subscriptions\",\n                kind: \"message\",\n                repeat: 1 /*RepeatType.PACKED*/ ,\n                T: ()=>TrackSubscriptionDetails\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.Migration\n */ const Migration = new Migration$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass JoinResponse$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.JoinResponse\", [\n            {\n                no: 1,\n                name: \"call_state\",\n                kind: \"message\",\n                T: ()=>CallState$1\n            },\n            {\n                no: 2,\n                name: \"reconnected\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            },\n            {\n                no: 3,\n                name: \"fast_reconnect_deadline_seconds\",\n                kind: \"scalar\",\n                T: 5 /*ScalarType.INT32*/ \n            },\n            {\n                no: 4,\n                name: \"publish_options\",\n                kind: \"message\",\n                T: ()=>PublishOptions\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.JoinResponse\n */ const JoinResponse = new JoinResponse$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ParticipantJoined$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.ParticipantJoined\", [\n            {\n                no: 1,\n                name: \"call_cid\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"participant\",\n                kind: \"message\",\n                T: ()=>Participant\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.ParticipantJoined\n */ const ParticipantJoined = new ParticipantJoined$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ParticipantLeft$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.ParticipantLeft\", [\n            {\n                no: 1,\n                name: \"call_cid\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"participant\",\n                kind: \"message\",\n                T: ()=>Participant\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.ParticipantLeft\n */ const ParticipantLeft = new ParticipantLeft$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ParticipantUpdated$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.ParticipantUpdated\", [\n            {\n                no: 1,\n                name: \"call_cid\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"participant\",\n                kind: \"message\",\n                T: ()=>Participant\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.ParticipantUpdated\n */ const ParticipantUpdated = new ParticipantUpdated$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass SubscriberOffer$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.SubscriberOffer\", [\n            {\n                no: 1,\n                name: \"ice_restart\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            },\n            {\n                no: 2,\n                name: \"sdp\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.SubscriberOffer\n */ const SubscriberOffer = new SubscriberOffer$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass PublisherAnswer$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.PublisherAnswer\", [\n            {\n                no: 1,\n                name: \"sdp\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.PublisherAnswer\n */ const PublisherAnswer = new PublisherAnswer$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ConnectionQualityChanged$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.ConnectionQualityChanged\", [\n            {\n                no: 1,\n                name: \"connection_quality_updates\",\n                kind: \"message\",\n                repeat: 1 /*RepeatType.PACKED*/ ,\n                T: ()=>ConnectionQualityInfo\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.ConnectionQualityChanged\n */ const ConnectionQualityChanged = new ConnectionQualityChanged$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ConnectionQualityInfo$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.ConnectionQualityInfo\", [\n            {\n                no: 1,\n                name: \"user_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"connection_quality\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.ConnectionQuality\",\n                        ConnectionQuality,\n                        \"CONNECTION_QUALITY_\"\n                    ]\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.ConnectionQualityInfo\n */ const ConnectionQualityInfo = new ConnectionQualityInfo$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass DominantSpeakerChanged$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.DominantSpeakerChanged\", [\n            {\n                no: 1,\n                name: \"user_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.DominantSpeakerChanged\n */ const DominantSpeakerChanged = new DominantSpeakerChanged$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass AudioLevel$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.AudioLevel\", [\n            {\n                no: 1,\n                name: \"user_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"level\",\n                kind: \"scalar\",\n                T: 2 /*ScalarType.FLOAT*/ \n            },\n            {\n                no: 4,\n                name: \"is_speaking\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.AudioLevel\n */ const AudioLevel = new AudioLevel$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass AudioLevelChanged$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.AudioLevelChanged\", [\n            {\n                no: 1,\n                name: \"audio_levels\",\n                kind: \"message\",\n                repeat: 1 /*RepeatType.PACKED*/ ,\n                T: ()=>AudioLevel\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.AudioLevelChanged\n */ const AudioLevelChanged = new AudioLevelChanged$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass AudioSender$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.AudioSender\", [\n            {\n                no: 2,\n                name: \"codec\",\n                kind: \"message\",\n                T: ()=>Codec\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.AudioSender\n */ const AudioSender = new AudioSender$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass VideoLayerSetting$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.VideoLayerSetting\", [\n            {\n                no: 1,\n                name: \"name\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"active\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            },\n            {\n                no: 3,\n                name: \"max_bitrate\",\n                kind: \"scalar\",\n                T: 5 /*ScalarType.INT32*/ \n            },\n            {\n                no: 4,\n                name: \"scale_resolution_down_by\",\n                kind: \"scalar\",\n                T: 2 /*ScalarType.FLOAT*/ \n            },\n            {\n                no: 6,\n                name: \"codec\",\n                kind: \"message\",\n                T: ()=>Codec\n            },\n            {\n                no: 7,\n                name: \"max_framerate\",\n                kind: \"scalar\",\n                T: 13 /*ScalarType.UINT32*/ \n            },\n            {\n                no: 8,\n                name: \"scalability_mode\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.VideoLayerSetting\n */ const VideoLayerSetting = new VideoLayerSetting$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass VideoSender$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.VideoSender\", [\n            {\n                no: 2,\n                name: \"codec\",\n                kind: \"message\",\n                T: ()=>Codec\n            },\n            {\n                no: 3,\n                name: \"layers\",\n                kind: \"message\",\n                repeat: 1 /*RepeatType.PACKED*/ ,\n                T: ()=>VideoLayerSetting\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.VideoSender\n */ const VideoSender = new VideoSender$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ChangePublishQuality$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.ChangePublishQuality\", [\n            {\n                no: 1,\n                name: \"audio_senders\",\n                kind: \"message\",\n                repeat: 1 /*RepeatType.PACKED*/ ,\n                T: ()=>AudioSender\n            },\n            {\n                no: 2,\n                name: \"video_senders\",\n                kind: \"message\",\n                repeat: 1 /*RepeatType.PACKED*/ ,\n                T: ()=>VideoSender\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.ChangePublishQuality\n */ const ChangePublishQuality = new ChangePublishQuality$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass CallGrantsUpdated$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.CallGrantsUpdated\", [\n            {\n                no: 1,\n                name: \"current_grants\",\n                kind: \"message\",\n                T: ()=>CallGrants\n            },\n            {\n                no: 2,\n                name: \"message\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.CallGrantsUpdated\n */ const CallGrantsUpdated = new CallGrantsUpdated$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass GoAway$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.GoAway\", [\n            {\n                no: 1,\n                name: \"reason\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.GoAwayReason\",\n                        GoAwayReason,\n                        \"GO_AWAY_REASON_\"\n                    ]\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.GoAway\n */ const GoAway = new GoAway$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass CallEnded$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.CallEnded\", [\n            {\n                no: 1,\n                name: \"reason\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.CallEndedReason\",\n                        CallEndedReason,\n                        \"CALL_ENDED_REASON_\"\n                    ]\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.CallEnded\n */ const CallEnded = new CallEnded$Type();\nvar events = /*#__PURE__*/ Object.freeze({\n    __proto__: null,\n    AudioLevel: AudioLevel,\n    AudioLevelChanged: AudioLevelChanged,\n    AudioSender: AudioSender,\n    CallEnded: CallEnded,\n    CallGrantsUpdated: CallGrantsUpdated,\n    ChangePublishOptions: ChangePublishOptions,\n    ChangePublishQuality: ChangePublishQuality,\n    CodecNegotiationComplete: CodecNegotiationComplete,\n    ConnectionQualityChanged: ConnectionQualityChanged,\n    ConnectionQualityInfo: ConnectionQualityInfo,\n    DominantSpeakerChanged: DominantSpeakerChanged,\n    Error: Error$1,\n    GoAway: GoAway,\n    HealthCheckRequest: HealthCheckRequest,\n    HealthCheckResponse: HealthCheckResponse,\n    ICERestart: ICERestart,\n    ICETrickle: ICETrickle,\n    JoinRequest: JoinRequest,\n    JoinResponse: JoinResponse,\n    LeaveCallRequest: LeaveCallRequest,\n    Migration: Migration,\n    ParticipantJoined: ParticipantJoined,\n    ParticipantLeft: ParticipantLeft,\n    ParticipantMigrationComplete: ParticipantMigrationComplete,\n    ParticipantUpdated: ParticipantUpdated,\n    PinsChanged: PinsChanged,\n    PublisherAnswer: PublisherAnswer,\n    ReconnectDetails: ReconnectDetails,\n    SfuEvent: SfuEvent,\n    SfuRequest: SfuRequest,\n    SubscriberOffer: SubscriberOffer,\n    TrackPublished: TrackPublished,\n    TrackUnpublished: TrackUnpublished,\n    VideoLayerSetting: VideoLayerSetting,\n    VideoSender: VideoSender\n});\nvar VisibilityState;\n(function(VisibilityState) {\n    VisibilityState[\"UNKNOWN\"] = \"UNKNOWN\";\n    VisibilityState[\"VISIBLE\"] = \"VISIBLE\";\n    VisibilityState[\"INVISIBLE\"] = \"INVISIBLE\";\n})(VisibilityState || (VisibilityState = {}));\nvar DebounceType;\n(function(DebounceType) {\n    DebounceType[DebounceType[\"IMMEDIATE\"] = 20] = \"IMMEDIATE\";\n    DebounceType[DebounceType[\"FAST\"] = 100] = \"FAST\";\n    DebounceType[DebounceType[\"MEDIUM\"] = 600] = \"MEDIUM\";\n    DebounceType[DebounceType[\"SLOW\"] = 1200] = \"SLOW\";\n})(DebounceType || (DebounceType = {}));\n/**\n * @generated from protobuf service stream.video.sfu.signal.SignalServer\n */ class SignalServerClient {\n    constructor(_transport){\n        this._transport = _transport;\n        this.typeName = SignalServer.typeName;\n        this.methods = SignalServer.methods;\n        this.options = SignalServer.options;\n    }\n    /**\n     * SetPublisher sends the WebRTC offer for the peer connection used to publish A/V\n     *\n     * @generated from protobuf rpc: SetPublisher(stream.video.sfu.signal.SetPublisherRequest) returns (stream.video.sfu.signal.SetPublisherResponse);\n     */ setPublisher(input, options) {\n        const method = this.methods[0], opt = this._transport.mergeOptions(options);\n        return (0,_protobuf_ts_runtime_rpc__WEBPACK_IMPORTED_MODULE_9__.stackIntercept)(\"unary\", this._transport, method, opt, input);\n    }\n    /**\n     * answer is sent by the client to the SFU after receiving a subscriber_offer.\n     *\n     * @generated from protobuf rpc: SendAnswer(stream.video.sfu.signal.SendAnswerRequest) returns (stream.video.sfu.signal.SendAnswerResponse);\n     */ sendAnswer(input, options) {\n        const method = this.methods[1], opt = this._transport.mergeOptions(options);\n        return (0,_protobuf_ts_runtime_rpc__WEBPACK_IMPORTED_MODULE_9__.stackIntercept)(\"unary\", this._transport, method, opt, input);\n    }\n    /**\n     * SendICECandidate sends an ICE candidate to the client\n     *\n     * @generated from protobuf rpc: IceTrickle(stream.video.sfu.models.ICETrickle) returns (stream.video.sfu.signal.ICETrickleResponse);\n     */ iceTrickle(input, options) {\n        const method = this.methods[2], opt = this._transport.mergeOptions(options);\n        return (0,_protobuf_ts_runtime_rpc__WEBPACK_IMPORTED_MODULE_9__.stackIntercept)(\"unary\", this._transport, method, opt, input);\n    }\n    /**\n     * UpdateSubscribers is used to notify the SFU about the list of video subscriptions\n     * TODO: sync subscriptions based on this + update tracks using the dimension info sent by the user\n     *\n     * @generated from protobuf rpc: UpdateSubscriptions(stream.video.sfu.signal.UpdateSubscriptionsRequest) returns (stream.video.sfu.signal.UpdateSubscriptionsResponse);\n     */ updateSubscriptions(input, options) {\n        const method = this.methods[3], opt = this._transport.mergeOptions(options);\n        return (0,_protobuf_ts_runtime_rpc__WEBPACK_IMPORTED_MODULE_9__.stackIntercept)(\"unary\", this._transport, method, opt, input);\n    }\n    /**\n     * @generated from protobuf rpc: UpdateMuteStates(stream.video.sfu.signal.UpdateMuteStatesRequest) returns (stream.video.sfu.signal.UpdateMuteStatesResponse);\n     */ updateMuteStates(input, options) {\n        const method = this.methods[4], opt = this._transport.mergeOptions(options);\n        return (0,_protobuf_ts_runtime_rpc__WEBPACK_IMPORTED_MODULE_9__.stackIntercept)(\"unary\", this._transport, method, opt, input);\n    }\n    /**\n     * @generated from protobuf rpc: IceRestart(stream.video.sfu.signal.ICERestartRequest) returns (stream.video.sfu.signal.ICERestartResponse);\n     */ iceRestart(input, options) {\n        const method = this.methods[5], opt = this._transport.mergeOptions(options);\n        return (0,_protobuf_ts_runtime_rpc__WEBPACK_IMPORTED_MODULE_9__.stackIntercept)(\"unary\", this._transport, method, opt, input);\n    }\n    /**\n     * @generated from protobuf rpc: SendStats(stream.video.sfu.signal.SendStatsRequest) returns (stream.video.sfu.signal.SendStatsResponse);\n     */ sendStats(input, options) {\n        const method = this.methods[6], opt = this._transport.mergeOptions(options);\n        return (0,_protobuf_ts_runtime_rpc__WEBPACK_IMPORTED_MODULE_9__.stackIntercept)(\"unary\", this._transport, method, opt, input);\n    }\n    /**\n     * @generated from protobuf rpc: StartNoiseCancellation(stream.video.sfu.signal.StartNoiseCancellationRequest) returns (stream.video.sfu.signal.StartNoiseCancellationResponse);\n     */ startNoiseCancellation(input, options) {\n        const method = this.methods[7], opt = this._transport.mergeOptions(options);\n        return (0,_protobuf_ts_runtime_rpc__WEBPACK_IMPORTED_MODULE_9__.stackIntercept)(\"unary\", this._transport, method, opt, input);\n    }\n    /**\n     * @generated from protobuf rpc: StopNoiseCancellation(stream.video.sfu.signal.StopNoiseCancellationRequest) returns (stream.video.sfu.signal.StopNoiseCancellationResponse);\n     */ stopNoiseCancellation(input, options) {\n        const method = this.methods[8], opt = this._transport.mergeOptions(options);\n        return (0,_protobuf_ts_runtime_rpc__WEBPACK_IMPORTED_MODULE_9__.stackIntercept)(\"unary\", this._transport, method, opt, input);\n    }\n}\nconst defaultOptions = {\n    baseUrl: \"\",\n    sendJson: true,\n    timeout: 5 * 1000,\n    jsonOptions: {\n        ignoreUnknownFields: true\n    }\n};\nconst withHeaders = (headers)=>{\n    return {\n        interceptUnary (next, method, input, options) {\n            options.meta = {\n                ...options.meta,\n                ...headers\n            };\n            return next(method, input, options);\n        }\n    };\n};\nconst withRequestLogger = (logger, level)=>{\n    return {\n        interceptUnary: (next, method, input, options)=>{\n            logger(level, `Calling SFU RPC method ${method.name}`, {\n                input,\n                options\n            });\n            return next(method, input, options);\n        }\n    };\n};\n/**\n * Creates new SignalServerClient instance.\n *\n * @param options the twirp options.\n */ const createSignalClient = (options)=>{\n    const transport = new _protobuf_ts_twirp_transport__WEBPACK_IMPORTED_MODULE_10__.TwirpFetchTransport({\n        ...defaultOptions,\n        ...options\n    });\n    return new SignalServerClient(transport);\n};\nconst sleep = (m)=>new Promise((r)=>setTimeout(r, m));\nfunction isFunction(value) {\n    return value && (Object.prototype.toString.call(value) === \"[object Function]\" || \"function\" === typeof value || value instanceof Function);\n}\n/**\n * A map of known error codes.\n */ const KnownCodes = {\n    TOKEN_EXPIRED: 40,\n    WS_CLOSED_SUCCESS: 1000,\n    WS_CLOSED_ABRUPTLY: 1006,\n    WS_POLICY_VIOLATION: 1008\n};\n/**\n * retryInterval - A retry interval which increases acc to number of failures\n *\n * @return {number} Duration to wait in milliseconds\n */ function retryInterval(numberOfFailures) {\n    // try to reconnect in 0.25-5 seconds (random to spread out the load from failures)\n    const max = Math.min(500 + numberOfFailures * 2000, 5000);\n    const min = Math.min(Math.max(250, (numberOfFailures - 1) * 2000), 5000);\n    return Math.floor(Math.random() * (max - min) + min);\n}\nfunction randomId() {\n    return generateUUIDv4();\n}\nfunction hex(bytes) {\n    let s = \"\";\n    for(let i = 0; i < bytes.length; i++){\n        s += bytes[i].toString(16).padStart(2, \"0\");\n    }\n    return s;\n}\n// https://tools.ietf.org/html/rfc4122\nfunction generateUUIDv4() {\n    const bytes = getRandomBytes(16);\n    bytes[6] = bytes[6] & 0x0f | 0x40; // version\n    bytes[8] = bytes[8] & 0xbf | 0x80; // variant\n    return hex(bytes.subarray(0, 4)) + \"-\" + hex(bytes.subarray(4, 6)) + \"-\" + hex(bytes.subarray(6, 8)) + \"-\" + hex(bytes.subarray(8, 10)) + \"-\" + hex(bytes.subarray(10, 16));\n}\nfunction getRandomValuesWithMathRandom(bytes) {\n    const max = Math.pow(2, 8 * bytes.byteLength / bytes.length);\n    for(let i = 0; i < bytes.length; i++){\n        bytes[i] = Math.random() * max;\n    }\n}\nconst getRandomValues = (()=>{\n    if (typeof crypto !== \"undefined\" && typeof crypto?.getRandomValues !== \"undefined\") {\n        return crypto.getRandomValues.bind(crypto);\n    } else if (typeof msCrypto !== \"undefined\") {\n        return msCrypto.getRandomValues.bind(msCrypto);\n    } else {\n        return getRandomValuesWithMathRandom;\n    }\n})();\nfunction getRandomBytes(length) {\n    const bytes = new Uint8Array(length);\n    getRandomValues(bytes);\n    return bytes;\n}\n/**\n * listenForConnectionChanges - Adds an event listener fired on browser going online or offline\n */ function addConnectionEventListeners(cb) {\n    if (false) {}\n}\nfunction removeConnectionEventListeners(cb) {\n    if (false) {}\n}\nfunction isErrorResponse(res) {\n    return !res.status || res.status < 200 || 300 <= res.status;\n}\n// Type guards to check WebSocket error type\nfunction isCloseEvent(res) {\n    return res.code !== undefined;\n}\n/**\n * Checks whether we are using React Native\n */ const isReactNative = ()=>{\n    if (typeof navigator === \"undefined\") return false;\n    return navigator.product?.toLowerCase() === \"reactnative\";\n};\n// log levels, sorted by verbosity\nconst logLevels = Object.freeze({\n    trace: 0,\n    debug: 1,\n    info: 2,\n    warn: 3,\n    error: 4\n});\nlet logger;\nlet level = \"info\";\nconst logToConsole = (logLevel, message, ...args)=>{\n    let logMethod;\n    switch(logLevel){\n        case \"error\":\n            if (isReactNative()) {\n                message = `ERROR: ${message}`;\n                logMethod = console.info;\n                break;\n            }\n            logMethod = console.error;\n            break;\n        case \"warn\":\n            if (isReactNative()) {\n                message = `WARN: ${message}`;\n                logMethod = console.info;\n                break;\n            }\n            logMethod = console.warn;\n            break;\n        case \"info\":\n            logMethod = console.info;\n            break;\n        case \"trace\":\n            logMethod = console.trace;\n            break;\n        default:\n            logMethod = console.log;\n            break;\n    }\n    logMethod(message, ...args);\n};\nconst setLogger = (l, lvl)=>{\n    logger = l;\n    if (lvl) {\n        setLogLevel(lvl);\n    }\n};\nconst setLogLevel = (l)=>{\n    level = l;\n};\nconst getLogLevel = ()=>level;\nconst getLogger = (withTags)=>{\n    const loggerMethod = logger || logToConsole;\n    const tags = (withTags || []).filter(Boolean).join(\":\");\n    const result = (logLevel, message, ...args)=>{\n        if (logLevels[logLevel] >= logLevels[level]) {\n            loggerMethod(logLevel, `[${tags}]: ${message}`, ...args);\n        }\n    };\n    return result;\n};\n/**\n * Creates a closure which wraps the given RPC call and retries invoking\n * the RPC until it succeeds or the maximum number of retries is reached.\n *\n * For each retry, there would be a delay to avoid request bursts toward the SFU.\n *\n * @param rpc the closure around the RPC call to execute.\n * @param signal the signal to abort the RPC call and retries loop.\n */ const retryable = async (rpc, signal)=>{\n    let attempt = 0;\n    let result = undefined;\n    do {\n        if (attempt > 0) await sleep(retryInterval(attempt));\n        try {\n            result = await rpc();\n        } catch (err) {\n            const isRequestCancelled = err instanceof _protobuf_ts_runtime_rpc__WEBPACK_IMPORTED_MODULE_11__.RpcError && err.code === _protobuf_ts_twirp_transport__WEBPACK_IMPORTED_MODULE_12__.TwirpErrorCode[_protobuf_ts_twirp_transport__WEBPACK_IMPORTED_MODULE_12__.TwirpErrorCode.cancelled];\n            const isAborted = signal?.aborted ?? false;\n            if (isRequestCancelled || isAborted) throw err;\n            getLogger([\n                \"sfu-client\",\n                \"rpc\"\n            ])(\"debug\", `rpc failed (${attempt})`, err);\n            attempt++;\n        }\n    }while (!result || result.response.error?.shouldRetry);\n    return result;\n};\nconst version = \"1.13.1\";\nconst [major, minor, patch] = version.split(\".\");\nlet sdkInfo = {\n    type: SdkType.PLAIN_JAVASCRIPT,\n    major,\n    minor,\n    patch\n};\nlet osInfo;\nlet deviceInfo;\nlet webRtcInfo;\nlet deviceState = {\n    oneofKind: undefined\n};\nconst setSdkInfo = (info)=>{\n    sdkInfo = info;\n};\nconst getSdkInfo = ()=>{\n    return sdkInfo;\n};\nconst setOSInfo = (info)=>{\n    osInfo = info;\n};\nconst getOSInfo = ()=>{\n    return osInfo;\n};\nconst setDeviceInfo = (info)=>{\n    deviceInfo = info;\n};\nconst getDeviceInfo = ()=>{\n    return deviceInfo;\n};\nconst getWebRTCInfo = ()=>{\n    return webRtcInfo;\n};\nconst setWebRTCInfo = (info)=>{\n    webRtcInfo = info;\n};\nconst setThermalState = (state)=>{\n    if (!osInfo) {\n        deviceState = {\n            oneofKind: undefined\n        };\n        return;\n    }\n    if (osInfo.name === \"android\") {\n        const thermalState = AndroidThermalState[state] || AndroidThermalState.UNSPECIFIED;\n        deviceState = {\n            oneofKind: \"android\",\n            android: {\n                thermalState,\n                isPowerSaverMode: deviceState?.oneofKind === \"android\" && deviceState.android.isPowerSaverMode\n            }\n        };\n    }\n    if (osInfo.name.toLowerCase() === \"ios\") {\n        const thermalState = AppleThermalState[state] || AppleThermalState.UNSPECIFIED;\n        deviceState = {\n            oneofKind: \"apple\",\n            apple: {\n                thermalState,\n                isLowPowerModeEnabled: deviceState?.oneofKind === \"apple\" && deviceState.apple.isLowPowerModeEnabled\n            }\n        };\n    }\n};\nconst setPowerState = (powerMode)=>{\n    if (!osInfo) {\n        deviceState = {\n            oneofKind: undefined\n        };\n        return;\n    }\n    if (osInfo.name === \"android\") {\n        deviceState = {\n            oneofKind: \"android\",\n            android: {\n                thermalState: deviceState?.oneofKind === \"android\" ? deviceState.android.thermalState : AndroidThermalState.UNSPECIFIED,\n                isPowerSaverMode: powerMode\n            }\n        };\n    }\n    if (osInfo.name.toLowerCase() === \"ios\") {\n        deviceState = {\n            oneofKind: \"apple\",\n            apple: {\n                thermalState: deviceState?.oneofKind === \"apple\" ? deviceState.apple.thermalState : AppleThermalState.UNSPECIFIED,\n                isLowPowerModeEnabled: powerMode\n            }\n        };\n    }\n};\nconst getDeviceState = ()=>{\n    return deviceState;\n};\nconst getClientDetails = ()=>{\n    if (isReactNative()) {\n        // Since RN doesn't support web, sharing browser info is not required\n        return {\n            sdk: getSdkInfo(),\n            os: getOSInfo(),\n            device: getDeviceInfo()\n        };\n    }\n    const userAgent = new ua_parser_js__WEBPACK_IMPORTED_MODULE_2__.UAParser(navigator.userAgent);\n    const { browser, os, device, cpu } = userAgent.getResult();\n    return {\n        sdk: getSdkInfo(),\n        browser: {\n            name: browser.name || navigator.userAgent,\n            version: browser.version || \"\"\n        },\n        os: {\n            name: os.name || \"\",\n            version: os.version || \"\",\n            architecture: cpu.architecture || \"\"\n        },\n        device: {\n            name: [\n                device.vendor,\n                device.model,\n                device.type\n            ].filter(Boolean).join(\" \"),\n            version: \"\"\n        }\n    };\n};\n/**\n * Checks whether the current browser is Safari.\n */ const isSafari = ()=>{\n    if (typeof navigator === \"undefined\") return false;\n    return /^((?!chrome|android).)*safari/i.test(navigator.userAgent || \"\");\n};\n/**\n * Checks whether the current browser is Firefox.\n */ const isFirefox = ()=>{\n    if (typeof navigator === \"undefined\") return false;\n    return navigator.userAgent?.includes(\"Firefox\");\n};\n/**\n * Checks whether the current browser is Google Chrome.\n */ const isChrome = ()=>{\n    if (typeof navigator === \"undefined\") return false;\n    return navigator.userAgent?.includes(\"Chrome\");\n};\nvar browsers = /*#__PURE__*/ Object.freeze({\n    __proto__: null,\n    isChrome: isChrome,\n    isFirefox: isFirefox,\n    isSafari: isSafari\n});\n/**\n * Returns back a list of sorted codecs, with the preferred codec first.\n *\n * @param kind the kind of codec to get.\n * @param preferredCodec the codec to prioritize (vp8, h264, vp9, av1...).\n * @param codecToRemove the codec to exclude from the list.\n * @param codecPreferencesSource the source of the codec preferences.\n */ const getPreferredCodecs = (kind, preferredCodec, codecToRemove, codecPreferencesSource)=>{\n    const source = codecPreferencesSource === \"receiver\" ? RTCRtpReceiver : RTCRtpSender;\n    if (!(\"getCapabilities\" in source)) return;\n    const capabilities = source.getCapabilities(kind);\n    if (!capabilities) return;\n    const preferred = [];\n    const partiallyPreferred = [];\n    const unpreferred = [];\n    const preferredCodecMimeType = `${kind}/${preferredCodec.toLowerCase()}`;\n    const codecToRemoveMimeType = codecToRemove && `${kind}/${codecToRemove.toLowerCase()}`;\n    for (const codec of capabilities.codecs){\n        const codecMimeType = codec.mimeType.toLowerCase();\n        const shouldRemoveCodec = codecMimeType === codecToRemoveMimeType;\n        if (shouldRemoveCodec) continue; // skip this codec\n        const isPreferredCodec = codecMimeType === preferredCodecMimeType;\n        if (!isPreferredCodec) {\n            unpreferred.push(codec);\n            continue;\n        }\n        // h264 is a special case, we want to prioritize the baseline codec with\n        // profile-level-id is 42e01f and packetization-mode=0 for maximum\n        // cross-browser compatibility.\n        // this branch covers the other cases, such as vp8.\n        if (codecMimeType !== \"video/h264\") {\n            preferred.push(codec);\n            continue;\n        }\n        const sdpFmtpLine = codec.sdpFmtpLine;\n        if (!sdpFmtpLine || !sdpFmtpLine.includes(\"profile-level-id=42\")) {\n            // this is not the baseline h264 codec, prioritize it lower\n            partiallyPreferred.push(codec);\n            continue;\n        }\n        if (sdpFmtpLine.includes(\"packetization-mode=1\")) {\n            preferred.unshift(codec);\n        } else {\n            preferred.push(codec);\n        }\n    }\n    // return a sorted list of codecs, with the preferred codecs first\n    return [\n        ...preferred,\n        ...partiallyPreferred,\n        ...unpreferred\n    ];\n};\n/**\n * Returns a generic SDP for the given direction.\n * We use this SDP to send it as part of our JoinRequest so that the SFU\n * can use it to determine client's codec capabilities.\n *\n * @param direction the direction of the transceiver.\n */ const getGenericSdp = async (direction)=>{\n    const tempPc = new RTCPeerConnection();\n    tempPc.addTransceiver(\"video\", {\n        direction\n    });\n    tempPc.addTransceiver(\"audio\", {\n        direction\n    });\n    const offer = await tempPc.createOffer();\n    const sdp = offer.sdp ?? \"\";\n    tempPc.getTransceivers().forEach((t)=>{\n        t.stop?.();\n    });\n    tempPc.close();\n    return sdp;\n};\n/**\n * Returns the optimal video codec for the device.\n */ const getOptimalVideoCodec = (preferredCodec)=>{\n    if (isReactNative()) {\n        const os = getOSInfo()?.name.toLowerCase();\n        if (os === \"android\") return preferredOr(preferredCodec, \"vp8\");\n        if (os === \"ios\" || os === \"ipados\") {\n            return supportsH264Baseline() ? \"h264\" : \"vp8\";\n        }\n        return preferredOr(preferredCodec, \"h264\");\n    }\n    if (isSafari()) return \"h264\";\n    if (isFirefox()) return \"vp8\";\n    return preferredOr(preferredCodec, \"vp8\");\n};\n/**\n * Determines if the platform supports the preferred codec.\n * If not, it returns the fallback codec.\n */ const preferredOr = (codec, fallback)=>{\n    if (!codec) return fallback;\n    if (!(\"getCapabilities\" in RTCRtpSender)) return fallback;\n    const capabilities = RTCRtpSender.getCapabilities(\"video\");\n    if (!capabilities) return fallback;\n    // Safari and Firefox do not have a good support encoding to SVC codecs,\n    // so we disable it for them.\n    if (isSvcCodec(codec) && (isSafari() || isFirefox())) return fallback;\n    const { codecs } = capabilities;\n    const codecMimeType = `video/${codec}`.toLowerCase();\n    return codecs.some((c)=>c.mimeType.toLowerCase() === codecMimeType) ? codec : fallback;\n};\n/**\n * Returns whether the platform supports the H264 baseline codec.\n */ const supportsH264Baseline = ()=>{\n    if (!(\"getCapabilities\" in RTCRtpSender)) return false;\n    const capabilities = RTCRtpSender.getCapabilities(\"video\");\n    if (!capabilities) return false;\n    return capabilities.codecs.some((c)=>c.mimeType.toLowerCase() === \"video/h264\" && c.sdpFmtpLine?.includes(\"profile-level-id=42e01f\"));\n};\n/**\n * Returns whether the codec is an SVC codec.\n *\n * @param codecOrMimeType the codec to check.\n */ const isSvcCodec = (codecOrMimeType)=>{\n    if (!codecOrMimeType) return false;\n    codecOrMimeType = codecOrMimeType.toLowerCase();\n    return codecOrMimeType === \"vp9\" || codecOrMimeType === \"av1\" || codecOrMimeType === \"video/vp9\" || codecOrMimeType === \"video/av1\";\n};\nconst sfuEventKinds = {\n    subscriberOffer: undefined,\n    publisherAnswer: undefined,\n    connectionQualityChanged: undefined,\n    audioLevelChanged: undefined,\n    iceTrickle: undefined,\n    changePublishQuality: undefined,\n    participantJoined: undefined,\n    participantLeft: undefined,\n    dominantSpeakerChanged: undefined,\n    joinResponse: undefined,\n    healthCheckResponse: undefined,\n    trackPublished: undefined,\n    trackUnpublished: undefined,\n    error: undefined,\n    callGrantsUpdated: undefined,\n    goAway: undefined,\n    iceRestart: undefined,\n    pinsUpdated: undefined,\n    callEnded: undefined,\n    participantUpdated: undefined,\n    participantMigrationComplete: undefined,\n    codecNegotiationComplete: undefined,\n    changePublishOptions: undefined\n};\nconst isSfuEvent = (eventName)=>{\n    return Object.prototype.hasOwnProperty.call(sfuEventKinds, eventName);\n};\nclass Dispatcher {\n    constructor(){\n        this.logger = getLogger([\n            \"Dispatcher\"\n        ]);\n        this.subscribers = {};\n        this.dispatch = (message, logTag = \"0\")=>{\n            const eventKind = message.eventPayload.oneofKind;\n            if (!eventKind) return;\n            const payload = message.eventPayload[eventKind];\n            this.logger(\"debug\", `Dispatching ${eventKind}, tag=${logTag}`, payload);\n            const listeners = this.subscribers[eventKind];\n            if (!listeners) return;\n            for (const fn of listeners){\n                try {\n                    fn(payload);\n                } catch (e) {\n                    this.logger(\"warn\", \"Listener failed with error\", e);\n                }\n            }\n        };\n        this.on = (eventName, fn)=>{\n            var _a;\n            ((_a = this.subscribers)[eventName] ?? (_a[eventName] = [])).push(fn);\n            return ()=>{\n                this.off(eventName, fn);\n            };\n        };\n        this.off = (eventName, fn)=>{\n            this.subscribers[eventName] = (this.subscribers[eventName] || []).filter((f)=>f !== fn);\n        };\n        this.offAll = (eventName)=>{\n            if (eventName) {\n                this.subscribers[eventName] = [];\n            } else {\n                this.subscribers = {};\n            }\n        };\n    }\n}\n/**\n * A buffer for ICE Candidates. Used for ICE Trickle:\n * - https://bloggeek.me/webrtcglossary/trickle-ice/\n */ class IceTrickleBuffer {\n    constructor(){\n        this.subscriberCandidates = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_13__.ReplaySubject();\n        this.publisherCandidates = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_13__.ReplaySubject();\n        this.push = (iceTrickle)=>{\n            if (iceTrickle.peerType === PeerType.SUBSCRIBER) {\n                this.subscriberCandidates.next(iceTrickle);\n            } else if (iceTrickle.peerType === PeerType.PUBLISHER_UNSPECIFIED) {\n                this.publisherCandidates.next(iceTrickle);\n            } else {\n                const logger = getLogger([\n                    \"sfu-client\"\n                ]);\n                logger(\"warn\", `ICETrickle, Unknown peer type`, iceTrickle);\n            }\n        };\n    }\n}\nfunction getIceCandidate(candidate) {\n    if (!candidate.usernameFragment) {\n        // react-native-webrtc doesn't include usernameFragment in the candidate\n        const splittedCandidate = candidate.candidate.split(\" \");\n        const ufragIndex = splittedCandidate.findIndex((s)=>s === \"ufrag\") + 1;\n        const usernameFragment = splittedCandidate[ufragIndex];\n        return JSON.stringify({\n            ...candidate,\n            usernameFragment\n        });\n    } else {\n        return JSON.stringify(candidate.toJSON());\n    }\n}\nconst bitrateLookupTable = {\n    h264: {\n        2160: 5000000,\n        1440: 3000000,\n        1080: 2000000,\n        720: 1250000,\n        540: 750000,\n        360: 400000,\n        default: 1250000\n    },\n    vp8: {\n        2160: 5000000,\n        1440: 2750000,\n        1080: 2000000,\n        720: 1250000,\n        540: 600000,\n        360: 350000,\n        default: 1250000\n    },\n    vp9: {\n        2160: 3000000,\n        1440: 2000000,\n        1080: 1500000,\n        720: 1250000,\n        540: 500000,\n        360: 275000,\n        default: 1250000\n    },\n    av1: {\n        2160: 2000000,\n        1440: 1550000,\n        1080: 1000000,\n        720: 600000,\n        540: 350000,\n        360: 200000,\n        default: 600000\n    }\n};\nconst getOptimalBitrate = (codec, frameHeight)=>{\n    const codecLookup = bitrateLookupTable[codec];\n    if (!codecLookup) throw new Error(`Unknown codec: ${codec}`);\n    let bitrate = codecLookup[frameHeight];\n    if (!bitrate) {\n        const keys = Object.keys(codecLookup).map(Number);\n        const nearest = keys.reduce((a, b)=>Math.abs(b - frameHeight) < Math.abs(a - frameHeight) ? b : a);\n        bitrate = codecLookup[nearest];\n    }\n    return bitrate ?? codecLookup.default;\n};\nconst DEFAULT_BITRATE = 1250000;\nconst defaultTargetResolution = {\n    bitrate: DEFAULT_BITRATE,\n    width: 1280,\n    height: 720\n};\nconst defaultBitratePerRid = {\n    q: 300000,\n    h: 750000,\n    f: DEFAULT_BITRATE\n};\n/**\n * In SVC, we need to send only one video encoding (layer).\n * this layer will have the additional spatial and temporal layers\n * defined via the scalabilityMode property.\n *\n * @param layers the layers to process.\n */ const toSvcEncodings = (layers)=>{\n    // we take the `f` layer, and we rename it to `q`.\n    return layers?.filter((l)=>l.rid === \"f\").map((l)=>({\n            ...l,\n            rid: \"q\"\n        }));\n};\n/**\n * Converts the rid to a video quality.\n */ const ridToVideoQuality = (rid)=>{\n    return rid === \"q\" ? VideoQuality.LOW_UNSPECIFIED : rid === \"h\" ? VideoQuality.MID : VideoQuality.HIGH; // default to HIGH\n};\n/**\n * Determines the most optimal video layers for simulcasting\n * for the given track.\n *\n * @param videoTrack the video track to find optimal layers for.\n * @param targetResolution the expected target resolution.\n * @param codecInUse the codec in use.\n * @param publishOptions the publish options for the track.\n */ const findOptimalVideoLayers = (videoTrack, targetResolution = defaultTargetResolution, codecInUse, publishOptions)=>{\n    const optimalVideoLayers = [];\n    const settings = videoTrack.getSettings();\n    const { width = 0, height = 0 } = settings;\n    const { scalabilityMode, bitrateDownscaleFactor = 2, maxSimulcastLayers = 3 } = publishOptions || {};\n    const maxBitrate = getComputedMaxBitrate(targetResolution, width, height, codecInUse, publishOptions);\n    let downscaleFactor = 1;\n    let bitrateFactor = 1;\n    const svcCodec = isSvcCodec(codecInUse);\n    const totalLayers = svcCodec ? 3 : Math.min(3, maxSimulcastLayers);\n    for (const rid of [\n        \"f\",\n        \"h\",\n        \"q\"\n    ].slice(0, totalLayers)){\n        const layer = {\n            active: true,\n            rid,\n            width: Math.round(width / downscaleFactor),\n            height: Math.round(height / downscaleFactor),\n            maxBitrate: Math.round(maxBitrate / bitrateFactor) || defaultBitratePerRid[rid],\n            maxFramerate: 30\n        };\n        if (svcCodec) {\n            // for SVC codecs, we need to set the scalability mode, and the\n            // codec will handle the rest (layers, temporal layers, etc.)\n            layer.scalabilityMode = scalabilityMode || \"L3T2_KEY\";\n        } else {\n            // for non-SVC codecs, we need to downscale proportionally (simulcast)\n            layer.scaleResolutionDownBy = downscaleFactor;\n        }\n        downscaleFactor *= 2;\n        bitrateFactor *= bitrateDownscaleFactor;\n        // Reversing the order [f, h, q] to [q, h, f] as Chrome uses encoding index\n        // when deciding which layer to disable when CPU or bandwidth is constrained.\n        // Encodings should be ordered in increasing spatial resolution order.\n        optimalVideoLayers.unshift(layer);\n    }\n    // for simplicity, we start with all layers enabled, then this function\n    // will clear/reassign the layers that are not needed\n    return withSimulcastConstraints(settings, optimalVideoLayers);\n};\n/**\n * Computes the maximum bitrate for a given resolution.\n * If the current resolution is lower than the target resolution,\n * we want to proportionally reduce the target bitrate.\n * If the current resolution is higher than the target resolution,\n * we want to use the target bitrate.\n *\n * @param targetResolution the target resolution.\n * @param currentWidth the current width of the track.\n * @param currentHeight the current height of the track.\n * @param codecInUse the codec in use.\n * @param publishOptions the publish options.\n */ const getComputedMaxBitrate = (targetResolution, currentWidth, currentHeight, codecInUse, publishOptions)=>{\n    // if the current resolution is lower than the target resolution,\n    // we want to proportionally reduce the target bitrate\n    const { width: targetWidth, height: targetHeight, bitrate: targetBitrate } = targetResolution;\n    const { preferredBitrate } = publishOptions || {};\n    const frameHeight = currentWidth > currentHeight ? currentHeight : currentWidth;\n    const bitrate = preferredBitrate || (codecInUse ? getOptimalBitrate(codecInUse, frameHeight) : targetBitrate);\n    if (currentWidth < targetWidth || currentHeight < targetHeight) {\n        const currentPixels = currentWidth * currentHeight;\n        const targetPixels = targetWidth * targetHeight;\n        const reductionFactor = currentPixels / targetPixels;\n        return Math.round(bitrate * reductionFactor);\n    }\n    return bitrate;\n};\n/**\n * Browsers have different simulcast constraints for different video resolutions.\n *\n * This function modifies the provided list of video layers according to the\n * current implementation of simulcast constraints in the Chromium based browsers.\n *\n * https://chromium.googlesource.com/external/webrtc/+/refs/heads/main/media/engine/simulcast.cc#90\n */ const withSimulcastConstraints = (settings, optimalVideoLayers)=>{\n    let layers;\n    const size = Math.max(settings.width || 0, settings.height || 0);\n    if (size <= 320) {\n        // provide only one layer 320x240 (q), the one with the highest quality\n        layers = optimalVideoLayers.filter((layer)=>layer.rid === \"f\");\n    } else if (size <= 640) {\n        // provide two layers, 160x120 (q) and 640x480 (h)\n        layers = optimalVideoLayers.filter((layer)=>layer.rid !== \"h\");\n    } else {\n        // provide three layers for sizes > 640x480\n        layers = optimalVideoLayers;\n    }\n    const ridMapping = [\n        \"q\",\n        \"h\",\n        \"f\"\n    ];\n    return layers.map((layer, index)=>({\n            ...layer,\n            rid: ridMapping[index]\n        }));\n};\nconst findOptimalScreenSharingLayers = (videoTrack, publishOptions, defaultMaxBitrate = 3000000)=>{\n    const { screenShareSettings: preferences } = publishOptions || {};\n    const settings = videoTrack.getSettings();\n    return [\n        {\n            active: true,\n            rid: \"q\",\n            width: settings.width || 0,\n            height: settings.height || 0,\n            scaleResolutionDownBy: 1,\n            maxBitrate: preferences?.maxBitrate ?? defaultMaxBitrate,\n            maxFramerate: preferences?.maxFramerate ?? 30\n        }\n    ];\n};\nconst ensureExhausted = (x, message)=>{\n    getLogger([\n        \"helpers\"\n    ])(\"warn\", message, x);\n};\nconst trackTypeToParticipantStreamKey = (trackType)=>{\n    switch(trackType){\n        case TrackType.SCREEN_SHARE:\n            return \"screenShareStream\";\n        case TrackType.SCREEN_SHARE_AUDIO:\n            return \"screenShareAudioStream\";\n        case TrackType.VIDEO:\n            return \"videoStream\";\n        case TrackType.AUDIO:\n            return \"audioStream\";\n        case TrackType.UNSPECIFIED:\n            throw new Error(\"Track type is unspecified\");\n        default:\n            ensureExhausted(trackType, \"Unknown track type\");\n    }\n};\nconst muteTypeToTrackType = (muteType)=>{\n    switch(muteType){\n        case \"audio\":\n            return TrackType.AUDIO;\n        case \"video\":\n            return TrackType.VIDEO;\n        case \"screenshare\":\n            return TrackType.SCREEN_SHARE;\n        case \"screenshare_audio\":\n            return TrackType.SCREEN_SHARE_AUDIO;\n        default:\n            ensureExhausted(muteType, \"Unknown mute type\");\n    }\n};\nconst toTrackType = (trackType)=>{\n    switch(trackType){\n        case \"TRACK_TYPE_AUDIO\":\n            return TrackType.AUDIO;\n        case \"TRACK_TYPE_VIDEO\":\n            return TrackType.VIDEO;\n        case \"TRACK_TYPE_SCREEN_SHARE\":\n            return TrackType.SCREEN_SHARE;\n        case \"TRACK_TYPE_SCREEN_SHARE_AUDIO\":\n            return TrackType.SCREEN_SHARE_AUDIO;\n        default:\n            return undefined;\n    }\n};\n/**\n * Runs async functions serially. Useful for wrapping async actions that\n * should never run simultaneously: if marked with the same tag, functions\n * will run one after another.\n *\n * @param tag Async functions with the same tag will run serially. Async functions\n * with different tags can run in parallel.\n * @param cb Async function to run.\n * @returns Promise that resolves when async functions returns.\n */ const withoutConcurrency = createRunner(wrapWithContinuationTracking);\n/**\n * Runs async functions serially, and cancels all other actions with the same tag\n * when a new action is scheduled. Useful for wrapping async actions that override\n * each other (e.g. enabling and disabling camera).\n *\n * If an async function hasn't started yet and was canceled, it will never run.\n * If an async function is already running and was canceled, it will be notified\n * via an abort signal passed as an argument.\n *\n * @param tag Async functions with the same tag will run serially and are canceled\n * when a new action with the same tag is scheduled.\n * @param cb Async function to run. Receives AbortSignal as the only argument.\n * @returns Promise that resolves when async functions returns. If the function didn't\n * start and was canceled, will resolve with 'canceled'. If the function started to run,\n * it's up to the function to decide how to react to cancelation.\n */ const withCancellation = createRunner(wrapWithCancellation);\nconst pendingPromises = new Map();\nasync function settled(tag) {\n    await pendingPromises.get(tag)?.promise;\n}\n/**\n * Implements common functionality of running async functions serially, by chaining\n * their promises one after another.\n *\n * Before running, async function is \"wrapped\" using the provided wrapper. This wrapper\n * can add additional steps to run before or after the function.\n *\n * When async function is scheduled to run, the previous function is notified\n * by calling the associated onContinued callback. This behavior of this callback\n * is defined by the wrapper.\n */ function createRunner(wrapper) {\n    return function run(tag, cb) {\n        const { cb: wrapped, onContinued } = wrapper(tag, cb);\n        const pending = pendingPromises.get(tag);\n        pending?.onContinued();\n        const promise = pending ? pending.promise.then(wrapped, wrapped) : wrapped();\n        pendingPromises.set(tag, {\n            promise,\n            onContinued\n        });\n        return promise;\n    };\n}\n/**\n * Wraps an async function with an additional step run after the function:\n * if the function is the last in the queue, it cleans up the whole chain\n * of promises after finishing.\n */ function wrapWithContinuationTracking(tag, cb) {\n    let hasContinuation = false;\n    const wrapped = ()=>cb().finally(()=>{\n            if (!hasContinuation) {\n                pendingPromises.delete(tag);\n            }\n        });\n    const onContinued = ()=>hasContinuation = true;\n    return {\n        cb: wrapped,\n        onContinued\n    };\n}\n/**\n * Wraps an async function with additional functionalilty:\n * 1. Associates an abort signal with every function, that is passed to it\n *    as an argument. When a new function is scheduled to run after the current\n *    one, current signal is aborted.\n * 2. If current function didn't start and was aborted, in will never start.\n * 3. If the function is the last in the queue, it cleans up the whole chain\n *    of promises after finishing.\n */ function wrapWithCancellation(tag, cb) {\n    const ac = new AbortController();\n    const wrapped = ()=>{\n        if (ac.signal.aborted) {\n            return Promise.resolve(\"canceled\");\n        }\n        return cb(ac.signal).finally(()=>{\n            if (!ac.signal.aborted) {\n                pendingPromises.delete(tag);\n            }\n        });\n    };\n    const onContinued = ()=>ac.abort();\n    return {\n        cb: wrapped,\n        onContinued\n    };\n}\n/**\n * Checks if the provided update is a function patch.\n *\n * @param update the value to check.\n */ const isFunctionPatch = (update)=>typeof update === \"function\";\n/**\n * Gets the current value of an observable, or undefined if the observable has\n * not emitted a value yet.\n *\n * @param observable$ the observable to get the value from.\n */ const getCurrentValue = (observable$)=>{\n    let value;\n    let err = undefined;\n    (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_14__.combineLatest)([\n        observable$\n    ]).subscribe({\n        next: ([v])=>{\n            value = v;\n        },\n        error: (e)=>{\n            err = e;\n        }\n    }).unsubscribe();\n    if (err) throw err;\n    return value;\n};\n/**\n * Updates the value of the provided Subject.\n * An `update` can either be a new value or a function which takes\n * the current value and returns a new value.\n *\n * @param subject the subject to update.\n * @param update the update to apply to the subject.\n * @return the updated value.\n */ const setCurrentValue = (subject, update)=>{\n    const next = isFunctionPatch(update) ? update(getCurrentValue(subject)) : update;\n    subject.next(next);\n    return next;\n};\n/**\n * Creates a subscription and returns a function to unsubscribe.\n *\n * @param observable the observable to subscribe to.\n * @param handler the handler to call when the observable emits a value.\n * @param onError an optional error handler.\n */ const createSubscription = (observable, handler, onError = (error)=>getLogger([\n        \"RxUtils\"\n    ])(\"warn\", \"An observable emitted an error\", error))=>{\n    const subscription = observable.subscribe({\n        next: handler,\n        error: onError\n    });\n    return ()=>{\n        subscription.unsubscribe();\n    };\n};\n/**\n * Creates a subscription and returns a function to unsubscribe. Makes sure that\n * only one async handler runs at the same time. If updates come in quicker than\n * it takes for the current handler to finish, other handlers will wait.\n *\n * @param observable the observable to subscribe to.\n * @param handler the async handler to call when the observable emits a value.\n */ const createSafeAsyncSubscription = (observable, handler)=>{\n    const tag = Symbol();\n    return createSubscription(observable, (value)=>{\n        withoutConcurrency(tag, ()=>handler(value));\n    });\n};\nvar rxUtils = /*#__PURE__*/ Object.freeze({\n    __proto__: null,\n    createSafeAsyncSubscription: createSafeAsyncSubscription,\n    createSubscription: createSubscription,\n    getCurrentValue: getCurrentValue,\n    setCurrentValue: setCurrentValue\n});\n/**\n * Represents the state of the current call.\n */ var CallingState;\n(function(CallingState) {\n    /**\n     * The call is in an unknown state.\n     */ CallingState[\"UNKNOWN\"] = \"unknown\";\n    /**\n     * The call is in an idle state.\n     */ CallingState[\"IDLE\"] = \"idle\";\n    /**\n     * The call is in the process of ringing.\n     * (User hasn't accepted nor rejected the call yet.)\n     */ CallingState[\"RINGING\"] = \"ringing\";\n    /**\n     * The call is in the process of joining.\n     */ CallingState[\"JOINING\"] = \"joining\";\n    /**\n     * The call is currently active.\n     */ CallingState[\"JOINED\"] = \"joined\";\n    /**\n     * The call has been left.\n     */ CallingState[\"LEFT\"] = \"left\";\n    /**\n     * The call is in the process of reconnecting.\n     */ CallingState[\"RECONNECTING\"] = \"reconnecting\";\n    /**\n     * The call is in the process of migrating from one node to another.\n     */ CallingState[\"MIGRATING\"] = \"migrating\";\n    /**\n     * The call has failed to reconnect.\n     */ CallingState[\"RECONNECTING_FAILED\"] = \"reconnecting-failed\";\n    /**\n     * The call is in offline mode.\n     */ CallingState[\"OFFLINE\"] = \"offline\";\n})(CallingState || (CallingState = {}));\nclass StreamVideoWriteableStateStore {\n    constructor(){\n        /**\n         * A store keeping data of a successfully connected user over WS to the coordinator server.\n         */ this.connectedUserSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(undefined);\n        /**\n         * A list of {@link Call} objects created/tracked by this client.\n         */ this.callsSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject([]);\n        /**\n         * Sets the currently connected user.\n         *\n         * @internal\n         * @param user the user to set as connected.\n         */ this.setConnectedUser = (user)=>{\n            return setCurrentValue(this.connectedUserSubject, user);\n        };\n        /**\n         * Sets the list of {@link Call} objects created/tracked by this client.\n         * @param calls\n         */ this.setCalls = (calls)=>{\n            return setCurrentValue(this.callsSubject, calls);\n        };\n        /**\n         * Adds a {@link Call} object to the list of {@link Call} objects created/tracked by this client.\n         *\n         * @param call the call to add.\n         */ this.registerCall = (call)=>{\n            if (!this.calls.find((c)=>c.cid === call.cid)) {\n                this.setCalls((calls)=>[\n                        ...calls,\n                        call\n                    ]);\n            }\n        };\n        /**\n         * Removes a {@link Call} object from the list of {@link Call} objects created/tracked by this client.\n         *\n         * @param call the call to remove\n         */ this.unregisterCall = (call)=>{\n            return this.setCalls((calls)=>calls.filter((c)=>c !== call));\n        };\n        /**\n         * Finds a {@link Call} object in the list of {@link Call} objects created/tracked by this client.\n         *\n         * @param type the type of call to find.\n         * @param id the id of the call to find.\n         */ this.findCall = (type, id)=>{\n            return this.calls.find((c)=>c.type === type && c.id === id);\n        };\n        this.connectedUserSubject.subscribe(async (user)=>{\n            // leave all calls when the user disconnects.\n            if (!user) {\n                const logger = getLogger([\n                    \"client-state\"\n                ]);\n                for (const call of this.calls){\n                    if (call.state.callingState === CallingState.LEFT) continue;\n                    logger(\"info\", `User disconnected, leaving call: ${call.cid}`);\n                    await call.leave({\n                        reason: \"client.disconnectUser() called\"\n                    }).catch((err)=>{\n                        logger(\"error\", `Error leaving call: ${call.cid}`, err);\n                    });\n                }\n            }\n        });\n    }\n    /**\n     * The currently connected user.\n     */ get connectedUser() {\n        return getCurrentValue(this.connectedUserSubject);\n    }\n    /**\n     * A list of {@link Call} objects created/tracked by this client.\n     */ get calls() {\n        return getCurrentValue(this.callsSubject);\n    }\n}\n/**\n * A reactive store that exposes state variables in a reactive manner.\n * You can subscribe to changes of the different state variables.\n * This central store contains all the state variables related to [`StreamVideoClient`](./StreamVideClient.md) and [`Call`](./Call.md).\n */ class StreamVideoReadOnlyStateStore {\n    constructor(store){\n        /**\n         * This method allows you the get the current value of a state variable.\n         *\n         * @param observable the observable to get the current value of.\n         * @returns the current value of the observable.\n         */ this.getCurrentValue = getCurrentValue;\n        // convert and expose subjects as observables\n        this.connectedUser$ = store.connectedUserSubject.asObservable();\n        this.calls$ = store.callsSubject.asObservable();\n    }\n    /**\n     * The current user connected over WS to the backend.\n     */ get connectedUser() {\n        return getCurrentValue(this.connectedUser$);\n    }\n    /**\n     * A list of {@link Call} objects created/tracked by this client.\n     */ get calls() {\n        return getCurrentValue(this.calls$);\n    }\n}\n/**\n * Creates a new combined {@link Comparator<T>} which sorts items by the given comparators.\n * The comparators are applied in the order they are given (left -> right).\n *\n * @param comparators the comparators to use for sorting.\n * @returns a combined {@link Comparator<T>}.\n */ const combineComparators = (...comparators)=>{\n    return (a, b)=>{\n        for (const comparator of comparators){\n            const result = comparator(a, b);\n            if (result !== 0) return result;\n        }\n        return 0;\n    };\n};\n/**\n * Creates a new comparator which sorts items in descending order.\n *\n * @example\n * const byValue = (a, b) => a < b ? - 1 : a > b ? 1 : 0;\n * const byValueDesc = descending(byValue);\n *\n * @param comparator the comparator to wrap.\n */ const descending = (comparator)=>{\n    return (a, b)=>comparator(b, a);\n};\n/**\n * Creates a new comparator which conditionally applies the given comparator.\n *\n * @example\n * const shouldSortByValue = (a, b) => a % 2 === 0; // return false to turn it off\n * const byValue = (a, b) => a < b ? - 1 : a > b ? 1 : 0;\n * const comparator = conditional(shouldSortByValue)(byValue);\n *\n * @param predicate the predicate to use for determining whether to apply the comparator.\n */ const conditional = (predicate)=>{\n    return (comparator)=>{\n        return (a, b)=>{\n            if (!predicate(a, b)) return 0;\n            return comparator(a, b);\n        };\n    };\n};\n/**\n * A no-op comparator which always returns 0.\n */ const noopComparator = ()=>{\n    return ()=>0;\n};\n/**\n * Check if a participant has a video.\n *\n * @param p the participant to check.\n */ const hasVideo = (p)=>p.publishedTracks.includes(TrackType.VIDEO);\n/**\n * Check if a participant has audio.\n *\n * @param p the participant to check.\n */ const hasAudio = (p)=>p.publishedTracks.includes(TrackType.AUDIO);\n/**\n * Check if a participant is screen sharing.\n *\n * @param p the participant to check.\n */ const hasScreenShare = (p)=>p.publishedTracks.includes(TrackType.SCREEN_SHARE);\n/**\n * Check if a participant is screen sharing audio.\n *\n * @param p the participant to check.\n */ const hasScreenShareAudio = (p)=>p.publishedTracks.includes(TrackType.SCREEN_SHARE_AUDIO);\n/**\n * Check if the participant is pinned.\n *\n * @param p the participant.\n */ const isPinned = (p)=>!!p.pin && (p.pin.isLocalPin || p.pin.pinnedAt > 0);\n/**\n * A comparator which sorts participants by the fact that they are the dominant speaker or not.\n *\n * @param a the first participant.\n * @param b the second participant.\n */ const dominantSpeaker = (a, b)=>{\n    if (a.isDominantSpeaker && !b.isDominantSpeaker) return -1;\n    if (!a.isDominantSpeaker && b.isDominantSpeaker) return 1;\n    return 0;\n};\n/**\n * A comparator which sorts participants by the fact that they are speaking or not.\n *\n * @param a the first participant.\n * @param b the second participant.\n */ const speaking = (a, b)=>{\n    if (a.isSpeaking && !b.isSpeaking) return -1;\n    if (!a.isSpeaking && b.isSpeaking) return 1;\n    return 0;\n};\n/**\n * A comparator which sorts participants by screen sharing status.\n *\n * @param a the first participant.\n * @param b the second participant.\n */ const screenSharing = (a, b)=>{\n    if (hasScreenShare(a) && !hasScreenShare(b)) return -1;\n    if (!hasScreenShare(a) && hasScreenShare(b)) return 1;\n    return 0;\n};\n/**\n * A comparator which sorts participants by video status.\n *\n * @param a the first participant.\n * @param b the second participant.\n */ const publishingVideo = (a, b)=>{\n    if (hasVideo(a) && !hasVideo(b)) return -1;\n    if (!hasVideo(a) && hasVideo(b)) return 1;\n    return 0;\n};\n/**\n * A comparator which sorts participants by audio status.\n *\n * @param a the first participant.\n * @param b the second participant.\n */ const publishingAudio = (a, b)=>{\n    if (hasAudio(a) && !hasAudio(b)) return -1;\n    if (!hasAudio(a) && hasAudio(b)) return 1;\n    return 0;\n};\n/**\n * A comparator which prioritizes participants who are pinned.\n *\n * @param a the first participant.\n * @param b the second participant.\n */ const pinned = (a, b)=>{\n    if (a.pin && b.pin) {\n        if (!a.pin.isLocalPin && b.pin.isLocalPin) return -1;\n        if (a.pin.isLocalPin && !b.pin.isLocalPin) return 1;\n        if (a.pin.pinnedAt > b.pin.pinnedAt) return -1;\n        if (a.pin.pinnedAt < b.pin.pinnedAt) return 1;\n    }\n    if (a.pin && !b.pin) return -1;\n    if (!a.pin && b.pin) return 1;\n    return 0;\n};\n/**\n * A comparator creator which will set up a comparator which prioritizes\n * participants who have a specific reaction.\n *\n * @param type the reaction type.\n */ const reactionType = (type)=>{\n    return (a, b)=>{\n        if (a.reaction?.type === type && b.reaction?.type !== type) return -1;\n        if (a.reaction?.type !== type && b.reaction?.type === type) return 1;\n        return 0;\n    };\n};\n/**\n * A comparator creator which will set up a comparator which prioritizes\n * participants who have a specific role.\n *\n * @param roles the roles to prioritize.\n */ const role = (...roles)=>(a, b)=>{\n        if (hasAnyRole(a, roles) && !hasAnyRole(b, roles)) return -1;\n        if (!hasAnyRole(a, roles) && hasAnyRole(b, roles)) return 1;\n        return 0;\n    };\n/**\n * A comparator which sorts participants by name.\n *\n * @param a the first participant.\n * @param b the second participant.\n */ const name = (a, b)=>{\n    if (a.name < b.name) return -1;\n    if (a.name > b.name) return 1;\n    return 0;\n};\nconst hasAnyRole = (p, roles)=>(p.roles || []).some((r)=>roles.includes(r));\n// a comparator decorator which applies the decorated comparator only if the\n// participant is invisible.\n// This ensures stable sorting when all participants are visible.\nconst ifInvisibleBy = conditional((a, b)=>a.viewportVisibilityState?.videoTrack === VisibilityState.INVISIBLE || b.viewportVisibilityState?.videoTrack === VisibilityState.INVISIBLE);\n/**\n * A comparator that applies the decorated comparator when a participant is\n * either invisible or its visibility state isn't known.\n * For visible participants, it ensures stable sorting.\n */ const ifInvisibleOrUnknownBy = conditional((a, b)=>a.viewportVisibilityState?.videoTrack === VisibilityState.INVISIBLE || a.viewportVisibilityState?.videoTrack === VisibilityState.UNKNOWN || b.viewportVisibilityState?.videoTrack === VisibilityState.INVISIBLE || b.viewportVisibilityState?.videoTrack === VisibilityState.UNKNOWN);\n/**\n * The default sorting preset.\n */ const defaultSortPreset = combineComparators(pinned, screenSharing, ifInvisibleBy(combineComparators(dominantSpeaker, speaking, reactionType(\"raised-hand\"), publishingVideo, publishingAudio)));\n/**\n * The sorting preset for speaker layout.\n */ const speakerLayoutSortPreset = combineComparators(pinned, screenSharing, dominantSpeaker, ifInvisibleBy(combineComparators(speaking, reactionType(\"raised-hand\"), publishingVideo, publishingAudio)));\n/**\n * The sorting preset for layouts that don't render all participants but\n * instead, render them in pages.\n */ const paginatedLayoutSortPreset = combineComparators(pinned, ifInvisibleOrUnknownBy(combineComparators(dominantSpeaker, speaking, reactionType(\"raised-hand\"), publishingVideo, publishingAudio)));\n/**\n * The sorting preset for livestreams and audio rooms.\n */ const livestreamOrAudioRoomSortPreset = combineComparators(ifInvisibleBy(combineComparators(dominantSpeaker, speaking, reactionType(\"raised-hand\"), publishingVideo, publishingAudio)), role(\"admin\", \"host\", \"speaker\"));\n/**\n * Returns the default egress object - when no egress data is available.\n */ const defaultEgress = {\n    broadcasting: false,\n    hls: {\n        playlist_url: \"\"\n    },\n    rtmps: []\n};\n/**\n * Holds the state of the current call.\n * @react You don't have to use this class directly, as we are exposing the state through Hooks.\n */ class CallState {\n    /**\n     * Creates a new instance of the CallState class.\n     *\n     */ constructor(){\n        this.backstageSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(true);\n        this.blockedUserIdsSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject([]);\n        this.createdAtSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(new Date());\n        this.endedAtSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(undefined);\n        this.startsAtSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(undefined);\n        this.updatedAtSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(new Date());\n        this.createdBySubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(undefined);\n        this.customSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject({});\n        this.egressSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(undefined);\n        this.ingressSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(undefined);\n        this.recordingSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(false);\n        this.sessionSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(undefined);\n        this.settingsSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(undefined);\n        this.transcribingSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(false);\n        this.endedBySubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(undefined);\n        this.thumbnailsSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(undefined);\n        this.membersSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject([]);\n        this.ownCapabilitiesSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject([]);\n        this.callingStateSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(CallingState.UNKNOWN);\n        this.startedAtSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(undefined);\n        this.participantCountSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(0);\n        this.anonymousParticipantCountSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(0);\n        this.participantsSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject([]);\n        this.callStatsReportSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(undefined);\n        // These are tracks that were delivered to the Subscriber's onTrack event\n        // that we couldn't associate with a participant yet.\n        // This happens when the participantJoined event hasn't been received yet.\n        // We keep these tracks around until we can associate them with a participant.\n        this.orphanedTracks = [];\n        this.logger = getLogger([\n            \"CallState\"\n        ]);\n        /**\n         * A list of comparators that are used to sort the participants.\n         *\n         * @private\n         */ this.sortParticipantsBy = defaultSortPreset;\n        /**\n         * Sets the list of criteria that are used to sort the participants.\n         * To disable sorting, you can pass `noopComparator()`.\n         *\n         * @param comparator the comparator to use to sort the participants.\n         */ this.setSortParticipantsBy = (comparator)=>{\n            this.sortParticipantsBy = comparator;\n            // trigger re-sorting of participants\n            this.setCurrentValue(this.participantsSubject, (ps)=>ps);\n        };\n        /**\n         * Gets the current value of an observable, or undefined if the observable has\n         * not emitted a value yet.\n         *\n         * @param observable$ the observable to get the value from.\n         */ this.getCurrentValue = getCurrentValue;\n        /**\n         * Updates the value of the provided Subject.\n         * An `update` can either be a new value or a function which takes\n         * the current value and returns a new value.\n         *\n         * @internal\n         *\n         * @param subject the subject to update.\n         * @param update the update to apply to the subject.\n         * @return the updated value.\n         */ this.setCurrentValue = setCurrentValue;\n        /**\n         * Sets the number of participants in the current call.\n         *\n         * @internal\n         * @param count the number of participants.\n         */ this.setParticipantCount = (count)=>{\n            return this.setCurrentValue(this.participantCountSubject, count);\n        };\n        /**\n         * Sets the time the call session actually started.\n         *\n         * @internal\n         * @param startedAt the time the call session actually started.\n         */ this.setStartedAt = (startedAt)=>{\n            return this.setCurrentValue(this.startedAtSubject, startedAt);\n        };\n        /**\n         * Sets the number of anonymous participants in the current call.\n         *\n         * @internal\n         * @param count the number of anonymous participants.\n         */ this.setAnonymousParticipantCount = (count)=>{\n            return this.setCurrentValue(this.anonymousParticipantCountSubject, count);\n        };\n        /**\n         * Sets the list of participants in the current call.\n         *\n         * @internal\n         *\n         * @param participants the list of participants.\n         */ this.setParticipants = (participants)=>{\n            return this.setCurrentValue(this.participantsSubject, participants);\n        };\n        /**\n         * Sets the calling state.\n         *\n         * @internal\n         * @param state the new calling state.\n         */ this.setCallingState = (state)=>{\n            return this.setCurrentValue(this.callingStateSubject, state);\n        };\n        /**\n         * Sets the call stats report.\n         *\n         * @internal\n         * @param report the report to set.\n         */ this.setCallStatsReport = (report)=>{\n            return this.setCurrentValue(this.callStatsReportSubject, report);\n        };\n        /**\n         * Sets the members of the current call.\n         *\n         * @internal\n         * @param members the members to set.\n         */ this.setMembers = (members)=>{\n            this.setCurrentValue(this.membersSubject, members);\n        };\n        /**\n         * Sets the own capabilities.\n         *\n         * @internal\n         * @param capabilities the capabilities to set.\n         */ this.setOwnCapabilities = (capabilities)=>{\n            return this.setCurrentValue(this.ownCapabilitiesSubject, capabilities);\n        };\n        /**\n         * Sets the time when this call has been ended.\n         * @param endedAt the time when this call has been ended.\n         */ this.setEndedAt = (endedAt)=>{\n            return this.setCurrentValue(this.endedAtSubject, endedAt);\n        };\n        /**\n         * Will try to find the participant with the given sessionId in the current call.\n         *\n         * @param sessionId the sessionId of the participant to find.\n         * @returns the participant with the given sessionId or undefined if not found.\n         */ this.findParticipantBySessionId = (sessionId)=>{\n            return this.participants.find((p)=>p.sessionId === sessionId);\n        };\n        /**\n         * Returns a new lookup table of participants indexed by their session ID.\n         */ this.getParticipantLookupBySessionId = ()=>{\n            return this.participants.reduce((lookupTable, participant)=>{\n                lookupTable[participant.sessionId] = participant;\n                return lookupTable;\n            }, {});\n        };\n        /**\n         * Updates a participant in the current call identified by the given `sessionId`.\n         * If the participant can't be found, this operation is no-op.\n         *\n         * @internal\n         *\n         * @param sessionId the session ID of the participant to update.\n         * @param patch the patch to apply to the participant.\n         * @returns the updated participant or `undefined` if the participant couldn't be found.\n         */ this.updateParticipant = (sessionId, patch)=>{\n            const participant = this.findParticipantBySessionId(sessionId);\n            if (!participant) {\n                this.logger(\"warn\", `Participant with sessionId ${sessionId} not found`);\n                return;\n            }\n            const thePatch = typeof patch === \"function\" ? patch(participant) : patch;\n            const updatedParticipant = {\n                // FIXME OL: this is not a deep merge, we might want to revisit this\n                ...participant,\n                ...thePatch\n            };\n            return this.setParticipants((participants)=>participants.map((p)=>p.sessionId === sessionId ? updatedParticipant : p));\n        };\n        /**\n         * Updates a participant in the current call identified by the given `sessionId`.\n         * If a participant with matching `sessionId` can't be found, the provided\n         * `participant` is added to the list of participants.\n         *\n         * @param sessionId the session ID of the participant to update.\n         * @param participant the participant to update or add.\n         */ this.updateOrAddParticipant = (sessionId, participant)=>{\n            return this.setParticipants((participants)=>{\n                let add = true;\n                const nextParticipants = participants.map((p)=>{\n                    if (p.sessionId === sessionId) {\n                        add = false;\n                        return {\n                            ...p,\n                            ...participant\n                        };\n                    }\n                    return p;\n                });\n                if (add) nextParticipants.push(participant);\n                return nextParticipants;\n            });\n        };\n        /**\n         * Updates all participants in the current call whose session ID is in the given `sessionIds`.\n         * If no patches are provided, this operation is no-op.\n         *\n         * @internal\n         *\n         * @param patch the patch to apply to the participants.\n         * @returns all participants, with all patch applied.\n         */ this.updateParticipants = (patch)=>{\n            if (Object.keys(patch).length === 0) return this.participants;\n            return this.setParticipants((participants)=>participants.map((p)=>{\n                    const thePatch = patch[p.sessionId];\n                    if (thePatch) {\n                        return {\n                            ...p,\n                            ...thePatch\n                        };\n                    }\n                    return p;\n                }));\n        };\n        /**\n         * Update track subscription configuration for one or more participants.\n         * You have to create a subscription for each participant for all the different kinds of tracks you want to receive.\n         * You can only subscribe for tracks after the participant started publishing the given kind of track.\n         *\n         * @param trackType the kind of subscription to update.\n         * @param changes the list of subscription changes to do.\n         * @param type the debounce type to use for the update.\n         */ this.updateParticipantTracks = (trackType, changes)=>{\n            return this.updateParticipants(Object.entries(changes).reduce((acc, [sessionId, change])=>{\n                if (change.dimension) {\n                    change.dimension.height = Math.ceil(change.dimension.height);\n                    change.dimension.width = Math.ceil(change.dimension.width);\n                }\n                const prop = trackType === \"videoTrack\" ? \"videoDimension\" : trackType === \"screenShareTrack\" ? \"screenShareDimension\" : undefined;\n                if (prop) {\n                    acc[sessionId] = {\n                        [prop]: change.dimension\n                    };\n                }\n                return acc;\n            }, {}));\n        };\n        /**\n         * Updates the call state with the data received from the server.\n         *\n         * @internal\n         *\n         * @param event the video event that our backend sent us.\n         */ this.updateFromEvent = (event)=>{\n            const update = this.eventHandlers[event.type];\n            if (update) {\n                update(event);\n            }\n        };\n        /**\n         * Updates the participant pinned state with server side pinning data.\n         *\n         * @param pins the latest pins from the server.\n         */ this.setServerSidePins = (pins)=>{\n            const pinsLookup = pins.reduce((lookup, pin)=>{\n                lookup[pin.sessionId] = Date.now();\n                return lookup;\n            }, {});\n            return this.setParticipants((participants)=>participants.map((participant)=>{\n                    const serverSidePinnedAt = pinsLookup[participant.sessionId];\n                    // the participant is newly pinned\n                    if (serverSidePinnedAt) {\n                        return {\n                            ...participant,\n                            pin: {\n                                isLocalPin: false,\n                                pinnedAt: serverSidePinnedAt\n                            }\n                        };\n                    }\n                    // the participant is no longer pinned server side\n                    // we need to reset the pin\n                    if (participant.pin && !participant.pin.isLocalPin) {\n                        return {\n                            ...participant,\n                            pin: undefined\n                        };\n                    }\n                    // no changes to be applied\n                    return participant;\n                }));\n        };\n        /**\n         * Adds an orphaned track to the call state.\n         *\n         * @internal\n         *\n         * @param orphanedTrack the orphaned track to add.\n         */ this.registerOrphanedTrack = (orphanedTrack)=>{\n            this.orphanedTracks.push(orphanedTrack);\n        };\n        /**\n         * Removes an orphaned track from the call state.\n         *\n         * @internal\n         *\n         * @param id the ID of the orphaned track to remove.\n         */ this.removeOrphanedTrack = (id)=>{\n            this.orphanedTracks = this.orphanedTracks.filter((o)=>o.id !== id);\n        };\n        /**\n         * Takes all orphaned tracks with the given track lookup prefix.\n         * All orphaned tracks with the given track lookup prefix are removed from the call state.\n         *\n         * @internal\n         *\n         * @param trackLookupPrefix the track lookup prefix to match the orphaned tracks by.\n         */ this.takeOrphanedTracks = (trackLookupPrefix)=>{\n            const orphans = this.orphanedTracks.filter((orphan)=>orphan.trackLookupPrefix === trackLookupPrefix);\n            if (orphans.length > 0) {\n                this.orphanedTracks = this.orphanedTracks.filter((orphan)=>orphan.trackLookupPrefix !== trackLookupPrefix);\n            }\n            return orphans;\n        };\n        /**\n         * Updates the call state with the data received from the server.\n         *\n         * @internal\n         *\n         * @param call the call response from the server.\n         */ this.updateFromCallResponse = (call)=>{\n            this.setCurrentValue(this.backstageSubject, call.backstage);\n            this.setCurrentValue(this.blockedUserIdsSubject, call.blocked_user_ids);\n            this.setCurrentValue(this.createdAtSubject, new Date(call.created_at));\n            this.setCurrentValue(this.updatedAtSubject, new Date(call.updated_at));\n            this.setCurrentValue(this.startsAtSubject, call.starts_at ? new Date(call.starts_at) : undefined);\n            this.setEndedAt(call.ended_at ? new Date(call.ended_at) : undefined);\n            this.setCurrentValue(this.createdBySubject, call.created_by);\n            this.setCurrentValue(this.customSubject, call.custom);\n            this.setCurrentValue(this.egressSubject, call.egress);\n            this.setCurrentValue(this.ingressSubject, call.ingress);\n            this.setCurrentValue(this.recordingSubject, call.recording);\n            const s = this.setCurrentValue(this.sessionSubject, call.session);\n            this.updateParticipantCountFromSession(s);\n            this.setCurrentValue(this.settingsSubject, call.settings);\n            this.setCurrentValue(this.transcribingSubject, call.transcribing);\n            this.setCurrentValue(this.thumbnailsSubject, call.thumbnails);\n        };\n        /**\n         * Updates the call state with the data received from the SFU server.\n         *\n         * @internal\n         *\n         * @param callState the call state from the SFU server.\n         * @param currentSessionId the session ID of the current user.\n         * @param reconnectDetails optional reconnect details.\n         */ this.updateFromSfuCallState = (callState, currentSessionId, reconnectDetails)=>{\n            const { participants, participantCount, startedAt, pins } = callState;\n            const localPublishedTracks = reconnectDetails?.announcedTracks.map((t)=>t.trackType) ?? [];\n            this.setParticipants(()=>{\n                const participantLookup = this.getParticipantLookupBySessionId();\n                return participants.map((p)=>{\n                    // We need to preserve the local state of the participant\n                    // (e.g. videoDimension, visibilityState, pinnedAt, etc.)\n                    // as it doesn't exist on the server.\n                    const existingParticipant = participantLookup[p.sessionId];\n                    const isLocalParticipant = p.sessionId === currentSessionId;\n                    return Object.assign({}, existingParticipant, p, {\n                        isLocalParticipant,\n                        publishedTracks: isLocalParticipant ? localPublishedTracks : p.publishedTracks,\n                        viewportVisibilityState: existingParticipant?.viewportVisibilityState ?? {\n                            videoTrack: VisibilityState.UNKNOWN,\n                            screenShareTrack: VisibilityState.UNKNOWN\n                        }\n                    });\n                });\n            });\n            this.setParticipantCount(participantCount?.total || 0);\n            this.setAnonymousParticipantCount(participantCount?.anonymous || 0);\n            this.setStartedAt(startedAt ? Timestamp.toDate(startedAt) : new Date());\n            this.setServerSidePins(pins);\n        };\n        this.updateFromMemberRemoved = (event)=>{\n            this.updateFromCallResponse(event.call);\n            this.setCurrentValue(this.membersSubject, (members)=>members.filter((m)=>event.members.indexOf(m.user_id) === -1));\n        };\n        this.updateFromMemberAdded = (event)=>{\n            this.updateFromCallResponse(event.call);\n            this.setCurrentValue(this.membersSubject, (members)=>[\n                    ...members,\n                    ...event.members\n                ]);\n        };\n        this.updateFromHLSBroadcastStopped = ()=>{\n            this.setCurrentValue(this.egressSubject, (egress = defaultEgress)=>({\n                    ...egress,\n                    broadcasting: false\n                }));\n        };\n        this.updateFromHLSBroadcastingFailed = ()=>{\n            this.setCurrentValue(this.egressSubject, (egress = defaultEgress)=>({\n                    ...egress,\n                    broadcasting: false\n                }));\n        };\n        this.updateFromHLSBroadcastStarted = (event)=>{\n            this.setCurrentValue(this.egressSubject, (egress = defaultEgress)=>({\n                    ...egress,\n                    broadcasting: true,\n                    hls: {\n                        ...egress.hls,\n                        playlist_url: event.hls_playlist_url\n                    }\n                }));\n        };\n        this.updateParticipantCountFromSession = (session)=>{\n            // when in JOINED state, we should use the participant count coming through\n            // the SFU healthcheck event, as it's more accurate.\n            if (!session || this.callingState === CallingState.JOINED) return;\n            const byRoleCount = Object.values(session.participants_count_by_role).reduce((total, countByRole)=>total + countByRole, 0);\n            const participantCount = Math.max(byRoleCount, session.participants.length);\n            this.setParticipantCount(participantCount);\n            this.setAnonymousParticipantCount(session.anonymous_participant_count || 0);\n        };\n        this.updateFromSessionParticipantCountUpdate = (event)=>{\n            const s = this.setCurrentValue(this.sessionSubject, (session)=>{\n                if (!session) return session;\n                return {\n                    ...session,\n                    anonymous_participant_count: event.anonymous_participant_count,\n                    participants_count_by_role: event.participants_count_by_role\n                };\n            });\n            this.updateParticipantCountFromSession(s);\n        };\n        this.updateFromSessionParticipantLeft = (event)=>{\n            const s = this.setCurrentValue(this.sessionSubject, (session)=>{\n                if (!session) return session;\n                const { participants, participants_count_by_role } = session;\n                const { user, user_session_id } = event.participant;\n                return {\n                    ...session,\n                    participants: participants.filter((p)=>p.user_session_id !== user_session_id),\n                    participants_count_by_role: {\n                        ...participants_count_by_role,\n                        [user.role]: Math.max(0, (participants_count_by_role[user.role] || 0) - 1)\n                    }\n                };\n            });\n            this.updateParticipantCountFromSession(s);\n        };\n        this.updateFromSessionParticipantJoined = (event)=>{\n            const s = this.setCurrentValue(this.sessionSubject, (session)=>{\n                if (!session) return session;\n                const { participants, participants_count_by_role } = session;\n                const { user, user_session_id } = event.participant;\n                // It could happen that the backend delivers the same participant more than once.\n                // Once with the call.session_started event and once again with the\n                // call.session_participant_joined event. In this case,\n                // we should update the existing participant and prevent duplicating it.\n                let shouldInsertParticipant = true;\n                const updatedParticipants = participants.map((p)=>{\n                    if (p.user_session_id === user_session_id) {\n                        shouldInsertParticipant = false;\n                        return event.participant;\n                    }\n                    return p;\n                });\n                if (shouldInsertParticipant) {\n                    // this is a new array, we can safely push the new participant\n                    updatedParticipants.push(event.participant);\n                }\n                // If we are updating an existing participant, we don't want to increment\n                // the participant_by_role count.\n                const increment = shouldInsertParticipant ? 1 : 0;\n                return {\n                    ...session,\n                    participants: updatedParticipants,\n                    participants_count_by_role: {\n                        ...participants_count_by_role,\n                        [user.role]: (participants_count_by_role[user.role] || 0) + increment\n                    }\n                };\n            });\n            this.updateParticipantCountFromSession(s);\n        };\n        this.updateMembers = (event)=>{\n            this.updateFromCallResponse(event.call);\n            this.setCurrentValue(this.membersSubject, (members)=>members.map((member)=>{\n                    const memberUpdate = event.members.find((m)=>m.user_id === member.user_id);\n                    return memberUpdate ? memberUpdate : member;\n                }));\n        };\n        this.updateParticipantReaction = (event)=>{\n            const { user, custom, type, emoji_code } = event.reaction;\n            this.setParticipants((participants)=>{\n                return participants.map((p)=>{\n                    // skip if the reaction is not for this participant\n                    if (p.userId !== user.id) return p;\n                    // update the participant with the new reaction\n                    return {\n                        ...p,\n                        reaction: {\n                            type,\n                            emoji_code,\n                            custom\n                        }\n                    };\n                });\n            });\n        };\n        this.unblockUser = (event)=>{\n            this.setCurrentValue(this.blockedUserIdsSubject, (current)=>{\n                if (!current) return current;\n                return current.filter((id)=>id !== event.user.id);\n            });\n        };\n        this.blockUser = (event)=>{\n            this.setCurrentValue(this.blockedUserIdsSubject, (current)=>[\n                    ...current || [],\n                    event.user.id\n                ]);\n        };\n        this.updateOwnCapabilities = (event)=>{\n            if (event.user.id === this.localParticipant?.userId) {\n                this.setCurrentValue(this.ownCapabilitiesSubject, event.own_capabilities);\n            }\n        };\n        this.participants$ = this.participantsSubject.asObservable().pipe(// maintain stable-sort by mutating the participants stored\n        // in the original subject\n        (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_16__.map)((ps)=>ps.sort(this.sortParticipantsBy)), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_17__.shareReplay)({\n            bufferSize: 1,\n            refCount: true\n        }));\n        this.localParticipant$ = this.participants$.pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_16__.map)((participants)=>participants.find((p)=>p.isLocalParticipant)), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_17__.shareReplay)({\n            bufferSize: 1,\n            refCount: true\n        }));\n        this.remoteParticipants$ = this.participants$.pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_16__.map)((participants)=>participants.filter((p)=>!p.isLocalParticipant)), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_17__.shareReplay)({\n            bufferSize: 1,\n            refCount: true\n        }));\n        this.pinnedParticipants$ = this.participants$.pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_16__.map)((participants)=>participants.filter((p)=>!!p.pin)), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_17__.shareReplay)({\n            bufferSize: 1,\n            refCount: true\n        }));\n        this.dominantSpeaker$ = this.participants$.pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_16__.map)((participants)=>participants.find((p)=>p.isDominantSpeaker)), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_17__.shareReplay)({\n            bufferSize: 1,\n            refCount: true\n        }));\n        this.hasOngoingScreenShare$ = this.participants$.pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_16__.map)((participants)=>participants.some((p)=>hasScreenShare(p))), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_18__.distinctUntilChanged)(), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_17__.shareReplay)({\n            bufferSize: 1,\n            refCount: true\n        }));\n        // dates\n        this.createdAt$ = this.createdAtSubject.asObservable();\n        this.endedAt$ = this.endedAtSubject.asObservable();\n        this.startsAt$ = this.startsAtSubject.asObservable();\n        this.startedAt$ = this.startedAtSubject.asObservable();\n        this.updatedAt$ = this.updatedAtSubject.asObservable();\n        this.callStatsReport$ = this.callStatsReportSubject.asObservable();\n        this.members$ = this.membersSubject.asObservable();\n        // complex objects should work as streams of data\n        this.createdBy$ = this.createdBySubject.asObservable();\n        this.custom$ = this.customSubject.asObservable();\n        this.egress$ = this.egressSubject.asObservable();\n        this.ingress$ = this.ingressSubject.asObservable();\n        this.session$ = this.sessionSubject.asObservable();\n        this.settings$ = this.settingsSubject.asObservable();\n        this.endedBy$ = this.endedBySubject.asObservable();\n        this.thumbnails$ = this.thumbnailsSubject.asObservable();\n        /**\n         * Performs shallow comparison of two arrays.\n         * Expects primitive values: [1, 2, 3] is equal to [2, 1, 3].\n         */ const isShallowEqual = (a, b)=>{\n            if (a.length !== b.length) return false;\n            for (const item of a)if (!b.includes(item)) return false;\n            for (const item of b)if (!a.includes(item)) return false;\n            return true;\n        };\n        /**\n         * Creates an Observable from the given subject by piping to the\n         * `distinctUntilChanged()` operator.\n         */ const duc = (subject, comparator)=>subject.asObservable().pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_18__.distinctUntilChanged)(comparator));\n        // primitive values should only emit once the value they hold changes\n        this.anonymousParticipantCount$ = duc(this.anonymousParticipantCountSubject);\n        this.blockedUserIds$ = duc(this.blockedUserIdsSubject, isShallowEqual);\n        this.backstage$ = duc(this.backstageSubject);\n        this.callingState$ = duc(this.callingStateSubject);\n        this.ownCapabilities$ = duc(this.ownCapabilitiesSubject, isShallowEqual);\n        this.participantCount$ = duc(this.participantCountSubject);\n        this.recording$ = duc(this.recordingSubject);\n        this.transcribing$ = duc(this.transcribingSubject);\n        this.eventHandlers = {\n            // these events are not updating the call state:\n            \"call.closed_caption\": undefined,\n            \"call.deleted\": undefined,\n            \"call.permission_request\": undefined,\n            \"call.recording_ready\": undefined,\n            \"call.transcription_ready\": undefined,\n            \"call.user_muted\": undefined,\n            \"connection.error\": undefined,\n            \"connection.ok\": undefined,\n            \"health.check\": undefined,\n            \"user.banned\": undefined,\n            \"user.deactivated\": undefined,\n            \"user.deleted\": undefined,\n            \"user.muted\": undefined,\n            \"user.presence.changed\": undefined,\n            \"user.reactivated\": undefined,\n            \"user.unbanned\": undefined,\n            \"user.updated\": undefined,\n            custom: undefined,\n            // events that update call state:\n            \"call.accepted\": (e)=>this.updateFromCallResponse(e.call),\n            \"call.blocked_user\": this.blockUser,\n            \"call.created\": (e)=>this.updateFromCallResponse(e.call),\n            \"call.ended\": (e)=>{\n                this.updateFromCallResponse(e.call);\n                this.setCurrentValue(this.endedBySubject, e.user);\n            },\n            \"call.hls_broadcasting_failed\": this.updateFromHLSBroadcastingFailed,\n            \"call.hls_broadcasting_started\": this.updateFromHLSBroadcastStarted,\n            \"call.hls_broadcasting_stopped\": this.updateFromHLSBroadcastStopped,\n            \"call.live_started\": (e)=>this.updateFromCallResponse(e.call),\n            \"call.member_added\": this.updateFromMemberAdded,\n            \"call.member_removed\": this.updateFromMemberRemoved,\n            \"call.member_updated_permission\": this.updateMembers,\n            \"call.member_updated\": this.updateMembers,\n            \"call.notification\": (e)=>{\n                this.updateFromCallResponse(e.call);\n                this.setMembers(e.members);\n            },\n            \"call.permissions_updated\": this.updateOwnCapabilities,\n            \"call.reaction_new\": this.updateParticipantReaction,\n            \"call.recording_started\": ()=>this.setCurrentValue(this.recordingSubject, true),\n            \"call.recording_stopped\": ()=>this.setCurrentValue(this.recordingSubject, false),\n            \"call.recording_failed\": ()=>this.setCurrentValue(this.recordingSubject, false),\n            \"call.rejected\": (e)=>this.updateFromCallResponse(e.call),\n            \"call.ring\": (e)=>this.updateFromCallResponse(e.call),\n            \"call.missed\": (e)=>this.updateFromCallResponse(e.call),\n            \"call.session_ended\": (e)=>this.updateFromCallResponse(e.call),\n            \"call.session_participant_count_updated\": this.updateFromSessionParticipantCountUpdate,\n            \"call.session_participant_joined\": this.updateFromSessionParticipantJoined,\n            \"call.session_participant_left\": this.updateFromSessionParticipantLeft,\n            \"call.session_started\": (e)=>this.updateFromCallResponse(e.call),\n            \"call.transcription_started\": ()=>{\n                this.setCurrentValue(this.transcribingSubject, true);\n            },\n            \"call.transcription_stopped\": ()=>{\n                this.setCurrentValue(this.transcribingSubject, false);\n            },\n            \"call.transcription_failed\": ()=>{\n                this.setCurrentValue(this.transcribingSubject, false);\n            },\n            \"call.unblocked_user\": this.unblockUser,\n            \"call.updated\": (e)=>this.updateFromCallResponse(e.call)\n        };\n    }\n    /**\n     * The server-side counted number of participants connected to the current call.\n     * This number includes the anonymous participants as well.\n     */ get participantCount() {\n        return this.getCurrentValue(this.participantCount$);\n    }\n    /**\n     * The time the call session actually started.\n     * Useful for displaying the call duration.\n     */ get startedAt() {\n        return this.getCurrentValue(this.startedAt$);\n    }\n    /**\n     * The server-side counted number of anonymous participants connected to the current call.\n     * This number includes the anonymous participants as well.\n     */ get anonymousParticipantCount() {\n        return this.getCurrentValue(this.anonymousParticipantCount$);\n    }\n    /**\n     * The list of participants in the current call.\n     */ get participants() {\n        return this.getCurrentValue(this.participants$);\n    }\n    /**\n     * The local participant in the current call.\n     */ get localParticipant() {\n        return this.getCurrentValue(this.localParticipant$);\n    }\n    /**\n     * The list of remote participants in the current call.\n     */ get remoteParticipants() {\n        return this.getCurrentValue(this.remoteParticipants$);\n    }\n    /**\n     * The dominant speaker in the current call.\n     */ get dominantSpeaker() {\n        return this.getCurrentValue(this.dominantSpeaker$);\n    }\n    /**\n     * The list of pinned participants in the current call.\n     */ get pinnedParticipants() {\n        return this.getCurrentValue(this.pinnedParticipants$);\n    }\n    /**\n     * Tell if there is an ongoing screen share in this call.\n     */ get hasOngoingScreenShare() {\n        return this.getCurrentValue(this.hasOngoingScreenShare$);\n    }\n    /**\n     * The calling state.\n     */ get callingState() {\n        return this.getCurrentValue(this.callingState$);\n    }\n    /**\n     * The call stats report.\n     */ get callStatsReport() {\n        return this.getCurrentValue(this.callStatsReport$);\n    }\n    /**\n     * The members of the current call.\n     */ get members() {\n        return this.getCurrentValue(this.members$);\n    }\n    /**\n     * The capabilities of the current user for the current call.\n     */ get ownCapabilities() {\n        return this.getCurrentValue(this.ownCapabilities$);\n    }\n    /**\n     * The backstage state.\n     */ get backstage() {\n        return this.getCurrentValue(this.backstage$);\n    }\n    /**\n     * Will provide the list of blocked user IDs.\n     */ get blockedUserIds() {\n        return this.getCurrentValue(this.blockedUserIds$);\n    }\n    /**\n     * Will provide the time when this call has been created.\n     */ get createdAt() {\n        return this.getCurrentValue(this.createdAt$);\n    }\n    /**\n     * Will provide the time when this call has been ended.\n     */ get endedAt() {\n        return this.getCurrentValue(this.endedAt$);\n    }\n    /**\n     * Will provide the time when this call has been scheduled to start.\n     */ get startsAt() {\n        return this.getCurrentValue(this.startsAt$);\n    }\n    /**\n     * Will provide the time when this call has been updated.\n     */ get updatedAt() {\n        return this.getCurrentValue(this.updatedAt$);\n    }\n    /**\n     * Will provide the user who created this call.\n     */ get createdBy() {\n        return this.getCurrentValue(this.createdBy$);\n    }\n    /**\n     * Will provide the custom data of this call.\n     */ get custom() {\n        return this.getCurrentValue(this.custom$);\n    }\n    /**\n     * Will provide the egress data of this call.\n     */ get egress() {\n        return this.getCurrentValue(this.egress$);\n    }\n    /**\n     * Will provide the ingress data of this call.\n     */ get ingress() {\n        return this.getCurrentValue(this.ingress$);\n    }\n    /**\n     * Will provide the recording state of this call.\n     */ get recording() {\n        return this.getCurrentValue(this.recording$);\n    }\n    /**\n     * Will provide the session data of this call.\n     */ get session() {\n        return this.getCurrentValue(this.session$);\n    }\n    /**\n     * Will provide the settings of this call.\n     */ get settings() {\n        return this.getCurrentValue(this.settings$);\n    }\n    /**\n     * Will provide the transcribing state of this call.\n     */ get transcribing() {\n        return this.getCurrentValue(this.transcribing$);\n    }\n    /**\n     * Will provide the user who ended this call.\n     */ get endedBy() {\n        return this.getCurrentValue(this.endedBy$);\n    }\n    /**\n     * Will provide the thumbnails of this call, if enabled in the call settings.\n     */ get thumbnails() {\n        return this.getCurrentValue(this.thumbnails$);\n    }\n}\nconst getRtpMap = (line)=>{\n    // Example: a=rtpmap:110 opus/48000/2\n    const rtpRegex = /^a=rtpmap:(\\d*) ([\\w\\-.]*)(?:\\s*\\/(\\d*)(?:\\s*\\/(\\S*))?)?/;\n    // The first captured group is the payload type number, the second captured group is the encoding name, the third captured group is the clock rate, and the fourth captured group is any additional parameters.\n    const rtpMatch = rtpRegex.exec(line);\n    if (rtpMatch) {\n        return {\n            original: rtpMatch[0],\n            payload: rtpMatch[1],\n            codec: rtpMatch[2]\n        };\n    }\n};\nconst getFmtp = (line)=>{\n    // Example: a=fmtp:111 minptime=10; useinbandfec=1\n    const fmtpRegex = /^a=fmtp:(\\d*) (.*)/;\n    const fmtpMatch = fmtpRegex.exec(line);\n    // The first captured group is the payload type number, the second captured group is any additional parameters.\n    if (fmtpMatch) {\n        return {\n            original: fmtpMatch[0],\n            payload: fmtpMatch[1],\n            config: fmtpMatch[2]\n        };\n    }\n};\n/**\n * gets the media section for the specified media type.\n * The media section contains the media type, port, codec, and payload type.\n * Example: m=video 9 UDP/TLS/RTP/SAVPF 100 101 96 97 35 36 102 125 127\n */ const getMedia = (line, mediaType)=>{\n    const regex = new RegExp(`(m=${mediaType} \\\\d+ [\\\\w/]+) ([\\\\d\\\\s]+)`);\n    const match = regex.exec(line);\n    if (match) {\n        return {\n            original: match[0],\n            mediaWithPorts: match[1],\n            codecOrder: match[2]\n        };\n    }\n};\nconst getMediaSection = (sdp, mediaType)=>{\n    let media;\n    const rtpMap = [];\n    const fmtp = [];\n    let isTheRequiredMediaSection = false;\n    sdp.split(/(\\r\\n|\\r|\\n)/).forEach((line)=>{\n        const isValidLine = /^([a-z])=(.*)/.test(line);\n        if (!isValidLine) return;\n        /*\n          NOTE: according to https://www.rfc-editor.org/rfc/rfc8866.pdf\n          Each media description starts with an \"m=\" line and continues to the next media description or the end of the whole session description, whichever comes first\n        */ const type = line[0];\n        if (type === \"m\") {\n            const _media = getMedia(line, mediaType);\n            isTheRequiredMediaSection = !!_media;\n            if (_media) {\n                media = _media;\n            }\n        } else if (isTheRequiredMediaSection && type === \"a\") {\n            const rtpMapLine = getRtpMap(line);\n            const fmtpLine = getFmtp(line);\n            if (rtpMapLine) {\n                rtpMap.push(rtpMapLine);\n            } else if (fmtpLine) {\n                fmtp.push(fmtpLine);\n            }\n        }\n    });\n    if (media) {\n        return {\n            media,\n            rtpMap,\n            fmtp\n        };\n    }\n};\n/**\n * Gets the fmtp line corresponding to opus\n */ const getOpusFmtp = (sdp)=>{\n    const section = getMediaSection(sdp, \"audio\");\n    const rtpMap = section?.rtpMap.find((r)=>r.codec.toLowerCase() === \"opus\");\n    const codecId = rtpMap?.payload;\n    if (codecId) {\n        return section?.fmtp.find((f)=>f.payload === codecId);\n    }\n};\n/**\n * Returns an SDP with DTX enabled or disabled.\n */ const toggleDtx = (sdp, enable)=>{\n    const opusFmtp = getOpusFmtp(sdp);\n    if (!opusFmtp) return sdp;\n    const matchDtx = /usedtx=(\\d)/.exec(opusFmtp.config);\n    const requiredDtxConfig = `usedtx=${enable ? \"1\" : \"0\"}`;\n    const newFmtp = matchDtx ? opusFmtp.original.replace(/usedtx=(\\d)/, requiredDtxConfig) : `${opusFmtp.original};${requiredDtxConfig}`;\n    return sdp.replace(opusFmtp.original, newFmtp);\n};\n/**\n * Returns and SDP with all the codecs except the given codec removed.\n */ const preserveCodec = (sdp, mid, codec)=>{\n    const [kind, codecName] = codec.mimeType.toLowerCase().split(\"/\");\n    const toSet = (fmtpLine)=>new Set(fmtpLine.split(\";\").map((f)=>f.trim().toLowerCase()));\n    const equal = (a, b)=>{\n        if (a.size !== b.size) return false;\n        for (const item of a)if (!b.has(item)) return false;\n        return true;\n    };\n    const codecFmtp = toSet(codec.sdpFmtpLine || \"\");\n    const parsedSdp = sdp_transform__WEBPACK_IMPORTED_MODULE_3__.parse(sdp);\n    for (const media of parsedSdp.media){\n        if (media.type !== kind || String(media.mid) !== mid) continue;\n        // find the payload id of the desired codec\n        const payloads = new Set();\n        for (const rtp of media.rtp){\n            if (rtp.codec.toLowerCase() !== codecName) continue;\n            const match = // vp8 doesn't have any fmtp, we preserve it without any additional checks\n            codecName === \"vp8\" ? true : media.fmtp.some((f)=>f.payload === rtp.payload && equal(toSet(f.config), codecFmtp));\n            if (match) {\n                payloads.add(rtp.payload);\n            }\n        }\n        // find the corresponding rtx codec by matching apt=<preserved-codec-payload>\n        for (const fmtp of media.fmtp){\n            const match = fmtp.config.match(/(apt)=(\\d+)/);\n            if (!match) continue;\n            const [, , preservedCodecPayload] = match;\n            if (payloads.has(Number(preservedCodecPayload))) {\n                payloads.add(fmtp.payload);\n            }\n        }\n        media.rtp = media.rtp.filter((r)=>payloads.has(r.payload));\n        media.fmtp = media.fmtp.filter((f)=>payloads.has(f.payload));\n        media.rtcpFb = media.rtcpFb?.filter((f)=>payloads.has(f.payload));\n        media.payloads = Array.from(payloads).join(\" \");\n    }\n    return sdp_transform__WEBPACK_IMPORTED_MODULE_3__.write(parsedSdp);\n};\n/**\n * Enables high-quality audio through SDP munging for the given trackMid.\n *\n * @param sdp the SDP to munge.\n * @param trackMid the trackMid.\n * @param maxBitrate the max bitrate to set.\n */ const enableHighQualityAudio = (sdp, trackMid, maxBitrate = 510000)=>{\n    maxBitrate = Math.max(Math.min(maxBitrate, 510000), 96000);\n    const parsedSdp = sdp_transform__WEBPACK_IMPORTED_MODULE_3__.parse(sdp);\n    const audioMedia = parsedSdp.media.find((m)=>m.type === \"audio\" && String(m.mid) === trackMid);\n    if (!audioMedia) return sdp;\n    const opusRtp = audioMedia.rtp.find((r)=>r.codec === \"opus\");\n    if (!opusRtp) return sdp;\n    const opusFmtp = audioMedia.fmtp.find((f)=>f.payload === opusRtp.payload);\n    if (!opusFmtp) return sdp;\n    // enable stereo, if not already enabled\n    if (opusFmtp.config.match(/stereo=(\\d)/)) {\n        opusFmtp.config = opusFmtp.config.replace(/stereo=(\\d)/, \"stereo=1\");\n    } else {\n        opusFmtp.config = `${opusFmtp.config};stereo=1`;\n    }\n    // set maxaveragebitrate, to the given value\n    if (opusFmtp.config.match(/maxaveragebitrate=(\\d*)/)) {\n        opusFmtp.config = opusFmtp.config.replace(/maxaveragebitrate=(\\d*)/, `maxaveragebitrate=${maxBitrate}`);\n    } else {\n        opusFmtp.config = `${opusFmtp.config};maxaveragebitrate=${maxBitrate}`;\n    }\n    return sdp_transform__WEBPACK_IMPORTED_MODULE_3__.write(parsedSdp);\n};\n/**\n * Extracts the mid from the transceiver or the SDP.\n *\n * @param transceiver the transceiver.\n * @param transceiverInitIndex the index of the transceiver in the transceiver's init array.\n * @param sdp the SDP.\n */ const extractMid = (transceiver, transceiverInitIndex, sdp)=>{\n    if (transceiver.mid) return transceiver.mid;\n    if (!sdp) return \"\";\n    const track = transceiver.sender.track;\n    const parsedSdp = sdp_transform__WEBPACK_IMPORTED_MODULE_3__.parse(sdp);\n    const media = parsedSdp.media.find((m)=>{\n        return m.type === track.kind && // if `msid` is not present, we assume that the track is the first one\n        (m.msid?.includes(track.id) ?? true);\n    });\n    if (typeof media?.mid !== \"undefined\") return String(media.mid);\n    if (transceiverInitIndex === -1) return \"\";\n    return String(transceiverInitIndex);\n};\n/**\n * The `Publisher` is responsible for publishing/unpublishing media streams to/from the SFU\n *\n * @internal\n */ class Publisher {\n    /**\n     * Constructs a new `Publisher` instance.\n     */ constructor({ connectionConfig, sfuClient, dispatcher, state, isDtxEnabled, isRedEnabled, onUnrecoverableError, logTag }){\n        this.transceiverCache = new Map();\n        this.trackLayersCache = new Map();\n        this.publishOptsForTrack = new Map();\n        /**\n         * An array maintaining the order how transceivers were added to the peer connection.\n         * This is needed because some browsers (Firefox) don't reliably report\n         * trackId and `mid` parameters.\n         *\n         * @internal\n         */ this.transceiverInitOrder = [];\n        this.isIceRestarting = false;\n        this.createPeerConnection = (connectionConfig)=>{\n            const pc = new RTCPeerConnection(connectionConfig);\n            pc.addEventListener(\"icecandidate\", this.onIceCandidate);\n            pc.addEventListener(\"negotiationneeded\", this.onNegotiationNeeded);\n            pc.addEventListener(\"icecandidateerror\", this.onIceCandidateError);\n            pc.addEventListener(\"iceconnectionstatechange\", this.onIceConnectionStateChange);\n            pc.addEventListener(\"icegatheringstatechange\", this.onIceGatheringStateChange);\n            pc.addEventListener(\"signalingstatechange\", this.onSignalingStateChange);\n            return pc;\n        };\n        /**\n         * Closes the publisher PeerConnection and cleans up the resources.\n         */ this.close = ({ stopTracks })=>{\n            if (stopTracks) {\n                this.stopPublishing();\n                this.transceiverCache.clear();\n                this.trackLayersCache.clear();\n            }\n            this.detachEventHandlers();\n            this.pc.close();\n        };\n        /**\n         * Detaches the event handlers from the `RTCPeerConnection`.\n         * This is useful when we want to replace the `RTCPeerConnection`\n         * instance with a new one (in case of migration).\n         */ this.detachEventHandlers = ()=>{\n            this.unsubscribeOnIceRestart();\n            this.unsubscribeChangePublishQuality();\n            this.pc.removeEventListener(\"icecandidate\", this.onIceCandidate);\n            this.pc.removeEventListener(\"negotiationneeded\", this.onNegotiationNeeded);\n            this.pc.removeEventListener(\"icecandidateerror\", this.onIceCandidateError);\n            this.pc.removeEventListener(\"iceconnectionstatechange\", this.onIceConnectionStateChange);\n            this.pc.removeEventListener(\"icegatheringstatechange\", this.onIceGatheringStateChange);\n            this.pc.removeEventListener(\"signalingstatechange\", this.onSignalingStateChange);\n        };\n        /**\n         * Starts publishing the given track of the given media stream.\n         *\n         * Consecutive calls to this method will replace the stream.\n         * The previous stream will be stopped.\n         *\n         * @param mediaStream the media stream to publish.\n         * @param track the track to publish.\n         * @param trackType the track type to publish.\n         * @param opts the optional publish options to use.\n         */ this.publishStream = async (mediaStream, track, trackType, opts = {})=>{\n            if (track.readyState === \"ended\") {\n                throw new Error(`Can't publish a track that has ended already.`);\n            }\n            // enable the track if it is disabled\n            if (!track.enabled) track.enabled = true;\n            const transceiver = this.transceiverCache.get(trackType);\n            if (!transceiver || !transceiver.sender.track) {\n                // listen for 'ended' event on the track as it might be ended abruptly\n                // by an external factors such as permission revokes, a disconnected device, etc.\n                // keep in mind that `track.stop()` doesn't trigger this event.\n                const handleTrackEnded = ()=>{\n                    this.logger(\"info\", `Track ${TrackType[trackType]} has ended abruptly`);\n                    track.removeEventListener(\"ended\", handleTrackEnded);\n                    this.notifyTrackMuteStateChanged(mediaStream, trackType, true).catch((err)=>this.logger(\"warn\", `Couldn't notify track mute state`, err));\n                };\n                track.addEventListener(\"ended\", handleTrackEnded);\n                this.addTransceiver(trackType, track, opts, mediaStream);\n            } else {\n                await this.updateTransceiver(transceiver, track);\n            }\n            await this.notifyTrackMuteStateChanged(mediaStream, trackType, false);\n        };\n        /**\n         * Adds a new transceiver to the peer connection.\n         * This needs to be called when a new track kind is added to the peer connection.\n         * In other cases, use `updateTransceiver` method.\n         */ this.addTransceiver = (trackType, track, opts, mediaStream)=>{\n            const { forceCodec, preferredCodec } = opts;\n            const codecInUse = forceCodec || getOptimalVideoCodec(preferredCodec);\n            const videoEncodings = this.computeLayers(trackType, track, opts);\n            const transceiver = this.pc.addTransceiver(track, {\n                direction: \"sendonly\",\n                streams: trackType === TrackType.VIDEO || trackType === TrackType.SCREEN_SHARE ? [\n                    mediaStream\n                ] : undefined,\n                sendEncodings: isSvcCodec(codecInUse) ? toSvcEncodings(videoEncodings) : videoEncodings\n            });\n            this.logger(\"debug\", `Added ${TrackType[trackType]} transceiver`);\n            this.transceiverInitOrder.push(trackType);\n            this.transceiverCache.set(trackType, transceiver);\n            this.publishOptsForTrack.set(trackType, opts);\n            // handle codec preferences\n            if (!(\"setCodecPreferences\" in transceiver)) return;\n            const codecPreferences = this.getCodecPreferences(trackType, trackType === TrackType.VIDEO ? codecInUse : undefined, \"receiver\");\n            if (!codecPreferences) return;\n            try {\n                this.logger(\"info\", `Setting ${TrackType[trackType]} codec preferences`, codecPreferences);\n                transceiver.setCodecPreferences(codecPreferences);\n            } catch (err) {\n                this.logger(\"warn\", `Couldn't set codec preferences`, err);\n            }\n        };\n        /**\n         * Updates the given transceiver with the new track.\n         * Stops the previous track and replaces it with the new one.\n         */ this.updateTransceiver = async (transceiver, track)=>{\n            const previousTrack = transceiver.sender.track;\n            // don't stop the track if we are re-publishing the same track\n            if (previousTrack && previousTrack !== track) {\n                previousTrack.stop();\n            }\n            await transceiver.sender.replaceTrack(track);\n        };\n        /**\n         * Stops publishing the given track type to the SFU, if it is currently being published.\n         * Underlying track will be stopped and removed from the publisher.\n         * @param trackType the track type to unpublish.\n         * @param stopTrack specifies whether track should be stopped or just disabled\n         */ this.unpublishStream = async (trackType, stopTrack)=>{\n            const transceiver = this.transceiverCache.get(trackType);\n            if (transceiver && transceiver.sender.track && (stopTrack ? transceiver.sender.track.readyState === \"live\" : transceiver.sender.track.enabled)) {\n                stopTrack ? transceiver.sender.track.stop() : transceiver.sender.track.enabled = false;\n                // We don't need to notify SFU if unpublishing in response to remote soft mute\n                if (this.state.localParticipant?.publishedTracks.includes(trackType)) {\n                    await this.notifyTrackMuteStateChanged(undefined, trackType, true);\n                }\n            }\n        };\n        /**\n         * Returns true if the given track type is currently being published to the SFU.\n         *\n         * @param trackType the track type to check.\n         */ this.isPublishing = (trackType)=>{\n            const transceiver = this.transceiverCache.get(trackType);\n            if (!transceiver || !transceiver.sender) return false;\n            const track = transceiver.sender.track;\n            return !!track && track.readyState === \"live\" && track.enabled;\n        };\n        this.notifyTrackMuteStateChanged = async (mediaStream, trackType, isMuted)=>{\n            await this.sfuClient.updateMuteState(trackType, isMuted);\n            const audioOrVideoOrScreenShareStream = trackTypeToParticipantStreamKey(trackType);\n            if (!audioOrVideoOrScreenShareStream) return;\n            if (isMuted) {\n                this.state.updateParticipant(this.sfuClient.sessionId, (p)=>({\n                        publishedTracks: p.publishedTracks.filter((t)=>t !== trackType),\n                        [audioOrVideoOrScreenShareStream]: undefined\n                    }));\n            } else {\n                this.state.updateParticipant(this.sfuClient.sessionId, (p)=>{\n                    return {\n                        publishedTracks: p.publishedTracks.includes(trackType) ? p.publishedTracks : [\n                            ...p.publishedTracks,\n                            trackType\n                        ],\n                        [audioOrVideoOrScreenShareStream]: mediaStream\n                    };\n                });\n            }\n        };\n        /**\n         * Stops publishing all tracks and stop all tracks.\n         */ this.stopPublishing = ()=>{\n            this.logger(\"debug\", \"Stopping publishing all tracks\");\n            this.pc.getSenders().forEach((s)=>{\n                s.track?.stop();\n                if (this.pc.signalingState !== \"closed\") {\n                    this.pc.removeTrack(s);\n                }\n            });\n        };\n        this.changePublishQuality = async (enabledLayers)=>{\n            this.logger(\"info\", \"Update publish quality, requested layers by SFU:\", enabledLayers);\n            const videoSender = this.transceiverCache.get(TrackType.VIDEO)?.sender;\n            if (!videoSender) {\n                this.logger(\"warn\", \"Update publish quality, no video sender found.\");\n                return;\n            }\n            const params = videoSender.getParameters();\n            if (params.encodings.length === 0) {\n                this.logger(\"warn\", \"Update publish quality, No suitable video encoding quality found\");\n                return;\n            }\n            const [codecInUse] = params.codecs;\n            const usesSvcCodec = codecInUse && isSvcCodec(codecInUse.mimeType);\n            let changed = false;\n            for (const encoder of params.encodings){\n                const layer = usesSvcCodec ? enabledLayers[0] : enabledLayers.find((l)=>l.name === encoder.rid) ?? (params.encodings.length === 1 ? enabledLayers[0] : undefined);\n                // flip 'active' flag only when necessary\n                const shouldActivate = !!layer?.active;\n                if (shouldActivate !== encoder.active) {\n                    encoder.active = shouldActivate;\n                    changed = true;\n                }\n                // skip the rest of the settings if the layer is disabled or not found\n                if (!layer) continue;\n                const { maxFramerate, scaleResolutionDownBy, maxBitrate, scalabilityMode } = layer;\n                if (scaleResolutionDownBy >= 1 && scaleResolutionDownBy !== encoder.scaleResolutionDownBy) {\n                    encoder.scaleResolutionDownBy = scaleResolutionDownBy;\n                    changed = true;\n                }\n                if (maxBitrate > 0 && maxBitrate !== encoder.maxBitrate) {\n                    encoder.maxBitrate = maxBitrate;\n                    changed = true;\n                }\n                if (maxFramerate > 0 && maxFramerate !== encoder.maxFramerate) {\n                    encoder.maxFramerate = maxFramerate;\n                    changed = true;\n                }\n                // @ts-expect-error scalabilityMode is not in the typedefs yet\n                if (scalabilityMode && scalabilityMode !== encoder.scalabilityMode) {\n                    // @ts-expect-error scalabilityMode is not in the typedefs yet\n                    encoder.scalabilityMode = scalabilityMode;\n                    changed = true;\n                }\n            }\n            const activeLayers = params.encodings.filter((e)=>e.active);\n            if (!changed) {\n                this.logger(\"info\", `Update publish quality, no change:`, activeLayers);\n                return;\n            }\n            await videoSender.setParameters(params);\n            this.logger(\"info\", `Update publish quality, enabled rids:`, activeLayers);\n        };\n        /**\n         * Returns the result of the `RTCPeerConnection.getStats()` method\n         * @param selector\n         * @returns\n         */ this.getStats = (selector)=>{\n            return this.pc.getStats(selector);\n        };\n        this.getCodecPreferences = (trackType, preferredCodec, codecPreferencesSource)=>{\n            if (trackType === TrackType.VIDEO) {\n                return getPreferredCodecs(\"video\", preferredCodec || \"vp8\", undefined, codecPreferencesSource);\n            }\n            if (trackType === TrackType.AUDIO) {\n                const defaultAudioCodec = this.isRedEnabled ? \"red\" : \"opus\";\n                const codecToRemove = !this.isRedEnabled ? \"red\" : undefined;\n                return getPreferredCodecs(\"audio\", preferredCodec ?? defaultAudioCodec, codecToRemove, codecPreferencesSource);\n            }\n        };\n        this.onIceCandidate = (e)=>{\n            const { candidate } = e;\n            if (!candidate) {\n                this.logger(\"debug\", \"null ice candidate\");\n                return;\n            }\n            this.sfuClient.iceTrickle({\n                iceCandidate: getIceCandidate(candidate),\n                peerType: PeerType.PUBLISHER_UNSPECIFIED\n            }).catch((err)=>{\n                this.logger(\"warn\", `ICETrickle failed`, err);\n            });\n        };\n        /**\n         * Sets the SFU client to use.\n         *\n         * @param sfuClient the SFU client to use.\n         */ this.setSfuClient = (sfuClient)=>{\n            this.sfuClient = sfuClient;\n        };\n        /**\n         * Restarts the ICE connection and renegotiates with the SFU.\n         */ this.restartIce = async ()=>{\n            this.logger(\"debug\", \"Restarting ICE connection\");\n            const signalingState = this.pc.signalingState;\n            if (this.isIceRestarting || signalingState === \"have-local-offer\") {\n                this.logger(\"debug\", \"ICE restart is already in progress\");\n                return;\n            }\n            await this.negotiate({\n                iceRestart: true\n            });\n        };\n        this.onNegotiationNeeded = ()=>{\n            this.negotiate().catch((err)=>{\n                this.logger(\"error\", `Negotiation failed.`, err);\n                this.onUnrecoverableError?.();\n            });\n        };\n        /**\n         * Initiates a new offer/answer exchange with the currently connected SFU.\n         *\n         * @param options the optional offer options to use.\n         */ this.negotiate = async (options)=>{\n            const offer = await this.pc.createOffer(options);\n            if (offer.sdp) {\n                offer.sdp = toggleDtx(offer.sdp, this.isDtxEnabled);\n                if (this.isPublishing(TrackType.SCREEN_SHARE_AUDIO)) {\n                    offer.sdp = this.enableHighQualityAudio(offer.sdp);\n                }\n                if (this.isPublishing(TrackType.VIDEO)) {\n                    // Hotfix for platforms that don't respect the ordered codec list\n                    // (Firefox, Android, Linux, etc...).\n                    // We remove all the codecs from the SDP except the one we want to use.\n                    offer.sdp = this.removeUnpreferredCodecs(offer.sdp, TrackType.VIDEO);\n                }\n            }\n            const trackInfos = this.getAnnouncedTracks(offer.sdp);\n            if (trackInfos.length === 0) {\n                throw new Error(`Can't negotiate without announcing any tracks`);\n            }\n            try {\n                this.isIceRestarting = options?.iceRestart ?? false;\n                await this.pc.setLocalDescription(offer);\n                const { response } = await this.sfuClient.setPublisher({\n                    sdp: offer.sdp || \"\",\n                    tracks: trackInfos\n                });\n                if (response.error) throw new Error(response.error.message);\n                await this.pc.setRemoteDescription({\n                    type: \"answer\",\n                    sdp: response.sdp\n                });\n            } finally{\n                this.isIceRestarting = false;\n            }\n            this.sfuClient.iceTrickleBuffer.publisherCandidates.subscribe(async (candidate)=>{\n                try {\n                    const iceCandidate = JSON.parse(candidate.iceCandidate);\n                    await this.pc.addIceCandidate(iceCandidate);\n                } catch (e) {\n                    this.logger(\"warn\", `ICE candidate error`, e, candidate);\n                }\n            });\n        };\n        this.enableHighQualityAudio = (sdp)=>{\n            const transceiver = this.transceiverCache.get(TrackType.SCREEN_SHARE_AUDIO);\n            if (!transceiver) return sdp;\n            const transceiverInitIndex = this.transceiverInitOrder.indexOf(TrackType.SCREEN_SHARE_AUDIO);\n            const mid = extractMid(transceiver, transceiverInitIndex, sdp);\n            return enableHighQualityAudio(sdp, mid);\n        };\n        /**\n         * Returns a list of tracks that are currently being published.\n         *\n         * @internal\n         * @param sdp an optional SDP to extract the `mid` from.\n         */ this.getAnnouncedTracks = (sdp)=>{\n            sdp = sdp || this.pc.localDescription?.sdp;\n            return this.pc.getTransceivers().filter((t)=>t.direction === \"sendonly\" && t.sender.track).map((transceiver)=>{\n                let trackType;\n                this.transceiverCache.forEach((value, key)=>{\n                    if (value === transceiver) trackType = key;\n                });\n                const track = transceiver.sender.track;\n                let optimalLayers;\n                const isTrackLive = track.readyState === \"live\";\n                if (isTrackLive) {\n                    optimalLayers = this.computeLayers(trackType, track) || [];\n                    this.trackLayersCache.set(trackType, optimalLayers);\n                } else {\n                    // we report the last known optimal layers for ended tracks\n                    optimalLayers = this.trackLayersCache.get(trackType) || [];\n                    this.logger(\"debug\", `Track ${TrackType[trackType]} is ended. Announcing last known optimal layers`, optimalLayers);\n                }\n                const layers = optimalLayers.map((optimalLayer)=>({\n                        rid: optimalLayer.rid || \"\",\n                        bitrate: optimalLayer.maxBitrate || 0,\n                        fps: optimalLayer.maxFramerate || 0,\n                        quality: ridToVideoQuality(optimalLayer.rid || \"\"),\n                        videoDimension: {\n                            width: optimalLayer.width,\n                            height: optimalLayer.height\n                        }\n                    }));\n                const isAudioTrack = [\n                    TrackType.AUDIO,\n                    TrackType.SCREEN_SHARE_AUDIO\n                ].includes(trackType);\n                const trackSettings = track.getSettings();\n                const isStereo = isAudioTrack && trackSettings.channelCount === 2;\n                const transceiverInitIndex = this.transceiverInitOrder.indexOf(trackType);\n                return {\n                    trackId: track.id,\n                    layers: layers,\n                    trackType,\n                    mid: extractMid(transceiver, transceiverInitIndex, sdp),\n                    stereo: isStereo,\n                    dtx: isAudioTrack && this.isDtxEnabled,\n                    red: isAudioTrack && this.isRedEnabled,\n                    muted: !isTrackLive\n                };\n            });\n        };\n        this.computeLayers = (trackType, track, opts)=>{\n            const { settings } = this.state;\n            const targetResolution = settings?.video.target_resolution;\n            const screenShareBitrate = settings?.screensharing.target_resolution?.bitrate;\n            const publishOpts = opts || this.publishOptsForTrack.get(trackType);\n            const codecInUse = opts?.forceCodec || getOptimalVideoCodec(opts?.preferredCodec);\n            return trackType === TrackType.VIDEO ? findOptimalVideoLayers(track, targetResolution, codecInUse, publishOpts) : trackType === TrackType.SCREEN_SHARE ? findOptimalScreenSharingLayers(track, publishOpts, screenShareBitrate) : undefined;\n        };\n        this.onIceCandidateError = (e)=>{\n            const errorMessage = e instanceof RTCPeerConnectionIceErrorEvent && `${e.errorCode}: ${e.errorText}`;\n            const iceState = this.pc.iceConnectionState;\n            const logLevel = iceState === \"connected\" || iceState === \"checking\" ? \"debug\" : \"warn\";\n            this.logger(logLevel, `ICE Candidate error`, errorMessage);\n        };\n        this.onIceConnectionStateChange = ()=>{\n            const state = this.pc.iceConnectionState;\n            this.logger(\"debug\", `ICE Connection state changed to`, state);\n            if (this.state.callingState === CallingState.RECONNECTING) return;\n            if (state === \"failed\" || state === \"disconnected\") {\n                this.logger(\"debug\", `Attempting to restart ICE`);\n                this.restartIce().catch((e)=>{\n                    this.logger(\"error\", `ICE restart error`, e);\n                    this.onUnrecoverableError?.();\n                });\n            }\n        };\n        this.onIceGatheringStateChange = ()=>{\n            this.logger(\"debug\", `ICE Gathering State`, this.pc.iceGatheringState);\n        };\n        this.onSignalingStateChange = ()=>{\n            this.logger(\"debug\", `Signaling state changed`, this.pc.signalingState);\n        };\n        this.logger = getLogger([\n            \"Publisher\",\n            logTag\n        ]);\n        this.pc = this.createPeerConnection(connectionConfig);\n        this.sfuClient = sfuClient;\n        this.state = state;\n        this.isDtxEnabled = isDtxEnabled;\n        this.isRedEnabled = isRedEnabled;\n        this.onUnrecoverableError = onUnrecoverableError;\n        this.unsubscribeOnIceRestart = dispatcher.on(\"iceRestart\", (iceRestart)=>{\n            if (iceRestart.peerType !== PeerType.PUBLISHER_UNSPECIFIED) return;\n            this.restartIce().catch((err)=>{\n                this.logger(\"warn\", `ICERestart failed`, err);\n                this.onUnrecoverableError?.();\n            });\n        });\n        this.unsubscribeChangePublishQuality = dispatcher.on(\"changePublishQuality\", ({ videoSenders })=>{\n            withoutConcurrency(\"publisher.changePublishQuality\", async ()=>{\n                for (const videoSender of videoSenders){\n                    const { layers } = videoSender;\n                    const enabledLayers = layers.filter((l)=>l.active);\n                    await this.changePublishQuality(enabledLayers);\n                }\n            }).catch((err)=>{\n                this.logger(\"warn\", \"Failed to change publish quality\", err);\n            });\n        });\n    }\n    removeUnpreferredCodecs(sdp, trackType) {\n        const opts = this.publishOptsForTrack.get(trackType);\n        const forceSingleCodec = !!opts?.forceSingleCodec || isReactNative() || isFirefox();\n        if (!opts || !forceSingleCodec) return sdp;\n        const codec = opts.forceCodec || getOptimalVideoCodec(opts.preferredCodec);\n        const orderedCodecs = this.getCodecPreferences(trackType, codec, \"sender\");\n        if (!orderedCodecs || orderedCodecs.length === 0) return sdp;\n        const transceiver = this.transceiverCache.get(trackType);\n        if (!transceiver) return sdp;\n        const index = this.transceiverInitOrder.indexOf(trackType);\n        const mid = extractMid(transceiver, index, sdp);\n        const [codecToPreserve] = orderedCodecs;\n        return preserveCodec(sdp, mid, codecToPreserve);\n    }\n}\n/**\n * A wrapper around the `RTCPeerConnection` that handles the incoming\n * media streams from the SFU.\n *\n * @internal\n */ class Subscriber {\n    /**\n     * Constructs a new `Subscriber` instance.\n     *\n     * @param sfuClient the SFU client to use.\n     * @param dispatcher the dispatcher to use.\n     * @param state the state of the call.\n     * @param connectionConfig the connection configuration to use.\n     * @param iceRestartDelay the delay in milliseconds to wait before restarting ICE when connection goes to `disconnected` state.\n     * @param onUnrecoverableError a callback to call when an unrecoverable error occurs.\n     * @param logTag a tag to use for logging.\n     */ constructor({ sfuClient, dispatcher, state, connectionConfig, onUnrecoverableError, logTag }){\n        this.isIceRestarting = false;\n        /**\n         * Creates a new `RTCPeerConnection` instance with the given configuration.\n         *\n         * @param connectionConfig the connection configuration to use.\n         */ this.createPeerConnection = (connectionConfig)=>{\n            const pc = new RTCPeerConnection(connectionConfig);\n            pc.addEventListener(\"icecandidate\", this.onIceCandidate);\n            pc.addEventListener(\"track\", this.handleOnTrack);\n            pc.addEventListener(\"icecandidateerror\", this.onIceCandidateError);\n            pc.addEventListener(\"iceconnectionstatechange\", this.onIceConnectionStateChange);\n            pc.addEventListener(\"icegatheringstatechange\", this.onIceGatheringStateChange);\n            return pc;\n        };\n        /**\n         * Closes the `RTCPeerConnection` and unsubscribes from the dispatcher.\n         */ this.close = ()=>{\n            this.detachEventHandlers();\n            this.pc.close();\n        };\n        /**\n         * Detaches the event handlers from the `RTCPeerConnection`.\n         * This is useful when we want to replace the `RTCPeerConnection`\n         * instance with a new one (in case of migration).\n         */ this.detachEventHandlers = ()=>{\n            this.unregisterOnSubscriberOffer();\n            this.unregisterOnIceRestart();\n            this.pc.removeEventListener(\"icecandidate\", this.onIceCandidate);\n            this.pc.removeEventListener(\"track\", this.handleOnTrack);\n            this.pc.removeEventListener(\"icecandidateerror\", this.onIceCandidateError);\n            this.pc.removeEventListener(\"iceconnectionstatechange\", this.onIceConnectionStateChange);\n            this.pc.removeEventListener(\"icegatheringstatechange\", this.onIceGatheringStateChange);\n        };\n        /**\n         * Returns the result of the `RTCPeerConnection.getStats()` method\n         * @param selector\n         * @returns\n         */ this.getStats = (selector)=>{\n            return this.pc.getStats(selector);\n        };\n        /**\n         * Sets the SFU client to use.\n         *\n         * @param sfuClient the SFU client to use.\n         */ this.setSfuClient = (sfuClient)=>{\n            this.sfuClient = sfuClient;\n        };\n        /**\n         * Restarts the ICE connection and renegotiates with the SFU.\n         */ this.restartIce = async ()=>{\n            this.logger(\"debug\", \"Restarting ICE connection\");\n            if (this.pc.signalingState === \"have-remote-offer\") {\n                this.logger(\"debug\", \"ICE restart is already in progress\");\n                return;\n            }\n            if (this.pc.connectionState === \"new\") {\n                this.logger(\"debug\", `ICE connection is not yet established, skipping restart.`);\n                return;\n            }\n            const previousIsIceRestarting = this.isIceRestarting;\n            try {\n                this.isIceRestarting = true;\n                await this.sfuClient.iceRestart({\n                    peerType: PeerType.SUBSCRIBER\n                });\n            } catch (e) {\n                // restore the previous state, as our intent for restarting ICE failed\n                this.isIceRestarting = previousIsIceRestarting;\n                throw e;\n            }\n        };\n        this.handleOnTrack = (e)=>{\n            const [primaryStream] = e.streams;\n            // example: `e3f6aaf8-b03d-4911-be36-83f47d37a76a:TRACK_TYPE_VIDEO`\n            const [trackId, rawTrackType] = primaryStream.id.split(\":\");\n            const participantToUpdate = this.state.participants.find((p)=>p.trackLookupPrefix === trackId);\n            this.logger(\"debug\", `[onTrack]: Got remote ${rawTrackType} track for userId: ${participantToUpdate?.userId}`, e.track.id, e.track);\n            const trackDebugInfo = `${participantToUpdate?.userId} ${rawTrackType}:${trackId}`;\n            e.track.addEventListener(\"mute\", ()=>{\n                this.logger(\"info\", `[onTrack]: Track muted: ${trackDebugInfo}`);\n            });\n            e.track.addEventListener(\"unmute\", ()=>{\n                this.logger(\"info\", `[onTrack]: Track unmuted: ${trackDebugInfo}`);\n            });\n            e.track.addEventListener(\"ended\", ()=>{\n                this.logger(\"info\", `[onTrack]: Track ended: ${trackDebugInfo}`);\n                this.state.removeOrphanedTrack(primaryStream.id);\n            });\n            const trackType = toTrackType(rawTrackType);\n            if (!trackType) {\n                return this.logger(\"error\", `Unknown track type: ${rawTrackType}`);\n            }\n            if (!participantToUpdate) {\n                this.logger(\"warn\", `[onTrack]: Received track for unknown participant: ${trackId}`, e);\n                this.state.registerOrphanedTrack({\n                    id: primaryStream.id,\n                    trackLookupPrefix: trackId,\n                    track: primaryStream,\n                    trackType\n                });\n                return;\n            }\n            const streamKindProp = trackTypeToParticipantStreamKey(trackType);\n            if (!streamKindProp) {\n                this.logger(\"error\", `Unknown track type: ${rawTrackType}`);\n                return;\n            }\n            const previousStream = participantToUpdate[streamKindProp];\n            if (previousStream) {\n                this.logger(\"info\", `[onTrack]: Cleaning up previous remote ${e.track.kind} tracks for userId: ${participantToUpdate.userId}`);\n                previousStream.getTracks().forEach((t)=>{\n                    t.stop();\n                    previousStream.removeTrack(t);\n                });\n            }\n            this.state.updateParticipant(participantToUpdate.sessionId, {\n                [streamKindProp]: primaryStream\n            });\n        };\n        this.onIceCandidate = (e)=>{\n            const { candidate } = e;\n            if (!candidate) {\n                this.logger(\"debug\", \"null ice candidate\");\n                return;\n            }\n            this.sfuClient.iceTrickle({\n                iceCandidate: getIceCandidate(candidate),\n                peerType: PeerType.SUBSCRIBER\n            }).catch((err)=>{\n                this.logger(\"warn\", `ICETrickle failed`, err);\n            });\n        };\n        this.negotiate = async (subscriberOffer)=>{\n            this.logger(\"info\", `Received subscriberOffer`, subscriberOffer);\n            await this.pc.setRemoteDescription({\n                type: \"offer\",\n                sdp: subscriberOffer.sdp\n            });\n            this.sfuClient.iceTrickleBuffer.subscriberCandidates.subscribe(async (candidate)=>{\n                try {\n                    const iceCandidate = JSON.parse(candidate.iceCandidate);\n                    await this.pc.addIceCandidate(iceCandidate);\n                } catch (e) {\n                    this.logger(\"warn\", `ICE candidate error`, [\n                        e,\n                        candidate\n                    ]);\n                }\n            });\n            const answer = await this.pc.createAnswer();\n            await this.pc.setLocalDescription(answer);\n            await this.sfuClient.sendAnswer({\n                peerType: PeerType.SUBSCRIBER,\n                sdp: answer.sdp || \"\"\n            });\n            this.isIceRestarting = false;\n        };\n        this.onIceConnectionStateChange = ()=>{\n            const state = this.pc.iceConnectionState;\n            this.logger(\"debug\", `ICE connection state changed`, state);\n            if (this.state.callingState === CallingState.RECONNECTING) return;\n            // do nothing when ICE is restarting\n            if (this.isIceRestarting) return;\n            if (state === \"failed\" || state === \"disconnected\") {\n                this.logger(\"debug\", `Attempting to restart ICE`);\n                this.restartIce().catch((e)=>{\n                    this.logger(\"error\", `ICE restart failed`, e);\n                    this.onUnrecoverableError?.();\n                });\n            }\n        };\n        this.onIceGatheringStateChange = ()=>{\n            this.logger(\"debug\", `ICE gathering state changed`, this.pc.iceGatheringState);\n        };\n        this.onIceCandidateError = (e)=>{\n            const errorMessage = e instanceof RTCPeerConnectionIceErrorEvent && `${e.errorCode}: ${e.errorText}`;\n            const iceState = this.pc.iceConnectionState;\n            const logLevel = iceState === \"connected\" || iceState === \"checking\" ? \"debug\" : \"warn\";\n            this.logger(logLevel, `ICE Candidate error`, errorMessage);\n        };\n        this.logger = getLogger([\n            \"Subscriber\",\n            logTag\n        ]);\n        this.sfuClient = sfuClient;\n        this.state = state;\n        this.onUnrecoverableError = onUnrecoverableError;\n        this.pc = this.createPeerConnection(connectionConfig);\n        const subscriberOfferConcurrencyTag = Symbol(\"subscriberOffer\");\n        this.unregisterOnSubscriberOffer = dispatcher.on(\"subscriberOffer\", (subscriberOffer)=>{\n            withoutConcurrency(subscriberOfferConcurrencyTag, ()=>{\n                return this.negotiate(subscriberOffer);\n            }).catch((err)=>{\n                this.logger(\"error\", `Negotiation failed.`, err);\n            });\n        });\n        const iceRestartConcurrencyTag = Symbol(\"iceRestart\");\n        this.unregisterOnIceRestart = dispatcher.on(\"iceRestart\", (iceRestart)=>{\n            withoutConcurrency(iceRestartConcurrencyTag, async ()=>{\n                if (iceRestart.peerType !== PeerType.SUBSCRIBER) return;\n                await this.restartIce();\n            }).catch((err)=>{\n                this.logger(\"error\", `ICERestart failed`, err);\n                this.onUnrecoverableError?.();\n            });\n        });\n    }\n}\nconst createWebSocketSignalChannel = (opts)=>{\n    const { endpoint, onMessage, logTag } = opts;\n    const logger = getLogger([\n        \"SfuClientWS\",\n        logTag\n    ]);\n    const ws = new WebSocket(endpoint);\n    ws.binaryType = \"arraybuffer\"; // do we need this?\n    ws.addEventListener(\"error\", (e)=>{\n        logger(\"error\", \"Signaling WS channel error\", e);\n    });\n    ws.addEventListener(\"close\", (e)=>{\n        logger(\"info\", \"Signaling WS channel is closed\", e);\n    });\n    ws.addEventListener(\"open\", (e)=>{\n        logger(\"info\", \"Signaling WS channel is open\", e);\n    });\n    ws.addEventListener(\"message\", (e)=>{\n        try {\n            const message = e.data instanceof ArrayBuffer ? SfuEvent.fromBinary(new Uint8Array(e.data)) : SfuEvent.fromJsonString(e.data.toString());\n            onMessage(message);\n        } catch (err) {\n            logger(\"error\", \"Failed to decode a message. Check whether the Proto models match.\", {\n                event: e,\n                error: err\n            });\n        }\n    });\n    return ws;\n};\n/**\n * Saving a long-lived reference to a promise that can reject can be unsafe,\n * since rejecting the promise causes an unhandled rejection error (even if the\n * rejection is handled everywhere promise result is expected).\n *\n * To avoid that, we add both resolution and rejection handlers to the promise.\n * That way, the saved promise never rejects. A callback is provided as return\n * value to build a *new* promise, that resolves and rejects along with\n * the original promise.\n * @param promise Promise to wrap, which possibly rejects\n * @returns Callback to build a new promise, which resolves and rejects along\n * with the original promise\n */ function makeSafePromise(promise) {\n    let isPending = true;\n    const safePromise = promise.then((result)=>({\n            status: \"resolved\",\n            result\n        }), (error)=>({\n            status: \"rejected\",\n            error\n        })).finally(()=>isPending = false);\n    const unwrapPromise = ()=>safePromise.then((fulfillment)=>{\n            if (fulfillment.status === \"rejected\") throw fulfillment.error;\n            return fulfillment.result;\n        });\n    unwrapPromise.checkPending = ()=>isPending;\n    return unwrapPromise;\n}\n/**\n * Creates a new promise with resolvers.\n *\n * Based on:\n * - https://github.com/tc39/proposal-promise-with-resolvers/blob/main/polyfills.js\n */ const promiseWithResolvers = ()=>{\n    let resolve;\n    let reject;\n    const promise = new Promise((_resolve, _reject)=>{\n        resolve = _resolve;\n        reject = _reject;\n    });\n    let isResolved = false;\n    let isRejected = false;\n    const resolver = (value)=>{\n        isResolved = true;\n        resolve(value);\n    };\n    const rejecter = (reason)=>{\n        isRejected = true;\n        reject(reason);\n    };\n    return {\n        promise,\n        resolve: resolver,\n        reject: rejecter,\n        isResolved,\n        isRejected\n    };\n};\nconst uninitialized = Symbol(\"uninitialized\");\n/**\n * Lazily creates a value using a provided factory\n */ function lazy(factory) {\n    let value = uninitialized;\n    return ()=>{\n        if (value === uninitialized) {\n            value = factory();\n        }\n        return value;\n    };\n}\n// Do not modify this file manually. Instead, edit worker.ts\n// and the run ./generate-timer-worker.sh\nconst timerWorker = {\n    src: `const timerIdMapping = new Map();\nself.addEventListener('message', (event) => {\n    const request = event.data;\n    switch (request.type) {\n        case 'setTimeout':\n        case 'setInterval':\n            timerIdMapping.set(request.id, (request.type === 'setTimeout' ? setTimeout : setInterval)(() => {\n                tick(request.id);\n                if (request.type === 'setTimeout') {\n                    timerIdMapping.delete(request.id);\n                }\n            }, request.timeout));\n            break;\n        case 'clearTimeout':\n        case 'clearInterval':\n            (request.type === 'clearTimeout' ? clearTimeout : clearInterval)(timerIdMapping.get(request.id));\n            timerIdMapping.delete(request.id);\n            break;\n    }\n});\nfunction tick(id) {\n    const message = { type: 'tick', id };\n    self.postMessage(message);\n}`\n};\nclass TimerWorker {\n    constructor(){\n        this.currentTimerId = 1;\n        this.callbacks = new Map();\n        this.fallback = false;\n    }\n    setup({ useTimerWorker = true } = {}) {\n        if (!useTimerWorker) {\n            this.fallback = true;\n            return;\n        }\n        try {\n            const source = timerWorker.src;\n            const blob = new Blob([\n                source\n            ], {\n                type: \"application/javascript; charset=utf-8\"\n            });\n            const script = URL.createObjectURL(blob);\n            this.worker = new Worker(script, {\n                name: \"str-timer-worker\"\n            });\n            this.worker.addEventListener(\"message\", (event)=>{\n                const { type, id } = event.data;\n                if (type === \"tick\") {\n                    this.callbacks.get(id)?.();\n                }\n            });\n        } catch (err) {\n            getLogger([\n                \"timer-worker\"\n            ])(\"error\", err);\n            this.fallback = true;\n        }\n    }\n    destroy() {\n        this.callbacks.clear();\n        this.worker?.terminate();\n        this.worker = undefined;\n        this.fallback = false;\n    }\n    get ready() {\n        return this.fallback || Boolean(this.worker);\n    }\n    setInterval(callback, timeout) {\n        return this.setTimer(\"setInterval\", callback, timeout);\n    }\n    clearInterval(id) {\n        this.clearTimer(\"clearInterval\", id);\n    }\n    setTimeout(callback, timeout) {\n        return this.setTimer(\"setTimeout\", callback, timeout);\n    }\n    clearTimeout(id) {\n        this.clearTimer(\"clearTimeout\", id);\n    }\n    setTimer(type, callback, timeout) {\n        if (!this.ready) {\n            this.setup();\n        }\n        if (this.fallback) {\n            return (type === \"setTimeout\" ? setTimeout : setInterval)(callback, timeout);\n        }\n        const id = this.getTimerId();\n        this.callbacks.set(id, ()=>{\n            callback();\n            // Timeouts are one-off operations, so no need to keep callback reference\n            // after timer has fired\n            if (type === \"setTimeout\") {\n                this.callbacks.delete(id);\n            }\n        });\n        this.sendMessage({\n            type,\n            id,\n            timeout\n        });\n        return id;\n    }\n    clearTimer(type, id) {\n        if (!id) {\n            return;\n        }\n        if (!this.ready) {\n            this.setup();\n        }\n        if (this.fallback) {\n            (type === \"clearTimeout\" ? clearTimeout : clearInterval)(id);\n            return;\n        }\n        this.callbacks.delete(id);\n        this.sendMessage({\n            type,\n            id\n        });\n    }\n    getTimerId() {\n        return this.currentTimerId++;\n    }\n    sendMessage(message) {\n        if (!this.worker) {\n            throw new Error(\"Cannot use timer worker before it's set up\");\n        }\n        this.worker.postMessage(message);\n    }\n}\nlet timerWorkerEnabled = false;\nconst enableTimerWorker = ()=>{\n    timerWorkerEnabled = true;\n};\nconst getTimers = lazy(()=>{\n    const instance = new TimerWorker();\n    instance.setup({\n        useTimerWorker: timerWorkerEnabled\n    });\n    return instance;\n});\n/**\n * The client used for exchanging information with the SFU.\n */ class StreamSfuClient {\n    /**\n     * Constructs a new SFU client.\n     */ constructor({ dispatcher, credentials, sessionId, logTag, joinResponseTimeout = 5000, onSignalClose, streamClient }){\n        /**\n         * A buffer for ICE Candidates that are received before\n         * the Publisher and Subscriber Peer Connections are ready to handle them.\n         */ this.iceTrickleBuffer = new IceTrickleBuffer();\n        /**\n         * Flag to indicate if the client is in the process of leaving the call.\n         * This is set to `true` when the user initiates the leave process.\n         */ this.isLeaving = false;\n        this.pingIntervalInMs = 10 * 1000;\n        this.unhealthyTimeoutInMs = this.pingIntervalInMs + 5 * 1000;\n        /**\n         * Promise that resolves when the JoinResponse is received.\n         * Rejects after a certain threshold if the response is not received.\n         */ this.joinResponseTask = promiseWithResolvers();\n        /**\n         * A controller to abort the current requests.\n         */ this.abortController = new AbortController();\n        this.createWebSocket = ()=>{\n            this.signalWs = createWebSocketSignalChannel({\n                logTag: this.logTag,\n                endpoint: `${this.credentials.server.ws_endpoint}?tag=${this.logTag}`,\n                onMessage: (message)=>{\n                    this.lastMessageTimestamp = new Date();\n                    this.scheduleConnectionCheck();\n                    this.dispatcher.dispatch(message, this.logTag);\n                }\n            });\n            this.signalWs.addEventListener(\"close\", this.handleWebSocketClose);\n            this.signalReady = makeSafePromise(Promise.race([\n                new Promise((resolve)=>{\n                    const onOpen = ()=>{\n                        this.signalWs.removeEventListener(\"open\", onOpen);\n                        resolve(this.signalWs);\n                    };\n                    this.signalWs.addEventListener(\"open\", onOpen);\n                }),\n                new Promise((resolve, reject)=>{\n                    setTimeout(()=>reject(new Error(\"SFU WS connection timed out\")), this.joinResponseTimeout);\n                })\n            ]));\n        };\n        this.cleanUpWebSocket = ()=>{\n            this.signalWs.removeEventListener(\"close\", this.handleWebSocketClose);\n        };\n        this.handleWebSocketClose = ()=>{\n            this.signalWs.removeEventListener(\"close\", this.handleWebSocketClose);\n            getTimers().clearInterval(this.keepAliveInterval);\n            clearTimeout(this.connectionCheckTimeout);\n            this.onSignalClose?.();\n        };\n        this.close = (code = StreamSfuClient.NORMAL_CLOSURE, reason)=>{\n            if (this.signalWs.readyState === WebSocket.OPEN) {\n                this.logger(\"debug\", `Closing SFU WS connection: ${code} - ${reason}`);\n                this.signalWs.close(code, `js-client: ${reason}`);\n                this.cleanUpWebSocket();\n            }\n            this.dispose();\n        };\n        this.dispose = ()=>{\n            this.logger(\"debug\", \"Disposing SFU client\");\n            this.unsubscribeIceTrickle();\n            this.unsubscribeNetworkChanged();\n            clearInterval(this.keepAliveInterval);\n            clearTimeout(this.connectionCheckTimeout);\n            clearTimeout(this.migrateAwayTimeout);\n            this.abortController.abort();\n            this.migrationTask?.resolve();\n        };\n        this.leaveAndClose = async (reason)=>{\n            await this.joinTask;\n            try {\n                this.isLeaving = true;\n                await this.notifyLeave(reason);\n            } catch (err) {\n                this.logger(\"debug\", \"Error notifying SFU about leaving call\", err);\n            }\n            this.close(StreamSfuClient.NORMAL_CLOSURE, reason.substring(0, 115));\n        };\n        this.updateSubscriptions = async (tracks)=>{\n            await this.joinTask;\n            return retryable(()=>this.rpc.updateSubscriptions({\n                    sessionId: this.sessionId,\n                    tracks\n                }), this.abortController.signal);\n        };\n        this.setPublisher = async (data)=>{\n            await this.joinTask;\n            return retryable(()=>this.rpc.setPublisher({\n                    ...data,\n                    sessionId: this.sessionId\n                }), this.abortController.signal);\n        };\n        this.sendAnswer = async (data)=>{\n            await this.joinTask;\n            return retryable(()=>this.rpc.sendAnswer({\n                    ...data,\n                    sessionId: this.sessionId\n                }), this.abortController.signal);\n        };\n        this.iceTrickle = async (data)=>{\n            await this.joinTask;\n            return retryable(()=>this.rpc.iceTrickle({\n                    ...data,\n                    sessionId: this.sessionId\n                }), this.abortController.signal);\n        };\n        this.iceRestart = async (data)=>{\n            await this.joinTask;\n            return retryable(()=>this.rpc.iceRestart({\n                    ...data,\n                    sessionId: this.sessionId\n                }), this.abortController.signal);\n        };\n        this.updateMuteState = async (trackType, muted)=>{\n            await this.joinTask;\n            return this.updateMuteStates({\n                muteStates: [\n                    {\n                        trackType,\n                        muted\n                    }\n                ]\n            });\n        };\n        this.updateMuteStates = async (data)=>{\n            await this.joinTask;\n            return retryable(()=>this.rpc.updateMuteStates({\n                    ...data,\n                    sessionId: this.sessionId\n                }), this.abortController.signal);\n        };\n        this.sendStats = async (stats)=>{\n            await this.joinTask;\n            return retryable(()=>this.rpc.sendStats({\n                    ...stats,\n                    sessionId: this.sessionId\n                }), this.abortController.signal);\n        };\n        this.startNoiseCancellation = async ()=>{\n            await this.joinTask;\n            return retryable(()=>this.rpc.startNoiseCancellation({\n                    sessionId: this.sessionId\n                }), this.abortController.signal);\n        };\n        this.stopNoiseCancellation = async ()=>{\n            await this.joinTask;\n            return retryable(()=>this.rpc.stopNoiseCancellation({\n                    sessionId: this.sessionId\n                }), this.abortController.signal);\n        };\n        this.enterMigration = async (opts = {})=>{\n            this.isLeaving = true;\n            const { timeout = 7 * 1000 } = opts;\n            this.migrationTask?.reject(new Error(\"Cancelled previous migration\"));\n            const task = this.migrationTask = promiseWithResolvers();\n            const unsubscribe = this.dispatcher.on(\"participantMigrationComplete\", ()=>{\n                unsubscribe();\n                clearTimeout(this.migrateAwayTimeout);\n                task.resolve();\n            });\n            this.migrateAwayTimeout = setTimeout(()=>{\n                unsubscribe();\n                task.reject(new Error(`Migration (${this.logTag}) failed to complete in ${timeout}ms`));\n            }, timeout);\n            return task.promise;\n        };\n        this.join = async (data)=>{\n            // wait for the signal web socket to be ready before sending \"joinRequest\"\n            await this.signalReady();\n            if (this.joinResponseTask.isResolved || this.joinResponseTask.isRejected) {\n                // we need to lock the RPC requests until we receive a JoinResponse.\n                // that's why we have this primitive lock mechanism.\n                // the client starts with already initialized joinResponseTask,\n                // and this code creates a new one for the next join request.\n                this.joinResponseTask = promiseWithResolvers();\n            }\n            // capture a reference to the current joinResponseTask as it might\n            // be replaced with a new one in case a second join request is made\n            const current = this.joinResponseTask;\n            let timeoutId;\n            const unsubscribe = this.dispatcher.on(\"joinResponse\", (joinResponse)=>{\n                this.logger(\"debug\", \"Received joinResponse\", joinResponse);\n                clearTimeout(timeoutId);\n                unsubscribe();\n                this.keepAlive();\n                current.resolve(joinResponse);\n            });\n            timeoutId = setTimeout(()=>{\n                unsubscribe();\n                current.reject(new Error('Waiting for \"joinResponse\" has timed out'));\n            }, this.joinResponseTimeout);\n            await this.send(SfuRequest.create({\n                requestPayload: {\n                    oneofKind: \"joinRequest\",\n                    joinRequest: JoinRequest.create({\n                        ...data,\n                        sessionId: this.sessionId,\n                        token: this.credentials.token\n                    })\n                }\n            }));\n            return current.promise;\n        };\n        this.ping = async ()=>{\n            return this.send(SfuRequest.create({\n                requestPayload: {\n                    oneofKind: \"healthCheckRequest\",\n                    healthCheckRequest: {}\n                }\n            }));\n        };\n        this.notifyLeave = async (reason)=>{\n            return this.send(SfuRequest.create({\n                requestPayload: {\n                    oneofKind: \"leaveCallRequest\",\n                    leaveCallRequest: {\n                        sessionId: this.sessionId,\n                        reason\n                    }\n                }\n            }));\n        };\n        this.send = async (message)=>{\n            await this.signalReady(); // wait for the signal ws to be open\n            const msgJson = SfuRequest.toJson(message);\n            if (this.signalWs.readyState !== WebSocket.OPEN) {\n                this.logger(\"debug\", \"Signal WS is not open. Skipping message\", msgJson);\n                return;\n            }\n            this.logger(\"debug\", `Sending message to: ${this.edgeName}`, msgJson);\n            this.signalWs.send(SfuRequest.toBinary(message));\n        };\n        this.keepAlive = ()=>{\n            const timers = getTimers();\n            timers.clearInterval(this.keepAliveInterval);\n            this.keepAliveInterval = timers.setInterval(()=>{\n                this.ping().catch((e)=>{\n                    this.logger(\"error\", \"Error sending healthCheckRequest to SFU\", e);\n                });\n            }, this.pingIntervalInMs);\n        };\n        this.scheduleConnectionCheck = ()=>{\n            clearTimeout(this.connectionCheckTimeout);\n            this.connectionCheckTimeout = setTimeout(()=>{\n                if (this.lastMessageTimestamp) {\n                    const timeSinceLastMessage = new Date().getTime() - this.lastMessageTimestamp.getTime();\n                    if (timeSinceLastMessage > this.unhealthyTimeoutInMs) {\n                        this.close(StreamSfuClient.ERROR_CONNECTION_UNHEALTHY, `SFU connection unhealthy. Didn't receive any message for ${this.unhealthyTimeoutInMs}ms`);\n                    }\n                }\n            }, this.unhealthyTimeoutInMs);\n        };\n        this.dispatcher = dispatcher;\n        this.sessionId = sessionId || generateUUIDv4();\n        this.onSignalClose = onSignalClose;\n        this.credentials = credentials;\n        const { server, token } = credentials;\n        this.edgeName = server.edge_name;\n        this.joinResponseTimeout = joinResponseTimeout;\n        this.logTag = logTag;\n        this.logger = getLogger([\n            \"SfuClient\",\n            logTag\n        ]);\n        this.rpc = createSignalClient({\n            baseUrl: server.url,\n            interceptors: [\n                withHeaders({\n                    Authorization: `Bearer ${token}`\n                }),\n                getLogLevel() === \"trace\" && withRequestLogger(this.logger, \"trace\")\n            ].filter((v)=>!!v)\n        });\n        // Special handling for the ICETrickle kind of events.\n        // The SFU might trigger these events before the initial RTC\n        // connection is established or \"JoinResponse\" received.\n        // In that case, those events (ICE candidates) need to be buffered\n        // and later added to the appropriate PeerConnection\n        // once the remoteDescription is known and set.\n        this.unsubscribeIceTrickle = dispatcher.on(\"iceTrickle\", (iceTrickle)=>{\n            this.iceTrickleBuffer.push(iceTrickle);\n        });\n        // listen to network changes to handle offline state\n        // we shouldn't attempt to recover websocket connection when offline\n        this.unsubscribeNetworkChanged = streamClient.on(\"network.changed\", (e)=>{\n            if (!e.online) {\n                this.networkAvailableTask = promiseWithResolvers();\n            } else {\n                this.networkAvailableTask?.resolve();\n            }\n        });\n        this.createWebSocket();\n    }\n    get isHealthy() {\n        return this.signalWs.readyState === WebSocket.OPEN;\n    }\n    get joinTask() {\n        return this.joinResponseTask.promise;\n    }\n}\n/**\n * The normal closure code. Used for controlled shutdowns.\n */ StreamSfuClient.NORMAL_CLOSURE = 1000;\n/**\n * The error code used when the SFU connection is unhealthy.\n * Usually, this means that no message has been received from the SFU for\n * a certain amount of time (`connectionCheckTimeout`).\n */ StreamSfuClient.ERROR_CONNECTION_UNHEALTHY = 4001;\n/**\n * The error code used when the SFU connection is disposed because a new\n * connection is established or is about to be established.\n * Here, we don't use 1000 (normal closure) because we don't want the\n * SFU to clean up the resources associated with the current participant.\n */ StreamSfuClient.DISPOSE_OLD_SOCKET = 4002;\nconst toRtcConfiguration = (config)=>{\n    return {\n        iceServers: config.map((ice)=>({\n                urls: ice.urls,\n                username: ice.username,\n                credential: ice.password\n            }))\n    };\n};\n/**\n * Event handler that watched the delivery of `call.accepted`.\n * Once the event is received, the call is joined.\n */ const watchCallAccepted = (call)=>{\n    return async function onCallAccepted(event) {\n        // We want to discard the event if it's from the current user\n        if (event.user.id === call.currentUserId) return;\n        const { state } = call;\n        if (event.call.created_by.id === call.currentUserId && state.callingState === CallingState.RINGING) {\n            await call.join();\n        }\n    };\n};\n/**\n * Event handler that watches delivery of `call.rejected` Websocket event.\n * Once the event is received, the call is left.\n */ const watchCallRejected = (call)=>{\n    return async function onCallRejected(event) {\n        // We want to discard the event if it's from the current user\n        if (event.user.id === call.currentUserId) return;\n        const { call: eventCall } = event;\n        const { session: callSession } = eventCall;\n        if (!callSession) {\n            call.logger(\"warn\", \"No call session provided. Ignoring call.rejected event.\", event);\n            return;\n        }\n        const rejectedBy = callSession.rejected_by;\n        const { members, callingState } = call.state;\n        if (callingState !== CallingState.RINGING) {\n            call.logger(\"info\", \"Call is not in ringing mode (it is either accepted or rejected already). Ignoring call.rejected event.\", event);\n            return;\n        }\n        if (call.isCreatedByMe) {\n            const everyoneElseRejected = members.filter((m)=>m.user_id !== call.currentUserId).every((m)=>rejectedBy[m.user_id]);\n            if (everyoneElseRejected) {\n                call.logger(\"info\", \"everyone rejected, leaving the call\");\n                await call.leave({\n                    reason: \"ring: everyone rejected\"\n                });\n            }\n        } else {\n            if (rejectedBy[eventCall.created_by.id]) {\n                call.logger(\"info\", \"call creator rejected, leaving call\");\n                await call.leave({\n                    reason: \"ring: creator rejected\"\n                });\n            }\n        }\n    };\n};\n/**\n * Event handler that watches the delivery of `call.ended` Websocket event.\n */ const watchCallEnded = (call)=>{\n    return function onCallEnded() {\n        const { callingState } = call.state;\n        if (callingState !== CallingState.IDLE && callingState !== CallingState.LEFT) {\n            call.leave({\n                reason: \"call.ended event received\",\n                reject: false\n            }).catch((err)=>{\n                call.logger(\"error\", \"Failed to leave call after call.ended \", err);\n            });\n        }\n    };\n};\n/**\n * Watches for `callEnded` events.\n */ const watchSfuCallEnded = (call)=>{\n    return call.on(\"callEnded\", async (e)=>{\n        if (call.state.callingState === CallingState.LEFT) return;\n        try {\n            // `call.ended` event arrived after the call is already left\n            // and all event handlers are detached. We need to manually\n            // update the call state to reflect the call has ended.\n            call.state.setEndedAt(new Date());\n            const reason = CallEndedReason[e.reason];\n            await call.leave({\n                reason: `callEnded received: ${reason}`\n            });\n        } catch (err) {\n            call.logger(\"error\", \"Failed to leave call after being ended by the SFU\", err);\n        }\n    });\n};\n/**\n * Event handler that watches for `callGrantsUpdated` events.\n *\n * @param state the call state to update.\n */ const watchCallGrantsUpdated = (state)=>{\n    return function onCallGrantsUpdated(event) {\n        const { currentGrants } = event;\n        if (currentGrants) {\n            const { canPublishAudio, canPublishVideo, canScreenshare } = currentGrants;\n            const update = {\n                [OwnCapability.SEND_AUDIO]: canPublishAudio,\n                [OwnCapability.SEND_VIDEO]: canPublishVideo,\n                [OwnCapability.SCREENSHARE]: canScreenshare\n            };\n            const nextCapabilities = state.ownCapabilities.filter((capability)=>update[capability] !== false);\n            Object.entries(update).forEach(([capability, value])=>{\n                if (value && !nextCapabilities.includes(capability)) {\n                    nextCapabilities.push(capability);\n                }\n            });\n            state.setOwnCapabilities(nextCapabilities);\n        }\n    };\n};\nconst watchConnectionQualityChanged = (dispatcher, state)=>{\n    return dispatcher.on(\"connectionQualityChanged\", (e)=>{\n        const { connectionQualityUpdates } = e;\n        if (!connectionQualityUpdates) return;\n        state.updateParticipants(connectionQualityUpdates.reduce((patches, update)=>{\n            const { sessionId, connectionQuality } = update;\n            patches[sessionId] = {\n                connectionQuality\n            };\n            return patches;\n        }, {}));\n    });\n};\n/**\n * Updates the approximate number of participants in the call by peeking at the\n * health check events that our SFU sends.\n */ const watchParticipantCountChanged = (dispatcher, state)=>{\n    return dispatcher.on(\"healthCheckResponse\", (e)=>{\n        const { participantCount } = e;\n        if (participantCount) {\n            state.setParticipantCount(participantCount.total);\n            state.setAnonymousParticipantCount(participantCount.anonymous);\n        }\n    });\n};\nconst watchLiveEnded = (dispatcher, call)=>{\n    return dispatcher.on(\"error\", (e)=>{\n        if (e.error && e.error.code !== ErrorCode.LIVE_ENDED) return;\n        if (!call.permissionsContext.hasPermission(OwnCapability.JOIN_BACKSTAGE)) {\n            call.leave({\n                reason: \"live ended\"\n            }).catch((err)=>{\n                call.logger(\"error\", \"Failed to leave call after live ended\", err);\n            });\n        }\n    });\n};\n/**\n * Watches and logs the errors reported by the currently connected SFU.\n */ const watchSfuErrorReports = (dispatcher)=>{\n    return dispatcher.on(\"error\", (e)=>{\n        if (!e.error) return;\n        const logger = getLogger([\n            \"SfuClient\"\n        ]);\n        const { error, reconnectStrategy } = e;\n        logger(\"error\", \"SFU reported error\", {\n            code: ErrorCode[error.code],\n            reconnectStrategy: WebsocketReconnectStrategy[reconnectStrategy],\n            message: error.message,\n            shouldRetry: error.shouldRetry\n        });\n    });\n};\n/**\n * Watches for `pinsUpdated` events and updates the pinned state of participants\n * in the call.\n */ const watchPinsUpdated = (state)=>{\n    return function onPinsUpdated(e) {\n        const { pins } = e;\n        state.setServerSidePins(pins);\n    };\n};\n/**\n * An event handler that handles soft mutes.\n *\n * @param call the call.\n */ const handleRemoteSoftMute = (call)=>{\n    return call.on(\"trackUnpublished\", async (event)=>{\n        const { cause, type, sessionId } = event;\n        const { localParticipant } = call.state;\n        if (cause === TrackUnpublishReason.MODERATION && sessionId === localParticipant?.sessionId) {\n            const logger = call.logger;\n            logger(\"info\", `Local participant's ${TrackType[type]} track is muted remotely`);\n            try {\n                if (type === TrackType.VIDEO) {\n                    await call.camera.disable();\n                } else if (type === TrackType.AUDIO) {\n                    await call.microphone.disable();\n                } else if (type === TrackType.SCREEN_SHARE || type === TrackType.SCREEN_SHARE_AUDIO) {\n                    await call.screenShare.disable();\n                } else {\n                    logger(\"warn\", \"Unsupported track type to soft mute\", TrackType[type]);\n                }\n            } catch (error) {\n                logger(\"error\", \"Failed to stop publishing\", error);\n            }\n        }\n    });\n};\n/**\n * An event responder which handles the `participantJoined` event.\n */ const watchParticipantJoined = (state)=>{\n    return function onParticipantJoined(e) {\n        const { participant } = e;\n        if (!participant) return;\n        // `state.updateOrAddParticipant` acts as a safeguard against\n        // potential duplicate events from the SFU.\n        //\n        // Although the SFU should not send duplicate events, we have seen\n        // some race conditions in the past during the `join-flow`.\n        // The SFU would send participant info as part of the `join`\n        // response and then follow up with a `participantJoined` event for\n        // already announced participants.\n        const orphanedTracks = reconcileOrphanedTracks(state, participant);\n        state.updateOrAddParticipant(participant.sessionId, Object.assign(participant, orphanedTracks, {\n            viewportVisibilityState: {\n                videoTrack: VisibilityState.UNKNOWN,\n                screenShareTrack: VisibilityState.UNKNOWN\n            }\n        }));\n    };\n};\n/**\n * An event responder which handles the `participantLeft` event.\n */ const watchParticipantLeft = (state)=>{\n    return function onParticipantLeft(e) {\n        const { participant } = e;\n        if (!participant) return;\n        state.setParticipants((participants)=>participants.filter((p)=>p.sessionId !== participant.sessionId));\n    };\n};\n/**\n * An event responder which handles the `participantUpdated` event.\n */ const watchParticipantUpdated = (state)=>{\n    return function onParticipantUpdated(e) {\n        const { participant } = e;\n        if (!participant) return;\n        state.updateParticipant(participant.sessionId, participant);\n    };\n};\n/**\n * An event responder which handles the `trackPublished` event.\n * The SFU will send this event when a participant publishes a track.\n */ const watchTrackPublished = (state)=>{\n    return function onTrackPublished(e) {\n        const { type, sessionId } = e;\n        // An optimization for large calls.\n        // After a certain threshold, the SFU would stop emitting `participantJoined`\n        // events, and instead, it would only provide the participant's information\n        // once they start publishing a track.\n        if (e.participant) {\n            const orphanedTracks = reconcileOrphanedTracks(state, e.participant);\n            const participant = Object.assign(e.participant, orphanedTracks);\n            state.updateOrAddParticipant(sessionId, participant);\n        } else {\n            state.updateParticipant(sessionId, (p)=>({\n                    publishedTracks: [\n                        ...p.publishedTracks,\n                        type\n                    ].filter(unique)\n                }));\n        }\n    };\n};\n/**\n * An event responder which handles the `trackUnpublished` event.\n * The SFU will send this event when a participant unpublishes a track.\n */ const watchTrackUnpublished = (state)=>{\n    return function onTrackUnpublished(e) {\n        const { type, sessionId } = e;\n        // An optimization for large calls. See `watchTrackPublished`.\n        if (e.participant) {\n            const orphanedTracks = reconcileOrphanedTracks(state, e.participant);\n            const participant = Object.assign(e.participant, orphanedTracks);\n            state.updateOrAddParticipant(sessionId, participant);\n        } else {\n            state.updateParticipant(sessionId, (p)=>({\n                    publishedTracks: p.publishedTracks.filter((t)=>t !== type)\n                }));\n        }\n    };\n};\nconst unique = (v, i, arr)=>arr.indexOf(v) === i;\n/**\n * Reconciles orphaned tracks (if any) for the given participant.\n *\n * @param state the call state.\n * @param participant the participant.\n */ const reconcileOrphanedTracks = (state, participant)=>{\n    const orphanTracks = state.takeOrphanedTracks(participant.trackLookupPrefix);\n    if (!orphanTracks.length) return;\n    const reconciledTracks = {};\n    for (const orphan of orphanTracks){\n        const key = trackTypeToParticipantStreamKey(orphan.trackType);\n        if (!key) continue;\n        reconciledTracks[key] = orphan.track;\n    }\n    return reconciledTracks;\n};\n/**\n * Watches for `dominantSpeakerChanged` events.\n */ const watchDominantSpeakerChanged = (dispatcher, state)=>{\n    return dispatcher.on(\"dominantSpeakerChanged\", (e)=>{\n        const { sessionId } = e;\n        if (sessionId === state.dominantSpeaker?.sessionId) return;\n        state.setParticipants((participants)=>participants.map((participant)=>{\n                // mark the new dominant speaker\n                if (participant.sessionId === sessionId) {\n                    return {\n                        ...participant,\n                        isDominantSpeaker: true\n                    };\n                }\n                // unmark the old dominant speaker\n                if (participant.isDominantSpeaker) {\n                    return {\n                        ...participant,\n                        isDominantSpeaker: false\n                    };\n                }\n                return participant; // no change\n            }));\n    });\n};\n/**\n * Watches for `audioLevelChanged` events.\n */ const watchAudioLevelChanged = (dispatcher, state)=>{\n    return dispatcher.on(\"audioLevelChanged\", (e)=>{\n        const { audioLevels } = e;\n        state.updateParticipants(audioLevels.reduce((patches, current)=>{\n            patches[current.sessionId] = {\n                audioLevel: current.level,\n                isSpeaking: current.isSpeaking\n            };\n            return patches;\n        }, {}));\n    });\n};\n/**\n * Registers the default event handlers for a call during its lifecycle.\n *\n * @param call the call to register event handlers for.\n * @param dispatcher the dispatcher.\n */ const registerEventHandlers = (call, dispatcher)=>{\n    const state = call.state;\n    const eventHandlers = [\n        call.on(\"call.ended\", watchCallEnded(call)),\n        watchSfuCallEnded(call),\n        watchLiveEnded(dispatcher, call),\n        watchSfuErrorReports(dispatcher),\n        watchConnectionQualityChanged(dispatcher, state),\n        watchParticipantCountChanged(dispatcher, state),\n        call.on(\"participantJoined\", watchParticipantJoined(state)),\n        call.on(\"participantLeft\", watchParticipantLeft(state)),\n        call.on(\"participantUpdated\", watchParticipantUpdated(state)),\n        call.on(\"trackPublished\", watchTrackPublished(state)),\n        call.on(\"trackUnpublished\", watchTrackUnpublished(state)),\n        watchAudioLevelChanged(dispatcher, state),\n        watchDominantSpeakerChanged(dispatcher, state),\n        call.on(\"callGrantsUpdated\", watchCallGrantsUpdated(state)),\n        call.on(\"pinsUpdated\", watchPinsUpdated(state)),\n        handleRemoteSoftMute(call)\n    ];\n    if (call.ringing) {\n        // these events are only relevant when the call is ringing\n        eventHandlers.push(registerRingingCallEventHandlers(call));\n    }\n    return ()=>{\n        eventHandlers.forEach((unsubscribe)=>unsubscribe());\n    };\n};\n/**\n * Registers event handlers for a call that is of ringing type.\n *\n * @param call the call to register event handlers for.\n */ const registerRingingCallEventHandlers = (call)=>{\n    const coordinatorRingEvents = {\n        \"call.accepted\": watchCallAccepted(call),\n        \"call.rejected\": watchCallRejected(call)\n    };\n    const eventHandlers = Object.keys(coordinatorRingEvents).map((event)=>{\n        const eventName = event;\n        return call.on(eventName, coordinatorRingEvents[eventName]);\n    });\n    return ()=>{\n        eventHandlers.forEach((unsubscribe)=>unsubscribe());\n    };\n};\n/**\n * Flatten the stats report into an array of stats objects.\n *\n * @param report the report to flatten.\n */ const flatten = (report)=>{\n    const stats = [];\n    report.forEach((s)=>{\n        stats.push(s);\n    });\n    return stats;\n};\nconst getSdkSignature = (clientDetails)=>{\n    const { sdk, ...platform } = clientDetails;\n    const sdkName = getSdkName(sdk);\n    const sdkVersion = getSdkVersion(sdk);\n    return {\n        sdkName,\n        sdkVersion,\n        ...platform\n    };\n};\nconst getSdkName = (sdk)=>{\n    return sdk && sdk.type === SdkType.REACT ? \"stream-react\" : sdk && sdk.type === SdkType.REACT_NATIVE ? \"stream-react-native\" : \"stream-js\";\n};\nconst getSdkVersion = (sdk)=>{\n    return sdk ? `${sdk.major}.${sdk.minor}.${sdk.patch}` : \"0.0.0-development\";\n};\n/**\n * Creates a new StatsReporter instance that collects metrics about the ongoing call and reports them to the state store\n */ const createStatsReporter = ({ subscriber, publisher, state, datacenter, pollingIntervalInMs = 2000 })=>{\n    const logger = getLogger([\n        \"stats\"\n    ]);\n    const getRawStatsForTrack = async (kind, selector)=>{\n        if (kind === \"subscriber\" && subscriber) {\n            return subscriber.getStats(selector);\n        } else if (kind === \"publisher\" && publisher) {\n            return publisher.getStats(selector);\n        } else {\n            return undefined;\n        }\n    };\n    const getStatsForStream = async (kind, mediaStream)=>{\n        const pc = kind === \"subscriber\" ? subscriber : publisher;\n        if (!pc) return [];\n        const statsForStream = [];\n        for (let track of mediaStream.getTracks()){\n            const report = await pc.getStats(track);\n            const stats = transform(report, {\n                // @ts-ignore\n                trackKind: track.kind,\n                kind\n            });\n            statsForStream.push(stats);\n        }\n        return statsForStream;\n    };\n    const startReportingStatsFor = (sessionId)=>{\n        sessionIdsToTrack.add(sessionId);\n        void run();\n    };\n    const stopReportingStatsFor = (sessionId)=>{\n        sessionIdsToTrack.delete(sessionId);\n        void run();\n    };\n    const sessionIdsToTrack = new Set();\n    /**\n     * The main stats reporting loop.\n     */ const run = async ()=>{\n        const participantStats = {};\n        const sessionIds = new Set(sessionIdsToTrack);\n        if (sessionIds.size > 0) {\n            for (let participant of state.participants){\n                if (!sessionIds.has(participant.sessionId)) continue;\n                const kind = participant.isLocalParticipant ? \"publisher\" : \"subscriber\";\n                try {\n                    const mergedStream = new MediaStream([\n                        ...participant.videoStream?.getVideoTracks() || [],\n                        ...participant.audioStream?.getAudioTracks() || []\n                    ]);\n                    participantStats[participant.sessionId] = await getStatsForStream(kind, mergedStream);\n                    mergedStream.getTracks().forEach((t)=>{\n                        mergedStream.removeTrack(t);\n                    });\n                } catch (e) {\n                    logger(\"error\", `Failed to collect stats for ${kind} of ${participant.userId}`, e);\n                }\n            }\n        }\n        const [subscriberStats, publisherStats] = await Promise.all([\n            subscriber.getStats().then((report)=>transform(report, {\n                    kind: \"subscriber\",\n                    trackKind: \"video\"\n                })).then(aggregate),\n            publisher ? publisher.getStats().then((report)=>transform(report, {\n                    kind: \"publisher\",\n                    trackKind: \"video\"\n                })).then(aggregate) : getEmptyStats()\n        ]);\n        const [subscriberRawStats, publisherRawStats] = await Promise.all([\n            getRawStatsForTrack(\"subscriber\"),\n            publisher ? getRawStatsForTrack(\"publisher\") : undefined\n        ]);\n        state.setCallStatsReport({\n            datacenter,\n            publisherStats,\n            subscriberStats,\n            subscriberRawStats,\n            publisherRawStats,\n            participants: participantStats,\n            timestamp: Date.now()\n        });\n    };\n    let timeoutId;\n    if (pollingIntervalInMs > 0) {\n        const loop = async ()=>{\n            await run().catch((e)=>{\n                logger(\"debug\", \"Failed to collect stats\", e);\n            });\n            timeoutId = setTimeout(loop, pollingIntervalInMs);\n        };\n        void loop();\n    }\n    const stop = ()=>{\n        if (timeoutId) {\n            clearTimeout(timeoutId);\n        }\n    };\n    return {\n        getRawStatsForTrack,\n        getStatsForStream,\n        startReportingStatsFor,\n        stopReportingStatsFor,\n        stop\n    };\n};\n/**\n * Transforms raw RTC stats into a slimmer and uniform across browsers format.\n *\n * @param report the report to transform.\n * @param opts the transform options.\n */ const transform = (report, opts)=>{\n    const { trackKind, kind } = opts;\n    const direction = kind === \"subscriber\" ? \"inbound-rtp\" : \"outbound-rtp\";\n    const stats = flatten(report);\n    const streams = stats.filter((stat)=>stat.type === direction && stat.kind === trackKind).map((stat)=>{\n        const rtcStreamStats = stat;\n        const codec = stats.find((s)=>s.type === \"codec\" && s.id === rtcStreamStats.codecId);\n        const transport = stats.find((s)=>s.type === \"transport\" && s.id === rtcStreamStats.transportId);\n        let roundTripTime;\n        if (transport && transport.dtlsState === \"connected\") {\n            const candidatePair = stats.find((s)=>s.type === \"candidate-pair\" && s.id === transport.selectedCandidatePairId);\n            roundTripTime = candidatePair?.currentRoundTripTime;\n        }\n        return {\n            bytesSent: rtcStreamStats.bytesSent,\n            bytesReceived: rtcStreamStats.bytesReceived,\n            codec: codec?.mimeType,\n            currentRoundTripTime: roundTripTime,\n            frameHeight: rtcStreamStats.frameHeight,\n            frameWidth: rtcStreamStats.frameWidth,\n            framesPerSecond: rtcStreamStats.framesPerSecond,\n            jitter: rtcStreamStats.jitter,\n            kind: rtcStreamStats.kind,\n            // @ts-ignore: available in Chrome only, TS doesn't recognize this\n            qualityLimitationReason: rtcStreamStats.qualityLimitationReason,\n            rid: rtcStreamStats.rid,\n            ssrc: rtcStreamStats.ssrc\n        };\n    });\n    return {\n        rawStats: report,\n        streams,\n        timestamp: Date.now()\n    };\n};\nconst getEmptyStats = (stats)=>{\n    return {\n        rawReport: stats ?? {\n            streams: [],\n            timestamp: Date.now()\n        },\n        totalBytesSent: 0,\n        totalBytesReceived: 0,\n        averageJitterInMs: 0,\n        averageRoundTripTimeInMs: 0,\n        qualityLimitationReasons: \"none\",\n        highestFrameWidth: 0,\n        highestFrameHeight: 0,\n        highestFramesPerSecond: 0,\n        codec: \"\",\n        timestamp: Date.now()\n    };\n};\n/**\n * Aggregates generic stats.\n *\n * @param stats the stats to aggregate.\n */ const aggregate = (stats)=>{\n    const aggregatedStats = getEmptyStats(stats);\n    let maxArea = -1;\n    const area = (w, h)=>w * h;\n    const qualityLimitationReasons = new Set();\n    const streams = stats.streams;\n    const report = streams.reduce((acc, stream)=>{\n        acc.totalBytesSent += stream.bytesSent || 0;\n        acc.totalBytesReceived += stream.bytesReceived || 0;\n        acc.averageJitterInMs += stream.jitter || 0;\n        acc.averageRoundTripTimeInMs += stream.currentRoundTripTime || 0;\n        // naive calculation of the highest resolution\n        const streamArea = area(stream.frameWidth || 0, stream.frameHeight || 0);\n        if (streamArea > maxArea) {\n            acc.highestFrameWidth = stream.frameWidth || 0;\n            acc.highestFrameHeight = stream.frameHeight || 0;\n            acc.highestFramesPerSecond = stream.framesPerSecond || 0;\n            maxArea = streamArea;\n        }\n        qualityLimitationReasons.add(stream.qualityLimitationReason || \"\");\n        return acc;\n    }, aggregatedStats);\n    if (streams.length > 0) {\n        report.averageJitterInMs = Math.round(report.averageJitterInMs / streams.length * 1000);\n        report.averageRoundTripTimeInMs = Math.round(report.averageRoundTripTimeInMs / streams.length * 1000);\n        // we take the first codec we find, as it should be the same for all streams\n        report.codec = streams[0].codec || \"\";\n    }\n    const qualityLimitationReason = [\n        qualityLimitationReasons.has(\"cpu\") && \"cpu\",\n        qualityLimitationReasons.has(\"bandwidth\") && \"bandwidth\",\n        qualityLimitationReasons.has(\"other\") && \"other\"\n    ].filter(Boolean).join(\", \");\n    if (qualityLimitationReason) {\n        report.qualityLimitationReasons = qualityLimitationReason;\n    }\n    return report;\n};\nclass SfuStatsReporter {\n    constructor(sfuClient, { options, clientDetails, subscriber, publisher, microphone, camera, state }){\n        this.logger = getLogger([\n            \"SfuStatsReporter\"\n        ]);\n        this.inputDevices = new Map();\n        this.observeDevice = (device, kind)=>{\n            const { hasBrowserPermission$ } = device.state;\n            this.unsubscribeDevicePermissionsSubscription?.();\n            this.unsubscribeDevicePermissionsSubscription = createSubscription((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_14__.combineLatest)([\n                hasBrowserPermission$,\n                this.state.ownCapabilities$\n            ]), ([hasPermission, ownCapabilities])=>{\n                // cleanup the previous listDevices() subscription in case\n                // permissions or capabilities have changed.\n                // we will subscribe again if everything is in order.\n                this.unsubscribeListDevicesSubscription?.();\n                const hasCapability = kind === \"mic\" ? ownCapabilities.includes(OwnCapability.SEND_AUDIO) : ownCapabilities.includes(OwnCapability.SEND_VIDEO);\n                if (!hasPermission || !hasCapability) {\n                    this.inputDevices.set(kind, {\n                        currentDevice: \"\",\n                        availableDevices: [],\n                        isPermitted: false\n                    });\n                    return;\n                }\n                this.unsubscribeListDevicesSubscription = createSubscription((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_14__.combineLatest)([\n                    device.listDevices(),\n                    device.state.selectedDevice$\n                ]), ([devices, deviceId])=>{\n                    const selected = devices.find((d)=>d.deviceId === deviceId);\n                    this.inputDevices.set(kind, {\n                        currentDevice: selected?.label || deviceId || \"\",\n                        availableDevices: devices.map((d)=>d.label),\n                        isPermitted: true\n                    });\n                });\n            });\n        };\n        this.sendTelemetryData = async (telemetryData)=>{\n            return this.run(telemetryData);\n        };\n        this.run = async (telemetryData)=>{\n            const [subscriberStats, publisherStats] = await Promise.all([\n                this.subscriber.getStats().then(flatten).then(JSON.stringify),\n                this.publisher?.getStats().then(flatten).then(JSON.stringify) ?? \"[]\"\n            ]);\n            await this.sfuClient.sendStats({\n                sdk: this.sdkName,\n                sdkVersion: this.sdkVersion,\n                webrtcVersion: this.webRTCVersion,\n                subscriberStats,\n                publisherStats,\n                audioDevices: this.inputDevices.get(\"mic\"),\n                videoDevices: this.inputDevices.get(\"camera\"),\n                deviceState: getDeviceState(),\n                telemetry: telemetryData\n            });\n        };\n        this.start = ()=>{\n            if (this.options.reporting_interval_ms <= 0) return;\n            this.observeDevice(this.microphone, \"mic\");\n            this.observeDevice(this.camera, \"camera\");\n            clearInterval(this.intervalId);\n            this.intervalId = setInterval(()=>{\n                this.run().catch((err)=>{\n                    this.logger(\"warn\", \"Failed to report stats\", err);\n                });\n            }, this.options.reporting_interval_ms);\n        };\n        this.stop = ()=>{\n            this.unsubscribeDevicePermissionsSubscription?.();\n            this.unsubscribeDevicePermissionsSubscription = undefined;\n            this.unsubscribeListDevicesSubscription?.();\n            this.unsubscribeListDevicesSubscription = undefined;\n            this.inputDevices.clear();\n            clearInterval(this.intervalId);\n            this.intervalId = undefined;\n        };\n        this.sfuClient = sfuClient;\n        this.options = options;\n        this.subscriber = subscriber;\n        this.publisher = publisher;\n        this.microphone = microphone;\n        this.camera = camera;\n        this.state = state;\n        const { sdk, browser } = clientDetails;\n        this.sdkName = getSdkName(sdk);\n        this.sdkVersion = getSdkVersion(sdk);\n        // use the WebRTC version if set by the SDK (React Native) otherwise,\n        // use the browser version as a fallback\n        const webRTCInfo = getWebRTCInfo();\n        this.webRTCVersion = webRTCInfo?.version || `${browser?.name || \"\"}-${browser?.version || \"\"}` || \"N/A\";\n    }\n}\nconst DEFAULT_THRESHOLD = 0.35;\nclass ViewportTracker {\n    constructor(){\n        /**\n         * @private\n         */ this.elementHandlerMap = new Map();\n        /**\n         * @private\n         */ this.observer = null;\n        // in React children render before viewport is set, add\n        // them to the queue and observe them once the observer is ready\n        /**\n         * @private\n         */ this.queueSet = new Set();\n        /**\n         * Method to set scrollable viewport as root for the IntersectionObserver, returns\n         * cleanup function to be invoked upon disposing of the DOM element to prevent memory leaks\n         *\n         * @param viewportElement\n         * @param options\n         * @returns Unobserve\n         */ this.setViewport = (viewportElement, options)=>{\n            const cleanup = ()=>{\n                this.observer?.disconnect();\n                this.observer = null;\n                this.elementHandlerMap.clear();\n            };\n            this.observer = new IntersectionObserver((entries)=>{\n                entries.forEach((entry)=>{\n                    const handler = this.elementHandlerMap.get(entry.target);\n                    handler?.(entry);\n                });\n            }, {\n                root: viewportElement,\n                ...options,\n                threshold: options?.threshold ?? DEFAULT_THRESHOLD\n            });\n            if (this.queueSet.size) {\n                this.queueSet.forEach(([queueElement, queueHandler])=>{\n                    // check if element which requested observation is\n                    // a child of a viewport element, skip if isn't\n                    if (!viewportElement.contains(queueElement)) return;\n                    this.observer.observe(queueElement);\n                    this.elementHandlerMap.set(queueElement, queueHandler);\n                });\n                this.queueSet.clear();\n            }\n            return cleanup;\n        };\n        /**\n         * Method to set element to observe and handler to be triggered whenever IntersectionObserver\n         * detects a possible change in element's visibility within specified viewport, returns\n         * cleanup function to be invoked upon disposing of the DOM element to prevent memory leaks\n         *\n         * @param element\n         * @param handler\n         * @returns Unobserve\n         */ this.observe = (element, handler)=>{\n            const queueItem = [\n                element,\n                handler\n            ];\n            const cleanup = ()=>{\n                this.elementHandlerMap.delete(element);\n                this.observer?.unobserve(element);\n                this.queueSet.delete(queueItem);\n            };\n            if (this.elementHandlerMap.has(element)) return cleanup;\n            if (!this.observer) {\n                this.queueSet.add(queueItem);\n                return cleanup;\n            }\n            if (this.observer.root.contains(element)) {\n                this.elementHandlerMap.set(element, handler);\n                this.observer.observe(element);\n            }\n            return cleanup;\n        };\n    }\n}\nconst DEFAULT_VIEWPORT_VISIBILITY_STATE = {\n    videoTrack: VisibilityState.UNKNOWN,\n    screenShareTrack: VisibilityState.UNKNOWN\n};\nconst globalOverrideKey = Symbol(\"globalOverrideKey\");\n/**\n * A manager class that handles dynascale related tasks like:\n *\n * - binding video elements to session ids\n * - binding audio elements to session ids\n * - tracking element visibility\n * - updating subscriptions based on viewport visibility\n * - updating subscriptions based on video element dimensions\n * - updating subscriptions based on published tracks\n */ class DynascaleManager {\n    /**\n     * Creates a new DynascaleManager instance.\n     *\n     * @param call the call to manage.\n     */ constructor(callState, speaker){\n        /**\n         * The viewport tracker instance.\n         */ this.viewportTracker = new ViewportTracker();\n        this.logger = getLogger([\n            \"DynascaleManager\"\n        ]);\n        this.pendingSubscriptionsUpdate = null;\n        this.videoTrackSubscriptionOverridesSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject({});\n        this.videoTrackSubscriptionOverrides$ = this.videoTrackSubscriptionOverridesSubject.asObservable();\n        this.incomingVideoSettings$ = this.videoTrackSubscriptionOverrides$.pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_16__.map)((overrides)=>{\n            const { [globalOverrideKey]: globalSettings, ...participants } = overrides;\n            return {\n                enabled: globalSettings?.enabled !== false,\n                preferredResolution: globalSettings?.enabled ? globalSettings.dimension : undefined,\n                participants: Object.fromEntries(Object.entries(participants).map(([sessionId, participantOverride])=>[\n                        sessionId,\n                        {\n                            enabled: participantOverride?.enabled !== false,\n                            preferredResolution: participantOverride?.enabled ? participantOverride.dimension : undefined\n                        }\n                    ])),\n                isParticipantVideoEnabled: (sessionId)=>overrides[sessionId]?.enabled ?? overrides[globalOverrideKey]?.enabled ?? true\n            };\n        }), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_17__.shareReplay)(1));\n        this.setVideoTrackSubscriptionOverrides = (override, sessionIds)=>{\n            if (!sessionIds) {\n                return setCurrentValue(this.videoTrackSubscriptionOverridesSubject, override ? {\n                    [globalOverrideKey]: override\n                } : {});\n            }\n            return setCurrentValue(this.videoTrackSubscriptionOverridesSubject, (overrides)=>({\n                    ...overrides,\n                    ...Object.fromEntries(sessionIds.map((id)=>[\n                            id,\n                            override\n                        ]))\n                }));\n        };\n        this.applyTrackSubscriptions = (debounceType = DebounceType.SLOW)=>{\n            if (this.pendingSubscriptionsUpdate) {\n                clearTimeout(this.pendingSubscriptionsUpdate);\n            }\n            const updateSubscriptions = ()=>{\n                this.pendingSubscriptionsUpdate = null;\n                this.sfuClient?.updateSubscriptions(this.trackSubscriptions).catch((err)=>{\n                    this.logger(\"debug\", `Failed to update track subscriptions`, err);\n                });\n            };\n            if (debounceType) {\n                this.pendingSubscriptionsUpdate = setTimeout(updateSubscriptions, debounceType);\n            } else {\n                updateSubscriptions();\n            }\n        };\n        /**\n         * Will begin tracking the given element for visibility changes within the\n         * configured viewport element (`call.setViewport`).\n         *\n         * @param element the element to track.\n         * @param sessionId the session id.\n         * @param trackType the kind of video.\n         * @returns Untrack.\n         */ this.trackElementVisibility = (element, sessionId, trackType)=>{\n            const cleanup = this.viewportTracker.observe(element, (entry)=>{\n                this.callState.updateParticipant(sessionId, (participant)=>{\n                    const previousVisibilityState = participant.viewportVisibilityState ?? DEFAULT_VIEWPORT_VISIBILITY_STATE;\n                    // observer triggers when the element is \"moved\" to be a fullscreen element\n                    // keep it VISIBLE if that happens to prevent fullscreen with placeholder\n                    const isVisible = entry.isIntersecting || document.fullscreenElement === element ? VisibilityState.VISIBLE : VisibilityState.INVISIBLE;\n                    return {\n                        ...participant,\n                        viewportVisibilityState: {\n                            ...previousVisibilityState,\n                            [trackType]: isVisible\n                        }\n                    };\n                });\n            });\n            return ()=>{\n                cleanup();\n                // reset visibility state to UNKNOWN upon cleanup\n                // so that the layouts that are not actively observed\n                // can still function normally (runtime layout switching)\n                this.callState.updateParticipant(sessionId, (participant)=>{\n                    const previousVisibilityState = participant.viewportVisibilityState ?? DEFAULT_VIEWPORT_VISIBILITY_STATE;\n                    return {\n                        ...participant,\n                        viewportVisibilityState: {\n                            ...previousVisibilityState,\n                            [trackType]: VisibilityState.UNKNOWN\n                        }\n                    };\n                });\n            };\n        };\n        /**\n         * Sets the viewport element to track bound video elements for visibility.\n         *\n         * @param element the viewport element.\n         */ this.setViewport = (element)=>{\n            return this.viewportTracker.setViewport(element);\n        };\n        /**\n         * Binds a DOM <video> element to the given session id.\n         * This method will make sure that the video element will play\n         * the correct video stream for the given session id.\n         *\n         * Under the hood, it would also keep track of the video element dimensions\n         * and update the subscription accordingly in order to optimize the bandwidth.\n         *\n         * If a \"viewport\" is configured, the video element will be automatically\n         * tracked for visibility and the subscription will be updated accordingly.\n         *\n         * @param videoElement the video element to bind to.\n         * @param sessionId the session id.\n         * @param trackType the kind of video.\n         */ this.bindVideoElement = (videoElement, sessionId, trackType)=>{\n            const boundParticipant = this.callState.findParticipantBySessionId(sessionId);\n            if (!boundParticipant) return;\n            const requestTrackWithDimensions = (debounceType, dimension)=>{\n                if (dimension && (dimension.width === 0 || dimension.height === 0)) {\n                    // ignore 0x0 dimensions. this can happen when the video element\n                    // is not visible (e.g., has display: none).\n                    // we treat this as \"unsubscription\" as we don't want to keep\n                    // consuming bandwidth for a video that is not visible on the screen.\n                    this.logger(\"debug\", `Ignoring 0x0 dimension`, boundParticipant);\n                    dimension = undefined;\n                }\n                this.callState.updateParticipantTracks(trackType, {\n                    [sessionId]: {\n                        dimension\n                    }\n                });\n                this.applyTrackSubscriptions(debounceType);\n            };\n            const participant$ = this.callState.participants$.pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_16__.map)((participants)=>participants.find((participant)=>participant.sessionId === sessionId)), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_19__.takeWhile)((participant)=>!!participant), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_18__.distinctUntilChanged)(), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_17__.shareReplay)({\n                bufferSize: 1,\n                refCount: true\n            }));\n            /**\n             * Since the video elements are now being removed from the DOM (React SDK) upon\n             * visibility change, this subscription is not in use an stays here only for the\n             * plain JS integrations where integrators might choose not to remove the video\n             * elements from the DOM.\n             */ // keep copy for resize observer handler\n            let viewportVisibilityState;\n            const viewportVisibilityStateSubscription = boundParticipant.isLocalParticipant ? null : participant$.pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_16__.map)((p)=>p.viewportVisibilityState?.[trackType]), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_18__.distinctUntilChanged)()).subscribe((nextViewportVisibilityState)=>{\n                // skip initial trigger\n                if (!viewportVisibilityState) {\n                    viewportVisibilityState = nextViewportVisibilityState ?? VisibilityState.UNKNOWN;\n                    return;\n                }\n                viewportVisibilityState = nextViewportVisibilityState ?? VisibilityState.UNKNOWN;\n                if (nextViewportVisibilityState === VisibilityState.INVISIBLE) {\n                    return requestTrackWithDimensions(DebounceType.MEDIUM, undefined);\n                }\n                requestTrackWithDimensions(DebounceType.MEDIUM, {\n                    width: videoElement.clientWidth,\n                    height: videoElement.clientHeight\n                });\n            });\n            let lastDimensions;\n            const resizeObserver = boundParticipant.isLocalParticipant ? null : new ResizeObserver(()=>{\n                const currentDimensions = {\n                    width: videoElement.clientWidth,\n                    height: videoElement.clientHeight\n                };\n                // skip initial trigger\n                if (!lastDimensions) {\n                    lastDimensions = currentDimensions;\n                    return;\n                }\n                if (lastDimensions.width === currentDimensions.width && lastDimensions.height === currentDimensions.height || viewportVisibilityState === VisibilityState.INVISIBLE) {\n                    return;\n                }\n                const relativeDelta = Math.max(currentDimensions.width / lastDimensions.width, currentDimensions.height / lastDimensions.height);\n                // Low quality video in an upscaled video element is very noticable.\n                // We try to upscale faster, and downscale slower. We also update debounce\n                // more if the size change is not significant, gurading against fast-firing\n                // resize events.\n                const debounceType = relativeDelta > 1.2 ? DebounceType.IMMEDIATE : DebounceType.MEDIUM;\n                requestTrackWithDimensions(debounceType, {\n                    width: videoElement.clientWidth,\n                    height: videoElement.clientHeight\n                });\n                lastDimensions = currentDimensions;\n            });\n            resizeObserver?.observe(videoElement);\n            // element renders and gets bound - track subscription gets\n            // triggered first other ones get skipped on initial subscriptions\n            const publishedTracksSubscription = boundParticipant.isLocalParticipant ? null : participant$.pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_20__.distinctUntilKeyChanged)(\"publishedTracks\"), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_16__.map)((p)=>trackType === \"videoTrack\" ? hasVideo(p) : hasScreenShare(p)), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_18__.distinctUntilChanged)()).subscribe((isPublishing)=>{\n                if (isPublishing) {\n                    // the participant just started to publish a track\n                    requestTrackWithDimensions(DebounceType.IMMEDIATE, {\n                        width: videoElement.clientWidth,\n                        height: videoElement.clientHeight\n                    });\n                } else {\n                    // the participant just stopped publishing a track\n                    requestTrackWithDimensions(DebounceType.FAST, undefined);\n                }\n            });\n            videoElement.autoplay = true;\n            videoElement.playsInline = true;\n            // explicitly marking the element as muted will allow autoplay to work\n            // without prior user interaction:\n            // https://developer.mozilla.org/en-US/docs/Web/Media/Autoplay_guide\n            videoElement.muted = true;\n            const streamSubscription = participant$.pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_20__.distinctUntilKeyChanged)(trackType === \"videoTrack\" ? \"videoStream\" : \"screenShareStream\")).subscribe((p)=>{\n                const source = trackType === \"videoTrack\" ? p.videoStream : p.screenShareStream;\n                if (videoElement.srcObject === source) return;\n                videoElement.srcObject = source ?? null;\n                if (isSafari() || isFirefox()) {\n                    setTimeout(()=>{\n                        videoElement.srcObject = source ?? null;\n                        videoElement.play().catch((e)=>{\n                            this.logger(\"warn\", `Failed to play stream`, e);\n                        });\n                    // we add extra delay until we attempt to force-play\n                    // the participant's media stream in Firefox and Safari,\n                    // as they seem to have some timing issues\n                    }, 25);\n                }\n            });\n            return ()=>{\n                requestTrackWithDimensions(DebounceType.FAST, undefined);\n                viewportVisibilityStateSubscription?.unsubscribe();\n                publishedTracksSubscription?.unsubscribe();\n                streamSubscription.unsubscribe();\n                resizeObserver?.disconnect();\n            };\n        };\n        /**\n         * Binds a DOM <audio> element to the given session id.\n         *\n         * This method will make sure that the audio element will\n         * play the correct audio stream for the given session id.\n         *\n         * @param audioElement the audio element to bind to.\n         * @param sessionId the session id.\n         * @param trackType the kind of audio.\n         * @returns a cleanup function that will unbind the audio element.\n         */ this.bindAudioElement = (audioElement, sessionId, trackType)=>{\n            const participant = this.callState.findParticipantBySessionId(sessionId);\n            if (!participant || participant.isLocalParticipant) return;\n            const participant$ = this.callState.participants$.pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_16__.map)((participants)=>participants.find((p)=>p.sessionId === sessionId)), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_19__.takeWhile)((p)=>!!p), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_18__.distinctUntilChanged)(), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_17__.shareReplay)({\n                bufferSize: 1,\n                refCount: true\n            }));\n            const updateMediaStreamSubscription = participant$.pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_20__.distinctUntilKeyChanged)(trackType === \"screenShareAudioTrack\" ? \"screenShareAudioStream\" : \"audioStream\")).subscribe((p)=>{\n                const source = trackType === \"screenShareAudioTrack\" ? p.screenShareAudioStream : p.audioStream;\n                if (audioElement.srcObject === source) return;\n                setTimeout(()=>{\n                    audioElement.srcObject = source ?? null;\n                    if (audioElement.srcObject) {\n                        audioElement.play().catch((e)=>{\n                            this.logger(\"warn\", `Failed to play stream`, e);\n                        });\n                        // audio output device shall be set after the audio element is played\n                        // otherwise, the browser will not pick it up, and will always\n                        // play audio through the system's default device\n                        const { selectedDevice } = this.speaker.state;\n                        if (selectedDevice && \"setSinkId\" in audioElement) {\n                            audioElement.setSinkId(selectedDevice);\n                        }\n                    }\n                });\n            });\n            const sinkIdSubscription = !(\"setSinkId\" in audioElement) ? null : this.speaker.state.selectedDevice$.subscribe((deviceId)=>{\n                if (deviceId) {\n                    audioElement.setSinkId(deviceId);\n                }\n            });\n            const volumeSubscription = (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_14__.combineLatest)([\n                this.speaker.state.volume$,\n                participant$.pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_20__.distinctUntilKeyChanged)(\"audioVolume\"))\n            ]).subscribe(([volume, p])=>{\n                audioElement.volume = p.audioVolume ?? volume;\n            });\n            audioElement.autoplay = true;\n            return ()=>{\n                sinkIdSubscription?.unsubscribe();\n                volumeSubscription.unsubscribe();\n                updateMediaStreamSubscription.unsubscribe();\n            };\n        };\n        this.callState = callState;\n        this.speaker = speaker;\n    }\n    setSfuClient(sfuClient) {\n        this.sfuClient = sfuClient;\n    }\n    get trackSubscriptions() {\n        const subscriptions = [];\n        for (const p of this.callState.remoteParticipants){\n            // NOTE: audio tracks don't have to be requested explicitly\n            // as the SFU will implicitly subscribe us to all of them,\n            // once they become available.\n            if (p.videoDimension && hasVideo(p)) {\n                const override = this.videoTrackSubscriptionOverrides[p.sessionId] ?? this.videoTrackSubscriptionOverrides[globalOverrideKey];\n                if (override?.enabled !== false) {\n                    subscriptions.push({\n                        userId: p.userId,\n                        sessionId: p.sessionId,\n                        trackType: TrackType.VIDEO,\n                        dimension: override?.dimension ?? p.videoDimension\n                    });\n                }\n            }\n            if (p.screenShareDimension && hasScreenShare(p)) {\n                subscriptions.push({\n                    userId: p.userId,\n                    sessionId: p.sessionId,\n                    trackType: TrackType.SCREEN_SHARE,\n                    dimension: p.screenShareDimension\n                });\n            }\n            if (hasScreenShareAudio(p)) {\n                subscriptions.push({\n                    userId: p.userId,\n                    sessionId: p.sessionId,\n                    trackType: TrackType.SCREEN_SHARE_AUDIO\n                });\n            }\n        }\n        return subscriptions;\n    }\n    get videoTrackSubscriptionOverrides() {\n        return getCurrentValue(this.videoTrackSubscriptionOverrides$);\n    }\n}\n/**\n * Stores the permissions for the current user and exposes\n * a few helper methods which make it easier to work with permissions.\n *\n * This is an internal class meant to be used in combination with\n * a {@link Call} instance.\n *\n * @internal\n */ class PermissionsContext {\n    constructor(){\n        this.permissions = [];\n        /**\n         * Sets the permissions for the current user.\n         *\n         * @param permissions the permissions to set.\n         */ this.setPermissions = (permissions)=>{\n            this.permissions = permissions || [];\n        };\n        /**\n         * Sets the settings for the bound call.\n         * @param settings\n         */ this.setCallSettings = (settings)=>{\n            this.settings = settings;\n        };\n        /**\n         * Checks if the current user has a specific permission.\n         *\n         * @param permission the permission to check for.\n         */ this.hasPermission = (permission)=>{\n            return this.permissions.includes(permission);\n        };\n        /**\n         * Checks if the current user can request a specific permission\n         * within the call.\n         *\n         * @param permission the permission to check for.\n         * @param settings the call settings to check against (optional).\n         */ this.canRequest = (permission, settings = this.settings)=>{\n            if (!settings) return false;\n            const { audio, video, screensharing } = settings;\n            switch(permission){\n                case OwnCapability.SEND_AUDIO:\n                    return audio.access_request_enabled;\n                case OwnCapability.SEND_VIDEO:\n                    return video.access_request_enabled;\n                case OwnCapability.SCREENSHARE:\n                    return screensharing.access_request_enabled;\n                default:\n                    return false;\n            }\n        };\n    }\n}\n/**\n * Represents a call type.\n */ class CallType {\n    /**\n     * Constructs a new CallType.\n     *\n     * @param name the name of the call type.\n     * @param options the options for the call type.\n     */ constructor(name, options = {\n        sortParticipantsBy: defaultSortPreset\n    }){\n        this.name = name;\n        this.options = options;\n    }\n}\n/**\n * A registry of {@link CallType}s.\n * You can register and unregister call types.\n */ class CallTypesRegistry {\n    /**\n     * Constructs a new CallTypesRegistry.\n     *\n     * @param callTypes the initial call types to register.\n     */ constructor(callTypes){\n        /**\n         * Registers a new call type.\n         *\n         * @param callType the call type to register.\n         */ this.register = (callType)=>{\n            this.callTypes[callType.name] = callType;\n        };\n        /**\n         * Unregisters a call type.\n         *\n         * @param name the name of the call type to unregister.\n         */ this.unregister = (name)=>{\n            delete this.callTypes[name];\n        };\n        /**\n         * Gets a call type by name.\n         *\n         * @param name the name of the call type to get.\n         */ this.get = (name)=>{\n            if (!this.callTypes[name]) {\n                this.register(new CallType(name));\n            }\n            return this.callTypes[name];\n        };\n        this.callTypes = callTypes.reduce((acc, callType)=>{\n            acc[callType.name] = callType;\n            return acc;\n        }, {});\n    }\n}\n/**\n * The default call types registry.\n * You can use this instance to dynamically register and unregister call types.\n */ const CallTypes = new CallTypesRegistry([\n    new CallType(\"default\", {\n        sortParticipantsBy: defaultSortPreset\n    }),\n    new CallType(\"development\", {\n        sortParticipantsBy: defaultSortPreset\n    }),\n    new CallType(\"livestream\", {\n        sortParticipantsBy: livestreamOrAudioRoomSortPreset\n    }),\n    new CallType(\"audio_room\", {\n        sortParticipantsBy: livestreamOrAudioRoomSortPreset\n    })\n]);\nclass BrowserPermission {\n    constructor(permission){\n        this.permission = permission;\n        this.disposeController = new AbortController();\n        this.wasPrompted = false;\n        this.listeners = new Set();\n        this.logger = getLogger([\n            \"permissions\"\n        ]);\n        const signal = this.disposeController.signal;\n        this.ready = (async ()=>{\n            const assumeGranted = (error)=>{\n                this.setState(\"prompt\");\n            };\n            if (!canQueryPermissions()) {\n                return assumeGranted();\n            }\n            try {\n                const status = await navigator.permissions.query({\n                    name: permission.queryName\n                });\n                if (!signal.aborted) {\n                    this.setState(status.state);\n                    status.addEventListener(\"change\", ()=>this.setState(status.state), {\n                        signal\n                    });\n                }\n            } catch (err) {\n                assumeGranted();\n            }\n        })();\n    }\n    dispose() {\n        this.state = undefined;\n        this.disposeController.abort();\n    }\n    async getState() {\n        await this.ready;\n        if (!this.state) {\n            throw new Error(\"BrowserPermission instance possibly disposed\");\n        }\n        return this.state;\n    }\n    async prompt({ forcePrompt = false, throwOnNotAllowed = false } = {}) {\n        return await withoutConcurrency(`permission-prompt-${this.permission.queryName}`, async ()=>{\n            if (await this.getState() !== \"prompt\" || this.wasPrompted && !forcePrompt) {\n                const isGranted = this.state === \"granted\";\n                if (!isGranted && throwOnNotAllowed) {\n                    throw new Error(\"Permission was not granted previously, and prompting again is not allowed\");\n                }\n                return isGranted;\n            }\n            try {\n                this.wasPrompted = true;\n                const stream = await navigator.mediaDevices.getUserMedia(this.permission.constraints);\n                disposeOfMediaStream(stream);\n                this.setState(\"granted\");\n                return true;\n            } catch (e) {\n                if (e && typeof e === \"object\" && \"name\" in e && (e.name === \"NotAllowedError\" || e.name === \"SecurityError\")) {\n                    this.logger(\"info\", \"Browser permission was not granted\", {\n                        permission: this.permission\n                    });\n                    this.setState(\"denied\");\n                    if (throwOnNotAllowed) {\n                        throw e;\n                    }\n                    return false;\n                }\n                this.logger(\"error\", `Failed to getUserMedia`, {\n                    error: e,\n                    permission: this.permission\n                });\n                throw e;\n            }\n        });\n    }\n    listen(cb) {\n        this.listeners.add(cb);\n        if (this.state) cb(this.state);\n        return ()=>this.listeners.delete(cb);\n    }\n    asObservable() {\n        return (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_21__.fromEventPattern)((handler)=>this.listen(handler), (handler, unlisten)=>unlisten()).pipe(// In some browsers, the 'change' event doesn't reliably emit and hence,\n        // permissionState stays in 'prompt' state forever.\n        // Typically, this happens when a user grants one-time permission.\n        // Instead of checking if a permission is granted, we check if it isn't denied\n        (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_16__.map)((state)=>state !== \"denied\"));\n    }\n    setState(state) {\n        if (this.state !== state) {\n            this.state = state;\n            this.listeners.forEach((listener)=>listener(state));\n        }\n    }\n}\nfunction canQueryPermissions() {\n    return !isReactNative() && typeof navigator !== \"undefined\" && !!navigator.permissions?.query;\n}\n/**\n * Returns an Observable that emits the list of available devices\n * that meet the given constraints.\n *\n * @param permission a BrowserPermission instance.\n * @param kind the kind of devices to enumerate.\n */ const getDevices = (permission, kind)=>{\n    return (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_22__.from)((async ()=>{\n        let devices = await navigator.mediaDevices.enumerateDevices();\n        // for privacy reasons, most browsers don't give you device labels\n        // unless you have a corresponding camera or microphone permission\n        const shouldPromptForBrowserPermission = devices.some((device)=>device.kind === kind && device.label === \"\");\n        if (shouldPromptForBrowserPermission && await permission.prompt()) {\n            devices = await navigator.mediaDevices.enumerateDevices();\n        }\n        return devices.filter((device)=>device.kind === kind && device.label !== \"\" && device.deviceId !== \"default\");\n    })());\n};\n/**\n * Tells if the browser supports audio output change on 'audio' elements,\n * see https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/setSinkId.\n */ const checkIfAudioOutputChangeSupported = ()=>{\n    if (typeof document === \"undefined\") return false;\n    const element = document.createElement(\"audio\");\n    return \"setSinkId\" in element;\n};\n/**\n * The default constraints used to request audio devices.\n */ const audioDeviceConstraints = {\n    audio: {\n        autoGainControl: true,\n        noiseSuppression: true,\n        echoCancellation: true\n    }\n};\n/**\n * The default constraints used to request video devices.\n */ const videoDeviceConstraints = {\n    video: {\n        width: 1280,\n        height: 720\n    }\n};\n/**\n * Keeps track of the browser permission to use microphone. This permission also\n * affects an ability to enumerate audio devices.\n */ const getAudioBrowserPermission = lazy(()=>new BrowserPermission({\n        constraints: audioDeviceConstraints,\n        queryName: \"microphone\"\n    }));\n/**\n * Keeps track of the browser permission to use camera. This permission also\n * affects an ability to enumerate video devices.\n */ const getVideoBrowserPermission = lazy(()=>new BrowserPermission({\n        constraints: videoDeviceConstraints,\n        queryName: \"camera\"\n    }));\nconst getDeviceChangeObserver = lazy(()=>{\n    // 'addEventListener' is not available in React Native, returning\n    // an observable that will never fire\n    if (!navigator.mediaDevices.addEventListener) return (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_22__.from)([]);\n    return (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_23__.fromEvent)(navigator.mediaDevices, \"devicechange\").pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_16__.map)(()=>undefined), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_24__.debounceTime)(500));\n});\n/**\n * Prompts the user for a permission to use audio devices (if not already granted\n * and was not prompted before) and lists the available 'audioinput' devices,\n * if devices are added/removed the list is updated, and if the permission is revoked,\n * the observable errors.\n */ const getAudioDevices = lazy(()=>{\n    return (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_25__.merge)(getDeviceChangeObserver(), getAudioBrowserPermission().asObservable()).pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_26__.startWith)(undefined), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_27__.concatMap)(()=>getDevices(getAudioBrowserPermission(), \"audioinput\")), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_17__.shareReplay)(1));\n});\n/**\n * Prompts the user for a permission to use video devices (if not already granted\n * and was not prompted before) and lists the available 'videoinput' devices,\n * if devices are added/removed the list is updated, and if the permission is revoked,\n * the observable errors.\n */ const getVideoDevices = lazy(()=>{\n    return (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_25__.merge)(getDeviceChangeObserver(), getVideoBrowserPermission().asObservable()).pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_26__.startWith)(undefined), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_27__.concatMap)(()=>getDevices(getVideoBrowserPermission(), \"videoinput\")), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_17__.shareReplay)(1));\n});\n/**\n * Prompts the user for a permission to use video devices (if not already granted\n * and was not prompted before) and lists the available 'audiooutput' devices,\n * if devices are added/removed the list is updated, and if the permission is revoked,\n * the observable errors.\n */ const getAudioOutputDevices = lazy(()=>{\n    return (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_25__.merge)(getDeviceChangeObserver(), getAudioBrowserPermission().asObservable()).pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_26__.startWith)(undefined), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_27__.concatMap)(()=>getDevices(getAudioBrowserPermission(), \"audiooutput\")), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_17__.shareReplay)(1));\n});\nconst getStream = async (constraints)=>{\n    const stream = await navigator.mediaDevices.getUserMedia(constraints);\n    if (isFirefox()) {\n        // When enumerating devices, Firefox will hide device labels unless there's been\n        // an active user media stream on the page. So we force device list updates after\n        // every successful getUserMedia call.\n        navigator.mediaDevices.dispatchEvent(new Event(\"devicechange\"));\n    }\n    return stream;\n};\nfunction isOverconstrainedError(error) {\n    return error && typeof error === \"object\" && (\"name\" in error && error.name === \"OverconstrainedError\" || \"message\" in error && typeof error.message === \"string\" && error.message.startsWith(\"OverconstrainedError\"));\n}\n/**\n * Returns an audio media stream that fulfills the given constraints.\n * If no constraints are provided, it uses the browser's default ones.\n *\n * @angular It's recommended to use the [`DeviceManagerService`](./DeviceManagerService.md) for a higher level API, use this low-level method only if the `DeviceManagerService` doesn't suit your requirements.\n * @param trackConstraints the constraints to use when requesting the stream.\n * @returns the new `MediaStream` fulfilling the given constraints.\n */ const getAudioStream = async (trackConstraints)=>{\n    const constraints = {\n        audio: {\n            ...audioDeviceConstraints.audio,\n            ...trackConstraints\n        }\n    };\n    try {\n        await getAudioBrowserPermission().prompt({\n            throwOnNotAllowed: true,\n            forcePrompt: true\n        });\n        return await getStream(constraints);\n    } catch (error) {\n        if (isOverconstrainedError(error) && trackConstraints?.deviceId) {\n            const { deviceId, ...relaxedConstraints } = trackConstraints;\n            getLogger([\n                \"devices\"\n            ])(\"warn\", \"Failed to get audio stream, will try again with relaxed constraints\", {\n                error,\n                constraints,\n                relaxedConstraints\n            });\n            return getAudioStream(relaxedConstraints);\n        }\n        getLogger([\n            \"devices\"\n        ])(\"error\", \"Failed to get audio stream\", {\n            error,\n            constraints\n        });\n        throw error;\n    }\n};\n/**\n * Returns a video media stream that fulfills the given constraints.\n * If no constraints are provided, it uses the browser's default ones.\n *\n * @angular It's recommended to use the [`DeviceManagerService`](./DeviceManagerService.md) for a higher level API, use this low-level method only if the `DeviceManagerService` doesn't suit your requirements.\n * @param trackConstraints the constraints to use when requesting the stream.\n * @returns a new `MediaStream` fulfilling the given constraints.\n */ const getVideoStream = async (trackConstraints)=>{\n    const constraints = {\n        video: {\n            ...videoDeviceConstraints.video,\n            ...trackConstraints\n        }\n    };\n    try {\n        await getVideoBrowserPermission().prompt({\n            throwOnNotAllowed: true,\n            forcePrompt: true\n        });\n        return await getStream(constraints);\n    } catch (error) {\n        if (isOverconstrainedError(error) && trackConstraints?.deviceId) {\n            const { deviceId, ...relaxedConstraints } = trackConstraints;\n            getLogger([\n                \"devices\"\n            ])(\"warn\", \"Failed to get video stream, will try again with relaxed constraints\", {\n                error,\n                constraints,\n                relaxedConstraints\n            });\n            return getVideoStream(relaxedConstraints);\n        }\n        getLogger([\n            \"devices\"\n        ])(\"error\", \"Failed to get video stream\", {\n            error,\n            constraints\n        });\n        throw error;\n    }\n};\n/**\n * Prompts the user for a permission to share a screen.\n * If the user grants the permission, a screen sharing stream is returned. Throws otherwise.\n *\n * The callers of this API are responsible to handle the possible errors.\n *\n * @angular It's recommended to use the [`DeviceManagerService`](./DeviceManagerService.md) for a higher level API, use this low-level method only if the `DeviceManagerService` doesn't suit your requirements.\n *\n * @param options any additional options to pass to the [`getDisplayMedia`](https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/getDisplayMedia) API.\n */ const getScreenShareStream = async (options)=>{\n    try {\n        return await navigator.mediaDevices.getDisplayMedia({\n            video: true,\n            audio: {\n                channelCount: {\n                    ideal: 2\n                },\n                echoCancellation: false,\n                autoGainControl: false,\n                noiseSuppression: false\n            },\n            // @ts-expect-error - not present in types yet\n            systemAudio: \"include\",\n            ...options\n        });\n    } catch (e) {\n        getLogger([\n            \"devices\"\n        ])(\"error\", \"Failed to get screen share stream\", e);\n        throw e;\n    }\n};\nconst deviceIds$ = typeof navigator !== \"undefined\" && typeof navigator.mediaDevices !== \"undefined\" ? getDeviceChangeObserver().pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_26__.startWith)(undefined), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_27__.concatMap)(()=>navigator.mediaDevices.enumerateDevices()), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_17__.shareReplay)(1)) : undefined;\n/**\n * Deactivates MediaStream (stops and removes tracks) to be later garbage collected\n *\n * @param stream MediaStream\n * @returns void\n */ const disposeOfMediaStream = (stream)=>{\n    if (!stream.active) return;\n    stream.getTracks().forEach((track)=>{\n        track.stop();\n    });\n    // @ts-expect-error release() is present in react-native-webrtc and must be called to dispose the stream\n    if (typeof stream.release === \"function\") {\n        // @ts-expect-error\n        stream.release();\n    }\n};\nclass InputMediaDeviceManager {\n    constructor(call, state, trackType){\n        this.call = call;\n        this.state = state;\n        this.trackType = trackType;\n        /**\n         * if true, stops the media stream when call is left\n         */ this.stopOnLeave = true;\n        this.subscriptions = [];\n        this.isTrackStoppedDueToTrackEnd = false;\n        this.filters = [];\n        this.statusChangeConcurrencyTag = Symbol(\"statusChangeConcurrencyTag\");\n        this.filterRegistrationConcurrencyTag = Symbol(\"filterRegistrationConcurrencyTag\");\n        /**\n         * Disposes the manager.\n         *\n         * @internal\n         */ this.dispose = ()=>{\n            this.subscriptions.forEach((s)=>s());\n        };\n        this.logger = getLogger([\n            `${TrackType[trackType].toLowerCase()} manager`\n        ]);\n        if (deviceIds$ && !isReactNative() && (this.trackType === TrackType.AUDIO || this.trackType === TrackType.VIDEO)) {\n            this.handleDisconnectedOrReplacedDevices();\n        }\n    }\n    /**\n     * Lists the available audio/video devices\n     *\n     * Note: It prompts the user for a permission to use devices (if not already granted)\n     *\n     * @returns an Observable that will be updated if a device is connected or disconnected\n     */ listDevices() {\n        return this.getDevices();\n    }\n    /**\n     * Returns `true` when this device is in enabled state.\n     */ get enabled() {\n        return this.state.status === \"enabled\";\n    }\n    /**\n     * Starts stream.\n     */ async enable() {\n        this.state.prevStatus = this.state.optimisticStatus;\n        if (this.state.optimisticStatus === \"enabled\") {\n            return;\n        }\n        this.state.setPendingStatus(\"enabled\");\n        await withCancellation(this.statusChangeConcurrencyTag, async (signal)=>{\n            try {\n                await this.unmuteStream();\n                this.state.setStatus(\"enabled\");\n            } finally{\n                if (!signal.aborted) {\n                    this.state.setPendingStatus(this.state.status);\n                }\n            }\n        });\n    }\n    /**\n     * Stops or pauses the stream based on state.disableMode\n     * @param {boolean} [forceStop=false] when true, stops the tracks regardless of the state.disableMode\n     */ async disable(forceStop = false) {\n        this.state.prevStatus = this.state.optimisticStatus;\n        if (!forceStop && this.state.optimisticStatus === \"disabled\") {\n            return;\n        }\n        this.state.setPendingStatus(\"disabled\");\n        await withCancellation(this.statusChangeConcurrencyTag, async (signal)=>{\n            try {\n                const stopTracks = forceStop || this.state.disableMode === \"stop-tracks\";\n                await this.muteStream(stopTracks);\n                this.state.setStatus(\"disabled\");\n            } finally{\n                if (!signal.aborted) {\n                    this.state.setPendingStatus(this.state.status);\n                }\n            }\n        });\n    }\n    /**\n     * Returns a promise that resolves when all pe\n     */ async statusChangeSettled() {\n        await settled(this.statusChangeConcurrencyTag);\n    }\n    /**\n     * If status was previously enabled, it will re-enable the device.\n     */ async resume() {\n        if (this.state.prevStatus === \"enabled\" && this.state.status !== \"enabled\") {\n            await this.enable();\n        }\n    }\n    /**\n     * If the current device status is disabled, it will enable the device,\n     * else it will disable it.\n     */ async toggle() {\n        if (this.state.optimisticStatus === \"enabled\") {\n            return await this.disable();\n        } else {\n            return await this.enable();\n        }\n    }\n    /**\n     * Registers a filter that will be applied to the stream.\n     *\n     * The registered filter will get the existing stream, and it should return\n     * a new stream with the applied filter.\n     *\n     * @param filter the filter to register.\n     * @returns MediaStreamFilterRegistrationResult\n     */ registerFilter(filter) {\n        const entry = {\n            start: filter,\n            stop: undefined\n        };\n        const registered = withoutConcurrency(this.filterRegistrationConcurrencyTag, async ()=>{\n            this.filters.push(entry);\n            await this.applySettingsToStream();\n        });\n        return {\n            registered,\n            unregister: ()=>withoutConcurrency(this.filterRegistrationConcurrencyTag, async ()=>{\n                    entry.stop?.();\n                    this.filters = this.filters.filter((f)=>f !== entry);\n                    await this.applySettingsToStream();\n                })\n        };\n    }\n    /**\n     * Will set the default constraints for the device.\n     *\n     * @param constraints the constraints to set.\n     */ setDefaultConstraints(constraints) {\n        this.state.setDefaultConstraints(constraints);\n    }\n    /**\n     * Selects a device.\n     *\n     * Note: This method is not supported in React Native\n     * @param deviceId the device id to select.\n     */ async select(deviceId) {\n        if (isReactNative()) {\n            throw new Error(\"This method is not supported in React Native. Please visit https://getstream.io/video/docs/reactnative/core/camera-and-microphone/#speaker-management for reference.\");\n        }\n        const prevDeviceId = this.state.selectedDevice;\n        if (deviceId === prevDeviceId) {\n            return;\n        }\n        try {\n            this.state.setDevice(deviceId);\n            await this.applySettingsToStream();\n        } catch (error) {\n            this.state.setDevice(prevDeviceId);\n            throw error;\n        }\n    }\n    async applySettingsToStream() {\n        await withCancellation(this.statusChangeConcurrencyTag, async ()=>{\n            if (this.enabled) {\n                await this.muteStream();\n                await this.unmuteStream();\n            }\n        });\n    }\n    getTracks() {\n        return this.state.mediaStream?.getTracks() ?? [];\n    }\n    async muteStream(stopTracks = true) {\n        if (!this.state.mediaStream) return;\n        this.logger(\"debug\", `${stopTracks ? \"Stopping\" : \"Disabling\"} stream`);\n        if (this.call.state.callingState === CallingState.JOINED) {\n            await this.stopPublishStream(stopTracks);\n        }\n        this.muteLocalStream(stopTracks);\n        const allEnded = this.getTracks().every((t)=>t.readyState === \"ended\");\n        if (allEnded) {\n            if (this.state.mediaStream && // @ts-expect-error release() is present in react-native-webrtc\n            typeof this.state.mediaStream.release === \"function\") {\n                // @ts-expect-error called to dispose the stream in RN\n                this.state.mediaStream.release();\n            }\n            this.state.setMediaStream(undefined, undefined);\n            this.filters.forEach((entry)=>entry.stop?.());\n        }\n    }\n    muteTracks() {\n        this.getTracks().forEach((track)=>{\n            if (track.enabled) track.enabled = false;\n        });\n    }\n    unmuteTracks() {\n        this.getTracks().forEach((track)=>{\n            if (!track.enabled) track.enabled = true;\n        });\n    }\n    stopTracks() {\n        this.getTracks().forEach((track)=>{\n            if (track.readyState === \"live\") track.stop();\n        });\n    }\n    muteLocalStream(stopTracks) {\n        if (!this.state.mediaStream) {\n            return;\n        }\n        if (stopTracks) {\n            this.stopTracks();\n        } else {\n            this.muteTracks();\n        }\n    }\n    async unmuteStream() {\n        this.logger(\"debug\", \"Starting stream\");\n        let stream;\n        let rootStream;\n        if (this.state.mediaStream && this.getTracks().every((t)=>t.readyState === \"live\")) {\n            stream = this.state.mediaStream;\n            this.unmuteTracks();\n        } else {\n            const defaultConstraints = this.state.defaultConstraints;\n            const constraints = {\n                ...defaultConstraints,\n                deviceId: this.state.selectedDevice ? {\n                    exact: this.state.selectedDevice\n                } : undefined\n            };\n            /**\n             * Chains two media streams together.\n             *\n             * In our case, filters MediaStreams are derived from their parent MediaStream.\n             * However, once a child filter's track is stopped,\n             * the tracks of the parent MediaStream aren't automatically stopped.\n             * This leads to a situation where the camera indicator light is still on\n             * even though the user stopped publishing video.\n             *\n             * This function works around this issue by stopping the parent MediaStream's tracks\n             * as well once the child filter's tracks are stopped.\n             *\n             * It works by patching the stop() method of the child filter's tracks to also stop\n             * the parent MediaStream's tracks of the same type. Here we assume that\n             * the parent MediaStream has only one track of each type.\n             *\n             * @param parentStream the parent MediaStream. Omit for the root stream.\n             */ const chainWith = (parentStream)=>async (filterStream)=>{\n                    if (!parentStream) return filterStream;\n                    // TODO OL: take care of track.enabled property as well\n                    const parent = await parentStream;\n                    filterStream.getTracks().forEach((track)=>{\n                        const originalStop = track.stop;\n                        track.stop = function stop() {\n                            originalStop.call(track);\n                            parent.getTracks().forEach((parentTrack)=>{\n                                if (parentTrack.kind === track.kind) {\n                                    parentTrack.stop();\n                                }\n                            });\n                        };\n                    });\n                    parent.getTracks().forEach((parentTrack)=>{\n                        // When the parent stream abruptly ends, we propagate the event\n                        // to the filter stream.\n                        // This usually happens when the camera/microphone permissions\n                        // are revoked or when the device is disconnected.\n                        const handleParentTrackEnded = ()=>{\n                            filterStream.getTracks().forEach((track)=>{\n                                if (parentTrack.kind !== track.kind) return;\n                                track.stop();\n                                track.dispatchEvent(new Event(\"ended\")); // propagate the event\n                            });\n                        };\n                        parentTrack.addEventListener(\"ended\", handleParentTrackEnded);\n                        this.subscriptions.push(()=>{\n                            parentTrack.removeEventListener(\"ended\", handleParentTrackEnded);\n                        });\n                    });\n                    return filterStream;\n                };\n            // the rootStream represents the stream coming from the actual device\n            // e.g. camera or microphone stream\n            rootStream = this.getStream(constraints);\n            // we publish the last MediaStream of the chain\n            stream = await this.filters.reduce((parent, entry)=>parent.then((inputStream)=>{\n                    const { stop, output } = entry.start(inputStream);\n                    entry.stop = stop;\n                    return output;\n                }).then(chainWith(parent), (error)=>{\n                    this.logger(\"warn\", \"Filter failed to start and will be ignored\", error);\n                    return parent;\n                }), rootStream);\n        }\n        if (this.call.state.callingState === CallingState.JOINED) {\n            await this.publishStream(stream);\n        }\n        if (this.state.mediaStream !== stream) {\n            this.state.setMediaStream(stream, await rootStream);\n            const handleTrackEnded = async ()=>{\n                await this.statusChangeSettled();\n                if (this.enabled) {\n                    this.isTrackStoppedDueToTrackEnd = true;\n                    setTimeout(()=>{\n                        this.isTrackStoppedDueToTrackEnd = false;\n                    }, 2000);\n                    await this.disable();\n                }\n            };\n            this.getTracks().forEach((track)=>{\n                track.addEventListener(\"ended\", handleTrackEnded);\n                this.subscriptions.push(()=>track.removeEventListener(\"ended\", handleTrackEnded));\n            });\n        }\n    }\n    get mediaDeviceKind() {\n        if (this.trackType === TrackType.AUDIO) {\n            return \"audioinput\";\n        }\n        if (this.trackType === TrackType.VIDEO) {\n            return \"videoinput\";\n        }\n        return \"\";\n    }\n    handleDisconnectedOrReplacedDevices() {\n        this.subscriptions.push(createSubscription((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_14__.combineLatest)([\n            deviceIds$.pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_28__.pairwise)()),\n            this.state.selectedDevice$\n        ]), async ([[prevDevices, currentDevices], deviceId])=>{\n            try {\n                if (!deviceId) return;\n                await this.statusChangeSettled();\n                let isDeviceDisconnected = false;\n                let isDeviceReplaced = false;\n                const currentDevice = this.findDeviceInList(currentDevices, deviceId);\n                const prevDevice = this.findDeviceInList(prevDevices, deviceId);\n                if (!currentDevice && prevDevice) {\n                    isDeviceDisconnected = true;\n                } else if (currentDevice && prevDevice && currentDevice.deviceId === prevDevice.deviceId && currentDevice.groupId !== prevDevice.groupId) {\n                    isDeviceReplaced = true;\n                }\n                if (isDeviceDisconnected) {\n                    await this.disable();\n                    await this.select(undefined);\n                }\n                if (isDeviceReplaced) {\n                    if (this.isTrackStoppedDueToTrackEnd && this.state.status === \"disabled\") {\n                        await this.enable();\n                        this.isTrackStoppedDueToTrackEnd = false;\n                    } else {\n                        await this.applySettingsToStream();\n                    }\n                }\n            } catch (err) {\n                this.logger(\"warn\", \"Unexpected error while handling disconnected or replaced device\", err);\n            }\n        }));\n    }\n    findDeviceInList(devices, deviceId) {\n        return devices.find((d)=>d.deviceId === deviceId && d.kind === this.mediaDeviceKind);\n    }\n}\nclass InputMediaDeviceManagerState {\n    /**\n     * Constructs new InputMediaDeviceManagerState instance.\n     *\n     * @param disableMode the disable mode to use.\n     * @param permission the BrowserPermission to use for querying.\n     * `undefined` means no permission is required.\n     */ constructor(disableMode = \"stop-tracks\", permission){\n        this.disableMode = disableMode;\n        this.statusSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(undefined);\n        this.optimisticStatusSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(undefined);\n        this.mediaStreamSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(undefined);\n        this.selectedDeviceSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(undefined);\n        this.defaultConstraintsSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(undefined);\n        /**\n         * An Observable that emits the current media stream, or `undefined` if the device is currently disabled.\n         *\n         */ this.mediaStream$ = this.mediaStreamSubject.asObservable();\n        /**\n         * An Observable that emits the currently selected device\n         */ this.selectedDevice$ = this.selectedDeviceSubject.asObservable().pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_18__.distinctUntilChanged)());\n        /**\n         * An Observable that emits the device status\n         */ this.status$ = this.statusSubject.asObservable().pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_18__.distinctUntilChanged)());\n        /**\n         * An Observable the reflects the requested device status. Useful for optimistic UIs\n         */ this.optimisticStatus$ = this.optimisticStatusSubject.asObservable().pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_18__.distinctUntilChanged)());\n        /**\n         * The default constraints for the device.\n         */ this.defaultConstraints$ = this.defaultConstraintsSubject.asObservable();\n        /**\n         * Gets the current value of an observable, or undefined if the observable has\n         * not emitted a value yet.\n         *\n         * @param observable$ the observable to get the value from.\n         */ this.getCurrentValue = getCurrentValue;\n        /**\n         * Updates the value of the provided Subject.\n         * An `update` can either be a new value or a function which takes\n         * the current value and returns a new value.\n         *\n         * @internal\n         *\n         * @param subject the subject to update.\n         * @param update the update to apply to the subject.\n         * @return the updated value.\n         */ this.setCurrentValue = setCurrentValue;\n        this.hasBrowserPermission$ = permission ? permission.asObservable().pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_17__.shareReplay)(1)) : (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_29__.of)(true);\n    }\n    /**\n     * The device status\n     */ get status() {\n        return this.getCurrentValue(this.status$);\n    }\n    /**\n     * The requested device status. Useful for optimistic UIs\n     */ get optimisticStatus() {\n        return this.getCurrentValue(this.optimisticStatus$);\n    }\n    /**\n     * The currently selected device\n     */ get selectedDevice() {\n        return this.getCurrentValue(this.selectedDevice$);\n    }\n    /**\n     * The current media stream, or `undefined` if the device is currently disabled.\n     */ get mediaStream() {\n        return this.getCurrentValue(this.mediaStream$);\n    }\n    /**\n     * @internal\n     * @param status\n     */ setStatus(status) {\n        this.setCurrentValue(this.statusSubject, status);\n    }\n    /**\n     * @internal\n     * @param pendingStatus\n     */ setPendingStatus(pendingStatus) {\n        this.setCurrentValue(this.optimisticStatusSubject, pendingStatus);\n    }\n    /**\n     * Updates the `mediaStream` state variable.\n     *\n     * @internal\n     * @param stream the stream to set.\n     * @param rootStream the root stream, applicable when filters are used\n     * as this is the stream that holds the actual deviceId information.\n     */ setMediaStream(stream, rootStream) {\n        this.setCurrentValue(this.mediaStreamSubject, stream);\n        if (rootStream) {\n            this.setDevice(this.getDeviceIdFromStream(rootStream));\n        }\n    }\n    /**\n     * @internal\n     * @param deviceId the device id to set.\n     */ setDevice(deviceId) {\n        this.setCurrentValue(this.selectedDeviceSubject, deviceId);\n    }\n    /**\n     * Gets the default constraints for the device.\n     */ get defaultConstraints() {\n        return this.getCurrentValue(this.defaultConstraints$);\n    }\n    /**\n     * Sets the default constraints for the device.\n     *\n     * @internal\n     * @param constraints the constraints to set.\n     */ setDefaultConstraints(constraints) {\n        this.setCurrentValue(this.defaultConstraintsSubject, constraints);\n    }\n}\nclass CameraManagerState extends InputMediaDeviceManagerState {\n    constructor(){\n        super(\"stop-tracks\", getVideoBrowserPermission());\n        this.directionSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(undefined);\n        this.direction$ = this.directionSubject.asObservable().pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_18__.distinctUntilChanged)());\n    }\n    /**\n     * The preferred camera direction\n     * front - means the camera facing the user\n     * back - means the camera facing the environment\n     */ get direction() {\n        return this.getCurrentValue(this.direction$);\n    }\n    /**\n     * @internal\n     */ setDirection(direction) {\n        this.setCurrentValue(this.directionSubject, direction);\n    }\n    /**\n     * @internal\n     */ setMediaStream(stream, rootStream) {\n        super.setMediaStream(stream, rootStream);\n        if (stream) {\n            // RN getSettings() doesn't return facingMode, so we don't verify camera direction\n            const direction = isReactNative() ? this.direction : stream.getVideoTracks()[0]?.getSettings().facingMode === \"environment\" ? \"back\" : \"front\";\n            this.setDirection(direction);\n        }\n    }\n    getDeviceIdFromStream(stream) {\n        const [track] = stream.getVideoTracks();\n        return track?.getSettings().deviceId;\n    }\n}\n/**\n * Checks if the current platform is a mobile device.\n *\n * See:\n * https://developer.mozilla.org/en-US/docs/Web/HTTP/Browser_detection_using_the_user_agent\n */ const isMobile = ()=>/Mobi/i.test(navigator.userAgent);\nclass CameraManager extends InputMediaDeviceManager {\n    /**\n     * Constructs a new CameraManager.\n     *\n     * @param call the call instance.\n     */ constructor(call){\n        super(call, new CameraManagerState(), TrackType.VIDEO);\n        this.targetResolution = {\n            width: 1280,\n            height: 720\n        };\n    }\n    isDirectionSupportedByDevice() {\n        return isReactNative() || isMobile();\n    }\n    /**\n     * Select the camera direction.\n     *\n     * @param direction the direction of the camera to select.\n     */ async selectDirection(direction) {\n        if (this.isDirectionSupportedByDevice()) {\n            this.state.setDirection(direction);\n            // Providing both device id and direction doesn't work, so we deselect the device\n            this.state.setDevice(undefined);\n            await this.applySettingsToStream();\n        } else {\n            this.logger(\"warn\", \"Camera direction ignored for desktop devices\");\n        }\n    }\n    /**\n     * Flips the camera direction: if it's front it will change to back, if it's back, it will change to front.\n     *\n     * Note: if there is no available camera with the desired direction, this method will do nothing.\n     * @returns\n     */ async flip() {\n        const newDirection = this.state.direction === \"front\" ? \"back\" : \"front\";\n        await this.selectDirection(newDirection);\n    }\n    /**\n     * @internal\n     */ async selectTargetResolution(resolution) {\n        this.targetResolution.height = resolution.height;\n        this.targetResolution.width = resolution.width;\n        if (this.state.optimisticStatus === \"enabled\") {\n            try {\n                await this.statusChangeSettled();\n            } catch (error) {\n                // couldn't enable device, target resolution will be applied the next time user attempts to start the device\n                this.logger(\"warn\", \"could not apply target resolution\", error);\n            }\n        }\n        if (this.enabled && this.state.mediaStream) {\n            const [videoTrack] = this.state.mediaStream.getVideoTracks();\n            if (!videoTrack) return;\n            const { width, height } = videoTrack.getSettings();\n            if (width !== this.targetResolution.width || height !== this.targetResolution.height) {\n                await this.applySettingsToStream();\n                this.logger(\"debug\", `${width}x${height} target resolution applied to media stream`);\n            }\n        }\n    }\n    /**\n     * Sets the preferred codec for encoding the video.\n     *\n     * @internal internal use only, not part of the public API.\n     * @deprecated use {@link call.updatePublishOptions} instead.\n     * @param codec the codec to use for encoding the video.\n     */ setPreferredCodec(codec) {\n        this.call.updatePublishOptions({\n            preferredCodec: codec\n        });\n    }\n    getDevices() {\n        return getVideoDevices();\n    }\n    getStream(constraints) {\n        constraints.width = this.targetResolution.width;\n        constraints.height = this.targetResolution.height;\n        // We can't set both device id and facing mode\n        // Device id has higher priority\n        if (!constraints.deviceId && this.state.direction && this.isDirectionSupportedByDevice()) {\n            constraints.facingMode = this.state.direction === \"front\" ? \"user\" : \"environment\";\n        }\n        return getVideoStream(constraints);\n    }\n    publishStream(stream) {\n        return this.call.publishVideoStream(stream);\n    }\n    stopPublishStream(stopTracks) {\n        return this.call.stopPublish(TrackType.VIDEO, stopTracks);\n    }\n}\nclass MicrophoneManagerState extends InputMediaDeviceManagerState {\n    constructor(disableMode){\n        super(disableMode, getAudioBrowserPermission());\n        this.speakingWhileMutedSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(false);\n        this.speakingWhileMuted$ = this.speakingWhileMutedSubject.asObservable().pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_18__.distinctUntilChanged)());\n    }\n    /**\n     * `true` if the user's microphone is muted but they'are speaking.\n     *\n     * This feature is not available in the React Native SDK.\n     */ get speakingWhileMuted() {\n        return this.getCurrentValue(this.speakingWhileMuted$);\n    }\n    /**\n     * @internal\n     */ setSpeakingWhileMuted(isSpeaking) {\n        this.setCurrentValue(this.speakingWhileMutedSubject, isSpeaking);\n    }\n    getDeviceIdFromStream(stream) {\n        const [track] = stream.getAudioTracks();\n        return track?.getSettings().deviceId;\n    }\n}\nconst DETECTION_FREQUENCY_IN_MS = 500;\nconst AUDIO_LEVEL_THRESHOLD$1 = 150;\nconst FFT_SIZE = 128;\n/**\n * Creates a new sound detector.\n *\n * @param audioStream the audio stream to observe. Depending on the provided configuration, this stream might be destroyed when the sound detector is stopped.\n * @param onSoundDetectedStateChanged a callback which is called when the sound state changes.\n * @param options custom options for the sound detector.\n * @returns a clean-up function which once invoked stops the sound detector.\n */ const createSoundDetector = (audioStream, onSoundDetectedStateChanged, options = {})=>{\n    const { detectionFrequencyInMs = DETECTION_FREQUENCY_IN_MS, audioLevelThreshold = AUDIO_LEVEL_THRESHOLD$1, fftSize = FFT_SIZE, destroyStreamOnStop = true } = options;\n    const audioContext = new AudioContext();\n    const analyser = audioContext.createAnalyser();\n    analyser.fftSize = fftSize;\n    const microphone = audioContext.createMediaStreamSource(audioStream);\n    microphone.connect(analyser);\n    const intervalId = setInterval(()=>{\n        const data = new Uint8Array(analyser.frequencyBinCount);\n        analyser.getByteFrequencyData(data);\n        const isSoundDetected = data.some((value)=>value >= audioLevelThreshold);\n        const averagedDataValue = data.reduce((pv, cv)=>pv + cv, 0) / data.length;\n        const percentage = averagedDataValue > audioLevelThreshold ? 100 : Math.round(averagedDataValue / audioLevelThreshold * 100);\n        // When the track is disabled, it takes time for the buffer to empty\n        // This check will ensure that we don't send anything if the track is disabled\n        if (audioStream.getAudioTracks()[0]?.enabled) {\n            onSoundDetectedStateChanged({\n                isSoundDetected,\n                audioLevel: percentage\n            });\n        } else {\n            onSoundDetectedStateChanged({\n                isSoundDetected: false,\n                audioLevel: 0\n            });\n        }\n    }, detectionFrequencyInMs);\n    return async function stop() {\n        clearInterval(intervalId);\n        // clean-up the AudioContext elements\n        microphone.disconnect();\n        analyser.disconnect();\n        if (audioContext.state !== \"closed\") {\n            await audioContext.close();\n        }\n        // stop the stream\n        if (destroyStreamOnStop) {\n            audioStream.getTracks().forEach((track)=>{\n                track.stop();\n                audioStream.removeTrack(track);\n            });\n        }\n    };\n};\nconst AUDIO_LEVEL_THRESHOLD = 0.2;\nclass RNSpeechDetector {\n    constructor(){\n        this.pc1 = new RTCPeerConnection({});\n        this.pc2 = new RTCPeerConnection({});\n    }\n    /**\n     * Starts the speech detection.\n     */ async start() {\n        try {\n            this.cleanupAudioStream();\n            const audioStream = await navigator.mediaDevices.getUserMedia({\n                audio: true\n            });\n            this.audioStream = audioStream;\n            this.pc1.addEventListener(\"icecandidate\", async (e)=>{\n                await this.pc2.addIceCandidate(e.candidate);\n            });\n            this.pc2.addEventListener(\"icecandidate\", async (e)=>{\n                await this.pc1.addIceCandidate(e.candidate);\n            });\n            audioStream.getTracks().forEach((track)=>this.pc1.addTrack(track, audioStream));\n            const offer = await this.pc1.createOffer({});\n            await this.pc2.setRemoteDescription(offer);\n            await this.pc1.setLocalDescription(offer);\n            const answer = await this.pc2.createAnswer();\n            await this.pc1.setRemoteDescription(answer);\n            await this.pc2.setLocalDescription(answer);\n            const audioTracks = audioStream.getAudioTracks();\n            // We need to mute the audio track for this temporary stream, or else you will hear yourself twice while in the call.\n            audioTracks.forEach((track)=>track.enabled = false);\n        } catch (error) {\n            console.error(\"Error connecting and negotiating between PeerConnections:\", error);\n        }\n    }\n    /**\n     * Stops the speech detection and releases all allocated resources.\n     */ stop() {\n        this.pc1.close();\n        this.pc2.close();\n        this.cleanupAudioStream();\n        if (this.intervalId) {\n            clearInterval(this.intervalId);\n        }\n    }\n    /**\n     * Public method that detects the audio levels and returns the status.\n     */ onSpeakingDetectedStateChange(onSoundDetectedStateChanged) {\n        this.intervalId = setInterval(async ()=>{\n            const stats = await this.pc1.getStats();\n            const report = flatten(stats);\n            // Audio levels are present inside stats of type `media-source` and of kind `audio`\n            const audioMediaSourceStats = report.find((stat)=>stat.type === \"media-source\" && stat.kind === \"audio\");\n            if (audioMediaSourceStats) {\n                const { audioLevel } = audioMediaSourceStats;\n                if (audioLevel) {\n                    if (audioLevel >= AUDIO_LEVEL_THRESHOLD) {\n                        onSoundDetectedStateChanged({\n                            isSoundDetected: true,\n                            audioLevel\n                        });\n                    } else {\n                        onSoundDetectedStateChanged({\n                            isSoundDetected: false,\n                            audioLevel: 0\n                        });\n                    }\n                }\n            }\n        }, 1000);\n        return ()=>{\n            clearInterval(this.intervalId);\n        };\n    }\n    cleanupAudioStream() {\n        if (!this.audioStream) {\n            return;\n        }\n        this.audioStream.getTracks().forEach((track)=>track.stop());\n        if (// @ts-expect-error release() is present in react-native-webrtc\n        typeof this.audioStream.release === \"function\") {\n            // @ts-expect-error called to dispose the stream in RN\n            this.audioStream.release();\n        }\n    }\n}\nclass MicrophoneManager extends InputMediaDeviceManager {\n    constructor(call, disableMode = isReactNative() ? \"disable-tracks\" : \"stop-tracks\"){\n        super(call, new MicrophoneManagerState(disableMode), TrackType.AUDIO);\n        this.speakingWhileMutedNotificationEnabled = true;\n        this.soundDetectorConcurrencyTag = Symbol(\"soundDetectorConcurrencyTag\");\n        this.subscriptions.push(createSubscription((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_14__.combineLatest)([\n            this.call.state.callingState$,\n            this.call.state.ownCapabilities$,\n            this.state.selectedDevice$,\n            this.state.status$\n        ]), async ([callingState, ownCapabilities, deviceId, status])=>{\n            try {\n                if (callingState === CallingState.LEFT) {\n                    await this.stopSpeakingWhileMutedDetection();\n                }\n                if (callingState !== CallingState.JOINED) return;\n                if (!this.speakingWhileMutedNotificationEnabled) return;\n                if (ownCapabilities.includes(OwnCapability.SEND_AUDIO)) {\n                    if (status === \"disabled\") {\n                        await this.startSpeakingWhileMutedDetection(deviceId);\n                    } else {\n                        await this.stopSpeakingWhileMutedDetection();\n                    }\n                } else {\n                    await this.stopSpeakingWhileMutedDetection();\n                }\n            } catch (err) {\n                this.logger(\"warn\", \"Could not enable speaking while muted\", err);\n            }\n        }));\n        this.subscriptions.push(createSubscription(this.call.state.callingState$, (callingState)=>{\n            // do nothing when noise filtering isn't turned on\n            if (!this.noiseCancellationRegistration || !this.noiseCancellation) return;\n            const autoOn = this.call.state.settings?.audio.noise_cancellation?.mode === NoiseCancellationSettingsModeEnum.AUTO_ON;\n            if (autoOn && callingState === CallingState.JOINED) {\n                this.noiseCancellationRegistration.then(()=>this.noiseCancellation?.enable()).catch((err)=>{\n                    this.logger(\"warn\", `Failed to enable noise cancellation`, err);\n                    return this.call.notifyNoiseCancellationStopped();\n                });\n            } else if (callingState === CallingState.LEFT) {\n                this.noiseCancellationRegistration.then(()=>this.noiseCancellation?.disable()).catch((err)=>{\n                    this.logger(\"warn\", `Failed to disable noise cancellation`, err);\n                });\n            }\n        }));\n    }\n    /**\n     * Enables noise cancellation for the microphone.\n     *\n     * Note: not supported in React Native.\n     * @param noiseCancellation - a noise cancellation instance to use.\n     */ async enableNoiseCancellation(noiseCancellation) {\n        if (isReactNative()) {\n            throw new Error(\"Noise cancellation is not supported in React Native\");\n        }\n        const { ownCapabilities, settings } = this.call.state;\n        const hasNoiseCancellationCapability = ownCapabilities.includes(OwnCapability.ENABLE_NOISE_CANCELLATION);\n        if (!hasNoiseCancellationCapability) {\n            throw new Error(\"Noise cancellation is not available.\");\n        }\n        const noiseCancellationSettings = settings?.audio.noise_cancellation;\n        if (!noiseCancellationSettings || noiseCancellationSettings.mode === NoiseCancellationSettingsModeEnum.DISABLED) {\n            throw new Error(\"Noise cancellation is disabled for this call type.\");\n        }\n        try {\n            this.noiseCancellation = noiseCancellation;\n            // listen for change events and notify the SFU\n            this.noiseCancellationChangeUnsubscribe = this.noiseCancellation.on(\"change\", (enabled)=>{\n                if (enabled) {\n                    this.call.notifyNoiseCancellationStarting().catch((err)=>{\n                        this.logger(\"warn\", `notifyNoiseCancellationStart failed`, err);\n                    });\n                } else {\n                    this.call.notifyNoiseCancellationStopped().catch((err)=>{\n                        this.logger(\"warn\", `notifyNoiseCancellationStop failed`, err);\n                    });\n                }\n            });\n            const registrationResult = this.registerFilter(noiseCancellation.toFilter());\n            this.noiseCancellationRegistration = registrationResult.registered;\n            this.unregisterNoiseCancellation = registrationResult.unregister;\n            await this.noiseCancellationRegistration;\n            // handles an edge case where a noise cancellation is enabled after\n            // the participant as joined the call -> we immediately enable NC\n            if (noiseCancellationSettings.mode === NoiseCancellationSettingsModeEnum.AUTO_ON && this.call.state.callingState === CallingState.JOINED) {\n                noiseCancellation.enable();\n            }\n        } catch (e) {\n            this.logger(\"warn\", \"Failed to enable noise cancellation\", e);\n            await this.disableNoiseCancellation().catch((err)=>{\n                this.logger(\"warn\", \"Failed to disable noise cancellation\", err);\n            });\n        }\n    }\n    /**\n     * Disables noise cancellation for the microphone.\n     *\n     * Note: not supported in React Native.\n     */ async disableNoiseCancellation() {\n        if (isReactNative()) {\n            throw new Error(\"Noise cancellation is not supported in React Native\");\n        }\n        await (this.unregisterNoiseCancellation?.() ?? Promise.resolve()).then(()=>this.noiseCancellation?.disable()).then(()=>this.noiseCancellationChangeUnsubscribe?.()).catch((err)=>{\n            this.logger(\"warn\", \"Failed to unregister noise cancellation\", err);\n        });\n        await this.call.notifyNoiseCancellationStopped();\n    }\n    /**\n     * Enables speaking while muted notification.\n     */ async enableSpeakingWhileMutedNotification() {\n        this.speakingWhileMutedNotificationEnabled = true;\n        if (this.state.status === \"disabled\") {\n            await this.startSpeakingWhileMutedDetection(this.state.selectedDevice);\n        }\n    }\n    /**\n     * Disables speaking while muted notification.\n     */ async disableSpeakingWhileMutedNotification() {\n        this.speakingWhileMutedNotificationEnabled = false;\n        await this.stopSpeakingWhileMutedDetection();\n    }\n    getDevices() {\n        return getAudioDevices();\n    }\n    getStream(constraints) {\n        return getAudioStream(constraints);\n    }\n    publishStream(stream) {\n        return this.call.publishAudioStream(stream);\n    }\n    stopPublishStream(stopTracks) {\n        return this.call.stopPublish(TrackType.AUDIO, stopTracks);\n    }\n    async startSpeakingWhileMutedDetection(deviceId) {\n        await withoutConcurrency(this.soundDetectorConcurrencyTag, async ()=>{\n            await this.stopSpeakingWhileMutedDetection();\n            if (isReactNative()) {\n                this.rnSpeechDetector = new RNSpeechDetector();\n                await this.rnSpeechDetector.start();\n                const unsubscribe = this.rnSpeechDetector?.onSpeakingDetectedStateChange((event)=>{\n                    this.state.setSpeakingWhileMuted(event.isSoundDetected);\n                });\n                this.soundDetectorCleanup = ()=>{\n                    unsubscribe();\n                    this.rnSpeechDetector?.stop();\n                    this.rnSpeechDetector = undefined;\n                };\n            } else {\n                // Need to start a new stream that's not connected to publisher\n                const stream = await this.getStream({\n                    deviceId\n                });\n                this.soundDetectorCleanup = createSoundDetector(stream, (event)=>{\n                    this.state.setSpeakingWhileMuted(event.isSoundDetected);\n                });\n            }\n        });\n    }\n    async stopSpeakingWhileMutedDetection() {\n        await withoutConcurrency(this.soundDetectorConcurrencyTag, async ()=>{\n            if (!this.soundDetectorCleanup) return;\n            const soundDetectorCleanup = this.soundDetectorCleanup;\n            this.soundDetectorCleanup = undefined;\n            this.state.setSpeakingWhileMuted(false);\n            await soundDetectorCleanup();\n        });\n    }\n}\nclass ScreenShareState extends InputMediaDeviceManagerState {\n    constructor(){\n        super(...arguments);\n        this.audioEnabledSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(true);\n        this.settingsSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(undefined);\n        /**\n         * An Observable that emits the current screen share audio status.\n         */ this.audioEnabled$ = this.audioEnabledSubject.asObservable().pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_18__.distinctUntilChanged)());\n        /**\n         * An Observable that emits the current screen share settings.\n         */ this.settings$ = this.settingsSubject.asObservable();\n        /**\n         * @internal\n         */ this.getDeviceIdFromStream = (stream)=>{\n            const [track] = stream.getTracks();\n            return track?.getSettings().deviceId;\n        };\n    }\n    /**\n     * The current screen share audio status.\n     */ get audioEnabled() {\n        return this.getCurrentValue(this.audioEnabled$);\n    }\n    /**\n     * Set the current screen share audio status.\n     */ setAudioEnabled(isEnabled) {\n        this.setCurrentValue(this.audioEnabledSubject, isEnabled);\n    }\n    /**\n     * The current screen share settings.\n     */ get settings() {\n        return this.getCurrentValue(this.settings$);\n    }\n    /**\n     * Set the current screen share settings.\n     *\n     * @param settings the screen share settings to set.\n     */ setSettings(settings) {\n        this.setCurrentValue(this.settingsSubject, settings);\n    }\n}\nclass ScreenShareManager extends InputMediaDeviceManager {\n    constructor(call){\n        super(call, new ScreenShareState(), TrackType.SCREEN_SHARE);\n        this.subscriptions.push(createSubscription(call.state.settings$, (settings)=>{\n            const maybeTargetResolution = settings?.screensharing.target_resolution;\n            if (maybeTargetResolution) {\n                this.setDefaultConstraints({\n                    video: {\n                        width: maybeTargetResolution.width,\n                        height: maybeTargetResolution.height\n                    }\n                });\n            }\n        }));\n    }\n    /**\n     * Will enable screen share audio options on supported platforms.\n     *\n     * Note: for ongoing screen share, audio won't be enabled until you\n     * re-publish the screen share stream.\n     */ enableScreenShareAudio() {\n        this.state.setAudioEnabled(true);\n    }\n    /**\n     * Will disable screen share audio options on supported platforms.\n     */ async disableScreenShareAudio() {\n        this.state.setAudioEnabled(false);\n        if (this.call.publisher?.isPublishing(TrackType.SCREEN_SHARE_AUDIO)) {\n            await this.call.stopPublish(TrackType.SCREEN_SHARE_AUDIO, true);\n        }\n    }\n    /**\n     * Returns the current screen share settings.\n     */ getSettings() {\n        return this.state.settings;\n    }\n    /**\n     * Sets the current screen share settings.\n     *\n     * @param settings the settings to set.\n     */ setSettings(settings) {\n        this.state.setSettings(settings);\n    }\n    getDevices() {\n        return (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_29__.of)([]); // there are no devices to be listed for Screen Share\n    }\n    getStream(constraints) {\n        if (!this.state.audioEnabled) {\n            constraints.audio = false;\n        }\n        return getScreenShareStream(constraints);\n    }\n    publishStream(stream) {\n        return this.call.publishScreenShareStream(stream);\n    }\n    async stopPublishStream(stopTracks) {\n        await this.call.stopPublish(TrackType.SCREEN_SHARE, stopTracks);\n        await this.call.stopPublish(TrackType.SCREEN_SHARE_AUDIO, stopTracks);\n    }\n    /**\n     * Overrides the default `select` method to throw an error.\n     *\n     * @param deviceId ignored.\n     */ async select(deviceId) {\n        throw new Error(\"This method is not supported in for Screen Share\");\n    }\n}\nclass SpeakerState {\n    constructor(){\n        this.selectedDeviceSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(\"\");\n        this.volumeSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(1);\n        /**\n         * [Tells if the browser supports audio output change on 'audio' elements](https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/setSinkId).\n         */ this.isDeviceSelectionSupported = checkIfAudioOutputChangeSupported();\n        /**\n         * Gets the current value of an observable, or undefined if the observable has\n         * not emitted a value yet.\n         *\n         * @param observable$ the observable to get the value from.\n         */ this.getCurrentValue = getCurrentValue;\n        /**\n         * Updates the value of the provided Subject.\n         * An `update` can either be a new value or a function which takes\n         * the current value and returns a new value.\n         *\n         * @internal\n         *\n         * @param subject the subject to update.\n         * @param update the update to apply to the subject.\n         * @return the updated value.\n         */ this.setCurrentValue = setCurrentValue;\n        this.selectedDevice$ = this.selectedDeviceSubject.asObservable().pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_18__.distinctUntilChanged)());\n        this.volume$ = this.volumeSubject.asObservable().pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_18__.distinctUntilChanged)());\n    }\n    /**\n     * The currently selected device\n     *\n     * Note: this feature is not supported in React Native\n     */ get selectedDevice() {\n        return this.getCurrentValue(this.selectedDevice$);\n    }\n    /**\n     * The currently selected volume\n     *\n     * Note: this feature is not supported in React Native\n     */ get volume() {\n        return this.getCurrentValue(this.volume$);\n    }\n    /**\n     * @internal\n     * @param deviceId\n     */ setDevice(deviceId) {\n        this.setCurrentValue(this.selectedDeviceSubject, deviceId);\n    }\n    /**\n     * @internal\n     * @param volume\n     */ setVolume(volume) {\n        this.setCurrentValue(this.volumeSubject, volume);\n    }\n}\nclass SpeakerManager {\n    constructor(call){\n        this.state = new SpeakerState();\n        this.subscriptions = [];\n        /**\n         * Disposes the manager.\n         *\n         * @internal\n         */ this.dispose = ()=>{\n            this.subscriptions.forEach((s)=>s.unsubscribe());\n        };\n        this.call = call;\n        if (deviceIds$ && !isReactNative()) {\n            this.subscriptions.push((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_14__.combineLatest)([\n                deviceIds$,\n                this.state.selectedDevice$\n            ]).subscribe(([devices, deviceId])=>{\n                if (!deviceId) {\n                    return;\n                }\n                const device = devices.find((d)=>d.deviceId === deviceId && d.kind === \"audiooutput\");\n                if (!device) {\n                    this.select(\"\");\n                }\n            }));\n        }\n    }\n    /**\n     * Lists the available audio output devices\n     *\n     * Note: It prompts the user for a permission to use devices (if not already granted)\n     * Note: This method is not supported in React Native\n     *\n     * @returns an Observable that will be updated if a device is connected or disconnected\n     */ listDevices() {\n        if (isReactNative()) {\n            throw new Error(\"This feature is not supported in React Native. Please visit https://getstream.io/video/docs/reactnative/core/camera-and-microphone/#speaker-management for more details\");\n        }\n        return getAudioOutputDevices();\n    }\n    /**\n     * Select a device.\n     *\n     * Note: This method is not supported in React Native\n     *\n     * @param deviceId empty string means the system default\n     */ select(deviceId) {\n        if (isReactNative()) {\n            throw new Error(\"This feature is not supported in React Native. Please visit https://getstream.io/video/docs/reactnative/core/camera-and-microphone/#speaker-management for more details\");\n        }\n        this.state.setDevice(deviceId);\n    }\n    /**\n     * Set the volume of the audio elements\n     * @param volume a number between 0 and 1.\n     *\n     * Note: This method is not supported in React Native\n     */ setVolume(volume) {\n        if (isReactNative()) {\n            throw new Error(\"This feature is not supported in React Native. Please visit https://getstream.io/video/docs/reactnative/core/camera-and-microphone/#speaker-management for more details\");\n        }\n        if (volume && (volume < 0 || volume > 1)) {\n            throw new Error(\"Volume must be between 0 and 1\");\n        }\n        this.state.setVolume(volume);\n    }\n    /**\n     * Set the volume of a participant.\n     *\n     * Note: This method is not supported in React Native.\n     *\n     * @param sessionId the participant's session id.\n     * @param volume a number between 0 and 1. Set it to `undefined` to use the default volume.\n     */ setParticipantVolume(sessionId, volume) {\n        if (isReactNative()) {\n            throw new Error(\"This feature is not supported in React Native. Please visit https://getstream.io/video/docs/reactnative/core/camera-and-microphone/#speaker-management for more details\");\n        }\n        if (volume && (volume < 0 || volume > 1)) {\n            throw new Error(\"Volume must be between 0 and 1, or undefined\");\n        }\n        this.call.state.updateParticipant(sessionId, {\n            audioVolume: volume\n        });\n    }\n}\n/**\n * An object representation of a `Call`.\n */ class Call {\n    /**\n     * Constructs a new `Call` instance.\n     *\n     * NOTE: Don't call the constructor directly, instead\n     * Use the [`StreamVideoClient.call`](./StreamVideoClient.md/#call)\n     * method to construct a `Call` instance.\n     */ constructor({ type, id, streamClient, members, ownCapabilities, sortParticipantsBy, clientStore, ringing = false, watching = false }){\n        /**\n         * The state of this call.\n         */ this.state = new CallState();\n        /**\n         * The permissions context of this call.\n         */ this.permissionsContext = new PermissionsContext();\n        /**\n         * The event dispatcher instance dedicated to this Call instance.\n         * @private\n         */ this.dispatcher = new Dispatcher();\n        this.sfuClientTag = 0;\n        this.reconnectConcurrencyTag = Symbol(\"reconnectConcurrencyTag\");\n        this.reconnectAttempts = 0;\n        this.reconnectStrategy = WebsocketReconnectStrategy.UNSPECIFIED;\n        this.fastReconnectDeadlineSeconds = 0;\n        this.disconnectionTimeoutSeconds = 0;\n        this.lastOfflineTimestamp = 0;\n        // maintain the order of publishing tracks to restore them after a reconnection\n        // it shouldn't contain duplicates\n        this.trackPublishOrder = [];\n        this.hasJoinedOnce = false;\n        this.deviceSettingsAppliedOnce = false;\n        this.initialized = false;\n        this.joinLeaveConcurrencyTag = Symbol(\"joinLeaveConcurrencyTag\");\n        /**\n         * A list hooks/functions to invoke when the call is left.\n         * A typical use case is to clean up some global event handlers.\n         * @private\n         */ this.leaveCallHooks = new Set();\n        this.streamClientEventHandlers = new Map();\n        this.handleOwnCapabilitiesUpdated = async (ownCapabilities)=>{\n            // update the permission context.\n            this.permissionsContext.setPermissions(ownCapabilities);\n            if (!this.publisher) return;\n            // check if the user still has publishing permissions and stop publishing if not.\n            const permissionToTrackType = {\n                [OwnCapability.SEND_AUDIO]: TrackType.AUDIO,\n                [OwnCapability.SEND_VIDEO]: TrackType.VIDEO,\n                [OwnCapability.SCREENSHARE]: TrackType.SCREEN_SHARE\n            };\n            for (const [permission, trackType] of Object.entries(permissionToTrackType)){\n                const hasPermission = this.permissionsContext.hasPermission(permission);\n                if (hasPermission) continue;\n                try {\n                    switch(trackType){\n                        case TrackType.AUDIO:\n                            if (this.microphone.enabled) await this.microphone.disable();\n                            break;\n                        case TrackType.VIDEO:\n                            if (this.camera.enabled) await this.camera.disable();\n                            break;\n                        case TrackType.SCREEN_SHARE:\n                            if (this.screenShare.enabled) await this.screenShare.disable();\n                            break;\n                    }\n                } catch (err) {\n                    this.logger(\"error\", `Can't disable mic/camera/screenshare after revoked permissions`, err);\n                }\n            }\n        };\n        /**\n         * You can subscribe to WebSocket events provided by the API. To remove a subscription, call the `off` method.\n         * Please note that subscribing to WebSocket events is an advanced use-case.\n         * For most use-cases, it should be enough to watch for state changes.\n         *\n         * @param eventName the event name.\n         * @param fn the event handler.\n         */ this.on = (eventName, fn)=>{\n            if (isSfuEvent(eventName)) {\n                return this.dispatcher.on(eventName, fn);\n            }\n            const offHandler = this.streamClient.on(eventName, (e)=>{\n                const event = e;\n                if (event.call_cid && event.call_cid === this.cid) {\n                    fn(event);\n                }\n            });\n            // keep the 'off' reference returned by the stream client\n            this.streamClientEventHandlers.set(fn, offHandler);\n            return ()=>{\n                this.off(eventName, fn);\n            };\n        };\n        /**\n         * Remove subscription for WebSocket events that were created by the `on` method.\n         *\n         * @param eventName the event name.\n         * @param fn the event handler.\n         */ this.off = (eventName, fn)=>{\n            if (isSfuEvent(eventName)) {\n                return this.dispatcher.off(eventName, fn);\n            }\n            // unsubscribe from the stream client event by using the 'off' reference\n            const registeredOffHandler = this.streamClientEventHandlers.get(fn);\n            if (registeredOffHandler) {\n                registeredOffHandler();\n            }\n        };\n        /**\n         * Leave the call and stop the media streams that were published by the call.\n         */ this.leave = async ({ reject, reason = \"user is leaving the call\" } = {})=>{\n            await withoutConcurrency(this.joinLeaveConcurrencyTag, async ()=>{\n                const callingState = this.state.callingState;\n                if (callingState === CallingState.LEFT) {\n                    throw new Error(\"Cannot leave call that has already been left.\");\n                }\n                if (callingState === CallingState.JOINING) {\n                    const waitUntilCallJoined = ()=>{\n                        return new Promise((resolve)=>{\n                            this.state.callingState$.pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_19__.takeWhile)((state)=>state !== CallingState.JOINED, true)).subscribe(()=>resolve());\n                        });\n                    };\n                    await waitUntilCallJoined();\n                }\n                if (callingState === CallingState.RINGING && reject !== false) {\n                    if (reject) {\n                        await this.reject(reason);\n                    } else {\n                        // if reject was undefined, we still have to cancel the call automatically\n                        // when I am the creator and everyone else left the call\n                        const hasOtherParticipants = this.state.remoteParticipants.length > 0;\n                        if (this.isCreatedByMe && !hasOtherParticipants) {\n                            await this.reject(\"cancel\");\n                        }\n                    }\n                }\n                this.statsReporter?.stop();\n                this.statsReporter = undefined;\n                this.sfuStatsReporter?.stop();\n                this.sfuStatsReporter = undefined;\n                this.subscriber?.close();\n                this.subscriber = undefined;\n                this.publisher?.close({\n                    stopTracks: true\n                });\n                this.publisher = undefined;\n                await this.sfuClient?.leaveAndClose(reason);\n                this.sfuClient = undefined;\n                this.dynascaleManager.setSfuClient(undefined);\n                this.state.setCallingState(CallingState.LEFT);\n                // Call all leave call hooks, e.g. to clean up global event handlers\n                this.leaveCallHooks.forEach((hook)=>hook());\n                this.initialized = false;\n                this.hasJoinedOnce = false;\n                this.clientStore.unregisterCall(this);\n                this.camera.dispose();\n                this.microphone.dispose();\n                this.screenShare.dispose();\n                this.speaker.dispose();\n                const stopOnLeavePromises = [];\n                if (this.camera.stopOnLeave) {\n                    stopOnLeavePromises.push(this.camera.disable(true));\n                }\n                if (this.microphone.stopOnLeave) {\n                    stopOnLeavePromises.push(this.microphone.disable(true));\n                }\n                if (this.screenShare.stopOnLeave) {\n                    stopOnLeavePromises.push(this.screenShare.disable(true));\n                }\n                await Promise.all(stopOnLeavePromises);\n            });\n        };\n        /**\n         * Update from the call response from the \"call.ring\" event\n         * @internal\n         */ this.updateFromRingingEvent = async (event)=>{\n            await this.setup();\n            // call.ring event excludes the call creator in the members list\n            // as the creator does not get the ring event\n            // so update the member list accordingly\n            const creator = this.state.members.find((m)=>m.user.id === event.call.created_by.id);\n            if (!creator) {\n                this.state.setMembers(event.members);\n            } else {\n                this.state.setMembers([\n                    creator,\n                    ...event.members\n                ]);\n            }\n            // update the call state with the latest event data\n            this.state.updateFromCallResponse(event.call);\n            this.watching = true;\n            this.ringingSubject.next(true);\n            // we remove the instance from the calls list to enable the following filter in useCalls hook\n            // const calls = useCalls().filter((c) => c.ringing);\n            const calls = this.clientStore.calls.filter((c)=>c.cid !== this.cid);\n            this.clientStore.setCalls([\n                this,\n                ...calls\n            ]);\n            await this.applyDeviceConfig(false);\n        };\n        /**\n         * Loads the information about the call.\n         *\n         * @param params.ring if set to true, a `call.ring` event will be sent to the call members.\n         * @param params.notify if set to true, a `call.notification` event will be sent to the call members.\n         * @param params.members_limit the total number of members to return as part of the response.\n         */ this.get = async (params)=>{\n            await this.setup();\n            const response = await this.streamClient.get(this.streamClientBasePath, params);\n            this.state.updateFromCallResponse(response.call);\n            this.state.setMembers(response.members);\n            this.state.setOwnCapabilities(response.own_capabilities);\n            if (params?.ring || this.ringing) {\n                // the call response can indicate where the call is still ringing or not\n                this.ringingSubject.next(true);\n            }\n            if (this.streamClient._hasConnectionID()) {\n                this.watching = true;\n                this.clientStore.registerCall(this);\n            }\n            await this.applyDeviceConfig(false);\n            return response;\n        };\n        /**\n         * Loads the information about the call and creates it if it doesn't exist.\n         *\n         * @param data the data to create the call with.\n         */ this.getOrCreate = async (data)=>{\n            await this.setup();\n            const response = await this.streamClient.post(this.streamClientBasePath, data);\n            this.state.updateFromCallResponse(response.call);\n            this.state.setMembers(response.members);\n            this.state.setOwnCapabilities(response.own_capabilities);\n            if (data?.ring || this.ringing) {\n                // the call response can indicate where the call is still ringing or not\n                this.ringingSubject.next(true);\n            }\n            if (this.streamClient._hasConnectionID()) {\n                this.watching = true;\n                this.clientStore.registerCall(this);\n            }\n            await this.applyDeviceConfig(false);\n            return response;\n        };\n        /**\n         * Creates a call\n         *\n         * @param data the data to create the call with.\n         */ this.create = async (data)=>{\n            return this.getOrCreate(data);\n        };\n        /**\n         * A shortcut for {@link Call.get} with `ring` parameter set to `true`.\n         * Will send a `call.ring` event to the call members.\n         */ this.ring = async ()=>{\n            return await this.get({\n                ring: true\n            });\n        };\n        /**\n         * A shortcut for {@link Call.get} with `notify` parameter set to `true`.\n         * Will send a `call.notification` event to the call members.\n         */ this.notify = async ()=>{\n            return await this.get({\n                notify: true\n            });\n        };\n        /**\n         * Marks the incoming call as accepted.\n         *\n         * This method should be used only for \"ringing\" call flows.\n         * {@link Call.join} invokes this method automatically for you when joining a call.\n         * Unless you are implementing a custom \"ringing\" flow, you should not use this method.\n         */ this.accept = async ()=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/accept`);\n        };\n        /**\n         * Marks the incoming call as rejected.\n         *\n         * This method should be used only for \"ringing\" call flows.\n         * {@link Call.leave} invokes this method automatically for you when you leave or reject this call.\n         * Unless you are implementing a custom \"ringing\" flow, you should not use this method.\n         *\n         * @param reason the reason for rejecting the call.\n         */ this.reject = async (reason)=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/reject`, {\n                reason: reason\n            });\n        };\n        /**\n         * Will start to watch for call related WebSocket events and initiate a call session with the server.\n         *\n         * @returns a promise which resolves once the call join-flow has finished.\n         */ this.join = async (data)=>{\n            const connectStartTime = Date.now();\n            await this.setup();\n            const callingState = this.state.callingState;\n            if ([\n                CallingState.JOINED,\n                CallingState.JOINING\n            ].includes(callingState)) {\n                throw new Error(`Illegal State: call.join() shall be called only once`);\n            }\n            this.joinCallData = data;\n            this.logger(\"debug\", \"Starting join flow\");\n            this.state.setCallingState(CallingState.JOINING);\n            const performingMigration = this.reconnectStrategy === WebsocketReconnectStrategy.MIGRATE;\n            const performingRejoin = this.reconnectStrategy === WebsocketReconnectStrategy.REJOIN;\n            const performingFastReconnect = this.reconnectStrategy === WebsocketReconnectStrategy.FAST;\n            let statsOptions = this.sfuStatsReporter?.options;\n            if (!this.credentials || !statsOptions || performingRejoin || performingMigration) {\n                try {\n                    const joinResponse = await this.doJoinRequest(data);\n                    this.credentials = joinResponse.credentials;\n                    statsOptions = joinResponse.stats_options;\n                } catch (error) {\n                    // restore the previous call state if the join-flow fails\n                    this.state.setCallingState(callingState);\n                    throw error;\n                }\n            }\n            const previousSfuClient = this.sfuClient;\n            const previousSessionId = previousSfuClient?.sessionId;\n            const isWsHealthy = !!previousSfuClient?.isHealthy;\n            const sfuClient = performingRejoin || performingMigration || !isWsHealthy ? new StreamSfuClient({\n                logTag: String(this.sfuClientTag++),\n                dispatcher: this.dispatcher,\n                credentials: this.credentials,\n                streamClient: this.streamClient,\n                // a new session_id is necessary for the REJOIN strategy.\n                // we use the previous session_id if available\n                sessionId: performingRejoin ? undefined : previousSessionId,\n                onSignalClose: ()=>this.handleSfuSignalClose(sfuClient)\n            }) : previousSfuClient;\n            this.sfuClient = sfuClient;\n            this.dynascaleManager.setSfuClient(sfuClient);\n            const clientDetails = getClientDetails();\n            // we don't need to send JoinRequest if we are re-using an existing healthy SFU client\n            if (previousSfuClient !== sfuClient) {\n                // prepare a generic SDP and send it to the SFU.\n                // this is a throw-away SDP that the SFU will use to determine\n                // the capabilities of the client (codec support, etc.)\n                const receivingCapabilitiesSdp = await getGenericSdp(\"recvonly\");\n                const reconnectDetails = this.reconnectStrategy !== WebsocketReconnectStrategy.UNSPECIFIED ? this.getReconnectDetails(data?.migrating_from, previousSessionId) : undefined;\n                const { callState, fastReconnectDeadlineSeconds } = await sfuClient.join({\n                    subscriberSdp: receivingCapabilitiesSdp,\n                    publisherSdp: \"\",\n                    clientDetails,\n                    fastReconnect: performingFastReconnect,\n                    reconnectDetails\n                });\n                this.fastReconnectDeadlineSeconds = fastReconnectDeadlineSeconds;\n                if (callState) {\n                    this.state.updateFromSfuCallState(callState, sfuClient.sessionId, reconnectDetails);\n                }\n            }\n            if (!performingMigration) {\n                // in MIGRATION, `JOINED` state is set in `this.reconnectMigrate()`\n                this.state.setCallingState(CallingState.JOINED);\n            }\n            this.hasJoinedOnce = true;\n            // when performing fast reconnect, or when we reuse the same SFU client,\n            // (ws remained healthy), we just need to restore the ICE connection\n            if (performingFastReconnect) {\n                // the SFU automatically issues an ICE restart on the subscriber\n                // we don't have to do it ourselves\n                await this.restoreICE(sfuClient, {\n                    includeSubscriber: false\n                });\n            } else {\n                const connectionConfig = toRtcConfiguration(this.credentials.ice_servers);\n                this.initPublisherAndSubscriber({\n                    sfuClient,\n                    connectionConfig,\n                    clientDetails,\n                    statsOptions,\n                    closePreviousInstances: !performingMigration\n                });\n            }\n            // make sure we only track connection timing if we are not calling this method as part of a reconnection flow\n            if (!performingRejoin && !performingFastReconnect && !performingMigration) {\n                this.sfuStatsReporter?.sendTelemetryData({\n                    data: {\n                        oneofKind: \"connectionTimeSeconds\",\n                        connectionTimeSeconds: (Date.now() - connectStartTime) / 1000\n                    }\n                });\n            }\n            if (performingRejoin) {\n                const strategy = WebsocketReconnectStrategy[this.reconnectStrategy];\n                await previousSfuClient?.leaveAndClose(`Closing previous WS after reconnect with strategy: ${strategy}`);\n            } else if (!isWsHealthy) {\n                previousSfuClient?.close(StreamSfuClient.DISPOSE_OLD_SOCKET, \"Closing unhealthy WS after reconnect\");\n            }\n            // device settings should be applied only once, we don't have to\n            // re-apply them on later reconnections or server-side data fetches\n            if (!this.deviceSettingsAppliedOnce) {\n                await this.applyDeviceConfig(true);\n                this.deviceSettingsAppliedOnce = true;\n            }\n            // We shouldn't persist the `ring` and `notify` state after joining the call\n            // as it's a one-time event and clashes with the potential reconnection attempts.\n            // When reconnecting, if provided with `ring: true` or `notify: true`,\n            // we will spam the other participants with push notifications and `call.ring` events.\n            delete this.joinCallData?.ring;\n            delete this.joinCallData?.notify;\n            this.logger(\"info\", `Joined call ${this.cid}`);\n        };\n        /**\n         * Prepares Reconnect Details object.\n         * @internal\n         */ this.getReconnectDetails = (migratingFromSfuId, previousSessionId)=>{\n            const strategy = this.reconnectStrategy;\n            const performingRejoin = strategy === WebsocketReconnectStrategy.REJOIN;\n            const announcedTracks = this.publisher?.getAnnouncedTracks() || [];\n            return {\n                strategy,\n                announcedTracks,\n                subscriptions: this.dynascaleManager.trackSubscriptions,\n                reconnectAttempt: this.reconnectAttempts,\n                fromSfuId: migratingFromSfuId || \"\",\n                previousSessionId: performingRejoin ? previousSessionId || \"\" : \"\"\n            };\n        };\n        /**\n         * Performs an ICE restart on both the Publisher and Subscriber Peer Connections.\n         * Uses the provided SFU client to restore the ICE connection.\n         *\n         * This method can throw an error if the ICE restart fails.\n         * This error should be handled by the reconnect loop,\n         * and a new reconnection shall be attempted.\n         *\n         * @internal\n         */ this.restoreICE = async (nextSfuClient, opts = {})=>{\n            const { includeSubscriber = true, includePublisher = true } = opts;\n            if (this.subscriber) {\n                this.subscriber.setSfuClient(nextSfuClient);\n                if (includeSubscriber) {\n                    await this.subscriber.restartIce();\n                }\n            }\n            if (this.publisher) {\n                this.publisher.setSfuClient(nextSfuClient);\n                if (includePublisher) {\n                    await this.publisher.restartIce();\n                }\n            }\n        };\n        /**\n         * Initializes the Publisher and Subscriber Peer Connections.\n         * @internal\n         */ this.initPublisherAndSubscriber = (opts)=>{\n            const { sfuClient, connectionConfig, clientDetails, statsOptions, closePreviousInstances } = opts;\n            if (closePreviousInstances && this.subscriber) {\n                this.subscriber.close();\n            }\n            this.subscriber = new Subscriber({\n                sfuClient,\n                dispatcher: this.dispatcher,\n                state: this.state,\n                connectionConfig,\n                logTag: String(this.sfuClientTag),\n                onUnrecoverableError: ()=>{\n                    this.reconnect(WebsocketReconnectStrategy.REJOIN).catch((err)=>{\n                        this.logger(\"warn\", \"[Reconnect] Error reconnecting after a subscriber error\", err);\n                    });\n                }\n            });\n            // anonymous users can't publish anything hence, there is no need\n            // to create Publisher Peer Connection for them\n            const isAnonymous = this.streamClient.user?.type === \"anonymous\";\n            if (!isAnonymous) {\n                if (closePreviousInstances && this.publisher) {\n                    this.publisher.close({\n                        stopTracks: false\n                    });\n                }\n                const audioSettings = this.state.settings?.audio;\n                const isDtxEnabled = !!audioSettings?.opus_dtx_enabled;\n                const isRedEnabled = !!audioSettings?.redundant_coding_enabled;\n                this.publisher = new Publisher({\n                    sfuClient,\n                    dispatcher: this.dispatcher,\n                    state: this.state,\n                    connectionConfig,\n                    isDtxEnabled,\n                    isRedEnabled,\n                    logTag: String(this.sfuClientTag),\n                    onUnrecoverableError: ()=>{\n                        this.reconnect(WebsocketReconnectStrategy.REJOIN).catch((err)=>{\n                            this.logger(\"warn\", \"[Reconnect] Error reconnecting after a publisher error\", err);\n                        });\n                    }\n                });\n            }\n            this.statsReporter?.stop();\n            this.statsReporter = createStatsReporter({\n                subscriber: this.subscriber,\n                publisher: this.publisher,\n                state: this.state,\n                datacenter: sfuClient.edgeName\n            });\n            this.sfuStatsReporter?.stop();\n            if (statsOptions?.reporting_interval_ms > 0) {\n                this.sfuStatsReporter = new SfuStatsReporter(sfuClient, {\n                    clientDetails,\n                    options: statsOptions,\n                    subscriber: this.subscriber,\n                    publisher: this.publisher,\n                    microphone: this.microphone,\n                    camera: this.camera,\n                    state: this.state\n                });\n                this.sfuStatsReporter.start();\n            }\n        };\n        /**\n         * Retrieves credentials for joining the call.\n         *\n         * @internal\n         *\n         * @param data the join call data.\n         */ this.doJoinRequest = async (data)=>{\n            const location = await this.streamClient.getLocationHint();\n            const request = {\n                ...data,\n                location\n            };\n            const joinResponse = await this.streamClient.post(`${this.streamClientBasePath}/join`, request);\n            this.state.updateFromCallResponse(joinResponse.call);\n            this.state.setMembers(joinResponse.members);\n            this.state.setOwnCapabilities(joinResponse.own_capabilities);\n            if (data?.ring && !this.ringing) {\n                this.ringingSubject.next(true);\n            }\n            if (this.ringing && !this.isCreatedByMe) {\n                // signals other users that I have accepted the incoming call.\n                await this.accept();\n            }\n            if (this.streamClient._hasConnectionID()) {\n                this.watching = true;\n                this.clientStore.registerCall(this);\n            }\n            return joinResponse;\n        };\n        /**\n         * Handles the closing of the SFU signal connection.\n         *\n         * @internal\n         * @param sfuClient the SFU client instance that was closed.\n         */ this.handleSfuSignalClose = (sfuClient)=>{\n            this.logger(\"debug\", \"[Reconnect] SFU signal connection closed\");\n            // SFU WS closed before we finished current join, no need to schedule reconnect\n            // because join operation will fail\n            if (this.state.callingState === CallingState.JOINING) return;\n            // normal close, no need to reconnect\n            if (sfuClient.isLeaving) return;\n            this.reconnect(WebsocketReconnectStrategy.REJOIN).catch((err)=>{\n                this.logger(\"warn\", \"[Reconnect] Error reconnecting\", err);\n            });\n        };\n        /**\n         * Handles the reconnection flow.\n         *\n         * @internal\n         *\n         * @param strategy the reconnection strategy to use.\n         */ this.reconnect = async (strategy)=>{\n            if (this.state.callingState === CallingState.RECONNECTING || this.state.callingState === CallingState.RECONNECTING_FAILED) return;\n            return withoutConcurrency(this.reconnectConcurrencyTag, async ()=>{\n                this.logger(\"info\", `[Reconnect] Reconnecting with strategy ${WebsocketReconnectStrategy[strategy]}`);\n                let reconnectStartTime = Date.now();\n                this.reconnectStrategy = strategy;\n                do {\n                    if (this.disconnectionTimeoutSeconds > 0 && (Date.now() - reconnectStartTime) / 1000 > this.disconnectionTimeoutSeconds) {\n                        this.logger(\"warn\", \"[Reconnect] Stopping reconnection attempts after reaching disconnection timeout\");\n                        this.state.setCallingState(CallingState.RECONNECTING_FAILED);\n                        return;\n                    }\n                    // we don't increment reconnect attempts for the FAST strategy.\n                    if (this.reconnectStrategy !== WebsocketReconnectStrategy.FAST) {\n                        this.reconnectAttempts++;\n                    }\n                    const current = WebsocketReconnectStrategy[this.reconnectStrategy];\n                    try {\n                        // wait until the network is available\n                        await this.networkAvailableTask?.promise;\n                        switch(this.reconnectStrategy){\n                            case WebsocketReconnectStrategy.UNSPECIFIED:\n                            case WebsocketReconnectStrategy.DISCONNECT:\n                                this.logger(\"debug\", `[Reconnect] No-op strategy ${current}`);\n                                break;\n                            case WebsocketReconnectStrategy.FAST:\n                                await this.reconnectFast();\n                                break;\n                            case WebsocketReconnectStrategy.REJOIN:\n                                await this.reconnectRejoin();\n                                break;\n                            case WebsocketReconnectStrategy.MIGRATE:\n                                await this.reconnectMigrate();\n                                break;\n                            default:\n                                ensureExhausted(this.reconnectStrategy, \"Unknown reconnection strategy\");\n                                break;\n                        }\n                        break; // do-while loop, reconnection worked, exit the loop\n                    } catch (error) {\n                        if (error instanceof ErrorFromResponse && error.unrecoverable) {\n                            this.logger(\"warn\", `[Reconnect] Can't reconnect due to coordinator unrecoverable error`, error);\n                            this.state.setCallingState(CallingState.RECONNECTING_FAILED);\n                            return;\n                        }\n                        this.logger(\"warn\", `[Reconnect] ${current} (${this.reconnectAttempts}) failed. Attempting with REJOIN`, error);\n                        await sleep(500);\n                        this.reconnectStrategy = WebsocketReconnectStrategy.REJOIN;\n                    }\n                }while (this.state.callingState !== CallingState.JOINED && this.state.callingState !== CallingState.RECONNECTING_FAILED && this.state.callingState !== CallingState.LEFT);\n            });\n        };\n        /**\n         * Initiates the reconnection flow with the \"fast\" strategy.\n         * @internal\n         */ this.reconnectFast = async ()=>{\n            let reconnectStartTime = Date.now();\n            this.reconnectStrategy = WebsocketReconnectStrategy.FAST;\n            this.state.setCallingState(CallingState.RECONNECTING);\n            await this.join(this.joinCallData);\n            this.sfuStatsReporter?.sendTelemetryData({\n                data: {\n                    oneofKind: \"reconnection\",\n                    reconnection: {\n                        timeSeconds: (Date.now() - reconnectStartTime) / 1000,\n                        strategy: WebsocketReconnectStrategy.FAST\n                    }\n                }\n            });\n        };\n        /**\n         * Initiates the reconnection flow with the \"rejoin\" strategy.\n         * @internal\n         */ this.reconnectRejoin = async ()=>{\n            let reconnectStartTime = Date.now();\n            this.reconnectStrategy = WebsocketReconnectStrategy.REJOIN;\n            this.state.setCallingState(CallingState.RECONNECTING);\n            await this.join(this.joinCallData);\n            await this.restorePublishedTracks();\n            this.restoreSubscribedTracks();\n            this.sfuStatsReporter?.sendTelemetryData({\n                data: {\n                    oneofKind: \"reconnection\",\n                    reconnection: {\n                        timeSeconds: (Date.now() - reconnectStartTime) / 1000,\n                        strategy: WebsocketReconnectStrategy.REJOIN\n                    }\n                }\n            });\n        };\n        /**\n         * Initiates the reconnection flow with the \"migrate\" strategy.\n         * @internal\n         */ this.reconnectMigrate = async ()=>{\n            let reconnectStartTime = Date.now();\n            const currentSfuClient = this.sfuClient;\n            if (!currentSfuClient) {\n                throw new Error(\"Cannot migrate without an active SFU client\");\n            }\n            this.reconnectStrategy = WebsocketReconnectStrategy.MIGRATE;\n            this.state.setCallingState(CallingState.MIGRATING);\n            const currentSubscriber = this.subscriber;\n            const currentPublisher = this.publisher;\n            currentSubscriber?.detachEventHandlers();\n            currentPublisher?.detachEventHandlers();\n            const migrationTask = makeSafePromise(currentSfuClient.enterMigration());\n            try {\n                const currentSfu = currentSfuClient.edgeName;\n                await this.join({\n                    ...this.joinCallData,\n                    migrating_from: currentSfu\n                });\n            } finally{\n                // cleanup the migration_from field after the migration is complete or failed\n                // as we don't want to keep dirty data in the join call data\n                delete this.joinCallData?.migrating_from;\n            }\n            await this.restorePublishedTracks();\n            this.restoreSubscribedTracks();\n            try {\n                // Wait for the migration to complete, then close the previous SFU client\n                // and the peer connection instances. In case of failure, the migration\n                // task would throw an error and REJOIN would be attempted.\n                await migrationTask();\n                // in MIGRATE, we can consider the call as joined only after\n                // `participantMigrationComplete` event is received, signaled by\n                // the `migrationTask`\n                this.state.setCallingState(CallingState.JOINED);\n            } finally{\n                currentSubscriber?.close();\n                currentPublisher?.close({\n                    stopTracks: false\n                });\n                // and close the previous SFU client, without specifying close code\n                currentSfuClient.close();\n            }\n            this.sfuStatsReporter?.sendTelemetryData({\n                data: {\n                    oneofKind: \"reconnection\",\n                    reconnection: {\n                        timeSeconds: (Date.now() - reconnectStartTime) / 1000,\n                        strategy: WebsocketReconnectStrategy.MIGRATE\n                    }\n                }\n            });\n        };\n        /**\n         * Registers the various event handlers for reconnection.\n         *\n         * @internal\n         */ this.registerReconnectHandlers = ()=>{\n            // handles the legacy \"goAway\" event\n            const unregisterGoAway = this.on(\"goAway\", ()=>{\n                this.reconnect(WebsocketReconnectStrategy.MIGRATE).catch((err)=>{\n                    this.logger(\"warn\", \"[Reconnect] Error reconnecting\", err);\n                });\n            });\n            // handles the \"error\" event, through which the SFU can request a reconnect\n            const unregisterOnError = this.on(\"error\", (e)=>{\n                const { reconnectStrategy: strategy } = e;\n                if (strategy === WebsocketReconnectStrategy.UNSPECIFIED) return;\n                if (strategy === WebsocketReconnectStrategy.DISCONNECT) {\n                    this.leave({\n                        reason: \"SFU instructed to disconnect\"\n                    }).catch((err)=>{\n                        this.logger(\"warn\", `Can't leave call after disconnect request`, err);\n                    });\n                } else {\n                    this.reconnect(strategy).catch((err)=>{\n                        this.logger(\"warn\", \"[Reconnect] Error reconnecting\", err);\n                    });\n                }\n            });\n            const unregisterNetworkChanged = this.streamClient.on(\"network.changed\", (e)=>{\n                if (!e.online) {\n                    this.logger(\"debug\", \"[Reconnect] Going offline\");\n                    if (!this.hasJoinedOnce) return;\n                    this.lastOfflineTimestamp = Date.now();\n                    // create a new task that would resolve when the network is available\n                    const networkAvailableTask = promiseWithResolvers();\n                    networkAvailableTask.promise.then(()=>{\n                        let strategy = WebsocketReconnectStrategy.FAST;\n                        if (this.lastOfflineTimestamp) {\n                            const offline = (Date.now() - this.lastOfflineTimestamp) / 1000;\n                            if (offline > this.fastReconnectDeadlineSeconds) {\n                                // We shouldn't attempt FAST if we have exceeded the deadline.\n                                // The SFU would have already wiped out the session.\n                                strategy = WebsocketReconnectStrategy.REJOIN;\n                            }\n                        }\n                        this.reconnect(strategy).catch((err)=>{\n                            this.logger(\"warn\", \"[Reconnect] Error reconnecting after going online\", err);\n                        });\n                    });\n                    this.networkAvailableTask = networkAvailableTask;\n                    this.sfuStatsReporter?.stop();\n                    this.state.setCallingState(CallingState.OFFLINE);\n                } else {\n                    this.logger(\"debug\", \"[Reconnect] Going online\");\n                    this.sfuClient?.close(StreamSfuClient.DISPOSE_OLD_SOCKET, \"Closing WS to reconnect after going online\");\n                    // we went online, release the previous waiters and reset the state\n                    this.networkAvailableTask?.resolve();\n                    this.networkAvailableTask = undefined;\n                    this.sfuStatsReporter?.start();\n                }\n            });\n            this.leaveCallHooks.add(unregisterGoAway);\n            this.leaveCallHooks.add(unregisterOnError);\n            this.leaveCallHooks.add(unregisterNetworkChanged);\n        };\n        /**\n         * Restores the published tracks after a reconnection.\n         * @internal\n         */ this.restorePublishedTracks = async ()=>{\n            // the tracks need to be restored in their original order of publishing\n            // otherwise, we might get `m-lines order mismatch` errors\n            for (const trackType of this.trackPublishOrder){\n                switch(trackType){\n                    case TrackType.AUDIO:\n                        const audioStream = this.microphone.state.mediaStream;\n                        if (audioStream) {\n                            await this.publishAudioStream(audioStream);\n                        }\n                        break;\n                    case TrackType.VIDEO:\n                        const videoStream = this.camera.state.mediaStream;\n                        if (videoStream) await this.publishVideoStream(videoStream);\n                        break;\n                    case TrackType.SCREEN_SHARE:\n                        const screenShareStream = this.screenShare.state.mediaStream;\n                        if (screenShareStream) {\n                            await this.publishScreenShareStream(screenShareStream);\n                        }\n                        break;\n                    // screen share audio can't exist without a screen share, so we handle it there\n                    case TrackType.SCREEN_SHARE_AUDIO:\n                    case TrackType.UNSPECIFIED:\n                        break;\n                    default:\n                        ensureExhausted(trackType, \"Unknown track type\");\n                        break;\n                }\n            }\n        };\n        /**\n         * Restores the subscribed tracks after a reconnection.\n         * @internal\n         */ this.restoreSubscribedTracks = ()=>{\n            const { remoteParticipants } = this.state;\n            if (remoteParticipants.length <= 0) return;\n            this.dynascaleManager.applyTrackSubscriptions(undefined);\n        };\n        /**\n         * Starts publishing the given video stream to the call.\n         * The stream will be stopped if the user changes an input device, or if the user leaves the call.\n         *\n         * Consecutive calls to this method will replace the previously published stream.\n         * The previous video stream will be stopped.\n         *\n         * @param videoStream the video stream to publish.\n         */ this.publishVideoStream = async (videoStream)=>{\n            if (!this.sfuClient) throw new Error(`Call not joined yet.`);\n            // joining is in progress, and we should wait until the client is ready\n            await this.sfuClient.joinTask;\n            if (!this.permissionsContext.hasPermission(OwnCapability.SEND_VIDEO)) {\n                throw new Error(\"No permission to publish video\");\n            }\n            if (!this.publisher) throw new Error(\"Publisher is not initialized\");\n            const [videoTrack] = videoStream.getVideoTracks();\n            if (!videoTrack) throw new Error(\"There is no video track in the stream\");\n            if (!this.trackPublishOrder.includes(TrackType.VIDEO)) {\n                this.trackPublishOrder.push(TrackType.VIDEO);\n            }\n            await this.publisher.publishStream(videoStream, videoTrack, TrackType.VIDEO, this.publishOptions);\n        };\n        /**\n         * Starts publishing the given audio stream to the call.\n         * The stream will be stopped if the user changes an input device, or if the user leaves the call.\n         *\n         * Consecutive calls to this method will replace the audio stream that is currently being published.\n         * The previous audio stream will be stopped.\n         *\n         * @param audioStream the audio stream to publish.\n         */ this.publishAudioStream = async (audioStream)=>{\n            if (!this.sfuClient) throw new Error(`Call not joined yet.`);\n            // joining is in progress, and we should wait until the client is ready\n            await this.sfuClient.joinTask;\n            if (!this.permissionsContext.hasPermission(OwnCapability.SEND_AUDIO)) {\n                throw new Error(\"No permission to publish audio\");\n            }\n            if (!this.publisher) throw new Error(\"Publisher is not initialized\");\n            const [audioTrack] = audioStream.getAudioTracks();\n            if (!audioTrack) throw new Error(\"There is no audio track in the stream\");\n            if (!this.trackPublishOrder.includes(TrackType.AUDIO)) {\n                this.trackPublishOrder.push(TrackType.AUDIO);\n            }\n            await this.publisher.publishStream(audioStream, audioTrack, TrackType.AUDIO);\n        };\n        /**\n         * Starts publishing the given screen-share stream to the call.\n         *\n         * Consecutive calls to this method will replace the previous screen-share stream.\n         * The previous screen-share stream will be stopped.\n         *\n         * @param screenShareStream the screen-share stream to publish.\n         */ this.publishScreenShareStream = async (screenShareStream)=>{\n            if (!this.sfuClient) throw new Error(`Call not joined yet.`);\n            // joining is in progress, and we should wait until the client is ready\n            await this.sfuClient.joinTask;\n            if (!this.permissionsContext.hasPermission(OwnCapability.SCREENSHARE)) {\n                throw new Error(\"No permission to publish screen share\");\n            }\n            if (!this.publisher) throw new Error(\"Publisher is not initialized\");\n            const [screenShareTrack] = screenShareStream.getVideoTracks();\n            if (!screenShareTrack) {\n                throw new Error(\"There is no screen share track in the stream\");\n            }\n            if (!this.trackPublishOrder.includes(TrackType.SCREEN_SHARE)) {\n                this.trackPublishOrder.push(TrackType.SCREEN_SHARE);\n            }\n            const opts = {\n                screenShareSettings: this.screenShare.getSettings()\n            };\n            await this.publisher.publishStream(screenShareStream, screenShareTrack, TrackType.SCREEN_SHARE, opts);\n            const [screenShareAudioTrack] = screenShareStream.getAudioTracks();\n            if (screenShareAudioTrack) {\n                if (!this.trackPublishOrder.includes(TrackType.SCREEN_SHARE_AUDIO)) {\n                    this.trackPublishOrder.push(TrackType.SCREEN_SHARE_AUDIO);\n                }\n                await this.publisher.publishStream(screenShareStream, screenShareAudioTrack, TrackType.SCREEN_SHARE_AUDIO, opts);\n            }\n        };\n        /**\n         * Stops publishing the given track type to the call, if it is currently being published.\n         * Underlying track will be stopped and removed from the publisher.\n         *\n         * @param trackType the track type to stop publishing.\n         * @param stopTrack if `true` the track will be stopped, else it will be just disabled\n         */ this.stopPublish = async (trackType, stopTrack = true)=>{\n            this.logger(\"info\", `stopPublish ${TrackType[trackType]}, stop tracks: ${stopTrack}`);\n            await this.publisher?.unpublishStream(trackType, stopTrack);\n        };\n        /**\n         * Notifies the SFU that a noise cancellation process has started.\n         *\n         * @internal\n         */ this.notifyNoiseCancellationStarting = async ()=>{\n            return this.sfuClient?.startNoiseCancellation().catch((err)=>{\n                this.logger(\"warn\", \"Failed to notify start of noise cancellation\", err);\n            });\n        };\n        /**\n         * Notifies the SFU that a noise cancellation process has stopped.\n         *\n         * @internal\n         */ this.notifyNoiseCancellationStopped = async ()=>{\n            return this.sfuClient?.stopNoiseCancellation().catch((err)=>{\n                this.logger(\"warn\", \"Failed to notify stop of noise cancellation\", err);\n            });\n        };\n        /**\n         * Will enhance the reported stats with additional participant-specific information (`callStatsReport$` state [store variable](./StreamVideoClient.md/#readonlystatestore)).\n         * This is usually helpful when detailed stats for a specific participant are needed.\n         *\n         * @param sessionId the sessionId to start reporting for.\n         */ this.startReportingStatsFor = (sessionId)=>{\n            return this.statsReporter?.startReportingStatsFor(sessionId);\n        };\n        /**\n         * Opposite of `startReportingStatsFor`.\n         * Will turn off stats reporting for a specific participant.\n         *\n         * @param sessionId the sessionId to stop reporting for.\n         */ this.stopReportingStatsFor = (sessionId)=>{\n            return this.statsReporter?.stopReportingStatsFor(sessionId);\n        };\n        /**\n         * Resets the last sent reaction for the user holding the given `sessionId`. This is a local action, it won't reset the reaction on the backend.\n         *\n         * @param sessionId the session id.\n         */ this.resetReaction = (sessionId)=>{\n            this.state.updateParticipant(sessionId, {\n                reaction: undefined\n            });\n        };\n        /**\n         * Sets the list of criteria to sort the participants by.\n         *\n         * @param criteria the list of criteria to sort the participants by.\n         */ this.setSortParticipantsBy = (criteria)=>{\n            return this.state.setSortParticipantsBy(criteria);\n        };\n        /**\n         * Sends a reaction to the other call participants.\n         *\n         * @param reaction the reaction to send.\n         */ this.sendReaction = async (reaction)=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/reaction`, reaction);\n        };\n        /**\n         * Blocks the user with the given `userId`.\n         *\n         * @param userId the id of the user to block.\n         */ this.blockUser = async (userId)=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/block`, {\n                user_id: userId\n            });\n        };\n        /**\n         * Unblocks the user with the given `userId`.\n         *\n         * @param userId the id of the user to unblock.\n         */ this.unblockUser = async (userId)=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/unblock`, {\n                user_id: userId\n            });\n        };\n        /**\n         * Mutes the current user.\n         *\n         * @param type the type of the mute operation.\n         */ this.muteSelf = (type)=>{\n            const myUserId = this.currentUserId;\n            if (myUserId) {\n                return this.muteUser(myUserId, type);\n            }\n        };\n        /**\n         * Mutes all the other participants.\n         *\n         * @param type the type of the mute operation.\n         */ this.muteOthers = (type)=>{\n            const trackType = muteTypeToTrackType(type);\n            if (!trackType) return;\n            const userIdsToMute = [];\n            for (const participant of this.state.remoteParticipants){\n                if (participant.publishedTracks.includes(trackType)) {\n                    userIdsToMute.push(participant.userId);\n                }\n            }\n            if (userIdsToMute.length > 0) {\n                return this.muteUser(userIdsToMute, type);\n            }\n        };\n        /**\n         * Mutes the user with the given `userId`.\n         *\n         * @param userId the id of the user to mute.\n         * @param type the type of the mute operation.\n         */ this.muteUser = (userId, type)=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/mute_users`, {\n                user_ids: Array.isArray(userId) ? userId : [\n                    userId\n                ],\n                [type]: true\n            });\n        };\n        /**\n         * Will mute all users in the call.\n         *\n         * @param type the type of the mute operation.\n         */ this.muteAllUsers = (type)=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/mute_users`, {\n                mute_all_users: true,\n                [type]: true\n            });\n        };\n        /**\n         * Starts recording the call\n         */ this.startRecording = async (request)=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/start_recording`, request ? request : {});\n        };\n        /**\n         * Stops recording the call\n         */ this.stopRecording = async ()=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/stop_recording`, {});\n        };\n        /**\n         * Starts the transcription of the call.\n         *\n         * @param request the request data.\n         */ this.startTranscription = async (request)=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/start_transcription`, request);\n        };\n        /**\n         * Stops the transcription of the call.\n         */ this.stopTranscription = async ()=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/stop_transcription`);\n        };\n        /**\n         * Sends a `call.permission_request` event to all users connected to the call. The call settings object contains infomration about which permissions can be requested during a call (for example a user might be allowed to request permission to publish audio, but not video).\n         */ this.requestPermissions = async (data)=>{\n            const { permissions } = data;\n            const canRequestPermissions = permissions.every((permission)=>this.permissionsContext.canRequest(permission));\n            if (!canRequestPermissions) {\n                throw new Error(`You are not allowed to request permissions: ${permissions.join(\", \")}`);\n            }\n            return this.streamClient.post(`${this.streamClientBasePath}/request_permission`, data);\n        };\n        /**\n         * Allows you to grant certain permissions to a user in a call.\n         * The permissions are specific to the call experience and do not survive the call itself.\n         *\n         * Supported permissions that can be granted are:\n         * - `send-audio`\n         * - `send-video`\n         * - `screenshare`\n         *\n         * @param userId the id of the user to grant permissions to.\n         * @param permissions the permissions to grant.\n         */ this.grantPermissions = async (userId, permissions)=>{\n            return this.updateUserPermissions({\n                user_id: userId,\n                grant_permissions: permissions\n            });\n        };\n        /**\n         * Allows you to revoke certain permissions from a user in a call.\n         * The permissions are specific to the call experience and do not survive the call itself.\n         *\n         * Supported permissions that can be revoked are:\n         * - `send-audio`\n         * - `send-video`\n         * - `screenshare`\n         *\n         * @param userId the id of the user to revoke permissions from.\n         * @param permissions the permissions to revoke.\n         */ this.revokePermissions = async (userId, permissions)=>{\n            return this.updateUserPermissions({\n                user_id: userId,\n                revoke_permissions: permissions\n            });\n        };\n        /**\n         * Allows you to grant or revoke a specific permission to a user in a call. The permissions are specific to the call experience and do not survive the call itself.\n         *\n         * When revoking a permission, this endpoint will also mute the relevant track from the user. This is similar to muting a user with the difference that the user will not be able to unmute afterwards.\n         *\n         * Supported permissions that can be granted or revoked: `send-audio`, `send-video` and `screenshare`.\n         *\n         * `call.permissions_updated` event is sent to all members of the call.\n         *\n         */ this.updateUserPermissions = async (data)=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/user_permissions`, data);\n        };\n        /**\n         * Starts the livestreaming of the call.\n         *\n         * @param data the request data.\n         * @param params the request params.\n         */ this.goLive = async (data = {}, params)=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/go_live`, data, params);\n        };\n        /**\n         * Stops the livestreaming of the call.\n         */ this.stopLive = async ()=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/stop_live`, {});\n        };\n        /**\n         * Starts the broadcasting of the call.\n         */ this.startHLS = async ()=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/start_broadcasting`, {});\n        };\n        /**\n         * Stops the broadcasting of the call.\n         */ this.stopHLS = async ()=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/stop_broadcasting`, {});\n        };\n        /**\n         * Updates the call settings or custom data.\n         *\n         * @param updates the updates to apply to the call.\n         */ this.update = async (updates)=>{\n            const response = await this.streamClient.patch(`${this.streamClientBasePath}`, updates);\n            const { call, members, own_capabilities } = response;\n            this.state.updateFromCallResponse(call);\n            this.state.setMembers(members);\n            this.state.setOwnCapabilities(own_capabilities);\n            return response;\n        };\n        /**\n         * Ends the call. Once the call is ended, it cannot be re-joined.\n         */ this.endCall = async ()=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/mark_ended`);\n        };\n        /**\n         * Pins the given session to the top of the participants list.\n         *\n         * @param sessionId the sessionId to pin.\n         */ this.pin = (sessionId)=>{\n            this.state.updateParticipant(sessionId, {\n                pin: {\n                    isLocalPin: true,\n                    pinnedAt: Date.now()\n                }\n            });\n        };\n        /**\n         * Unpins the given session from the top of the participants list.\n         *\n         * @param sessionId the sessionId to unpin.\n         */ this.unpin = (sessionId)=>{\n            this.state.updateParticipant(sessionId, {\n                pin: undefined\n            });\n        };\n        /**\n         * Pins the given session to the top of the participants list for everyone\n         * in the call.\n         * You can execute this method only if you have the `pin-for-everyone` capability.\n         *\n         * @param request the request object.\n         */ this.pinForEveryone = async (request)=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/pin`, request);\n        };\n        /**\n         * Unpins the given session from the top of the participants list for everyone\n         * in the call.\n         * You can execute this method only if you have the `pin-for-everyone` capability.\n         *\n         * @param request the request object.\n         */ this.unpinForEveryone = async (request)=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/unpin`, request);\n        };\n        /**\n         * Query call members with filter query. The result won't be stored in call state.\n         * @param request\n         * @returns\n         */ this.queryMembers = (request)=>{\n            return this.streamClient.post(\"/call/members\", {\n                ...request || {},\n                id: this.id,\n                type: this.type\n            });\n        };\n        /**\n         * Will update the call members.\n         *\n         * @param data the request data.\n         */ this.updateCallMembers = async (data)=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/members`, data);\n        };\n        /**\n         * Schedules an auto-drop timeout based on the call settings.\n         * Applicable only for ringing calls.\n         */ this.scheduleAutoDrop = ()=>{\n            this.cancelAutoDrop();\n            const settings = this.state.settings;\n            if (!settings) return;\n            // ignore if the call is not ringing\n            if (this.state.callingState !== CallingState.RINGING) return;\n            const timeoutInMs = this.isCreatedByMe ? settings.ring.auto_cancel_timeout_ms : settings.ring.incoming_call_timeout_ms;\n            // 0 means no auto-drop\n            if (timeoutInMs <= 0) return;\n            this.dropTimeout = setTimeout(()=>{\n                // the call might have stopped ringing by this point,\n                // e.g. it was already accepted and joined\n                if (this.state.callingState !== CallingState.RINGING) return;\n                this.leave({\n                    reject: true,\n                    reason: \"timeout\"\n                }).catch((err)=>{\n                    this.logger(\"error\", \"Failed to drop call\", err);\n                });\n            }, timeoutInMs);\n        };\n        /**\n         * Cancels a scheduled auto-drop timeout.\n         */ this.cancelAutoDrop = ()=>{\n            clearTimeout(this.dropTimeout);\n            this.dropTimeout = undefined;\n        };\n        /**\n         * Retrieves the list of recordings for the current call or call session.\n         *\n         * If `callSessionId` is provided, it will return the recordings for that call session.\n         * Otherwise, all recordings for the current call will be returned.\n         *\n         * @param callSessionId the call session id to retrieve recordings for.\n         */ this.queryRecordings = async (callSessionId)=>{\n            let endpoint = this.streamClientBasePath;\n            if (callSessionId) {\n                endpoint = `${endpoint}/${callSessionId}`;\n            }\n            return this.streamClient.get(`${endpoint}/recordings`);\n        };\n        /**\n         * Retrieves the list of transcriptions for the current call.\n         *\n         * @returns the list of transcriptions.\n         */ this.queryTranscriptions = async ()=>{\n            return this.streamClient.get(`${this.streamClientBasePath}/transcriptions`);\n        };\n        /**\n         * Retrieve call statistics for a particular call session (historical).\n         * Here `callSessionID` is mandatory.\n         *\n         * @param callSessionID the call session ID to retrieve statistics for.\n         * @returns The call stats.\n         */ this.getCallStats = async (callSessionID)=>{\n            const endpoint = `${this.streamClientBasePath}/stats/${callSessionID}`;\n            return this.streamClient.get(endpoint);\n        };\n        /**\n         * Submit user feedback for the call\n         *\n         * @param rating Rating between 1 and 5 denoting the experience of the user in the call\n         * @param reason The reason/description for the rating\n         * @param custom Custom data\n         * @returns\n         */ this.submitFeedback = async (rating, { reason, custom } = {})=>{\n            if (rating < 1 || rating > 5) {\n                throw new Error(\"Rating must be between 1 and 5\");\n            }\n            const callSessionId = this.state.session?.id;\n            if (!callSessionId) {\n                throw new Error(\"Feedback can be submitted only in the context of a call session\");\n            }\n            const { sdkName, sdkVersion, ...platform } = getSdkSignature(getClientDetails());\n            // user sessionId is not available once the call has been left\n            // until we relax the backend validation, we'll send N/A\n            const userSessionId = this.sfuClient?.sessionId ?? \"N/A\";\n            const endpoint = `${this.streamClientBasePath}/feedback/${callSessionId}`;\n            return this.streamClient.post(endpoint, {\n                rating,\n                reason,\n                user_session_id: userSessionId,\n                sdk: sdkName,\n                sdk_version: sdkVersion,\n                custom: {\n                    ...custom,\n                    \"x-stream-platform-data\": platform\n                }\n            });\n        };\n        /**\n         * Sends a custom event to all call participants.\n         *\n         * @param payload the payload to send.\n         */ this.sendCustomEvent = async (payload)=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/event`, {\n                custom: payload\n            });\n        };\n        /**\n         * Applies the device configuration from the backend.\n         *\n         * @internal\n         */ this.applyDeviceConfig = async (status)=>{\n            await this.initCamera({\n                setStatus: status\n            }).catch((err)=>{\n                this.logger(\"warn\", \"Camera init failed\", err);\n            });\n            await this.initMic({\n                setStatus: status\n            }).catch((err)=>{\n                this.logger(\"warn\", \"Mic init failed\", err);\n            });\n        };\n        this.initCamera = async (options)=>{\n            // Wait for any in progress camera operation\n            await this.camera.statusChangeSettled();\n            if (this.state.localParticipant?.videoStream || !this.permissionsContext.hasPermission(\"send-video\")) {\n                return;\n            }\n            // Set camera direction if it's not yet set\n            if (!this.camera.state.direction && !this.camera.state.selectedDevice) {\n                let defaultDirection = \"front\";\n                const backendSetting = this.state.settings?.video.camera_facing;\n                if (backendSetting) {\n                    defaultDirection = backendSetting === \"front\" ? \"front\" : \"back\";\n                }\n                this.camera.state.setDirection(defaultDirection);\n            }\n            // Set target resolution\n            const targetResolution = this.state.settings?.video.target_resolution;\n            if (targetResolution) {\n                await this.camera.selectTargetResolution(targetResolution);\n            }\n            if (options.setStatus) {\n                // Publish already that was set before we joined\n                if (this.camera.enabled && this.camera.state.mediaStream && !this.publisher?.isPublishing(TrackType.VIDEO)) {\n                    await this.publishVideoStream(this.camera.state.mediaStream);\n                }\n                // Start camera if backend config specifies, and there is no local setting\n                if (this.camera.state.status === undefined && this.state.settings?.video.camera_default_on) {\n                    await this.camera.enable();\n                }\n            }\n        };\n        this.initMic = async (options)=>{\n            // Wait for any in progress mic operation\n            await this.microphone.statusChangeSettled();\n            if (this.state.localParticipant?.audioStream || !this.permissionsContext.hasPermission(\"send-audio\")) {\n                return;\n            }\n            if (options.setStatus) {\n                // Publish media stream that was set before we joined\n                if (this.microphone.enabled && this.microphone.state.mediaStream && !this.publisher?.isPublishing(TrackType.AUDIO)) {\n                    await this.publishAudioStream(this.microphone.state.mediaStream);\n                }\n                // Start mic if backend config specifies, and there is no local setting\n                if (this.microphone.state.status === undefined && this.state.settings?.audio.mic_default_on) {\n                    await this.microphone.enable();\n                }\n            }\n        };\n        /**\n         * Will begin tracking the given element for visibility changes within the\n         * configured viewport element (`call.setViewport`).\n         *\n         * @param element the element to track.\n         * @param sessionId the session id.\n         * @param trackType the video mode.\n         */ this.trackElementVisibility = (element, sessionId, trackType)=>{\n            return this.dynascaleManager.trackElementVisibility(element, sessionId, trackType);\n        };\n        /**\n         * Sets the viewport element to track bound video elements for visibility.\n         *\n         * @param element the viewport element.\n         */ this.setViewport = (element)=>{\n            return this.dynascaleManager.setViewport(element);\n        };\n        /**\n         * Binds a DOM <video> element to the given session id.\n         * This method will make sure that the video element will play\n         * the correct video stream for the given session id.\n         *\n         * Under the hood, it would also keep track of the video element dimensions\n         * and update the subscription accordingly in order to optimize the bandwidth.\n         *\n         * If a \"viewport\" is configured, the video element will be automatically\n         * tracked for visibility and the subscription will be updated accordingly.\n         *\n         * @param videoElement the video element to bind to.\n         * @param sessionId the session id.\n         * @param trackType the kind of video.\n         */ this.bindVideoElement = (videoElement, sessionId, trackType)=>{\n            const unbind = this.dynascaleManager.bindVideoElement(videoElement, sessionId, trackType);\n            if (!unbind) return;\n            this.leaveCallHooks.add(unbind);\n            return ()=>{\n                this.leaveCallHooks.delete(unbind);\n                unbind();\n            };\n        };\n        /**\n         * Binds a DOM <audio> element to the given session id.\n         *\n         * This method will make sure that the audio element will\n         * play the correct audio stream for the given session id.\n         *\n         * @param audioElement the audio element to bind to.\n         * @param sessionId the session id.\n         * @param trackType the kind of audio.\n         */ this.bindAudioElement = (audioElement, sessionId, trackType = \"audioTrack\")=>{\n            const unbind = this.dynascaleManager.bindAudioElement(audioElement, sessionId, trackType);\n            if (!unbind) return;\n            this.leaveCallHooks.add(unbind);\n            return ()=>{\n                this.leaveCallHooks.delete(unbind);\n                unbind();\n            };\n        };\n        /**\n         * Binds a DOM <img> element to this call's thumbnail (if enabled in settings).\n         *\n         * @param imageElement the image element to bind to.\n         * @param opts options for the binding.\n         */ this.bindCallThumbnailElement = (imageElement, opts = {})=>{\n            const handleError = ()=>{\n                imageElement.src = opts.fallbackImageSource || \"https://getstream.io/random_svg/?name=x&id=x\";\n            };\n            const unsubscribe = createSubscription(this.state.thumbnails$, (thumbnails)=>{\n                if (!thumbnails) return;\n                imageElement.addEventListener(\"error\", handleError);\n                const thumbnailUrl = new URL(thumbnails.image_url);\n                thumbnailUrl.searchParams.set(\"w\", String(imageElement.clientWidth));\n                thumbnailUrl.searchParams.set(\"h\", String(imageElement.clientHeight));\n                imageElement.src = thumbnailUrl.toString();\n            });\n            return ()=>{\n                unsubscribe();\n                imageElement.removeEventListener(\"error\", handleError);\n            };\n        };\n        /**\n         * Specify preference for incoming video resolution. The preference will\n         * be matched as close as possible, but actual resolution will depend\n         * on the video source quality and client network conditions. Will enable\n         * incoming video, if previously disabled.\n         *\n         * @param resolution preferred resolution, or `undefined` to clear preference\n         * @param sessionIds optionally specify session ids of the participants this\n         * preference has effect on. Affects all participants by default.\n         */ this.setPreferredIncomingVideoResolution = (resolution, sessionIds)=>{\n            this.dynascaleManager.setVideoTrackSubscriptionOverrides(resolution ? {\n                enabled: true,\n                dimension: resolution\n            } : undefined, sessionIds);\n            this.dynascaleManager.applyTrackSubscriptions();\n        };\n        /**\n         * Enables or disables incoming video from all remote call participants,\n         * and removes any preference for preferred resolution.\n         */ this.setIncomingVideoEnabled = (enabled)=>{\n            this.dynascaleManager.setVideoTrackSubscriptionOverrides(enabled ? undefined : {\n                enabled: false\n            });\n            this.dynascaleManager.applyTrackSubscriptions();\n        };\n        /**\n         * Sets the maximum amount of time a user can remain waiting for a reconnect\n         * after a network disruption\n         * @param timeoutSeconds Timeout in seconds, or 0 to keep reconnecting indefinetely\n         */ this.setDisconnectionTimeout = (timeoutSeconds)=>{\n            this.disconnectionTimeoutSeconds = timeoutSeconds;\n        };\n        this.type = type;\n        this.id = id;\n        this.cid = `${type}:${id}`;\n        this.ringingSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(ringing);\n        this.watching = watching;\n        this.streamClient = streamClient;\n        this.clientStore = clientStore;\n        this.streamClientBasePath = `/call/${this.type}/${this.id}`;\n        this.logger = getLogger([\n            \"Call\"\n        ]);\n        const callTypeConfig = CallTypes.get(type);\n        const participantSorter = sortParticipantsBy || callTypeConfig.options.sortParticipantsBy;\n        if (participantSorter) {\n            this.state.setSortParticipantsBy(participantSorter);\n        }\n        this.state.setMembers(members || []);\n        this.state.setOwnCapabilities(ownCapabilities || []);\n        this.state.setCallingState(ringing ? CallingState.RINGING : CallingState.IDLE);\n        this.camera = new CameraManager(this);\n        this.microphone = new MicrophoneManager(this);\n        this.speaker = new SpeakerManager(this);\n        this.screenShare = new ScreenShareManager(this);\n        this.dynascaleManager = new DynascaleManager(this.state, this.speaker);\n    }\n    async setup() {\n        await withoutConcurrency(this.joinLeaveConcurrencyTag, async ()=>{\n            if (this.initialized) return;\n            this.leaveCallHooks.add(this.on(\"all\", (event)=>{\n                // update state with the latest event data\n                this.state.updateFromEvent(event);\n            }));\n            this.leaveCallHooks.add(registerEventHandlers(this, this.dispatcher));\n            this.registerEffects();\n            this.registerReconnectHandlers();\n            if (this.state.callingState === CallingState.LEFT) {\n                this.state.setCallingState(CallingState.IDLE);\n            }\n            this.initialized = true;\n        });\n    }\n    registerEffects() {\n        this.leaveCallHooks.add(// handles updating the permissions context when the settings change.\n        createSubscription(this.state.settings$, (settings)=>{\n            if (!settings) return;\n            this.permissionsContext.setCallSettings(settings);\n        }));\n        this.leaveCallHooks.add(// handle the case when the user permissions are modified.\n        createSafeAsyncSubscription(this.state.ownCapabilities$, this.handleOwnCapabilitiesUpdated));\n        this.leaveCallHooks.add(// handles the case when the user is blocked by the call owner.\n        createSubscription(this.state.blockedUserIds$, async (blockedUserIds)=>{\n            if (!blockedUserIds || blockedUserIds.length === 0) return;\n            const currentUserId = this.currentUserId;\n            if (currentUserId && blockedUserIds.includes(currentUserId)) {\n                this.logger(\"info\", \"Leaving call because of being blocked\");\n                await this.leave({\n                    reason: \"user blocked\"\n                }).catch((err)=>{\n                    this.logger(\"error\", \"Error leaving call after being blocked\", err);\n                });\n            }\n        }));\n        this.leaveCallHooks.add(// cancel auto-drop when call is\n        createSubscription(this.state.session$, (session)=>{\n            if (!this.ringing) return;\n            const receiverId = this.clientStore.connectedUser?.id;\n            if (!receiverId) return;\n            const isAcceptedByMe = Boolean(session?.accepted_by[receiverId]);\n            const isRejectedByMe = Boolean(session?.rejected_by[receiverId]);\n            if (isAcceptedByMe || isRejectedByMe) {\n                this.cancelAutoDrop();\n            }\n        }));\n        this.leaveCallHooks.add(// \"ringing\" mode effects and event handlers\n        createSubscription(this.ringingSubject, (isRinging)=>{\n            if (!isRinging) return;\n            const callSession = this.state.session;\n            const receiver_id = this.clientStore.connectedUser?.id;\n            const ended_at = callSession?.ended_at;\n            const created_by_id = this.state.createdBy?.id;\n            const rejected_by = callSession?.rejected_by;\n            const accepted_by = callSession?.accepted_by;\n            let leaveCallIdle = false;\n            if (ended_at) {\n                // call was ended before it was accepted or rejected so we should leave it to idle\n                leaveCallIdle = true;\n            } else if (created_by_id && rejected_by) {\n                if (rejected_by[created_by_id]) {\n                    // call was cancelled by the caller\n                    leaveCallIdle = true;\n                }\n            } else if (receiver_id && rejected_by) {\n                if (rejected_by[receiver_id]) {\n                    // call was rejected by the receiver in some other device\n                    leaveCallIdle = true;\n                }\n            } else if (receiver_id && accepted_by) {\n                if (accepted_by[receiver_id]) {\n                    // call was accepted by the receiver in some other device\n                    leaveCallIdle = true;\n                }\n            }\n            if (leaveCallIdle) {\n                if (this.state.callingState !== CallingState.IDLE) {\n                    this.state.setCallingState(CallingState.IDLE);\n                }\n            } else {\n                if (this.state.callingState === CallingState.IDLE) {\n                    this.state.setCallingState(CallingState.RINGING);\n                }\n                this.scheduleAutoDrop();\n                this.leaveCallHooks.add(registerRingingCallEventHandlers(this));\n            }\n        }));\n    }\n    /**\n     * A flag indicating whether the call is \"ringing\" type of call.\n     */ get ringing() {\n        return getCurrentValue(this.ringingSubject);\n    }\n    /**\n     * Retrieves the current user ID.\n     */ get currentUserId() {\n        return this.clientStore.connectedUser?.id;\n    }\n    /**\n     * A flag indicating whether the call was created by the current user.\n     */ get isCreatedByMe() {\n        return this.state.createdBy?.id === this.currentUserId;\n    }\n    /**\n     * Updates the preferred publishing options\n     *\n     * @internal\n     * @param options the options to use.\n     */ updatePublishOptions(options) {\n        this.publishOptions = {\n            ...this.publishOptions,\n            ...options\n        };\n    }\n}\n/**\n * StableWSConnection - A WS connection that reconnects upon failure.\n * - the browser will sometimes report that you're online or offline\n * - the WS connection can break and fail (there is a 30s health check)\n * - sometimes your WS connection will seem to work while the user is in fact offline\n * - to speed up online/offline detection you can use the window.addEventListener('offline');\n *\n * There are 4 ways in which a connection can become unhealthy:\n * - websocket.onerror is called\n * - websocket.onclose is called\n * - the health check fails and no event is received for ~40 seconds\n * - the browser indicates the connection is now offline\n *\n * There are 2 assumptions we make about the server:\n * - state can be recovered by querying the channel again\n * - if the servers fails to publish a message to the client, the WS connection is destroyed\n */ class StableWSConnection {\n    constructor(client){\n        this._log = (msg, extra = {}, level = \"info\")=>{\n            this.client.logger(level, \"connection:\" + msg, {\n                ...extra\n            });\n        };\n        this.setClient = (client)=>{\n            this.client = client;\n        };\n        /**\n         * Builds and returns the url for websocket.\n         * @private\n         * @returns url string\n         */ this._buildUrl = ()=>{\n            const params = new URLSearchParams();\n            params.set(\"api_key\", this.client.key);\n            params.set(\"stream-auth-type\", this.client.getAuthType());\n            params.set(\"X-Stream-Client\", this.client.getUserAgent());\n            return `${this.client.wsBaseURL}/connect?${params.toString()}`;\n        };\n        /**\n         * onlineStatusChanged - this function is called when the browser connects or disconnects from the internet.\n         *\n         * @param {Event} event Event with type online or offline\n         *\n         */ this.onlineStatusChanged = (event)=>{\n            if (event.type === \"offline\") {\n                // mark the connection as down\n                this._log(\"onlineStatusChanged() - Status changing to offline\");\n                // we know that the app is offline so dispatch the unhealthy connection event immediately\n                this._setHealth(false, true);\n            } else if (event.type === \"online\") {\n                // retry right now...\n                // We check this.isHealthy, not sure if it's always\n                // smart to create a new WS connection if the old one is still up and running.\n                // it's possible we didn't miss any messages, so this process is just expensive and not needed.\n                this._log(`onlineStatusChanged() - Status changing to online. isHealthy: ${this.isHealthy}`);\n                if (!this.isHealthy) {\n                    this._reconnect({\n                        interval: 10\n                    });\n                }\n            }\n        };\n        this.onopen = (wsID)=>{\n            if (this.wsID !== wsID) return;\n            const user = this.client.user;\n            if (!user) {\n                this.client.logger(\"error\", `User not set, can't connect to WS`);\n                return;\n            }\n            const token = this.client._getToken();\n            if (!token) {\n                this.client.logger(\"error\", `Token not set, can't connect authenticate`);\n                return;\n            }\n            const authMessage = {\n                token,\n                user_details: {\n                    id: user.id,\n                    name: user.name,\n                    image: user.image,\n                    custom: user.custom\n                }\n            };\n            this.ws?.send(JSON.stringify(authMessage));\n            this._log(\"onopen() - onopen callback\", {\n                wsID\n            });\n        };\n        this.onmessage = (wsID, event)=>{\n            if (this.wsID !== wsID) return;\n            this._log(\"onmessage() - onmessage callback\", {\n                event,\n                wsID\n            });\n            const data = typeof event.data === \"string\" ? JSON.parse(event.data) : null;\n            // we wait till the first message before we consider the connection open.\n            // the reason for this is that auth errors and similar errors trigger a ws.onopen and immediately\n            // after that a ws.onclose.\n            if (!this.isResolved && data && data.type === \"connection.error\") {\n                this.isResolved = true;\n                if (data.error) {\n                    this.rejectPromise?.(this._errorFromWSEvent(data, false));\n                    return;\n                }\n            }\n            // trigger the event..\n            this.lastEvent = new Date();\n            if (data && (data.type === \"health.check\" || data.type === \"connection.ok\")) {\n                // the initial health-check should come from the client\n                this.scheduleNextPing();\n            }\n            if (data && data.type === \"connection.ok\") {\n                this.resolvePromise?.(data);\n                this._setHealth(true);\n            }\n            if (data && data.type === \"connection.error\" && data.error) {\n                const { code } = data.error;\n                this.isHealthy = false;\n                this.isConnecting = false;\n                this.consecutiveFailures += 1;\n                if (code === KnownCodes.TOKEN_EXPIRED && !this.client.tokenManager.isStatic()) {\n                    clearTimeout(this.connectionCheckTimeoutRef);\n                    this._log(\"connect() - WS failure due to expired token, so going to try to reload token and reconnect\");\n                    this._reconnect({\n                        refreshToken: true\n                    });\n                }\n            }\n            if (data) {\n                data.received_at = new Date();\n                this.client.dispatchEvent(data);\n            }\n            this.scheduleConnectionCheck();\n        };\n        this.onclose = (wsID, event)=>{\n            if (this.wsID !== wsID) return;\n            this._log(\"onclose() - onclose callback - \" + event.code, {\n                event,\n                wsID\n            });\n            if (event.code === KnownCodes.WS_CLOSED_SUCCESS) {\n                // this is a permanent error raised by stream..\n                // usually caused by invalid auth details\n                const error = new Error(`WS connection reject with error ${event.reason}`);\n                // @ts-expect-error\n                error.reason = event.reason;\n                // @ts-expect-error\n                error.code = event.code;\n                // @ts-expect-error\n                error.wasClean = event.wasClean;\n                // @ts-expect-error\n                error.target = event.target;\n                this.rejectPromise?.(error);\n                this._log(`onclose() - WS connection reject with error ${event.reason}`, {\n                    event\n                });\n            } else {\n                this.consecutiveFailures += 1;\n                this.totalFailures += 1;\n                this._setHealth(false);\n                this.isConnecting = false;\n                this.rejectPromise?.(this._errorFromWSEvent(event));\n                this._log(`onclose() - WS connection closed. Calling reconnect ...`, {\n                    event\n                });\n                // reconnect if its an abnormal failure\n                this._reconnect();\n            }\n        };\n        this.onerror = (wsID, event)=>{\n            if (this.wsID !== wsID) return;\n            this.consecutiveFailures += 1;\n            this.totalFailures += 1;\n            this._setHealth(false);\n            this.isConnecting = false;\n            this.rejectPromise?.(new Error(`WebSocket error: ${event}`));\n            this._log(`onerror() - WS connection resulted into error`, {\n                event\n            });\n            this._reconnect();\n        };\n        /**\n         * _setHealth - Sets the connection to healthy or unhealthy.\n         * Broadcasts an event in case the connection status changed.\n         *\n         * @param {boolean} healthy boolean indicating if the connection is healthy or not\n         * @param {boolean} dispatchImmediately boolean indicating to dispatch event immediately even if the connection is unhealthy\n         */ this._setHealth = (healthy, dispatchImmediately = false)=>{\n            if (healthy === this.isHealthy) return;\n            this.isHealthy = healthy;\n            if (this.isHealthy || dispatchImmediately) {\n                this.client.dispatchEvent({\n                    type: \"connection.changed\",\n                    online: this.isHealthy\n                });\n                return;\n            }\n            // we're offline, wait few seconds and fire and event if still offline\n            setTimeout(()=>{\n                if (this.isHealthy) return;\n                this.client.dispatchEvent({\n                    type: \"connection.changed\",\n                    online: this.isHealthy\n                });\n            }, 5000);\n        };\n        /**\n         * _errorFromWSEvent - Creates an error object for the WS event\n         */ this._errorFromWSEvent = (event, isWSFailure = true)=>{\n            let code;\n            let statusCode;\n            let message;\n            if (isCloseEvent(event)) {\n                code = event.code;\n                message = event.reason;\n                statusCode = 0;\n            } else {\n                const { error } = event;\n                code = error.code;\n                message = error.message;\n                statusCode = error.StatusCode;\n            }\n            const msg = `WS failed with code: ${code} and reason: ${message}`;\n            this._log(msg, {\n                event\n            }, \"warn\");\n            const error = new Error(msg);\n            error.code = code;\n            /**\n             * StatusCode does not exist on any event types but has been left\n             * as is to preserve JS functionality during the TS implementation\n             */ error.StatusCode = statusCode;\n            error.isWSFailure = isWSFailure;\n            return error;\n        };\n        /**\n         * _setupPromise - sets up the this.connectOpen promise\n         */ this._setupConnectionPromise = ()=>{\n            this.isResolved = false;\n            /** a promise that is resolved once ws.open is called */ this.connectionOpenSafe = makeSafePromise(new Promise((resolve, reject)=>{\n                this.resolvePromise = resolve;\n                this.rejectPromise = reject;\n            }));\n        };\n        /**\n         * Schedules a next health check ping for websocket.\n         */ this.scheduleNextPing = ()=>{\n            const timers = getTimers();\n            if (this.healthCheckTimeoutRef) {\n                timers.clearTimeout(this.healthCheckTimeoutRef);\n            }\n            // 30 seconds is the recommended interval (messenger uses this)\n            this.healthCheckTimeoutRef = timers.setTimeout(()=>{\n                // send the healthcheck..., server replies with a health check event\n                const data = [\n                    {\n                        type: \"health.check\",\n                        client_id: this.client.clientID\n                    }\n                ];\n                // try to send on the connection\n                try {\n                    this.ws?.send(JSON.stringify(data));\n                } catch (e) {\n                // error will already be detected elsewhere\n                }\n            }, this.pingInterval);\n        };\n        /**\n         * scheduleConnectionCheck - schedules a check for time difference between last received event and now.\n         * If the difference is more than 35 seconds, it means our health check logic has failed and websocket needs\n         * to be reconnected.\n         */ this.scheduleConnectionCheck = ()=>{\n            clearTimeout(this.connectionCheckTimeoutRef);\n            this.connectionCheckTimeoutRef = setTimeout(()=>{\n                const now = new Date();\n                if (this.lastEvent && now.getTime() - this.lastEvent.getTime() > this.connectionCheckTimeout) {\n                    this._log(\"scheduleConnectionCheck - going to reconnect\");\n                    this._setHealth(false);\n                    this._reconnect();\n                }\n            }, this.connectionCheckTimeout);\n        };\n        this.client = client;\n        /** consecutive failures influence the duration of the timeout */ this.consecutiveFailures = 0;\n        /** keep track of the total number of failures */ this.totalFailures = 0;\n        /** We only make 1 attempt to reconnect at the same time.. */ this.isConnecting = false;\n        /** To avoid reconnect if client is disconnected */ this.isDisconnected = false;\n        /** Boolean that indicates if the connection promise is resolved */ this.isResolved = false;\n        /** Boolean that indicates if we have a working connection to the server */ this.isHealthy = false;\n        /** Incremented when a new WS connection is made */ this.wsID = 1;\n        /** Store the last event time for health checks */ this.lastEvent = null;\n        /** Send a health check message every 25 seconds */ this.pingInterval = 25 * 1000;\n        this.connectionCheckTimeout = this.pingInterval + 10 * 1000;\n        addConnectionEventListeners(this.onlineStatusChanged);\n    }\n    /**\n     * connect - Connect to the WS URL\n     * the default 15s timeout allows between 2~3 tries\n     * @return {ConnectAPIResponse<ConnectedEvent>} Promise that completes once the first health check message is received\n     */ async connect(timeout = 15000) {\n        if (this.isConnecting) {\n            throw Error(`You've called connect twice, can only attempt 1 connection at the time`);\n        }\n        this.isDisconnected = false;\n        try {\n            const healthCheck = await this._connect();\n            this.consecutiveFailures = 0;\n            this._log(`connect() - Established ws connection with healthcheck: ${healthCheck}`);\n        } catch (error) {\n            this.isHealthy = false;\n            this.consecutiveFailures += 1;\n            if (// @ts-ignore\n            error.code === KnownCodes.TOKEN_EXPIRED && !this.client.tokenManager.isStatic()) {\n                this._log(\"connect() - WS failure due to expired token, so going to try to reload token and reconnect\");\n                this._reconnect({\n                    refreshToken: true\n                });\n            } else {\n                // @ts-ignore\n                if (!error.isWSFailure) {\n                    // API rejected the connection and we should not retry\n                    throw new Error(JSON.stringify({\n                        // @ts-ignore\n                        code: error.code,\n                        // @ts-ignore\n                        StatusCode: error.StatusCode,\n                        // @ts-ignore\n                        message: error.message,\n                        // @ts-ignore\n                        isWSFailure: error.isWSFailure\n                    }));\n                }\n            }\n        }\n        return await this._waitForHealthy(timeout);\n    }\n    /**\n     * _waitForHealthy polls the promise connection to see if its resolved until it times out\n     * the default 15s timeout allows between 2~3 tries\n     * @param timeout duration(ms)\n     */ async _waitForHealthy(timeout = 15000) {\n        return Promise.race([\n            (async ()=>{\n                const interval = 50; // ms\n                for(let i = 0; i <= timeout; i += interval){\n                    try {\n                        return await this.connectionOpen;\n                    } catch (error) {\n                        if (i === timeout) {\n                            throw new Error(JSON.stringify({\n                                code: error.code,\n                                StatusCode: error.StatusCode,\n                                message: error.message,\n                                isWSFailure: error.isWSFailure\n                            }));\n                        }\n                        await sleep(interval);\n                    }\n                }\n            })(),\n            (async ()=>{\n                await sleep(timeout);\n                this.isConnecting = false;\n                throw new Error(JSON.stringify({\n                    code: \"\",\n                    StatusCode: \"\",\n                    message: \"initial WS connection could not be established\",\n                    isWSFailure: true\n                }));\n            })()\n        ]);\n    }\n    /**\n     * disconnect - Disconnect the connection and doesn't recover...\n     *\n     */ disconnect(timeout) {\n        this._log(`disconnect() - Closing the websocket connection for wsID ${this.wsID}`);\n        this.wsID += 1;\n        this.isConnecting = false;\n        this.isDisconnected = true;\n        // start by removing all the listeners\n        if (this.healthCheckTimeoutRef) {\n            getTimers().clearInterval(this.healthCheckTimeoutRef);\n        }\n        if (this.connectionCheckTimeoutRef) {\n            clearInterval(this.connectionCheckTimeoutRef);\n        }\n        removeConnectionEventListeners(this.onlineStatusChanged);\n        this.isHealthy = false;\n        let isClosedPromise;\n        // and finally close...\n        // Assigning to local here because we will remove it from this before the\n        // promise resolves.\n        const { ws } = this;\n        if (ws && ws.close && ws.readyState === ws.OPEN) {\n            isClosedPromise = new Promise((resolve)=>{\n                const onclose = (event)=>{\n                    this._log(`disconnect() - resolving isClosedPromise ${event ? \"with\" : \"without\"} close frame`, {\n                        event\n                    });\n                    resolve();\n                };\n                ws.onclose = onclose;\n                // In case we don't receive close frame websocket server in time,\n                // lets not wait for more than 1 second.\n                setTimeout(onclose, timeout != null ? timeout : 1000);\n            });\n            this._log(`disconnect() - Manually closed connection by calling client.disconnect()`);\n            ws.close(KnownCodes.WS_CLOSED_SUCCESS, \"Manually closed connection by calling client.disconnect()\");\n        } else {\n            this._log(`disconnect() - ws connection doesn't exist or it is already closed.`);\n            isClosedPromise = Promise.resolve();\n        }\n        delete this.ws;\n        return isClosedPromise;\n    }\n    /**\n     * _connect - Connect to the WS endpoint\n     *\n     * @return {ConnectAPIResponse<ConnectedEvent>} Promise that completes once the first health check message is received\n     */ async _connect() {\n        if (this.isConnecting) return; // simply ignore _connect if it's currently trying to connect\n        this.isConnecting = true;\n        this.requestID = randomId();\n        let isTokenReady = false;\n        try {\n            this._log(`_connect() - waiting for token`);\n            await this.client.tokenManager.tokenReady();\n            isTokenReady = true;\n        } catch (e) {\n        // token provider has failed before, so try again\n        }\n        try {\n            if (!isTokenReady) {\n                this._log(`_connect() - tokenProvider failed before, so going to retry`);\n                await this.client.tokenManager.loadToken();\n            }\n            if (!this.client.isConnectionIsPromisePending) {\n                this.client._setupConnectionIdPromise();\n            }\n            this._setupConnectionPromise();\n            const wsURL = this._buildUrl();\n            this._log(`_connect() - Connecting to ${wsURL}`, {\n                wsURL,\n                requestID: this.requestID\n            });\n            const WS = this.client.options.WebSocketImpl ?? WebSocket;\n            this.ws = new WS(wsURL);\n            this.ws.onopen = this.onopen.bind(this, this.wsID);\n            this.ws.onclose = this.onclose.bind(this, this.wsID);\n            this.ws.onerror = this.onerror.bind(this, this.wsID);\n            this.ws.onmessage = this.onmessage.bind(this, this.wsID);\n            const response = await this.connectionOpen;\n            this.isConnecting = false;\n            if (response) {\n                this.connectionID = response.connection_id;\n                this.client.resolveConnectionId?.(this.connectionID);\n                return response;\n            }\n        } catch (err) {\n            await this.client._setupConnectionIdPromise();\n            this.isConnecting = false;\n            // @ts-ignore\n            this._log(`_connect() - Error - `, err);\n            this.client.rejectConnectionId?.(err);\n            throw err;\n        }\n    }\n    /**\n     * _reconnect - Retry the connection to WS endpoint\n     *\n     * @param {{ interval?: number; refreshToken?: boolean }} options Following options are available\n     *\n     * - `interval`\t{int}\t\t\tnumber of ms that function should wait before reconnecting\n     * - `refreshToken` {boolean}\treload/refresh user token be refreshed before attempting reconnection.\n     */ async _reconnect(options = {}) {\n        this._log(\"_reconnect() - Initiating the reconnect\");\n        // only allow 1 connection at the time\n        if (this.isConnecting || this.isHealthy) {\n            this._log(\"_reconnect() - Abort (1) since already connecting or healthy\");\n            return;\n        }\n        // reconnect in case of on error or on close\n        // also reconnect if the health check cycle fails\n        let interval = options.interval;\n        if (!interval) {\n            interval = retryInterval(this.consecutiveFailures);\n        }\n        // reconnect, or try again after a little while...\n        await sleep(interval);\n        // Check once again if by some other call to _reconnect is active or connection is\n        // already restored, then no need to proceed.\n        if (this.isConnecting || this.isHealthy) {\n            this._log(\"_reconnect() - Abort (2) since already connecting or healthy\");\n            return;\n        }\n        if (this.isDisconnected) {\n            this._log(\"_reconnect() - Abort (3) since disconnect() is called\");\n            return;\n        }\n        this._log(\"_reconnect() - Destroying current WS connection\");\n        // cleanup the old connection\n        this._destroyCurrentWSConnection();\n        if (options.refreshToken) {\n            await this.client.tokenManager.loadToken();\n        }\n        try {\n            await this._connect();\n            this._log(\"_reconnect() - Waiting for recoverCallBack\");\n            // await this.client.recoverState();\n            this._log(\"_reconnect() - Finished recoverCallBack\");\n            this.consecutiveFailures = 0;\n        } catch (error) {\n            this.isHealthy = false;\n            this.consecutiveFailures += 1;\n            if (error.code === KnownCodes.TOKEN_EXPIRED && !this.client.tokenManager.isStatic()) {\n                this._log(\"_reconnect() - WS failure due to expired token, so going to try to reload token and reconnect\");\n                return this._reconnect({\n                    refreshToken: true\n                });\n            }\n            // reconnect on WS failures, don't reconnect if there is a code bug\n            if (error.isWSFailure) {\n                this._log(\"_reconnect() - WS failure, so going to try to reconnect\");\n                this._reconnect();\n            }\n        }\n        this._log(\"_reconnect() - == END ==\");\n    }\n    /**\n     * _destroyCurrentWSConnection - Removes the current WS connection\n     *\n     */ _destroyCurrentWSConnection() {\n        // increment the ID, meaning we will ignore all messages from the old\n        // ws connection from now on.\n        this.wsID += 1;\n        try {\n            this?.ws?.close();\n        } catch (e) {\n        // we don't care\n        }\n    }\n    get connectionOpen() {\n        return this.connectionOpenSafe?.();\n    }\n}\nfunction getUserFromToken(token) {\n    const fragments = token.split(\".\");\n    if (fragments.length !== 3) {\n        return \"\";\n    }\n    const b64Payload = fragments[1];\n    const payload = decodeBase64(b64Payload);\n    const data = JSON.parse(payload);\n    return data.user_id;\n}\n// base-64 decoder throws exception if encoded string is not padded by '=' to make string length\n// in multiples of 4. So gonna use our own method for this purpose to keep backwards compatibility\n// https://github.com/beatgammit/base64-js/blob/master/index.js#L26\nconst decodeBase64 = (s)=>{\n    const e = {}, w = String.fromCharCode, L = s.length;\n    let i, b = 0, c, x, l = 0, a, r = \"\";\n    const A = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\n    for(i = 0; i < 64; i++){\n        e[A.charAt(i)] = i;\n    }\n    for(x = 0; x < L; x++){\n        c = e[s.charAt(x)];\n        b = (b << 6) + c;\n        l += 6;\n        while(l >= 8){\n            ((a = b >>> (l -= 8) & 0xff) || x < L - 2) && (r += w(a));\n        }\n    }\n    return r;\n};\n/**\n * TokenManager\n *\n * Handles all the operations around user token.\n */ class TokenManager {\n    /**\n     * Constructor\n     */ constructor(secret){\n        /**\n         * Set the static string token or token provider.\n         * Token provider should return a token string or a promise which resolves to string token.\n         *\n         * @param {TokenOrProvider} tokenOrProvider - the token or token provider.\n         * @param {UserResponse} user - the user object.\n         * @param {boolean} isAnonymous - whether the user is anonymous or not.\n         */ this.setTokenOrProvider = async (tokenOrProvider, user, isAnonymous)=>{\n            this.validateToken(tokenOrProvider, user, isAnonymous);\n            this.user = user;\n            if (isFunction(tokenOrProvider)) {\n                this.tokenProvider = tokenOrProvider;\n                this.type = \"provider\";\n            }\n            if (typeof tokenOrProvider === \"string\") {\n                this.token = tokenOrProvider;\n                this.type = \"static\";\n            }\n            await this.loadToken();\n        };\n        /**\n         * Resets the token manager.\n         * Useful for client disconnection or switching user.\n         */ this.reset = ()=>{\n            this.token = undefined;\n            this.tokenProvider = undefined;\n            this.type = \"static\";\n            this.user = undefined;\n            this.loadTokenPromise = null;\n        };\n        // Validates the user token.\n        this.validateToken = (tokenOrProvider, user, isAnonymous)=>{\n            // allow empty token for anon user\n            if (user && isAnonymous && !tokenOrProvider) return;\n            // Don't allow empty token for non-server side client.\n            if (!this.secret && !tokenOrProvider) {\n                throw new Error(\"UserWithId token can not be empty\");\n            }\n            if (tokenOrProvider && typeof tokenOrProvider !== \"string\" && !isFunction(tokenOrProvider)) {\n                throw new Error(\"user token should either be a string or a function\");\n            }\n            if (typeof tokenOrProvider === \"string\") {\n                // Allow empty token for anonymous users\n                if (isAnonymous && tokenOrProvider === \"\") return;\n                const tokenUserId = getUserFromToken(tokenOrProvider);\n                if (tokenOrProvider != null && (tokenUserId == null || tokenUserId === \"\" || !isAnonymous && tokenUserId !== user.id)) {\n                    throw new Error(\"userToken does not have a user_id or is not matching with user.id\");\n                }\n            }\n        };\n        // Resolves when token is ready. This function is simply to check if loadToken is in progress, in which\n        // case a function should wait.\n        this.tokenReady = ()=>this.loadTokenPromise;\n        // Fetches a token from tokenProvider function and sets in tokenManager.\n        // In case of static token, it will simply resolve to static token.\n        this.loadToken = ()=>{\n            this.loadTokenPromise = new Promise(async (resolve, reject)=>{\n                if (this.type === \"static\") {\n                    return resolve(this.token);\n                }\n                if (this.tokenProvider && typeof this.tokenProvider !== \"string\") {\n                    try {\n                        this.token = await this.tokenProvider();\n                    } catch (e) {\n                        return reject(new Error(`Call to tokenProvider failed with message: ${e}`));\n                    }\n                    resolve(this.token);\n                }\n            });\n            return this.loadTokenPromise;\n        };\n        // Returns a current token\n        this.getToken = ()=>{\n            if (this.token) {\n                return this.token;\n            }\n            if (this.user && !this.token) {\n                return this.token;\n            }\n            throw new Error(`User token is not set. Either client.connectUser wasn't called or client.disconnect was called`);\n        };\n        this.isStatic = ()=>this.type === \"static\";\n        this.loadTokenPromise = null;\n        this.secret = secret;\n        this.type = \"static\";\n    }\n}\nconst getLocationHint = async (hintUrl = `https://hint.stream-io-video.com/`, timeout = 2000, maxAttempts = 3)=>{\n    const logger = getLogger([\n        \"location-hint\"\n    ]);\n    let attempt = 0;\n    let locationHint = \"ERR\";\n    do {\n        const abortController = new AbortController();\n        const timeoutId = setTimeout(()=>abortController.abort(), timeout);\n        try {\n            const response = await fetch(hintUrl, {\n                method: \"HEAD\",\n                signal: abortController.signal\n            });\n            const awsPop = response.headers.get(\"x-amz-cf-pop\") || \"ERR\";\n            logger(\"debug\", `Location header: ${awsPop}`);\n            locationHint = awsPop.substring(0, 3); // AMS1-P2 -> AMS\n        } catch (e) {\n            logger(\"warn\", `Failed to get location hint from ${hintUrl}`, e);\n            locationHint = \"ERR\";\n        } finally{\n            clearTimeout(timeoutId);\n        }\n    }while (locationHint === \"ERR\" && ++attempt < maxAttempts);\n    return locationHint;\n};\nclass StreamClient {\n    /**\n     * Initialize a client.\n     *\n     * @param {string} key - the api key\n     * @param {StreamClientOptions} [options] - additional options, here you can pass custom options to axios instance\n     * @param {string} [options.secret] - the api secret\n     * @param {boolean} [options.browser] - enforce the client to be in browser mode\n     * @param {boolean} [options.warmUp] - default to false, if true, client will open a connection as soon as possible to speed up following requests\n     * @param {Logger} [options.Logger] - custom logger\n     * @param {number} [options.timeout] - default to 3000\n     * @param {httpsAgent} [options.httpsAgent] - custom httpsAgent, in node it's default to https.agent()\n     */ constructor(key, options){\n        this.listeners = {};\n        this.getAuthType = ()=>{\n            return this.anonymous ? \"anonymous\" : \"jwt\";\n        };\n        this.setBaseURL = (baseURL)=>{\n            this.baseURL = baseURL;\n            this.wsBaseURL = this.baseURL.replace(\"http\", \"ws\").replace(\":3030\", \":8800\");\n        };\n        this.getLocationHint = async (hintUrl, timeout)=>{\n            const hint = await this.locationHint;\n            if (!hint || hint === \"ERR\") {\n                this.locationHint = getLocationHint(hintUrl ?? this.options.locationHintUrl, timeout ?? this.options.locationHintTimeout);\n                return this.locationHint;\n            }\n            return hint;\n        };\n        this._getConnectionID = ()=>this.wsConnection?.connectionID;\n        this._hasConnectionID = ()=>Boolean(this._getConnectionID());\n        /**\n         * connectUser - Set the current user and open a WebSocket connection\n         *\n         * @param user Data about this user. IE {name: \"john\"}\n         * @param {TokenOrProvider} userTokenOrProvider Token or provider\n         *\n         * @return {ConnectAPIResponse} Returns a promise that resolves when the connection is setup\n         */ this.connectUser = async (user, userTokenOrProvider)=>{\n            if (!user.id) {\n                throw new Error('The \"id\" field on the user is missing');\n            }\n            /**\n             * Calling connectUser multiple times is potentially the result of a  bad integration, however,\n             * If the user id remains the same we don't throw error\n             */ if (this.userID === user.id && this.setUserPromise) {\n                this.logger(\"warn\", \"Consecutive calls to connectUser is detected, ideally you should only call this function once in your app.\");\n                return this.setUserPromise;\n            }\n            if (this.userID) {\n                throw new Error(\"Use client.disconnect() before trying to connect as a different user. connectUser was called twice.\");\n            }\n            if ((this._isUsingServerAuth() || this.node) && !this.options.allowServerSideConnect) {\n                this.logger(\"warn\", \"Please do not use connectUser server side. Use our @stream-io/node-sdk instead: https://getstream.io/video/docs/api/\");\n            }\n            // we generate the client id client side\n            this.userID = user.id;\n            this.anonymous = false;\n            const setTokenPromise = this._setToken(user, userTokenOrProvider, this.anonymous);\n            this._setUser(user);\n            const wsPromise = this.openConnection();\n            this.setUserPromise = Promise.all([\n                setTokenPromise,\n                wsPromise\n            ]).then((result)=>result[1]);\n            try {\n                addConnectionEventListeners(this.updateNetworkConnectionStatus);\n                return await this.setUserPromise;\n            } catch (err) {\n                if (this.persistUserOnConnectionFailure) {\n                    // cleanup client to allow the user to retry connectUser again\n                    this.closeConnection();\n                } else {\n                    this.disconnectUser();\n                }\n                throw err;\n            }\n        };\n        this._setToken = (user, userTokenOrProvider, isAnonymous)=>this.tokenManager.setTokenOrProvider(userTokenOrProvider, user, isAnonymous);\n        this._setUser = (user)=>{\n            /**\n             * This one is used by the frontend. This is a copy of the current user object stored on backend.\n             * It contains reserved properties and own user properties which are not present in `this._user`.\n             */ this.user = user;\n            this.userID = user.id;\n            // this one is actually used for requests. This is a copy of current user provided to `connectUser` function.\n            this._user = {\n                ...user\n            };\n        };\n        /**\n         * Disconnects the websocket connection, without removing the user set on client.\n         * client.closeConnection will not trigger default auto-retry mechanism for reconnection. You need\n         * to call client.openConnection to reconnect to websocket.\n         *\n         * This is mainly useful on mobile side. You can only receive push notifications\n         * if you don't have active websocket connection.\n         * So when your app goes to background, you can call `client.closeConnection`.\n         * And when app comes back to foreground, call `client.openConnection`.\n         *\n         * @param timeout Max number of ms, to wait for close event of websocket, before forcefully assuming succesful disconnection.\n         *                https://developer.mozilla.org/en-US/docs/Web/API/CloseEvent\n         */ this.closeConnection = async (timeout)=>{\n            await this.wsConnection?.disconnect(timeout);\n        };\n        /**\n         * Creates a new WebSocket connection with the current user. Returns empty promise, if there is an active connection\n         */ this.openConnection = async ()=>{\n            if (!this.userID) {\n                throw Error(\"UserWithId is not set on client, use client.connectUser or client.connectAnonymousUser instead\");\n            }\n            const wsPromise = this.wsPromiseSafe?.();\n            if (this.wsConnection?.isConnecting && wsPromise) {\n                this.logger(\"info\", \"client:openConnection() - connection already in progress\");\n                return await wsPromise;\n            }\n            if (this.wsConnection?.isHealthy && this._hasConnectionID()) {\n                this.logger(\"info\", \"client:openConnection() - openConnection called twice, healthy connection already exists\");\n                return;\n            }\n            await this._setupConnectionIdPromise();\n            this.clientID = `${this.userID}--${randomId()}`;\n            const newWsPromise = this.connect();\n            this.wsPromiseSafe = makeSafePromise(newWsPromise);\n            return await newWsPromise;\n        };\n        /**\n         * Disconnects the websocket and removes the user from client.\n         *\n         * @param timeout Max number of ms, to wait for close event of websocket, before forcefully assuming successful disconnection.\n         *                https://developer.mozilla.org/en-US/docs/Web/API/CloseEvent\n         */ this.disconnectUser = async (timeout)=>{\n            this.logger(\"info\", \"client:disconnect() - Disconnecting the client\");\n            // remove the user specific fields\n            delete this.user;\n            delete this._user;\n            delete this.userID;\n            this.anonymous = false;\n            await this.closeConnection(timeout);\n            removeConnectionEventListeners(this.updateNetworkConnectionStatus);\n            this.tokenManager.reset();\n            this.connectionIdPromiseSafe = undefined;\n            this.rejectConnectionId = undefined;\n            this.resolveConnectionId = undefined;\n        };\n        this.connectGuestUser = async (user)=>{\n            this.guestUserCreatePromise = this.doAxiosRequest(\"post\", \"/guest\", {\n                user\n            }, {\n                publicEndpoint: true\n            });\n            const response = await this.guestUserCreatePromise;\n            this.guestUserCreatePromise.finally(()=>this.guestUserCreatePromise = undefined);\n            return this.connectUser(response.user, response.access_token);\n        };\n        /**\n         * connectAnonymousUser - Set an anonymous user and open a WebSocket connection\n         */ this.connectAnonymousUser = async (user, tokenOrProvider)=>{\n            addConnectionEventListeners(this.updateNetworkConnectionStatus);\n            await this._setupConnectionIdPromise();\n            this.anonymous = true;\n            await this._setToken(user, tokenOrProvider, this.anonymous);\n            this._setUser(user);\n            // some endpoints require a connection_id to be resolved.\n            // as anonymous users aren't allowed to open WS connections, we just\n            // resolve the connection_id here.\n            this.resolveConnectionId?.();\n        };\n        /**\n         * on - Listen to events on all channels and users your watching\n         *\n         * client.on('message.new', event => {console.log(\"my new message\", event, channel.state.messages)})\n         *\n         * @param eventName The event type to listen for (optional)\n         * @param callback The callback to call\n         *\n         * @return  Returns a function which, when called, unsubscribes the event handler.\n         */ this.on = (eventName, callback)=>{\n            if (!this.listeners[eventName]) {\n                this.listeners[eventName] = [];\n            }\n            this.logger(\"debug\", `Adding listener for ${eventName} event`);\n            this.listeners[eventName]?.push(callback);\n            return ()=>{\n                this.off(eventName, callback);\n            };\n        };\n        /**\n         * off - Remove the event handler\n         */ this.off = (eventName, callback)=>{\n            if (!this.listeners[eventName]) {\n                this.listeners[eventName] = [];\n            }\n            this.logger(\"debug\", `Removing listener for ${eventName} event`);\n            this.listeners[eventName] = this.listeners[eventName]?.filter((value)=>value !== callback);\n        };\n        /**\n         * sets up the this.connectionIdPromise\n         */ this._setupConnectionIdPromise = ()=>{\n            /** a promise that is resolved once connection id is set */ this.connectionIdPromiseSafe = makeSafePromise(new Promise((resolve, reject)=>{\n                this.resolveConnectionId = resolve;\n                this.rejectConnectionId = reject;\n            }));\n        };\n        this._logApiRequest = (type, url, data, config)=>{\n            this.logger(\"trace\", `client: ${type} - Request - ${url}`, {\n                payload: data,\n                config\n            });\n        };\n        this._logApiResponse = (type, url, response)=>{\n            this.logger(\"trace\", `client:${type} - Response - url: ${url} > status ${response.status}`, {\n                response\n            });\n        };\n        this._logApiError = (type, url, error)=>{\n            this.logger(\"error\", `client:${type} - Error - url: ${url}`, {\n                url,\n                error\n            });\n        };\n        this.doAxiosRequest = async (type, url, data, options = {})=>{\n            if (!options.publicEndpoint) {\n                await Promise.all([\n                    this.tokenManager.tokenReady(),\n                    this.guestUserCreatePromise\n                ]);\n                // we need to wait for presence of connection id before making requests\n                try {\n                    await this.connectionIdPromise;\n                } catch (e) {\n                    // in case connection id was rejected\n                    // reconnection maybe in progress\n                    // we can wait for healthy connection to resolve, which rejects when 15s timeout is reached\n                    await this.wsConnection?._waitForHealthy();\n                    await this.connectionIdPromise;\n                }\n            }\n            const requestConfig = this._enrichAxiosOptions(options);\n            try {\n                let response;\n                this._logApiRequest(type, url, data, requestConfig);\n                switch(type){\n                    case \"get\":\n                        response = await this.axiosInstance.get(url, requestConfig);\n                        break;\n                    case \"delete\":\n                        response = await this.axiosInstance.delete(url, requestConfig);\n                        break;\n                    case \"post\":\n                        response = await this.axiosInstance.post(url, data, requestConfig);\n                        break;\n                    case \"put\":\n                        response = await this.axiosInstance.put(url, data, requestConfig);\n                        break;\n                    case \"patch\":\n                        response = await this.axiosInstance.patch(url, data, requestConfig);\n                        break;\n                    case \"options\":\n                        response = await this.axiosInstance.options(url, requestConfig);\n                        break;\n                    default:\n                        throw new Error(\"Invalid request type\");\n                }\n                this._logApiResponse(type, url, response);\n                this.consecutiveFailures = 0;\n                return this.handleResponse(response);\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            } catch (e /**TODO: generalize error types  */ ) {\n                e.client_request_id = requestConfig.headers?.[\"x-client-request-id\"];\n                this.consecutiveFailures += 1;\n                if (e.response) {\n                    this._logApiError(type, url, e.response);\n                    /** connection_fallback depends on this token expiration logic */ if (e.response.data.code === KnownCodes.TOKEN_EXPIRED && !this.tokenManager.isStatic()) {\n                        if (this.consecutiveFailures > 1) {\n                            await sleep(retryInterval(this.consecutiveFailures));\n                        }\n                        await this.tokenManager.loadToken();\n                        return await this.doAxiosRequest(type, url, data, options);\n                    }\n                    return this.handleResponse(e.response);\n                } else {\n                    this._logApiError(type, url, e);\n                    // eslint-disable-next-line no-throw-literal\n                    throw e;\n                }\n            }\n        };\n        this.get = (url, params)=>{\n            return this.doAxiosRequest(\"get\", url, null, {\n                params\n            });\n        };\n        this.put = (url, data, params)=>{\n            return this.doAxiosRequest(\"put\", url, data, {\n                params\n            });\n        };\n        this.post = (url, data, params)=>{\n            return this.doAxiosRequest(\"post\", url, data, {\n                params\n            });\n        };\n        this.patch = (url, data, params)=>{\n            return this.doAxiosRequest(\"patch\", url, data, {\n                params\n            });\n        };\n        this.delete = (url, params)=>{\n            return this.doAxiosRequest(\"delete\", url, null, {\n                params\n            });\n        };\n        this.errorFromResponse = (response)=>{\n            const { data, status } = response;\n            const err = new ErrorFromResponse();\n            err.message = `Stream error code ${data.code}: ${data.message}`;\n            err.code = data.code;\n            err.unrecoverable = data.unrecoverable;\n            err.response = response;\n            err.status = status;\n            return err;\n        };\n        this.handleResponse = (response)=>{\n            const data = response.data;\n            if (isErrorResponse(response)) {\n                throw this.errorFromResponse(response);\n            }\n            return data;\n        };\n        this.dispatchEvent = (event)=>{\n            this.logger(\"debug\", `Dispatching event: ${event.type}`, event);\n            if (!this.listeners) return;\n            // call generic listeners\n            for (const listener of this.listeners.all || []){\n                listener(event);\n            }\n            // call type specific listeners\n            for (const listener of this.listeners[event.type] || []){\n                listener(event);\n            }\n        };\n        /**\n         * @private\n         */ this.connect = async ()=>{\n            if (!this.userID || !this._user) {\n                throw Error(\"Call connectUser or connectAnonymousUser before starting the connection\");\n            }\n            if (!this.wsBaseURL) throw Error(\"Websocket base url not set\");\n            if (!this.clientID) throw Error(\"clientID is not set\");\n            // The StableWSConnection handles all the reconnection logic.\n            this.wsConnection = new StableWSConnection(this);\n            this.logger(\"info\", \"StreamClient.connect: this.wsConnection.connect()\");\n            return await this.wsConnection.connect(this.defaultWSTimeout);\n        };\n        this.getUserAgent = ()=>{\n            const version = \"1.13.1\";\n            return this.userAgent || `stream-video-javascript-client-${this.node ? \"node\" : \"browser\"}-${version}`;\n        };\n        this.setUserAgent = (userAgent)=>{\n            this.userAgent = userAgent;\n        };\n        /**\n         * _isUsingServerAuth - Returns true if we're using server side auth\n         */ this._isUsingServerAuth = ()=>!!this.secret;\n        this._enrichAxiosOptions = (options = {\n            params: {},\n            headers: {},\n            config: {}\n        })=>{\n            const token = options.publicEndpoint && !this.user ? undefined : this._getToken();\n            const authorization = token ? {\n                Authorization: token\n            } : undefined;\n            if (!options.headers?.[\"x-client-request-id\"]) {\n                options.headers = {\n                    ...options.headers,\n                    \"x-client-request-id\": randomId()\n                };\n            }\n            return {\n                params: {\n                    user_id: this.userID,\n                    connection_id: this._getConnectionID(),\n                    api_key: this.key,\n                    ...options.params\n                },\n                headers: {\n                    ...authorization,\n                    \"stream-auth-type\": options.publicEndpoint && !this.user ? \"anonymous\" : this.getAuthType(),\n                    \"X-Stream-Client\": this.getUserAgent(),\n                    ...options.headers\n                },\n                ...options.config,\n                ...this.options.axiosRequestConfig\n            };\n        };\n        this._getToken = ()=>{\n            if (!this.tokenManager) return null;\n            return this.tokenManager.getToken();\n        };\n        this.updateNetworkConnectionStatus = (event)=>{\n            if (event.type === \"offline\") {\n                this.logger(\"debug\", \"device went offline\");\n                this.dispatchEvent({\n                    type: \"network.changed\",\n                    online: false\n                });\n            } else if (event.type === \"online\") {\n                this.logger(\"debug\", \"device went online\");\n                this.dispatchEvent({\n                    type: \"network.changed\",\n                    online: true\n                });\n            }\n        };\n        // set the key\n        this.key = key;\n        // set the secret\n        this.secret = options?.secret;\n        // set the options... and figure out defaults...\n        const inputOptions = options ? options : {\n            browser: \"undefined\" !== \"undefined\"\n        };\n        this.browser = inputOptions.browser || \"undefined\" !== \"undefined\";\n        this.node = !this.browser;\n        if (this.browser) {\n            this.locationHint = getLocationHint(options?.locationHintUrl, options?.locationHintTimeout, options?.locationHintMaxAttempts);\n        }\n        this.options = {\n            timeout: 5000,\n            withCredentials: false,\n            ...inputOptions\n        };\n        if (this.node && !this.options.httpsAgent) {\n            this.options.httpsAgent = new (https__WEBPACK_IMPORTED_MODULE_4___default().Agent)({\n                keepAlive: true,\n                keepAliveMsecs: 3000\n            });\n        }\n        this.setBaseURL(this.options.baseURL || \"https://video.stream-io-api.com/video\");\n        this.axiosInstance = axios__WEBPACK_IMPORTED_MODULE_30__[\"default\"].create({\n            ...this.options,\n            baseURL: this.baseURL\n        });\n        // WS connection is initialized when setUser is called\n        this.wsConnection = null;\n        this.wsPromiseSafe = null;\n        this.setUserPromise = null;\n        // mapping between channel groups and configs\n        this.anonymous = false;\n        this.persistUserOnConnectionFailure = this.options?.persistUserOnConnectionFailure;\n        // If it is a server-side client, then lets initialize the tokenManager, since token will be\n        // generated from secret.\n        this.tokenManager = new TokenManager(this.secret);\n        this.consecutiveFailures = 0;\n        this.defaultWSTimeout = 15000;\n        this.logger = isFunction(inputOptions.logger) ? inputOptions.logger : ()=>null;\n    }\n    get connectionIdPromise() {\n        return this.connectionIdPromiseSafe?.();\n    }\n    get isConnectionIsPromisePending() {\n        return this.connectionIdPromiseSafe?.checkPending() ?? false;\n    }\n    get wsPromise() {\n        return this.wsPromiseSafe?.();\n    }\n}\n/**\n * A `StreamVideoClient` instance lets you communicate with our API, and authenticate users.\n */ class StreamVideoClient {\n    constructor(apiKeyOrArgs, opts){\n        this.logLevel = \"warn\";\n        this.eventHandlersToUnregister = [];\n        this.connectionConcurrencyTag = Symbol(\"connectionConcurrencyTag\");\n        /**\n         * Connects the given user to the client.\n         * Only one user can connect at a time, if you want to change users, call `disconnectUser` before connecting a new user.\n         * If the connection is successful, the connected user [state variable](#readonlystatestore) will be updated accordingly.\n         *\n         * @param user the user to connect.\n         * @param token a token or a function that returns a token.\n         */ this.connectUser = async (user, token)=>{\n            if (user.type === \"anonymous\") {\n                user.id = \"!anon\";\n                return this.connectAnonymousUser(user, token);\n            }\n            let connectUser = ()=>{\n                return this.streamClient.connectUser(user, token);\n            };\n            if (user.type === \"guest\") {\n                connectUser = async ()=>{\n                    return this.streamClient.connectGuestUser(user);\n                };\n            }\n            const connectUserResponse = await withoutConcurrency(this.connectionConcurrencyTag, ()=>connectUser());\n            // connectUserResponse will be void if connectUser called twice for the same user\n            if (connectUserResponse?.me) {\n                this.writeableStateStore.setConnectedUser(connectUserResponse.me);\n            }\n            this.eventHandlersToUnregister.push(this.on(\"connection.changed\", (event)=>{\n                if (event.online) {\n                    const callsToReWatch = this.writeableStateStore.calls.filter((call)=>call.watching).map((call)=>call.cid);\n                    this.logger(\"info\", `Rewatching calls after connection changed ${callsToReWatch.join(\", \")}`);\n                    if (callsToReWatch.length > 0) {\n                        this.queryCalls({\n                            watch: true,\n                            filter_conditions: {\n                                cid: {\n                                    $in: callsToReWatch\n                                }\n                            },\n                            sort: [\n                                {\n                                    field: \"cid\",\n                                    direction: 1\n                                }\n                            ]\n                        }).catch((err)=>{\n                            this.logger(\"error\", \"Failed to re-watch calls\", err);\n                        });\n                    }\n                }\n            }));\n            this.eventHandlersToUnregister.push(this.on(\"call.created\", (event)=>{\n                const { call, members } = event;\n                if (user.id === call.created_by.id) {\n                    this.logger(\"warn\", \"Received `call.created` sent by the current user\");\n                    return;\n                }\n                this.logger(\"info\", `New call created and registered: ${call.cid}`);\n                const newCall = new Call({\n                    streamClient: this.streamClient,\n                    type: call.type,\n                    id: call.id,\n                    members,\n                    clientStore: this.writeableStateStore\n                });\n                newCall.state.updateFromCallResponse(call);\n                this.writeableStateStore.registerCall(newCall);\n            }));\n            this.eventHandlersToUnregister.push(this.on(\"call.ring\", async (event)=>{\n                const { call, members } = event;\n                if (user.id === call.created_by.id) {\n                    this.logger(\"debug\", \"Received `call.ring` sent by the current user so ignoring the event\");\n                    return;\n                }\n                // if `call.created` was received before `call.ring`.\n                // the client already has the call instance and we just need to update the state\n                const theCall = this.writeableStateStore.findCall(call.type, call.id);\n                if (theCall) {\n                    await theCall.updateFromRingingEvent(event);\n                } else {\n                    // if client doesn't have the call instance, create the instance and fetch the latest state\n                    // Note: related - we also have onRingingCall method to handle this case from push notifications\n                    const newCallInstance = new Call({\n                        streamClient: this.streamClient,\n                        type: call.type,\n                        id: call.id,\n                        members,\n                        clientStore: this.writeableStateStore,\n                        ringing: true\n                    });\n                    await newCallInstance.get();\n                }\n            }));\n            return connectUserResponse;\n        };\n        /**\n         * Disconnects the currently connected user from the client.\n         *\n         * If the connection is successfully disconnected, the connected user [state variable](#readonlystatestore) will be updated accordingly\n         *\n         * @param timeout Max number of ms, to wait for close event of websocket, before forcefully assuming successful disconnection.\n         *                https://developer.mozilla.org/en-US/docs/Web/API/CloseEvent\n         */ this.disconnectUser = async (timeout)=>{\n            if (!this.streamClient.user) {\n                return;\n            }\n            const userId = this.streamClient.user?.id;\n            const apiKey = this.streamClient.key;\n            const disconnectUser = ()=>this.streamClient.disconnectUser(timeout);\n            await withoutConcurrency(this.connectionConcurrencyTag, ()=>disconnectUser());\n            if (userId) {\n                StreamVideoClient._instanceMap.delete(apiKey + userId);\n            }\n            this.eventHandlersToUnregister.forEach((unregister)=>unregister());\n            this.eventHandlersToUnregister = [];\n            this.writeableStateStore.setConnectedUser(undefined);\n        };\n        /**\n         * You can subscribe to WebSocket events provided by the API.\n         * To remove a subscription, call the `off` method or, execute the returned unsubscribe function.\n         * Please note that subscribing to WebSocket events is an advanced use-case, for most use-cases it should be enough to watch for changes in the reactive [state store](#readonlystatestore).\n         *\n         * @param eventName the event name or 'all'.\n         * @param callback the callback which will be called when the event is emitted.\n         * @returns an unsubscribe function.\n         */ this.on = (eventName, callback)=>{\n            return this.streamClient.on(eventName, callback);\n        };\n        /**\n         * Remove subscription for WebSocket events that were created by the `on` method.\n         *\n         * @param eventName the event name.\n         * @param callback the callback which was passed to the `on` method.\n         */ this.off = (eventName, callback)=>{\n            return this.streamClient.off(eventName, callback);\n        };\n        /**\n         * Creates a new call.\n         *\n         * @param type the type of the call.\n         * @param id the id of the call.\n         */ this.call = (type, id)=>{\n            return new Call({\n                streamClient: this.streamClient,\n                id: id,\n                type: type,\n                clientStore: this.writeableStateStore\n            });\n        };\n        /**\n         * Creates a new guest user with the given data.\n         *\n         * @param data the data for the guest user.\n         */ this.createGuestUser = async (data)=>{\n            return this.streamClient.doAxiosRequest(\"post\", \"/guest\", data, {\n                publicEndpoint: true\n            });\n        };\n        /**\n         * Will query the API for calls matching the given filters.\n         *\n         * @param data the query data.\n         */ this.queryCalls = async (data = {})=>{\n            const response = await this.streamClient.post(\"/calls\", data);\n            const calls = [];\n            for (const c of response.calls){\n                const call = new Call({\n                    streamClient: this.streamClient,\n                    id: c.call.id,\n                    type: c.call.type,\n                    members: c.members,\n                    ownCapabilities: c.own_capabilities,\n                    watching: data.watch,\n                    clientStore: this.writeableStateStore\n                });\n                call.state.updateFromCallResponse(c.call);\n                await call.applyDeviceConfig(false);\n                if (data.watch) {\n                    this.writeableStateStore.registerCall(call);\n                }\n                calls.push(call);\n            }\n            return {\n                ...response,\n                calls: calls\n            };\n        };\n        /**\n         * Retrieve the list of available call statistics reports matching a particular condition.\n         *\n         * @param data Filter and sort conditions for retrieving available call report summaries.\n         * @returns List with summary of available call reports matching the condition.\n         */ this.queryCallStats = async (data = {})=>{\n            return this.streamClient.post(`/call/stats`, data);\n        };\n        /**\n         * Retrieve the list of available reports aggregated from the call stats.\n         *\n         * @param data Specify filter conditions like from and to (within last 30 days) and the report types\n         * @returns Requested reports with (mostly) raw daily data for each report type requested\n         */ this.queryAggregateCallStats = async (data = {})=>{\n            return this.streamClient.post(`/stats`, data);\n        };\n        /**\n         * Returns a list of available data centers available for hosting calls.\n         */ this.edges = async ()=>{\n            return this.streamClient.get(`/edges`);\n        };\n        /**\n         * addDevice - Adds a push device for a user.\n         *\n         * @param {string} id the device id\n         * @param {string} push_provider the push provider name (eg. apn, firebase)\n         * @param {string} push_provider_name user provided push provider name\n         * @param {string} [userID] the user id (defaults to current user)\n         * @param {boolean} [voip_token] enables use of VoIP token for push notifications on iOS platform\n         */ this.addDevice = async (id, push_provider, push_provider_name, userID, voip_token)=>{\n            return await this.streamClient.post(\"/devices\", {\n                id,\n                push_provider,\n                voip_token,\n                ...userID != null ? {\n                    user_id: userID\n                } : {},\n                ...push_provider_name != null ? {\n                    push_provider_name\n                } : {}\n            });\n        };\n        /**\n         * addDevice - Adds a push device for a user.\n         *\n         * @param {string} id the device id\n         * @param {string} push_provider the push provider name (eg. apn, firebase)\n         * @param {string} push_provider_name user provided push provider name\n         * @param {string} [userID] the user id (defaults to current user)\n         */ this.addVoipDevice = async (id, push_provider, push_provider_name, userID)=>{\n            return await this.addDevice(id, push_provider, push_provider_name, userID, true);\n        };\n        /**\n         * getDevices - Returns the devices associated with a current user\n         * @param {string} [userID] User ID. Only works on serverside\n         */ this.getDevices = async (userID)=>{\n            return await this.streamClient.get(\"/devices\", userID ? {\n                user_id: userID\n            } : {});\n        };\n        /**\n         * removeDevice - Removes the device with the given id.\n         *\n         * @param {string} id The device id\n         * @param {string} [userID] The user id. Only specify this for serverside requests\n         */ this.removeDevice = async (id, userID)=>{\n            return await this.streamClient.delete(\"/devices\", {\n                id,\n                ...userID ? {\n                    user_id: userID\n                } : {}\n            });\n        };\n        /**\n         * A callback that can be used to create ringing calls from push notifications. If the call already exists, it will do nothing.\n         * @param call_cid\n         * @returns\n         */ this.onRingingCall = async (call_cid)=>{\n            // if we find the call and is already ringing, we don't need to create a new call\n            // as client would have received the call.ring state because the app had WS alive when receiving push notifications\n            let call = this.state.calls.find((c)=>c.cid === call_cid && c.ringing);\n            if (!call) {\n                // if not it means that WS is not alive when receiving the push notifications and we need to fetch the call\n                const [callType, callId] = call_cid.split(\":\");\n                call = new Call({\n                    streamClient: this.streamClient,\n                    type: callType,\n                    id: callId,\n                    clientStore: this.writeableStateStore,\n                    ringing: true\n                });\n                await call.get();\n            }\n            return call;\n        };\n        /**\n         * Connects the given anonymous user to the client.\n         *\n         * @param user the user to connect.\n         * @param tokenOrProvider a token or a function that returns a token.\n         */ this.connectAnonymousUser = async (user, tokenOrProvider)=>{\n            const connectAnonymousUser = ()=>this.streamClient.connectAnonymousUser(user, tokenOrProvider);\n            return await withoutConcurrency(this.connectionConcurrencyTag, ()=>connectAnonymousUser());\n        };\n        let logger = logToConsole;\n        let logLevel = \"warn\";\n        if (typeof apiKeyOrArgs === \"string\") {\n            logLevel = opts?.logLevel || logLevel;\n            logger = opts?.logger || logger;\n            if (opts?.enableTimerWorker) enableTimerWorker();\n        } else {\n            logLevel = apiKeyOrArgs.options?.logLevel || logLevel;\n            logger = apiKeyOrArgs.options?.logger || logger;\n            if (apiKeyOrArgs.options?.enableTimerWorker) enableTimerWorker();\n        }\n        setLogger(logger, logLevel);\n        this.logger = getLogger([\n            \"client\"\n        ]);\n        const coordinatorLogger = getLogger([\n            \"coordinator\"\n        ]);\n        if (typeof apiKeyOrArgs === \"string\") {\n            this.streamClient = new StreamClient(apiKeyOrArgs, {\n                persistUserOnConnectionFailure: true,\n                ...opts,\n                logLevel,\n                logger: coordinatorLogger\n            });\n        } else {\n            this.streamClient = new StreamClient(apiKeyOrArgs.apiKey, {\n                persistUserOnConnectionFailure: true,\n                ...apiKeyOrArgs.options,\n                logLevel,\n                logger: coordinatorLogger\n            });\n            const sdkInfo = getSdkInfo();\n            if (sdkInfo) {\n                const sdkName = SdkType[sdkInfo.type].toLowerCase();\n                const sdkVersion = `${sdkInfo.major}.${sdkInfo.minor}.${sdkInfo.patch}`;\n                const userAgent = this.streamClient.getUserAgent();\n                this.streamClient.setUserAgent(`${userAgent}-video-${sdkName}-sdk-${sdkVersion}`);\n            }\n        }\n        this.writeableStateStore = new StreamVideoWriteableStateStore();\n        this.readOnlyStateStore = new StreamVideoReadOnlyStateStore(this.writeableStateStore);\n        if (typeof apiKeyOrArgs !== \"string\") {\n            const user = apiKeyOrArgs.user;\n            const token = apiKeyOrArgs.token || apiKeyOrArgs.tokenProvider;\n            if (user) {\n                let id = user.id;\n                if (user.type === \"anonymous\") {\n                    id = \"!anon\";\n                }\n                if (id) {\n                    if (StreamVideoClient._instanceMap.has(apiKeyOrArgs.apiKey + id)) {\n                        this.logger(\"warn\", `A StreamVideoClient already exists for ${user.type === \"anonymous\" ? \"an anonymous user\" : id}; Prefer using getOrCreateInstance method`);\n                    }\n                    user.id = id;\n                    StreamVideoClient._instanceMap.set(apiKeyOrArgs.apiKey + id, this);\n                }\n                this.connectUser(user, token).catch((err)=>{\n                    this.logger(\"error\", \"Failed to connect\", err);\n                });\n            }\n        }\n    }\n    static getOrCreateInstance(args) {\n        const user = args.user;\n        if (!user.id) {\n            if (args.user.type === \"anonymous\") {\n                user.id = \"!anon\";\n            } else {\n                throw new Error(\"User ID is required for a non-anonymous user\");\n            }\n        }\n        if (!args.token && !args.tokenProvider) {\n            if (args.user.type !== \"anonymous\" && args.user.type !== \"guest\") {\n                throw new Error(\"TokenProvider or token is required for a user that is not a guest or anonymous\");\n            }\n        }\n        let instance = StreamVideoClient._instanceMap.get(args.apiKey + user.id);\n        if (!instance) {\n            instance = new StreamVideoClient({\n                ...args,\n                user\n            });\n        }\n        return instance;\n    }\n    /**\n     * Return the reactive state store, use this if you want to be notified about changes to the client state\n     */ get state() {\n        return this.readOnlyStateStore;\n    }\n}\nStreamVideoClient._instanceMap = new Map();\n //# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BzdHJlYW0taW8vdmlkZW8tY2xpZW50L2Rpc3QvaW5kZXguZXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLHFCQUNBLHFCQW9IQTs7Q0FFRyxHQUNVLE1BQUFBLHdDQUF3QztJQUNuREMsU0FBUztJQUNUQyxVQUFVOztBQXVEWjs7Q0FFRyxHQUNVLE1BQUFDLHlDQUF5QztJQUNwREYsU0FBUztJQUNUQyxVQUFVOztBQStEWjs7Q0FFRyxHQUNVLE1BQUFFLCtCQUErQjtJQUMxQ0MsTUFBTTtJQUNOQyxPQUFPO0lBQ1BDLGNBQWM7O0FBa25FaEI7O0NBRUcsR0FDVSxNQUFBQyxtQ0FBbUM7SUFDOUNDLFVBQVU7SUFDVkMsUUFBUTtJQUNSQyxJQUFJOztBQUtOOztDQUVHLEdBQ1UsTUFBQUMsMkNBQTJDO0lBQ3REUCxNQUFNO0lBQ05DLE9BQU87SUFDUEMsY0FBYzs7QUFLaEI7O0NBRUcsR0FDVSxNQUFBTSw2Q0FBNkM7SUFDeERSLE1BQU07SUFDTkMsT0FBTztJQUNQQyxjQUFjOztBQWtsQmhCOztDQUVHLEdBQ1UsTUFBQU8sc0NBQXNDO0lBQ2pEQyxVQUFVO0lBQ1ZDLEtBQUs7SUFDTEMsUUFBUTtJQUNSQyxRQUFROztBQTZ4Q1Y7O0NBRUcsR0FDVSxNQUFBQyxvQ0FBb0M7SUFDL0NDLFdBQVc7SUFDWFgsVUFBVTtJQUNWWSxTQUFTOztBQTRDWDs7O0NBR0csR0FDVSxNQUFBQyxnQkFBZ0I7SUFDM0JDLGFBQWE7SUFDYkMscUJBQXFCO0lBQ3JCQyxhQUFhO0lBQ2JDLGlCQUFpQjtJQUNqQkMsMkJBQTJCO0lBQzNCQyxVQUFVO0lBQ1ZDLGdCQUFnQjtJQUNoQkMsV0FB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QTtJQUNBOztLQUVHLEdBQ0hBLFNBQUEsQ0FBQUEsU0FBQTtJQUNBOztLQUVHLEdBQ0hBLFNBQUEsQ0FBQUEsU0FBQTtJQUNBOztLQUVHLEdBQ0hBLFNBQUEsQ0FBQUEsU0FBQTtJQUNBOztLQUVHLEdBQ0hBLFNBQUEsQ0FBQUEsU0FBQTtJQUNBOztLQUVHLEdBQ0hBLFNBQUEsQ0FBQUEsU0FBQTtJQUNBOztLQUVHLEdBQ0hBLFNBQUEsQ0FBQUEsU0FBQTtJQUNBOztLQUVHLEdBQ0hBLFNBQUEsQ0FBQUEsU0FBQTtJQUNBOztLQUVHLEdBQ0hBLFNBQUEsQ0FBQUEsU0FBQTtJQUNBOztLQUVHLEdBQ0hBLFNBQUEsQ0FBQUEsU0FBQTtJQUNBOztLQUVHLEdBQ0hBLFNBQUEsQ0FBQUEsU0FBQTtJQUNBOztLQUVHLEdBQ0hBLFNBQUEsQ0FBQUEsU0FBQTtJQUNBOztLQUVHLEdBQ0hBLFNBQUEsQ0FBQUEsU0FBQTtJQUNBOztLQUVHLEdBQ0hBLFNBQUEsQ0FBQUEsU0FBQTtJQUNBOztLQUVHLEdBQ0hBLFNBQUEsQ0FBQUEsU0FBQTtJQUNBOztLQUVHLEdBQ0hBLFNBQUEsQ0FBQUEsU0FBQTtJQUNBOztLQUVHLEdBQ0hBLFNBQUEsQ0FBQUEsU0FBQTtJQUNBOztLQUVHLEdBQ0hBLFNBQUEsQ0FBQUEsU0FBQTtJQUNBOztLQUVHLEdBQ0hBLFNBQUEsQ0FBQUEsU0FBQTtBQUNGLEdBakZZQSxhQUFBQSxDQUFBQSxZQWlGWDtBQUNEOztDQUVHLEdBQ0gsSUFBWUM7QUFBWixVQUFZQSxPQUFPO0lBQ2pCOztLQUVHLEdBQ0hBLE9BQUEsQ0FBQUEsT0FBQTtJQUNBOztLQUVHLEdBQ0hBLE9BQUEsQ0FBQUEsT0FBQTtJQUNBOztLQUVHLEdBQ0hBLE9BQUEsQ0FBQUEsT0FBQTtJQUNBOztLQUVHLEdBQ0hBLE9BQUEsQ0FBQUEsT0FBQTtJQUNBOztLQUVHLEdBQ0hBLE9BQUEsQ0FBQUEsT0FBQTtJQUNBOztLQUVHLEdBQ0hBLE9BQUEsQ0FBQUEsT0FBQTtJQUNBOztLQUVHLEdBQ0hBLE9BQUEsQ0FBQUEsT0FBQTtJQUNB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LENBQUMwNEMsYUFBYWUsTUFBTSxHQUFHbjNDLElBQUksSUFBSTs7Z0JBRW5FLElBQUksQ0FBQ2l6QyxXQUFXLENBQUN6ekMsTUFBTWdpQixPQUFPbmhCLEtBQUssQ0FBQyxDQUFDdlM7b0JBQ25DLElBQUksQ0FBQ3ZGLE1BQU0sQ0FBQyxTQUFTLHFCQUFxQnVGO2dCQUM1Qzs7OztJQUtDLE9BQU9xcUQsb0JBQW9CMXJELElBTWpDO1FBQ0MsTUFBTStTLE9BQU8vUyxLQUFLK1MsSUFBSTtRQUN0QixJQUFJLENBQUNBLEtBQUtRLEVBQUUsRUFBRTtZQUNaLElBQUl2VCxLQUFLK1MsSUFBSSxDQUFDM1EsSUFBSSxLQUFLLGFBQWE7Z0JBQ2xDMlEsS0FBS1EsRUFBRSxHQUFHO21CQUNMO2dCQUNMLE1BQU0sSUFBSTNwQixNQUFNOzs7UUFHcEIsSUFBSSxDQUFDb1csS0FBSyswQixLQUFLLElBQUksQ0FBQy8wQixLQUFLc2xELGFBQWEsRUFBRTtZQUN0QyxJQUFJdGxELEtBQUsrUyxJQUFJLENBQUMzUSxJQUFJLEtBQUssZUFBZXBDLEtBQUsrUyxJQUFJLENBQUMzUSxJQUFJLEtBQUssU0FBUztnQkFDaEUsTUFBTSxJQUFJeFksTUFDUjs7O1FBSU4sSUFBSXdvQyxXQUFXczNCLGtCQUFrQmlCLFlBQVksQ0FBQ2w2QyxHQUFHLENBQUN6USxLQUFLMHFELE1BQU0sR0FBRzMzQyxLQUFLUSxFQUFFO1FBQ3ZFLElBQUksQ0FBQzZlLFVBQVU7WUFDYkEsV0FBVyxJQUFJczNCLGtCQUFrQjtnQkFBRSxHQUFHMXBELElBQUk7Z0JBQUUrUztZQUFJOztRQUVsRCxPQUFPcWY7O0lBR1Q7O0tBRUcsR0FDSCxJQUFJanZCLFFBQUs7UUFDUCxPQUFPLElBQUksQ0FBQ3NvRCxrQkFBa0I7OztBQWxJakIvQixrQkFBQWlCLFlBQVksR0FBbUMsSUFBSXI2QyIsInNvdXJjZXMiOlsid2VicGFjazovL0BoZWxzYS9hcHAvLi4vLi4vc3JjL2dlbi9jb29yZGluYXRvci9pbmRleC50cz83Y2VhIiwid2VicGFjazovL0BoZWxzYS9hcHAvLi4vLi4vc3JjL2Nvb3JkaW5hdG9yL2Nvbm5lY3Rpb24vdHlwZXMudHM/N2MyNyIsIndlYnBhY2s6Ly9AaGVsc2EvYXBwLy4uLy4uL3NyYy9nZW4vZ29vZ2xlL3Byb3RvYnVmL3N0cnVjdC50cz9kZjY3Iiwid2VicGFjazovL0BoZWxzYS9hcHAvLi4vLi4vc3JjL2dlbi9nb29nbGUvcHJvdG9idWYvdGltZXN0YW1wLnRzPzJlMWMiLCJ3ZWJwYWNrOi8vQGhlbHNhL2FwcC8uLi8uLi9zcmMvZ2VuL3ZpZGVvL3NmdS9tb2RlbHMvbW9kZWxzLnRzPzJkZGUiLCJ3ZWJwYWNrOi8vQGhlbHNhL2FwcC8uLi8uLi9zcmMvZ2VuL3ZpZGVvL3NmdS9zaWduYWxfcnBjL3NpZ25hbC50cz9jYzk2Iiwid2VicGFjazovL0BoZWxzYS9hcHAvLi4vLi4vc3JjL2dlbi92aWRlby9zZnUvZXZlbnQvZXZlbnRzLnRzPzdjN2EiLCJ3ZWJwYWNrOi8vQGhlbHNhL2FwcC8uLi8uLi9zcmMvdHlwZXMudHM/NDc5ZCIsIndlYnBhY2s6Ly9AaGVsc2EvYXBwLy4uLy4uL3NyYy9nZW4vdmlkZW8vc2Z1L3NpZ25hbF9ycGMvc2lnbmFsLmNsaWVudC50cz9hZmVkIiwid2VicGFjazovL0BoZWxzYS9hcHAvLi4vLi4vc3JjL3JwYy9jcmVhdGVDbGllbnQudHM/YzZhOCIsIndlYnBhY2s6Ly9AaGVsc2EvYXBwLy4uLy4uL3NyYy9jb29yZGluYXRvci9jb25uZWN0aW9uL3V0aWxzLnRzPzY4NjYiLCJ3ZWJwYWNrOi8vQGhlbHNhL2FwcC8uLi8uLi9zcmMvaGVscGVycy9wbGF0Zm9ybXMudHM/M2QzMCIsIndlYnBhY2s6Ly9AaGVsc2EvYXBwLy4uLy4uL3NyYy9sb2dnZXIudHM/ODc0NiIsIndlYnBhY2s6Ly9AaGVsc2EvYXBwLy4uLy4uL3NyYy9ycGMvcmV0cnlhYmxlLnRzPzZkM2MiLCJ3ZWJwYWNrOi8vQGhlbHNhL2FwcC8uLi8uLi9zcmMvY2xpZW50LWRldGFpbHMudHM/Mzc4ZSIsIndlYnBhY2s6Ly9AaGVsc2EvYXBwLy4uLy4uL3NyYy9oZWxwZXJzL2Jyb3dzZXJzLnRzP2E4NDYiLCJ3ZWJwYWNrOi8vQGhlbHNhL2FwcC8uLi8uLi9zcmMvcnRjL2NvZGVjcy50cz9kZWI1Iiwid2VicGFjazovL0BoZWxzYS9hcHAvLi4vLi4vc3JjL3J0Yy9EaXNwYXRjaGVyLnRzP2QwMWUiLCJ3ZWJwYWNrOi8vQGhlbHNhL2FwcC8uLi8uLi9zcmMvcnRjL0ljZVRyaWNrbGVCdWZmZXIudHM/ZmY2ZSIsIndlYnBhY2s6Ly9AaGVsc2EvYXBwLy4uLy4uL3NyYy9ydGMvaGVscGVycy9pY2VDYW5kaWRhdGUudHM/MTFiMyIsIndlYnBhY2s6Ly9AaGVsc2EvYXBwLy4uLy4uL3NyYy9ydGMvYml0cmF0ZUxvb2t1cC50cz9lMjlmIiwid2VicGFjazovL0BoZWxzYS9hcHAvLi4vLi4vc3JjL3J0Yy92aWRlb0xheWVycy50cz9iYjcwIiwid2VicGFjazovL0BoZWxzYS9hcHAvLi4vLi4vc3JjL2hlbHBlcnMvZW5zdXJlRXhoYXVzdGVkLnRzP2Y0ZDEiLCJ3ZWJwYWNrOi8vQGhlbHNhL2FwcC8uLi8uLi9zcmMvcnRjL2hlbHBlcnMvdHJhY2tzLnRzP2U2OTgiLCJ3ZWJwYWNrOi8vQGhlbHNhL2FwcC8uLi8uLi9zcmMvaGVscGVycy9jb25jdXJyZW5jeS50cz9kZTFkIiwid2VicGFjazovL0BoZWxzYS9hcHAvLi4vLi4vc3JjL3N0b3JlL3J4VXRpbHMudHM/Nzk0MSIsIndlYnBhY2s6Ly9AaGVsc2EvYXBwLy4uLy4uL3NyYy9zdG9yZS9DYWxsaW5nU3RhdGUudHM/Y2EyMyIsIndlYnBhY2s6Ly9AaGVsc2EvYXBwLy4uLy4uL3NyYy9zdG9yZS9zdGF0ZVN0b3JlLnRzPzAxOGEiLCJ3ZWJwYWNrOi8vQGhlbHNhL2FwcC8uLi8uLi9zcmMvc29ydGluZy9jb21wYXJhdG9yLnRzPzhhNzIiLCJ3ZWJwYWNrOi8vQGhlbHNhL2FwcC8uLi8uLi9zcmMvaGVscGVycy9wYXJ0aWNpcGFudFV0aWxzLnRzPzg5ODgiLCJ3ZWJwYWNrOi8vQGhlbHNhL2FwcC8uLi8uLi9zcmMvc29ydGluZy9wYXJ0aWNpcGFudHMudHM/NTg1YiIsIndlYnBhY2s6Ly9AaGVsc2EvYXBwLy4uLy4uL3NyYy9zb3J0aW5nL3ByZXNldHMudHM/YmM0OCIsIndlYnBhY2s6Ly9AaGVsc2EvYXBwLy4uLy4uL3NyYy9zdG9yZS9DYWxsU3RhdGUudHM/NTdiOCIsIndlYnBhY2s6Ly9AaGVsc2EvYXBwLy4uLy4uL3NyYy9oZWxwZXJzL3NkcC1tdW5naW5nLnRzP2ZkY2YiLCJ3ZWJwYWNrOi8vQGhlbHNhL2FwcC8uLi8uLi9zcmMvcnRjL1B1Ymxpc2hlci50cz80MGJkIiwid2VicGFjazovL0BoZWxzYS9hcHAvLi4vLi4vc3JjL3J0Yy9TdWJzY3JpYmVyLnRzPzY4ZDMiLCJ3ZWJwYWNrOi8vQGhlbHNhL2FwcC8uLi8uLi9zcmMvcnRjL3NpZ25hbC50cz9kNzFiIiwid2VicGFjazovL0BoZWxzYS9hcHAvLi4vLi4vc3JjL2hlbHBlcnMvcHJvbWlzZS50cz8wMGQ5Iiwid2VicGFjazovL0BoZWxzYS9hcHAvLi4vLi4vc3JjL2hlbHBlcnMvbGF6eS50cz9hM2E0Iiwid2VicGFjazovL0BoZWxzYS9hcHAvLi4vLi4vc3JjL3RpbWVycy93b3JrZXIuYnVpbGQudHM/NTk3ZCIsIndlYnBhY2s6Ly9AaGVsc2EvYXBwLy4uLy4uL3NyYy90aW1lcnMvaW5kZXgudHM/OTI3YSIsIndlYnBhY2s6Ly9AaGVsc2EvYXBwLy4uLy4uL3NyYy9TdHJlYW1TZnVDbGllbnQudHM/NWQyMyIsIndlYnBhY2s6Ly9AaGVsc2EvYXBwLy4uLy4uL3NyYy9ydGMvaGVscGVycy9ydGNDb25maWd1cmF0aW9uLnRzP2RhYTciLCJ3ZWJwYWNrOi8vQGhlbHNhL2FwcC8uLi8uLi9zcmMvZXZlbnRzL2NhbGwudHM/NzRmMyIsIndlYnBhY2s6Ly9AaGVsc2EvYXBwLy4uLy4uL3NyYy9ldmVudHMvY2FsbC1wZXJtaXNzaW9ucy50cz85OWYwIiwid2VicGFjazovL0BoZWxzYS9hcHAvLi4vLi4vc3JjL2V2ZW50cy9pbnRlcm5hbC50cz9hZTdiIiwid2VicGFjazovL0BoZWxzYS9hcHAvLi4vLi4vc3JjL2V2ZW50cy9tdXRlcy50cz8yMDhmIiwid2VicGFjazovL0BoZWxzYS9hcHAvLi4vLi4vc3JjL2V2ZW50cy9wYXJ0aWNpcGFudC50cz85ZjVjIiwid2VicGFjazovL0BoZWxzYS9hcHAvLi4vLi4vc3JjL2V2ZW50cy9zcGVha2VyLnRzPzY2MDMiLCJ3ZWJwYWNrOi8vQGhlbHNhL2FwcC8uLi8uLi9zcmMvZXZlbnRzL2NhbGxFdmVudEhhbmRsZXJzLnRzPzI1OWIiLCJ3ZWJwYWNrOi8vQGhlbHNhL2FwcC8uLi8uLi9zcmMvc3RhdHMvdXRpbHMudHM/NDA3ZSIsIndlYnBhY2s6Ly9AaGVsc2EvYXBwLy4uLy4uL3NyYy9zdGF0cy9zdGF0ZVN0b3JlU3RhdHNSZXBvcnRlci50cz9mM2EwIiwid2VicGFjazovL0BoZWxzYS9hcHAvLi4vLi4vc3JjL3N0YXRzL1NmdVN0YXRzUmVwb3J0ZXIudHM/MjFjNSIsIndlYnBhY2s6Ly9AaGVsc2EvYXBwLy4uLy4uL3NyYy9oZWxwZXJzL1ZpZXdwb3J0VHJhY2tlci50cz83ODRjIiwid2VicGFjazovL0BoZWxzYS9hcHAvLi4vLi4vc3JjL2hlbHBlcnMvRHluYXNjYWxlTWFuYWdlci50cz80MTc4Iiwid2VicGFjazovL0BoZWxzYS9hcHAvLi4vLi4vc3JjL3Blcm1pc3Npb25zL1Blcm1pc3Npb25zQ29udGV4dC50cz84YThlIiwid2VicGFjazovL0BoZWxzYS9hcHAvLi4vLi4vc3JjL0NhbGxUeXBlLnRzP2FiOTciLCJ3ZWJwYWNrOi8vQGhlbHNhL2FwcC8uLi8uLi9zcmMvZGV2aWNlcy9Ccm93c2VyUGVybWlzc2lvbi50cz8xYmY3Iiwid2VicGFjazovL0BoZWxzYS9hcHAvLi4vLi4vc3JjL2RldmljZXMvZGV2aWNlcy50cz9iNDdmIiwid2VicGFjazovL0BoZWxzYS9hcHAvLi4vLi4vc3JjL2RldmljZXMvSW5wdXRNZWRpYURldmljZU1hbmFnZXIudHM/ZTYxMCIsIndlYnBhY2s6Ly9AaGVsc2EvYXBwLy4uLy4uL3NyYy9kZXZpY2VzL0lucHV0TWVkaWFEZXZpY2VNYW5hZ2VyU3RhdGUudHM/ZWE3NyIsIndlYnBhY2s6Ly9AaGVsc2EvYXBwLy4uLy4uL3NyYy9kZXZpY2VzL0NhbWVyYU1hbmFnZXJTdGF0ZS50cz8yYzYyIiwid2VicGFjazovL0BoZWxzYS9hcHAvLi4vLi4vc3JjL2NvbXBhdGliaWxpdHkudHM/OThkMCIsIndlYnBhY2s6Ly9AaGVsc2EvYXBwLy4uLy4uL3NyYy9kZXZpY2VzL0NhbWVyYU1hbmFnZXIudHM/ZThhMiIsIndlYnBhY2s6Ly9AaGVsc2EvYXBwLy4uLy4uL3NyYy9kZXZpY2VzL01pY3JvcGhvbmVNYW5hZ2VyU3RhdGUudHM/M2YxMyIsIndlYnBhY2s6Ly9AaGVsc2EvYXBwLy4uLy4uL3NyYy9oZWxwZXJzL3NvdW5kLWRldGVjdG9yLnRzP2NiMmYiLCJ3ZWJwYWNrOi8vQGhlbHNhL2FwcC8uLi8uLi9zcmMvaGVscGVycy9STlNwZWVjaERldGVjdG9yLnRzPzZlYjUiLCJ3ZWJwYWNrOi8vQGhlbHNhL2FwcC8uLi8uLi9zcmMvZGV2aWNlcy9NaWNyb3Bob25lTWFuYWdlci50cz9mNzZmIiwid2VicGFjazovL0BoZWxzYS9hcHAvLi4vLi4vc3JjL2RldmljZXMvU2NyZWVuU2hhcmVTdGF0ZS50cz83OWRmIiwid2VicGFjazovL0BoZWxzYS9hcHAvLi4vLi4vc3JjL2RldmljZXMvU2NyZWVuU2hhcmVNYW5hZ2VyLnRzPzEwODMiLCJ3ZWJwYWNrOi8vQGhlbHNhL2FwcC8uLi8uLi9zcmMvZGV2aWNlcy9TcGVha2VyU3RhdGUudHM/Mjk2OCIsIndlYnBhY2s6Ly9AaGVsc2EvYXBwLy4uLy4uL3NyYy9kZXZpY2VzL1NwZWFrZXJNYW5hZ2VyLnRzPzIxNDUiLCJ3ZWJwYWNrOi8vQGhlbHNhL2FwcC8uLi8uLi9zcmMvQ2FsbC50cz83YjVlIiwid2VicGFjazovL0BoZWxzYS9hcHAvLi4vLi4vc3JjL2Nvb3JkaW5hdG9yL2Nvbm5lY3Rpb24vY29ubmVjdGlvbi50cz82MDZmIiwid2VicGFjazovL0BoZWxzYS9hcHAvLi4vLi4vc3JjL2Nvb3JkaW5hdG9yL2Nvbm5lY3Rpb24vc2lnbmluZy50cz85ZWMzIiwid2VicGFjazovL0BoZWxzYS9hcHAvLi4vLi4vc3JjL2Nvb3JkaW5hdG9yL2Nvbm5lY3Rpb24vdG9rZW5fbWFuYWdlci50cz8wM2UyIiwid2VicGFjazovL0BoZWxzYS9hcHAvLi4vLi4vc3JjL2Nvb3JkaW5hdG9yL2Nvbm5lY3Rpb24vbG9jYXRpb24udHM/Y2YwOSIsIndlYnBhY2s6Ly9AaGVsc2EvYXBwLy4uLy4uL3NyYy9jb29yZGluYXRvci9jb25uZWN0aW9uL2NsaWVudC50cz8zZjFmIiwid2VicGFjazovL0BoZWxzYS9hcHAvLi4vLi4vc3JjL1N0cmVhbVZpZGVvQ2xpZW50LnRzPzE0NDUiXSwic291cmNlc0NvbnRlbnQiOlsiLyogdHNsaW50OmRpc2FibGUgKi9cbi8qIGVzbGludC1kaXNhYmxlICovXG5cbmltcG9ydCB0eXBlIHsgQm91bmQsIERhaWx5QWdncmVnYXRlQ2FsbFN0YXRzUmVzcG9uc2UgfSBmcm9tICcuLi9zaGltcyc7XG5cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQVBJRXJyb3JcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBBUElFcnJvciB7XG4gIC8qKlxuICAgKiBSZXNwb25zZSBIVFRQIHN0YXR1cyBjb2RlXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBBUElFcnJvclxuICAgKi9cbiAgU3RhdHVzQ29kZTogbnVtYmVyO1xuICAvKipcbiAgICogQVBJIGVycm9yIGNvZGVcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIEFQSUVycm9yXG4gICAqL1xuICBjb2RlOiBudW1iZXI7XG4gIC8qKlxuICAgKiBBZGRpdGlvbmFsIGVycm9yLXNwZWNpZmljIGluZm9ybWF0aW9uXG4gICAqIEB0eXBlIHtBcnJheTxudW1iZXI+fVxuICAgKiBAbWVtYmVyb2YgQVBJRXJyb3JcbiAgICovXG4gIGRldGFpbHM6IEFycmF5PG51bWJlcj47XG4gIC8qKlxuICAgKiBSZXF1ZXN0IGR1cmF0aW9uXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBBUElFcnJvclxuICAgKi9cbiAgZHVyYXRpb246IHN0cmluZztcbiAgLyoqXG4gICAqIEFkZGl0aW9uYWwgZXJyb3IgaW5mb1xuICAgKiBAdHlwZSB7eyBba2V5OiBzdHJpbmddOiBzdHJpbmc7IH19XG4gICAqIEBtZW1iZXJvZiBBUElFcnJvclxuICAgKi9cbiAgZXhjZXB0aW9uX2ZpZWxkcz86IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH07XG4gIC8qKlxuICAgKiBNZXNzYWdlIGRlc2NyaWJpbmcgYW4gZXJyb3JcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEFQSUVycm9yXG4gICAqL1xuICBtZXNzYWdlOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBVUkwgd2l0aCBhZGRpdGlvbmFsIGluZm9ybWF0aW9uXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBBUElFcnJvclxuICAgKi9cbiAgbW9yZV9pbmZvOiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIEFjY2VwdENhbGxSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIEFjY2VwdENhbGxSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQWNjZXB0Q2FsbFJlc3BvbnNlXG4gICAqL1xuICBkdXJhdGlvbjogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBBdWRpb1NldHRpbmdzUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIEF1ZGlvU2V0dGluZ3NSZXF1ZXN0IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgQXVkaW9TZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIGFjY2Vzc19yZXF1ZXN0X2VuYWJsZWQ/OiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEF1ZGlvU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICBkZWZhdWx0X2RldmljZTogQXVkaW9TZXR0aW5nc1JlcXVlc3REZWZhdWx0RGV2aWNlRW51bTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgQXVkaW9TZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIG1pY19kZWZhdWx0X29uPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtOb2lzZUNhbmNlbGxhdGlvblNldHRpbmdzfVxuICAgKiBAbWVtYmVyb2YgQXVkaW9TZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIG5vaXNlX2NhbmNlbGxhdGlvbj86IE5vaXNlQ2FuY2VsbGF0aW9uU2V0dGluZ3M7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIEF1ZGlvU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICBvcHVzX2R0eF9lbmFibGVkPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgQXVkaW9TZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIHJlZHVuZGFudF9jb2RpbmdfZW5hYmxlZD86IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIEF1ZGlvU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICBzcGVha2VyX2RlZmF1bHRfb24/OiBib29sZWFuO1xufVxuXG4vKipcbiAqIEBleHBvcnRcbiAqL1xuZXhwb3J0IGNvbnN0IEF1ZGlvU2V0dGluZ3NSZXF1ZXN0RGVmYXVsdERldmljZUVudW0gPSB7XG4gIFNQRUFLRVI6ICdzcGVha2VyJyxcbiAgRUFSUElFQ0U6ICdlYXJwaWVjZScsXG59IGFzIGNvbnN0O1xuZXhwb3J0IHR5cGUgQXVkaW9TZXR0aW5nc1JlcXVlc3REZWZhdWx0RGV2aWNlRW51bSA9XG4gICh0eXBlb2YgQXVkaW9TZXR0aW5nc1JlcXVlc3REZWZhdWx0RGV2aWNlRW51bSlba2V5b2YgdHlwZW9mIEF1ZGlvU2V0dGluZ3NSZXF1ZXN0RGVmYXVsdERldmljZUVudW1dO1xuXG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIEF1ZGlvU2V0dGluZ3NSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIEF1ZGlvU2V0dGluZ3NSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIEF1ZGlvU2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgYWNjZXNzX3JlcXVlc3RfZW5hYmxlZDogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBBdWRpb1NldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIGRlZmF1bHRfZGV2aWNlOiBBdWRpb1NldHRpbmdzUmVzcG9uc2VEZWZhdWx0RGV2aWNlRW51bTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgQXVkaW9TZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBtaWNfZGVmYXVsdF9vbjogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtOb2lzZUNhbmNlbGxhdGlvblNldHRpbmdzfVxuICAgKiBAbWVtYmVyb2YgQXVkaW9TZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBub2lzZV9jYW5jZWxsYXRpb24/OiBOb2lzZUNhbmNlbGxhdGlvblNldHRpbmdzO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBBdWRpb1NldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIG9wdXNfZHR4X2VuYWJsZWQ6IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIEF1ZGlvU2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgcmVkdW5kYW50X2NvZGluZ19lbmFibGVkOiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBBdWRpb1NldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIHNwZWFrZXJfZGVmYXVsdF9vbjogYm9vbGVhbjtcbn1cblxuLyoqXG4gKiBAZXhwb3J0XG4gKi9cbmV4cG9ydCBjb25zdCBBdWRpb1NldHRpbmdzUmVzcG9uc2VEZWZhdWx0RGV2aWNlRW51bSA9IHtcbiAgU1BFQUtFUjogJ3NwZWFrZXInLFxuICBFQVJQSUVDRTogJ2VhcnBpZWNlJyxcbn0gYXMgY29uc3Q7XG5leHBvcnQgdHlwZSBBdWRpb1NldHRpbmdzUmVzcG9uc2VEZWZhdWx0RGV2aWNlRW51bSA9XG4gICh0eXBlb2YgQXVkaW9TZXR0aW5nc1Jlc3BvbnNlRGVmYXVsdERldmljZUVudW0pW2tleW9mIHR5cGVvZiBBdWRpb1NldHRpbmdzUmVzcG9uc2VEZWZhdWx0RGV2aWNlRW51bV07XG5cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQmFja3N0YWdlU2V0dGluZ3NSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQmFja3N0YWdlU2V0dGluZ3NSZXF1ZXN0IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgQmFja3N0YWdlU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICBlbmFibGVkPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBCYWNrc3RhZ2VTZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIGpvaW5fYWhlYWRfdGltZV9zZWNvbmRzPzogbnVtYmVyO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBCYWNrc3RhZ2VTZXR0aW5nc1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQmFja3N0YWdlU2V0dGluZ3NSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIEJhY2tzdGFnZVNldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIGVuYWJsZWQ6IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgQmFja3N0YWdlU2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgam9pbl9haGVhZF90aW1lX3NlY29uZHM/OiBudW1iZXI7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIEJsb2NrTGlzdE9wdGlvbnNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBCbG9ja0xpc3RPcHRpb25zIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBCbG9ja0xpc3RPcHRpb25zXG4gICAqL1xuICBiZWhhdmlvcjogQmxvY2tMaXN0T3B0aW9uc0JlaGF2aW9yRW51bTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBCbG9ja0xpc3RPcHRpb25zXG4gICAqL1xuICBibG9ja2xpc3Q6IHN0cmluZztcbn1cblxuLyoqXG4gKiBAZXhwb3J0XG4gKi9cbmV4cG9ydCBjb25zdCBCbG9ja0xpc3RPcHRpb25zQmVoYXZpb3JFbnVtID0ge1xuICBGTEFHOiAnZmxhZycsXG4gIEJMT0NLOiAnYmxvY2snLFxuICBTSEFET1dfQkxPQ0s6ICdzaGFkb3dfYmxvY2snLFxufSBhcyBjb25zdDtcbmV4cG9ydCB0eXBlIEJsb2NrTGlzdE9wdGlvbnNCZWhhdmlvckVudW0gPVxuICAodHlwZW9mIEJsb2NrTGlzdE9wdGlvbnNCZWhhdmlvckVudW0pW2tleW9mIHR5cGVvZiBCbG9ja0xpc3RPcHRpb25zQmVoYXZpb3JFbnVtXTtcblxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBCbG9ja1VzZXJSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQmxvY2tVc2VyUmVxdWVzdCB7XG4gIC8qKlxuICAgKiB0aGUgdXNlciB0byBibG9ja1xuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQmxvY2tVc2VyUmVxdWVzdFxuICAgKi9cbiAgdXNlcl9pZDogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBCbG9ja1VzZXJSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIEJsb2NrVXNlclJlc3BvbnNlIHtcbiAgLyoqXG4gICAqIER1cmF0aW9uIG9mIHRoZSByZXF1ZXN0IGluIG1pbGxpc2Vjb25kc1xuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQmxvY2tVc2VyUmVzcG9uc2VcbiAgICovXG4gIGR1cmF0aW9uOiBzdHJpbmc7XG59XG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB0byBjYWxsIHBhcnRpY2lwYW50cyB0byBub3RpZnkgd2hlbiBhIHVzZXIgaXMgYmxvY2tlZCBvbiBhIGNhbGwsIGNsaWVudHMgY2FuIHVzZSB0aGlzIGV2ZW50IHRvIHNob3cgYSBub3RpZmljYXRpb24uXG4gKiBJZiB0aGUgdXNlciBpcyB0aGUgY3VycmVudCB1c2VyLCB0aGUgY2xpZW50IHNob3VsZCBsZWF2ZSB0aGUgY2FsbCBzY3JlZW4gYXMgd2VsbFxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBCbG9ja2VkVXNlckV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQmxvY2tlZFVzZXJFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VXNlclJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQmxvY2tlZFVzZXJFdmVudFxuICAgKi9cbiAgYmxvY2tlZF9ieV91c2VyPzogVXNlclJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEJsb2NrZWRVc2VyRXZlbnRcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQmxvY2tlZFVzZXJFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQ6IFwiY2FsbC5ibG9ja2VkX3VzZXJcIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEJsb2NrZWRVc2VyRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtVc2VyUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBCbG9ja2VkVXNlckV2ZW50XG4gICAqL1xuICB1c2VyOiBVc2VyUmVzcG9uc2U7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIEJyb2FkY2FzdFNldHRpbmdzUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIEJyb2FkY2FzdFNldHRpbmdzUmVxdWVzdCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIEJyb2FkY2FzdFNldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgZW5hYmxlZD86IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7SExTU2V0dGluZ3NSZXF1ZXN0fVxuICAgKiBAbWVtYmVyb2YgQnJvYWRjYXN0U2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICBobHM/OiBITFNTZXR0aW5nc1JlcXVlc3Q7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIEJyb2FkY2FzdFNldHRpbmdzUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBCcm9hZGNhc3RTZXR0aW5nc1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgQnJvYWRjYXN0U2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgZW5hYmxlZDogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtITFNTZXR0aW5nc1Jlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQnJvYWRjYXN0U2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgaGxzOiBITFNTZXR0aW5nc1Jlc3BvbnNlO1xufVxuLyoqXG4gKiBUaGlzIGV2ZW50IGlzIHNlbnQgd2hlbiBhIHVzZXIgYWNjZXB0cyBhIG5vdGlmaWNhdGlvbiB0byBqb2luIGEgY2FsbC5cbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbEFjY2VwdGVkRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsQWNjZXB0ZWRFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbFJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbEFjY2VwdGVkRXZlbnRcbiAgICovXG4gIGNhbGw6IENhbGxSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsQWNjZXB0ZWRFdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsQWNjZXB0ZWRFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQ6IFwiY2FsbC5hY2NlcHRlZFwiIGluIHRoaXMgY2FzZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbEFjY2VwdGVkRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtVc2VyUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsQWNjZXB0ZWRFdmVudFxuICAgKi9cbiAgdXNlcjogVXNlclJlc3BvbnNlO1xufVxuLyoqXG4gKiBDYWxsQ2xvc2VkQ2FwdGlvbiByZXByZXNlbnRzIGEgY2xvc2VkIGNhcHRpb24gb2YgYSBjYWxsLlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsQ2xvc2VkQ2FwdGlvblxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxDbG9zZWRDYXB0aW9uIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsQ2xvc2VkQ2FwdGlvblxuICAgKi9cbiAgZW5kX3RpbWU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsQ2xvc2VkQ2FwdGlvblxuICAgKi9cbiAgc3BlYWtlcl9pZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxDbG9zZWRDYXB0aW9uXG4gICAqL1xuICBzdGFydF90aW1lOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbENsb3NlZENhcHRpb25cbiAgICovXG4gIHRleHQ6IHN0cmluZztcbn1cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHdoZW4gYSBjYWxsIGlzIGNyZWF0ZWQuIENsaWVudHMgcmVjZWl2aW5nIHRoaXMgZXZlbnQgc2hvdWxkIGNoZWNrIGlmIHRoZSByaW5naW5nXG4gKiBmaWVsZCBpcyBzZXQgdG8gdHJ1ZSBhbmQgaWYgc28sIHNob3cgdGhlIGNhbGwgc2NyZWVuXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxDcmVhdGVkRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsQ3JlYXRlZEV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDYWxsUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsQ3JlYXRlZEV2ZW50XG4gICAqL1xuICBjYWxsOiBDYWxsUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbENyZWF0ZWRFdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsQ3JlYXRlZEV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKiB0aGUgbWVtYmVycyBhZGRlZCB0byB0aGlzIGNhbGxcbiAgICogQHR5cGUge0FycmF5PE1lbWJlclJlc3BvbnNlPn1cbiAgICogQG1lbWJlcm9mIENhbGxDcmVhdGVkRXZlbnRcbiAgICovXG4gIG1lbWJlcnM6IEFycmF5PE1lbWJlclJlc3BvbnNlPjtcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50OiBcImNhbGwuY3JlYXRlZFwiIGluIHRoaXMgY2FzZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbENyZWF0ZWRFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xufVxuLyoqXG4gKiBUaGlzIGV2ZW50IGlzIHNlbnQgd2hlbiBhIGNhbGwgaXMgZGVsZXRlZC4gQ2xpZW50cyByZWNlaXZpbmcgdGhpcyBldmVudCBzaG91bGQgbGVhdmUgdGhlIGNhbGwgc2NyZWVuXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxEZWxldGVkRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsRGVsZXRlZEV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDYWxsUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsRGVsZXRlZEV2ZW50XG4gICAqL1xuICBjYWxsOiBDYWxsUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbERlbGV0ZWRFdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsRGVsZXRlZEV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBldmVudDogXCJjYWxsLmRlbGV0ZWRcIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxEZWxldGVkRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbER1cmF0aW9uUmVwb3J0UmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsRHVyYXRpb25SZXBvcnRSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8RGFpbHlBZ2dyZWdhdGVDYWxsU3RhdHNSZXNwb25zZTxDYWxsRHVyYXRpb25SZXBvcnQ+Pn1cbiAgICogQG1lbWJlcm9mIENhbGxEdXJhdGlvblJlcG9ydFJlc3BvbnNlXG4gICAqL1xuICBkYWlseTogQXJyYXk8RGFpbHlBZ2dyZWdhdGVDYWxsU3RhdHNSZXNwb25zZTxDYWxsRHVyYXRpb25SZXBvcnQ+Pjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbER1cmF0aW9uUmVwb3J0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbER1cmF0aW9uUmVwb3J0IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxSZXBvcnRCeUhpc3RvZ3JhbUJ1Y2tldD59XG4gICAqIEBtZW1iZXJvZiBDYWxsRHVyYXRpb25SZXBvcnRcbiAgICovXG4gIGhpc3RvZ3JhbTogQXJyYXk8UmVwb3J0QnlIaXN0b2dyYW1CdWNrZXQ+O1xufVxuLyoqXG4gKiBUaGlzIGV2ZW50IGlzIHNlbnQgd2hlbiBhIGNhbGwgaXMgbWFyayBhcyBlbmRlZCBmb3IgYWxsIGl0cyBwYXJ0aWNpcGFudHMuIENsaWVudHMgcmVjZWl2aW5nIHRoaXMgZXZlbnQgc2hvdWxkIGxlYXZlIHRoZSBjYWxsIHNjcmVlblxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsRW5kZWRFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxFbmRlZEV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDYWxsUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsRW5kZWRFdmVudFxuICAgKi9cbiAgY2FsbDogQ2FsbFJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxFbmRlZEV2ZW50XG4gICAqL1xuICBjYWxsX2NpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxFbmRlZEV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBldmVudDogXCJjYWxsLmVuZGVkXCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsRW5kZWRFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1VzZXJSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxFbmRlZEV2ZW50XG4gICAqL1xuICB1c2VyPzogVXNlclJlc3BvbnNlO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxFdmVudFxuICAgKi9cbiAgZGVzY3JpcHRpb246IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBDYWxsRXZlbnRcbiAgICovXG4gIGVuZF90aW1lc3RhbXA6IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBDYWxsRXZlbnRcbiAgICovXG4gIHNldmVyaXR5OiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgQ2FsbEV2ZW50XG4gICAqL1xuICB0aW1lc3RhbXA6IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbn1cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHdoZW4gSExTIGJyb2FkY2FzdGluZyBoYXMgZmFpbGVkXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxITFNCcm9hZGNhc3RpbmdGYWlsZWRFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxITFNCcm9hZGNhc3RpbmdGYWlsZWRFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbEhMU0Jyb2FkY2FzdGluZ0ZhaWxlZEV2ZW50XG4gICAqL1xuICBjYWxsX2NpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxITFNCcm9hZGNhc3RpbmdGYWlsZWRFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQ6IFwiY2FsbC5obHNfYnJvYWRjYXN0aW5nX2ZhaWxlZFwiIGluIHRoaXMgY2FzZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbEhMU0Jyb2FkY2FzdGluZ0ZhaWxlZEV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG59XG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB3aGVuIEhMUyBicm9hZGNhc3RpbmcgaGFzIHN0YXJ0ZWRcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbEhMU0Jyb2FkY2FzdGluZ1N0YXJ0ZWRFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxITFNCcm9hZGNhc3RpbmdTdGFydGVkRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxITFNCcm9hZGNhc3RpbmdTdGFydGVkRXZlbnRcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbEhMU0Jyb2FkY2FzdGluZ1N0YXJ0ZWRFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxITFNCcm9hZGNhc3RpbmdTdGFydGVkRXZlbnRcbiAgICovXG4gIGhsc19wbGF5bGlzdF91cmw6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50OiBcImNhbGwuaGxzX2Jyb2FkY2FzdGluZ19zdGFydGVkXCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsSExTQnJvYWRjYXN0aW5nU3RhcnRlZEV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG59XG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB3aGVuIEhMUyBicm9hZGNhc3RpbmcgaGFzIHN0b3BwZWRcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbEhMU0Jyb2FkY2FzdGluZ1N0b3BwZWRFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxITFNCcm9hZGNhc3RpbmdTdG9wcGVkRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxITFNCcm9hZGNhc3RpbmdTdG9wcGVkRXZlbnRcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbEhMU0Jyb2FkY2FzdGluZ1N0b3BwZWRFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQ6IFwiY2FsbC5obHNfYnJvYWRjYXN0aW5nX3N0b3BwZWRcIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxITFNCcm9hZGNhc3RpbmdTdG9wcGVkRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbEluZ3Jlc3NSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxJbmdyZXNzUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1JUTVBJbmdyZXNzfVxuICAgKiBAbWVtYmVyb2YgQ2FsbEluZ3Jlc3NSZXNwb25zZVxuICAgKi9cbiAgcnRtcDogUlRNUEluZ3Jlc3M7XG59XG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB3aGVuIGEgY2FsbCBpcyBzdGFydGVkLiBDbGllbnRzIHJlY2VpdmluZyB0aGlzIGV2ZW50IHNob3VsZCBzdGFydCB0aGUgY2FsbC5cbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbExpdmVTdGFydGVkRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsTGl2ZVN0YXJ0ZWRFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbFJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbExpdmVTdGFydGVkRXZlbnRcbiAgICovXG4gIGNhbGw6IENhbGxSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsTGl2ZVN0YXJ0ZWRFdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsTGl2ZVN0YXJ0ZWRFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQ6IFwiY2FsbC5saXZlX3N0YXJ0ZWRcIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxMaXZlU3RhcnRlZEV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG59XG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB3aGVuIG9uZSBvciBtb3JlIG1lbWJlcnMgYXJlIGFkZGVkIHRvIGEgY2FsbFxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsTWVtYmVyQWRkZWRFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxNZW1iZXJBZGRlZEV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDYWxsUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsTWVtYmVyQWRkZWRFdmVudFxuICAgKi9cbiAgY2FsbDogQ2FsbFJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxNZW1iZXJBZGRlZEV2ZW50XG4gICAqL1xuICBjYWxsX2NpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxNZW1iZXJBZGRlZEV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKiB0aGUgbWVtYmVycyBhZGRlZCB0byB0aGlzIGNhbGxcbiAgICogQHR5cGUge0FycmF5PE1lbWJlclJlc3BvbnNlPn1cbiAgICogQG1lbWJlcm9mIENhbGxNZW1iZXJBZGRlZEV2ZW50XG4gICAqL1xuICBtZW1iZXJzOiBBcnJheTxNZW1iZXJSZXNwb25zZT47XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBldmVudDogXCJjYWxsLm1lbWJlcl9hZGRlZFwiIGluIHRoaXMgY2FzZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbE1lbWJlckFkZGVkRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbn1cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHdoZW4gb25lIG9yIG1vcmUgbWVtYmVycyBhcmUgcmVtb3ZlZCBmcm9tIGEgY2FsbFxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsTWVtYmVyUmVtb3ZlZEV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbE1lbWJlclJlbW92ZWRFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbFJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbE1lbWJlclJlbW92ZWRFdmVudFxuICAgKi9cbiAgY2FsbDogQ2FsbFJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxNZW1iZXJSZW1vdmVkRXZlbnRcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbE1lbWJlclJlbW92ZWRFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICogdGhlIGxpc3Qgb2YgbWVtYmVyIElEcyByZW1vdmVkIGZyb20gdGhlIGNhbGxcbiAgICogQHR5cGUge0FycmF5PHN0cmluZz59XG4gICAqIEBtZW1iZXJvZiBDYWxsTWVtYmVyUmVtb3ZlZEV2ZW50XG4gICAqL1xuICBtZW1iZXJzOiBBcnJheTxzdHJpbmc+O1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQ6IFwiY2FsbC5tZW1iZXJfcmVtb3ZlZFwiIGluIHRoaXMgY2FzZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbE1lbWJlclJlbW92ZWRFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xufVxuLyoqXG4gKiBUaGlzIGV2ZW50IGlzIHNlbnQgd2hlbiBvbmUgb3IgbW9yZSBtZW1iZXJzIGFyZSB1cGRhdGVkXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxNZW1iZXJVcGRhdGVkRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsTWVtYmVyVXBkYXRlZEV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDYWxsUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsTWVtYmVyVXBkYXRlZEV2ZW50XG4gICAqL1xuICBjYWxsOiBDYWxsUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbE1lbWJlclVwZGF0ZWRFdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsTWVtYmVyVXBkYXRlZEV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgbGlzdCBvZiBtZW1iZXJzIHRoYXQgd2VyZSB1cGRhdGVkXG4gICAqIEB0eXBlIHtBcnJheTxNZW1iZXJSZXNwb25zZT59XG4gICAqIEBtZW1iZXJvZiBDYWxsTWVtYmVyVXBkYXRlZEV2ZW50XG4gICAqL1xuICBtZW1iZXJzOiBBcnJheTxNZW1iZXJSZXNwb25zZT47XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBldmVudDogXCJjYWxsLm1lbWJlcl91cGRhdGVkXCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsTWVtYmVyVXBkYXRlZEV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG59XG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB3aGVuIG9uZSBvciBtb3JlIG1lbWJlcnMgZ2V0IGl0cyByb2xlIHVwZGF0ZWRcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbE1lbWJlclVwZGF0ZWRQZXJtaXNzaW9uRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsTWVtYmVyVXBkYXRlZFBlcm1pc3Npb25FdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbFJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbE1lbWJlclVwZGF0ZWRQZXJtaXNzaW9uRXZlbnRcbiAgICovXG4gIGNhbGw6IENhbGxSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsTWVtYmVyVXBkYXRlZFBlcm1pc3Npb25FdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSBjYXBhYmlsaXRpZXMgYnkgcm9sZSBmb3IgdGhpcyBjYWxsXG4gICAqIEB0eXBlIHt7IFtrZXk6IHN0cmluZ106IEFycmF5PHN0cmluZz47IH19XG4gICAqIEBtZW1iZXJvZiBDYWxsTWVtYmVyVXBkYXRlZFBlcm1pc3Npb25FdmVudFxuICAgKi9cbiAgY2FwYWJpbGl0aWVzX2J5X3JvbGU6IHsgW2tleTogc3RyaW5nXTogQXJyYXk8c3RyaW5nPiB9O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxNZW1iZXJVcGRhdGVkUGVybWlzc2lvbkV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgbGlzdCBvZiBtZW1iZXJzIHRoYXQgd2VyZSB1cGRhdGVkXG4gICAqIEB0eXBlIHtBcnJheTxNZW1iZXJSZXNwb25zZT59XG4gICAqIEBtZW1iZXJvZiBDYWxsTWVtYmVyVXBkYXRlZFBlcm1pc3Npb25FdmVudFxuICAgKi9cbiAgbWVtYmVyczogQXJyYXk8TWVtYmVyUmVzcG9uc2U+O1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQ6IFwiY2FsbC5tZW1iZXJfYWRkZWRcIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxNZW1iZXJVcGRhdGVkUGVybWlzc2lvbkV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG59XG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB0byBjYWxsIG1lbWJlcnMgd2hvIGRpZCBub3QgYWNjZXB0L3JlamVjdC9qb2luIHRoZSBjYWxsIHRvIG5vdGlmeSB0aGV5IG1pc3NlZCB0aGUgY2FsbFxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsTWlzc2VkRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsTWlzc2VkRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0NhbGxSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxNaXNzZWRFdmVudFxuICAgKi9cbiAgY2FsbDogQ2FsbFJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxNaXNzZWRFdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsTWlzc2VkRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqIExpc3Qgb2YgbWVtYmVycyB3aG8gbWlzc2VkIHRoZSBjYWxsXG4gICAqIEB0eXBlIHtBcnJheTxNZW1iZXJSZXNwb25zZT59XG4gICAqIEBtZW1iZXJvZiBDYWxsTWlzc2VkRXZlbnRcbiAgICovXG4gIG1lbWJlcnM6IEFycmF5PE1lbWJlclJlc3BvbnNlPjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgQ2FsbE1pc3NlZEV2ZW50XG4gICAqL1xuICBub3RpZnlfdXNlcjogYm9vbGVhbjtcbiAgLyoqXG4gICAqIENhbGwgc2Vzc2lvbiBJRFxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbE1pc3NlZEV2ZW50XG4gICAqL1xuICBzZXNzaW9uX2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBldmVudDogXCJjYWxsLm5vdGlmaWNhdGlvblwiIGluIHRoaXMgY2FzZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbE1pc3NlZEV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VXNlclJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbE1pc3NlZEV2ZW50XG4gICAqL1xuICB1c2VyOiBVc2VyUmVzcG9uc2U7XG59XG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB0byBhbGwgY2FsbCBtZW1iZXJzIHRvIG5vdGlmeSB0aGV5IGFyZSBnZXR0aW5nIGNhbGxlZFxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsTm90aWZpY2F0aW9uRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsTm90aWZpY2F0aW9uRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0NhbGxSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxOb3RpZmljYXRpb25FdmVudFxuICAgKi9cbiAgY2FsbDogQ2FsbFJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxOb3RpZmljYXRpb25FdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsTm90aWZpY2F0aW9uRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqIENhbGwgbWVtYmVyc1xuICAgKiBAdHlwZSB7QXJyYXk8TWVtYmVyUmVzcG9uc2U+fVxuICAgKiBAbWVtYmVyb2YgQ2FsbE5vdGlmaWNhdGlvbkV2ZW50XG4gICAqL1xuICBtZW1iZXJzOiBBcnJheTxNZW1iZXJSZXNwb25zZT47XG4gIC8qKlxuICAgKiBDYWxsIHNlc3Npb24gSURcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxOb3RpZmljYXRpb25FdmVudFxuICAgKi9cbiAgc2Vzc2lvbl9pZDogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQ6IFwiY2FsbC5ub3RpZmljYXRpb25cIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxOb3RpZmljYXRpb25FdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1VzZXJSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxOb3RpZmljYXRpb25FdmVudFxuICAgKi9cbiAgdXNlcjogVXNlclJlc3BvbnNlO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsUGFydGljaXBhbnRSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxQYXJ0aWNpcGFudFJlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUGFydGljaXBhbnRSZXNwb25zZVxuICAgKi9cbiAgam9pbmVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFBhcnRpY2lwYW50UmVzcG9uc2VcbiAgICovXG4gIHJvbGU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtVc2VyUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsUGFydGljaXBhbnRSZXNwb25zZVxuICAgKi9cbiAgdXNlcjogVXNlclJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxQYXJ0aWNpcGFudFJlc3BvbnNlXG4gICAqL1xuICB1c2VyX3Nlc3Npb25faWQ6IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbFBhcnRpY2lwYW50Q291bnRSZXBvcnRSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxQYXJ0aWNpcGFudENvdW50UmVwb3J0UmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PERhaWx5QWdncmVnYXRlQ2FsbFN0YXRzUmVzcG9uc2U8Q2FsbFBhcnRpY2lwYW50Q291bnRSZXBvcnQ+Pn1cbiAgICogQG1lbWJlcm9mIENhbGxQYXJ0aWNpcGFudENvdW50UmVwb3J0UmVzcG9uc2VcbiAgICovXG4gIGRhaWx5OiBBcnJheTxEYWlseUFnZ3JlZ2F0ZUNhbGxTdGF0c1Jlc3BvbnNlPENhbGxQYXJ0aWNpcGFudENvdW50UmVwb3J0Pj47XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxQYXJ0aWNpcGFudENvdW50UmVwb3J0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbFBhcnRpY2lwYW50Q291bnRSZXBvcnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PFJlcG9ydEJ5SGlzdG9ncmFtQnVja2V0Pn1cbiAgICogQG1lbWJlcm9mIENhbGxQYXJ0aWNpcGFudENvdW50UmVwb3J0XG4gICAqL1xuICBoaXN0b2dyYW06IEFycmF5PFJlcG9ydEJ5SGlzdG9ncmFtQnVja2V0Pjtcbn1cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHdoZW4gYSByZWFjdGlvbiBpcyBzZW50IGluIGEgY2FsbCwgY2xpZW50cyBzaG91bGQgdXNlIHRoaXMgdG8gc2hvdyB0aGUgcmVhY3Rpb24gaW4gdGhlIGNhbGwgc2NyZWVuXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxSZWFjdGlvbkV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbFJlYWN0aW9uRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxSZWFjdGlvbkV2ZW50XG4gICAqL1xuICBjYWxsX2NpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxSZWFjdGlvbkV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7UmVhY3Rpb25SZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxSZWFjdGlvbkV2ZW50XG4gICAqL1xuICByZWFjdGlvbjogUmVhY3Rpb25SZXNwb25zZTtcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50OiBcImNhbGwucmVhY3Rpb25fbmV3XCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVhY3Rpb25FdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xufVxuLyoqXG4gKiBDYWxsUmVjb3JkaW5nIHJlcHJlc2VudHMgYSByZWNvcmRpbmcgb2YgYSBjYWxsLlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsUmVjb3JkaW5nXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbFJlY29yZGluZyB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlY29yZGluZ1xuICAgKi9cbiAgZW5kX3RpbWU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVjb3JkaW5nXG4gICAqL1xuICBmaWxlbmFtZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxSZWNvcmRpbmdcbiAgICovXG4gIHN0YXJ0X3RpbWU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVjb3JkaW5nXG4gICAqL1xuICB1cmw6IHN0cmluZztcbn1cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHdoZW4gY2FsbCByZWNvcmRpbmcgaGFzIGZhaWxlZFxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsUmVjb3JkaW5nRmFpbGVkRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsUmVjb3JkaW5nRmFpbGVkRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxSZWNvcmRpbmdGYWlsZWRFdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVjb3JkaW5nRmFpbGVkRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50OiBcImNhbGwucmVjb3JkaW5nX2ZhaWxlZFwiIGluIHRoaXMgY2FzZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlY29yZGluZ0ZhaWxlZEV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG59XG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB3aGVuIGNhbGwgcmVjb3JkaW5nIGlzIHJlYWR5XG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxSZWNvcmRpbmdSZWFkeUV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbFJlY29yZGluZ1JlYWR5RXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxSZWNvcmRpbmdSZWFkeUV2ZW50XG4gICAqL1xuICBjYWxsX2NpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0NhbGxSZWNvcmRpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVjb3JkaW5nUmVhZHlFdmVudFxuICAgKi9cbiAgY2FsbF9yZWNvcmRpbmc6IENhbGxSZWNvcmRpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlY29yZGluZ1JlYWR5RXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50OiBcImNhbGwucmVjb3JkaW5nX3JlYWR5XCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVjb3JkaW5nUmVhZHlFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xufVxuLyoqXG4gKiBUaGlzIGV2ZW50IGlzIHNlbnQgd2hlbiBjYWxsIHJlY29yZGluZyBoYXMgc3RhcnRlZFxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsUmVjb3JkaW5nU3RhcnRlZEV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbFJlY29yZGluZ1N0YXJ0ZWRFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlY29yZGluZ1N0YXJ0ZWRFdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVjb3JkaW5nU3RhcnRlZEV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBldmVudDogXCJjYWxsLnJlY29yZGluZ19zdGFydGVkXCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVjb3JkaW5nU3RhcnRlZEV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG59XG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB3aGVuIGNhbGwgcmVjb3JkaW5nIGhhcyBzdG9wcGVkXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxSZWNvcmRpbmdTdG9wcGVkRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsUmVjb3JkaW5nU3RvcHBlZEV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVjb3JkaW5nU3RvcHBlZEV2ZW50XG4gICAqL1xuICBjYWxsX2NpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxSZWNvcmRpbmdTdG9wcGVkRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50OiBcImNhbGwucmVjb3JkaW5nX3N0b3BwZWRcIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxSZWNvcmRpbmdTdG9wcGVkRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbn1cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHdoZW4gYSB1c2VyIHJlamVjdHMgYSBub3RpZmljYXRpb24gdG8gam9pbiBhIGNhbGwuXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxSZWplY3RlZEV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbFJlamVjdGVkRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0NhbGxSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxSZWplY3RlZEV2ZW50XG4gICAqL1xuICBjYWxsOiBDYWxsUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlamVjdGVkRXZlbnRcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlamVjdGVkRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVqZWN0ZWRFdmVudFxuICAgKi9cbiAgcmVhc29uPzogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQ6IFwiY2FsbC5yZWplY3RlZFwiIGluIHRoaXMgY2FzZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlamVjdGVkRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtVc2VyUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVqZWN0ZWRFdmVudFxuICAgKi9cbiAgdXNlcjogVXNlclJlc3BvbnNlO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxSZXF1ZXN0IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHt7IFtrZXk6IHN0cmluZ106IGFueTsgfX1cbiAgICogQG1lbWJlcm9mIENhbGxSZXF1ZXN0XG4gICAqL1xuICBjdXN0b20/OiB7IFtrZXk6IHN0cmluZ106IGFueSB9O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PE1lbWJlclJlcXVlc3Q+fVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlcXVlc3RcbiAgICovXG4gIG1lbWJlcnM/OiBBcnJheTxNZW1iZXJSZXF1ZXN0PjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDYWxsU2V0dGluZ3NSZXF1ZXN0fVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlcXVlc3RcbiAgICovXG4gIHNldHRpbmdzX292ZXJyaWRlPzogQ2FsbFNldHRpbmdzUmVxdWVzdDtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVxdWVzdFxuICAgKi9cbiAgc3RhcnRzX2F0Pzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxSZXF1ZXN0XG4gICAqL1xuICB0ZWFtPzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVxdWVzdFxuICAgKi9cbiAgdmlkZW8/OiBib29sZWFuO1xufVxuLyoqXG4gKiBSZXByZXNlbnRzIGEgY2FsbFxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVzcG9uc2VcbiAgICovXG4gIGJhY2tzdGFnZTogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxzdHJpbmc+fVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlc3BvbnNlXG4gICAqL1xuICBibG9ja2VkX3VzZXJfaWRzOiBBcnJheTxzdHJpbmc+O1xuICAvKipcbiAgICogVGhlIHVuaXF1ZSBpZGVudGlmaWVyIGZvciBhIGNhbGwgKDx0eXBlPjo8aWQ+KVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlc3BvbnNlXG4gICAqL1xuICBjaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIERhdGUvdGltZSBvZiBjcmVhdGlvblxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlc3BvbnNlXG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VXNlclJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlc3BvbnNlXG4gICAqL1xuICBjcmVhdGVkX2J5OiBVc2VyUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlc3BvbnNlXG4gICAqL1xuICBjdXJyZW50X3Nlc3Npb25faWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIEN1c3RvbSBkYXRhIGZvciB0aGlzIG9iamVjdFxuICAgKiBAdHlwZSB7eyBba2V5OiBzdHJpbmddOiBhbnk7IH19XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVzcG9uc2VcbiAgICovXG4gIGN1c3RvbTogeyBba2V5OiBzdHJpbmddOiBhbnkgfTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtFZ3Jlc3NSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxSZXNwb25zZVxuICAgKi9cbiAgZWdyZXNzOiBFZ3Jlc3NSZXNwb25zZTtcbiAgLyoqXG4gICAqIERhdGUvdGltZSB3aGVuIHRoZSBjYWxsIGVuZGVkXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVzcG9uc2VcbiAgICovXG4gIGVuZGVkX2F0Pzogc3RyaW5nO1xuICAvKipcbiAgICogQ2FsbCBJRFxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlc3BvbnNlXG4gICAqL1xuICBpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0NhbGxJbmdyZXNzUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVzcG9uc2VcbiAgICovXG4gIGluZ3Jlc3M6IENhbGxJbmdyZXNzUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlc3BvbnNlXG4gICAqL1xuICBqb2luX2FoZWFkX3RpbWVfc2Vjb25kcz86IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlc3BvbnNlXG4gICAqL1xuICByZWNvcmRpbmc6IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbFNlc3Npb25SZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxSZXNwb25zZVxuICAgKi9cbiAgc2Vzc2lvbj86IENhbGxTZXNzaW9uUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbFNldHRpbmdzUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVzcG9uc2VcbiAgICovXG4gIHNldHRpbmdzOiBDYWxsU2V0dGluZ3NSZXNwb25zZTtcbiAgLyoqXG4gICAqIERhdGUvdGltZSB3aGVuIHRoZSBjYWxsIHdpbGwgc3RhcnRcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxSZXNwb25zZVxuICAgKi9cbiAgc3RhcnRzX2F0Pzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxSZXNwb25zZVxuICAgKi9cbiAgdGVhbT86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtUaHVtYm5haWxSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxSZXNwb25zZVxuICAgKi9cbiAgdGh1bWJuYWlscz86IFRodW1ibmFpbFJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVzcG9uc2VcbiAgICovXG4gIHRyYW5zY3JpYmluZzogYm9vbGVhbjtcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGNhbGxcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxSZXNwb25zZVxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xuICAvKipcbiAgICogRGF0ZS90aW1lIG9mIHRoZSBsYXN0IHVwZGF0ZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlc3BvbnNlXG4gICAqL1xuICB1cGRhdGVkX2F0OiBzdHJpbmc7XG59XG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB0byBhbGwgY2FsbCBtZW1iZXJzIHRvIG5vdGlmeSB0aGV5IGFyZSBnZXR0aW5nIGNhbGxlZFxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsUmluZ0V2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbFJpbmdFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbFJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJpbmdFdmVudFxuICAgKi9cbiAgY2FsbDogQ2FsbFJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxSaW5nRXZlbnRcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJpbmdFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICogQ2FsbCBtZW1iZXJzXG4gICAqIEB0eXBlIHtBcnJheTxNZW1iZXJSZXNwb25zZT59XG4gICAqIEBtZW1iZXJvZiBDYWxsUmluZ0V2ZW50XG4gICAqL1xuICBtZW1iZXJzOiBBcnJheTxNZW1iZXJSZXNwb25zZT47XG4gIC8qKlxuICAgKiBDYWxsIHNlc3Npb24gSURcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxSaW5nRXZlbnRcbiAgICovXG4gIHNlc3Npb25faWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50OiBcImNhbGwubm90aWZpY2F0aW9uXCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmluZ0V2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VXNlclJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJpbmdFdmVudFxuICAgKi9cbiAgdXNlcjogVXNlclJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBDYWxsUmluZ0V2ZW50XG4gICAqL1xuICB2aWRlbzogYm9vbGVhbjtcbn1cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHdoZW4gYSBjYWxsIHNlc3Npb24gZW5kc1xuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsU2Vzc2lvbkVuZGVkRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsU2Vzc2lvbkVuZGVkRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0NhbGxSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxTZXNzaW9uRW5kZWRFdmVudFxuICAgKi9cbiAgY2FsbDogQ2FsbFJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxTZXNzaW9uRW5kZWRFdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2Vzc2lvbkVuZGVkRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqIENhbGwgc2Vzc2lvbiBJRFxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNlc3Npb25FbmRlZEV2ZW50XG4gICAqL1xuICBzZXNzaW9uX2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBldmVudDogXCJjYWxsLnNlc3Npb25fZW5kZWRcIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxTZXNzaW9uRW5kZWRFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xufVxuXG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB3aGVuIHRoZSBwYXJ0aWNpcGFudCBjb3VudHMgaW4gYSBjYWxsIHNlc3Npb24gYXJlIHVwZGF0ZWRcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbFNlc3Npb25QYXJ0aWNpcGFudENvdW50c1VwZGF0ZWRFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxTZXNzaW9uUGFydGljaXBhbnRDb3VudHNVcGRhdGVkRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIENhbGxTZXNzaW9uUGFydGljaXBhbnRDb3VudHNVcGRhdGVkRXZlbnRcbiAgICovXG4gIGFub255bW91c19wYXJ0aWNpcGFudF9jb3VudDogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxTZXNzaW9uUGFydGljaXBhbnRDb3VudHNVcGRhdGVkRXZlbnRcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNlc3Npb25QYXJ0aWNpcGFudENvdW50c1VwZGF0ZWRFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3sgW2tleTogc3RyaW5nXTogbnVtYmVyOyB9fVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNlc3Npb25QYXJ0aWNpcGFudENvdW50c1VwZGF0ZWRFdmVudFxuICAgKi9cbiAgcGFydGljaXBhbnRzX2NvdW50X2J5X3JvbGU6IHsgW2tleTogc3RyaW5nXTogbnVtYmVyIH07XG4gIC8qKlxuICAgKiBDYWxsIHNlc3Npb24gSURcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxTZXNzaW9uUGFydGljaXBhbnRDb3VudHNVcGRhdGVkRXZlbnRcbiAgICovXG4gIHNlc3Npb25faWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50OiBcImNhbGwuc2Vzc2lvbl9wYXJ0aWNpcGFudF9jb3VudF91cGRhdGVkXCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2Vzc2lvblBhcnRpY2lwYW50Q291bnRzVXBkYXRlZEV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG59XG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB3aGVuIGEgcGFydGljaXBhbnQgam9pbnMgYSBjYWxsIHNlc3Npb25cbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbFNlc3Npb25QYXJ0aWNpcGFudEpvaW5lZEV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbFNlc3Npb25QYXJ0aWNpcGFudEpvaW5lZEV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2Vzc2lvblBhcnRpY2lwYW50Sm9pbmVkRXZlbnRcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNlc3Npb25QYXJ0aWNpcGFudEpvaW5lZEV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbFBhcnRpY2lwYW50UmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2Vzc2lvblBhcnRpY2lwYW50Sm9pbmVkRXZlbnRcbiAgICovXG4gIHBhcnRpY2lwYW50OiBDYWxsUGFydGljaXBhbnRSZXNwb25zZTtcbiAgLyoqXG4gICAqIENhbGwgc2Vzc2lvbiBJRFxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNlc3Npb25QYXJ0aWNpcGFudEpvaW5lZEV2ZW50XG4gICAqL1xuICBzZXNzaW9uX2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBldmVudDogXCJjYWxsLnNlc3Npb25fcGFydGljaXBhbnRfam9pbmVkXCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2Vzc2lvblBhcnRpY2lwYW50Sm9pbmVkRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbn1cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHdoZW4gYSBwYXJ0aWNpcGFudCBsZWF2ZXMgYSBjYWxsIHNlc3Npb25cbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbFNlc3Npb25QYXJ0aWNpcGFudExlZnRFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxTZXNzaW9uUGFydGljaXBhbnRMZWZ0RXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxTZXNzaW9uUGFydGljaXBhbnRMZWZ0RXZlbnRcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNlc3Npb25QYXJ0aWNpcGFudExlZnRFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0NhbGxQYXJ0aWNpcGFudFJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNlc3Npb25QYXJ0aWNpcGFudExlZnRFdmVudFxuICAgKi9cbiAgcGFydGljaXBhbnQ6IENhbGxQYXJ0aWNpcGFudFJlc3BvbnNlO1xuICAvKipcbiAgICogQ2FsbCBzZXNzaW9uIElEXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2Vzc2lvblBhcnRpY2lwYW50TGVmdEV2ZW50XG4gICAqL1xuICBzZXNzaW9uX2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBldmVudDogXCJjYWxsLnNlc3Npb25fcGFydGljaXBhbnRfbGVmdFwiIGluIHRoaXMgY2FzZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNlc3Npb25QYXJ0aWNpcGFudExlZnRFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsU2Vzc2lvblJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbFNlc3Npb25SZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7eyBba2V5OiBzdHJpbmddOiBzdHJpbmc7IH19XG4gICAqIEBtZW1iZXJvZiBDYWxsU2Vzc2lvblJlc3BvbnNlXG4gICAqL1xuICBhY2NlcHRlZF9ieTogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2Vzc2lvblJlc3BvbnNlXG4gICAqL1xuICBhbm9ueW1vdXNfcGFydGljaXBhbnRfY291bnQ6IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2Vzc2lvblJlc3BvbnNlXG4gICAqL1xuICBlbmRlZF9hdD86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2Vzc2lvblJlc3BvbnNlXG4gICAqL1xuICBpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxTZXNzaW9uUmVzcG9uc2VcbiAgICovXG4gIGxpdmVfZW5kZWRfYXQ/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNlc3Npb25SZXNwb25zZVxuICAgKi9cbiAgbGl2ZV9zdGFydGVkX2F0Pzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3sgW2tleTogc3RyaW5nXTogc3RyaW5nOyB9fVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNlc3Npb25SZXNwb25zZVxuICAgKi9cbiAgbWlzc2VkX2J5OiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PENhbGxQYXJ0aWNpcGFudFJlc3BvbnNlPn1cbiAgICogQG1lbWJlcm9mIENhbGxTZXNzaW9uUmVzcG9uc2VcbiAgICovXG4gIHBhcnRpY2lwYW50czogQXJyYXk8Q2FsbFBhcnRpY2lwYW50UmVzcG9uc2U+O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3sgW2tleTogc3RyaW5nXTogbnVtYmVyOyB9fVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNlc3Npb25SZXNwb25zZVxuICAgKi9cbiAgcGFydGljaXBhbnRzX2NvdW50X2J5X3JvbGU6IHsgW2tleTogc3RyaW5nXTogbnVtYmVyIH07XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7eyBba2V5OiBzdHJpbmddOiBzdHJpbmc7IH19XG4gICAqIEBtZW1iZXJvZiBDYWxsU2Vzc2lvblJlc3BvbnNlXG4gICAqL1xuICByZWplY3RlZF9ieTogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2Vzc2lvblJlc3BvbnNlXG4gICAqL1xuICBzdGFydGVkX2F0Pzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxTZXNzaW9uUmVzcG9uc2VcbiAgICovXG4gIHRpbWVyX2VuZHNfYXQ/OiBzdHJpbmc7XG59XG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB3aGVuIGEgY2FsbCBzZXNzaW9uIHN0YXJ0c1xuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsU2Vzc2lvblN0YXJ0ZWRFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxTZXNzaW9uU3RhcnRlZEV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDYWxsUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2Vzc2lvblN0YXJ0ZWRFdmVudFxuICAgKi9cbiAgY2FsbDogQ2FsbFJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxTZXNzaW9uU3RhcnRlZEV2ZW50XG4gICAqL1xuICBjYWxsX2NpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxTZXNzaW9uU3RhcnRlZEV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBDYWxsIHNlc3Npb24gSURcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxTZXNzaW9uU3RhcnRlZEV2ZW50XG4gICAqL1xuICBzZXNzaW9uX2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBldmVudDogXCJjYWxsLnNlc3Npb25fc3RhcnRlZFwiIGluIHRoaXMgY2FzZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNlc3Npb25TdGFydGVkRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbFNldHRpbmdzUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxTZXR0aW5nc1JlcXVlc3Qge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0F1ZGlvU2V0dGluZ3NSZXF1ZXN0fVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgYXVkaW8/OiBBdWRpb1NldHRpbmdzUmVxdWVzdDtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtCYWNrc3RhZ2VTZXR0aW5nc1JlcXVlc3R9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICBiYWNrc3RhZ2U/OiBCYWNrc3RhZ2VTZXR0aW5nc1JlcXVlc3Q7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QnJvYWRjYXN0U2V0dGluZ3NSZXF1ZXN0fVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgYnJvYWRjYXN0aW5nPzogQnJvYWRjYXN0U2V0dGluZ3NSZXF1ZXN0O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0dlb2ZlbmNlU2V0dGluZ3NSZXF1ZXN0fVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgZ2VvZmVuY2luZz86IEdlb2ZlbmNlU2V0dGluZ3NSZXF1ZXN0O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0xpbWl0c1NldHRpbmdzUmVxdWVzdH1cbiAgICogQG1lbWJlcm9mIENhbGxTZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIGxpbWl0cz86IExpbWl0c1NldHRpbmdzUmVxdWVzdDtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtSZWNvcmRTZXR0aW5nc1JlcXVlc3R9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICByZWNvcmRpbmc/OiBSZWNvcmRTZXR0aW5nc1JlcXVlc3Q7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7UmluZ1NldHRpbmdzUmVxdWVzdH1cbiAgICogQG1lbWJlcm9mIENhbGxTZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIHJpbmc/OiBSaW5nU2V0dGluZ3NSZXF1ZXN0O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1NjcmVlbnNoYXJpbmdTZXR0aW5nc1JlcXVlc3R9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICBzY3JlZW5zaGFyaW5nPzogU2NyZWVuc2hhcmluZ1NldHRpbmdzUmVxdWVzdDtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtUaHVtYm5haWxzU2V0dGluZ3NSZXF1ZXN0fVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgdGh1bWJuYWlscz86IFRodW1ibmFpbHNTZXR0aW5nc1JlcXVlc3Q7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VHJhbnNjcmlwdGlvblNldHRpbmdzUmVxdWVzdH1cbiAgICogQG1lbWJlcm9mIENhbGxTZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIHRyYW5zY3JpcHRpb24/OiBUcmFuc2NyaXB0aW9uU2V0dGluZ3NSZXF1ZXN0O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1ZpZGVvU2V0dGluZ3NSZXF1ZXN0fVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgdmlkZW8/OiBWaWRlb1NldHRpbmdzUmVxdWVzdDtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbFNldHRpbmdzUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsU2V0dGluZ3NSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXVkaW9TZXR0aW5nc1Jlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIGF1ZGlvOiBBdWRpb1NldHRpbmdzUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QmFja3N0YWdlU2V0dGluZ3NSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxTZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBiYWNrc3RhZ2U6IEJhY2tzdGFnZVNldHRpbmdzUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QnJvYWRjYXN0U2V0dGluZ3NSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxTZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBicm9hZGNhc3Rpbmc6IEJyb2FkY2FzdFNldHRpbmdzUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7R2VvZmVuY2VTZXR0aW5nc1Jlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIGdlb2ZlbmNpbmc6IEdlb2ZlbmNlU2V0dGluZ3NSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtMaW1pdHNTZXR0aW5nc1Jlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIGxpbWl0czogTGltaXRzU2V0dGluZ3NSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtSZWNvcmRTZXR0aW5nc1Jlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIHJlY29yZGluZzogUmVjb3JkU2V0dGluZ3NSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtSaW5nU2V0dGluZ3NSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxTZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICByaW5nOiBSaW5nU2V0dGluZ3NSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtTY3JlZW5zaGFyaW5nU2V0dGluZ3NSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxTZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBzY3JlZW5zaGFyaW5nOiBTY3JlZW5zaGFyaW5nU2V0dGluZ3NSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtUaHVtYm5haWxzU2V0dGluZ3NSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxTZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICB0aHVtYm5haWxzOiBUaHVtYm5haWxzU2V0dGluZ3NSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtUcmFuc2NyaXB0aW9uU2V0dGluZ3NSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxTZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICB0cmFuc2NyaXB0aW9uOiBUcmFuc2NyaXB0aW9uU2V0dGluZ3NSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtWaWRlb1NldHRpbmdzUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgdmlkZW86IFZpZGVvU2V0dGluZ3NSZXNwb25zZTtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbHNQZXJEYXlSZXBvcnRSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxzUGVyRGF5UmVwb3J0UmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PERhaWx5QWdncmVnYXRlQ2FsbFN0YXRzUmVzcG9uc2U8Q2FsbHNQZXJEYXlSZXBvcnQ+Pn1cbiAgICogQG1lbWJlcm9mIENhbGxzUGVyRGF5UmVwb3J0UmVzcG9uc2VcbiAgICovXG4gIGRhaWx5OiBBcnJheTxEYWlseUFnZ3JlZ2F0ZUNhbGxTdGF0c1Jlc3BvbnNlPENhbGxzUGVyRGF5UmVwb3J0Pj47XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxzUGVyRGF5UmVwb3J0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbHNQZXJEYXlSZXBvcnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIENhbGxzUGVyRGF5UmVwb3J0XG4gICAqL1xuICBjb3VudDogbnVtYmVyO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsU3RhdGVSZXNwb25zZUZpZWxkc1xuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxTdGF0ZVJlc3BvbnNlRmllbGRzIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDYWxsUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsU3RhdGVSZXNwb25zZUZpZWxkc1xuICAgKi9cbiAgY2FsbDogQ2FsbFJlc3BvbnNlO1xuICAvKipcbiAgICogTGlzdCBvZiBjYWxsIG1lbWJlcnNcbiAgICogQHR5cGUge0FycmF5PE1lbWJlclJlc3BvbnNlPn1cbiAgICogQG1lbWJlcm9mIENhbGxTdGF0ZVJlc3BvbnNlRmllbGRzXG4gICAqL1xuICBtZW1iZXJzOiBBcnJheTxNZW1iZXJSZXNwb25zZT47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7TWVtYmVyUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsU3RhdGVSZXNwb25zZUZpZWxkc1xuICAgKi9cbiAgbWVtYmVyc2hpcD86IE1lbWJlclJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PE93bkNhcGFiaWxpdHk+fVxuICAgKiBAbWVtYmVyb2YgQ2FsbFN0YXRlUmVzcG9uc2VGaWVsZHNcbiAgICovXG4gIG93bl9jYXBhYmlsaXRpZXM6IEFycmF5PE93bkNhcGFiaWxpdHk+O1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsU3RhdHNSZXBvcnRTdW1tYXJ5UmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsU3RhdHNSZXBvcnRTdW1tYXJ5UmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxTdGF0c1JlcG9ydFN1bW1hcnlSZXNwb25zZVxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBDYWxsU3RhdHNSZXBvcnRTdW1tYXJ5UmVzcG9uc2VcbiAgICovXG4gIGNhbGxfZHVyYXRpb25fc2Vjb25kczogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxTdGF0c1JlcG9ydFN1bW1hcnlSZXNwb25zZVxuICAgKi9cbiAgY2FsbF9zZXNzaW9uX2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFN0YXRzUmVwb3J0U3VtbWFyeVJlc3BvbnNlXG4gICAqL1xuICBjYWxsX3N0YXR1czogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxTdGF0c1JlcG9ydFN1bW1hcnlSZXNwb25zZVxuICAgKi9cbiAgY3JlYXRlZF9hdD86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsU3RhdHNSZXBvcnRTdW1tYXJ5UmVzcG9uc2VcbiAgICovXG4gIGZpcnN0X3N0YXRzX3RpbWU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBDYWxsU3RhdHNSZXBvcnRTdW1tYXJ5UmVzcG9uc2VcbiAgICovXG4gIHF1YWxpdHlfc2NvcmU/OiBudW1iZXI7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxUaW1lbGluZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxUaW1lbGluZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8Q2FsbEV2ZW50Pn1cbiAgICogQG1lbWJlcm9mIENhbGxUaW1lbGluZVxuICAgKi9cbiAgZXZlbnRzOiBBcnJheTxDYWxsRXZlbnQ+O1xufVxuLyoqXG4gKiBDYWxsVHJhbnNjcmlwdGlvbiByZXByZXNlbnRzIGEgdHJhbnNjcmlwdGlvbiBvZiBhIGNhbGwuXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxUcmFuc2NyaXB0aW9uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbFRyYW5zY3JpcHRpb24ge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxUcmFuc2NyaXB0aW9uXG4gICAqL1xuICBlbmRfdGltZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxUcmFuc2NyaXB0aW9uXG4gICAqL1xuICBmaWxlbmFtZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxUcmFuc2NyaXB0aW9uXG4gICAqL1xuICBzdGFydF90aW1lOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFRyYW5zY3JpcHRpb25cbiAgICovXG4gIHVybDogc3RyaW5nO1xufVxuLyoqXG4gKiBUaGlzIGV2ZW50IGlzIHNlbnQgd2hlbiBjYWxsIHRyYW5zY3JpcHRpb24gaGFzIGZhaWxlZFxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsVHJhbnNjcmlwdGlvbkZhaWxlZEV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbFRyYW5zY3JpcHRpb25GYWlsZWRFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFRyYW5zY3JpcHRpb25GYWlsZWRFdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsVHJhbnNjcmlwdGlvbkZhaWxlZEV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBldmVudDogXCJjYWxsLnRyYW5zY3JpcHRpb25fZmFpbGVkXCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsVHJhbnNjcmlwdGlvbkZhaWxlZEV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG59XG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB3aGVuIGNhbGwgdHJhbnNjcmlwdGlvbiBpcyByZWFkeVxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsVHJhbnNjcmlwdGlvblJlYWR5RXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsVHJhbnNjcmlwdGlvblJlYWR5RXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxUcmFuc2NyaXB0aW9uUmVhZHlFdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDYWxsVHJhbnNjcmlwdGlvbn1cbiAgICogQG1lbWJlcm9mIENhbGxUcmFuc2NyaXB0aW9uUmVhZHlFdmVudFxuICAgKi9cbiAgY2FsbF90cmFuc2NyaXB0aW9uOiBDYWxsVHJhbnNjcmlwdGlvbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsVHJhbnNjcmlwdGlvblJlYWR5RXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50OiBcImNhbGwudHJhbnNjcmlwdGlvbl9yZWFkeVwiIGluIHRoaXMgY2FzZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFRyYW5zY3JpcHRpb25SZWFkeUV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG59XG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB3aGVuIGNhbGwgdHJhbnNjcmlwdGlvbiBoYXMgc3RhcnRlZFxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsVHJhbnNjcmlwdGlvblN0YXJ0ZWRFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxUcmFuc2NyaXB0aW9uU3RhcnRlZEV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsVHJhbnNjcmlwdGlvblN0YXJ0ZWRFdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsVHJhbnNjcmlwdGlvblN0YXJ0ZWRFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQ6IFwiY2FsbC50cmFuc2NyaXB0aW9uX3N0YXJ0ZWRcIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxUcmFuc2NyaXB0aW9uU3RhcnRlZEV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG59XG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB3aGVuIGNhbGwgdHJhbnNjcmlwdGlvbiBoYXMgc3RvcHBlZFxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsVHJhbnNjcmlwdGlvblN0b3BwZWRFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxUcmFuc2NyaXB0aW9uU3RvcHBlZEV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsVHJhbnNjcmlwdGlvblN0b3BwZWRFdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsVHJhbnNjcmlwdGlvblN0b3BwZWRFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQ6IFwiY2FsbC50cmFuc2NyaXB0aW9uX3N0b3BwZWRcIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxUcmFuc2NyaXB0aW9uU3RvcHBlZEV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG59XG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB3aGVuIGEgY2FsbCBpcyB1cGRhdGVkLCBjbGllbnRzIHNob3VsZCB1c2UgdGhpcyB1cGRhdGUgdGhlIGxvY2FsIHN0YXRlIG9mIHRoZSBjYWxsLlxuICogVGhpcyBldmVudCBhbHNvIGNvbnRhaW5zIHRoZSBjYXBhYmlsaXRpZXMgYnkgcm9sZSBmb3IgdGhlIGNhbGwsIGNsaWVudHMgc2hvdWxkIHVwZGF0ZSB0aGUgb3duX2NhcGFiaWxpdHkgZm9yIHRoZSBjdXJyZW50LlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsVXBkYXRlZEV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbFVwZGF0ZWRFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbFJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFVwZGF0ZWRFdmVudFxuICAgKi9cbiAgY2FsbDogQ2FsbFJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxVcGRhdGVkRXZlbnRcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgY2FwYWJpbGl0aWVzIGJ5IHJvbGUgZm9yIHRoaXMgY2FsbFxuICAgKiBAdHlwZSB7eyBba2V5OiBzdHJpbmddOiBBcnJheTxzdHJpbmc+OyB9fVxuICAgKiBAbWVtYmVyb2YgQ2FsbFVwZGF0ZWRFdmVudFxuICAgKi9cbiAgY2FwYWJpbGl0aWVzX2J5X3JvbGU6IHsgW2tleTogc3RyaW5nXTogQXJyYXk8c3RyaW5nPiB9O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxVcGRhdGVkRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50OiBcImNhbGwuZW5kZWRcIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxVcGRhdGVkRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbn1cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHdoZW4gYSBjYWxsIG1lbWJlciBpcyBtdXRlZFxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsVXNlck11dGVkRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsVXNlck11dGVkRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxVc2VyTXV0ZWRFdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsVXNlck11dGVkRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsVXNlck11dGVkRXZlbnRcbiAgICovXG4gIGZyb21fdXNlcl9pZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PHN0cmluZz59XG4gICAqIEBtZW1iZXJvZiBDYWxsVXNlck11dGVkRXZlbnRcbiAgICovXG4gIG11dGVkX3VzZXJfaWRzOiBBcnJheTxzdHJpbmc+O1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQ6IFwiY2FsbC51c2VyX211dGVkXCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsVXNlck11dGVkRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2hhbm5lbENvbmZpZ1dpdGhJbmZvXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2hhbm5lbENvbmZpZ1dpdGhJbmZvIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxzdHJpbmc+fVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbENvbmZpZ1dpdGhJbmZvXG4gICAqL1xuICBhbGxvd2VkX2ZsYWdfcmVhc29ucz86IEFycmF5PHN0cmluZz47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbENvbmZpZ1dpdGhJbmZvXG4gICAqL1xuICBhdXRvbW9kOiBDaGFubmVsQ29uZmlnV2l0aEluZm9BdXRvbW9kRW51bTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsQ29uZmlnV2l0aEluZm9cbiAgICovXG4gIGF1dG9tb2RfYmVoYXZpb3I6IENoYW5uZWxDb25maWdXaXRoSW5mb0F1dG9tb2RCZWhhdmlvckVudW07XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VGhyZXNob2xkc31cbiAgICogQG1lbWJlcm9mIENoYW5uZWxDb25maWdXaXRoSW5mb1xuICAgKi9cbiAgYXV0b21vZF90aHJlc2hvbGRzPzogVGhyZXNob2xkcztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsQ29uZmlnV2l0aEluZm9cbiAgICovXG4gIGJsb2NrbGlzdD86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsQ29uZmlnV2l0aEluZm9cbiAgICovXG4gIGJsb2NrbGlzdF9iZWhhdmlvcj86IENoYW5uZWxDb25maWdXaXRoSW5mb0Jsb2NrbGlzdEJlaGF2aW9yRW51bTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxCbG9ja0xpc3RPcHRpb25zPn1cbiAgICogQG1lbWJlcm9mIENoYW5uZWxDb25maWdXaXRoSW5mb1xuICAgKi9cbiAgYmxvY2tsaXN0cz86IEFycmF5PEJsb2NrTGlzdE9wdGlvbnM+O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PENvbW1hbmQ+fVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbENvbmZpZ1dpdGhJbmZvXG4gICAqL1xuICBjb21tYW5kczogQXJyYXk8Q29tbWFuZD47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIENoYW5uZWxDb25maWdXaXRoSW5mb1xuICAgKi9cbiAgY29ubmVjdF9ldmVudHM6IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbENvbmZpZ1dpdGhJbmZvXG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIENoYW5uZWxDb25maWdXaXRoSW5mb1xuICAgKi9cbiAgY3VzdG9tX2V2ZW50czogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHt7IFtrZXk6IHN0cmluZ106IEFycmF5PHN0cmluZz47IH19XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsQ29uZmlnV2l0aEluZm9cbiAgICovXG4gIGdyYW50cz86IHsgW2tleTogc3RyaW5nXTogQXJyYXk8c3RyaW5nPiB9O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsQ29uZmlnV2l0aEluZm9cbiAgICovXG4gIG1hcmtfbWVzc2FnZXNfcGVuZGluZzogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsQ29uZmlnV2l0aEluZm9cbiAgICovXG4gIG1heF9tZXNzYWdlX2xlbmd0aDogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsQ29uZmlnV2l0aEluZm9cbiAgICovXG4gIG11dGVzOiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENoYW5uZWxDb25maWdXaXRoSW5mb1xuICAgKi9cbiAgbmFtZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIENoYW5uZWxDb25maWdXaXRoSW5mb1xuICAgKi9cbiAgcGFydGl0aW9uX3NpemU/OiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbENvbmZpZ1dpdGhJbmZvXG4gICAqL1xuICBwYXJ0aXRpb25fdHRsPzogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsQ29uZmlnV2l0aEluZm9cbiAgICovXG4gIHBvbGxzOiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsQ29uZmlnV2l0aEluZm9cbiAgICovXG4gIHB1c2hfbm90aWZpY2F0aW9uczogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbENvbmZpZ1dpdGhJbmZvXG4gICAqL1xuICBxdW90ZXM6IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIENoYW5uZWxDb25maWdXaXRoSW5mb1xuICAgKi9cbiAgcmVhY3Rpb25zOiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsQ29uZmlnV2l0aEluZm9cbiAgICovXG4gIHJlYWRfZXZlbnRzOiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsQ29uZmlnV2l0aEluZm9cbiAgICovXG4gIHJlbWluZGVyczogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbENvbmZpZ1dpdGhJbmZvXG4gICAqL1xuICByZXBsaWVzOiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsQ29uZmlnV2l0aEluZm9cbiAgICovXG4gIHNlYXJjaDogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbENvbmZpZ1dpdGhJbmZvXG4gICAqL1xuICB0eXBpbmdfZXZlbnRzOiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENoYW5uZWxDb25maWdXaXRoSW5mb1xuICAgKi9cbiAgdXBkYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsQ29uZmlnV2l0aEluZm9cbiAgICovXG4gIHVwbG9hZHM6IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIENoYW5uZWxDb25maWdXaXRoSW5mb1xuICAgKi9cbiAgdXJsX2VucmljaG1lbnQ6IGJvb2xlYW47XG59XG5cbi8qKlxuICogQGV4cG9ydFxuICovXG5leHBvcnQgY29uc3QgQ2hhbm5lbENvbmZpZ1dpdGhJbmZvQXV0b21vZEVudW0gPSB7XG4gIERJU0FCTEVEOiAnZGlzYWJsZWQnLFxuICBTSU1QTEU6ICdzaW1wbGUnLFxuICBBSTogJ0FJJyxcbn0gYXMgY29uc3Q7XG5leHBvcnQgdHlwZSBDaGFubmVsQ29uZmlnV2l0aEluZm9BdXRvbW9kRW51bSA9XG4gICh0eXBlb2YgQ2hhbm5lbENvbmZpZ1dpdGhJbmZvQXV0b21vZEVudW0pW2tleW9mIHR5cGVvZiBDaGFubmVsQ29uZmlnV2l0aEluZm9BdXRvbW9kRW51bV07XG5cbi8qKlxuICogQGV4cG9ydFxuICovXG5leHBvcnQgY29uc3QgQ2hhbm5lbENvbmZpZ1dpdGhJbmZvQXV0b21vZEJlaGF2aW9yRW51bSA9IHtcbiAgRkxBRzogJ2ZsYWcnLFxuICBCTE9DSzogJ2Jsb2NrJyxcbiAgU0hBRE9XX0JMT0NLOiAnc2hhZG93X2Jsb2NrJyxcbn0gYXMgY29uc3Q7XG5leHBvcnQgdHlwZSBDaGFubmVsQ29uZmlnV2l0aEluZm9BdXRvbW9kQmVoYXZpb3JFbnVtID1cbiAgKHR5cGVvZiBDaGFubmVsQ29uZmlnV2l0aEluZm9BdXRvbW9kQmVoYXZpb3JFbnVtKVtrZXlvZiB0eXBlb2YgQ2hhbm5lbENvbmZpZ1dpdGhJbmZvQXV0b21vZEJlaGF2aW9yRW51bV07XG5cbi8qKlxuICogQGV4cG9ydFxuICovXG5leHBvcnQgY29uc3QgQ2hhbm5lbENvbmZpZ1dpdGhJbmZvQmxvY2tsaXN0QmVoYXZpb3JFbnVtID0ge1xuICBGTEFHOiAnZmxhZycsXG4gIEJMT0NLOiAnYmxvY2snLFxuICBTSEFET1dfQkxPQ0s6ICdzaGFkb3dfYmxvY2snLFxufSBhcyBjb25zdDtcbmV4cG9ydCB0eXBlIENoYW5uZWxDb25maWdXaXRoSW5mb0Jsb2NrbGlzdEJlaGF2aW9yRW51bSA9XG4gICh0eXBlb2YgQ2hhbm5lbENvbmZpZ1dpdGhJbmZvQmxvY2tsaXN0QmVoYXZpb3JFbnVtKVtrZXlvZiB0eXBlb2YgQ2hhbm5lbENvbmZpZ1dpdGhJbmZvQmxvY2tsaXN0QmVoYXZpb3JFbnVtXTtcblxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDaGFubmVsTWVtYmVyXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2hhbm5lbE1lbWJlciB7XG4gIC8qKlxuICAgKiBFeHBpcmF0aW9uIGRhdGUgb2YgdGhlIGJhblxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbE1lbWJlclxuICAgKi9cbiAgYmFuX2V4cGlyZXM/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBXaGV0aGVyIG1lbWJlciBpcyBiYW5uZWQgdGhpcyBjaGFubmVsIG9yIG5vdFxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIENoYW5uZWxNZW1iZXJcbiAgICovXG4gIGJhbm5lZDogYm9vbGVhbjtcbiAgLyoqXG4gICAqIFJvbGUgb2YgdGhlIG1lbWJlciBpbiB0aGUgY2hhbm5lbFxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbE1lbWJlclxuICAgKi9cbiAgY2hhbm5lbF9yb2xlOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBEYXRlL3RpbWUgb2YgY3JlYXRpb25cbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENoYW5uZWxNZW1iZXJcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsTWVtYmVyXG4gICAqL1xuICBkZWxldGVkX2F0Pzogc3RyaW5nO1xuICAvKipcbiAgICogRGF0ZSB3aGVuIGludml0ZSB3YXMgYWNjZXB0ZWRcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENoYW5uZWxNZW1iZXJcbiAgICovXG4gIGludml0ZV9hY2NlcHRlZF9hdD86IHN0cmluZztcbiAgLyoqXG4gICAqIERhdGUgd2hlbiBpbnZpdGUgd2FzIHJlamVjdGVkXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsTWVtYmVyXG4gICAqL1xuICBpbnZpdGVfcmVqZWN0ZWRfYXQ/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBXaGV0aGVyIG1lbWJlciB3YXMgaW52aXRlZCBvciBub3RcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsTWVtYmVyXG4gICAqL1xuICBpbnZpdGVkPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqIFdoZXRoZXIgbWVtYmVyIGlzIGNoYW5uZWwgbW9kZXJhdG9yIG9yIG5vdFxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIENoYW5uZWxNZW1iZXJcbiAgICovXG4gIGlzX21vZGVyYXRvcj86IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIENoYW5uZWxNZW1iZXJcbiAgICovXG4gIG5vdGlmaWNhdGlvbnNfbXV0ZWQ6IGJvb2xlYW47XG4gIC8qKlxuICAgKiBXaGV0aGVyIG1lbWJlciBpcyBzaGFkb3cgYmFubmVkIGluIHRoaXMgY2hhbm5lbCBvciBub3RcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsTWVtYmVyXG4gICAqL1xuICBzaGFkb3dfYmFubmVkOiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENoYW5uZWxNZW1iZXJcbiAgICovXG4gIHN0YXR1cz86IHN0cmluZztcbiAgLyoqXG4gICAqIERhdGUvdGltZSBvZiB0aGUgbGFzdCB1cGRhdGVcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENoYW5uZWxNZW1iZXJcbiAgICovXG4gIHVwZGF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtVc2VyT2JqZWN0fVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbE1lbWJlclxuICAgKi9cbiAgdXNlcj86IFVzZXJPYmplY3Q7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbE1lbWJlclxuICAgKi9cbiAgdXNlcl9pZD86IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2hhbm5lbE11dGVcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDaGFubmVsTXV0ZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2hhbm5lbFJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbE11dGVcbiAgICovXG4gIGNoYW5uZWw/OiBDaGFubmVsUmVzcG9uc2U7XG4gIC8qKlxuICAgKiBEYXRlL3RpbWUgb2YgY3JlYXRpb25cbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENoYW5uZWxNdXRlXG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBEYXRlL3RpbWUgb2YgbXV0ZSBleHBpcmF0aW9uXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsTXV0ZVxuICAgKi9cbiAgZXhwaXJlcz86IHN0cmluZztcbiAgLyoqXG4gICAqIERhdGUvdGltZSBvZiB0aGUgbGFzdCB1cGRhdGVcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENoYW5uZWxNdXRlXG4gICAqL1xuICB1cGRhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VXNlck9iamVjdH1cbiAgICogQG1lbWJlcm9mIENoYW5uZWxNdXRlXG4gICAqL1xuICB1c2VyPzogVXNlck9iamVjdDtcbn1cbi8qKlxuICogUmVwcmVzZW50cyBjaGFubmVsIGluIGNoYXRcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2hhbm5lbFJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2hhbm5lbFJlc3BvbnNlIHtcbiAgLyoqXG4gICAqIFdoZXRoZXIgYXV0byB0cmFuc2xhdGlvbiBpcyBlbmFibGVkIG9yIG5vdFxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIENoYW5uZWxSZXNwb25zZVxuICAgKi9cbiAgYXV0b190cmFuc2xhdGlvbl9lbmFibGVkPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqIExhbmd1YWdlIHRvIHRyYW5zbGF0ZSB0byB3aGVuIGF1dG8gdHJhbnNsYXRpb24gaXMgYWN0aXZlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsUmVzcG9uc2VcbiAgICovXG4gIGF1dG9fdHJhbnNsYXRpb25fbGFuZ3VhZ2U/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBDaGFubmVsIENJRCAoPHR5cGU+OjxpZD4pXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsUmVzcG9uc2VcbiAgICovXG4gIGNpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0NoYW5uZWxDb25maWdXaXRoSW5mb31cbiAgICogQG1lbWJlcm9mIENoYW5uZWxSZXNwb25zZVxuICAgKi9cbiAgY29uZmlnPzogQ2hhbm5lbENvbmZpZ1dpdGhJbmZvO1xuICAvKipcbiAgICogQ29vbGRvd24gcGVyaW9kIGFmdGVyIHNlbmRpbmcgZWFjaCBtZXNzYWdlXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsUmVzcG9uc2VcbiAgICovXG4gIGNvb2xkb3duPzogbnVtYmVyO1xuICAvKipcbiAgICogRGF0ZS90aW1lIG9mIGNyZWF0aW9uXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsUmVzcG9uc2VcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtVc2VyT2JqZWN0fVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbFJlc3BvbnNlXG4gICAqL1xuICBjcmVhdGVkX2J5PzogVXNlck9iamVjdDtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHt7IFtrZXk6IHN0cmluZ106IGFueTsgfX1cbiAgICogQG1lbWJlcm9mIENoYW5uZWxSZXNwb25zZVxuICAgKi9cbiAgY3VzdG9tOiB7IFtrZXk6IHN0cmluZ106IGFueSB9O1xuICAvKipcbiAgICogRGF0ZS90aW1lIG9mIGRlbGV0aW9uXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsUmVzcG9uc2VcbiAgICovXG4gIGRlbGV0ZWRfYXQ/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIENoYW5uZWxSZXNwb25zZVxuICAgKi9cbiAgZGlzYWJsZWQ6IGJvb2xlYW47XG4gIC8qKlxuICAgKiBXaGV0aGVyIGNoYW5uZWwgaXMgZnJvemVuIG9yIG5vdFxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIENoYW5uZWxSZXNwb25zZVxuICAgKi9cbiAgZnJvemVuOiBib29sZWFuO1xuICAvKipcbiAgICogV2hldGhlciB0aGlzIGNoYW5uZWwgaXMgaGlkZGVuIGJ5IGN1cnJlbnQgdXNlciBvciBub3RcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsUmVzcG9uc2VcbiAgICovXG4gIGhpZGRlbj86IGJvb2xlYW47XG4gIC8qKlxuICAgKiBEYXRlIHNpbmNlIHdoZW4gdGhlIG1lc3NhZ2UgaGlzdG9yeSBpcyBhY2Nlc3NpYmxlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsUmVzcG9uc2VcbiAgICovXG4gIGhpZGVfbWVzc2FnZXNfYmVmb3JlPzogc3RyaW5nO1xuICAvKipcbiAgICogQ2hhbm5lbCB1bmlxdWUgSURcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENoYW5uZWxSZXNwb25zZVxuICAgKi9cbiAgaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIERhdGUgb2YgdGhlIGxhc3QgbWVzc2FnZSBzZW50XG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsUmVzcG9uc2VcbiAgICovXG4gIGxhc3RfbWVzc2FnZV9hdD86IHN0cmluZztcbiAgLyoqXG4gICAqIE51bWJlciBvZiBtZW1iZXJzIGluIHRoZSBjaGFubmVsXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsUmVzcG9uc2VcbiAgICovXG4gIG1lbWJlcl9jb3VudD86IG51bWJlcjtcbiAgLyoqXG4gICAqIExpc3Qgb2YgY2hhbm5lbCBtZW1iZXJzIChtYXggMTAwKVxuICAgKiBAdHlwZSB7QXJyYXk8Q2hhbm5lbE1lbWJlcj59XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsUmVzcG9uc2VcbiAgICovXG4gIG1lbWJlcnM/OiBBcnJheTxDaGFubmVsTWVtYmVyPjtcbiAgLyoqXG4gICAqIERhdGUgb2YgbXV0ZSBleHBpcmF0aW9uXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsUmVzcG9uc2VcbiAgICovXG4gIG11dGVfZXhwaXJlc19hdD86IHN0cmluZztcbiAgLyoqXG4gICAqIFdoZXRoZXIgdGhpcyBjaGFubmVsIGlzIG11dGVkIG9yIG5vdFxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIENoYW5uZWxSZXNwb25zZVxuICAgKi9cbiAgbXV0ZWQ/OiBib29sZWFuO1xuICAvKipcbiAgICogTGlzdCBvZiBjaGFubmVsIGNhcGFiaWxpdGllcyBvZiBhdXRoZW50aWNhdGVkIHVzZXJcbiAgICogQHR5cGUge0FycmF5PHN0cmluZz59XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsUmVzcG9uc2VcbiAgICovXG4gIG93bl9jYXBhYmlsaXRpZXM/OiBBcnJheTxzdHJpbmc+O1xuICAvKipcbiAgICogVGVhbSB0aGUgY2hhbm5lbCBiZWxvbmdzIHRvIChtdWx0aS10ZW5hbnQgb25seSlcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENoYW5uZWxSZXNwb25zZVxuICAgKi9cbiAgdGVhbT86IHN0cmluZztcbiAgLyoqXG4gICAqIERhdGUgb2YgdGhlIGxhdGVzdCB0cnVuY2F0aW9uIG9mIHRoZSBjaGFubmVsXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsUmVzcG9uc2VcbiAgICovXG4gIHRydW5jYXRlZF9hdD86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtVc2VyT2JqZWN0fVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbFJlc3BvbnNlXG4gICAqL1xuICB0cnVuY2F0ZWRfYnk/OiBVc2VyT2JqZWN0O1xuICAvKipcbiAgICogVHlwZSBvZiB0aGUgY2hhbm5lbFxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbFJlc3BvbnNlXG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBEYXRlL3RpbWUgb2YgdGhlIGxhc3QgdXBkYXRlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsUmVzcG9uc2VcbiAgICovXG4gIHVwZGF0ZWRfYXQ6IHN0cmluZztcbn1cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHdoZW4gY2xvc2VkIGNhcHRpb25zIGFyZSBiZWluZyBzZW50IGluIGEgY2FsbCwgY2xpZW50cyBzaG91bGQgdXNlIHRoaXMgdG8gc2hvdyB0aGUgY2xvc2VkIGNhcHRpb25zIGluIHRoZSBjYWxsIHNjcmVlblxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDbG9zZWRDYXB0aW9uRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDbG9zZWRDYXB0aW9uRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENsb3NlZENhcHRpb25FdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDYWxsQ2xvc2VkQ2FwdGlvbn1cbiAgICogQG1lbWJlcm9mIENsb3NlZENhcHRpb25FdmVudFxuICAgKi9cbiAgY2xvc2VkX2NhcHRpb246IENhbGxDbG9zZWRDYXB0aW9uO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENsb3NlZENhcHRpb25FdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQ6IFwiY2FsbC5jbG9zZWRfY2FwdGlvblwiIGluIHRoaXMgY2FzZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2xvc2VkQ2FwdGlvbkV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENvbGxlY3RVc2VyRmVlZGJhY2tSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ29sbGVjdFVzZXJGZWVkYmFja1JlcXVlc3Qge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3sgW2tleTogc3RyaW5nXTogYW55OyB9fVxuICAgKiBAbWVtYmVyb2YgQ29sbGVjdFVzZXJGZWVkYmFja1JlcXVlc3RcbiAgICovXG4gIGN1c3RvbT86IHsgW2tleTogc3RyaW5nXTogYW55IH07XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgQ29sbGVjdFVzZXJGZWVkYmFja1JlcXVlc3RcbiAgICovXG4gIHJhdGluZzogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENvbGxlY3RVc2VyRmVlZGJhY2tSZXF1ZXN0XG4gICAqL1xuICByZWFzb24/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ29sbGVjdFVzZXJGZWVkYmFja1JlcXVlc3RcbiAgICovXG4gIHNkazogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENvbGxlY3RVc2VyRmVlZGJhY2tSZXF1ZXN0XG4gICAqL1xuICBzZGtfdmVyc2lvbjogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENvbGxlY3RVc2VyRmVlZGJhY2tSZXF1ZXN0XG4gICAqL1xuICB1c2VyX3Nlc3Npb25faWQ6IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ29sbGVjdFVzZXJGZWVkYmFja1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ29sbGVjdFVzZXJGZWVkYmFja1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqIER1cmF0aW9uIG9mIHRoZSByZXF1ZXN0IGluIG1pbGxpc2Vjb25kc1xuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ29sbGVjdFVzZXJGZWVkYmFja1Jlc3BvbnNlXG4gICAqL1xuICBkdXJhdGlvbjogc3RyaW5nO1xufVxuLyoqXG4gKiBSZXByZXNlbnRzIGN1c3RvbSBjaGF0IGNvbW1hbmRcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ29tbWFuZFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENvbW1hbmQge1xuICAvKipcbiAgICogQXJndW1lbnRzIGhlbHAgdGV4dCwgc2hvd24gaW4gY29tbWFuZHMgYXV0by1jb21wbGV0aW9uXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDb21tYW5kXG4gICAqL1xuICBhcmdzOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBEYXRlL3RpbWUgb2YgY3JlYXRpb25cbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENvbW1hbmRcbiAgICovXG4gIHJlYWRvbmx5IGNyZWF0ZWRfYXQ/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBEZXNjcmlwdGlvbiwgc2hvd24gaW4gY29tbWFuZHMgYXV0by1jb21wbGV0aW9uXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDb21tYW5kXG4gICAqL1xuICBkZXNjcmlwdGlvbjogc3RyaW5nO1xuICAvKipcbiAgICogVW5pcXVlIGNvbW1hbmQgbmFtZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ29tbWFuZFxuICAgKi9cbiAgbmFtZTogc3RyaW5nO1xuICAvKipcbiAgICogU2V0IG5hbWUgdXNlZCBmb3IgZ3JvdXBpbmcgY29tbWFuZHNcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENvbW1hbmRcbiAgICovXG4gIHNldDogc3RyaW5nO1xuICAvKipcbiAgICogRGF0ZS90aW1lIG9mIHRoZSBsYXN0IHVwZGF0ZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ29tbWFuZFxuICAgKi9cbiAgcmVhZG9ubHkgdXBkYXRlZF9hdD86IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ29ubmVjdFVzZXJEZXRhaWxzUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENvbm5lY3RVc2VyRGV0YWlsc1JlcXVlc3Qge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3sgW2tleTogc3RyaW5nXTogYW55OyB9fVxuICAgKiBAbWVtYmVyb2YgQ29ubmVjdFVzZXJEZXRhaWxzUmVxdWVzdFxuICAgKi9cbiAgY3VzdG9tPzogeyBba2V5OiBzdHJpbmddOiBhbnkgfTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDb25uZWN0VXNlckRldGFpbHNSZXF1ZXN0XG4gICAqL1xuICBpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENvbm5lY3RVc2VyRGV0YWlsc1JlcXVlc3RcbiAgICovXG4gIGltYWdlPzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBDb25uZWN0VXNlckRldGFpbHNSZXF1ZXN0XG4gICAqL1xuICBpbnZpc2libGU/OiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENvbm5lY3RVc2VyRGV0YWlsc1JlcXVlc3RcbiAgICovXG4gIGxhbmd1YWdlPzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENvbm5lY3RVc2VyRGV0YWlsc1JlcXVlc3RcbiAgICovXG4gIG5hbWU/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7UHJpdmFjeVNldHRpbmdzfVxuICAgKiBAbWVtYmVyb2YgQ29ubmVjdFVzZXJEZXRhaWxzUmVxdWVzdFxuICAgKi9cbiAgcHJpdmFjeV9zZXR0aW5ncz86IFByaXZhY3lTZXR0aW5ncztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtQdXNoTm90aWZpY2F0aW9uU2V0dGluZ3NJbnB1dH1cbiAgICogQG1lbWJlcm9mIENvbm5lY3RVc2VyRGV0YWlsc1JlcXVlc3RcbiAgICovXG4gIHB1c2hfbm90aWZpY2F0aW9ucz86IFB1c2hOb3RpZmljYXRpb25TZXR0aW5nc0lucHV0O1xufVxuLyoqXG4gKiBUaGlzIGV2ZW50IGlzIHNlbnQgd2hlbiB0aGUgV1MgY29ubmVjdGlvbiBpcyBlc3RhYmxpc2hlZCBhbmQgYXV0aGVudGljYXRlZCwgdGhpcyBldmVudCBjb250YWlucyB0aGUgZnVsbCB1c2VyIG9iamVjdCBhcyBpdCBpcyBzdG9yZWQgb24gdGhlIHNlcnZlclxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDb25uZWN0ZWRFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENvbm5lY3RlZEV2ZW50IHtcbiAgLyoqXG4gICAqIFRoZSBjb25uZWN0aW9uX2lkIGZvciB0aGlzIGNsaWVudFxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ29ubmVjdGVkRXZlbnRcbiAgICovXG4gIGNvbm5lY3Rpb25faWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDb25uZWN0ZWRFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge093blVzZXJSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENvbm5lY3RlZEV2ZW50XG4gICAqL1xuICBtZTogT3duVXNlclJlc3BvbnNlO1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQ6IFwiY29ubmVjdGlvbi5va1wiIGluIHRoaXMgY2FzZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ29ubmVjdGVkRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbn1cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHdoZW4gdGhlIFdTIGNvbm5lY3Rpb24gZmFpbHNcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ29ubmVjdGlvbkVycm9yRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDb25uZWN0aW9uRXJyb3JFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ29ubmVjdGlvbkVycm9yRXZlbnRcbiAgICovXG4gIGNvbm5lY3Rpb25faWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDb25uZWN0aW9uRXJyb3JFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FQSUVycm9yfVxuICAgKiBAbWVtYmVyb2YgQ29ubmVjdGlvbkVycm9yRXZlbnRcbiAgICovXG4gIGVycm9yOiBBUElFcnJvcjtcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50OiBcImNvbm5lY3Rpb24ub2tcIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENvbm5lY3Rpb25FcnJvckV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENvb3JkaW5hdGVzXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ29vcmRpbmF0ZXMge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIENvb3JkaW5hdGVzXG4gICAqL1xuICBsYXRpdHVkZTogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIENvb3JkaW5hdGVzXG4gICAqL1xuICBsb25naXR1ZGU6IG51bWJlcjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ3JlYXRlRGV2aWNlUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENyZWF0ZURldmljZVJlcXVlc3Qge1xuICAvKipcbiAgICogRGV2aWNlIElEXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDcmVhdGVEZXZpY2VSZXF1ZXN0XG4gICAqL1xuICBpZDogc3RyaW5nO1xuICAvKipcbiAgICogUHVzaCBwcm92aWRlclxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ3JlYXRlRGV2aWNlUmVxdWVzdFxuICAgKi9cbiAgcHVzaF9wcm92aWRlcjogQ3JlYXRlRGV2aWNlUmVxdWVzdFB1c2hQcm92aWRlckVudW07XG4gIC8qKlxuICAgKiBQdXNoIHByb3ZpZGVyIG5hbWVcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENyZWF0ZURldmljZVJlcXVlc3RcbiAgICovXG4gIHB1c2hfcHJvdmlkZXJfbmFtZT86IHN0cmluZztcbiAgLyoqXG4gICAqIFdoZW4gdHJ1ZSB0aGUgdG9rZW4gaXMgZm9yIEFwcGxlIFZvSVAgcHVzaCBub3RpZmljYXRpb25zXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgQ3JlYXRlRGV2aWNlUmVxdWVzdFxuICAgKi9cbiAgdm9pcF90b2tlbj86IGJvb2xlYW47XG59XG5cbi8qKlxuICogQGV4cG9ydFxuICovXG5leHBvcnQgY29uc3QgQ3JlYXRlRGV2aWNlUmVxdWVzdFB1c2hQcm92aWRlckVudW0gPSB7XG4gIEZJUkVCQVNFOiAnZmlyZWJhc2UnLFxuICBBUE46ICdhcG4nLFxuICBIVUFXRUk6ICdodWF3ZWknLFxuICBYSUFPTUk6ICd4aWFvbWknLFxufSBhcyBjb25zdDtcbmV4cG9ydCB0eXBlIENyZWF0ZURldmljZVJlcXVlc3RQdXNoUHJvdmlkZXJFbnVtID1cbiAgKHR5cGVvZiBDcmVhdGVEZXZpY2VSZXF1ZXN0UHVzaFByb3ZpZGVyRW51bSlba2V5b2YgdHlwZW9mIENyZWF0ZURldmljZVJlcXVlc3RQdXNoUHJvdmlkZXJFbnVtXTtcblxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDcmVhdGVHdWVzdFJlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDcmVhdGVHdWVzdFJlcXVlc3Qge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1VzZXJSZXF1ZXN0fVxuICAgKiBAbWVtYmVyb2YgQ3JlYXRlR3Vlc3RSZXF1ZXN0XG4gICAqL1xuICB1c2VyOiBVc2VyUmVxdWVzdDtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ3JlYXRlR3Vlc3RSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIENyZWF0ZUd1ZXN0UmVzcG9uc2Uge1xuICAvKipcbiAgICogdGhlIGFjY2VzcyB0b2tlbiB0byBhdXRoZW50aWNhdGUgdGhlIHVzZXJcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENyZWF0ZUd1ZXN0UmVzcG9uc2VcbiAgICovXG4gIGFjY2Vzc190b2tlbjogc3RyaW5nO1xuICAvKipcbiAgICogRHVyYXRpb24gb2YgdGhlIHJlcXVlc3QgaW4gbWlsbGlzZWNvbmRzXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDcmVhdGVHdWVzdFJlc3BvbnNlXG4gICAqL1xuICBkdXJhdGlvbjogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1VzZXJSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENyZWF0ZUd1ZXN0UmVzcG9uc2VcbiAgICovXG4gIHVzZXI6IFVzZXJSZXNwb25zZTtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ3JlZGVudGlhbHNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDcmVkZW50aWFscyB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8SUNFU2VydmVyPn1cbiAgICogQG1lbWJlcm9mIENyZWRlbnRpYWxzXG4gICAqL1xuICBpY2Vfc2VydmVyczogQXJyYXk8SUNFU2VydmVyPjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtTRlVSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENyZWRlbnRpYWxzXG4gICAqL1xuICBzZXJ2ZXI6IFNGVVJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENyZWRlbnRpYWxzXG4gICAqL1xuICB0b2tlbjogc3RyaW5nO1xufVxuLyoqXG4gKiBBIGN1c3RvbSBldmVudCwgdGhpcyBldmVudCBpcyB1c2VkIHRvIHNlbmQgY3VzdG9tIGV2ZW50cyB0byBvdGhlciBwYXJ0aWNpcGFudHMgaW4gdGhlIGNhbGwuXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIEN1c3RvbVZpZGVvRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDdXN0b21WaWRlb0V2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDdXN0b21WaWRlb0V2ZW50XG4gICAqL1xuICBjYWxsX2NpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEN1c3RvbVZpZGVvRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqIEN1c3RvbSBkYXRhIGZvciB0aGlzIG9iamVjdFxuICAgKiBAdHlwZSB7eyBba2V5OiBzdHJpbmddOiBhbnk7IH19XG4gICAqIEBtZW1iZXJvZiBDdXN0b21WaWRlb0V2ZW50XG4gICAqL1xuICBjdXN0b206IHsgW2tleTogc3RyaW5nXTogYW55IH07XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBldmVudCwgXCJjdXN0b21cIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEN1c3RvbVZpZGVvRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtVc2VyUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDdXN0b21WaWRlb0V2ZW50XG4gICAqL1xuICB1c2VyOiBVc2VyUmVzcG9uc2U7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIERlbGV0ZVJlY29yZGluZ1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRGVsZXRlUmVjb3JkaW5nUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIERlbGV0ZVJlY29yZGluZ1Jlc3BvbnNlXG4gICAqL1xuICBkdXJhdGlvbjogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBEZWxldGVUcmFuc2NyaXB0aW9uUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBEZWxldGVUcmFuc2NyaXB0aW9uUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIERlbGV0ZVRyYW5zY3JpcHRpb25SZXNwb25zZVxuICAgKi9cbiAgZHVyYXRpb246IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgRGV2aWNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRGV2aWNlIHtcbiAgLyoqXG4gICAqIERhdGUvdGltZSBvZiBjcmVhdGlvblxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgRGV2aWNlXG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBXaGV0aGVyIGRldmljZSBpcyBkaXNhYmxlZCBvciBub3RcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBEZXZpY2VcbiAgICovXG4gIGRpc2FibGVkPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqIFJlYXNvbiBleHBsYWluaW5nIHdoeSBkZXZpY2UgaGFkIGJlZW4gZGlzYWJsZWRcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIERldmljZVxuICAgKi9cbiAgZGlzYWJsZWRfcmVhc29uPzogc3RyaW5nO1xuICAvKipcbiAgICogRGV2aWNlIElEXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBEZXZpY2VcbiAgICovXG4gIGlkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBQdXNoIHByb3ZpZGVyXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBEZXZpY2VcbiAgICovXG4gIHB1c2hfcHJvdmlkZXI6IHN0cmluZztcbiAgLyoqXG4gICAqIFB1c2ggcHJvdmlkZXIgbmFtZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgRGV2aWNlXG4gICAqL1xuICBwdXNoX3Byb3ZpZGVyX25hbWU/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBVc2VyIElEXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBEZXZpY2VcbiAgICovXG4gIHVzZXJfaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIFdoZW4gdHJ1ZSB0aGUgdG9rZW4gaXMgZm9yIEFwcGxlIFZvSVAgcHVzaCBub3RpZmljYXRpb25zXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgRGV2aWNlXG4gICAqL1xuICB2b2lwPzogYm9vbGVhbjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgRWRnZVJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRWRnZVJlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBFZGdlUmVzcG9uc2VcbiAgICovXG4gIGNvbnRpbmVudF9jb2RlOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgRWRnZVJlc3BvbnNlXG4gICAqL1xuICBjb3VudHJ5X2lzb19jb2RlOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgRWRnZVJlc3BvbnNlXG4gICAqL1xuICBncmVlbjogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEVkZ2VSZXNwb25zZVxuICAgKi9cbiAgaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBFZGdlUmVzcG9uc2VcbiAgICovXG4gIGxhdGVuY3lfdGVzdF91cmw6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBFZGdlUmVzcG9uc2VcbiAgICovXG4gIGxhdGl0dWRlOiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgRWRnZVJlc3BvbnNlXG4gICAqL1xuICBsb25naXR1ZGU6IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBFZGdlUmVzcG9uc2VcbiAgICovXG4gIHJlZDogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEVkZ2VSZXNwb25zZVxuICAgKi9cbiAgc3ViZGl2aXNpb25faXNvX2NvZGU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBFZGdlUmVzcG9uc2VcbiAgICovXG4gIHllbGxvdzogbnVtYmVyO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBFZ3Jlc3NITFNSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIEVncmVzc0hMU1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBFZ3Jlc3NITFNSZXNwb25zZVxuICAgKi9cbiAgcGxheWxpc3RfdXJsOiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIEVncmVzc1JUTVBSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIEVncmVzc1JUTVBSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgRWdyZXNzUlRNUFJlc3BvbnNlXG4gICAqL1xuICBuYW1lOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgRWdyZXNzUlRNUFJlc3BvbnNlXG4gICAqL1xuICBzdHJlYW1fa2V5OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgRWdyZXNzUlRNUFJlc3BvbnNlXG4gICAqL1xuICB1cmw6IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgRWdyZXNzUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBFZ3Jlc3NSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIEVncmVzc1Jlc3BvbnNlXG4gICAqL1xuICBicm9hZGNhc3Rpbmc6IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7RWdyZXNzSExTUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBFZ3Jlc3NSZXNwb25zZVxuICAgKi9cbiAgaGxzPzogRWdyZXNzSExTUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8RWdyZXNzUlRNUFJlc3BvbnNlPn1cbiAgICogQG1lbWJlcm9mIEVncmVzc1Jlc3BvbnNlXG4gICAqL1xuICBydG1wczogQXJyYXk8RWdyZXNzUlRNUFJlc3BvbnNlPjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgRW5kQ2FsbFJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRW5kQ2FsbFJlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBFbmRDYWxsUmVzcG9uc2VcbiAgICovXG4gIGR1cmF0aW9uOiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIEdlb2ZlbmNlU2V0dGluZ3NSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgR2VvZmVuY2VTZXR0aW5nc1JlcXVlc3Qge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PHN0cmluZz59XG4gICAqIEBtZW1iZXJvZiBHZW9mZW5jZVNldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgbmFtZXM/OiBBcnJheTxzdHJpbmc+O1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBHZW9mZW5jZVNldHRpbmdzUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBHZW9mZW5jZVNldHRpbmdzUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PHN0cmluZz59XG4gICAqIEBtZW1iZXJvZiBHZW9mZW5jZVNldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIG5hbWVzOiBBcnJheTxzdHJpbmc+O1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBHZW9sb2NhdGlvblJlc3VsdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIEdlb2xvY2F0aW9uUmVzdWx0IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBHZW9sb2NhdGlvblJlc3VsdFxuICAgKi9cbiAgYWNjdXJhY3lfcmFkaXVzOiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgR2VvbG9jYXRpb25SZXN1bHRcbiAgICovXG4gIGNpdHk6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBHZW9sb2NhdGlvblJlc3VsdFxuICAgKi9cbiAgY29udGluZW50OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgR2VvbG9jYXRpb25SZXN1bHRcbiAgICovXG4gIGNvbnRpbmVudF9jb2RlOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgR2VvbG9jYXRpb25SZXN1bHRcbiAgICovXG4gIGNvdW50cnk6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBHZW9sb2NhdGlvblJlc3VsdFxuICAgKi9cbiAgY291bnRyeV9pc29fY29kZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIEdlb2xvY2F0aW9uUmVzdWx0XG4gICAqL1xuICBsYXRpdHVkZTogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIEdlb2xvY2F0aW9uUmVzdWx0XG4gICAqL1xuICBsb25naXR1ZGU6IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBHZW9sb2NhdGlvblJlc3VsdFxuICAgKi9cbiAgc3ViZGl2aXNpb246IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBHZW9sb2NhdGlvblJlc3VsdFxuICAgKi9cbiAgc3ViZGl2aXNpb25faXNvX2NvZGU6IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgR2V0Q2FsbFJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgR2V0Q2FsbFJlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDYWxsUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBHZXRDYWxsUmVzcG9uc2VcbiAgICovXG4gIGNhbGw6IENhbGxSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBHZXRDYWxsUmVzcG9uc2VcbiAgICovXG4gIGR1cmF0aW9uOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8TWVtYmVyUmVzcG9uc2U+fVxuICAgKiBAbWVtYmVyb2YgR2V0Q2FsbFJlc3BvbnNlXG4gICAqL1xuICBtZW1iZXJzOiBBcnJheTxNZW1iZXJSZXNwb25zZT47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7TWVtYmVyUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBHZXRDYWxsUmVzcG9uc2VcbiAgICovXG4gIG1lbWJlcnNoaXA/OiBNZW1iZXJSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxPd25DYXBhYmlsaXR5Pn1cbiAgICogQG1lbWJlcm9mIEdldENhbGxSZXNwb25zZVxuICAgKi9cbiAgb3duX2NhcGFiaWxpdGllczogQXJyYXk8T3duQ2FwYWJpbGl0eT47XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIEdldENhbGxTdGF0c1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgR2V0Q2FsbFN0YXRzUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIEdldENhbGxTdGF0c1Jlc3BvbnNlXG4gICAqL1xuICBhdmVyYWdlX2Nvbm5lY3Rpb25fdGltZT86IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBHZXRDYWxsU3RhdHNSZXNwb25zZVxuICAgKi9cbiAgY2FsbF9kdXJhdGlvbl9zZWNvbmRzOiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgR2V0Q2FsbFN0YXRzUmVzcG9uc2VcbiAgICovXG4gIGNhbGxfc3RhdHVzOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbFRpbWVsaW5lfVxuICAgKiBAbWVtYmVyb2YgR2V0Q2FsbFN0YXRzUmVzcG9uc2VcbiAgICovXG4gIGNhbGxfdGltZWxpbmU/OiBDYWxsVGltZWxpbmU7XG4gIC8qKlxuICAgKiBEdXJhdGlvbiBvZiB0aGUgcmVxdWVzdCBpbiBtaWxsaXNlY29uZHNcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEdldENhbGxTdGF0c1Jlc3BvbnNlXG4gICAqL1xuICBkdXJhdGlvbjogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1N0YXRzfVxuICAgKiBAbWVtYmVyb2YgR2V0Q2FsbFN0YXRzUmVzcG9uc2VcbiAgICovXG4gIGppdHRlcj86IFN0YXRzO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1N0YXRzfVxuICAgKiBAbWVtYmVyb2YgR2V0Q2FsbFN0YXRzUmVzcG9uc2VcbiAgICovXG4gIGxhdGVuY3k/OiBTdGF0cztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBHZXRDYWxsU3RhdHNSZXNwb25zZVxuICAgKi9cbiAgbWF4X2ZyZWV6ZXNfZHVyYXRpb25fc2Vjb25kczogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIEdldENhbGxTdGF0c1Jlc3BvbnNlXG4gICAqL1xuICBtYXhfcGFydGljaXBhbnRzOiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgR2V0Q2FsbFN0YXRzUmVzcG9uc2VcbiAgICovXG4gIG1heF90b3RhbF9xdWFsaXR5X2xpbWl0YXRpb25fZHVyYXRpb25fc2Vjb25kczogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PFVzZXJTdGF0cz59XG4gICAqIEBtZW1iZXJvZiBHZXRDYWxsU3RhdHNSZXNwb25zZVxuICAgKi9cbiAgcGFydGljaXBhbnRfcmVwb3J0OiBBcnJheTxVc2VyU3RhdHM+O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIEdldENhbGxTdGF0c1Jlc3BvbnNlXG4gICAqL1xuICBwdWJsaXNoaW5nX3BhcnRpY2lwYW50czogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIEdldENhbGxTdGF0c1Jlc3BvbnNlXG4gICAqL1xuICBxdWFsaXR5X3Njb3JlOiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgR2V0Q2FsbFN0YXRzUmVzcG9uc2VcbiAgICovXG4gIHNmdV9jb3VudDogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PFNGVUxvY2F0aW9uUmVzcG9uc2U+fVxuICAgKiBAbWVtYmVyb2YgR2V0Q2FsbFN0YXRzUmVzcG9uc2VcbiAgICovXG4gIHNmdXM6IEFycmF5PFNGVUxvY2F0aW9uUmVzcG9uc2U+O1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBHZXRFZGdlc1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgR2V0RWRnZXNSZXNwb25zZSB7XG4gIC8qKlxuICAgKiBEdXJhdGlvbiBvZiB0aGUgcmVxdWVzdCBpbiBtaWxsaXNlY29uZHNcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEdldEVkZ2VzUmVzcG9uc2VcbiAgICovXG4gIGR1cmF0aW9uOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8RWRnZVJlc3BvbnNlPn1cbiAgICogQG1lbWJlcm9mIEdldEVkZ2VzUmVzcG9uc2VcbiAgICovXG4gIGVkZ2VzOiBBcnJheTxFZGdlUmVzcG9uc2U+O1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBHZXRPckNyZWF0ZUNhbGxSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgR2V0T3JDcmVhdGVDYWxsUmVxdWVzdCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbFJlcXVlc3R9XG4gICAqIEBtZW1iZXJvZiBHZXRPckNyZWF0ZUNhbGxSZXF1ZXN0XG4gICAqL1xuICBkYXRhPzogQ2FsbFJlcXVlc3Q7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgR2V0T3JDcmVhdGVDYWxsUmVxdWVzdFxuICAgKi9cbiAgbWVtYmVyc19saW1pdD86IG51bWJlcjtcbiAgLyoqXG4gICAqIGlmIHByb3ZpZGVkIGl0IHNlbmRzIGEgbm90aWZpY2F0aW9uIGV2ZW50IHRvIHRoZSBtZW1iZXJzIGZvciB0aGlzIGNhbGxcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBHZXRPckNyZWF0ZUNhbGxSZXF1ZXN0XG4gICAqL1xuICBub3RpZnk/OiBib29sZWFuO1xuICAvKipcbiAgICogaWYgcHJvdmlkZWQgaXQgc2VuZHMgYSByaW5nIGV2ZW50IHRvIHRoZSBtZW1iZXJzIGZvciB0aGlzIGNhbGxcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBHZXRPckNyZWF0ZUNhbGxSZXF1ZXN0XG4gICAqL1xuICByaW5nPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgR2V0T3JDcmVhdGVDYWxsUmVxdWVzdFxuICAgKi9cbiAgdmlkZW8/OiBib29sZWFuO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBHZXRPckNyZWF0ZUNhbGxSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIEdldE9yQ3JlYXRlQ2FsbFJlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDYWxsUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBHZXRPckNyZWF0ZUNhbGxSZXNwb25zZVxuICAgKi9cbiAgY2FsbDogQ2FsbFJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBHZXRPckNyZWF0ZUNhbGxSZXNwb25zZVxuICAgKi9cbiAgY3JlYXRlZDogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBHZXRPckNyZWF0ZUNhbGxSZXNwb25zZVxuICAgKi9cbiAgZHVyYXRpb246IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxNZW1iZXJSZXNwb25zZT59XG4gICAqIEBtZW1iZXJvZiBHZXRPckNyZWF0ZUNhbGxSZXNwb25zZVxuICAgKi9cbiAgbWVtYmVyczogQXJyYXk8TWVtYmVyUmVzcG9uc2U+O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge01lbWJlclJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgR2V0T3JDcmVhdGVDYWxsUmVzcG9uc2VcbiAgICovXG4gIG1lbWJlcnNoaXA/OiBNZW1iZXJSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxPd25DYXBhYmlsaXR5Pn1cbiAgICogQG1lbWJlcm9mIEdldE9yQ3JlYXRlQ2FsbFJlc3BvbnNlXG4gICAqL1xuICBvd25fY2FwYWJpbGl0aWVzOiBBcnJheTxPd25DYXBhYmlsaXR5Pjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgR29MaXZlUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIEdvTGl2ZVJlcXVlc3Qge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEdvTGl2ZVJlcXVlc3RcbiAgICovXG4gIHJlY29yZGluZ19zdG9yYWdlX25hbWU/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIEdvTGl2ZVJlcXVlc3RcbiAgICovXG4gIHN0YXJ0X2hscz86IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIEdvTGl2ZVJlcXVlc3RcbiAgICovXG4gIHN0YXJ0X3JlY29yZGluZz86IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIEdvTGl2ZVJlcXVlc3RcbiAgICovXG4gIHN0YXJ0X3RyYW5zY3JpcHRpb24/OiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEdvTGl2ZVJlcXVlc3RcbiAgICovXG4gIHRyYW5zY3JpcHRpb25fc3RvcmFnZV9uYW1lPzogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBHb0xpdmVSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIEdvTGl2ZVJlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDYWxsUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBHb0xpdmVSZXNwb25zZVxuICAgKi9cbiAgY2FsbDogQ2FsbFJlc3BvbnNlO1xuICAvKipcbiAgICogRHVyYXRpb24gb2YgdGhlIHJlcXVlc3QgaW4gbWlsbGlzZWNvbmRzXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBHb0xpdmVSZXNwb25zZVxuICAgKi9cbiAgZHVyYXRpb246IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgSExTU2V0dGluZ3NSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSExTU2V0dGluZ3NSZXF1ZXN0IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgSExTU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICBhdXRvX29uPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgSExTU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICBlbmFibGVkPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxzdHJpbmc+fVxuICAgKiBAbWVtYmVyb2YgSExTU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICBxdWFsaXR5X3RyYWNrczogQXJyYXk8c3RyaW5nPjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgSExTU2V0dGluZ3NSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIEhMU1NldHRpbmdzUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBITFNTZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBhdXRvX29uOiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBITFNTZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBlbmFibGVkOiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PHN0cmluZz59XG4gICAqIEBtZW1iZXJvZiBITFNTZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBxdWFsaXR5X3RyYWNrczogQXJyYXk8c3RyaW5nPjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgSGVhbHRoQ2hlY2tFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIEhlYWx0aENoZWNrRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEhlYWx0aENoZWNrRXZlbnRcbiAgICovXG4gIGNpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEhlYWx0aENoZWNrRXZlbnRcbiAgICovXG4gIGNvbm5lY3Rpb25faWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBIZWFsdGhDaGVja0V2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7T3duVXNlcn1cbiAgICogQG1lbWJlcm9mIEhlYWx0aENoZWNrRXZlbnRcbiAgICovXG4gIG1lPzogT3duVXNlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBIZWFsdGhDaGVja0V2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIElDRVNlcnZlclxuICovXG5leHBvcnQgaW50ZXJmYWNlIElDRVNlcnZlciB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgSUNFU2VydmVyXG4gICAqL1xuICBwYXNzd29yZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PHN0cmluZz59XG4gICAqIEBtZW1iZXJvZiBJQ0VTZXJ2ZXJcbiAgICovXG4gIHVybHM6IEFycmF5PHN0cmluZz47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgSUNFU2VydmVyXG4gICAqL1xuICB1c2VybmFtZTogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBKb2luQ2FsbFJlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBKb2luQ2FsbFJlcXVlc3Qge1xuICAvKipcbiAgICogaWYgdHJ1ZSB0aGUgY2FsbCB3aWxsIGJlIGNyZWF0ZWQgaWYgaXQgZG9lc24ndCBleGlzdFxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIEpvaW5DYWxsUmVxdWVzdFxuICAgKi9cbiAgY3JlYXRlPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDYWxsUmVxdWVzdH1cbiAgICogQG1lbWJlcm9mIEpvaW5DYWxsUmVxdWVzdFxuICAgKi9cbiAgZGF0YT86IENhbGxSZXF1ZXN0O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEpvaW5DYWxsUmVxdWVzdFxuICAgKi9cbiAgbG9jYXRpb246IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBKb2luQ2FsbFJlcXVlc3RcbiAgICovXG4gIG1lbWJlcnNfbGltaXQ/OiBudW1iZXI7XG4gIC8qKlxuICAgKiBJZiB0aGUgcGFydGljaXBhbnQgaXMgbWlncmF0aW5nIGZyb20gYW5vdGhlciBTRlUsIHRoZW4gdGhpcyBpcyB0aGUgSUQgb2YgdGhlIHByZXZpb3VzIFNGVVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgSm9pbkNhbGxSZXF1ZXN0XG4gICAqL1xuICBtaWdyYXRpbmdfZnJvbT86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgSm9pbkNhbGxSZXF1ZXN0XG4gICAqL1xuICBub3RpZnk/OiBib29sZWFuO1xuICAvKipcbiAgICogaWYgdHJ1ZSBhbmQgdGhlIGNhbGwgaXMgY3JlYXRlZCwgdGhlIG5vdGlmaWNhdGlvbiB3aWxsIGluY2x1ZGUgcmluZz10cnVlXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgSm9pbkNhbGxSZXF1ZXN0XG4gICAqL1xuICByaW5nPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgSm9pbkNhbGxSZXF1ZXN0XG4gICAqL1xuICB2aWRlbz86IGJvb2xlYW47XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIEpvaW5DYWxsUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBKb2luQ2FsbFJlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDYWxsUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBKb2luQ2FsbFJlc3BvbnNlXG4gICAqL1xuICBjYWxsOiBDYWxsUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIEpvaW5DYWxsUmVzcG9uc2VcbiAgICovXG4gIGNyZWF0ZWQ6IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q3JlZGVudGlhbHN9XG4gICAqIEBtZW1iZXJvZiBKb2luQ2FsbFJlc3BvbnNlXG4gICAqL1xuICBjcmVkZW50aWFsczogQ3JlZGVudGlhbHM7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgSm9pbkNhbGxSZXNwb25zZVxuICAgKi9cbiAgZHVyYXRpb246IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxNZW1iZXJSZXNwb25zZT59XG4gICAqIEBtZW1iZXJvZiBKb2luQ2FsbFJlc3BvbnNlXG4gICAqL1xuICBtZW1iZXJzOiBBcnJheTxNZW1iZXJSZXNwb25zZT47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7TWVtYmVyUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBKb2luQ2FsbFJlc3BvbnNlXG4gICAqL1xuICBtZW1iZXJzaGlwPzogTWVtYmVyUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8T3duQ2FwYWJpbGl0eT59XG4gICAqIEBtZW1iZXJvZiBKb2luQ2FsbFJlc3BvbnNlXG4gICAqL1xuICBvd25fY2FwYWJpbGl0aWVzOiBBcnJheTxPd25DYXBhYmlsaXR5PjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtTdGF0c09wdGlvbnN9XG4gICAqIEBtZW1iZXJvZiBKb2luQ2FsbFJlc3BvbnNlXG4gICAqL1xuICBzdGF0c19vcHRpb25zOiBTdGF0c09wdGlvbnM7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIExhYmVsVGhyZXNob2xkc1xuICovXG5leHBvcnQgaW50ZXJmYWNlIExhYmVsVGhyZXNob2xkcyB7XG4gIC8qKlxuICAgKiBUaHJlc2hvbGQgZm9yIGF1dG9tYXRpYyBtZXNzYWdlIGJsb2NrXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBMYWJlbFRocmVzaG9sZHNcbiAgICovXG4gIGJsb2NrPzogbnVtYmVyO1xuICAvKipcbiAgICogVGhyZXNob2xkIGZvciBhdXRvbWF0aWMgbWVzc2FnZSBmbGFnXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBMYWJlbFRocmVzaG9sZHNcbiAgICovXG4gIGZsYWc/OiBudW1iZXI7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIExpbWl0c1NldHRpbmdzUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIExpbWl0c1NldHRpbmdzUmVxdWVzdCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgTGltaXRzU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICBtYXhfZHVyYXRpb25fc2Vjb25kcz86IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBMaW1pdHNTZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIG1heF9wYXJ0aWNpcGFudHM/OiBudW1iZXI7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIExpbWl0c1NldHRpbmdzUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBMaW1pdHNTZXR0aW5nc1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBMaW1pdHNTZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBtYXhfZHVyYXRpb25fc2Vjb25kcz86IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBMaW1pdHNTZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBtYXhfcGFydGljaXBhbnRzPzogbnVtYmVyO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBMaXN0RGV2aWNlc1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgTGlzdERldmljZXNSZXNwb25zZSB7XG4gIC8qKlxuICAgKiBMaXN0IG9mIGRldmljZXNcbiAgICogQHR5cGUge0FycmF5PERldmljZT59XG4gICAqIEBtZW1iZXJvZiBMaXN0RGV2aWNlc1Jlc3BvbnNlXG4gICAqL1xuICBkZXZpY2VzOiBBcnJheTxEZXZpY2U+O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIExpc3REZXZpY2VzUmVzcG9uc2VcbiAgICovXG4gIGR1cmF0aW9uOiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIExpc3RSZWNvcmRpbmdzUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBMaXN0UmVjb3JkaW5nc1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBMaXN0UmVjb3JkaW5nc1Jlc3BvbnNlXG4gICAqL1xuICBkdXJhdGlvbjogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PENhbGxSZWNvcmRpbmc+fVxuICAgKiBAbWVtYmVyb2YgTGlzdFJlY29yZGluZ3NSZXNwb25zZVxuICAgKi9cbiAgcmVjb3JkaW5nczogQXJyYXk8Q2FsbFJlY29yZGluZz47XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIExpc3RUcmFuc2NyaXB0aW9uc1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgTGlzdFRyYW5zY3JpcHRpb25zUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIExpc3RUcmFuc2NyaXB0aW9uc1Jlc3BvbnNlXG4gICAqL1xuICBkdXJhdGlvbjogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PENhbGxUcmFuc2NyaXB0aW9uPn1cbiAgICogQG1lbWJlcm9mIExpc3RUcmFuc2NyaXB0aW9uc1Jlc3BvbnNlXG4gICAqL1xuICB0cmFuc2NyaXB0aW9uczogQXJyYXk8Q2FsbFRyYW5zY3JpcHRpb24+O1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBMb2NhdGlvblxuICovXG5leHBvcnQgaW50ZXJmYWNlIExvY2F0aW9uIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBMb2NhdGlvblxuICAgKi9cbiAgY29udGluZW50X2NvZGU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBMb2NhdGlvblxuICAgKi9cbiAgY291bnRyeV9pc29fY29kZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIExvY2F0aW9uXG4gICAqL1xuICBzdWJkaXZpc2lvbl9pc29fY29kZTogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBNT1NTdGF0c1xuICovXG5leHBvcnQgaW50ZXJmYWNlIE1PU1N0YXRzIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBNT1NTdGF0c1xuICAgKi9cbiAgYXZlcmFnZV9zY29yZTogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PG51bWJlcj59XG4gICAqIEBtZW1iZXJvZiBNT1NTdGF0c1xuICAgKi9cbiAgaGlzdG9ncmFtX2R1cmF0aW9uX3NlY29uZHM6IEFycmF5PG51bWJlcj47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgTU9TU3RhdHNcbiAgICovXG4gIG1heF9zY29yZTogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIE1PU1N0YXRzXG4gICAqL1xuICBtaW5fc2NvcmU6IG51bWJlcjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgTWVkaWFQdWJTdWJIaW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgTWVkaWFQdWJTdWJIaW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgTWVkaWFQdWJTdWJIaW50XG4gICAqL1xuICBhdWRpb19wdWJsaXNoZWQ6IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIE1lZGlhUHViU3ViSGludFxuICAgKi9cbiAgYXVkaW9fc3Vic2NyaWJlZDogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgTWVkaWFQdWJTdWJIaW50XG4gICAqL1xuICB2aWRlb19wdWJsaXNoZWQ6IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIE1lZGlhUHViU3ViSGludFxuICAgKi9cbiAgdmlkZW9fc3Vic2NyaWJlZDogYm9vbGVhbjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgTWVtYmVyUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIE1lbWJlclJlcXVlc3Qge1xuICAvKipcbiAgICogQ3VzdG9tIGRhdGEgZm9yIHRoaXMgb2JqZWN0XG4gICAqIEB0eXBlIHt7IFtrZXk6IHN0cmluZ106IGFueTsgfX1cbiAgICogQG1lbWJlcm9mIE1lbWJlclJlcXVlc3RcbiAgICovXG4gIGN1c3RvbT86IHsgW2tleTogc3RyaW5nXTogYW55IH07XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgTWVtYmVyUmVxdWVzdFxuICAgKi9cbiAgcm9sZT86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBNZW1iZXJSZXF1ZXN0XG4gICAqL1xuICB1c2VyX2lkOiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIE1lbWJlclJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgTWVtYmVyUmVzcG9uc2Uge1xuICAvKipcbiAgICogRGF0ZS90aW1lIG9mIGNyZWF0aW9uXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBNZW1iZXJSZXNwb25zZVxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICogQ3VzdG9tIG1lbWJlciByZXNwb25zZSBkYXRhXG4gICAqIEB0eXBlIHt7IFtrZXk6IHN0cmluZ106IGFueTsgfX1cbiAgICogQG1lbWJlcm9mIE1lbWJlclJlc3BvbnNlXG4gICAqL1xuICBjdXN0b206IHsgW2tleTogc3RyaW5nXTogYW55IH07XG4gIC8qKlxuICAgKiBEYXRlL3RpbWUgb2YgZGVsZXRpb25cbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIE1lbWJlclJlc3BvbnNlXG4gICAqL1xuICBkZWxldGVkX2F0Pzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIE1lbWJlclJlc3BvbnNlXG4gICAqL1xuICByb2xlPzogc3RyaW5nO1xuICAvKipcbiAgICogRGF0ZS90aW1lIG9mIHRoZSBsYXN0IHVwZGF0ZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgTWVtYmVyUmVzcG9uc2VcbiAgICovXG4gIHVwZGF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtVc2VyUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBNZW1iZXJSZXNwb25zZVxuICAgKi9cbiAgdXNlcjogVXNlclJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIE1lbWJlclJlc3BvbnNlXG4gICAqL1xuICB1c2VyX2lkOiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIE11dGVVc2Vyc1JlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBNdXRlVXNlcnNSZXF1ZXN0IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgTXV0ZVVzZXJzUmVxdWVzdFxuICAgKi9cbiAgYXVkaW8/OiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBNdXRlVXNlcnNSZXF1ZXN0XG4gICAqL1xuICBtdXRlX2FsbF91c2Vycz86IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIE11dGVVc2Vyc1JlcXVlc3RcbiAgICovXG4gIHNjcmVlbnNoYXJlPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgTXV0ZVVzZXJzUmVxdWVzdFxuICAgKi9cbiAgc2NyZWVuc2hhcmVfYXVkaW8/OiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PHN0cmluZz59XG4gICAqIEBtZW1iZXJvZiBNdXRlVXNlcnNSZXF1ZXN0XG4gICAqL1xuICB1c2VyX2lkcz86IEFycmF5PHN0cmluZz47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIE11dGVVc2Vyc1JlcXVlc3RcbiAgICovXG4gIHZpZGVvPzogYm9vbGVhbjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgTXV0ZVVzZXJzUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBNdXRlVXNlcnNSZXNwb25zZSB7XG4gIC8qKlxuICAgKiBEdXJhdGlvbiBvZiB0aGUgcmVxdWVzdCBpbiBtaWxsaXNlY29uZHNcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIE11dGVVc2Vyc1Jlc3BvbnNlXG4gICAqL1xuICBkdXJhdGlvbjogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBOZXR3b3JrTWV0cmljc1JlcG9ydFJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgTmV0d29ya01ldHJpY3NSZXBvcnRSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgTmV0d29ya01ldHJpY3NSZXBvcnRSZXNwb25zZVxuICAgKi9cbiAgYXZlcmFnZV9jb25uZWN0aW9uX3RpbWU/OiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgTmV0d29ya01ldHJpY3NSZXBvcnRSZXNwb25zZVxuICAgKi9cbiAgYXZlcmFnZV9qaXR0ZXI/OiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgTmV0d29ya01ldHJpY3NSZXBvcnRSZXNwb25zZVxuICAgKi9cbiAgYXZlcmFnZV9sYXRlbmN5PzogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIE5ldHdvcmtNZXRyaWNzUmVwb3J0UmVzcG9uc2VcbiAgICovXG4gIGF2ZXJhZ2VfdGltZV90b19yZWNvbm5lY3Q/OiBudW1iZXI7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIE5vaXNlQ2FuY2VsbGF0aW9uU2V0dGluZ3NcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBOb2lzZUNhbmNlbGxhdGlvblNldHRpbmdzIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBOb2lzZUNhbmNlbGxhdGlvblNldHRpbmdzXG4gICAqL1xuICBtb2RlOiBOb2lzZUNhbmNlbGxhdGlvblNldHRpbmdzTW9kZUVudW07XG59XG5cbi8qKlxuICogQGV4cG9ydFxuICovXG5leHBvcnQgY29uc3QgTm9pc2VDYW5jZWxsYXRpb25TZXR0aW5nc01vZGVFbnVtID0ge1xuICBBVkFJTEFCTEU6ICdhdmFpbGFibGUnLFxuICBESVNBQkxFRDogJ2Rpc2FibGVkJyxcbiAgQVVUT19PTjogJ2F1dG8tb24nLFxufSBhcyBjb25zdDtcbmV4cG9ydCB0eXBlIE5vaXNlQ2FuY2VsbGF0aW9uU2V0dGluZ3NNb2RlRW51bSA9XG4gICh0eXBlb2YgTm9pc2VDYW5jZWxsYXRpb25TZXR0aW5nc01vZGVFbnVtKVtrZXlvZiB0eXBlb2YgTm9pc2VDYW5jZWxsYXRpb25TZXR0aW5nc01vZGVFbnVtXTtcblxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBOdWxsQm9vbFxuICovXG5leHBvcnQgaW50ZXJmYWNlIE51bGxCb29sIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgTnVsbEJvb2xcbiAgICovXG4gIEhhc1ZhbHVlPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgTnVsbEJvb2xcbiAgICovXG4gIFZhbHVlPzogYm9vbGVhbjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgTnVsbFRpbWVcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBOdWxsVGltZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIE51bGxUaW1lXG4gICAqL1xuICBIYXNWYWx1ZT86IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgTnVsbFRpbWVcbiAgICovXG4gIFZhbHVlPzogc3RyaW5nO1xufVxuXG4vKipcbiAqIEFsbCBwb3NzaWJpbGl0eSBvZiBzdHJpbmcgdG8gdXNlXG4gKiBAZXhwb3J0XG4gKi9cbmV4cG9ydCBjb25zdCBPd25DYXBhYmlsaXR5ID0ge1xuICBCTE9DS19VU0VSUzogJ2Jsb2NrLXVzZXJzJyxcbiAgQ0hBTkdFX01BWF9EVVJBVElPTjogJ2NoYW5nZS1tYXgtZHVyYXRpb24nLFxuICBDUkVBVEVfQ0FMTDogJ2NyZWF0ZS1jYWxsJyxcbiAgQ1JFQVRFX1JFQUNUSU9OOiAnY3JlYXRlLXJlYWN0aW9uJyxcbiAgRU5BQkxFX05PSVNFX0NBTkNFTExBVElPTjogJ2VuYWJsZS1ub2lzZS1jYW5jZWxsYXRpb24nLFxuICBFTkRfQ0FMTDogJ2VuZC1jYWxsJyxcbiAgSk9JTl9CQUNLU1RBR0U6ICdqb2luLWJhY2tzdGFnZScsXG4gIEpPSU5fQ0FMTDogJ2pvaW4tY2FsbCcsXG4gIEpPSU5fRU5ERURfQ0FMTDogJ2pvaW4tZW5kZWQtY2FsbCcsXG4gIE1VVEVfVVNFUlM6ICdtdXRlLXVzZXJzJyxcbiAgUElOX0ZPUl9FVkVSWU9ORTogJ3Bpbi1mb3ItZXZlcnlvbmUnLFxuICBSRUFEX0NBTEw6ICdyZWFkLWNhbGwnLFxuICBSRU1PVkVfQ0FMTF9NRU1CRVI6ICdyZW1vdmUtY2FsbC1tZW1iZXInLFxuICBTQ1JFRU5TSEFSRTogJ3NjcmVlbnNoYXJlJyxcbiAgU0VORF9BVURJTzogJ3NlbmQtYXVkaW8nLFxuICBTRU5EX1ZJREVPOiAnc2VuZC12aWRlbycsXG4gIFNUQVJUX0JST0FEQ0FTVF9DQUxMOiAnc3RhcnQtYnJvYWRjYXN0LWNhbGwnLFxuICBTVEFSVF9SRUNPUkRfQ0FMTDogJ3N0YXJ0LXJlY29yZC1jYWxsJyxcbiAgU1RBUlRfVFJBTlNDUklQVElPTl9DQUxMOiAnc3RhcnQtdHJhbnNjcmlwdGlvbi1jYWxsJyxcbiAgU1RPUF9CUk9BRENBU1RfQ0FMTDogJ3N0b3AtYnJvYWRjYXN0LWNhbGwnLFxuICBTVE9QX1JFQ09SRF9DQUxMOiAnc3RvcC1yZWNvcmQtY2FsbCcsXG4gIFNUT1BfVFJBTlNDUklQVElPTl9DQUxMOiAnc3RvcC10cmFuc2NyaXB0aW9uLWNhbGwnLFxuICBVUERBVEVfQ0FMTDogJ3VwZGF0ZS1jYWxsJyxcbiAgVVBEQVRFX0NBTExfTUVNQkVSOiAndXBkYXRlLWNhbGwtbWVtYmVyJyxcbiAgVVBEQVRFX0NBTExfUEVSTUlTU0lPTlM6ICd1cGRhdGUtY2FsbC1wZXJtaXNzaW9ucycsXG4gIFVQREFURV9DQUxMX1NFVFRJTkdTOiAndXBkYXRlLWNhbGwtc2V0dGluZ3MnLFxufSBhcyBjb25zdDtcbmV4cG9ydCB0eXBlIE93bkNhcGFiaWxpdHkgPSAodHlwZW9mIE93bkNhcGFiaWxpdHkpW2tleW9mIHR5cGVvZiBPd25DYXBhYmlsaXR5XTtcblxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBPd25Vc2VyXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgT3duVXNlciB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIE93blVzZXJcbiAgICovXG4gIGJhbm5lZDogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxzdHJpbmc+fVxuICAgKiBAbWVtYmVyb2YgT3duVXNlclxuICAgKi9cbiAgYmxvY2tlZF91c2VyX2lkcz86IEFycmF5PHN0cmluZz47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8Q2hhbm5lbE11dGU+fVxuICAgKiBAbWVtYmVyb2YgT3duVXNlclxuICAgKi9cbiAgY2hhbm5lbF9tdXRlczogQXJyYXk8Q2hhbm5lbE11dGU+O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIE93blVzZXJcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHt7IFtrZXk6IHN0cmluZ106IGFueTsgfX1cbiAgICogQG1lbWJlcm9mIE93blVzZXJcbiAgICovXG4gIGN1c3RvbTogeyBba2V5OiBzdHJpbmddOiBhbnkgfTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBPd25Vc2VyXG4gICAqL1xuICBkZWFjdGl2YXRlZF9hdD86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBPd25Vc2VyXG4gICAqL1xuICBkZWxldGVkX2F0Pzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PERldmljZT59XG4gICAqIEBtZW1iZXJvZiBPd25Vc2VyXG4gICAqL1xuICBkZXZpY2VzOiBBcnJheTxEZXZpY2U+O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIE93blVzZXJcbiAgICovXG4gIGlkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIE93blVzZXJcbiAgICovXG4gIGludmlzaWJsZT86IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgT3duVXNlclxuICAgKi9cbiAgbGFuZ3VhZ2U6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBPd25Vc2VyXG4gICAqL1xuICBsYXN0X2FjdGl2ZT86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxzdHJpbmc+fVxuICAgKiBAbWVtYmVyb2YgT3duVXNlclxuICAgKi9cbiAgbGF0ZXN0X2hpZGRlbl9jaGFubmVscz86IEFycmF5PHN0cmluZz47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8VXNlck11dGU+fVxuICAgKiBAbWVtYmVyb2YgT3duVXNlclxuICAgKi9cbiAgbXV0ZXM6IEFycmF5PFVzZXJNdXRlPjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgT3duVXNlclxuICAgKi9cbiAgb25saW5lOiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1ByaXZhY3lTZXR0aW5nc31cbiAgICogQG1lbWJlcm9mIE93blVzZXJcbiAgICovXG4gIHByaXZhY3lfc2V0dGluZ3M/OiBQcml2YWN5U2V0dGluZ3M7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7UHVzaE5vdGlmaWNhdGlvblNldHRpbmdzfVxuICAgKiBAbWVtYmVyb2YgT3duVXNlclxuICAgKi9cbiAgcHVzaF9ub3RpZmljYXRpb25zPzogUHVzaE5vdGlmaWNhdGlvblNldHRpbmdzO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIE93blVzZXJcbiAgICovXG4gIHJvbGU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxzdHJpbmc+fVxuICAgKiBAbWVtYmVyb2YgT3duVXNlclxuICAgKi9cbiAgdGVhbXM/OiBBcnJheTxzdHJpbmc+O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIE93blVzZXJcbiAgICovXG4gIHRvdGFsX3VucmVhZF9jb3VudDogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIE93blVzZXJcbiAgICovXG4gIHVucmVhZF9jaGFubmVsczogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIE93blVzZXJcbiAgICovXG4gIHVucmVhZF9jb3VudDogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIE93blVzZXJcbiAgICovXG4gIHVucmVhZF90aHJlYWRzOiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgT3duVXNlclxuICAgKi9cbiAgdXBkYXRlZF9hdDogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBPd25Vc2VyUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBPd25Vc2VyUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBPd25Vc2VyUmVzcG9uc2VcbiAgICovXG4gIGJhbm5lZDogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxzdHJpbmc+fVxuICAgKiBAbWVtYmVyb2YgT3duVXNlclJlc3BvbnNlXG4gICAqL1xuICBibG9ja2VkX3VzZXJfaWRzPzogQXJyYXk8c3RyaW5nPjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxDaGFubmVsTXV0ZT59XG4gICAqIEBtZW1iZXJvZiBPd25Vc2VyUmVzcG9uc2VcbiAgICovXG4gIGNoYW5uZWxfbXV0ZXM6IEFycmF5PENoYW5uZWxNdXRlPjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBPd25Vc2VyUmVzcG9uc2VcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHt7IFtrZXk6IHN0cmluZ106IGFueTsgfX1cbiAgICogQG1lbWJlcm9mIE93blVzZXJSZXNwb25zZVxuICAgKi9cbiAgY3VzdG9tOiB7IFtrZXk6IHN0cmluZ106IGFueSB9O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIE93blVzZXJSZXNwb25zZVxuICAgKi9cbiAgZGVhY3RpdmF0ZWRfYXQ/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgT3duVXNlclJlc3BvbnNlXG4gICAqL1xuICBkZWxldGVkX2F0Pzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PERldmljZT59XG4gICAqIEBtZW1iZXJvZiBPd25Vc2VyUmVzcG9uc2VcbiAgICovXG4gIGRldmljZXM6IEFycmF5PERldmljZT47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgT3duVXNlclJlc3BvbnNlXG4gICAqL1xuICBpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIE93blVzZXJSZXNwb25zZVxuICAgKi9cbiAgaW1hZ2U/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIE93blVzZXJSZXNwb25zZVxuICAgKi9cbiAgaW52aXNpYmxlOiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIE93blVzZXJSZXNwb25zZVxuICAgKi9cbiAgbGFuZ3VhZ2U6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBPd25Vc2VyUmVzcG9uc2VcbiAgICovXG4gIGxhc3RfYWN0aXZlPzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PHN0cmluZz59XG4gICAqIEBtZW1iZXJvZiBPd25Vc2VyUmVzcG9uc2VcbiAgICovXG4gIGxhdGVzdF9oaWRkZW5fY2hhbm5lbHM/OiBBcnJheTxzdHJpbmc+O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PFVzZXJNdXRlUmVzcG9uc2U+fVxuICAgKiBAbWVtYmVyb2YgT3duVXNlclJlc3BvbnNlXG4gICAqL1xuICBtdXRlczogQXJyYXk8VXNlck11dGVSZXNwb25zZT47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgT3duVXNlclJlc3BvbnNlXG4gICAqL1xuICBuYW1lPzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBPd25Vc2VyUmVzcG9uc2VcbiAgICovXG4gIG9ubGluZTogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtQcml2YWN5U2V0dGluZ3NSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIE93blVzZXJSZXNwb25zZVxuICAgKi9cbiAgcHJpdmFjeV9zZXR0aW5ncz86IFByaXZhY3lTZXR0aW5nc1Jlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1B1c2hOb3RpZmljYXRpb25TZXR0aW5nc1Jlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgT3duVXNlclJlc3BvbnNlXG4gICAqL1xuICBwdXNoX25vdGlmaWNhdGlvbnM/OiBQdXNoTm90aWZpY2F0aW9uU2V0dGluZ3NSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBPd25Vc2VyUmVzcG9uc2VcbiAgICovXG4gIHJldm9rZV90b2tlbnNfaXNzdWVkX2JlZm9yZT86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBPd25Vc2VyUmVzcG9uc2VcbiAgICovXG4gIHJvbGU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxzdHJpbmc+fVxuICAgKiBAbWVtYmVyb2YgT3duVXNlclJlc3BvbnNlXG4gICAqL1xuICB0ZWFtczogQXJyYXk8c3RyaW5nPjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBPd25Vc2VyUmVzcG9uc2VcbiAgICovXG4gIHRvdGFsX3VucmVhZF9jb3VudDogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIE93blVzZXJSZXNwb25zZVxuICAgKi9cbiAgdW5yZWFkX2NoYW5uZWxzOiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgT3duVXNlclJlc3BvbnNlXG4gICAqL1xuICB1bnJlYWRfdGhyZWFkczogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIE93blVzZXJSZXNwb25zZVxuICAgKi9cbiAgdXBkYXRlZF9hdDogc3RyaW5nO1xufVxuLyoqXG4gKiBUaGlzIGV2ZW50IGlzIHNlbnQgd2hlbiBhIHVzZXIgcmVxdWVzdHMgYWNjZXNzIHRvIGEgZmVhdHVyZSBvbiBhIGNhbGwsXG4gKiBjbGllbnRzIHJlY2VpdmluZyB0aGlzIGV2ZW50IHNob3VsZCBkaXNwbGF5IGEgcGVybWlzc2lvbiByZXF1ZXN0IHRvIHRoZSB1c2VyXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFBlcm1pc3Npb25SZXF1ZXN0RXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBQZXJtaXNzaW9uUmVxdWVzdEV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBQZXJtaXNzaW9uUmVxdWVzdEV2ZW50XG4gICAqL1xuICBjYWxsX2NpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFBlcm1pc3Npb25SZXF1ZXN0RXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSBsaXN0IG9mIHBlcm1pc3Npb25zIHJlcXVlc3RlZCBieSB0aGUgdXNlclxuICAgKiBAdHlwZSB7QXJyYXk8c3RyaW5nPn1cbiAgICogQG1lbWJlcm9mIFBlcm1pc3Npb25SZXF1ZXN0RXZlbnRcbiAgICovXG4gIHBlcm1pc3Npb25zOiBBcnJheTxzdHJpbmc+O1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQ6IFwiY2FsbC5wZXJtaXNzaW9uX3JlcXVlc3RcIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFBlcm1pc3Npb25SZXF1ZXN0RXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtVc2VyUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBQZXJtaXNzaW9uUmVxdWVzdEV2ZW50XG4gICAqL1xuICB1c2VyOiBVc2VyUmVzcG9uc2U7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFBlclNES1VzYWdlUmVwb3J0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUGVyU0RLVXNhZ2VSZXBvcnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3sgW2tleTogc3RyaW5nXTogbnVtYmVyOyB9fVxuICAgKiBAbWVtYmVyb2YgUGVyU0RLVXNhZ2VSZXBvcnRcbiAgICovXG4gIGJ5X3ZlcnNpb246IHsgW2tleTogc3RyaW5nXTogbnVtYmVyIH07XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgUGVyU0RLVXNhZ2VSZXBvcnRcbiAgICovXG4gIHRvdGFsOiBudW1iZXI7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFBpblJlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBQaW5SZXF1ZXN0IHtcbiAgLyoqXG4gICAqIHRoZSBzZXNzaW9uIElEIG9mIHRoZSB1c2VyIHdobyBwaW5uZWQgdGhlIG1lc3NhZ2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFBpblJlcXVlc3RcbiAgICovXG4gIHNlc3Npb25faWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIHRoZSB1c2VyIElEIG9mIHRoZSB1c2VyIHdobyBwaW5uZWQgdGhlIG1lc3NhZ2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFBpblJlcXVlc3RcbiAgICovXG4gIHVzZXJfaWQ6IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgUGluUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBQaW5SZXNwb25zZSB7XG4gIC8qKlxuICAgKiBEdXJhdGlvbiBvZiB0aGUgcmVxdWVzdCBpbiBtaWxsaXNlY29uZHNcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFBpblJlc3BvbnNlXG4gICAqL1xuICBkdXJhdGlvbjogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBQcml2YWN5U2V0dGluZ3NcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBQcml2YWN5U2V0dGluZ3Mge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1JlYWRSZWNlaXB0c31cbiAgICogQG1lbWJlcm9mIFByaXZhY3lTZXR0aW5nc1xuICAgKi9cbiAgcmVhZF9yZWNlaXB0cz86IFJlYWRSZWNlaXB0cztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtUeXBpbmdJbmRpY2F0b3JzfVxuICAgKiBAbWVtYmVyb2YgUHJpdmFjeVNldHRpbmdzXG4gICAqL1xuICB0eXBpbmdfaW5kaWNhdG9ycz86IFR5cGluZ0luZGljYXRvcnM7XG59XG5cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgUHJpdmFjeVNldHRpbmdzUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBQcml2YWN5U2V0dGluZ3NSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7UmVhZFJlY2VpcHRzfVxuICAgKiBAbWVtYmVyb2YgUHJpdmFjeVNldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIHJlYWRfcmVjZWlwdHM/OiBSZWFkUmVjZWlwdHM7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VHlwaW5nSW5kaWNhdG9yc31cbiAgICogQG1lbWJlcm9mIFByaXZhY3lTZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICB0eXBpbmdfaW5kaWNhdG9ycz86IFR5cGluZ0luZGljYXRvcnM7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFB1Ymxpc2hlZFRyYWNrSW5mb1xuICovXG5leHBvcnQgaW50ZXJmYWNlIFB1Ymxpc2hlZFRyYWNrSW5mbyB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgUHVibGlzaGVkVHJhY2tJbmZvXG4gICAqL1xuICBjb2RlY19taW1lX3R5cGU/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgUHVibGlzaGVkVHJhY2tJbmZvXG4gICAqL1xuICBkdXJhdGlvbl9zZWNvbmRzPzogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFB1Ymxpc2hlZFRyYWNrSW5mb1xuICAgKi9cbiAgdHJhY2tfdHlwZT86IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgUHVzaE5vdGlmaWNhdGlvblNldHRpbmdzXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUHVzaE5vdGlmaWNhdGlvblNldHRpbmdzIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgUHVzaE5vdGlmaWNhdGlvblNldHRpbmdzXG4gICAqL1xuICBkaXNhYmxlZD86IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgUHVzaE5vdGlmaWNhdGlvblNldHRpbmdzXG4gICAqL1xuICBkaXNhYmxlZF91bnRpbD86IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgUHVzaE5vdGlmaWNhdGlvblNldHRpbmdzSW5wdXRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBQdXNoTm90aWZpY2F0aW9uU2V0dGluZ3NJbnB1dCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7TnVsbEJvb2x9XG4gICAqIEBtZW1iZXJvZiBQdXNoTm90aWZpY2F0aW9uU2V0dGluZ3NJbnB1dFxuICAgKi9cbiAgZGlzYWJsZWQ/OiBOdWxsQm9vbDtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtOdWxsVGltZX1cbiAgICogQG1lbWJlcm9mIFB1c2hOb3RpZmljYXRpb25TZXR0aW5nc0lucHV0XG4gICAqL1xuICBkaXNhYmxlZF91bnRpbD86IE51bGxUaW1lO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBQdXNoTm90aWZpY2F0aW9uU2V0dGluZ3NSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFB1c2hOb3RpZmljYXRpb25TZXR0aW5nc1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgUHVzaE5vdGlmaWNhdGlvblNldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIGRpc2FibGVkPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBQdXNoTm90aWZpY2F0aW9uU2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgZGlzYWJsZWRfdW50aWw/OiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFF1YWxpdHlTY29yZVJlcG9ydFJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUXVhbGl0eVNjb3JlUmVwb3J0UmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PERhaWx5QWdncmVnYXRlQ2FsbFN0YXRzUmVzcG9uc2U8UXVhbGl0eVNjb3JlUmVwb3J0Pj59XG4gICAqIEBtZW1iZXJvZiBRdWFsaXR5U2NvcmVSZXBvcnRSZXNwb25zZVxuICAgKi9cbiAgZGFpbHk6IEFycmF5PERhaWx5QWdncmVnYXRlQ2FsbFN0YXRzUmVzcG9uc2U8UXVhbGl0eVNjb3JlUmVwb3J0Pj47XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFF1YWxpdHlTY29yZVJlcG9ydFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFF1YWxpdHlTY29yZVJlcG9ydCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8UmVwb3J0QnlIaXN0b2dyYW1CdWNrZXQ+fVxuICAgKiBAbWVtYmVyb2YgUXVhbGl0eVNjb3JlUmVwb3J0XG4gICAqL1xuICBoaXN0b2dyYW06IEFycmF5PFJlcG9ydEJ5SGlzdG9ncmFtQnVja2V0Pjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgUXVlcnlBZ2dyZWdhdGVDYWxsU3RhdHNSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUXVlcnlBZ2dyZWdhdGVDYWxsU3RhdHNSZXF1ZXN0IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBRdWVyeUFnZ3JlZ2F0ZUNhbGxTdGF0c1JlcXVlc3RcbiAgICovXG4gIGZyb20/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8c3RyaW5nPn1cbiAgICogQG1lbWJlcm9mIFF1ZXJ5QWdncmVnYXRlQ2FsbFN0YXRzUmVxdWVzdFxuICAgKi9cbiAgcmVwb3J0X3R5cGVzPzogQXJyYXk8c3RyaW5nPjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBRdWVyeUFnZ3JlZ2F0ZUNhbGxTdGF0c1JlcXVlc3RcbiAgICovXG4gIHRvPzogc3RyaW5nO1xufVxuLyoqXG4gKiBCYXNpYyByZXNwb25zZSBpbmZvcm1hdGlvblxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBRdWVyeUFnZ3JlZ2F0ZUNhbGxTdGF0c1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUXVlcnlBZ2dyZWdhdGVDYWxsU3RhdHNSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbER1cmF0aW9uUmVwb3J0UmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBRdWVyeUFnZ3JlZ2F0ZUNhbGxTdGF0c1Jlc3BvbnNlXG4gICAqL1xuICBjYWxsX2R1cmF0aW9uX3JlcG9ydD86IENhbGxEdXJhdGlvblJlcG9ydFJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0NhbGxQYXJ0aWNpcGFudENvdW50UmVwb3J0UmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBRdWVyeUFnZ3JlZ2F0ZUNhbGxTdGF0c1Jlc3BvbnNlXG4gICAqL1xuICBjYWxsX3BhcnRpY2lwYW50X2NvdW50X3JlcG9ydD86IENhbGxQYXJ0aWNpcGFudENvdW50UmVwb3J0UmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbHNQZXJEYXlSZXBvcnRSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIFF1ZXJ5QWdncmVnYXRlQ2FsbFN0YXRzUmVzcG9uc2VcbiAgICovXG4gIGNhbGxzX3Blcl9kYXlfcmVwb3J0PzogQ2FsbHNQZXJEYXlSZXBvcnRSZXNwb25zZTtcbiAgLyoqXG4gICAqIER1cmF0aW9uIG9mIHRoZSByZXF1ZXN0IGluIG1pbGxpc2Vjb25kc1xuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgUXVlcnlBZ2dyZWdhdGVDYWxsU3RhdHNSZXNwb25zZVxuICAgKi9cbiAgZHVyYXRpb246IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtOZXR3b3JrTWV0cmljc1JlcG9ydFJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgUXVlcnlBZ2dyZWdhdGVDYWxsU3RhdHNSZXNwb25zZVxuICAgKi9cbiAgbmV0d29ya19tZXRyaWNzX3JlcG9ydD86IE5ldHdvcmtNZXRyaWNzUmVwb3J0UmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7UXVhbGl0eVNjb3JlUmVwb3J0UmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBRdWVyeUFnZ3JlZ2F0ZUNhbGxTdGF0c1Jlc3BvbnNlXG4gICAqL1xuICBxdWFsaXR5X3Njb3JlX3JlcG9ydD86IFF1YWxpdHlTY29yZVJlcG9ydFJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1NES1VzYWdlUmVwb3J0UmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBRdWVyeUFnZ3JlZ2F0ZUNhbGxTdGF0c1Jlc3BvbnNlXG4gICAqL1xuICBzZGtfdXNhZ2VfcmVwb3J0PzogU0RLVXNhZ2VSZXBvcnRSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtVc2VyRmVlZGJhY2tSZXBvcnRSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIFF1ZXJ5QWdncmVnYXRlQ2FsbFN0YXRzUmVzcG9uc2VcbiAgICovXG4gIHVzZXJfZmVlZGJhY2tfcmVwb3J0PzogVXNlckZlZWRiYWNrUmVwb3J0UmVzcG9uc2U7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFF1ZXJ5Q2FsbE1lbWJlcnNSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUXVlcnlDYWxsTWVtYmVyc1JlcXVlc3Qge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3sgW2tleTogc3RyaW5nXTogYW55OyB9fVxuICAgKiBAbWVtYmVyb2YgUXVlcnlDYWxsTWVtYmVyc1JlcXVlc3RcbiAgICovXG4gIGZpbHRlcl9jb25kaXRpb25zPzogeyBba2V5OiBzdHJpbmddOiBhbnkgfTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBRdWVyeUNhbGxNZW1iZXJzUmVxdWVzdFxuICAgKi9cbiAgaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBRdWVyeUNhbGxNZW1iZXJzUmVxdWVzdFxuICAgKi9cbiAgbGltaXQ/OiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgUXVlcnlDYWxsTWVtYmVyc1JlcXVlc3RcbiAgICovXG4gIG5leHQ/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgUXVlcnlDYWxsTWVtYmVyc1JlcXVlc3RcbiAgICovXG4gIHByZXY/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8U29ydFBhcmFtUmVxdWVzdD59XG4gICAqIEBtZW1iZXJvZiBRdWVyeUNhbGxNZW1iZXJzUmVxdWVzdFxuICAgKi9cbiAgc29ydD86IEFycmF5PFNvcnRQYXJhbVJlcXVlc3Q+O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFF1ZXJ5Q2FsbE1lbWJlcnNSZXF1ZXN0XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFF1ZXJ5Q2FsbE1lbWJlcnNSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFF1ZXJ5Q2FsbE1lbWJlcnNSZXNwb25zZSB7XG4gIC8qKlxuICAgKiBEdXJhdGlvbiBvZiB0aGUgcmVxdWVzdCBpbiBtaWxsaXNlY29uZHNcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFF1ZXJ5Q2FsbE1lbWJlcnNSZXNwb25zZVxuICAgKi9cbiAgZHVyYXRpb246IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxNZW1iZXJSZXNwb25zZT59XG4gICAqIEBtZW1iZXJvZiBRdWVyeUNhbGxNZW1iZXJzUmVzcG9uc2VcbiAgICovXG4gIG1lbWJlcnM6IEFycmF5PE1lbWJlclJlc3BvbnNlPjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBRdWVyeUNhbGxNZW1iZXJzUmVzcG9uc2VcbiAgICovXG4gIG5leHQ/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgUXVlcnlDYWxsTWVtYmVyc1Jlc3BvbnNlXG4gICAqL1xuICBwcmV2Pzogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBRdWVyeUNhbGxTdGF0c1JlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBRdWVyeUNhbGxTdGF0c1JlcXVlc3Qge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3sgW2tleTogc3RyaW5nXTogYW55OyB9fVxuICAgKiBAbWVtYmVyb2YgUXVlcnlDYWxsU3RhdHNSZXF1ZXN0XG4gICAqL1xuICBmaWx0ZXJfY29uZGl0aW9ucz86IHsgW2tleTogc3RyaW5nXTogYW55IH07XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgUXVlcnlDYWxsU3RhdHNSZXF1ZXN0XG4gICAqL1xuICBsaW1pdD86IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBRdWVyeUNhbGxTdGF0c1JlcXVlc3RcbiAgICovXG4gIG5leHQ/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgUXVlcnlDYWxsU3RhdHNSZXF1ZXN0XG4gICAqL1xuICBwcmV2Pzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PFNvcnRQYXJhbVJlcXVlc3Q+fVxuICAgKiBAbWVtYmVyb2YgUXVlcnlDYWxsU3RhdHNSZXF1ZXN0XG4gICAqL1xuICBzb3J0PzogQXJyYXk8U29ydFBhcmFtUmVxdWVzdD47XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFF1ZXJ5Q2FsbFN0YXRzUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBRdWVyeUNhbGxTdGF0c1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqIER1cmF0aW9uIG9mIHRoZSByZXF1ZXN0IGluIG1pbGxpc2Vjb25kc1xuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgUXVlcnlDYWxsU3RhdHNSZXNwb25zZVxuICAgKi9cbiAgZHVyYXRpb246IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBRdWVyeUNhbGxTdGF0c1Jlc3BvbnNlXG4gICAqL1xuICBuZXh0Pzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFF1ZXJ5Q2FsbFN0YXRzUmVzcG9uc2VcbiAgICovXG4gIHByZXY/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8Q2FsbFN0YXRzUmVwb3J0U3VtbWFyeVJlc3BvbnNlPn1cbiAgICogQG1lbWJlcm9mIFF1ZXJ5Q2FsbFN0YXRzUmVzcG9uc2VcbiAgICovXG4gIHJlcG9ydHM6IEFycmF5PENhbGxTdGF0c1JlcG9ydFN1bW1hcnlSZXNwb25zZT47XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFF1ZXJ5Q2FsbHNSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUXVlcnlDYWxsc1JlcXVlc3Qge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3sgW2tleTogc3RyaW5nXTogYW55OyB9fVxuICAgKiBAbWVtYmVyb2YgUXVlcnlDYWxsc1JlcXVlc3RcbiAgICovXG4gIGZpbHRlcl9jb25kaXRpb25zPzogeyBba2V5OiBzdHJpbmddOiBhbnkgfTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBRdWVyeUNhbGxzUmVxdWVzdFxuICAgKi9cbiAgbGltaXQ/OiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgUXVlcnlDYWxsc1JlcXVlc3RcbiAgICovXG4gIG5leHQ/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgUXVlcnlDYWxsc1JlcXVlc3RcbiAgICovXG4gIHByZXY/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8U29ydFBhcmFtUmVxdWVzdD59XG4gICAqIEBtZW1iZXJvZiBRdWVyeUNhbGxzUmVxdWVzdFxuICAgKi9cbiAgc29ydD86IEFycmF5PFNvcnRQYXJhbVJlcXVlc3Q+O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBRdWVyeUNhbGxzUmVxdWVzdFxuICAgKi9cbiAgd2F0Y2g/OiBib29sZWFuO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBRdWVyeUNhbGxzUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBRdWVyeUNhbGxzUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PENhbGxTdGF0ZVJlc3BvbnNlRmllbGRzPn1cbiAgICogQG1lbWJlcm9mIFF1ZXJ5Q2FsbHNSZXNwb25zZVxuICAgKi9cbiAgY2FsbHM6IEFycmF5PENhbGxTdGF0ZVJlc3BvbnNlRmllbGRzPjtcbiAgLyoqXG4gICAqIER1cmF0aW9uIG9mIHRoZSByZXF1ZXN0IGluIG1pbGxpc2Vjb25kc1xuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgUXVlcnlDYWxsc1Jlc3BvbnNlXG4gICAqL1xuICBkdXJhdGlvbjogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFF1ZXJ5Q2FsbHNSZXNwb25zZVxuICAgKi9cbiAgbmV4dD86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBRdWVyeUNhbGxzUmVzcG9uc2VcbiAgICovXG4gIHByZXY/OiBzdHJpbmc7XG59XG4vKipcbiAqIFJUTVAgaW5wdXQgc2V0dGluZ3NcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgUlRNUEluZ3Jlc3NcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSVE1QSW5ncmVzcyB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgUlRNUEluZ3Jlc3NcbiAgICovXG4gIGFkZHJlc3M6IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgUmVhY3Rpb25SZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlYWN0aW9uUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3sgW2tleTogc3RyaW5nXTogYW55OyB9fVxuICAgKiBAbWVtYmVyb2YgUmVhY3Rpb25SZXNwb25zZVxuICAgKi9cbiAgY3VzdG9tPzogeyBba2V5OiBzdHJpbmddOiBhbnkgfTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBSZWFjdGlvblJlc3BvbnNlXG4gICAqL1xuICBlbW9qaV9jb2RlPzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFJlYWN0aW9uUmVzcG9uc2VcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtVc2VyUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBSZWFjdGlvblJlc3BvbnNlXG4gICAqL1xuICB1c2VyOiBVc2VyUmVzcG9uc2U7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFJlYWRSZWNlaXB0c1xuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlYWRSZWNlaXB0cyB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIFJlYWRSZWNlaXB0c1xuICAgKi9cbiAgZW5hYmxlZD86IGJvb2xlYW47XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFJlY29yZFNldHRpbmdzUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlY29yZFNldHRpbmdzUmVxdWVzdCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIFJlY29yZFNldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgYXVkaW9fb25seT86IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgUmVjb3JkU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICBtb2RlOiBSZWNvcmRTZXR0aW5nc1JlcXVlc3RNb2RlRW51bTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBSZWNvcmRTZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIHF1YWxpdHk/OiBSZWNvcmRTZXR0aW5nc1JlcXVlc3RRdWFsaXR5RW51bTtcbn1cblxuLyoqXG4gKiBAZXhwb3J0XG4gKi9cbmV4cG9ydCBjb25zdCBSZWNvcmRTZXR0aW5nc1JlcXVlc3RNb2RlRW51bSA9IHtcbiAgQVZBSUxBQkxFOiAnYXZhaWxhYmxlJyxcbiAgRElTQUJMRUQ6ICdkaXNhYmxlZCcsXG4gIEFVVE9fT046ICdhdXRvLW9uJyxcbn0gYXMgY29uc3Q7XG5leHBvcnQgdHlwZSBSZWNvcmRTZXR0aW5nc1JlcXVlc3RNb2RlRW51bSA9XG4gICh0eXBlb2YgUmVjb3JkU2V0dGluZ3NSZXF1ZXN0TW9kZUVudW0pW2tleW9mIHR5cGVvZiBSZWNvcmRTZXR0aW5nc1JlcXVlc3RNb2RlRW51bV07XG5cbi8qKlxuICogQGV4cG9ydFxuICovXG5leHBvcnQgY29uc3QgUmVjb3JkU2V0dGluZ3NSZXF1ZXN0UXVhbGl0eUVudW0gPSB7XG4gIF8zNjBQOiAnMzYwcCcsXG4gIF80ODBQOiAnNDgwcCcsXG4gIF83MjBQOiAnNzIwcCcsXG4gIF8xMDgwUDogJzEwODBwJyxcbiAgXzE0NDBQOiAnMTQ0MHAnLFxuICBQT1JUUkFJVF8zNjBYNjQwOiAncG9ydHJhaXQtMzYweDY0MCcsXG4gIFBPUlRSQUlUXzQ4MFg4NTQ6ICdwb3J0cmFpdC00ODB4ODU0JyxcbiAgUE9SVFJBSVRfNzIwWDEyODA6ICdwb3J0cmFpdC03MjB4MTI4MCcsXG4gIFBPUlRSQUlUXzEwODBYMTkyMDogJ3BvcnRyYWl0LTEwODB4MTkyMCcsXG4gIFBPUlRSQUlUXzE0NDBYMjU2MDogJ3BvcnRyYWl0LTE0NDB4MjU2MCcsXG59IGFzIGNvbnN0O1xuZXhwb3J0IHR5cGUgUmVjb3JkU2V0dGluZ3NSZXF1ZXN0UXVhbGl0eUVudW0gPVxuICAodHlwZW9mIFJlY29yZFNldHRpbmdzUmVxdWVzdFF1YWxpdHlFbnVtKVtrZXlvZiB0eXBlb2YgUmVjb3JkU2V0dGluZ3NSZXF1ZXN0UXVhbGl0eUVudW1dO1xuXG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFJlY29yZFNldHRpbmdzUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZWNvcmRTZXR0aW5nc1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgUmVjb3JkU2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgYXVkaW9fb25seTogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBSZWNvcmRTZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBtb2RlOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgUmVjb3JkU2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgcXVhbGl0eTogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBSZWplY3RDYWxsUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlamVjdENhbGxSZXF1ZXN0IHtcbiAgLyoqXG4gICAqIFJlYXNvbiBmb3IgcmVqZWN0aW5nIHRoZSBjYWxsXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBSZWplY3RDYWxsUmVxdWVzdFxuICAgKi9cbiAgcmVhc29uPzogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBSZWplY3RDYWxsUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZWplY3RDYWxsUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFJlamVjdENhbGxSZXNwb25zZVxuICAgKi9cbiAgZHVyYXRpb246IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgUmVwb3J0QnlIaXN0b2dyYW1CdWNrZXRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZXBvcnRCeUhpc3RvZ3JhbUJ1Y2tldCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgUmVwb3J0QnlIaXN0b2dyYW1CdWNrZXRcbiAgICovXG4gIGNhdGVnb3J5OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgUmVwb3J0QnlIaXN0b2dyYW1CdWNrZXRcbiAgICovXG4gIGNvdW50OiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Qm91bmR9XG4gICAqIEBtZW1iZXJvZiBSZXBvcnRCeUhpc3RvZ3JhbUJ1Y2tldFxuICAgKi9cbiAgbG93ZXJfYm91bmQ/OiBCb3VuZDtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBSZXBvcnRCeUhpc3RvZ3JhbUJ1Y2tldFxuICAgKi9cbiAgbWVhbjogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFJlcG9ydEJ5SGlzdG9ncmFtQnVja2V0XG4gICAqL1xuICBzdW06IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtCb3VuZH1cbiAgICogQG1lbWJlcm9mIFJlcG9ydEJ5SGlzdG9ncmFtQnVja2V0XG4gICAqL1xuICB1cHBlcl9ib3VuZD86IEJvdW5kO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBSZXF1ZXN0UGVybWlzc2lvblJlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZXF1ZXN0UGVybWlzc2lvblJlcXVlc3Qge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PHN0cmluZz59XG4gICAqIEBtZW1iZXJvZiBSZXF1ZXN0UGVybWlzc2lvblJlcXVlc3RcbiAgICovXG4gIHBlcm1pc3Npb25zOiBBcnJheTxzdHJpbmc+O1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBSZXF1ZXN0UGVybWlzc2lvblJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVxdWVzdFBlcm1pc3Npb25SZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgUmVxdWVzdFBlcm1pc3Npb25SZXNwb25zZVxuICAgKi9cbiAgZHVyYXRpb246IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZXNwb25zZSB7XG4gIC8qKlxuICAgKiBEdXJhdGlvbiBvZiB0aGUgcmVxdWVzdCBpbiBtaWxsaXNlY29uZHNcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFJlc3BvbnNlXG4gICAqL1xuICBkdXJhdGlvbjogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBSaW5nU2V0dGluZ3NSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmluZ1NldHRpbmdzUmVxdWVzdCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgUmluZ1NldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgYXV0b19jYW5jZWxfdGltZW91dF9tczogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFJpbmdTZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIGluY29taW5nX2NhbGxfdGltZW91dF9tczogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFJpbmdTZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIG1pc3NlZF9jYWxsX3RpbWVvdXRfbXM/OiBudW1iZXI7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFJpbmdTZXR0aW5nc1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmluZ1NldHRpbmdzUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFJpbmdTZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBhdXRvX2NhbmNlbF90aW1lb3V0X21zOiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgUmluZ1NldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIGluY29taW5nX2NhbGxfdGltZW91dF9tczogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFJpbmdTZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBtaXNzZWRfY2FsbF90aW1lb3V0X21zOiBudW1iZXI7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFNGVUxvY2F0aW9uUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTRlVMb2NhdGlvblJlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDb29yZGluYXRlc31cbiAgICogQG1lbWJlcm9mIFNGVUxvY2F0aW9uUmVzcG9uc2VcbiAgICovXG4gIGNvb3JkaW5hdGVzOiBDb29yZGluYXRlcztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBTRlVMb2NhdGlvblJlc3BvbnNlXG4gICAqL1xuICBkYXRhY2VudGVyOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgU0ZVTG9jYXRpb25SZXNwb25zZVxuICAgKi9cbiAgaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtMb2NhdGlvbn1cbiAgICogQG1lbWJlcm9mIFNGVUxvY2F0aW9uUmVzcG9uc2VcbiAgICovXG4gIGxvY2F0aW9uOiBMb2NhdGlvbjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgU0ZVUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTRlVSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgU0ZVUmVzcG9uc2VcbiAgICovXG4gIGVkZ2VfbmFtZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFNGVVJlc3BvbnNlXG4gICAqL1xuICB1cmw6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBTRlVSZXNwb25zZVxuICAgKi9cbiAgd3NfZW5kcG9pbnQ6IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgU2NyZWVuc2hhcmluZ1NldHRpbmdzUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFNjcmVlbnNoYXJpbmdTZXR0aW5nc1JlcXVlc3Qge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBTY3JlZW5zaGFyaW5nU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICBhY2Nlc3NfcmVxdWVzdF9lbmFibGVkPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgU2NyZWVuc2hhcmluZ1NldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgZW5hYmxlZD86IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VGFyZ2V0UmVzb2x1dGlvbn1cbiAgICogQG1lbWJlcm9mIFNjcmVlbnNoYXJpbmdTZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIHRhcmdldF9yZXNvbHV0aW9uPzogVGFyZ2V0UmVzb2x1dGlvbjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgU2NyZWVuc2hhcmluZ1NldHRpbmdzUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTY3JlZW5zaGFyaW5nU2V0dGluZ3NSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIFNjcmVlbnNoYXJpbmdTZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBhY2Nlc3NfcmVxdWVzdF9lbmFibGVkOiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBTY3JlZW5zaGFyaW5nU2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgZW5hYmxlZDogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtUYXJnZXRSZXNvbHV0aW9ufVxuICAgKiBAbWVtYmVyb2YgU2NyZWVuc2hhcmluZ1NldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIHRhcmdldF9yZXNvbHV0aW9uPzogVGFyZ2V0UmVzb2x1dGlvbjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgU0RLVXNhZ2VSZXBvcnRSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFNES1VzYWdlUmVwb3J0UmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PERhaWx5QWdncmVnYXRlQ2FsbFN0YXRzUmVzcG9uc2U8U0RLVXNhZ2VSZXBvcnQ+Pn1cbiAgICogQG1lbWJlcm9mIFNES1VzYWdlUmVwb3J0UmVzcG9uc2VcbiAgICovXG4gIGRhaWx5OiBBcnJheTxEYWlseUFnZ3JlZ2F0ZUNhbGxTdGF0c1Jlc3BvbnNlPFNES1VzYWdlUmVwb3J0Pj47XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFNES1VzYWdlUmVwb3J0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU0RLVXNhZ2VSZXBvcnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3sgW2tleTogc3RyaW5nXTogUGVyU0RLVXNhZ2VSZXBvcnQ7IH19XG4gICAqIEBtZW1iZXJvZiBTREtVc2FnZVJlcG9ydFxuICAgKi9cbiAgcGVyX3Nka191c2FnZTogeyBba2V5OiBzdHJpbmddOiBQZXJTREtVc2FnZVJlcG9ydCB9O1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBTZW5kQ2FsbEV2ZW50UmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFNlbmRDYWxsRXZlbnRSZXF1ZXN0IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHt7IFtrZXk6IHN0cmluZ106IGFueTsgfX1cbiAgICogQG1lbWJlcm9mIFNlbmRDYWxsRXZlbnRSZXF1ZXN0XG4gICAqL1xuICBjdXN0b20/OiB7IFtrZXk6IHN0cmluZ106IGFueSB9O1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBTZW5kQ2FsbEV2ZW50UmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTZW5kQ2FsbEV2ZW50UmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFNlbmRDYWxsRXZlbnRSZXNwb25zZVxuICAgKi9cbiAgZHVyYXRpb246IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgU2VuZFJlYWN0aW9uUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFNlbmRSZWFjdGlvblJlcXVlc3Qge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3sgW2tleTogc3RyaW5nXTogYW55OyB9fVxuICAgKiBAbWVtYmVyb2YgU2VuZFJlYWN0aW9uUmVxdWVzdFxuICAgKi9cbiAgY3VzdG9tPzogeyBba2V5OiBzdHJpbmddOiBhbnkgfTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBTZW5kUmVhY3Rpb25SZXF1ZXN0XG4gICAqL1xuICBlbW9qaV9jb2RlPzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFNlbmRSZWFjdGlvblJlcXVlc3RcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgU2VuZFJlYWN0aW9uUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTZW5kUmVhY3Rpb25SZXNwb25zZSB7XG4gIC8qKlxuICAgKiBEdXJhdGlvbiBvZiB0aGUgcmVxdWVzdCBpbiBtaWxsaXNlY29uZHNcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFNlbmRSZWFjdGlvblJlc3BvbnNlXG4gICAqL1xuICBkdXJhdGlvbjogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1JlYWN0aW9uUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBTZW5kUmVhY3Rpb25SZXNwb25zZVxuICAgKi9cbiAgcmVhY3Rpb246IFJlYWN0aW9uUmVzcG9uc2U7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFNvcnRQYXJhbVJlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTb3J0UGFyYW1SZXF1ZXN0IHtcbiAgLyoqXG4gICAqIERpcmVjdGlvbiBvZiBzb3J0aW5nLCAxIGZvciBBc2NlbmRpbmcsIC0xIGZvciBEZXNjZW5kaW5nLCBkZWZhdWx0IGlzIDFcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFNvcnRQYXJhbVJlcXVlc3RcbiAgICovXG4gIGRpcmVjdGlvbj86IG51bWJlcjtcbiAgLyoqXG4gICAqIE5hbWUgb2YgZmllbGQgdG8gc29ydCBieVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgU29ydFBhcmFtUmVxdWVzdFxuICAgKi9cbiAgZmllbGQ/OiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFN0YXJ0SExTQnJvYWRjYXN0aW5nUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTdGFydEhMU0Jyb2FkY2FzdGluZ1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqIER1cmF0aW9uIG9mIHRoZSByZXF1ZXN0IGluIG1pbGxpc2Vjb25kc1xuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgU3RhcnRITFNCcm9hZGNhc3RpbmdSZXNwb25zZVxuICAgKi9cbiAgZHVyYXRpb246IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBTdGFydEhMU0Jyb2FkY2FzdGluZ1Jlc3BvbnNlXG4gICAqL1xuICBwbGF5bGlzdF91cmw6IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgU3RhcnRSZWNvcmRpbmdSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU3RhcnRSZWNvcmRpbmdSZXF1ZXN0IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBTdGFydFJlY29yZGluZ1JlcXVlc3RcbiAgICovXG4gIHJlY29yZGluZ19leHRlcm5hbF9zdG9yYWdlPzogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBTdGFydFJlY29yZGluZ1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU3RhcnRSZWNvcmRpbmdSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgU3RhcnRSZWNvcmRpbmdSZXNwb25zZVxuICAgKi9cbiAgZHVyYXRpb246IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgU3RhcnRUcmFuc2NyaXB0aW9uUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFN0YXJ0VHJhbnNjcmlwdGlvblJlcXVlc3Qge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFN0YXJ0VHJhbnNjcmlwdGlvblJlcXVlc3RcbiAgICovXG4gIHRyYW5zY3JpcHRpb25fZXh0ZXJuYWxfc3RvcmFnZT86IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgU3RhcnRUcmFuc2NyaXB0aW9uUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTdGFydFRyYW5zY3JpcHRpb25SZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgU3RhcnRUcmFuc2NyaXB0aW9uUmVzcG9uc2VcbiAgICovXG4gIGR1cmF0aW9uOiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFN0YXRzXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU3RhdHMge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFN0YXRzXG4gICAqL1xuICBhdmVyYWdlX3NlY29uZHM6IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBTdGF0c1xuICAgKi9cbiAgbWF4X3NlY29uZHM6IG51bWJlcjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgU3RhdHNPcHRpb25zXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU3RhdHNPcHRpb25zIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBTdGF0c09wdGlvbnNcbiAgICovXG4gIHJlcG9ydGluZ19pbnRlcnZhbF9tczogbnVtYmVyO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBTdG9wSExTQnJvYWRjYXN0aW5nUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTdG9wSExTQnJvYWRjYXN0aW5nUmVzcG9uc2Uge1xuICAvKipcbiAgICogRHVyYXRpb24gb2YgdGhlIHJlcXVlc3QgaW4gbWlsbGlzZWNvbmRzXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBTdG9wSExTQnJvYWRjYXN0aW5nUmVzcG9uc2VcbiAgICovXG4gIGR1cmF0aW9uOiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFN0b3BMaXZlUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTdG9wTGl2ZVJlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDYWxsUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBTdG9wTGl2ZVJlc3BvbnNlXG4gICAqL1xuICBjYWxsOiBDYWxsUmVzcG9uc2U7XG4gIC8qKlxuICAgKiBEdXJhdGlvbiBvZiB0aGUgcmVxdWVzdCBpbiBtaWxsaXNlY29uZHNcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFN0b3BMaXZlUmVzcG9uc2VcbiAgICovXG4gIGR1cmF0aW9uOiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFN0b3BSZWNvcmRpbmdSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFN0b3BSZWNvcmRpbmdSZXNwb25zZSB7XG4gIC8qKlxuICAgKiBEdXJhdGlvbiBvZiB0aGUgcmVxdWVzdCBpbiBtaWxsaXNlY29uZHNcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFN0b3BSZWNvcmRpbmdSZXNwb25zZVxuICAgKi9cbiAgZHVyYXRpb246IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgU3RvcFRyYW5zY3JpcHRpb25SZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFN0b3BUcmFuc2NyaXB0aW9uUmVzcG9uc2Uge1xuICAvKipcbiAgICogRHVyYXRpb24gb2YgdGhlIHJlcXVlc3QgaW4gbWlsbGlzZWNvbmRzXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBTdG9wVHJhbnNjcmlwdGlvblJlc3BvbnNlXG4gICAqL1xuICBkdXJhdGlvbjogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBTdWJzZXNzaW9uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU3Vic2Vzc2lvbiB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgU3Vic2Vzc2lvblxuICAgKi9cbiAgZW5kZWRfYXQ6IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBTdWJzZXNzaW9uXG4gICAqL1xuICBqb2luZWRfYXQ6IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtNZWRpYVB1YlN1YkhpbnR9XG4gICAqIEBtZW1iZXJvZiBTdWJzZXNzaW9uXG4gICAqL1xuICBwdWJfc3ViX2hpbnQ/OiBNZWRpYVB1YlN1YkhpbnQ7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgU3Vic2Vzc2lvblxuICAgKi9cbiAgc2Z1X2lkOiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFRhcmdldFJlc29sdXRpb25cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBUYXJnZXRSZXNvbHV0aW9uIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBUYXJnZXRSZXNvbHV0aW9uXG4gICAqL1xuICBiaXRyYXRlPzogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFRhcmdldFJlc29sdXRpb25cbiAgICovXG4gIGhlaWdodDogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFRhcmdldFJlc29sdXRpb25cbiAgICovXG4gIHdpZHRoOiBudW1iZXI7XG59XG4vKipcbiAqIFNldHMgdGhyZXNob2xkcyBmb3IgQUkgbW9kZXJhdGlvblxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBUaHJlc2hvbGRzXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVGhyZXNob2xkcyB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7TGFiZWxUaHJlc2hvbGRzfVxuICAgKiBAbWVtYmVyb2YgVGhyZXNob2xkc1xuICAgKi9cbiAgZXhwbGljaXQ/OiBMYWJlbFRocmVzaG9sZHM7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7TGFiZWxUaHJlc2hvbGRzfVxuICAgKiBAbWVtYmVyb2YgVGhyZXNob2xkc1xuICAgKi9cbiAgc3BhbT86IExhYmVsVGhyZXNob2xkcztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtMYWJlbFRocmVzaG9sZHN9XG4gICAqIEBtZW1iZXJvZiBUaHJlc2hvbGRzXG4gICAqL1xuICB0b3hpYz86IExhYmVsVGhyZXNob2xkcztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgVGh1bWJuYWlsUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBUaHVtYm5haWxSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVGh1bWJuYWlsUmVzcG9uc2VcbiAgICovXG4gIGltYWdlX3VybDogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBUaHVtYm5haWxzU2V0dGluZ3NSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVGh1bWJuYWlsc1NldHRpbmdzUmVxdWVzdCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIFRodW1ibmFpbHNTZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIGVuYWJsZWQ/OiBib29sZWFuO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBUaHVtYm5haWxzU2V0dGluZ3NSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFRodW1ibmFpbHNTZXR0aW5nc1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgVGh1bWJuYWlsc1NldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIGVuYWJsZWQ6IGJvb2xlYW47XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFRyYW5zY3JpcHRpb25TZXR0aW5nc1JlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBUcmFuc2NyaXB0aW9uU2V0dGluZ3NSZXF1ZXN0IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBUcmFuc2NyaXB0aW9uU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICBjbG9zZWRfY2FwdGlvbl9tb2RlPzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PHN0cmluZz59XG4gICAqIEBtZW1iZXJvZiBUcmFuc2NyaXB0aW9uU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICBsYW5ndWFnZXM/OiBBcnJheTxzdHJpbmc+O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFRyYW5zY3JpcHRpb25TZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIG1vZGU6IFRyYW5zY3JpcHRpb25TZXR0aW5nc1JlcXVlc3RNb2RlRW51bTtcbn1cblxuLyoqXG4gKiBAZXhwb3J0XG4gKi9cbmV4cG9ydCBjb25zdCBUcmFuc2NyaXB0aW9uU2V0dGluZ3NSZXF1ZXN0TW9kZUVudW0gPSB7XG4gIEFWQUlMQUJMRTogJ2F2YWlsYWJsZScsXG4gIERJU0FCTEVEOiAnZGlzYWJsZWQnLFxuICBBVVRPX09OOiAnYXV0by1vbicsXG59IGFzIGNvbnN0O1xuZXhwb3J0IHR5cGUgVHJhbnNjcmlwdGlvblNldHRpbmdzUmVxdWVzdE1vZGVFbnVtID1cbiAgKHR5cGVvZiBUcmFuc2NyaXB0aW9uU2V0dGluZ3NSZXF1ZXN0TW9kZUVudW0pW2tleW9mIHR5cGVvZiBUcmFuc2NyaXB0aW9uU2V0dGluZ3NSZXF1ZXN0TW9kZUVudW1dO1xuXG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFRyYW5zY3JpcHRpb25TZXR0aW5nc1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVHJhbnNjcmlwdGlvblNldHRpbmdzUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFRyYW5zY3JpcHRpb25TZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBjbG9zZWRfY2FwdGlvbl9tb2RlOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8c3RyaW5nPn1cbiAgICogQG1lbWJlcm9mIFRyYW5zY3JpcHRpb25TZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBsYW5ndWFnZXM6IEFycmF5PHN0cmluZz47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVHJhbnNjcmlwdGlvblNldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIG1vZGU6IFRyYW5zY3JpcHRpb25TZXR0aW5nc1Jlc3BvbnNlTW9kZUVudW07XG59XG5cbi8qKlxuICogQGV4cG9ydFxuICovXG5leHBvcnQgY29uc3QgVHJhbnNjcmlwdGlvblNldHRpbmdzUmVzcG9uc2VNb2RlRW51bSA9IHtcbiAgQVZBSUxBQkxFOiAnYXZhaWxhYmxlJyxcbiAgRElTQUJMRUQ6ICdkaXNhYmxlZCcsXG4gIEFVVE9fT046ICdhdXRvLW9uJyxcbn0gYXMgY29uc3Q7XG5leHBvcnQgdHlwZSBUcmFuc2NyaXB0aW9uU2V0dGluZ3NSZXNwb25zZU1vZGVFbnVtID1cbiAgKHR5cGVvZiBUcmFuc2NyaXB0aW9uU2V0dGluZ3NSZXNwb25zZU1vZGVFbnVtKVtrZXlvZiB0eXBlb2YgVHJhbnNjcmlwdGlvblNldHRpbmdzUmVzcG9uc2VNb2RlRW51bV07XG5cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgVHlwaW5nSW5kaWNhdG9yc1xuICovXG5leHBvcnQgaW50ZXJmYWNlIFR5cGluZ0luZGljYXRvcnMge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBUeXBpbmdJbmRpY2F0b3JzXG4gICAqL1xuICBlbmFibGVkPzogYm9vbGVhbjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgVW5ibG9ja1VzZXJSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVW5ibG9ja1VzZXJSZXF1ZXN0IHtcbiAgLyoqXG4gICAqIHRoZSB1c2VyIHRvIHVuYmxvY2tcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVuYmxvY2tVc2VyUmVxdWVzdFxuICAgKi9cbiAgdXNlcl9pZDogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBVbmJsb2NrVXNlclJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVW5ibG9ja1VzZXJSZXNwb25zZSB7XG4gIC8qKlxuICAgKiBEdXJhdGlvbiBvZiB0aGUgcmVxdWVzdCBpbiBtaWxsaXNlY29uZHNcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVuYmxvY2tVc2VyUmVzcG9uc2VcbiAgICovXG4gIGR1cmF0aW9uOiBzdHJpbmc7XG59XG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB3aGVuIGEgdXNlciBpcyB1bmJsb2NrZWQgb24gYSBjYWxsLFxuICogdGhpcyBjYW4gYmUgdXNlZnVsIHRvIG5vdGlmeSB0aGUgdXNlciB0aGF0IHRoZXkgY2FuIG5vdyBqb2luIHRoZSBjYWxsIGFnYWluXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFVuYmxvY2tlZFVzZXJFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFVuYmxvY2tlZFVzZXJFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVW5ibG9ja2VkVXNlckV2ZW50XG4gICAqL1xuICBjYWxsX2NpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVuYmxvY2tlZFVzZXJFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQ6IFwiY2FsbC51bmJsb2NrZWRfdXNlclwiIGluIHRoaXMgY2FzZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVW5ibG9ja2VkVXNlckV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VXNlclJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgVW5ibG9ja2VkVXNlckV2ZW50XG4gICAqL1xuICB1c2VyOiBVc2VyUmVzcG9uc2U7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFVucGluUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFVucGluUmVxdWVzdCB7XG4gIC8qKlxuICAgKiB0aGUgc2Vzc2lvbiBJRCBvZiB0aGUgdXNlciB3aG8gcGlubmVkIHRoZSBtZXNzYWdlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVbnBpblJlcXVlc3RcbiAgICovXG4gIHNlc3Npb25faWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIHRoZSB1c2VyIElEIG9mIHRoZSB1c2VyIHdobyBwaW5uZWQgdGhlIG1lc3NhZ2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVucGluUmVxdWVzdFxuICAgKi9cbiAgdXNlcl9pZDogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBVbnBpblJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVW5waW5SZXNwb25zZSB7XG4gIC8qKlxuICAgKiBEdXJhdGlvbiBvZiB0aGUgcmVxdWVzdCBpbiBtaWxsaXNlY29uZHNcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVucGluUmVzcG9uc2VcbiAgICovXG4gIGR1cmF0aW9uOiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFVwZGF0ZUNhbGxNZW1iZXJzUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFVwZGF0ZUNhbGxNZW1iZXJzUmVxdWVzdCB7XG4gIC8qKlxuICAgKiBMaXN0IG9mIHVzZXJJRCB0byByZW1vdmVcbiAgICogQHR5cGUge0FycmF5PHN0cmluZz59XG4gICAqIEBtZW1iZXJvZiBVcGRhdGVDYWxsTWVtYmVyc1JlcXVlc3RcbiAgICovXG4gIHJlbW92ZV9tZW1iZXJzPzogQXJyYXk8c3RyaW5nPjtcbiAgLyoqXG4gICAqIExpc3Qgb2YgbWVtYmVycyB0byB1cGRhdGUgb3IgaW5zZXJ0XG4gICAqIEB0eXBlIHtBcnJheTxNZW1iZXJSZXF1ZXN0Pn1cbiAgICogQG1lbWJlcm9mIFVwZGF0ZUNhbGxNZW1iZXJzUmVxdWVzdFxuICAgKi9cbiAgdXBkYXRlX21lbWJlcnM/OiBBcnJheTxNZW1iZXJSZXF1ZXN0Pjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgVXBkYXRlQ2FsbE1lbWJlcnNSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFVwZGF0ZUNhbGxNZW1iZXJzUmVzcG9uc2Uge1xuICAvKipcbiAgICogRHVyYXRpb24gb2YgdGhlIHJlcXVlc3QgaW4gbWlsbGlzZWNvbmRzXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVcGRhdGVDYWxsTWVtYmVyc1Jlc3BvbnNlXG4gICAqL1xuICBkdXJhdGlvbjogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PE1lbWJlclJlc3BvbnNlPn1cbiAgICogQG1lbWJlcm9mIFVwZGF0ZUNhbGxNZW1iZXJzUmVzcG9uc2VcbiAgICovXG4gIG1lbWJlcnM6IEFycmF5PE1lbWJlclJlc3BvbnNlPjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgVXBkYXRlQ2FsbFJlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBVcGRhdGVDYWxsUmVxdWVzdCB7XG4gIC8qKlxuICAgKiBDdXN0b20gZGF0YSBmb3IgdGhpcyBvYmplY3RcbiAgICogQHR5cGUge3sgW2tleTogc3RyaW5nXTogYW55OyB9fVxuICAgKiBAbWVtYmVyb2YgVXBkYXRlQ2FsbFJlcXVlc3RcbiAgICovXG4gIGN1c3RvbT86IHsgW2tleTogc3RyaW5nXTogYW55IH07XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbFNldHRpbmdzUmVxdWVzdH1cbiAgICogQG1lbWJlcm9mIFVwZGF0ZUNhbGxSZXF1ZXN0XG4gICAqL1xuICBzZXR0aW5nc19vdmVycmlkZT86IENhbGxTZXR0aW5nc1JlcXVlc3Q7XG4gIC8qKlxuICAgKiB0aGUgdGltZSB0aGUgY2FsbCBpcyBzY2hlZHVsZWQgdG8gc3RhcnRcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVwZGF0ZUNhbGxSZXF1ZXN0XG4gICAqL1xuICBzdGFydHNfYXQ/OiBzdHJpbmc7XG59XG4vKipcbiAqIFJlcHJlc2VudHMgYSBjYWxsXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFVwZGF0ZUNhbGxSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFVwZGF0ZUNhbGxSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbFJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgVXBkYXRlQ2FsbFJlc3BvbnNlXG4gICAqL1xuICBjYWxsOiBDYWxsUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXBkYXRlQ2FsbFJlc3BvbnNlXG4gICAqL1xuICBkdXJhdGlvbjogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PE1lbWJlclJlc3BvbnNlPn1cbiAgICogQG1lbWJlcm9mIFVwZGF0ZUNhbGxSZXNwb25zZVxuICAgKi9cbiAgbWVtYmVyczogQXJyYXk8TWVtYmVyUmVzcG9uc2U+O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge01lbWJlclJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgVXBkYXRlQ2FsbFJlc3BvbnNlXG4gICAqL1xuICBtZW1iZXJzaGlwPzogTWVtYmVyUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8T3duQ2FwYWJpbGl0eT59XG4gICAqIEBtZW1iZXJvZiBVcGRhdGVDYWxsUmVzcG9uc2VcbiAgICovXG4gIG93bl9jYXBhYmlsaXRpZXM6IEFycmF5PE93bkNhcGFiaWxpdHk+O1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBVcGRhdGVVc2VyUGVybWlzc2lvbnNSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVXBkYXRlVXNlclBlcm1pc3Npb25zUmVxdWVzdCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8c3RyaW5nPn1cbiAgICogQG1lbWJlcm9mIFVwZGF0ZVVzZXJQZXJtaXNzaW9uc1JlcXVlc3RcbiAgICovXG4gIGdyYW50X3Blcm1pc3Npb25zPzogQXJyYXk8c3RyaW5nPjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxzdHJpbmc+fVxuICAgKiBAbWVtYmVyb2YgVXBkYXRlVXNlclBlcm1pc3Npb25zUmVxdWVzdFxuICAgKi9cbiAgcmV2b2tlX3Blcm1pc3Npb25zPzogQXJyYXk8c3RyaW5nPjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVcGRhdGVVc2VyUGVybWlzc2lvbnNSZXF1ZXN0XG4gICAqL1xuICB1c2VyX2lkOiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFVwZGF0ZVVzZXJQZXJtaXNzaW9uc1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVXBkYXRlVXNlclBlcm1pc3Npb25zUmVzcG9uc2Uge1xuICAvKipcbiAgICogRHVyYXRpb24gb2YgdGhlIHJlcXVlc3QgaW4gbWlsbGlzZWNvbmRzXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVcGRhdGVVc2VyUGVybWlzc2lvbnNSZXNwb25zZVxuICAgKi9cbiAgZHVyYXRpb246IHN0cmluZztcbn1cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHRvIG5vdGlmeSBhYm91dCBwZXJtaXNzaW9uIGNoYW5nZXMgZm9yIGEgdXNlciwgY2xpZW50cyByZWNlaXZpbmcgdGhpcyBldmVudCBzaG91bGQgdXBkYXRlIHRoZWlyIFVJIGFjY29yZGluZ2x5XG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFVwZGF0ZWRDYWxsUGVybWlzc2lvbnNFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFVwZGF0ZWRDYWxsUGVybWlzc2lvbnNFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXBkYXRlZENhbGxQZXJtaXNzaW9uc0V2ZW50XG4gICAqL1xuICBjYWxsX2NpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVwZGF0ZWRDYWxsUGVybWlzc2lvbnNFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIGNhcGFiaWxpdGllcyBvZiB0aGUgY3VycmVudCB1c2VyXG4gICAqIEB0eXBlIHtBcnJheTxPd25DYXBhYmlsaXR5Pn1cbiAgICogQG1lbWJlcm9mIFVwZGF0ZWRDYWxsUGVybWlzc2lvbnNFdmVudFxuICAgKi9cbiAgb3duX2NhcGFiaWxpdGllczogQXJyYXk8T3duQ2FwYWJpbGl0eT47XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBldmVudDogXCJjYWxsLnBlcm1pc3Npb25zX3VwZGF0ZWRcIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVwZGF0ZWRDYWxsUGVybWlzc2lvbnNFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1VzZXJSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIFVwZGF0ZWRDYWxsUGVybWlzc2lvbnNFdmVudFxuICAgKi9cbiAgdXNlcjogVXNlclJlc3BvbnNlO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBVc2VyQmFubmVkRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBVc2VyQmFubmVkRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJCYW5uZWRFdmVudFxuICAgKi9cbiAgY2hhbm5lbF9pZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJCYW5uZWRFdmVudFxuICAgKi9cbiAgY2hhbm5lbF90eXBlOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlckJhbm5lZEV2ZW50XG4gICAqL1xuICBjaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyQmFubmVkRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtVc2VyT2JqZWN0fVxuICAgKiBAbWVtYmVyb2YgVXNlckJhbm5lZEV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2J5OiBVc2VyT2JqZWN0O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJCYW5uZWRFdmVudFxuICAgKi9cbiAgZXhwaXJhdGlvbj86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyQmFubmVkRXZlbnRcbiAgICovXG4gIHJlYXNvbj86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgVXNlckJhbm5lZEV2ZW50XG4gICAqL1xuICBzaGFkb3c6IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlckJhbm5lZEV2ZW50XG4gICAqL1xuICB0ZWFtPzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJCYW5uZWRFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1VzZXJPYmplY3R9XG4gICAqIEBtZW1iZXJvZiBVc2VyQmFubmVkRXZlbnRcbiAgICovXG4gIHVzZXI/OiBVc2VyT2JqZWN0O1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBVc2VyRGVhY3RpdmF0ZWRFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFVzZXJEZWFjdGl2YXRlZEV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyRGVhY3RpdmF0ZWRFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1VzZXJPYmplY3R9XG4gICAqIEBtZW1iZXJvZiBVc2VyRGVhY3RpdmF0ZWRFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9ieTogVXNlck9iamVjdDtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyRGVhY3RpdmF0ZWRFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1VzZXJPYmplY3R9XG4gICAqIEBtZW1iZXJvZiBVc2VyRGVhY3RpdmF0ZWRFdmVudFxuICAgKi9cbiAgdXNlcj86IFVzZXJPYmplY3Q7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFVzZXJEZWxldGVkRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBVc2VyRGVsZXRlZEV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyRGVsZXRlZEV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIFVzZXJEZWxldGVkRXZlbnRcbiAgICovXG4gIGRlbGV0ZV9jb252ZXJzYXRpb25fY2hhbm5lbHM6IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIFVzZXJEZWxldGVkRXZlbnRcbiAgICovXG4gIGhhcmRfZGVsZXRlOiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBVc2VyRGVsZXRlZEV2ZW50XG4gICAqL1xuICBtYXJrX21lc3NhZ2VzX2RlbGV0ZWQ6IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlckRlbGV0ZWRFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1VzZXJPYmplY3R9XG4gICAqIEBtZW1iZXJvZiBVc2VyRGVsZXRlZEV2ZW50XG4gICAqL1xuICB1c2VyPzogVXNlck9iamVjdDtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgVXNlckZlZWRiYWNrUmVwb3J0UmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBVc2VyRmVlZGJhY2tSZXBvcnRSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8RGFpbHlBZ2dyZWdhdGVDYWxsU3RhdHNSZXNwb25zZTxVc2VyRmVlZGJhY2tSZXBvcnQ+Pn1cbiAgICogQG1lbWJlcm9mIFVzZXJGZWVkYmFja1JlcG9ydFJlc3BvbnNlXG4gICAqL1xuICBkYWlseTogQXJyYXk8RGFpbHlBZ2dyZWdhdGVDYWxsU3RhdHNSZXNwb25zZTxVc2VyRmVlZGJhY2tSZXBvcnQ+Pjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgVXNlckZlZWRiYWNrUmVwb3J0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVXNlckZlZWRiYWNrUmVwb3J0IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHt7IFtrZXk6IHN0cmluZ106IG51bWJlcjsgfX1cbiAgICogQG1lbWJlcm9mIFVzZXJGZWVkYmFja1JlcG9ydFxuICAgKi9cbiAgY291bnRfYnlfcmF0aW5nOiB7IFtrZXk6IHN0cmluZ106IG51bWJlciB9O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFVzZXJGZWVkYmFja1JlcG9ydFxuICAgKi9cbiAgdW5yZXBvcnRlZF9jb3VudDogbnVtYmVyO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBVc2VySW5mb1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVXNlckluZm9SZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7eyBba2V5OiBzdHJpbmddOiBhbnk7IH19XG4gICAqIEBtZW1iZXJvZiBVc2VySW5mb1Jlc3BvbnNlXG4gICAqL1xuICBjdXN0b206IHsgW2tleTogc3RyaW5nXTogYW55IH07XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlckluZm9SZXNwb25zZVxuICAgKi9cbiAgaW1hZ2U6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VySW5mb1Jlc3BvbnNlXG4gICAqL1xuICBuYW1lOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8c3RyaW5nPn1cbiAgICogQG1lbWJlcm9mIFVzZXJJbmZvUmVzcG9uc2VcbiAgICovXG4gIHJvbGVzOiBBcnJheTxzdHJpbmc+O1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBVc2VyTXV0ZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFVzZXJNdXRlIHtcbiAgLyoqXG4gICAqIERhdGUvdGltZSBvZiBjcmVhdGlvblxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlck11dGVcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqIERhdGUvdGltZSBvZiBtdXRlIGV4cGlyYXRpb25cbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJNdXRlXG4gICAqL1xuICBleHBpcmVzPzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1VzZXJPYmplY3R9XG4gICAqIEBtZW1iZXJvZiBVc2VyTXV0ZVxuICAgKi9cbiAgdGFyZ2V0PzogVXNlck9iamVjdDtcbiAgLyoqXG4gICAqIERhdGUvdGltZSBvZiB0aGUgbGFzdCB1cGRhdGVcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJNdXRlXG4gICAqL1xuICB1cGRhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VXNlck9iamVjdH1cbiAgICogQG1lbWJlcm9mIFVzZXJNdXRlXG4gICAqL1xuICB1c2VyPzogVXNlck9iamVjdDtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgVXNlck11dGVSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFVzZXJNdXRlUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJNdXRlUmVzcG9uc2VcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyTXV0ZVJlc3BvbnNlXG4gICAqL1xuICBleHBpcmVzPzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1VzZXJSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIFVzZXJNdXRlUmVzcG9uc2VcbiAgICovXG4gIHRhcmdldD86IFVzZXJSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyTXV0ZVJlc3BvbnNlXG4gICAqL1xuICB1cGRhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VXNlclJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgVXNlck11dGVSZXNwb25zZVxuICAgKi9cbiAgdXNlcj86IFVzZXJSZXNwb25zZTtcbn1cblxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBVc2VyTXV0ZWRFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFVzZXJNdXRlZEV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyTXV0ZWRFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJNdXRlZEV2ZW50XG4gICAqL1xuICB0YXJnZXRfdXNlcj86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxzdHJpbmc+fVxuICAgKiBAbWVtYmVyb2YgVXNlck11dGVkRXZlbnRcbiAgICovXG4gIHRhcmdldF91c2Vycz86IEFycmF5PHN0cmluZz47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlck11dGVkRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtVc2VyT2JqZWN0fVxuICAgKiBAbWVtYmVyb2YgVXNlck11dGVkRXZlbnRcbiAgICovXG4gIHVzZXI/OiBVc2VyT2JqZWN0O1xufVxuLyoqXG4gKiBSZXByZXNlbnRzIGNoYXQgdXNlclxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBVc2VyT2JqZWN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVXNlck9iamVjdCB7XG4gIC8qKlxuICAgKiBFeHBpcmF0aW9uIGRhdGUgb2YgdGhlIGJhblxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlck9iamVjdFxuICAgKi9cbiAgYmFuX2V4cGlyZXM/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBXaGV0aGVyIGEgdXNlciBpcyBiYW5uZWQgb3Igbm90XG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgVXNlck9iamVjdFxuICAgKi9cbiAgYmFubmVkOiBib29sZWFuO1xuICAvKipcbiAgICogRGF0ZS90aW1lIG9mIGNyZWF0aW9uXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyT2JqZWN0XG4gICAqL1xuICByZWFkb25seSBjcmVhdGVkX2F0Pzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3sgW2tleTogc3RyaW5nXTogYW55OyB9fVxuICAgKiBAbWVtYmVyb2YgVXNlck9iamVjdFxuICAgKi9cbiAgY3VzdG9tOiB7IFtrZXk6IHN0cmluZ106IGFueSB9O1xuICAvKipcbiAgICogRGF0ZSBvZiBkZWFjdGl2YXRpb25cbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJPYmplY3RcbiAgICovXG4gIHJlYWRvbmx5IGRlYWN0aXZhdGVkX2F0Pzogc3RyaW5nO1xuICAvKipcbiAgICogRGF0ZS90aW1lIG9mIGRlbGV0aW9uXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyT2JqZWN0XG4gICAqL1xuICByZWFkb25seSBkZWxldGVkX2F0Pzogc3RyaW5nO1xuICAvKipcbiAgICogVW5pcXVlIHVzZXIgaWRlbnRpZmllclxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlck9iamVjdFxuICAgKi9cbiAgaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgVXNlck9iamVjdFxuICAgKi9cbiAgaW52aXNpYmxlPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqIFByZWZlcnJlZCBsYW5ndWFnZSBvZiBhIHVzZXJcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJPYmplY3RcbiAgICovXG4gIGxhbmd1YWdlPzogc3RyaW5nO1xuICAvKipcbiAgICogRGF0ZSBvZiBsYXN0IGFjdGl2aXR5XG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyT2JqZWN0XG4gICAqL1xuICByZWFkb25seSBsYXN0X2FjdGl2ZT86IHN0cmluZztcbiAgLyoqXG4gICAqIFdoZXRoZXIgYSB1c2VyIG9ubGluZSBvciBub3RcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBVc2VyT2JqZWN0XG4gICAqL1xuICByZWFkb25seSBvbmxpbmU6IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7UHJpdmFjeVNldHRpbmdzfVxuICAgKiBAbWVtYmVyb2YgVXNlck9iamVjdFxuICAgKi9cbiAgcHJpdmFjeV9zZXR0aW5ncz86IFByaXZhY3lTZXR0aW5ncztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtQdXNoTm90aWZpY2F0aW9uU2V0dGluZ3N9XG4gICAqIEBtZW1iZXJvZiBVc2VyT2JqZWN0XG4gICAqL1xuICBwdXNoX25vdGlmaWNhdGlvbnM/OiBQdXNoTm90aWZpY2F0aW9uU2V0dGluZ3M7XG4gIC8qKlxuICAgKiBSZXZvY2F0aW9uIGRhdGUgZm9yIHRva2Vuc1xuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlck9iamVjdFxuICAgKi9cbiAgcmV2b2tlX3Rva2Vuc19pc3N1ZWRfYmVmb3JlPzogc3RyaW5nO1xuICAvKipcbiAgICogRGV0ZXJtaW5lcyB0aGUgc2V0IG9mIHVzZXIgcGVybWlzc2lvbnNcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJPYmplY3RcbiAgICovXG4gIHJvbGU6IHN0cmluZztcbiAgLyoqXG4gICAqIExpc3Qgb2YgdGVhbXMgdXNlciBpcyBhIHBhcnQgb2ZcbiAgICogQHR5cGUge0FycmF5PHN0cmluZz59XG4gICAqIEBtZW1iZXJvZiBVc2VyT2JqZWN0XG4gICAqL1xuICB0ZWFtcz86IEFycmF5PHN0cmluZz47XG4gIC8qKlxuICAgKiBEYXRlL3RpbWUgb2YgdGhlIGxhc3QgdXBkYXRlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyT2JqZWN0XG4gICAqL1xuICByZWFkb25seSB1cGRhdGVkX2F0Pzogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBVc2VyUHJlc2VuY2VDaGFuZ2VkRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBVc2VyUHJlc2VuY2VDaGFuZ2VkRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJQcmVzZW5jZUNoYW5nZWRFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJQcmVzZW5jZUNoYW5nZWRFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1VzZXJPYmplY3R9XG4gICAqIEBtZW1iZXJvZiBVc2VyUHJlc2VuY2VDaGFuZ2VkRXZlbnRcbiAgICovXG4gIHVzZXI/OiBVc2VyT2JqZWN0O1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBVc2VyUmVhY3RpdmF0ZWRFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFVzZXJSZWFjdGl2YXRlZEV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyUmVhY3RpdmF0ZWRFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJSZWFjdGl2YXRlZEV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VXNlck9iamVjdH1cbiAgICogQG1lbWJlcm9mIFVzZXJSZWFjdGl2YXRlZEV2ZW50XG4gICAqL1xuICB1c2VyPzogVXNlck9iamVjdDtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgVXNlclJlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBVc2VyUmVxdWVzdCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7eyBba2V5OiBzdHJpbmddOiBhbnk7IH19XG4gICAqIEBtZW1iZXJvZiBVc2VyUmVxdWVzdFxuICAgKi9cbiAgY3VzdG9tPzogeyBba2V5OiBzdHJpbmddOiBhbnkgfTtcbiAgLyoqXG4gICAqIFVzZXIgSURcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJSZXF1ZXN0XG4gICAqL1xuICBpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJSZXF1ZXN0XG4gICAqL1xuICBpbWFnZT86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgVXNlclJlcXVlc3RcbiAgICovXG4gIGludmlzaWJsZT86IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlclJlcXVlc3RcbiAgICovXG4gIGxhbmd1YWdlPzogc3RyaW5nO1xuICAvKipcbiAgICogT3B0aW9uYWwgbmFtZSBvZiB1c2VyXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyUmVxdWVzdFxuICAgKi9cbiAgbmFtZT86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtQcml2YWN5U2V0dGluZ3N9XG4gICAqIEBtZW1iZXJvZiBVc2VyUmVxdWVzdFxuICAgKi9cbiAgcHJpdmFjeV9zZXR0aW5ncz86IFByaXZhY3lTZXR0aW5ncztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtQdXNoTm90aWZpY2F0aW9uU2V0dGluZ3NJbnB1dH1cbiAgICogQG1lbWJlcm9mIFVzZXJSZXF1ZXN0XG4gICAqL1xuICBwdXNoX25vdGlmaWNhdGlvbnM/OiBQdXNoTm90aWZpY2F0aW9uU2V0dGluZ3NJbnB1dDtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgVXNlclJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVXNlclJlc3BvbnNlIHtcbiAgLyoqXG4gICAqIFdoZXRoZXIgYSB1c2VyIGlzIGJhbm5lZCBvciBub3RcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBVc2VyUmVzcG9uc2VcbiAgICovXG4gIGJhbm5lZDogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxzdHJpbmc+fVxuICAgKiBAbWVtYmVyb2YgVXNlclJlc3BvbnNlXG4gICAqL1xuICBibG9ja2VkX3VzZXJfaWRzOiBBcnJheTxzdHJpbmc+O1xuICAvKipcbiAgICogRGF0ZS90aW1lIG9mIGNyZWF0aW9uXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyUmVzcG9uc2VcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqIEN1c3RvbSBkYXRhIGZvciB0aGlzIG9iamVjdFxuICAgKiBAdHlwZSB7eyBba2V5OiBzdHJpbmddOiBhbnk7IH19XG4gICAqIEBtZW1iZXJvZiBVc2VyUmVzcG9uc2VcbiAgICovXG4gIGN1c3RvbTogeyBba2V5OiBzdHJpbmddOiBhbnkgfTtcbiAgLyoqXG4gICAqIERhdGUgb2YgZGVhY3RpdmF0aW9uXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyUmVzcG9uc2VcbiAgICovXG4gIGRlYWN0aXZhdGVkX2F0Pzogc3RyaW5nO1xuICAvKipcbiAgICogRGF0ZS90aW1lIG9mIGRlbGV0aW9uXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyUmVzcG9uc2VcbiAgICovXG4gIGRlbGV0ZWRfYXQ/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBVbmlxdWUgdXNlciBpZGVudGlmaWVyXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyUmVzcG9uc2VcbiAgICovXG4gIGlkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlclJlc3BvbnNlXG4gICAqL1xuICBpbWFnZT86IHN0cmluZztcbiAgLyoqXG4gICAqIFByZWZlcnJlZCBsYW5ndWFnZSBvZiBhIHVzZXJcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJSZXNwb25zZVxuICAgKi9cbiAgbGFuZ3VhZ2U6IHN0cmluZztcbiAgLyoqXG4gICAqIERhdGUgb2YgbGFzdCBhY3Rpdml0eVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlclJlc3BvbnNlXG4gICAqL1xuICBsYXN0X2FjdGl2ZT86IHN0cmluZztcbiAgLyoqXG4gICAqIE9wdGlvbmFsIG5hbWUgb2YgdXNlclxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlclJlc3BvbnNlXG4gICAqL1xuICBuYW1lPzogc3RyaW5nO1xuICAvKipcbiAgICogV2hldGhlciBhIHVzZXIgb25saW5lIG9yIG5vdFxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIFVzZXJSZXNwb25zZVxuICAgKi9cbiAgb25saW5lOiBib29sZWFuO1xuICAvKipcbiAgICogUmV2b2NhdGlvbiBkYXRlIGZvciB0b2tlbnNcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJSZXNwb25zZVxuICAgKi9cbiAgcmV2b2tlX3Rva2Vuc19pc3N1ZWRfYmVmb3JlPzogc3RyaW5nO1xuICAvKipcbiAgICogRGV0ZXJtaW5lcyB0aGUgc2V0IG9mIHVzZXIgcGVybWlzc2lvbnNcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJSZXNwb25zZVxuICAgKi9cbiAgcm9sZTogc3RyaW5nO1xuICAvKipcbiAgICogTGlzdCBvZiB0ZWFtcyB1c2VyIGlzIGEgcGFydCBvZlxuICAgKiBAdHlwZSB7QXJyYXk8c3RyaW5nPn1cbiAgICogQG1lbWJlcm9mIFVzZXJSZXNwb25zZVxuICAgKi9cbiAgdGVhbXM6IEFycmF5PHN0cmluZz47XG4gIC8qKlxuICAgKiBEYXRlL3RpbWUgb2YgdGhlIGxhc3QgdXBkYXRlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyUmVzcG9uc2VcbiAgICovXG4gIHVwZGF0ZWRfYXQ6IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgVXNlclNlc3Npb25TdGF0c1xuICovXG5leHBvcnQgaW50ZXJmYWNlIFVzZXJTZXNzaW9uU3RhdHMge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFVzZXJTZXNzaW9uU3RhdHNcbiAgICovXG4gIGF2ZXJhZ2VfY29ubmVjdGlvbl90aW1lPzogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJTZXNzaW9uU3RhdHNcbiAgICovXG4gIGJyb3dzZXI/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlclNlc3Npb25TdGF0c1xuICAgKi9cbiAgYnJvd3Nlcl92ZXJzaW9uPzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJTZXNzaW9uU3RhdHNcbiAgICovXG4gIGN1cnJlbnRfaXA/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlclNlc3Npb25TdGF0c1xuICAgKi9cbiAgY3VycmVudF9zZnU/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlclNlc3Npb25TdGF0c1xuICAgKi9cbiAgZGV2aWNlX21vZGVsPzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJTZXNzaW9uU3RhdHNcbiAgICovXG4gIGRldmljZV92ZXJzaW9uPzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFVzZXJTZXNzaW9uU3RhdHNcbiAgICovXG4gIGRpc3RhbmNlX3RvX3NmdV9raWxvbWV0ZXJzPzogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFVzZXJTZXNzaW9uU3RhdHNcbiAgICovXG4gIGZyZWV6ZV9kdXJhdGlvbl9zZWNvbmRzOiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7R2VvbG9jYXRpb25SZXN1bHR9XG4gICAqIEBtZW1iZXJvZiBVc2VyU2Vzc2lvblN0YXRzXG4gICAqL1xuICBnZW9sb2NhdGlvbj86IEdlb2xvY2F0aW9uUmVzdWx0O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1N0YXRzfVxuICAgKiBAbWVtYmVyb2YgVXNlclNlc3Npb25TdGF0c1xuICAgKi9cbiAgaml0dGVyPzogU3RhdHM7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7U3RhdHN9XG4gICAqIEBtZW1iZXJvZiBVc2VyU2Vzc2lvblN0YXRzXG4gICAqL1xuICBsYXRlbmN5PzogU3RhdHM7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgVXNlclNlc3Npb25TdGF0c1xuICAgKi9cbiAgbWF4X2Zpcl9wZXJfc2Vjb25kPzogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFVzZXJTZXNzaW9uU3RhdHNcbiAgICovXG4gIG1heF9mcmVlemVfZnJhY3Rpb246IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBVc2VyU2Vzc2lvblN0YXRzXG4gICAqL1xuICBtYXhfZnJlZXplc19kdXJhdGlvbl9zZWNvbmRzOiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgVXNlclNlc3Npb25TdGF0c1xuICAgKi9cbiAgbWF4X2ZyZWV6ZXNfcGVyX3NlY29uZD86IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBVc2VyU2Vzc2lvblN0YXRzXG4gICAqL1xuICBtYXhfbmFja19wZXJfc2Vjb25kPzogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFVzZXJTZXNzaW9uU3RhdHNcbiAgICovXG4gIG1heF9wbGlfcGVyX3NlY29uZD86IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtWaWRlb1F1YWxpdHl9XG4gICAqIEBtZW1iZXJvZiBVc2VyU2Vzc2lvblN0YXRzXG4gICAqL1xuICBtYXhfcHVibGlzaGluZ192aWRlb19xdWFsaXR5PzogVmlkZW9RdWFsaXR5O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1ZpZGVvUXVhbGl0eX1cbiAgICogQG1lbWJlcm9mIFVzZXJTZXNzaW9uU3RhdHNcbiAgICovXG4gIG1heF9yZWNlaXZpbmdfdmlkZW9fcXVhbGl0eT86IFZpZGVvUXVhbGl0eTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyU2Vzc2lvblN0YXRzXG4gICAqL1xuICBvcz86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyU2Vzc2lvblN0YXRzXG4gICAqL1xuICBvc192ZXJzaW9uPzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFVzZXJTZXNzaW9uU3RhdHNcbiAgICovXG4gIHBhY2tldF9sb3NzX2ZyYWN0aW9uOiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7TWVkaWFQdWJTdWJIaW50fVxuICAgKiBAbWVtYmVyb2YgVXNlclNlc3Npb25TdGF0c1xuICAgKi9cbiAgcHViX3N1Yl9oaW50cz86IE1lZGlhUHViU3ViSGludDtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxQdWJsaXNoZWRUcmFja0luZm8+fVxuICAgKiBAbWVtYmVyb2YgVXNlclNlc3Npb25TdGF0c1xuICAgKi9cbiAgcHVibGlzaGVkX3RyYWNrcz86IEFycmF5PFB1Ymxpc2hlZFRyYWNrSW5mbz47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7TU9TU3RhdHN9XG4gICAqIEBtZW1iZXJvZiBVc2VyU2Vzc2lvblN0YXRzXG4gICAqL1xuICBwdWJsaXNoZXJfYXVkaW9fbW9zPzogTU9TU3RhdHM7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7U3RhdHN9XG4gICAqIEBtZW1iZXJvZiBVc2VyU2Vzc2lvblN0YXRzXG4gICAqL1xuICBwdWJsaXNoZXJfaml0dGVyPzogU3RhdHM7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7U3RhdHN9XG4gICAqIEBtZW1iZXJvZiBVc2VyU2Vzc2lvblN0YXRzXG4gICAqL1xuICBwdWJsaXNoZXJfbGF0ZW5jeT86IFN0YXRzO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFVzZXJTZXNzaW9uU3RhdHNcbiAgICovXG4gIHB1Ymxpc2hlcl9ub2lzZV9jYW5jZWxsYXRpb25fc2Vjb25kcz86IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBVc2VyU2Vzc2lvblN0YXRzXG4gICAqL1xuICBwdWJsaXNoZXJfcGFja2V0X2xvc3NfZnJhY3Rpb246IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBVc2VyU2Vzc2lvblN0YXRzXG4gICAqL1xuICBwdWJsaXNoZXJfcXVhbGl0eV9saW1pdGF0aW9uX2ZyYWN0aW9uPzogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3sgW2tleTogc3RyaW5nXTogbnVtYmVyOyB9fVxuICAgKiBAbWVtYmVyb2YgVXNlclNlc3Npb25TdGF0c1xuICAgKi9cbiAgcHVibGlzaGVyX3ZpZGVvX3F1YWxpdHlfbGltaXRhdGlvbl9kdXJhdGlvbl9zZWNvbmRzPzoge1xuICAgIFtrZXk6IHN0cmluZ106IG51bWJlcjtcbiAgfTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyU2Vzc2lvblN0YXRzXG4gICAqL1xuICBwdWJsaXNoaW5nX2F1ZGlvX2NvZGVjPzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFVzZXJTZXNzaW9uU3RhdHNcbiAgICovXG4gIHB1Ymxpc2hpbmdfZHVyYXRpb25fc2Vjb25kczogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJTZXNzaW9uU3RhdHNcbiAgICovXG4gIHB1Ymxpc2hpbmdfdmlkZW9fY29kZWM/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgVXNlclNlc3Npb25TdGF0c1xuICAgKi9cbiAgcXVhbGl0eV9zY29yZTogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJTZXNzaW9uU3RhdHNcbiAgICovXG4gIHJlY2VpdmluZ19hdWRpb19jb2RlYz86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBVc2VyU2Vzc2lvblN0YXRzXG4gICAqL1xuICByZWNlaXZpbmdfZHVyYXRpb25fc2Vjb25kczogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJTZXNzaW9uU3RhdHNcbiAgICovXG4gIHJlY2VpdmluZ192aWRlb19jb2RlYz86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyU2Vzc2lvblN0YXRzXG4gICAqL1xuICBzZGs/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlclNlc3Npb25TdGF0c1xuICAgKi9cbiAgc2RrX3ZlcnNpb24/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlclNlc3Npb25TdGF0c1xuICAgKi9cbiAgc2Vzc2lvbl9pZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge01PU1N0YXRzfVxuICAgKiBAbWVtYmVyb2YgVXNlclNlc3Npb25TdGF0c1xuICAgKi9cbiAgc3Vic2NyaWJlcl9hdWRpb19tb3M/OiBNT1NTdGF0cztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtTdGF0c31cbiAgICogQG1lbWJlcm9mIFVzZXJTZXNzaW9uU3RhdHNcbiAgICovXG4gIHN1YnNjcmliZXJfaml0dGVyPzogU3RhdHM7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7U3RhdHN9XG4gICAqIEBtZW1iZXJvZiBVc2VyU2Vzc2lvblN0YXRzXG4gICAqL1xuICBzdWJzY3JpYmVyX2xhdGVuY3k/OiBTdGF0cztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBVc2VyU2Vzc2lvblN0YXRzXG4gICAqL1xuICBzdWJzY3JpYmVyX3ZpZGVvX3F1YWxpdHlfdGhyb3R0bGVkX2R1cmF0aW9uX3NlY29uZHM/OiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8U3Vic2Vzc2lvbj59XG4gICAqIEBtZW1iZXJvZiBVc2VyU2Vzc2lvblN0YXRzXG4gICAqL1xuICBzdWJzZXNzaW9ucz86IEFycmF5PFN1YnNlc3Npb24+O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0NhbGxUaW1lbGluZX1cbiAgICogQG1lbWJlcm9mIFVzZXJTZXNzaW9uU3RhdHNcbiAgICovXG4gIHRpbWVsaW5lPzogQ2FsbFRpbWVsaW5lO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFVzZXJTZXNzaW9uU3RhdHNcbiAgICovXG4gIHRvdGFsX3BpeGVsc19pbjogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFVzZXJTZXNzaW9uU3RhdHNcbiAgICovXG4gIHRvdGFsX3BpeGVsc19vdXQ6IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgVXNlclNlc3Npb25TdGF0c1xuICAgKi9cbiAgdHJ1bmNhdGVkPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyU2Vzc2lvblN0YXRzXG4gICAqL1xuICB3ZWJydGNfdmVyc2lvbj86IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgVXNlclN0YXRzXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVXNlclN0YXRzIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtVc2VySW5mb1Jlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgVXNlclN0YXRzXG4gICAqL1xuICBpbmZvOiBVc2VySW5mb1Jlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFVzZXJTdGF0c1xuICAgKi9cbiAgbWluX2V2ZW50X3RzOiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgVXNlclN0YXRzXG4gICAqL1xuICByYXRpbmc/OiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8VXNlclNlc3Npb25TdGF0cz59XG4gICAqIEBtZW1iZXJvZiBVc2VyU3RhdHNcbiAgICovXG4gIHNlc3Npb25fc3RhdHM6IEFycmF5PFVzZXJTZXNzaW9uU3RhdHM+O1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBVc2VyVW5iYW5uZWRFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFVzZXJVbmJhbm5lZEV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyVW5iYW5uZWRFdmVudFxuICAgKi9cbiAgY2hhbm5lbF9pZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJVbmJhbm5lZEV2ZW50XG4gICAqL1xuICBjaGFubmVsX3R5cGU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyVW5iYW5uZWRFdmVudFxuICAgKi9cbiAgY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlclVuYmFubmVkRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgVXNlclVuYmFubmVkRXZlbnRcbiAgICovXG4gIHNoYWRvdzogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyVW5iYW5uZWRFdmVudFxuICAgKi9cbiAgdGVhbT86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyVW5iYW5uZWRFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1VzZXJPYmplY3R9XG4gICAqIEBtZW1iZXJvZiBVc2VyVW5iYW5uZWRFdmVudFxuICAgKi9cbiAgdXNlcj86IFVzZXJPYmplY3Q7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFVzZXJVcGRhdGVkRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBVc2VyVXBkYXRlZEV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyVXBkYXRlZEV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlclVwZGF0ZWRFdmVudFxuICAgKi9cbiAgcmVjZWl2ZWRfYXQ/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlclVwZGF0ZWRFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1VzZXJPYmplY3R9XG4gICAqIEBtZW1iZXJvZiBVc2VyVXBkYXRlZEV2ZW50XG4gICAqL1xuICB1c2VyPzogVXNlck9iamVjdDtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgVmlkZW9RdWFsaXR5XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVmlkZW9RdWFsaXR5IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtWaWRlb1Jlc29sdXRpb259XG4gICAqIEBtZW1iZXJvZiBWaWRlb1F1YWxpdHlcbiAgICovXG4gIHJlc29sdXRpb24/OiBWaWRlb1Jlc29sdXRpb247XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVmlkZW9RdWFsaXR5XG4gICAqL1xuICB1c2FnZV90eXBlPzogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBWaWRlb1Jlc29sdXRpb25cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBWaWRlb1Jlc29sdXRpb24ge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFZpZGVvUmVzb2x1dGlvblxuICAgKi9cbiAgaGVpZ2h0OiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgVmlkZW9SZXNvbHV0aW9uXG4gICAqL1xuICB3aWR0aDogbnVtYmVyO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBWaWRlb1NldHRpbmdzUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFZpZGVvU2V0dGluZ3NSZXF1ZXN0IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgVmlkZW9TZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIGFjY2Vzc19yZXF1ZXN0X2VuYWJsZWQ/OiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBWaWRlb1NldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgY2FtZXJhX2RlZmF1bHRfb24/OiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFZpZGVvU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICBjYW1lcmFfZmFjaW5nPzogVmlkZW9TZXR0aW5nc1JlcXVlc3RDYW1lcmFGYWNpbmdFbnVtO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBWaWRlb1NldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgZW5hYmxlZD86IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VGFyZ2V0UmVzb2x1dGlvbn1cbiAgICogQG1lbWJlcm9mIFZpZGVvU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICB0YXJnZXRfcmVzb2x1dGlvbj86IFRhcmdldFJlc29sdXRpb247XG59XG5cbi8qKlxuICogQGV4cG9ydFxuICovXG5leHBvcnQgY29uc3QgVmlkZW9TZXR0aW5nc1JlcXVlc3RDYW1lcmFGYWNpbmdFbnVtID0ge1xuICBGUk9OVDogJ2Zyb250JyxcbiAgQkFDSzogJ2JhY2snLFxuICBFWFRFUk5BTDogJ2V4dGVybmFsJyxcbn0gYXMgY29uc3Q7XG5leHBvcnQgdHlwZSBWaWRlb1NldHRpbmdzUmVxdWVzdENhbWVyYUZhY2luZ0VudW0gPVxuICAodHlwZW9mIFZpZGVvU2V0dGluZ3NSZXF1ZXN0Q2FtZXJhRmFjaW5nRW51bSlba2V5b2YgdHlwZW9mIFZpZGVvU2V0dGluZ3NSZXF1ZXN0Q2FtZXJhRmFjaW5nRW51bV07XG5cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgVmlkZW9TZXR0aW5nc1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVmlkZW9TZXR0aW5nc1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgVmlkZW9TZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBhY2Nlc3NfcmVxdWVzdF9lbmFibGVkOiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBWaWRlb1NldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIGNhbWVyYV9kZWZhdWx0X29uOiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFZpZGVvU2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgY2FtZXJhX2ZhY2luZzogVmlkZW9TZXR0aW5nc1Jlc3BvbnNlQ2FtZXJhRmFjaW5nRW51bTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgVmlkZW9TZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBlbmFibGVkOiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1RhcmdldFJlc29sdXRpb259XG4gICAqIEBtZW1iZXJvZiBWaWRlb1NldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIHRhcmdldF9yZXNvbHV0aW9uOiBUYXJnZXRSZXNvbHV0aW9uO1xufVxuXG4vKipcbiAqIEBleHBvcnRcbiAqL1xuZXhwb3J0IGNvbnN0IFZpZGVvU2V0dGluZ3NSZXNwb25zZUNhbWVyYUZhY2luZ0VudW0gPSB7XG4gIEZST05UOiAnZnJvbnQnLFxuICBCQUNLOiAnYmFjaycsXG4gIEVYVEVSTkFMOiAnZXh0ZXJuYWwnLFxufSBhcyBjb25zdDtcbmV4cG9ydCB0eXBlIFZpZGVvU2V0dGluZ3NSZXNwb25zZUNhbWVyYUZhY2luZ0VudW0gPVxuICAodHlwZW9mIFZpZGVvU2V0dGluZ3NSZXNwb25zZUNhbWVyYUZhY2luZ0VudW0pW2tleW9mIHR5cGVvZiBWaWRlb1NldHRpbmdzUmVzcG9uc2VDYW1lcmFGYWNpbmdFbnVtXTtcblxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBXU0F1dGhNZXNzYWdlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgV1NBdXRoTWVzc2FnZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8c3RyaW5nPn1cbiAgICogQG1lbWJlcm9mIFdTQXV0aE1lc3NhZ2VcbiAgICovXG4gIHByb2R1Y3RzPzogQXJyYXk8c3RyaW5nPjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBXU0F1dGhNZXNzYWdlXG4gICAqL1xuICB0b2tlbjogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0Nvbm5lY3RVc2VyRGV0YWlsc1JlcXVlc3R9XG4gICAqIEBtZW1iZXJvZiBXU0F1dGhNZXNzYWdlXG4gICAqL1xuICB1c2VyX2RldGFpbHM6IENvbm5lY3RVc2VyRGV0YWlsc1JlcXVlc3Q7XG59XG4vKipcbiAqIEB0eXBlIFdTRXZlbnRcbiAqIFRoZSBkaXNjcmltaW5hdG9yIG9iamVjdCBmb3IgYWxsIHdlYnNvY2tldCBldmVudHMsIGl0IG1hcHMgZXZlbnRzJyBwYXlsb2FkIHRvIHRoZSBmaW5hbCB0eXBlXG4gKiBAZXhwb3J0XG4gKi9cbmV4cG9ydCB0eXBlIFdTRXZlbnQgPVxuICB8ICh7IHR5cGU6ICdjYWxsLmFjY2VwdGVkJyB9ICYgQ2FsbEFjY2VwdGVkRXZlbnQpXG4gIHwgKHsgdHlwZTogJ2NhbGwuYmxvY2tlZF91c2VyJyB9ICYgQmxvY2tlZFVzZXJFdmVudClcbiAgfCAoeyB0eXBlOiAnY2FsbC5jbG9zZWRfY2FwdGlvbicgfSAmIENsb3NlZENhcHRpb25FdmVudClcbiAgfCAoeyB0eXBlOiAnY2FsbC5jcmVhdGVkJyB9ICYgQ2FsbENyZWF0ZWRFdmVudClcbiAgfCAoeyB0eXBlOiAnY2FsbC5kZWxldGVkJyB9ICYgQ2FsbERlbGV0ZWRFdmVudClcbiAgfCAoeyB0eXBlOiAnY2FsbC5lbmRlZCcgfSAmIENhbGxFbmRlZEV2ZW50KVxuICB8ICh7IHR5cGU6ICdjYWxsLmhsc19icm9hZGNhc3RpbmdfZmFpbGVkJyB9ICYgQ2FsbEhMU0Jyb2FkY2FzdGluZ0ZhaWxlZEV2ZW50KVxuICB8ICh7XG4gICAgICB0eXBlOiAnY2FsbC5obHNfYnJvYWRjYXN0aW5nX3N0YXJ0ZWQnO1xuICAgIH0gJiBDYWxsSExTQnJvYWRjYXN0aW5nU3RhcnRlZEV2ZW50KVxuICB8ICh7XG4gICAgICB0eXBlOiAnY2FsbC5obHNfYnJvYWRjYXN0aW5nX3N0b3BwZWQnO1xuICAgIH0gJiBDYWxsSExTQnJvYWRjYXN0aW5nU3RvcHBlZEV2ZW50KVxuICB8ICh7IHR5cGU6ICdjYWxsLmxpdmVfc3RhcnRlZCcgfSAmIENhbGxMaXZlU3RhcnRlZEV2ZW50KVxuICB8ICh7IHR5cGU6ICdjYWxsLm1lbWJlcl9hZGRlZCcgfSAmIENhbGxNZW1iZXJBZGRlZEV2ZW50KVxuICB8ICh7IHR5cGU6ICdjYWxsLm1lbWJlcl9yZW1vdmVkJyB9ICYgQ2FsbE1lbWJlclJlbW92ZWRFdmVudClcbiAgfCAoeyB0eXBlOiAnY2FsbC5tZW1iZXJfdXBkYXRlZCcgfSAmIENhbGxNZW1iZXJVcGRhdGVkRXZlbnQpXG4gIHwgKHtcbiAgICAgIHR5cGU6ICdjYWxsLm1lbWJlcl91cGRhdGVkX3Blcm1pc3Npb24nO1xuICAgIH0gJiBDYWxsTWVtYmVyVXBkYXRlZFBlcm1pc3Npb25FdmVudClcbiAgfCAoeyB0eXBlOiAnY2FsbC5taXNzZWQnIH0gJiBDYWxsTWlzc2VkRXZlbnQpXG4gIHwgKHsgdHlwZTogJ2NhbGwubm90aWZpY2F0aW9uJyB9ICYgQ2FsbE5vdGlmaWNhdGlvbkV2ZW50KVxuICB8ICh7IHR5cGU6ICdjYWxsLnBlcm1pc3Npb25fcmVxdWVzdCcgfSAmIFBlcm1pc3Npb25SZXF1ZXN0RXZlbnQpXG4gIHwgKHsgdHlwZTogJ2NhbGwucGVybWlzc2lvbnNfdXBkYXRlZCcgfSAmIFVwZGF0ZWRDYWxsUGVybWlzc2lvbnNFdmVudClcbiAgfCAoeyB0eXBlOiAnY2FsbC5yZWFjdGlvbl9uZXcnIH0gJiBDYWxsUmVhY3Rpb25FdmVudClcbiAgfCAoeyB0eXBlOiAnY2FsbC5yZWNvcmRpbmdfZmFpbGVkJyB9ICYgQ2FsbFJlY29yZGluZ0ZhaWxlZEV2ZW50KVxuICB8ICh7IHR5cGU6ICdjYWxsLnJlY29yZGluZ19yZWFkeScgfSAmIENhbGxSZWNvcmRpbmdSZWFkeUV2ZW50KVxuICB8ICh7IHR5cGU6ICdjYWxsLnJlY29yZGluZ19zdGFydGVkJyB9ICYgQ2FsbFJlY29yZGluZ1N0YXJ0ZWRFdmVudClcbiAgfCAoeyB0eXBlOiAnY2FsbC5yZWNvcmRpbmdfc3RvcHBlZCcgfSAmIENhbGxSZWNvcmRpbmdTdG9wcGVkRXZlbnQpXG4gIHwgKHsgdHlwZTogJ2NhbGwucmVqZWN0ZWQnIH0gJiBDYWxsUmVqZWN0ZWRFdmVudClcbiAgfCAoeyB0eXBlOiAnY2FsbC5yaW5nJyB9ICYgQ2FsbFJpbmdFdmVudClcbiAgfCAoeyB0eXBlOiAnY2FsbC5zZXNzaW9uX2VuZGVkJyB9ICYgQ2FsbFNlc3Npb25FbmRlZEV2ZW50KVxuICB8ICh7XG4gICAgICB0eXBlOiAnY2FsbC5zZXNzaW9uX3BhcnRpY2lwYW50X2NvdW50X3VwZGF0ZWQnO1xuICAgIH0gJiBDYWxsU2Vzc2lvblBhcnRpY2lwYW50Q291bnRzVXBkYXRlZEV2ZW50KVxuICB8ICh7XG4gICAgICB0eXBlOiAnY2FsbC5zZXNzaW9uX3BhcnRpY2lwYW50X2pvaW5lZCc7XG4gICAgfSAmIENhbGxTZXNzaW9uUGFydGljaXBhbnRKb2luZWRFdmVudClcbiAgfCAoe1xuICAgICAgdHlwZTogJ2NhbGwuc2Vzc2lvbl9wYXJ0aWNpcGFudF9sZWZ0JztcbiAgICB9ICYgQ2FsbFNlc3Npb25QYXJ0aWNpcGFudExlZnRFdmVudClcbiAgfCAoeyB0eXBlOiAnY2FsbC5zZXNzaW9uX3N0YXJ0ZWQnIH0gJiBDYWxsU2Vzc2lvblN0YXJ0ZWRFdmVudClcbiAgfCAoeyB0eXBlOiAnY2FsbC50cmFuc2NyaXB0aW9uX2ZhaWxlZCcgfSAmIENhbGxUcmFuc2NyaXB0aW9uRmFpbGVkRXZlbnQpXG4gIHwgKHsgdHlwZTogJ2NhbGwudHJhbnNjcmlwdGlvbl9yZWFkeScgfSAmIENhbGxUcmFuc2NyaXB0aW9uUmVhZHlFdmVudClcbiAgfCAoeyB0eXBlOiAnY2FsbC50cmFuc2NyaXB0aW9uX3N0YXJ0ZWQnIH0gJiBDYWxsVHJhbnNjcmlwdGlvblN0YXJ0ZWRFdmVudClcbiAgfCAoeyB0eXBlOiAnY2FsbC50cmFuc2NyaXB0aW9uX3N0b3BwZWQnIH0gJiBDYWxsVHJhbnNjcmlwdGlvblN0b3BwZWRFdmVudClcbiAgfCAoeyB0eXBlOiAnY2FsbC51bmJsb2NrZWRfdXNlcicgfSAmIFVuYmxvY2tlZFVzZXJFdmVudClcbiAgfCAoeyB0eXBlOiAnY2FsbC51cGRhdGVkJyB9ICYgQ2FsbFVwZGF0ZWRFdmVudClcbiAgfCAoeyB0eXBlOiAnY2FsbC51c2VyX211dGVkJyB9ICYgQ2FsbFVzZXJNdXRlZEV2ZW50KVxuICB8ICh7IHR5cGU6ICdjb25uZWN0aW9uLmVycm9yJyB9ICYgQ29ubmVjdGlvbkVycm9yRXZlbnQpXG4gIHwgKHsgdHlwZTogJ2Nvbm5lY3Rpb24ub2snIH0gJiBDb25uZWN0ZWRFdmVudClcbiAgfCAoeyB0eXBlOiAnY3VzdG9tJyB9ICYgQ3VzdG9tVmlkZW9FdmVudClcbiAgfCAoeyB0eXBlOiAnaGVhbHRoLmNoZWNrJyB9ICYgSGVhbHRoQ2hlY2tFdmVudClcbiAgfCAoeyB0eXBlOiAndXNlci5iYW5uZWQnIH0gJiBVc2VyQmFubmVkRXZlbnQpXG4gIHwgKHsgdHlwZTogJ3VzZXIuZGVhY3RpdmF0ZWQnIH0gJiBVc2VyRGVhY3RpdmF0ZWRFdmVudClcbiAgfCAoeyB0eXBlOiAndXNlci5kZWxldGVkJyB9ICYgVXNlckRlbGV0ZWRFdmVudClcbiAgfCAoeyB0eXBlOiAndXNlci5tdXRlZCcgfSAmIFVzZXJNdXRlZEV2ZW50KVxuICB8ICh7IHR5cGU6ICd1c2VyLnByZXNlbmNlLmNoYW5nZWQnIH0gJiBVc2VyUHJlc2VuY2VDaGFuZ2VkRXZlbnQpXG4gIHwgKHsgdHlwZTogJ3VzZXIucmVhY3RpdmF0ZWQnIH0gJiBVc2VyUmVhY3RpdmF0ZWRFdmVudClcbiAgfCAoeyB0eXBlOiAndXNlci51bmJhbm5lZCcgfSAmIFVzZXJVbmJhbm5lZEV2ZW50KVxuICB8ICh7IHR5cGU6ICd1c2VyLnVwZGF0ZWQnIH0gJiBVc2VyVXBkYXRlZEV2ZW50KTtcbiIsImltcG9ydCB7IEF4aW9zUmVxdWVzdENvbmZpZywgQXhpb3NSZXNwb25zZSB9IGZyb20gJ2F4aW9zJztcbmltcG9ydCB7IENvbm5lY3RlZEV2ZW50LCBVc2VyUmVxdWVzdCwgV1NFdmVudCB9IGZyb20gJy4uLy4uL2dlbi9jb29yZGluYXRvcic7XG5pbXBvcnQgeyBBbGxTZnVFdmVudHMgfSBmcm9tICcuLi8uLi9ydGMnO1xuXG5leHBvcnQgdHlwZSBVUiA9IFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuXG5leHBvcnQgdHlwZSBVc2VyID1cbiAgfCAoT21pdDxVc2VyUmVxdWVzdCwgJ3JvbGUnPiAmIHsgdHlwZT86ICdhdXRoZW50aWNhdGVkJyB9KVxuICB8IChPbWl0PFVzZXJSZXF1ZXN0LCAncm9sZSc+ICYgeyB0eXBlOiAnZ3Vlc3QnIH0pXG4gIHwgKE9taXQ8VXNlclJlcXVlc3QsICdpZCcgfCAncm9sZSc+ICYge1xuICAgICAgaWQ/OiAnIWFub24nO1xuICAgICAgdHlwZTogJ2Fub255bW91cyc7XG4gICAgfSk7XG5cbmV4cG9ydCB0eXBlIFVzZXJXaXRoSWQgPVxuICB8IChVc2VyUmVxdWVzdCAmIHsgdHlwZT86ICdhdXRoZW50aWNhdGVkJyB9KVxuICB8IChVc2VyUmVxdWVzdCAmIHsgdHlwZTogJ2d1ZXN0JyB9KVxuICB8IChVc2VyUmVxdWVzdCAmIHtcbiAgICAgIGlkOiAnIWFub24nO1xuICAgICAgdHlwZTogJ2Fub255bW91cyc7XG4gICAgfSk7XG5cbmV4cG9ydCB0eXBlIHsgT3duVXNlclJlc3BvbnNlIH0gZnJvbSAnLi4vLi4vZ2VuL2Nvb3JkaW5hdG9yJztcblxuZXhwb3J0IHR5cGUgQ29ubmVjdEFQSVJlc3BvbnNlID0gUHJvbWlzZTx2b2lkIHwgQ29ubmVjdGVkRXZlbnQ+O1xuXG5leHBvcnQgdHlwZSBMb2dMZXZlbCA9ICd0cmFjZScgfCAnZGVidWcnIHwgJ2luZm8nIHwgJ3dhcm4nIHwgJ2Vycm9yJztcblxudHlwZSBFcnJvclJlc3BvbnNlRGV0YWlscyA9IHtcbiAgY29kZTogbnVtYmVyO1xuICBtZXNzYWdlczogc3RyaW5nW107XG59O1xuXG5leHBvcnQgdHlwZSBBUElFcnJvclJlc3BvbnNlID0ge1xuICBjb2RlOiBudW1iZXI7XG4gIGR1cmF0aW9uOiBzdHJpbmc7XG4gIG1lc3NhZ2U6IHN0cmluZztcbiAgbW9yZV9pbmZvOiBzdHJpbmc7XG4gIFN0YXR1c0NvZGU6IG51bWJlcjtcbiAgZGV0YWlscz86IEVycm9yUmVzcG9uc2VEZXRhaWxzO1xuICB1bnJlY292ZXJhYmxlPzogYm9vbGVhbjtcbn07XG5cbmV4cG9ydCBjbGFzcyBFcnJvckZyb21SZXNwb25zZTxUPiBleHRlbmRzIEVycm9yIHtcbiAgY29kZT86IG51bWJlcjtcbiAgcmVzcG9uc2U/OiBBeGlvc1Jlc3BvbnNlPFQ+O1xuICBzdGF0dXM/OiBudW1iZXI7XG4gIHVucmVjb3ZlcmFibGU/OiBib29sZWFuO1xufVxuXG5leHBvcnQgdHlwZSBDb25uZWN0aW9uQ2hhbmdlZEV2ZW50ID0ge1xuICB0eXBlOiAnY29ubmVjdGlvbi5jaGFuZ2VkJztcbiAgb25saW5lOiBib29sZWFuO1xufTtcblxuZXhwb3J0IHR5cGUgTmV0d29ya0NoYW5nZWRFdmVudCA9IHtcbiAgdHlwZTogJ25ldHdvcmsuY2hhbmdlZCc7XG4gIG9ubGluZTogYm9vbGVhbjtcbn07XG5cbmV4cG9ydCB0eXBlIFRyYW5zcG9ydENoYW5nZWRFdmVudCA9IHtcbiAgdHlwZTogJ3RyYW5zcG9ydC5jaGFuZ2VkJztcbiAgbW9kZTogJ2xvbmdwb2xsJztcbn07XG5cbmV4cG9ydCB0eXBlIENvbm5lY3Rpb25SZWNvdmVyZWRFdmVudCA9IHtcbiAgdHlwZTogJ2Nvbm5lY3Rpb24ucmVjb3ZlcmVkJztcbn07XG5cbmV4cG9ydCB0eXBlIFN0cmVhbVZpZGVvRXZlbnQgPSAoXG4gIHwgV1NFdmVudFxuICB8IE5ldHdvcmtDaGFuZ2VkRXZlbnRcbiAgfCBDb25uZWN0aW9uQ2hhbmdlZEV2ZW50XG4gIHwgVHJhbnNwb3J0Q2hhbmdlZEV2ZW50XG4gIHwgQ29ubmVjdGlvblJlY292ZXJlZEV2ZW50XG4pICYgeyByZWNlaXZlZF9hdD86IHN0cmluZyB8IERhdGUgfTtcblxuLy8gVE9ETzogd2Ugc2hvdWxkIHVzZSBXU0NhbGxFdmVudCBoZXJlIGJ1dCB0aGF0IG5lZWRzIGZpeGluZ1xuZXhwb3J0IHR5cGUgU3RyZWFtQ2FsbEV2ZW50ID0gRXh0cmFjdDxTdHJlYW1WaWRlb0V2ZW50LCB7IGNhbGxfY2lkOiBzdHJpbmcgfT47XG5leHBvcnQgdHlwZSBFdmVudFR5cGVzID0gJ2FsbCcgfCBXU0V2ZW50Wyd0eXBlJ107XG5cbmV4cG9ydCB0eXBlIEFsbENsaWVudEV2ZW50VHlwZXMgPSAnYWxsJyB8IFN0cmVhbVZpZGVvRXZlbnRbJ3R5cGUnXTtcbmV4cG9ydCB0eXBlIEFsbENsaWVudEV2ZW50cyA9IHtcbiAgW0sgaW4gQWxsQ2xpZW50RXZlbnRUeXBlc106IEV4dHJhY3Q8U3RyZWFtVmlkZW9FdmVudCwgeyB0eXBlOiBLIH0+O1xufTtcbmV4cG9ydCB0eXBlIENsaWVudEV2ZW50TGlzdGVuZXI8RSBleHRlbmRzIGtleW9mIEFsbENsaWVudEV2ZW50cz4gPSAoXG4gIGV2ZW50OiBBbGxDbGllbnRFdmVudHNbRV0sXG4pID0+IHZvaWQ7XG5cbmV4cG9ydCB0eXBlIEFsbENsaWVudENhbGxFdmVudHMgPSB7XG4gIFtLIGluIEV2ZW50VHlwZXNdOiBFeHRyYWN0PFdTRXZlbnQsIHsgdHlwZTogSyB9Pjtcbn07XG5cbmV4cG9ydCB0eXBlIEFsbENhbGxFdmVudHMgPSBBbGxDbGllbnRDYWxsRXZlbnRzICYgQWxsU2Z1RXZlbnRzO1xuZXhwb3J0IHR5cGUgQ2FsbEV2ZW50TGlzdGVuZXI8RSBleHRlbmRzIGtleW9mIEFsbENhbGxFdmVudHM+ID0gKFxuICBldmVudDogQWxsQ2FsbEV2ZW50c1tFXSxcbikgPT4gdm9pZDtcblxuZXhwb3J0IHR5cGUgTG9nZ2VyID0gKFxuICBsb2dMZXZlbDogTG9nTGV2ZWwsXG4gIG1lc3NhZ2U6IHN0cmluZyxcbiAgLi4uYXJnczogdW5rbm93bltdXG4pID0+IHZvaWQ7XG5cbmV4cG9ydCB0eXBlIFN0cmVhbUNsaWVudE9wdGlvbnMgPSBQYXJ0aWFsPEF4aW9zUmVxdWVzdENvbmZpZz4gJiB7XG4gIC8qKlxuICAgKiBVc2VkIHRvIGRpc2FibGUgd2FybmluZ3MgdGhhdCBhcmUgdHJpZ2dlcmVkIGJ5IHVzaW5nIGNvbm5lY3RVc2VyIG9yIGNvbm5lY3RBbm9ueW1vdXNVc2VyIHNlcnZlci1zaWRlLlxuICAgKi9cbiAgYWxsb3dTZXJ2ZXJTaWRlQ29ubmVjdD86IGJvb2xlYW47XG4gIGF4aW9zUmVxdWVzdENvbmZpZz86IEF4aW9zUmVxdWVzdENvbmZpZztcbiAgLyoqXG4gICAqIEJhc2UgdXJsIHRvIHVzZSBmb3IgQVBJXG4gICAqIHN1Y2ggYXMgaHR0cHM6Ly9jaGF0LXByb3h5LWR1Ymxpbi5zdHJlYW0taW8tYXBpLmNvbVxuICAgKi9cbiAgYmFzZVVSTD86IHN0cmluZztcbiAgYnJvd3Nlcj86IGJvb2xlYW47XG4gIGxvZ2dlcj86IExvZ2dlcjtcbiAgbG9nTGV2ZWw/OiBMb2dMZXZlbDtcbiAgLyoqXG4gICAqIFRoZSBVUkwgdG8gdXNlIGZvciB0aGUgbG9jYXRpb24gaGludC5cbiAgICovXG4gIGxvY2F0aW9uSGludFVybD86IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSBkZWZhdWx0IHRpbWVvdXQgZm9yIHJlcXVlc3RpbmcgYSBsb2NhdGlvbiBoaW50LlxuICAgKi9cbiAgbG9jYXRpb25IaW50VGltZW91dD86IG51bWJlcjtcbiAgLyoqXG4gICAqIFRoZSBtYXhpbXVtIG51bWJlciBvZiBhdHRlbXB0cyB0byByZXF1ZXN0IGEgbG9jYXRpb24gaGludC5cbiAgICovXG4gIGxvY2F0aW9uSGludE1heEF0dGVtcHRzPzogbnVtYmVyO1xuICAvKipcbiAgICogV2hlbiB0cnVlLCB1c2VyIHdpbGwgYmUgcGVyc2lzdGVkIG9uIGNsaWVudC4gT3RoZXJ3aXNlIGlmIGBjb25uZWN0VXNlcmAgY2FsbCBmYWlscywgdGhlbiB5b3UgbmVlZCB0b1xuICAgKiBjYWxsIGBjb25uZWN0VXNlcmAgYWdhaW4gdG8gcmV0cnkuXG4gICAqIFRoaXMgaXMgbWFpbmx5IHVzZWZ1bCBmb3IgY2hhdCBhcHBsaWNhdGlvbiB3b3JraW5nIGluIG9mZmxpbmUgbW9kZSwgd2hlcmUgeW91IHdpbGwgbmVlZCBjbGllbnQudXNlciB0b1xuICAgKiBwZXJzaXN0IGV2ZW4gaWYgY29ubmVjdFVzZXIgY2FsbCBmYWlscy5cbiAgICovXG4gIHBlcnNpc3RVc2VyT25Db25uZWN0aW9uRmFpbHVyZT86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIFRoZSBzZWNyZXQga2V5IGZvciB0aGUgQVBJIGtleS4gVGhpcyBpcyBvbmx5IG5lZWRlZCBmb3Igc2VydmVyIHNpZGUgYXV0aGVudGljYXRpb24uXG4gICAqL1xuICBzZWNyZXQ/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBXZWJTb2NrZXQgaW1wbGVtZW50YXRpb24gdG8gdXNlLiBUaGlzIGlzIG1haW5seSB1c2VmdWwgZm9yIHRlc3RpbmcuXG4gICAqIEluIE5vZGUuanMgZW52aXJvbm1lbnQsIHlvdSBjYW4gdXNlIHRoZSBgd3NgIHBhY2thZ2UuXG4gICAqL1xuICBXZWJTb2NrZXRJbXBsPzogdHlwZW9mIFdlYlNvY2tldDtcblxuICAvKipcbiAgICogQ3JlYXRlIFdlYiBXb3JrZXIgdG8gaW5pdGlhdGUgdGltZXIgZXZlbnRzIGxpa2UgaGVhbHRoIGNoZWNrcy4gQ2FuIHBvc3NpYmx5IHByZXZlbnRcbiAgICogdGltZXIgdGhyb3R0bGluZyBpc3N1ZXMgaW4gaW5hY3RpdmUgYnJvd3NlciB0YWJzLlxuICAgKi9cbiAgZW5hYmxlVGltZXJXb3JrZXI/OiBib29sZWFuO1xufTtcblxuZXhwb3J0IHR5cGUgVG9rZW5Qcm92aWRlciA9ICgpID0+IFByb21pc2U8c3RyaW5nPjtcbmV4cG9ydCB0eXBlIFRva2VuT3JQcm92aWRlciA9IG51bGwgfCBzdHJpbmcgfCBUb2tlblByb3ZpZGVyIHwgdW5kZWZpbmVkO1xuXG5leHBvcnQgdHlwZSBCdWlsdEluUmVqZWN0UmVhc29uID0gJ2J1c3knIHwgJ2RlY2xpbmUnIHwgJ2NhbmNlbCc7XG5leHBvcnQgdHlwZSBSZWplY3RSZWFzb24gPSBCdWlsdEluUmVqZWN0UmVhc29uIHwgc3RyaW5nO1xuIiwiLyogZXNsaW50LWRpc2FibGUgKi9cbi8vIEBnZW5lcmF0ZWQgYnkgcHJvdG9idWYtdHMgMi45LjQgd2l0aCBwYXJhbWV0ZXIgbG9uZ190eXBlX3N0cmluZyxjbGllbnRfZ2VuZXJpYyxzZXJ2ZXJfbm9uZSxlc2xpbnRfZGlzYWJsZSxvcHRpbWl6ZV9jb2RlX3NpemVcbi8vIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWxlIFwiZ29vZ2xlL3Byb3RvYnVmL3N0cnVjdC5wcm90b1wiIChwYWNrYWdlIFwiZ29vZ2xlLnByb3RvYnVmXCIsIHN5bnRheCBwcm90bzMpXG4vLyB0c2xpbnQ6ZGlzYWJsZVxuLy9cbi8vIFByb3RvY29sIEJ1ZmZlcnMgLSBHb29nbGUncyBkYXRhIGludGVyY2hhbmdlIGZvcm1hdFxuLy8gQ29weXJpZ2h0IDIwMDggR29vZ2xlIEluYy4gIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4vLyBodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS9wcm90b2NvbC1idWZmZXJzL1xuLy9cbi8vIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dFxuLy8gbW9kaWZpY2F0aW9uLCBhcmUgcGVybWl0dGVkIHByb3ZpZGVkIHRoYXQgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zIGFyZVxuLy8gbWV0OlxuLy9cbi8vICAgICAqIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmUgY29weXJpZ2h0XG4vLyBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuXG4vLyAgICAgKiBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlXG4vLyBjb3B5cmlnaHQgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyXG4vLyBpbiB0aGUgZG9jdW1lbnRhdGlvbiBhbmQvb3Igb3RoZXIgbWF0ZXJpYWxzIHByb3ZpZGVkIHdpdGggdGhlXG4vLyBkaXN0cmlidXRpb24uXG4vLyAgICAgKiBOZWl0aGVyIHRoZSBuYW1lIG9mIEdvb2dsZSBJbmMuIG5vciB0aGUgbmFtZXMgb2YgaXRzXG4vLyBjb250cmlidXRvcnMgbWF5IGJlIHVzZWQgdG8gZW5kb3JzZSBvciBwcm9tb3RlIHByb2R1Y3RzIGRlcml2ZWQgZnJvbVxuLy8gdGhpcyBzb2Z0d2FyZSB3aXRob3V0IHNwZWNpZmljIHByaW9yIHdyaXR0ZW4gcGVybWlzc2lvbi5cbi8vXG4vLyBUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIFRIRSBDT1BZUklHSFQgSE9MREVSUyBBTkQgQ09OVFJJQlVUT1JTXG4vLyBcIkFTIElTXCIgQU5EIEFOWSBFWFBSRVNTIE9SIElNUExJRUQgV0FSUkFOVElFUywgSU5DTFVESU5HLCBCVVQgTk9UXG4vLyBMSU1JVEVEIFRPLCBUSEUgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkQgRklUTkVTUyBGT1Jcbi8vIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFSRSBESVNDTEFJTUVELiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQ09QWVJJR0hUXG4vLyBPV05FUiBPUiBDT05UUklCVVRPUlMgQkUgTElBQkxFIEZPUiBBTlkgRElSRUNULCBJTkRJUkVDVCwgSU5DSURFTlRBTCxcbi8vIFNQRUNJQUwsIEVYRU1QTEFSWSwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIChJTkNMVURJTkcsIEJVVCBOT1Rcbi8vIExJTUlURUQgVE8sIFBST0NVUkVNRU5UIE9GIFNVQlNUSVRVVEUgR09PRFMgT1IgU0VSVklDRVM7IExPU1MgT0YgVVNFLFxuLy8gREFUQSwgT1IgUFJPRklUUzsgT1IgQlVTSU5FU1MgSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBBTkQgT04gQU5ZXG4vLyBUSEVPUlkgT0YgTElBQklMSVRZLCBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUiBUT1JUXG4vLyAoSU5DTFVESU5HIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKSBBUklTSU5HIElOIEFOWSBXQVkgT1VUIE9GIFRIRSBVU0Vcbi8vIE9GIFRISVMgU09GVFdBUkUsIEVWRU4gSUYgQURWSVNFRCBPRiBUSEUgUE9TU0lCSUxJVFkgT0YgU1VDSCBEQU1BR0UuXG4vL1xuaW1wb3J0IHsgaXNKc29uT2JqZWN0IH0gZnJvbSAnQHByb3RvYnVmLXRzL3J1bnRpbWUnO1xuaW1wb3J0IHsgdHlwZW9mSnNvblZhbHVlIH0gZnJvbSAnQHByb3RvYnVmLXRzL3J1bnRpbWUnO1xuaW1wb3J0IHR5cGUgeyBKc29uVmFsdWUgfSBmcm9tICdAcHJvdG9idWYtdHMvcnVudGltZSc7XG5pbXBvcnQgdHlwZSB7IEpzb25SZWFkT3B0aW9ucyB9IGZyb20gJ0Bwcm90b2J1Zi10cy9ydW50aW1lJztcbmltcG9ydCB0eXBlIHsgSnNvbldyaXRlT3B0aW9ucyB9IGZyb20gJ0Bwcm90b2J1Zi10cy9ydW50aW1lJztcbmltcG9ydCB0eXBlIHsgSnNvbk9iamVjdCB9IGZyb20gJ0Bwcm90b2J1Zi10cy9ydW50aW1lJztcbmltcG9ydCB7IE1lc3NhZ2VUeXBlIH0gZnJvbSAnQHByb3RvYnVmLXRzL3J1bnRpbWUnO1xuLyoqXG4gKiBgU3RydWN0YCByZXByZXNlbnRzIGEgc3RydWN0dXJlZCBkYXRhIHZhbHVlLCBjb25zaXN0aW5nIG9mIGZpZWxkc1xuICogd2hpY2ggbWFwIHRvIGR5bmFtaWNhbGx5IHR5cGVkIHZhbHVlcy4gSW4gc29tZSBsYW5ndWFnZXMsIGBTdHJ1Y3RgXG4gKiBtaWdodCBiZSBzdXBwb3J0ZWQgYnkgYSBuYXRpdmUgcmVwcmVzZW50YXRpb24uIEZvciBleGFtcGxlLCBpblxuICogc2NyaXB0aW5nIGxhbmd1YWdlcyBsaWtlIEpTIGEgc3RydWN0IGlzIHJlcHJlc2VudGVkIGFzIGFuXG4gKiBvYmplY3QuIFRoZSBkZXRhaWxzIG9mIHRoYXQgcmVwcmVzZW50YXRpb24gYXJlIGRlc2NyaWJlZCB0b2dldGhlclxuICogd2l0aCB0aGUgcHJvdG8gc3VwcG9ydCBmb3IgdGhlIGxhbmd1YWdlLlxuICpcbiAqIFRoZSBKU09OIHJlcHJlc2VudGF0aW9uIGZvciBgU3RydWN0YCBpcyBKU09OIG9iamVjdC5cbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBnb29nbGUucHJvdG9idWYuU3RydWN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU3RydWN0IHtcbiAgLyoqXG4gICAqIFVub3JkZXJlZCBtYXAgb2YgZHluYW1pY2FsbHkgdHlwZWQgdmFsdWVzLlxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IG1hcDxzdHJpbmcsIGdvb2dsZS5wcm90b2J1Zi5WYWx1ZT4gZmllbGRzID0gMTtcbiAgICovXG4gIGZpZWxkczoge1xuICAgIFtrZXk6IHN0cmluZ106IFZhbHVlO1xuICB9O1xufVxuLyoqXG4gKiBgVmFsdWVgIHJlcHJlc2VudHMgYSBkeW5hbWljYWxseSB0eXBlZCB2YWx1ZSB3aGljaCBjYW4gYmUgZWl0aGVyXG4gKiBudWxsLCBhIG51bWJlciwgYSBzdHJpbmcsIGEgYm9vbGVhbiwgYSByZWN1cnNpdmUgc3RydWN0IHZhbHVlLCBvciBhXG4gKiBsaXN0IG9mIHZhbHVlcy4gQSBwcm9kdWNlciBvZiB2YWx1ZSBpcyBleHBlY3RlZCB0byBzZXQgb25lIG9mIHRoZXNlXG4gKiB2YXJpYW50cy4gQWJzZW5jZSBvZiBhbnkgdmFyaWFudCBpbmRpY2F0ZXMgYW4gZXJyb3IuXG4gKlxuICogVGhlIEpTT04gcmVwcmVzZW50YXRpb24gZm9yIGBWYWx1ZWAgaXMgSlNPTiB2YWx1ZS5cbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBnb29nbGUucHJvdG9idWYuVmFsdWVcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBWYWx1ZSB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgb25lb2Y6IGtpbmRcbiAgICovXG4gIGtpbmQ6XG4gICAgfCB7XG4gICAgICAgIG9uZW9mS2luZDogJ251bGxWYWx1ZSc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXByZXNlbnRzIGEgbnVsbCB2YWx1ZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBnb29nbGUucHJvdG9idWYuTnVsbFZhbHVlIG51bGxfdmFsdWUgPSAxO1xuICAgICAgICAgKi9cbiAgICAgICAgbnVsbFZhbHVlOiBOdWxsVmFsdWU7XG4gICAgICB9XG4gICAgfCB7XG4gICAgICAgIG9uZW9mS2luZDogJ251bWJlclZhbHVlJztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlcHJlc2VudHMgYSBkb3VibGUgdmFsdWUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogZG91YmxlIG51bWJlcl92YWx1ZSA9IDI7XG4gICAgICAgICAqL1xuICAgICAgICBudW1iZXJWYWx1ZTogbnVtYmVyO1xuICAgICAgfVxuICAgIHwge1xuICAgICAgICBvbmVvZktpbmQ6ICdzdHJpbmdWYWx1ZSc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXByZXNlbnRzIGEgc3RyaW5nIHZhbHVlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBzdHJpbmdfdmFsdWUgPSAzO1xuICAgICAgICAgKi9cbiAgICAgICAgc3RyaW5nVmFsdWU6IHN0cmluZztcbiAgICAgIH1cbiAgICB8IHtcbiAgICAgICAgb25lb2ZLaW5kOiAnYm9vbFZhbHVlJztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlcHJlc2VudHMgYSBib29sZWFuIHZhbHVlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGJvb2wgYm9vbF92YWx1ZSA9IDQ7XG4gICAgICAgICAqL1xuICAgICAgICBib29sVmFsdWU6IGJvb2xlYW47XG4gICAgICB9XG4gICAgfCB7XG4gICAgICAgIG9uZW9mS2luZDogJ3N0cnVjdFZhbHVlJztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlcHJlc2VudHMgYSBzdHJ1Y3R1cmVkIHZhbHVlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGdvb2dsZS5wcm90b2J1Zi5TdHJ1Y3Qgc3RydWN0X3ZhbHVlID0gNTtcbiAgICAgICAgICovXG4gICAgICAgIHN0cnVjdFZhbHVlOiBTdHJ1Y3Q7XG4gICAgICB9XG4gICAgfCB7XG4gICAgICAgIG9uZW9mS2luZDogJ2xpc3RWYWx1ZSc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXByZXNlbnRzIGEgcmVwZWF0ZWQgYFZhbHVlYC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBnb29nbGUucHJvdG9idWYuTGlzdFZhbHVlIGxpc3RfdmFsdWUgPSA2O1xuICAgICAgICAgKi9cbiAgICAgICAgbGlzdFZhbHVlOiBMaXN0VmFsdWU7XG4gICAgICB9XG4gICAgfCB7XG4gICAgICAgIG9uZW9mS2luZDogdW5kZWZpbmVkO1xuICAgICAgfTtcbn1cbi8qKlxuICogYExpc3RWYWx1ZWAgaXMgYSB3cmFwcGVyIGFyb3VuZCBhIHJlcGVhdGVkIGZpZWxkIG9mIHZhbHVlcy5cbiAqXG4gKiBUaGUgSlNPTiByZXByZXNlbnRhdGlvbiBmb3IgYExpc3RWYWx1ZWAgaXMgSlNPTiBhcnJheS5cbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBnb29nbGUucHJvdG9idWYuTGlzdFZhbHVlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgTGlzdFZhbHVlIHtcbiAgLyoqXG4gICAqIFJlcGVhdGVkIGZpZWxkIG9mIGR5bmFtaWNhbGx5IHR5cGVkIHZhbHVlcy5cbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiByZXBlYXRlZCBnb29nbGUucHJvdG9idWYuVmFsdWUgdmFsdWVzID0gMTtcbiAgICovXG4gIHZhbHVlczogVmFsdWVbXTtcbn1cbi8qKlxuICogYE51bGxWYWx1ZWAgaXMgYSBzaW5nbGV0b24gZW51bWVyYXRpb24gdG8gcmVwcmVzZW50IHRoZSBudWxsIHZhbHVlIGZvciB0aGVcbiAqIGBWYWx1ZWAgdHlwZSB1bmlvbi5cbiAqXG4gKiAgVGhlIEpTT04gcmVwcmVzZW50YXRpb24gZm9yIGBOdWxsVmFsdWVgIGlzIEpTT04gYG51bGxgLlxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIGdvb2dsZS5wcm90b2J1Zi5OdWxsVmFsdWVcbiAqL1xuZXhwb3J0IGVudW0gTnVsbFZhbHVlIHtcbiAgLyoqXG4gICAqIE51bGwgdmFsdWUuXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBOVUxMX1ZBTFVFID0gMDtcbiAgICovXG4gIE5VTExfVkFMVUUgPSAwLFxufVxuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgU3RydWN0JFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxTdHJ1Y3Q+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ2dvb2dsZS5wcm90b2J1Zi5TdHJ1Y3QnLCBbXG4gICAgICB7XG4gICAgICAgIG5vOiAxLFxuICAgICAgICBuYW1lOiAnZmllbGRzJyxcbiAgICAgICAga2luZDogJ21hcCcsXG4gICAgICAgIEs6IDkgLypTY2FsYXJUeXBlLlNUUklORyovLFxuICAgICAgICBWOiB7IGtpbmQ6ICdtZXNzYWdlJywgVDogKCkgPT4gVmFsdWUgfSxcbiAgICAgIH0sXG4gICAgXSk7XG4gIH1cbiAgLyoqXG4gICAqIEVuY29kZSBgU3RydWN0YCB0byBKU09OIG9iamVjdC5cbiAgICovXG4gIGludGVybmFsSnNvbldyaXRlKG1lc3NhZ2U6IFN0cnVjdCwgb3B0aW9uczogSnNvbldyaXRlT3B0aW9ucyk6IEpzb25WYWx1ZSB7XG4gICAgbGV0IGpzb246IEpzb25PYmplY3QgPSB7fTtcbiAgICBmb3IgKGxldCBbaywgdl0gb2YgT2JqZWN0LmVudHJpZXMobWVzc2FnZS5maWVsZHMpKSB7XG4gICAgICBqc29uW2tdID0gVmFsdWUudG9Kc29uKHYpO1xuICAgIH1cbiAgICByZXR1cm4ganNvbjtcbiAgfVxuICAvKipcbiAgICogRGVjb2RlIGBTdHJ1Y3RgIGZyb20gSlNPTiBvYmplY3QuXG4gICAqL1xuICBpbnRlcm5hbEpzb25SZWFkKFxuICAgIGpzb246IEpzb25WYWx1ZSxcbiAgICBvcHRpb25zOiBKc29uUmVhZE9wdGlvbnMsXG4gICAgdGFyZ2V0PzogU3RydWN0LFxuICApOiBTdHJ1Y3Qge1xuICAgIGlmICghaXNKc29uT2JqZWN0KGpzb24pKVxuICAgICAgdGhyb3cgbmV3IGdsb2JhbFRoaXMuRXJyb3IoXG4gICAgICAgICdVbmFibGUgdG8gcGFyc2UgbWVzc2FnZSAnICtcbiAgICAgICAgICB0aGlzLnR5cGVOYW1lICtcbiAgICAgICAgICAnIGZyb20gSlNPTiAnICtcbiAgICAgICAgICB0eXBlb2ZKc29uVmFsdWUoanNvbikgK1xuICAgICAgICAgICcuJyxcbiAgICAgICk7XG4gICAgaWYgKCF0YXJnZXQpIHRhcmdldCA9IHRoaXMuY3JlYXRlKCk7XG4gICAgZm9yIChsZXQgW2ssIHZdIG9mIGdsb2JhbFRoaXMuT2JqZWN0LmVudHJpZXMoanNvbikpIHtcbiAgICAgIHRhcmdldC5maWVsZHNba10gPSBWYWx1ZS5mcm9tSnNvbih2KTtcbiAgICB9XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIGdvb2dsZS5wcm90b2J1Zi5TdHJ1Y3RcbiAqL1xuZXhwb3J0IGNvbnN0IFN0cnVjdCA9IG5ldyBTdHJ1Y3QkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgVmFsdWUkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFZhbHVlPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdnb29nbGUucHJvdG9idWYuVmFsdWUnLCBbXG4gICAgICB7XG4gICAgICAgIG5vOiAxLFxuICAgICAgICBuYW1lOiAnbnVsbF92YWx1ZScsXG4gICAgICAgIGtpbmQ6ICdlbnVtJyxcbiAgICAgICAgb25lb2Y6ICdraW5kJyxcbiAgICAgICAgVDogKCkgPT4gWydnb29nbGUucHJvdG9idWYuTnVsbFZhbHVlJywgTnVsbFZhbHVlXSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAyLFxuICAgICAgICBuYW1lOiAnbnVtYmVyX3ZhbHVlJyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIG9uZW9mOiAna2luZCcsXG4gICAgICAgIFQ6IDEgLypTY2FsYXJUeXBlLkRPVUJMRSovLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDMsXG4gICAgICAgIG5hbWU6ICdzdHJpbmdfdmFsdWUnLFxuICAgICAgICBraW5kOiAnc2NhbGFyJyxcbiAgICAgICAgb25lb2Y6ICdraW5kJyxcbiAgICAgICAgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogNCxcbiAgICAgICAgbmFtZTogJ2Jvb2xfdmFsdWUnLFxuICAgICAgICBraW5kOiAnc2NhbGFyJyxcbiAgICAgICAgb25lb2Y6ICdraW5kJyxcbiAgICAgICAgVDogOCAvKlNjYWxhclR5cGUuQk9PTCovLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDUsXG4gICAgICAgIG5hbWU6ICdzdHJ1Y3RfdmFsdWUnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIG9uZW9mOiAna2luZCcsXG4gICAgICAgIFQ6ICgpID0+IFN0cnVjdCxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiA2LFxuICAgICAgICBuYW1lOiAnbGlzdF92YWx1ZScsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgb25lb2Y6ICdraW5kJyxcbiAgICAgICAgVDogKCkgPT4gTGlzdFZhbHVlLFxuICAgICAgfSxcbiAgICBdKTtcbiAgfVxuICAvKipcbiAgICogRW5jb2RlIGBWYWx1ZWAgdG8gSlNPTiB2YWx1ZS5cbiAgICovXG4gIGludGVybmFsSnNvbldyaXRlKG1lc3NhZ2U6IFZhbHVlLCBvcHRpb25zOiBKc29uV3JpdGVPcHRpb25zKTogSnNvblZhbHVlIHtcbiAgICBpZiAobWVzc2FnZS5raW5kLm9uZW9mS2luZCA9PT0gdW5kZWZpbmVkKSB0aHJvdyBuZXcgZ2xvYmFsVGhpcy5FcnJvcigpO1xuICAgIHN3aXRjaCAobWVzc2FnZS5raW5kLm9uZW9mS2luZCkge1xuICAgICAgY2FzZSB1bmRlZmluZWQ6XG4gICAgICAgIHRocm93IG5ldyBnbG9iYWxUaGlzLkVycm9yKCk7XG4gICAgICBjYXNlICdib29sVmFsdWUnOlxuICAgICAgICByZXR1cm4gbWVzc2FnZS5raW5kLmJvb2xWYWx1ZTtcbiAgICAgIGNhc2UgJ251bGxWYWx1ZSc6XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgY2FzZSAnbnVtYmVyVmFsdWUnOlxuICAgICAgICBsZXQgbnVtYmVyVmFsdWUgPSBtZXNzYWdlLmtpbmQubnVtYmVyVmFsdWU7XG4gICAgICAgIGlmICh0eXBlb2YgbnVtYmVyVmFsdWUgPT0gJ251bWJlcicgJiYgIU51bWJlci5pc0Zpbml0ZShudW1iZXJWYWx1ZSkpXG4gICAgICAgICAgdGhyb3cgbmV3IGdsb2JhbFRoaXMuRXJyb3IoKTtcbiAgICAgICAgcmV0dXJuIG51bWJlclZhbHVlO1xuICAgICAgY2FzZSAnc3RyaW5nVmFsdWUnOlxuICAgICAgICByZXR1cm4gbWVzc2FnZS5raW5kLnN0cmluZ1ZhbHVlO1xuICAgICAgY2FzZSAnbGlzdFZhbHVlJzpcbiAgICAgICAgbGV0IGxpc3RWYWx1ZUZpZWxkID0gdGhpcy5maWVsZHMuZmluZCgoZikgPT4gZi5ubyA9PT0gNik7XG4gICAgICAgIGlmIChsaXN0VmFsdWVGaWVsZD8ua2luZCAhPT0gJ21lc3NhZ2UnKSB0aHJvdyBuZXcgZ2xvYmFsVGhpcy5FcnJvcigpO1xuICAgICAgICByZXR1cm4gbGlzdFZhbHVlRmllbGQuVCgpLnRvSnNvbihtZXNzYWdlLmtpbmQubGlzdFZhbHVlKTtcbiAgICAgIGNhc2UgJ3N0cnVjdFZhbHVlJzpcbiAgICAgICAgbGV0IHN0cnVjdFZhbHVlRmllbGQgPSB0aGlzLmZpZWxkcy5maW5kKChmKSA9PiBmLm5vID09PSA1KTtcbiAgICAgICAgaWYgKHN0cnVjdFZhbHVlRmllbGQ/LmtpbmQgIT09ICdtZXNzYWdlJykgdGhyb3cgbmV3IGdsb2JhbFRoaXMuRXJyb3IoKTtcbiAgICAgICAgcmV0dXJuIHN0cnVjdFZhbHVlRmllbGQuVCgpLnRvSnNvbihtZXNzYWdlLmtpbmQuc3RydWN0VmFsdWUpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogRGVjb2RlIGBWYWx1ZWAgZnJvbSBKU09OIHZhbHVlLlxuICAgKi9cbiAgaW50ZXJuYWxKc29uUmVhZChcbiAgICBqc29uOiBKc29uVmFsdWUsXG4gICAgb3B0aW9uczogSnNvblJlYWRPcHRpb25zLFxuICAgIHRhcmdldD86IFZhbHVlLFxuICApOiBWYWx1ZSB7XG4gICAgaWYgKCF0YXJnZXQpIHRhcmdldCA9IHRoaXMuY3JlYXRlKCk7XG4gICAgc3dpdGNoICh0eXBlb2YganNvbikge1xuICAgICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgICAgdGFyZ2V0LmtpbmQgPSB7IG9uZW9mS2luZDogJ251bWJlclZhbHVlJywgbnVtYmVyVmFsdWU6IGpzb24gfTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgICB0YXJnZXQua2luZCA9IHsgb25lb2ZLaW5kOiAnc3RyaW5nVmFsdWUnLCBzdHJpbmdWYWx1ZToganNvbiB9O1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgICB0YXJnZXQua2luZCA9IHsgb25lb2ZLaW5kOiAnYm9vbFZhbHVlJywgYm9vbFZhbHVlOiBqc29uIH07XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgICAgaWYgKGpzb24gPT09IG51bGwpIHtcbiAgICAgICAgICB0YXJnZXQua2luZCA9IHtcbiAgICAgICAgICAgIG9uZW9mS2luZDogJ251bGxWYWx1ZScsXG4gICAgICAgICAgICBudWxsVmFsdWU6IE51bGxWYWx1ZS5OVUxMX1ZBTFVFLFxuICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSBpZiAoZ2xvYmFsVGhpcy5BcnJheS5pc0FycmF5KGpzb24pKSB7XG4gICAgICAgICAgdGFyZ2V0LmtpbmQgPSB7XG4gICAgICAgICAgICBvbmVvZktpbmQ6ICdsaXN0VmFsdWUnLFxuICAgICAgICAgICAgbGlzdFZhbHVlOiBMaXN0VmFsdWUuZnJvbUpzb24oanNvbiksXG4gICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0YXJnZXQua2luZCA9IHtcbiAgICAgICAgICAgIG9uZW9mS2luZDogJ3N0cnVjdFZhbHVlJyxcbiAgICAgICAgICAgIHN0cnVjdFZhbHVlOiBTdHJ1Y3QuZnJvbUpzb24oanNvbiksXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBnbG9iYWxUaGlzLkVycm9yKFxuICAgICAgICAgICdVbmFibGUgdG8gcGFyc2UgJyArXG4gICAgICAgICAgICB0aGlzLnR5cGVOYW1lICtcbiAgICAgICAgICAgICcgZnJvbSBKU09OICcgK1xuICAgICAgICAgICAgdHlwZW9mSnNvblZhbHVlKGpzb24pLFxuICAgICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2UgZ29vZ2xlLnByb3RvYnVmLlZhbHVlXG4gKi9cbmV4cG9ydCBjb25zdCBWYWx1ZSA9IG5ldyBWYWx1ZSRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBMaXN0VmFsdWUkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPExpc3RWYWx1ZT4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignZ29vZ2xlLnByb3RvYnVmLkxpc3RWYWx1ZScsIFtcbiAgICAgIHtcbiAgICAgICAgbm86IDEsXG4gICAgICAgIG5hbWU6ICd2YWx1ZXMnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIHJlcGVhdDogMSAvKlJlcGVhdFR5cGUuUEFDS0VEKi8sXG4gICAgICAgIFQ6ICgpID0+IFZhbHVlLFxuICAgICAgfSxcbiAgICBdKTtcbiAgfVxuICAvKipcbiAgICogRW5jb2RlIGBMaXN0VmFsdWVgIHRvIEpTT04gYXJyYXkuXG4gICAqL1xuICBpbnRlcm5hbEpzb25Xcml0ZShtZXNzYWdlOiBMaXN0VmFsdWUsIG9wdGlvbnM6IEpzb25Xcml0ZU9wdGlvbnMpOiBKc29uVmFsdWUge1xuICAgIHJldHVybiBtZXNzYWdlLnZhbHVlcy5tYXAoKHYpID0+IFZhbHVlLnRvSnNvbih2KSk7XG4gIH1cbiAgLyoqXG4gICAqIERlY29kZSBgTGlzdFZhbHVlYCBmcm9tIEpTT04gYXJyYXkuXG4gICAqL1xuICBpbnRlcm5hbEpzb25SZWFkKFxuICAgIGpzb246IEpzb25WYWx1ZSxcbiAgICBvcHRpb25zOiBKc29uUmVhZE9wdGlvbnMsXG4gICAgdGFyZ2V0PzogTGlzdFZhbHVlLFxuICApOiBMaXN0VmFsdWUge1xuICAgIGlmICghZ2xvYmFsVGhpcy5BcnJheS5pc0FycmF5KGpzb24pKVxuICAgICAgdGhyb3cgbmV3IGdsb2JhbFRoaXMuRXJyb3IoXG4gICAgICAgICdVbmFibGUgdG8gcGFyc2UgJyArXG4gICAgICAgICAgdGhpcy50eXBlTmFtZSArXG4gICAgICAgICAgJyBmcm9tIEpTT04gJyArXG4gICAgICAgICAgdHlwZW9mSnNvblZhbHVlKGpzb24pLFxuICAgICAgKTtcbiAgICBpZiAoIXRhcmdldCkgdGFyZ2V0ID0gdGhpcy5jcmVhdGUoKTtcbiAgICBsZXQgdmFsdWVzID0ganNvbi5tYXAoKHYpID0+IFZhbHVlLmZyb21Kc29uKHYpKTtcbiAgICB0YXJnZXQudmFsdWVzLnB1c2goLi4udmFsdWVzKTtcbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2UgZ29vZ2xlLnByb3RvYnVmLkxpc3RWYWx1ZVxuICovXG5leHBvcnQgY29uc3QgTGlzdFZhbHVlID0gbmV3IExpc3RWYWx1ZSRUeXBlKCk7XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuLy8gQGdlbmVyYXRlZCBieSBwcm90b2J1Zi10cyAyLjkuNCB3aXRoIHBhcmFtZXRlciBsb25nX3R5cGVfc3RyaW5nLGNsaWVudF9nZW5lcmljLHNlcnZlcl9ub25lLGVzbGludF9kaXNhYmxlLG9wdGltaXplX2NvZGVfc2l6ZVxuLy8gQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpbGUgXCJnb29nbGUvcHJvdG9idWYvdGltZXN0YW1wLnByb3RvXCIgKHBhY2thZ2UgXCJnb29nbGUucHJvdG9idWZcIiwgc3ludGF4IHByb3RvMylcbi8vIHRzbGludDpkaXNhYmxlXG4vL1xuLy8gUHJvdG9jb2wgQnVmZmVycyAtIEdvb2dsZSdzIGRhdGEgaW50ZXJjaGFuZ2UgZm9ybWF0XG4vLyBDb3B5cmlnaHQgMjAwOCBHb29nbGUgSW5jLiAgQWxsIHJpZ2h0cyByZXNlcnZlZC5cbi8vIGh0dHBzOi8vZGV2ZWxvcGVycy5nb29nbGUuY29tL3Byb3RvY29sLWJ1ZmZlcnMvXG4vL1xuLy8gUmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0XG4vLyBtb2RpZmljYXRpb24sIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlXG4vLyBtZXQ6XG4vL1xuLy8gICAgICogUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHRcbi8vIG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci5cbi8vICAgICAqIFJlZGlzdHJpYnV0aW9ucyBpbiBiaW5hcnkgZm9ybSBtdXN0IHJlcHJvZHVjZSB0aGUgYWJvdmVcbi8vIGNvcHlyaWdodCBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXJcbi8vIGluIHRoZSBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWQgd2l0aCB0aGVcbi8vIGRpc3RyaWJ1dGlvbi5cbi8vICAgICAqIE5laXRoZXIgdGhlIG5hbWUgb2YgR29vZ2xlIEluYy4gbm9yIHRoZSBuYW1lcyBvZiBpdHNcbi8vIGNvbnRyaWJ1dG9ycyBtYXkgYmUgdXNlZCB0byBlbmRvcnNlIG9yIHByb21vdGUgcHJvZHVjdHMgZGVyaXZlZCBmcm9tXG4vLyB0aGlzIHNvZnR3YXJlIHdpdGhvdXQgc3BlY2lmaWMgcHJpb3Igd3JpdHRlbiBwZXJtaXNzaW9uLlxuLy9cbi8vIFRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIENPUFlSSUdIVCBIT0xERVJTIEFORCBDT05UUklCVVRPUlNcbi8vIFwiQVMgSVNcIiBBTkQgQU5ZIEVYUFJFU1MgT1IgSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1Rcbi8vIExJTUlURUQgVE8sIFRIRSBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUlxuLy8gQSBQQVJUSUNVTEFSIFBVUlBPU0UgQVJFIERJU0NMQUlNRUQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFRcbi8vIE9XTkVSIE9SIENPTlRSSUJVVE9SUyBCRSBMSUFCTEUgRk9SIEFOWSBESVJFQ1QsIElORElSRUNULCBJTkNJREVOVEFMLFxuLy8gU1BFQ0lBTCwgRVhFTVBMQVJZLCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgKElOQ0xVRElORywgQlVUIE5PVFxuLy8gTElNSVRFRCBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsXG4vLyBEQVRBLCBPUiBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORCBPTiBBTllcbi8vIFRIRU9SWSBPRiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlRcbi8vIChJTkNMVURJTkcgTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRVxuLy8gT0YgVEhJUyBTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRSBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cbi8vXG5pbXBvcnQgeyB0eXBlb2ZKc29uVmFsdWUgfSBmcm9tICdAcHJvdG9idWYtdHMvcnVudGltZSc7XG5pbXBvcnQgdHlwZSB7IEpzb25WYWx1ZSB9IGZyb20gJ0Bwcm90b2J1Zi10cy9ydW50aW1lJztcbmltcG9ydCB0eXBlIHsgSnNvblJlYWRPcHRpb25zIH0gZnJvbSAnQHByb3RvYnVmLXRzL3J1bnRpbWUnO1xuaW1wb3J0IHR5cGUgeyBKc29uV3JpdGVPcHRpb25zIH0gZnJvbSAnQHByb3RvYnVmLXRzL3J1bnRpbWUnO1xuaW1wb3J0IHsgUGJMb25nIH0gZnJvbSAnQHByb3RvYnVmLXRzL3J1bnRpbWUnO1xuaW1wb3J0IHsgTWVzc2FnZVR5cGUgfSBmcm9tICdAcHJvdG9idWYtdHMvcnVudGltZSc7XG4vKipcbiAqIEEgVGltZXN0YW1wIHJlcHJlc2VudHMgYSBwb2ludCBpbiB0aW1lIGluZGVwZW5kZW50IG9mIGFueSB0aW1lIHpvbmUgb3IgbG9jYWxcbiAqIGNhbGVuZGFyLCBlbmNvZGVkIGFzIGEgY291bnQgb2Ygc2Vjb25kcyBhbmQgZnJhY3Rpb25zIG9mIHNlY29uZHMgYXRcbiAqIG5hbm9zZWNvbmQgcmVzb2x1dGlvbi4gVGhlIGNvdW50IGlzIHJlbGF0aXZlIHRvIGFuIGVwb2NoIGF0IFVUQyBtaWRuaWdodCBvblxuICogSmFudWFyeSAxLCAxOTcwLCBpbiB0aGUgcHJvbGVwdGljIEdyZWdvcmlhbiBjYWxlbmRhciB3aGljaCBleHRlbmRzIHRoZVxuICogR3JlZ29yaWFuIGNhbGVuZGFyIGJhY2t3YXJkcyB0byB5ZWFyIG9uZS5cbiAqXG4gKiBBbGwgbWludXRlcyBhcmUgNjAgc2Vjb25kcyBsb25nLiBMZWFwIHNlY29uZHMgYXJlIFwic21lYXJlZFwiIHNvIHRoYXQgbm8gbGVhcFxuICogc2Vjb25kIHRhYmxlIGlzIG5lZWRlZCBmb3IgaW50ZXJwcmV0YXRpb24sIHVzaW5nIGEgWzI0LWhvdXIgbGluZWFyXG4gKiBzbWVhcl0oaHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20vdGltZS9zbWVhcikuXG4gKlxuICogVGhlIHJhbmdlIGlzIGZyb20gMDAwMS0wMS0wMVQwMDowMDowMFogdG8gOTk5OS0xMi0zMVQyMzo1OTo1OS45OTk5OTk5OTlaLiBCeVxuICogcmVzdHJpY3RpbmcgdG8gdGhhdCByYW5nZSwgd2UgZW5zdXJlIHRoYXQgd2UgY2FuIGNvbnZlcnQgdG8gYW5kIGZyb20gW1JGQ1xuICogMzMzOV0oaHR0cHM6Ly93d3cuaWV0Zi5vcmcvcmZjL3JmYzMzMzkudHh0KSBkYXRlIHN0cmluZ3MuXG4gKlxuICogIyBFeGFtcGxlc1xuICpcbiAqIEV4YW1wbGUgMTogQ29tcHV0ZSBUaW1lc3RhbXAgZnJvbSBQT1NJWCBgdGltZSgpYC5cbiAqXG4gKiAgICAgVGltZXN0YW1wIHRpbWVzdGFtcDtcbiAqICAgICB0aW1lc3RhbXAuc2V0X3NlY29uZHModGltZShOVUxMKSk7XG4gKiAgICAgdGltZXN0YW1wLnNldF9uYW5vcygwKTtcbiAqXG4gKiBFeGFtcGxlIDI6IENvbXB1dGUgVGltZXN0YW1wIGZyb20gUE9TSVggYGdldHRpbWVvZmRheSgpYC5cbiAqXG4gKiAgICAgc3RydWN0IHRpbWV2YWwgdHY7XG4gKiAgICAgZ2V0dGltZW9mZGF5KCZ0diwgTlVMTCk7XG4gKlxuICogICAgIFRpbWVzdGFtcCB0aW1lc3RhbXA7XG4gKiAgICAgdGltZXN0YW1wLnNldF9zZWNvbmRzKHR2LnR2X3NlYyk7XG4gKiAgICAgdGltZXN0YW1wLnNldF9uYW5vcyh0di50dl91c2VjICogMTAwMCk7XG4gKlxuICogRXhhbXBsZSAzOiBDb21wdXRlIFRpbWVzdGFtcCBmcm9tIFdpbjMyIGBHZXRTeXN0ZW1UaW1lQXNGaWxlVGltZSgpYC5cbiAqXG4gKiAgICAgRklMRVRJTUUgZnQ7XG4gKiAgICAgR2V0U3lzdGVtVGltZUFzRmlsZVRpbWUoJmZ0KTtcbiAqICAgICBVSU5UNjQgdGlja3MgPSAoKChVSU5UNjQpZnQuZHdIaWdoRGF0ZVRpbWUpIDw8IDMyKSB8IGZ0LmR3TG93RGF0ZVRpbWU7XG4gKlxuICogICAgIC8vIEEgV2luZG93cyB0aWNrIGlzIDEwMCBuYW5vc2Vjb25kcy4gV2luZG93cyBlcG9jaCAxNjAxLTAxLTAxVDAwOjAwOjAwWlxuICogICAgIC8vIGlzIDExNjQ0NDczNjAwIHNlY29uZHMgYmVmb3JlIFVuaXggZXBvY2ggMTk3MC0wMS0wMVQwMDowMDowMFouXG4gKiAgICAgVGltZXN0YW1wIHRpbWVzdGFtcDtcbiAqICAgICB0aW1lc3RhbXAuc2V0X3NlY29uZHMoKElOVDY0KSAoKHRpY2tzIC8gMTAwMDAwMDApIC0gMTE2NDQ0NzM2MDBMTCkpO1xuICogICAgIHRpbWVzdGFtcC5zZXRfbmFub3MoKElOVDMyKSAoKHRpY2tzICUgMTAwMDAwMDApICogMTAwKSk7XG4gKlxuICogRXhhbXBsZSA0OiBDb21wdXRlIFRpbWVzdGFtcCBmcm9tIEphdmEgYFN5c3RlbS5jdXJyZW50VGltZU1pbGxpcygpYC5cbiAqXG4gKiAgICAgbG9uZyBtaWxsaXMgPSBTeXN0ZW0uY3VycmVudFRpbWVNaWxsaXMoKTtcbiAqXG4gKiAgICAgVGltZXN0YW1wIHRpbWVzdGFtcCA9IFRpbWVzdGFtcC5uZXdCdWlsZGVyKCkuc2V0U2Vjb25kcyhtaWxsaXMgLyAxMDAwKVxuICogICAgICAgICAuc2V0TmFub3MoKGludCkgKChtaWxsaXMgJSAxMDAwKSAqIDEwMDAwMDApKS5idWlsZCgpO1xuICpcbiAqXG4gKiBFeGFtcGxlIDU6IENvbXB1dGUgVGltZXN0YW1wIGZyb20gSmF2YSBgSW5zdGFudC5ub3coKWAuXG4gKlxuICogICAgIEluc3RhbnQgbm93ID0gSW5zdGFudC5ub3coKTtcbiAqXG4gKiAgICAgVGltZXN0YW1wIHRpbWVzdGFtcCA9XG4gKiAgICAgICAgIFRpbWVzdGFtcC5uZXdCdWlsZGVyKCkuc2V0U2Vjb25kcyhub3cuZ2V0RXBvY2hTZWNvbmQoKSlcbiAqICAgICAgICAgICAgIC5zZXROYW5vcyhub3cuZ2V0TmFubygpKS5idWlsZCgpO1xuICpcbiAqXG4gKiBFeGFtcGxlIDY6IENvbXB1dGUgVGltZXN0YW1wIGZyb20gY3VycmVudCB0aW1lIGluIFB5dGhvbi5cbiAqXG4gKiAgICAgdGltZXN0YW1wID0gVGltZXN0YW1wKClcbiAqICAgICB0aW1lc3RhbXAuR2V0Q3VycmVudFRpbWUoKVxuICpcbiAqICMgSlNPTiBNYXBwaW5nXG4gKlxuICogSW4gSlNPTiBmb3JtYXQsIHRoZSBUaW1lc3RhbXAgdHlwZSBpcyBlbmNvZGVkIGFzIGEgc3RyaW5nIGluIHRoZVxuICogW1JGQyAzMzM5XShodHRwczovL3d3dy5pZXRmLm9yZy9yZmMvcmZjMzMzOS50eHQpIGZvcm1hdC4gVGhhdCBpcywgdGhlXG4gKiBmb3JtYXQgaXMgXCJ7eWVhcn0te21vbnRofS17ZGF5fVR7aG91cn06e21pbn06e3NlY31bLntmcmFjX3NlY31dWlwiXG4gKiB3aGVyZSB7eWVhcn0gaXMgYWx3YXlzIGV4cHJlc3NlZCB1c2luZyBmb3VyIGRpZ2l0cyB3aGlsZSB7bW9udGh9LCB7ZGF5fSxcbiAqIHtob3VyfSwge21pbn0sIGFuZCB7c2VjfSBhcmUgemVyby1wYWRkZWQgdG8gdHdvIGRpZ2l0cyBlYWNoLiBUaGUgZnJhY3Rpb25hbFxuICogc2Vjb25kcywgd2hpY2ggY2FuIGdvIHVwIHRvIDkgZGlnaXRzIChpLmUuIHVwIHRvIDEgbmFub3NlY29uZCByZXNvbHV0aW9uKSxcbiAqIGFyZSBvcHRpb25hbC4gVGhlIFwiWlwiIHN1ZmZpeCBpbmRpY2F0ZXMgdGhlIHRpbWV6b25lIChcIlVUQ1wiKTsgdGhlIHRpbWV6b25lXG4gKiBpcyByZXF1aXJlZC4gQSBwcm90bzMgSlNPTiBzZXJpYWxpemVyIHNob3VsZCBhbHdheXMgdXNlIFVUQyAoYXMgaW5kaWNhdGVkIGJ5XG4gKiBcIlpcIikgd2hlbiBwcmludGluZyB0aGUgVGltZXN0YW1wIHR5cGUgYW5kIGEgcHJvdG8zIEpTT04gcGFyc2VyIHNob3VsZCBiZVxuICogYWJsZSB0byBhY2NlcHQgYm90aCBVVEMgYW5kIG90aGVyIHRpbWV6b25lcyAoYXMgaW5kaWNhdGVkIGJ5IGFuIG9mZnNldCkuXG4gKlxuICogRm9yIGV4YW1wbGUsIFwiMjAxNy0wMS0xNVQwMTozMDoxNS4wMVpcIiBlbmNvZGVzIDE1LjAxIHNlY29uZHMgcGFzdFxuICogMDE6MzAgVVRDIG9uIEphbnVhcnkgMTUsIDIwMTcuXG4gKlxuICogSW4gSmF2YVNjcmlwdCwgb25lIGNhbiBjb252ZXJ0IGEgRGF0ZSBvYmplY3QgdG8gdGhpcyBmb3JtYXQgdXNpbmcgdGhlXG4gKiBzdGFuZGFyZFxuICogW3RvSVNPU3RyaW5nKCldKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0RhdGUvdG9JU09TdHJpbmcpXG4gKiBtZXRob2QuIEluIFB5dGhvbiwgYSBzdGFuZGFyZCBgZGF0ZXRpbWUuZGF0ZXRpbWVgIG9iamVjdCBjYW4gYmUgY29udmVydGVkXG4gKiB0byB0aGlzIGZvcm1hdCB1c2luZ1xuICogW2BzdHJmdGltZWBdKGh0dHBzOi8vZG9jcy5weXRob24ub3JnLzIvbGlicmFyeS90aW1lLmh0bWwjdGltZS5zdHJmdGltZSkgd2l0aFxuICogdGhlIHRpbWUgZm9ybWF0IHNwZWMgJyVZLSVtLSVkVCVIOiVNOiVTLiVmWicuIExpa2V3aXNlLCBpbiBKYXZhLCBvbmUgY2FuIHVzZVxuICogdGhlIEpvZGEgVGltZSdzIFtgSVNPRGF0ZVRpbWVGb3JtYXQuZGF0ZVRpbWUoKWBdKFxuICogaHR0cDovL3d3dy5qb2RhLm9yZy9qb2RhLXRpbWUvYXBpZG9jcy9vcmcvam9kYS90aW1lL2Zvcm1hdC9JU09EYXRlVGltZUZvcm1hdC5odG1sI2RhdGVUaW1lJTJEJTJEXG4gKiApIHRvIG9idGFpbiBhIGZvcm1hdHRlciBjYXBhYmxlIG9mIGdlbmVyYXRpbmcgdGltZXN0YW1wcyBpbiB0aGlzIGZvcm1hdC5cbiAqXG4gKlxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIGdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXBcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBUaW1lc3RhbXAge1xuICAvKipcbiAgICogUmVwcmVzZW50cyBzZWNvbmRzIG9mIFVUQyB0aW1lIHNpbmNlIFVuaXggZXBvY2hcbiAgICogMTk3MC0wMS0wMVQwMDowMDowMFouIE11c3QgYmUgZnJvbSAwMDAxLTAxLTAxVDAwOjAwOjAwWiB0b1xuICAgKiA5OTk5LTEyLTMxVDIzOjU5OjU5WiBpbmNsdXNpdmUuXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogaW50NjQgc2Vjb25kcyA9IDE7XG4gICAqL1xuICBzZWNvbmRzOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBOb24tbmVnYXRpdmUgZnJhY3Rpb25zIG9mIGEgc2Vjb25kIGF0IG5hbm9zZWNvbmQgcmVzb2x1dGlvbi4gTmVnYXRpdmVcbiAgICogc2Vjb25kIHZhbHVlcyB3aXRoIGZyYWN0aW9ucyBtdXN0IHN0aWxsIGhhdmUgbm9uLW5lZ2F0aXZlIG5hbm9zIHZhbHVlc1xuICAgKiB0aGF0IGNvdW50IGZvcndhcmQgaW4gdGltZS4gTXVzdCBiZSBmcm9tIDAgdG8gOTk5LDk5OSw5OTlcbiAgICogaW5jbHVzaXZlLlxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGludDMyIG5hbm9zID0gMjtcbiAgICovXG4gIG5hbm9zOiBudW1iZXI7XG59XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBUaW1lc3RhbXAkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFRpbWVzdGFtcD4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcCcsIFtcbiAgICAgIHsgbm86IDEsIG5hbWU6ICdzZWNvbmRzJywga2luZDogJ3NjYWxhcicsIFQ6IDMgLypTY2FsYXJUeXBlLklOVDY0Ki8gfSxcbiAgICAgIHsgbm86IDIsIG5hbWU6ICduYW5vcycsIGtpbmQ6ICdzY2FsYXInLCBUOiA1IC8qU2NhbGFyVHlwZS5JTlQzMiovIH0sXG4gICAgXSk7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgYFRpbWVzdGFtcGAgZm9yIHRoZSBjdXJyZW50IHRpbWUuXG4gICAqL1xuICBub3coKTogVGltZXN0YW1wIHtcbiAgICBjb25zdCBtc2cgPSB0aGlzLmNyZWF0ZSgpO1xuICAgIGNvbnN0IG1zID0gRGF0ZS5ub3coKTtcbiAgICBtc2cuc2Vjb25kcyA9IFBiTG9uZy5mcm9tKE1hdGguZmxvb3IobXMgLyAxMDAwKSkudG9TdHJpbmcoKTtcbiAgICBtc2cubmFub3MgPSAobXMgJSAxMDAwKSAqIDEwMDAwMDA7XG4gICAgcmV0dXJuIG1zZztcbiAgfVxuICAvKipcbiAgICogQ29udmVydHMgYSBgVGltZXN0YW1wYCB0byBhIEphdmFTY3JpcHQgRGF0ZS5cbiAgICovXG4gIHRvRGF0ZShtZXNzYWdlOiBUaW1lc3RhbXApOiBEYXRlIHtcbiAgICByZXR1cm4gbmV3IERhdGUoXG4gICAgICBQYkxvbmcuZnJvbShtZXNzYWdlLnNlY29uZHMpLnRvTnVtYmVyKCkgKiAxMDAwICtcbiAgICAgICAgTWF0aC5jZWlsKG1lc3NhZ2UubmFub3MgLyAxMDAwMDAwKSxcbiAgICApO1xuICB9XG4gIC8qKlxuICAgKiBDb252ZXJ0cyBhIEphdmFTY3JpcHQgRGF0ZSB0byBhIGBUaW1lc3RhbXBgLlxuICAgKi9cbiAgZnJvbURhdGUoZGF0ZTogRGF0ZSk6IFRpbWVzdGFtcCB7XG4gICAgY29uc3QgbXNnID0gdGhpcy5jcmVhdGUoKTtcbiAgICBjb25zdCBtcyA9IGRhdGUuZ2V0VGltZSgpO1xuICAgIG1zZy5zZWNvbmRzID0gUGJMb25nLmZyb20oTWF0aC5mbG9vcihtcyAvIDEwMDApKS50b1N0cmluZygpO1xuICAgIG1zZy5uYW5vcyA9IChtcyAlIDEwMDApICogMTAwMDAwMDtcbiAgICByZXR1cm4gbXNnO1xuICB9XG4gIC8qKlxuICAgKiBJbiBKU09OIGZvcm1hdCwgdGhlIGBUaW1lc3RhbXBgIHR5cGUgaXMgZW5jb2RlZCBhcyBhIHN0cmluZ1xuICAgKiBpbiB0aGUgUkZDIDMzMzkgZm9ybWF0LlxuICAgKi9cbiAgaW50ZXJuYWxKc29uV3JpdGUobWVzc2FnZTogVGltZXN0YW1wLCBvcHRpb25zOiBKc29uV3JpdGVPcHRpb25zKTogSnNvblZhbHVlIHtcbiAgICBsZXQgbXMgPSBQYkxvbmcuZnJvbShtZXNzYWdlLnNlY29uZHMpLnRvTnVtYmVyKCkgKiAxMDAwO1xuICAgIGlmIChcbiAgICAgIG1zIDwgRGF0ZS5wYXJzZSgnMDAwMS0wMS0wMVQwMDowMDowMFonKSB8fFxuICAgICAgbXMgPiBEYXRlLnBhcnNlKCc5OTk5LTEyLTMxVDIzOjU5OjU5WicpXG4gICAgKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnVW5hYmxlIHRvIGVuY29kZSBUaW1lc3RhbXAgdG8gSlNPTi4gTXVzdCBiZSBmcm9tIDAwMDEtMDEtMDFUMDA6MDA6MDBaIHRvIDk5OTktMTItMzFUMjM6NTk6NTlaIGluY2x1c2l2ZS4nLFxuICAgICAgKTtcbiAgICBpZiAobWVzc2FnZS5uYW5vcyA8IDApXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdVbmFibGUgdG8gZW5jb2RlIGludmFsaWQgVGltZXN0YW1wIHRvIEpTT04uIE5hbm9zIG11c3Qgbm90IGJlIG5lZ2F0aXZlLicsXG4gICAgICApO1xuICAgIGxldCB6ID0gJ1onO1xuICAgIGlmIChtZXNzYWdlLm5hbm9zID4gMCkge1xuICAgICAgbGV0IG5hbm9zU3RyID0gKG1lc3NhZ2UubmFub3MgKyAxMDAwMDAwMDAwKS50b1N0cmluZygpLnN1YnN0cmluZygxKTtcbiAgICAgIGlmIChuYW5vc1N0ci5zdWJzdHJpbmcoMykgPT09ICcwMDAwMDAnKVxuICAgICAgICB6ID0gJy4nICsgbmFub3NTdHIuc3Vic3RyaW5nKDAsIDMpICsgJ1onO1xuICAgICAgZWxzZSBpZiAobmFub3NTdHIuc3Vic3RyaW5nKDYpID09PSAnMDAwJylcbiAgICAgICAgeiA9ICcuJyArIG5hbm9zU3RyLnN1YnN0cmluZygwLCA2KSArICdaJztcbiAgICAgIGVsc2UgeiA9ICcuJyArIG5hbm9zU3RyICsgJ1onO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IERhdGUobXMpLnRvSVNPU3RyaW5nKCkucmVwbGFjZSgnLjAwMFonLCB6KTtcbiAgfVxuICAvKipcbiAgICogSW4gSlNPTiBmb3JtYXQsIHRoZSBgVGltZXN0YW1wYCB0eXBlIGlzIGVuY29kZWQgYXMgYSBzdHJpbmdcbiAgICogaW4gdGhlIFJGQyAzMzM5IGZvcm1hdC5cbiAgICovXG4gIGludGVybmFsSnNvblJlYWQoXG4gICAganNvbjogSnNvblZhbHVlLFxuICAgIG9wdGlvbnM6IEpzb25SZWFkT3B0aW9ucyxcbiAgICB0YXJnZXQ/OiBUaW1lc3RhbXAsXG4gICk6IFRpbWVzdGFtcCB7XG4gICAgaWYgKHR5cGVvZiBqc29uICE9PSAnc3RyaW5nJylcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ1VuYWJsZSB0byBwYXJzZSBUaW1lc3RhbXAgZnJvbSBKU09OICcgKyB0eXBlb2ZKc29uVmFsdWUoanNvbikgKyAnLicsXG4gICAgICApO1xuICAgIGxldCBtYXRjaGVzID0ganNvbi5tYXRjaChcbiAgICAgIC9eKFswLTldezR9KS0oWzAtOV17Mn0pLShbMC05XXsyfSlUKFswLTldezJ9KTooWzAtOV17Mn0pOihbMC05XXsyfSkoPzpafFxcLihbMC05XXszLDl9KVp8KFsrLV1bMC05XVswLTldOlswLTldWzAtOV0pKSQvLFxuICAgICk7XG4gICAgaWYgKCFtYXRjaGVzKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gcGFyc2UgVGltZXN0YW1wIGZyb20gSlNPTi4gSW52YWxpZCBmb3JtYXQuJyk7XG4gICAgbGV0IG1zID0gRGF0ZS5wYXJzZShcbiAgICAgIG1hdGNoZXNbMV0gK1xuICAgICAgICAnLScgK1xuICAgICAgICBtYXRjaGVzWzJdICtcbiAgICAgICAgJy0nICtcbiAgICAgICAgbWF0Y2hlc1szXSArXG4gICAgICAgICdUJyArXG4gICAgICAgIG1hdGNoZXNbNF0gK1xuICAgICAgICAnOicgK1xuICAgICAgICBtYXRjaGVzWzVdICtcbiAgICAgICAgJzonICtcbiAgICAgICAgbWF0Y2hlc1s2XSArXG4gICAgICAgIChtYXRjaGVzWzhdID8gbWF0Y2hlc1s4XSA6ICdaJyksXG4gICAgKTtcbiAgICBpZiAoTnVtYmVyLmlzTmFOKG1zKSlcbiAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIHBhcnNlIFRpbWVzdGFtcCBmcm9tIEpTT04uIEludmFsaWQgdmFsdWUuJyk7XG4gICAgaWYgKFxuICAgICAgbXMgPCBEYXRlLnBhcnNlKCcwMDAxLTAxLTAxVDAwOjAwOjAwWicpIHx8XG4gICAgICBtcyA+IERhdGUucGFyc2UoJzk5OTktMTItMzFUMjM6NTk6NTlaJylcbiAgICApXG4gICAgICB0aHJvdyBuZXcgZ2xvYmFsVGhpcy5FcnJvcihcbiAgICAgICAgJ1VuYWJsZSB0byBwYXJzZSBUaW1lc3RhbXAgZnJvbSBKU09OLiBNdXN0IGJlIGZyb20gMDAwMS0wMS0wMVQwMDowMDowMFogdG8gOTk5OS0xMi0zMVQyMzo1OTo1OVogaW5jbHVzaXZlLicsXG4gICAgICApO1xuICAgIGlmICghdGFyZ2V0KSB0YXJnZXQgPSB0aGlzLmNyZWF0ZSgpO1xuICAgIHRhcmdldC5zZWNvbmRzID0gUGJMb25nLmZyb20obXMgLyAxMDAwKS50b1N0cmluZygpO1xuICAgIHRhcmdldC5uYW5vcyA9IDA7XG4gICAgaWYgKG1hdGNoZXNbN10pXG4gICAgICB0YXJnZXQubmFub3MgPVxuICAgICAgICBwYXJzZUludCgnMScgKyBtYXRjaGVzWzddICsgJzAnLnJlcGVhdCg5IC0gbWF0Y2hlc1s3XS5sZW5ndGgpKSAtXG4gICAgICAgIDEwMDAwMDAwMDA7XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIGdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXBcbiAqL1xuZXhwb3J0IGNvbnN0IFRpbWVzdGFtcCA9IG5ldyBUaW1lc3RhbXAkVHlwZSgpO1xuIiwiLyogZXNsaW50LWRpc2FibGUgKi9cbi8vIEBnZW5lcmF0ZWQgYnkgcHJvdG9idWYtdHMgMi45LjQgd2l0aCBwYXJhbWV0ZXIgbG9uZ190eXBlX3N0cmluZyxjbGllbnRfZ2VuZXJpYyxzZXJ2ZXJfbm9uZSxlc2xpbnRfZGlzYWJsZSxvcHRpbWl6ZV9jb2RlX3NpemVcbi8vIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWxlIFwidmlkZW8vc2Z1L21vZGVscy9tb2RlbHMucHJvdG9cIiAocGFja2FnZSBcInN0cmVhbS52aWRlby5zZnUubW9kZWxzXCIsIHN5bnRheCBwcm90bzMpXG4vLyB0c2xpbnQ6ZGlzYWJsZVxuaW1wb3J0IHsgTWVzc2FnZVR5cGUgfSBmcm9tICdAcHJvdG9idWYtdHMvcnVudGltZSc7XG5pbXBvcnQgeyBTdHJ1Y3QgfSBmcm9tICcuLi8uLi8uLi9nb29nbGUvcHJvdG9idWYvc3RydWN0JztcbmltcG9ydCB7IFRpbWVzdGFtcCB9IGZyb20gJy4uLy4uLy4uL2dvb2dsZS9wcm90b2J1Zi90aW1lc3RhbXAnO1xuLyoqXG4gKiBDYWxsU3RhdGUgaXMgdGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIGNhbGxcbiAqIGFzIHNlZW4gYnkgYW4gU0ZVLlxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkNhbGxTdGF0ZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxTdGF0ZSB7XG4gIC8qKlxuICAgKiBwYXJ0aWNpcGFudHMgaXMgdGhlIGxpc3Qgb2YgcGFydGljaXBhbnRzIGluIHRoZSBjYWxsLlxuICAgKiBJbiBsYXJnZSBjYWxscywgdGhlIGxpc3QgY291bGQgYmUgdHJ1bmNhdGVkIGluIHdoaWNoXG4gICAqIGNhc2UsIHRoZSBsaXN0IG9mIHBhcnRpY2lwYW50cyBjb250YWlucyBmZXdlciBwYXJ0aWNpcGFudHNcbiAgICogdGhhbiB0aGUgY291bnRzIHJldHVybmVkIGluIHBhcnRpY2lwYW50X2NvdW50LiBBbm9ueW1vdXNcbiAgICogcGFydGljaXBhbnRzIGFyZSAqKk5PVCoqIGluY2x1ZGVkIGluIHRoZSBsaXN0LlxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHJlcGVhdGVkIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlBhcnRpY2lwYW50IHBhcnRpY2lwYW50cyA9IDE7XG4gICAqL1xuICBwYXJ0aWNpcGFudHM6IFBhcnRpY2lwYW50W107XG4gIC8qKlxuICAgKiBzdGFydGVkX2F0IGlzIHRoZSB0aW1lIHRoZSBjYWxsIHNlc3Npb24gYWN0dWFsbHkgc3RhcnRlZC5cbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBnb29nbGUucHJvdG9idWYuVGltZXN0YW1wIHN0YXJ0ZWRfYXQgPSAyO1xuICAgKi9cbiAgc3RhcnRlZEF0PzogVGltZXN0YW1wO1xuICAvKipcbiAgICogcGFydGljaXBhbnRfY291bnQgY29udGFpbnMgdGhlIHN1bW1hcnkgb2YgdGhlIGNvdW50cy5cbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QYXJ0aWNpcGFudENvdW50IHBhcnRpY2lwYW50X2NvdW50ID0gMztcbiAgICovXG4gIHBhcnRpY2lwYW50Q291bnQ/OiBQYXJ0aWNpcGFudENvdW50O1xuICAvKipcbiAgICogdGhlIGxpc3Qgb2YgcGlucyBpbiB0aGUgY2FsbC5cbiAgICogUGlucyBhcmUgb3JkZXJlZCBpbiBkZXNjZW5kaW5nIG9yZGVyIChtb3N0IGltcG9ydGFudCBmaXJzdCkuXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogcmVwZWF0ZWQgc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuUGluIHBpbnMgPSA0O1xuICAgKi9cbiAgcGluczogUGluW107XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlBhcnRpY2lwYW50Q291bnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBQYXJ0aWNpcGFudENvdW50IHtcbiAgLyoqXG4gICAqIFRvdGFsIG51bWJlciBvZiBwYXJ0aWNpcGFudHMgaW4gdGhlIGNhbGwgaW5jbHVkaW5nXG4gICAqIHRoZSBhbm9ueW1vdXMgcGFydGljaXBhbnRzLlxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHVpbnQzMiB0b3RhbCA9IDE7XG4gICAqL1xuICB0b3RhbDogbnVtYmVyO1xuICAvKipcbiAgICogVG90YWwgbnVtYmVyIG9mIGFub255bW91cyBwYXJ0aWNpcGFudHMgaW4gdGhlIGNhbGwuXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogdWludDMyIGFub255bW91cyA9IDI7XG4gICAqL1xuICBhbm9ueW1vdXM6IG51bWJlcjtcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuUGluXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUGluIHtcbiAgLyoqXG4gICAqIHRoZSB1c2VyIHRvIHBpblxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyB1c2VyX2lkID0gMTtcbiAgICovXG4gIHVzZXJJZDogc3RyaW5nO1xuICAvKipcbiAgICogdGhlIHVzZXIgc2VzaW9uX2lkIHRvIHBpbiwgaWYgbm90IHByb3ZpZGVkLCBhcHBsaWVzIHRvIGFsbCBzZXNzaW9uc1xuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBzZXNzaW9uX2lkID0gMjtcbiAgICovXG4gIHNlc3Npb25JZDogc3RyaW5nO1xufVxuLyoqXG4gKiB0aG9zZSB3aG8gYXJlIG9ubGluZSBpbiB0aGUgY2FsbFxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlBhcnRpY2lwYW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUGFydGljaXBhbnQge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgdXNlcl9pZCA9IDE7XG4gICAqL1xuICB1c2VySWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHNlc3Npb25faWQgPSAyO1xuICAgKi9cbiAgc2Vzc2lvbklkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBtYXAgb2YgdHJhY2sgaWQgdG8gdHJhY2sgdHlwZVxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHJlcGVhdGVkIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlRyYWNrVHlwZSBwdWJsaXNoZWRfdHJhY2tzID0gMztcbiAgICovXG4gIHB1Ymxpc2hlZFRyYWNrczogVHJhY2tUeXBlW107XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXAgam9pbmVkX2F0ID0gNDtcbiAgICovXG4gIGpvaW5lZEF0PzogVGltZXN0YW1wO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgdHJhY2tfbG9va3VwX3ByZWZpeCA9IDU7XG4gICAqL1xuICB0cmFja0xvb2t1cFByZWZpeDogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5Db25uZWN0aW9uUXVhbGl0eSBjb25uZWN0aW9uX3F1YWxpdHkgPSA2O1xuICAgKi9cbiAgY29ubmVjdGlvblF1YWxpdHk6IENvbm5lY3Rpb25RdWFsaXR5O1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBib29sIGlzX3NwZWFraW5nID0gNztcbiAgICovXG4gIGlzU3BlYWtpbmc6IGJvb2xlYW47XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGJvb2wgaXNfZG9taW5hbnRfc3BlYWtlciA9IDg7XG4gICAqL1xuICBpc0RvbWluYW50U3BlYWtlcjogYm9vbGVhbjtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogZmxvYXQgYXVkaW9fbGV2ZWwgPSA5O1xuICAgKi9cbiAgYXVkaW9MZXZlbDogbnVtYmVyO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgbmFtZSA9IDEwO1xuICAgKi9cbiAgbmFtZTogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgaW1hZ2UgPSAxMTtcbiAgICovXG4gIGltYWdlOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGdvb2dsZS5wcm90b2J1Zi5TdHJ1Y3QgY3VzdG9tID0gMTI7XG4gICAqL1xuICBjdXN0b20/OiBTdHJ1Y3Q7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHJlcGVhdGVkIHN0cmluZyByb2xlcyA9IDEzO1xuICAgKi9cbiAgcm9sZXM6IHN0cmluZ1tdO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5TdHJlYW1RdWFsaXR5XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU3RyZWFtUXVhbGl0eSB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlZpZGVvUXVhbGl0eSB2aWRlb19xdWFsaXR5ID0gMTtcbiAgICovXG4gIHZpZGVvUXVhbGl0eTogVmlkZW9RdWFsaXR5O1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgdXNlcl9pZCA9IDI7XG4gICAqL1xuICB1c2VySWQ6IHN0cmluZztcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVmlkZW9EaW1lbnNpb25cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBWaWRlb0RpbWVuc2lvbiB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHVpbnQzMiB3aWR0aCA9IDE7XG4gICAqL1xuICB3aWR0aDogbnVtYmVyO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiB1aW50MzIgaGVpZ2h0ID0gMjtcbiAgICovXG4gIGhlaWdodDogbnVtYmVyO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5WaWRlb0xheWVyXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVmlkZW9MYXllciB7XG4gIC8qKlxuICAgKiBmb3IgdHJhY2tzIHdpdGggYSBzaW5nbGUgbGF5ZXIsIHRoaXMgc2hvdWxkIGJlIEhJR0hcbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgcmlkID0gMTtcbiAgICovXG4gIHJpZDogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5WaWRlb0RpbWVuc2lvbiB2aWRlb19kaW1lbnNpb24gPSAyO1xuICAgKi9cbiAgdmlkZW9EaW1lbnNpb24/OiBWaWRlb0RpbWVuc2lvbjtcbiAgLyoqXG4gICAqIHRhcmdldCBiaXRyYXRlLCBzZXJ2ZXIgd2lsbCBtZWFzdXJlIGFjdHVhbFxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHVpbnQzMiBiaXRyYXRlID0gNDtcbiAgICovXG4gIGJpdHJhdGU6IG51bWJlcjtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogdWludDMyIGZwcyA9IDU7XG4gICAqL1xuICBmcHM6IG51bWJlcjtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVmlkZW9RdWFsaXR5IHF1YWxpdHkgPSA2O1xuICAgKi9cbiAgcXVhbGl0eTogVmlkZW9RdWFsaXR5O1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QdWJsaXNoT3B0aW9uc1xuICovXG5leHBvcnQgaW50ZXJmYWNlIFB1Ymxpc2hPcHRpb25zIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogcmVwZWF0ZWQgc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuUHVibGlzaE9wdGlvbiBjb2RlY3MgPSAxO1xuICAgKi9cbiAgY29kZWNzOiBQdWJsaXNoT3B0aW9uW107XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlB1Ymxpc2hPcHRpb25cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBQdWJsaXNoT3B0aW9uIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVHJhY2tUeXBlIHRyYWNrX3R5cGUgPSAxO1xuICAgKi9cbiAgdHJhY2tUeXBlOiBUcmFja1R5cGU7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkNvZGVjIGNvZGVjID0gMjtcbiAgICovXG4gIGNvZGVjPzogQ29kZWM7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGludDMyIGJpdHJhdGUgPSAzO1xuICAgKi9cbiAgYml0cmF0ZTogbnVtYmVyO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBpbnQzMiBmcHMgPSA0O1xuICAgKi9cbiAgZnBzOiBudW1iZXI7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGludDMyIG1heF9zcGF0aWFsX2xheWVycyA9IDU7XG4gICAqL1xuICBtYXhTcGF0aWFsTGF5ZXJzOiBudW1iZXI7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGludDMyIG1heF90ZW1wb3JhbF9sYXllcnMgPSA2O1xuICAgKi9cbiAgbWF4VGVtcG9yYWxMYXllcnM6IG51bWJlcjtcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQ29kZWNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDb2RlYyB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHVpbnQzMiBwYXlsb2FkX3R5cGUgPSAxMTtcbiAgICovXG4gIHBheWxvYWRUeXBlOiBudW1iZXI7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBuYW1lID0gMTA7XG4gICAqL1xuICBuYW1lOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHVpbnQzMiBjbG9ja19yYXRlID0gMTQ7XG4gICAqL1xuICBjbG9ja1JhdGU6IG51bWJlcjtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIGVuY29kaW5nX3BhcmFtZXRlcnMgPSAxMztcbiAgICovXG4gIGVuY29kaW5nUGFyYW1ldGVyczogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgZm10cCA9IDEyO1xuICAgKi9cbiAgZm10cDogc3RyaW5nO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5JQ0VUcmlja2xlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSUNFVHJpY2tsZSB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlBlZXJUeXBlIHBlZXJfdHlwZSA9IDE7XG4gICAqL1xuICBwZWVyVHlwZTogUGVlclR5cGU7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBpY2VfY2FuZGlkYXRlID0gMjtcbiAgICovXG4gIGljZUNhbmRpZGF0ZTogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgc2Vzc2lvbl9pZCA9IDM7XG4gICAqL1xuICBzZXNzaW9uSWQ6IHN0cmluZztcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVHJhY2tJbmZvXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVHJhY2tJbmZvIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHRyYWNrX2lkID0gMTtcbiAgICovXG4gIHRyYWNrSWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVHJhY2tUeXBlIHRyYWNrX3R5cGUgPSAyO1xuICAgKi9cbiAgdHJhY2tUeXBlOiBUcmFja1R5cGU7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHJlcGVhdGVkIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlZpZGVvTGF5ZXIgbGF5ZXJzID0gNTtcbiAgICovXG4gIGxheWVyczogVmlkZW9MYXllcltdO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgbWlkID0gNjtcbiAgICovXG4gIG1pZDogc3RyaW5nO1xuICAvKipcbiAgICogZm9yIGF1ZGlvIHRyYWNrc1xuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGJvb2wgZHR4ID0gNztcbiAgICovXG4gIGR0eDogYm9vbGVhbjtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogYm9vbCBzdGVyZW8gPSA4O1xuICAgKi9cbiAgc3RlcmVvOiBib29sZWFuO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBib29sIHJlZCA9IDk7XG4gICAqL1xuICByZWQ6IGJvb2xlYW47XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGJvb2wgbXV0ZWQgPSAxMDtcbiAgICovXG4gIG11dGVkOiBib29sZWFuO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5FcnJvclxuICovXG5leHBvcnQgaW50ZXJmYWNlIEVycm9yIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuRXJyb3JDb2RlIGNvZGUgPSAxO1xuICAgKi9cbiAgY29kZTogRXJyb3JDb2RlO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgbWVzc2FnZSA9IDI7XG4gICAqL1xuICBtZXNzYWdlOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGJvb2wgc2hvdWxkX3JldHJ5ID0gMztcbiAgICovXG4gIHNob3VsZFJldHJ5OiBib29sZWFuO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5DbGllbnREZXRhaWxzXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2xpZW50RGV0YWlscyB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlNkayBzZGsgPSAxO1xuICAgKi9cbiAgc2RrPzogU2RrO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5PUyBvcyA9IDI7XG4gICAqL1xuICBvcz86IE9TO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5Ccm93c2VyIGJyb3dzZXIgPSAzO1xuICAgKi9cbiAgYnJvd3Nlcj86IEJyb3dzZXI7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkRldmljZSBkZXZpY2UgPSA0O1xuICAgKi9cbiAgZGV2aWNlPzogRGV2aWNlO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5TZGtcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTZGsge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5TZGtUeXBlIHR5cGUgPSAxO1xuICAgKi9cbiAgdHlwZTogU2RrVHlwZTtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIG1ham9yID0gMjtcbiAgICovXG4gIG1ham9yOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBtaW5vciA9IDM7XG4gICAqL1xuICBtaW5vcjogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgcGF0Y2ggPSA0O1xuICAgKi9cbiAgcGF0Y2g6IHN0cmluZztcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuT1NcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBPUyB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBuYW1lID0gMTtcbiAgICovXG4gIG5hbWU6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHZlcnNpb24gPSAyO1xuICAgKi9cbiAgdmVyc2lvbjogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgYXJjaGl0ZWN0dXJlID0gMztcbiAgICovXG4gIGFyY2hpdGVjdHVyZTogc3RyaW5nO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5Ccm93c2VyXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQnJvd3NlciB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBuYW1lID0gMTtcbiAgICovXG4gIG5hbWU6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHZlcnNpb24gPSAyO1xuICAgKi9cbiAgdmVyc2lvbjogc3RyaW5nO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5EZXZpY2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBEZXZpY2Uge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgbmFtZSA9IDE7XG4gICAqL1xuICBuYW1lOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyB2ZXJzaW9uID0gMjtcbiAgICovXG4gIHZlcnNpb246IHN0cmluZztcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQ2FsbFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGwge1xuICAvKipcbiAgICogdGhlIGNhbGwgdHlwZVxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyB0eXBlID0gMTtcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbiAgLyoqXG4gICAqIHRoZSBjYWxsIGlkXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIGlkID0gMjtcbiAgICovXG4gIGlkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiB0aGUgaWQgb2YgdGhlIHVzZXIgdGhhdCBjcmVhdGVkIHRoaXMgY2FsbFxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBjcmVhdGVkX2J5X3VzZXJfaWQgPSAzO1xuICAgKi9cbiAgY3JlYXRlZEJ5VXNlcklkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiB0aGUgaWQgb2YgdGhlIGN1cnJlbnQgaG9zdCBmb3IgdGhpcyBjYWxsXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIGhvc3RfdXNlcl9pZCA9IDQ7XG4gICAqL1xuICBob3N0VXNlcklkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGdvb2dsZS5wcm90b2J1Zi5TdHJ1Y3QgY3VzdG9tID0gNTtcbiAgICovXG4gIGN1c3RvbT86IFN0cnVjdDtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcCBjcmVhdGVkX2F0ID0gNjtcbiAgICovXG4gIGNyZWF0ZWRBdD86IFRpbWVzdGFtcDtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcCB1cGRhdGVkX2F0ID0gNztcbiAgICovXG4gIHVwZGF0ZWRBdD86IFRpbWVzdGFtcDtcbn1cbi8qKlxuICogQ2FsbEdyYW50cyByZXByZXNlbnRzIHRoZSBzZXQgb2YgcGVybWlzc2lvbnMgZ2l2ZW5cbiAqIHRvIHRoZSB1c2VyIGZvciB0aGUgY3VycmVudCBjYWxsLlxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkNhbGxHcmFudHNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsR3JhbnRzIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogYm9vbCBjYW5fcHVibGlzaF9hdWRpbyA9IDE7XG4gICAqL1xuICBjYW5QdWJsaXNoQXVkaW86IGJvb2xlYW47XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGJvb2wgY2FuX3B1Ymxpc2hfdmlkZW8gPSAyO1xuICAgKi9cbiAgY2FuUHVibGlzaFZpZGVvOiBib29sZWFuO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBib29sIGNhbl9zY3JlZW5zaGFyZSA9IDM7XG4gICAqL1xuICBjYW5TY3JlZW5zaGFyZTogYm9vbGVhbjtcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuSW5wdXREZXZpY2VzXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSW5wdXREZXZpY2VzIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogcmVwZWF0ZWQgc3RyaW5nIGF2YWlsYWJsZV9kZXZpY2VzID0gMTtcbiAgICovXG4gIGF2YWlsYWJsZURldmljZXM6IHN0cmluZ1tdO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgY3VycmVudF9kZXZpY2UgPSAyO1xuICAgKi9cbiAgY3VycmVudERldmljZTogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBib29sIGlzX3Blcm1pdHRlZCA9IDM7XG4gICAqL1xuICBpc1Blcm1pdHRlZDogYm9vbGVhbjtcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQW5kcm9pZFN0YXRlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQW5kcm9pZFN0YXRlIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQW5kcm9pZFRoZXJtYWxTdGF0ZSB0aGVybWFsX3N0YXRlID0gMTtcbiAgICovXG4gIHRoZXJtYWxTdGF0ZTogQW5kcm9pZFRoZXJtYWxTdGF0ZTtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogYm9vbCBpc19wb3dlcl9zYXZlcl9tb2RlID0gMjtcbiAgICovXG4gIGlzUG93ZXJTYXZlck1vZGU6IGJvb2xlYW47XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkFwcGxlU3RhdGVcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBBcHBsZVN0YXRlIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQXBwbGVUaGVybWFsU3RhdGUgdGhlcm1hbF9zdGF0ZSA9IDE7XG4gICAqL1xuICB0aGVybWFsU3RhdGU6IEFwcGxlVGhlcm1hbFN0YXRlO1xuICAvKipcbiAgICogaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2RvY3VtZW50YXRpb24vZm91bmRhdGlvbi9wcm9jZXNzaW5mby8xNjE3MDQ3LWlzbG93cG93ZXJtb2RlZW5hYmxlZFxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGJvb2wgaXNfbG93X3Bvd2VyX21vZGVfZW5hYmxlZCA9IDI7XG4gICAqL1xuICBpc0xvd1Bvd2VyTW9kZUVuYWJsZWQ6IGJvb2xlYW47XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlBlZXJUeXBlXG4gKi9cbmV4cG9ydCBlbnVtIFBlZXJUeXBlIHtcbiAgLyoqXG4gICAqIHRvZG8gZml4IG1lIChtYXJjZWxvKVxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogUEVFUl9UWVBFX1BVQkxJU0hFUl9VTlNQRUNJRklFRCA9IDA7XG4gICAqL1xuICBQVUJMSVNIRVJfVU5TUEVDSUZJRUQgPSAwLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IFBFRVJfVFlQRV9TVUJTQ1JJQkVSID0gMTtcbiAgICovXG4gIFNVQlNDUklCRVIgPSAxLFxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5Db25uZWN0aW9uUXVhbGl0eVxuICovXG5leHBvcnQgZW51bSBDb25uZWN0aW9uUXVhbGl0eSB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogQ09OTkVDVElPTl9RVUFMSVRZX1VOU1BFQ0lGSUVEID0gMDtcbiAgICovXG4gIFVOU1BFQ0lGSUVEID0gMCxcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBDT05ORUNUSU9OX1FVQUxJVFlfUE9PUiA9IDE7XG4gICAqL1xuICBQT09SID0gMSxcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBDT05ORUNUSU9OX1FVQUxJVFlfR09PRCA9IDI7XG4gICAqL1xuICBHT09EID0gMixcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBDT05ORUNUSU9OX1FVQUxJVFlfRVhDRUxMRU5UID0gMztcbiAgICovXG4gIEVYQ0VMTEVOVCA9IDMsXG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlZpZGVvUXVhbGl0eVxuICovXG5leHBvcnQgZW51bSBWaWRlb1F1YWxpdHkge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IFZJREVPX1FVQUxJVFlfTE9XX1VOU1BFQ0lGSUVEID0gMDtcbiAgICovXG4gIExPV19VTlNQRUNJRklFRCA9IDAsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogVklERU9fUVVBTElUWV9NSUQgPSAxO1xuICAgKi9cbiAgTUlEID0gMSxcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBWSURFT19RVUFMSVRZX0hJR0ggPSAyO1xuICAgKi9cbiAgSElHSCA9IDIsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogVklERU9fUVVBTElUWV9PRkYgPSAzO1xuICAgKi9cbiAgT0ZGID0gMyxcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVHJhY2tUeXBlXG4gKi9cbmV4cG9ydCBlbnVtIFRyYWNrVHlwZSB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogVFJBQ0tfVFlQRV9VTlNQRUNJRklFRCA9IDA7XG4gICAqL1xuICBVTlNQRUNJRklFRCA9IDAsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogVFJBQ0tfVFlQRV9BVURJTyA9IDE7XG4gICAqL1xuICBBVURJTyA9IDEsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogVFJBQ0tfVFlQRV9WSURFTyA9IDI7XG4gICAqL1xuICBWSURFTyA9IDIsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogVFJBQ0tfVFlQRV9TQ1JFRU5fU0hBUkUgPSAzO1xuICAgKi9cbiAgU0NSRUVOX1NIQVJFID0gMyxcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBUUkFDS19UWVBFX1NDUkVFTl9TSEFSRV9BVURJTyA9IDQ7XG4gICAqL1xuICBTQ1JFRU5fU0hBUkVfQVVESU8gPSA0LFxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5FcnJvckNvZGVcbiAqL1xuZXhwb3J0IGVudW0gRXJyb3JDb2RlIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBFUlJPUl9DT0RFX1VOU1BFQ0lGSUVEID0gMDtcbiAgICovXG4gIFVOU1BFQ0lGSUVEID0gMCxcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBFUlJPUl9DT0RFX1BVQkxJU0hfVFJBQ0tfTk9UX0ZPVU5EID0gMTAwO1xuICAgKi9cbiAgUFVCTElTSF9UUkFDS19OT1RfRk9VTkQgPSAxMDAsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogRVJST1JfQ09ERV9QVUJMSVNIX1RSQUNLU19NSVNNQVRDSCA9IDEwMTtcbiAgICovXG4gIFBVQkxJU0hfVFJBQ0tTX01JU01BVENIID0gMTAxLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IEVSUk9SX0NPREVfUFVCTElTSF9UUkFDS19PVVRfT0ZfT1JERVIgPSAxMDI7XG4gICAqL1xuICBQVUJMSVNIX1RSQUNLX09VVF9PRl9PUkRFUiA9IDEwMixcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBFUlJPUl9DT0RFX1BVQkxJU0hfVFJBQ0tfVklERU9fTEFZRVJfTk9UX0ZPVU5EID0gMTAzO1xuICAgKi9cbiAgUFVCTElTSF9UUkFDS19WSURFT19MQVlFUl9OT1RfRk9VTkQgPSAxMDMsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogRVJST1JfQ09ERV9MSVZFX0VOREVEID0gMTA0O1xuICAgKi9cbiAgTElWRV9FTkRFRCA9IDEwNCxcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBFUlJPUl9DT0RFX1BBUlRJQ0lQQU5UX05PVF9GT1VORCA9IDIwMDtcbiAgICovXG4gIFBBUlRJQ0lQQU5UX05PVF9GT1VORCA9IDIwMCxcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBFUlJPUl9DT0RFX1BBUlRJQ0lQQU5UX01JR1JBVElOR19PVVQgPSAyMDE7XG4gICAqL1xuICBQQVJUSUNJUEFOVF9NSUdSQVRJTkdfT1VUID0gMjAxLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IEVSUk9SX0NPREVfUEFSVElDSVBBTlRfTUlHUkFUSU9OX0ZBSUxFRCA9IDIwMjtcbiAgICovXG4gIFBBUlRJQ0lQQU5UX01JR1JBVElPTl9GQUlMRUQgPSAyMDIsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogRVJST1JfQ09ERV9QQVJUSUNJUEFOVF9NSUdSQVRJTkcgPSAyMDM7XG4gICAqL1xuICBQQVJUSUNJUEFOVF9NSUdSQVRJTkcgPSAyMDMsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogRVJST1JfQ09ERV9QQVJUSUNJUEFOVF9SRUNPTk5FQ1RfRkFJTEVEID0gMjA0O1xuICAgKi9cbiAgUEFSVElDSVBBTlRfUkVDT05ORUNUX0ZBSUxFRCA9IDIwNCxcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBFUlJPUl9DT0RFX1BBUlRJQ0lQQU5UX01FRElBX1RSQU5TUE9SVF9GQUlMVVJFID0gMjA1O1xuICAgKi9cbiAgUEFSVElDSVBBTlRfTUVESUFfVFJBTlNQT1JUX0ZBSUxVUkUgPSAyMDUsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogRVJST1JfQ09ERV9DQUxMX05PVF9GT1VORCA9IDMwMDtcbiAgICovXG4gIENBTExfTk9UX0ZPVU5EID0gMzAwLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IEVSUk9SX0NPREVfUkVRVUVTVF9WQUxJREFUSU9OX0ZBSUxFRCA9IDQwMDtcbiAgICovXG4gIFJFUVVFU1RfVkFMSURBVElPTl9GQUlMRUQgPSA0MDAsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogRVJST1JfQ09ERV9VTkFVVEhFTlRJQ0FURUQgPSA0MDE7XG4gICAqL1xuICBVTkFVVEhFTlRJQ0FURUQgPSA0MDEsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogRVJST1JfQ09ERV9QRVJNSVNTSU9OX0RFTklFRCA9IDQwMztcbiAgICovXG4gIFBFUk1JU1NJT05fREVOSUVEID0gNDAzLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IEVSUk9SX0NPREVfVE9PX01BTllfUkVRVUVTVFMgPSA0Mjk7XG4gICAqL1xuICBUT09fTUFOWV9SRVFVRVNUUyA9IDQyOSxcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBFUlJPUl9DT0RFX0lOVEVSTkFMX1NFUlZFUl9FUlJPUiA9IDUwMDtcbiAgICovXG4gIElOVEVSTkFMX1NFUlZFUl9FUlJPUiA9IDUwMCxcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBFUlJPUl9DT0RFX1NGVV9TSFVUVElOR19ET1dOID0gNjAwO1xuICAgKi9cbiAgU0ZVX1NIVVRUSU5HX0RPV04gPSA2MDAsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogRVJST1JfQ09ERV9TRlVfRlVMTCA9IDcwMDtcbiAgICovXG4gIFNGVV9GVUxMID0gNzAwLFxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5TZGtUeXBlXG4gKi9cbmV4cG9ydCBlbnVtIFNka1R5cGUge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IFNES19UWVBFX1VOU1BFQ0lGSUVEID0gMDtcbiAgICovXG4gIFVOU1BFQ0lGSUVEID0gMCxcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBTREtfVFlQRV9SRUFDVCA9IDE7XG4gICAqL1xuICBSRUFDVCA9IDEsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogU0RLX1RZUEVfQU5HVUxBUiA9IDI7XG4gICAqL1xuICBBTkdVTEFSID0gMixcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBTREtfVFlQRV9BTkRST0lEID0gMztcbiAgICovXG4gIEFORFJPSUQgPSAzLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IFNES19UWVBFX0lPUyA9IDQ7XG4gICAqL1xuICBJT1MgPSA0LFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IFNES19UWVBFX0ZMVVRURVIgPSA1O1xuICAgKi9cbiAgRkxVVFRFUiA9IDUsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogU0RLX1RZUEVfUkVBQ1RfTkFUSVZFID0gNjtcbiAgICovXG4gIFJFQUNUX05BVElWRSA9IDYsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogU0RLX1RZUEVfVU5JVFkgPSA3O1xuICAgKi9cbiAgVU5JVFkgPSA3LFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IFNES19UWVBFX0dPID0gODtcbiAgICovXG4gIEdPID0gOCxcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBTREtfVFlQRV9QTEFJTl9KQVZBU0NSSVBUID0gOTtcbiAgICovXG4gIFBMQUlOX0pBVkFTQ1JJUFQgPSA5LFxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5UcmFja1VucHVibGlzaFJlYXNvblxuICovXG5leHBvcnQgZW51bSBUcmFja1VucHVibGlzaFJlYXNvbiB7XG4gIC8qKlxuICAgKiBEZWZhdWx0IHZhbHVlIHdoaWNoIGlzIHVzZWQgd2hlbiB0aGUgc3BlY2lmaWMgcmVhc29uXG4gICAqIGZvciBtdXRpbmcgdGhlIHRyYWNrIGlzIG5vdCBrbm93bi5cbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IFRSQUNLX1VOUFVCTElTSF9SRUFTT05fVU5TUEVDSUZJRUQgPSAwO1xuICAgKi9cbiAgVU5TUEVDSUZJRUQgPSAwLFxuICAvKipcbiAgICogUmVwcmVzZW50cyB1c2VyIG11dGluZyB0aGVpciB0cmFja3MuXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBUUkFDS19VTlBVQkxJU0hfUkVBU09OX1VTRVJfTVVURUQgPSAxO1xuICAgKi9cbiAgVVNFUl9NVVRFRCA9IDEsXG4gIC8qKlxuICAgKiBSZXByZXNlbnRzIG11dGluZyB0aGUgdHJhY2sgYmVjYXVzZSB0aGUgcGVybWlzc2lvbiB0b1xuICAgKiBwdWJsaXNoIHRoZSB0cmFjayBoYXMgYmVlbiByZXZva2VkLlxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogVFJBQ0tfVU5QVUJMSVNIX1JFQVNPTl9QRVJNSVNTSU9OX1JFVk9LRUQgPSAyO1xuICAgKi9cbiAgUEVSTUlTU0lPTl9SRVZPS0VEID0gMixcbiAgLyoqXG4gICAqIFJlcHJlc2VudHMgbXV0aW5nIHRoZSB0cmFjayBkdWUgdG8gbW9kZXJhdGlvbiBhY3Rpb25zLlxuICAgKiBUaGlzIGlzIGRpZmZlcmVudCBmcm9tIHBlcm1pc3Npb24gcmV2b2tlZCBiZWNhdXNlIHRoZVxuICAgKiBwYXJ0aWNpcGFudCBjYW4gdW5tdXRlIHRoZW1zZWx2ZXMgaGVyZSB3aGVyZWFzIGluIGNhc2VcbiAgICogb2YgXCJwZXJtaXNzaW9uIHJldm9rZVwiIGl0IGlzIG5vdCBwb3NzaWJsZSB1bnRpbCB0aGVcbiAgICogY2FsbCBwZXJtaXNzaW9ucyBhcmUgdXBkYXRlZC5cbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IFRSQUNLX1VOUFVCTElTSF9SRUFTT05fTU9ERVJBVElPTiA9IDM7XG4gICAqL1xuICBNT0RFUkFUSU9OID0gMyxcbn1cbi8qKlxuICogR29Bd2F5UmVhc29uIHJlcHJlc2VudHMgdGhlIHJlYXNvbiBmb3IgdGhlIFNGVSB0b1xuICogZGlzY29ubmVjdCB0aGUgY2xpZW50LlxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkdvQXdheVJlYXNvblxuICovXG5leHBvcnQgZW51bSBHb0F3YXlSZWFzb24ge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IEdPX0FXQVlfUkVBU09OX1VOU1BFQ0lGSUVEID0gMDtcbiAgICovXG4gIFVOU1BFQ0lGSUVEID0gMCxcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBHT19BV0FZX1JFQVNPTl9TSFVUVElOR19ET1dOID0gMTtcbiAgICovXG4gIFNIVVRUSU5HX0RPV04gPSAxLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IEdPX0FXQVlfUkVBU09OX1JFQkFMQU5DRSA9IDI7XG4gICAqL1xuICBSRUJBTEFOQ0UgPSAyLFxufVxuLyoqXG4gKiBDYWxsRW5kZWRSZWFzb24gcmVwcmVzZW50cyB0aGUgcmVhc29uIGZvciB0aGUgY2FsbCB0byBlbmQuXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQ2FsbEVuZGVkUmVhc29uXG4gKi9cbmV4cG9ydCBlbnVtIENhbGxFbmRlZFJlYXNvbiB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogQ0FMTF9FTkRFRF9SRUFTT05fVU5TUEVDSUZJRUQgPSAwO1xuICAgKi9cbiAgVU5TUEVDSUZJRUQgPSAwLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IENBTExfRU5ERURfUkVBU09OX0VOREVEID0gMTtcbiAgICovXG4gIEVOREVEID0gMSxcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBDQUxMX0VOREVEX1JFQVNPTl9MSVZFX0VOREVEID0gMjtcbiAgICovXG4gIExJVkVfRU5ERUQgPSAyLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IENBTExfRU5ERURfUkVBU09OX0tJQ0tFRCA9IDM7XG4gICAqL1xuICBLSUNLRUQgPSAzLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IENBTExfRU5ERURfUkVBU09OX1NFU1NJT05fRU5ERUQgPSA0O1xuICAgKi9cbiAgU0VTU0lPTl9FTkRFRCA9IDQsXG59XG4vKipcbiAqIFdlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5IGRlZmluZXMgdGhlIHdzIHN0cmF0ZWdpZXMgYXZhaWxhYmxlIGZvciBoYW5kbGluZyByZWNvbm5lY3Rpb25zLlxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLldlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5XG4gKi9cbmV4cG9ydCBlbnVtIFdlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5IHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBXRUJTT0NLRVRfUkVDT05ORUNUX1NUUkFURUdZX1VOU1BFQ0lGSUVEID0gMDtcbiAgICovXG4gIFVOU1BFQ0lGSUVEID0gMCxcbiAgLyoqXG4gICAqIFNlbnQgYWZ0ZXIgcmVhY2hpbmcgdGhlIG1heGltdW0gcmVjb25uZWN0aW9uIGF0dGVtcHRzLCBvciBhbnkgb3RoZXIgdW5yZWNvdmVyYWJsZSBlcnJvciBsZWFkaW5nIHRvIHBlcm1hbmVudCBkaXNjb25uZWN0LlxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogV0VCU09DS0VUX1JFQ09OTkVDVF9TVFJBVEVHWV9ESVNDT05ORUNUID0gMTtcbiAgICovXG4gIERJU0NPTk5FQ1QgPSAxLFxuICAvKipcbiAgICogU0RLIHNob3VsZCBtYWludGFpbmluZyBleGlzdGluZyBwdWJsaXNoZXIvc3Vic2NyaWJlciBwYyBpbnN0YW5jZXNcbiAgICogYW5kIGVzdGFibGlzaCBhIG5ldyBXZWJTb2NrZXQgY29ubmVjdGlvbi5cbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IFdFQlNPQ0tFVF9SRUNPTk5FQ1RfU1RSQVRFR1lfRkFTVCA9IDI7XG4gICAqL1xuICBGQVNUID0gMixcbiAgLyoqXG4gICAqIFNESyBzaG91bGQgb2J0YWluIG5ldyBjcmVkZW50aWFscyBmcm9tIHRoZSBjb29yZGluYXRvciwgZHJvcHMgZXhpc3RpbmcgcGMgaW5zdGFuY2VzLCBzZXQgYSBuZXcgc2Vzc2lvbl9pZCBhbmQgaW5pdGlhbGl6ZXNcbiAgICogYSBjb21wbGV0ZWx5IG5ldyBXZWJTb2NrZXQgY29ubmVjdGlvbiwgZW5zdXJpbmcgYSBjb21wcmVoZW5zaXZlIHJlc2V0LlxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogV0VCU09DS0VUX1JFQ09OTkVDVF9TVFJBVEVHWV9SRUpPSU4gPSAzO1xuICAgKi9cbiAgUkVKT0lOID0gMyxcbiAgLyoqXG4gICAqIFNESyBzaG91bGQgbWlncmF0ZSB0byBhIG5ldyBTRlUgaW5zdGFuY2VcbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IFdFQlNPQ0tFVF9SRUNPTk5FQ1RfU1RSQVRFR1lfTUlHUkFURSA9IDQ7XG4gICAqL1xuICBNSUdSQVRFID0gNCxcbn1cbi8qKlxuICogQW5kcm9pZFRoZXJtYWxTdGF0ZSBpcyByZXBvcnRlZCBieSB0aGUgQW5kcm9pZCBBUEkuIFRoZSBmdWxsIGxpc3Qgb2YgdmFsdWVzIGlzIGRvY3VtZW50ZWQgaGVyZVxuICogaHR0cHM6Ly9kZXZlbG9wZXIuYW5kcm9pZC5jb20vcmVmZXJlbmNlL2FuZHJvaWQvb3MvUG93ZXJNYW5hZ2VyLmh0bWwjZ2V0Q3VycmVudFRoZXJtYWxTdGF0dXMoKVxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkFuZHJvaWRUaGVybWFsU3RhdGVcbiAqL1xuZXhwb3J0IGVudW0gQW5kcm9pZFRoZXJtYWxTdGF0ZSB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogQU5EUk9JRF9USEVSTUFMX1NUQVRFX1VOU1BFQ0lGSUVEID0gMDtcbiAgICovXG4gIFVOU1BFQ0lGSUVEID0gMCxcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBBTkRST0lEX1RIRVJNQUxfU1RBVEVfTk9ORSA9IDE7XG4gICAqL1xuICBOT05FID0gMSxcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBBTkRST0lEX1RIRVJNQUxfU1RBVEVfTElHSFQgPSAyO1xuICAgKi9cbiAgTElHSFQgPSAyLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IEFORFJPSURfVEhFUk1BTF9TVEFURV9NT0RFUkFURSA9IDM7XG4gICAqL1xuICBNT0RFUkFURSA9IDMsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogQU5EUk9JRF9USEVSTUFMX1NUQVRFX1NFVkVSRSA9IDQ7XG4gICAqL1xuICBTRVZFUkUgPSA0LFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IEFORFJPSURfVEhFUk1BTF9TVEFURV9DUklUSUNBTCA9IDU7XG4gICAqL1xuICBDUklUSUNBTCA9IDUsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogQU5EUk9JRF9USEVSTUFMX1NUQVRFX0VNRVJHRU5DWSA9IDY7XG4gICAqL1xuICBFTUVSR0VOQ1kgPSA2LFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IEFORFJPSURfVEhFUk1BTF9TVEFURV9TSFVURE9XTiA9IDc7XG4gICAqL1xuICBTSFVURE9XTiA9IDcsXG59XG4vKipcbiAqIEFwcGxlVGhlcm1hbFN0YXRlIGlzIHRoZSB0aGVybWFsIHN0YXRlIGFzIHJlcG9ydGVkIGJ5IEFwcGxlIGRldmljZXMgd2hlbiBhdmFpbGFibGUgb3IgYXBwbGljYWJsZSB0byB0aGUgcGxhdGZvcm0uXG4gKiBUaGUgZnVsbCBsaXN0IG9mIHN0YXRlcyAoZW51bSkgaXMgYXZhaWxhYmxlIGhlcmU6IGh0dHBzOi8vZGV2ZWxvcGVyLmFwcGxlLmNvbS9kb2N1bWVudGF0aW9uL2ZvdW5kYXRpb24vcHJvY2Vzc2luZm8vdGhlcm1hbHN0YXRlXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQXBwbGVUaGVybWFsU3RhdGVcbiAqL1xuZXhwb3J0IGVudW0gQXBwbGVUaGVybWFsU3RhdGUge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IEFQUExFX1RIRVJNQUxfU1RBVEVfVU5TUEVDSUZJRUQgPSAwO1xuICAgKi9cbiAgVU5TUEVDSUZJRUQgPSAwLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IEFQUExFX1RIRVJNQUxfU1RBVEVfTk9NSU5BTCA9IDE7XG4gICAqL1xuICBOT01JTkFMID0gMSxcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBBUFBMRV9USEVSTUFMX1NUQVRFX0ZBSVIgPSAyO1xuICAgKi9cbiAgRkFJUiA9IDIsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogQVBQTEVfVEhFUk1BTF9TVEFURV9TRVJJT1VTID0gMztcbiAgICovXG4gIFNFUklPVVMgPSAzLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IEFQUExFX1RIRVJNQUxfU1RBVEVfQ1JJVElDQUwgPSA0O1xuICAgKi9cbiAgQ1JJVElDQUwgPSA0LFxufVxuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgQ2FsbFN0YXRlJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxDYWxsU3RhdGU+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUubW9kZWxzLkNhbGxTdGF0ZScsIFtcbiAgICAgIHtcbiAgICAgICAgbm86IDEsXG4gICAgICAgIG5hbWU6ICdwYXJ0aWNpcGFudHMnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIHJlcGVhdDogMSAvKlJlcGVhdFR5cGUuUEFDS0VEKi8sXG4gICAgICAgIFQ6ICgpID0+IFBhcnRpY2lwYW50LFxuICAgICAgfSxcbiAgICAgIHsgbm86IDIsIG5hbWU6ICdzdGFydGVkX2F0Jywga2luZDogJ21lc3NhZ2UnLCBUOiAoKSA9PiBUaW1lc3RhbXAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDMsXG4gICAgICAgIG5hbWU6ICdwYXJ0aWNpcGFudF9jb3VudCcsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgVDogKCkgPT4gUGFydGljaXBhbnRDb3VudCxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiA0LFxuICAgICAgICBuYW1lOiAncGlucycsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgcmVwZWF0OiAxIC8qUmVwZWF0VHlwZS5QQUNLRUQqLyxcbiAgICAgICAgVDogKCkgPT4gUGluLFxuICAgICAgfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkNhbGxTdGF0ZVxuICovXG5leHBvcnQgY29uc3QgQ2FsbFN0YXRlID0gbmV3IENhbGxTdGF0ZSRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBQYXJ0aWNpcGFudENvdW50JFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxQYXJ0aWNpcGFudENvdW50PiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QYXJ0aWNpcGFudENvdW50JywgW1xuICAgICAgeyBubzogMSwgbmFtZTogJ3RvdGFsJywga2luZDogJ3NjYWxhcicsIFQ6IDEzIC8qU2NhbGFyVHlwZS5VSU5UMzIqLyB9LFxuICAgICAgeyBubzogMiwgbmFtZTogJ2Fub255bW91cycsIGtpbmQ6ICdzY2FsYXInLCBUOiAxMyAvKlNjYWxhclR5cGUuVUlOVDMyKi8gfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlBhcnRpY2lwYW50Q291bnRcbiAqL1xuZXhwb3J0IGNvbnN0IFBhcnRpY2lwYW50Q291bnQgPSBuZXcgUGFydGljaXBhbnRDb3VudCRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBQaW4kVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFBpbj4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuUGluJywgW1xuICAgICAgeyBubzogMSwgbmFtZTogJ3VzZXJfaWQnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHsgbm86IDIsIG5hbWU6ICdzZXNzaW9uX2lkJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QaW5cbiAqL1xuZXhwb3J0IGNvbnN0IFBpbiA9IG5ldyBQaW4kVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgUGFydGljaXBhbnQkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFBhcnRpY2lwYW50PiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QYXJ0aWNpcGFudCcsIFtcbiAgICAgIHsgbm86IDEsIG5hbWU6ICd1c2VyX2lkJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7IG5vOiAyLCBuYW1lOiAnc2Vzc2lvbl9pZCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAge1xuICAgICAgICBubzogMyxcbiAgICAgICAgbmFtZTogJ3B1Ymxpc2hlZF90cmFja3MnLFxuICAgICAgICBraW5kOiAnZW51bScsXG4gICAgICAgIHJlcGVhdDogMSAvKlJlcGVhdFR5cGUuUEFDS0VEKi8sXG4gICAgICAgIFQ6ICgpID0+IFtcbiAgICAgICAgICAnc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVHJhY2tUeXBlJyxcbiAgICAgICAgICBUcmFja1R5cGUsXG4gICAgICAgICAgJ1RSQUNLX1RZUEVfJyxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgICB7IG5vOiA0LCBuYW1lOiAnam9pbmVkX2F0Jywga2luZDogJ21lc3NhZ2UnLCBUOiAoKSA9PiBUaW1lc3RhbXAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDUsXG4gICAgICAgIG5hbWU6ICd0cmFja19sb29rdXBfcHJlZml4JyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDYsXG4gICAgICAgIG5hbWU6ICdjb25uZWN0aW9uX3F1YWxpdHknLFxuICAgICAgICBraW5kOiAnZW51bScsXG4gICAgICAgIFQ6ICgpID0+IFtcbiAgICAgICAgICAnc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQ29ubmVjdGlvblF1YWxpdHknLFxuICAgICAgICAgIENvbm5lY3Rpb25RdWFsaXR5LFxuICAgICAgICAgICdDT05ORUNUSU9OX1FVQUxJVFlfJyxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgICB7IG5vOiA3LCBuYW1lOiAnaXNfc3BlYWtpbmcnLCBraW5kOiAnc2NhbGFyJywgVDogOCAvKlNjYWxhclR5cGUuQk9PTCovIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiA4LFxuICAgICAgICBuYW1lOiAnaXNfZG9taW5hbnRfc3BlYWtlcicsXG4gICAgICAgIGtpbmQ6ICdzY2FsYXInLFxuICAgICAgICBUOiA4IC8qU2NhbGFyVHlwZS5CT09MKi8sXG4gICAgICB9LFxuICAgICAgeyBubzogOSwgbmFtZTogJ2F1ZGlvX2xldmVsJywga2luZDogJ3NjYWxhcicsIFQ6IDIgLypTY2FsYXJUeXBlLkZMT0FUKi8gfSxcbiAgICAgIHsgbm86IDEwLCBuYW1lOiAnbmFtZScsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAgeyBubzogMTEsIG5hbWU6ICdpbWFnZScsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAgeyBubzogMTIsIG5hbWU6ICdjdXN0b20nLCBraW5kOiAnbWVzc2FnZScsIFQ6ICgpID0+IFN0cnVjdCB9LFxuICAgICAge1xuICAgICAgICBubzogMTMsXG4gICAgICAgIG5hbWU6ICdyb2xlcycsXG4gICAgICAgIGtpbmQ6ICdzY2FsYXInLFxuICAgICAgICByZXBlYXQ6IDIgLypSZXBlYXRUeXBlLlVOUEFDS0VEKi8sXG4gICAgICAgIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovLFxuICAgICAgfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlBhcnRpY2lwYW50XG4gKi9cbmV4cG9ydCBjb25zdCBQYXJ0aWNpcGFudCA9IG5ldyBQYXJ0aWNpcGFudCRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBTdHJlYW1RdWFsaXR5JFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxTdHJlYW1RdWFsaXR5PiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5TdHJlYW1RdWFsaXR5JywgW1xuICAgICAge1xuICAgICAgICBubzogMSxcbiAgICAgICAgbmFtZTogJ3ZpZGVvX3F1YWxpdHknLFxuICAgICAgICBraW5kOiAnZW51bScsXG4gICAgICAgIFQ6ICgpID0+IFtcbiAgICAgICAgICAnc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVmlkZW9RdWFsaXR5JyxcbiAgICAgICAgICBWaWRlb1F1YWxpdHksXG4gICAgICAgICAgJ1ZJREVPX1FVQUxJVFlfJyxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgICB7IG5vOiAyLCBuYW1lOiAndXNlcl9pZCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuU3RyZWFtUXVhbGl0eVxuICovXG5leHBvcnQgY29uc3QgU3RyZWFtUXVhbGl0eSA9IG5ldyBTdHJlYW1RdWFsaXR5JFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIFZpZGVvRGltZW5zaW9uJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxWaWRlb0RpbWVuc2lvbj4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVmlkZW9EaW1lbnNpb24nLCBbXG4gICAgICB7IG5vOiAxLCBuYW1lOiAnd2lkdGgnLCBraW5kOiAnc2NhbGFyJywgVDogMTMgLypTY2FsYXJUeXBlLlVJTlQzMiovIH0sXG4gICAgICB7IG5vOiAyLCBuYW1lOiAnaGVpZ2h0Jywga2luZDogJ3NjYWxhcicsIFQ6IDEzIC8qU2NhbGFyVHlwZS5VSU5UMzIqLyB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVmlkZW9EaW1lbnNpb25cbiAqL1xuZXhwb3J0IGNvbnN0IFZpZGVvRGltZW5zaW9uID0gbmV3IFZpZGVvRGltZW5zaW9uJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIFZpZGVvTGF5ZXIkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFZpZGVvTGF5ZXI+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUubW9kZWxzLlZpZGVvTGF5ZXInLCBbXG4gICAgICB7IG5vOiAxLCBuYW1lOiAncmlkJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAyLFxuICAgICAgICBuYW1lOiAndmlkZW9fZGltZW5zaW9uJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICBUOiAoKSA9PiBWaWRlb0RpbWVuc2lvbixcbiAgICAgIH0sXG4gICAgICB7IG5vOiA0LCBuYW1lOiAnYml0cmF0ZScsIGtpbmQ6ICdzY2FsYXInLCBUOiAxMyAvKlNjYWxhclR5cGUuVUlOVDMyKi8gfSxcbiAgICAgIHsgbm86IDUsIG5hbWU6ICdmcHMnLCBraW5kOiAnc2NhbGFyJywgVDogMTMgLypTY2FsYXJUeXBlLlVJTlQzMiovIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiA2LFxuICAgICAgICBuYW1lOiAncXVhbGl0eScsXG4gICAgICAgIGtpbmQ6ICdlbnVtJyxcbiAgICAgICAgVDogKCkgPT4gW1xuICAgICAgICAgICdzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5WaWRlb1F1YWxpdHknLFxuICAgICAgICAgIFZpZGVvUXVhbGl0eSxcbiAgICAgICAgICAnVklERU9fUVVBTElUWV8nLFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlZpZGVvTGF5ZXJcbiAqL1xuZXhwb3J0IGNvbnN0IFZpZGVvTGF5ZXIgPSBuZXcgVmlkZW9MYXllciRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBQdWJsaXNoT3B0aW9ucyRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8UHVibGlzaE9wdGlvbnM+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUubW9kZWxzLlB1Ymxpc2hPcHRpb25zJywgW1xuICAgICAge1xuICAgICAgICBubzogMSxcbiAgICAgICAgbmFtZTogJ2NvZGVjcycsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgcmVwZWF0OiAxIC8qUmVwZWF0VHlwZS5QQUNLRUQqLyxcbiAgICAgICAgVDogKCkgPT4gUHVibGlzaE9wdGlvbixcbiAgICAgIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QdWJsaXNoT3B0aW9uc1xuICovXG5leHBvcnQgY29uc3QgUHVibGlzaE9wdGlvbnMgPSBuZXcgUHVibGlzaE9wdGlvbnMkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgUHVibGlzaE9wdGlvbiRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8UHVibGlzaE9wdGlvbj4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuUHVibGlzaE9wdGlvbicsIFtcbiAgICAgIHtcbiAgICAgICAgbm86IDEsXG4gICAgICAgIG5hbWU6ICd0cmFja190eXBlJyxcbiAgICAgICAga2luZDogJ2VudW0nLFxuICAgICAgICBUOiAoKSA9PiBbXG4gICAgICAgICAgJ3N0cmVhbS52aWRlby5zZnUubW9kZWxzLlRyYWNrVHlwZScsXG4gICAgICAgICAgVHJhY2tUeXBlLFxuICAgICAgICAgICdUUkFDS19UWVBFXycsXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgICAgeyBubzogMiwgbmFtZTogJ2NvZGVjJywga2luZDogJ21lc3NhZ2UnLCBUOiAoKSA9PiBDb2RlYyB9LFxuICAgICAgeyBubzogMywgbmFtZTogJ2JpdHJhdGUnLCBraW5kOiAnc2NhbGFyJywgVDogNSAvKlNjYWxhclR5cGUuSU5UMzIqLyB9LFxuICAgICAgeyBubzogNCwgbmFtZTogJ2ZwcycsIGtpbmQ6ICdzY2FsYXInLCBUOiA1IC8qU2NhbGFyVHlwZS5JTlQzMiovIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiA1LFxuICAgICAgICBuYW1lOiAnbWF4X3NwYXRpYWxfbGF5ZXJzJyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIFQ6IDUgLypTY2FsYXJUeXBlLklOVDMyKi8sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogNixcbiAgICAgICAgbmFtZTogJ21heF90ZW1wb3JhbF9sYXllcnMnLFxuICAgICAgICBraW5kOiAnc2NhbGFyJyxcbiAgICAgICAgVDogNSAvKlNjYWxhclR5cGUuSU5UMzIqLyxcbiAgICAgIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QdWJsaXNoT3B0aW9uXG4gKi9cbmV4cG9ydCBjb25zdCBQdWJsaXNoT3B0aW9uID0gbmV3IFB1Ymxpc2hPcHRpb24kVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgQ29kZWMkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPENvZGVjPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5Db2RlYycsIFtcbiAgICAgIHtcbiAgICAgICAgbm86IDExLFxuICAgICAgICBuYW1lOiAncGF5bG9hZF90eXBlJyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIFQ6IDEzIC8qU2NhbGFyVHlwZS5VSU5UMzIqLyxcbiAgICAgIH0sXG4gICAgICB7IG5vOiAxMCwgbmFtZTogJ25hbWUnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDE0LFxuICAgICAgICBuYW1lOiAnY2xvY2tfcmF0ZScsXG4gICAgICAgIGtpbmQ6ICdzY2FsYXInLFxuICAgICAgICBUOiAxMyAvKlNjYWxhclR5cGUuVUlOVDMyKi8sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogMTMsXG4gICAgICAgIG5hbWU6ICdlbmNvZGluZ19wYXJhbWV0ZXJzJyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovLFxuICAgICAgfSxcbiAgICAgIHsgbm86IDEyLCBuYW1lOiAnZm10cCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQ29kZWNcbiAqL1xuZXhwb3J0IGNvbnN0IENvZGVjID0gbmV3IENvZGVjJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIElDRVRyaWNrbGUkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPElDRVRyaWNrbGU+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUubW9kZWxzLklDRVRyaWNrbGUnLCBbXG4gICAgICB7XG4gICAgICAgIG5vOiAxLFxuICAgICAgICBuYW1lOiAncGVlcl90eXBlJyxcbiAgICAgICAga2luZDogJ2VudW0nLFxuICAgICAgICBUOiAoKSA9PiBbJ3N0cmVhbS52aWRlby5zZnUubW9kZWxzLlBlZXJUeXBlJywgUGVlclR5cGUsICdQRUVSX1RZUEVfJ10sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogMixcbiAgICAgICAgbmFtZTogJ2ljZV9jYW5kaWRhdGUnLFxuICAgICAgICBraW5kOiAnc2NhbGFyJyxcbiAgICAgICAgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8sXG4gICAgICB9LFxuICAgICAgeyBubzogMywgbmFtZTogJ3Nlc3Npb25faWQnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLklDRVRyaWNrbGVcbiAqL1xuZXhwb3J0IGNvbnN0IElDRVRyaWNrbGUgPSBuZXcgSUNFVHJpY2tsZSRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBUcmFja0luZm8kVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFRyYWNrSW5mbz4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVHJhY2tJbmZvJywgW1xuICAgICAgeyBubzogMSwgbmFtZTogJ3RyYWNrX2lkJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAyLFxuICAgICAgICBuYW1lOiAndHJhY2tfdHlwZScsXG4gICAgICAgIGtpbmQ6ICdlbnVtJyxcbiAgICAgICAgVDogKCkgPT4gW1xuICAgICAgICAgICdzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5UcmFja1R5cGUnLFxuICAgICAgICAgIFRyYWNrVHlwZSxcbiAgICAgICAgICAnVFJBQ0tfVFlQRV8nLFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDUsXG4gICAgICAgIG5hbWU6ICdsYXllcnMnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIHJlcGVhdDogMSAvKlJlcGVhdFR5cGUuUEFDS0VEKi8sXG4gICAgICAgIFQ6ICgpID0+IFZpZGVvTGF5ZXIsXG4gICAgICB9LFxuICAgICAgeyBubzogNiwgbmFtZTogJ21pZCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAgeyBubzogNywgbmFtZTogJ2R0eCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA4IC8qU2NhbGFyVHlwZS5CT09MKi8gfSxcbiAgICAgIHsgbm86IDgsIG5hbWU6ICdzdGVyZW8nLCBraW5kOiAnc2NhbGFyJywgVDogOCAvKlNjYWxhclR5cGUuQk9PTCovIH0sXG4gICAgICB7IG5vOiA5LCBuYW1lOiAncmVkJywga2luZDogJ3NjYWxhcicsIFQ6IDggLypTY2FsYXJUeXBlLkJPT0wqLyB9LFxuICAgICAgeyBubzogMTAsIG5hbWU6ICdtdXRlZCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA4IC8qU2NhbGFyVHlwZS5CT09MKi8gfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlRyYWNrSW5mb1xuICovXG5leHBvcnQgY29uc3QgVHJhY2tJbmZvID0gbmV3IFRyYWNrSW5mbyRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBFcnJvciRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8RXJyb3I+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUubW9kZWxzLkVycm9yJywgW1xuICAgICAge1xuICAgICAgICBubzogMSxcbiAgICAgICAgbmFtZTogJ2NvZGUnLFxuICAgICAgICBraW5kOiAnZW51bScsXG4gICAgICAgIFQ6ICgpID0+IFtcbiAgICAgICAgICAnc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuRXJyb3JDb2RlJyxcbiAgICAgICAgICBFcnJvckNvZGUsXG4gICAgICAgICAgJ0VSUk9SX0NPREVfJyxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgICB7IG5vOiAyLCBuYW1lOiAnbWVzc2FnZScsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAgeyBubzogMywgbmFtZTogJ3Nob3VsZF9yZXRyeScsIGtpbmQ6ICdzY2FsYXInLCBUOiA4IC8qU2NhbGFyVHlwZS5CT09MKi8gfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkVycm9yXG4gKi9cbmV4cG9ydCBjb25zdCBFcnJvciA9IG5ldyBFcnJvciRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBDbGllbnREZXRhaWxzJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxDbGllbnREZXRhaWxzPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5DbGllbnREZXRhaWxzJywgW1xuICAgICAgeyBubzogMSwgbmFtZTogJ3NkaycsIGtpbmQ6ICdtZXNzYWdlJywgVDogKCkgPT4gU2RrIH0sXG4gICAgICB7IG5vOiAyLCBuYW1lOiAnb3MnLCBraW5kOiAnbWVzc2FnZScsIFQ6ICgpID0+IE9TIH0sXG4gICAgICB7IG5vOiAzLCBuYW1lOiAnYnJvd3NlcicsIGtpbmQ6ICdtZXNzYWdlJywgVDogKCkgPT4gQnJvd3NlciB9LFxuICAgICAgeyBubzogNCwgbmFtZTogJ2RldmljZScsIGtpbmQ6ICdtZXNzYWdlJywgVDogKCkgPT4gRGV2aWNlIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5DbGllbnREZXRhaWxzXG4gKi9cbmV4cG9ydCBjb25zdCBDbGllbnREZXRhaWxzID0gbmV3IENsaWVudERldGFpbHMkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgU2RrJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxTZGs+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUubW9kZWxzLlNkaycsIFtcbiAgICAgIHtcbiAgICAgICAgbm86IDEsXG4gICAgICAgIG5hbWU6ICd0eXBlJyxcbiAgICAgICAga2luZDogJ2VudW0nLFxuICAgICAgICBUOiAoKSA9PiBbJ3N0cmVhbS52aWRlby5zZnUubW9kZWxzLlNka1R5cGUnLCBTZGtUeXBlLCAnU0RLX1RZUEVfJ10sXG4gICAgICB9LFxuICAgICAgeyBubzogMiwgbmFtZTogJ21ham9yJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7IG5vOiAzLCBuYW1lOiAnbWlub3InLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHsgbm86IDQsIG5hbWU6ICdwYXRjaCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuU2RrXG4gKi9cbmV4cG9ydCBjb25zdCBTZGsgPSBuZXcgU2RrJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIE9TJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxPUz4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuT1MnLCBbXG4gICAgICB7IG5vOiAxLCBuYW1lOiAnbmFtZScsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAgeyBubzogMiwgbmFtZTogJ3ZlcnNpb24nLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDMsXG4gICAgICAgIG5hbWU6ICdhcmNoaXRlY3R1cmUnLFxuICAgICAgICBraW5kOiAnc2NhbGFyJyxcbiAgICAgICAgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8sXG4gICAgICB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuT1NcbiAqL1xuZXhwb3J0IGNvbnN0IE9TID0gbmV3IE9TJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIEJyb3dzZXIkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPEJyb3dzZXI+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUubW9kZWxzLkJyb3dzZXInLCBbXG4gICAgICB7IG5vOiAxLCBuYW1lOiAnbmFtZScsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAgeyBubzogMiwgbmFtZTogJ3ZlcnNpb24nLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkJyb3dzZXJcbiAqL1xuZXhwb3J0IGNvbnN0IEJyb3dzZXIgPSBuZXcgQnJvd3NlciRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBEZXZpY2UkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPERldmljZT4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuRGV2aWNlJywgW1xuICAgICAgeyBubzogMSwgbmFtZTogJ25hbWUnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHsgbm86IDIsIG5hbWU6ICd2ZXJzaW9uJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5EZXZpY2VcbiAqL1xuZXhwb3J0IGNvbnN0IERldmljZSA9IG5ldyBEZXZpY2UkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgQ2FsbCRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8Q2FsbD4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQ2FsbCcsIFtcbiAgICAgIHsgbm86IDEsIG5hbWU6ICd0eXBlJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7IG5vOiAyLCBuYW1lOiAnaWQnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDMsXG4gICAgICAgIG5hbWU6ICdjcmVhdGVkX2J5X3VzZXJfaWQnLFxuICAgICAgICBraW5kOiAnc2NhbGFyJyxcbiAgICAgICAgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogNCxcbiAgICAgICAgbmFtZTogJ2hvc3RfdXNlcl9pZCcsXG4gICAgICAgIGtpbmQ6ICdzY2FsYXInLFxuICAgICAgICBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyxcbiAgICAgIH0sXG4gICAgICB7IG5vOiA1LCBuYW1lOiAnY3VzdG9tJywga2luZDogJ21lc3NhZ2UnLCBUOiAoKSA9PiBTdHJ1Y3QgfSxcbiAgICAgIHsgbm86IDYsIG5hbWU6ICdjcmVhdGVkX2F0Jywga2luZDogJ21lc3NhZ2UnLCBUOiAoKSA9PiBUaW1lc3RhbXAgfSxcbiAgICAgIHsgbm86IDcsIG5hbWU6ICd1cGRhdGVkX2F0Jywga2luZDogJ21lc3NhZ2UnLCBUOiAoKSA9PiBUaW1lc3RhbXAgfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkNhbGxcbiAqL1xuZXhwb3J0IGNvbnN0IENhbGwgPSBuZXcgQ2FsbCRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBDYWxsR3JhbnRzJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxDYWxsR3JhbnRzPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5DYWxsR3JhbnRzJywgW1xuICAgICAge1xuICAgICAgICBubzogMSxcbiAgICAgICAgbmFtZTogJ2Nhbl9wdWJsaXNoX2F1ZGlvJyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIFQ6IDggLypTY2FsYXJUeXBlLkJPT0wqLyxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAyLFxuICAgICAgICBuYW1lOiAnY2FuX3B1Ymxpc2hfdmlkZW8nLFxuICAgICAgICBraW5kOiAnc2NhbGFyJyxcbiAgICAgICAgVDogOCAvKlNjYWxhclR5cGUuQk9PTCovLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDMsXG4gICAgICAgIG5hbWU6ICdjYW5fc2NyZWVuc2hhcmUnLFxuICAgICAgICBraW5kOiAnc2NhbGFyJyxcbiAgICAgICAgVDogOCAvKlNjYWxhclR5cGUuQk9PTCovLFxuICAgICAgfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkNhbGxHcmFudHNcbiAqL1xuZXhwb3J0IGNvbnN0IENhbGxHcmFudHMgPSBuZXcgQ2FsbEdyYW50cyRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBJbnB1dERldmljZXMkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPElucHV0RGV2aWNlcz4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuSW5wdXREZXZpY2VzJywgW1xuICAgICAge1xuICAgICAgICBubzogMSxcbiAgICAgICAgbmFtZTogJ2F2YWlsYWJsZV9kZXZpY2VzJyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIHJlcGVhdDogMiAvKlJlcGVhdFR5cGUuVU5QQUNLRUQqLyxcbiAgICAgICAgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogMixcbiAgICAgICAgbmFtZTogJ2N1cnJlbnRfZGV2aWNlJyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovLFxuICAgICAgfSxcbiAgICAgIHsgbm86IDMsIG5hbWU6ICdpc19wZXJtaXR0ZWQnLCBraW5kOiAnc2NhbGFyJywgVDogOCAvKlNjYWxhclR5cGUuQk9PTCovIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5JbnB1dERldmljZXNcbiAqL1xuZXhwb3J0IGNvbnN0IElucHV0RGV2aWNlcyA9IG5ldyBJbnB1dERldmljZXMkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgQW5kcm9pZFN0YXRlJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxBbmRyb2lkU3RhdGU+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUubW9kZWxzLkFuZHJvaWRTdGF0ZScsIFtcbiAgICAgIHtcbiAgICAgICAgbm86IDEsXG4gICAgICAgIG5hbWU6ICd0aGVybWFsX3N0YXRlJyxcbiAgICAgICAga2luZDogJ2VudW0nLFxuICAgICAgICBUOiAoKSA9PiBbXG4gICAgICAgICAgJ3N0cmVhbS52aWRlby5zZnUubW9kZWxzLkFuZHJvaWRUaGVybWFsU3RhdGUnLFxuICAgICAgICAgIEFuZHJvaWRUaGVybWFsU3RhdGUsXG4gICAgICAgICAgJ0FORFJPSURfVEhFUk1BTF9TVEFURV8nLFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDIsXG4gICAgICAgIG5hbWU6ICdpc19wb3dlcl9zYXZlcl9tb2RlJyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIFQ6IDggLypTY2FsYXJUeXBlLkJPT0wqLyxcbiAgICAgIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5BbmRyb2lkU3RhdGVcbiAqL1xuZXhwb3J0IGNvbnN0IEFuZHJvaWRTdGF0ZSA9IG5ldyBBbmRyb2lkU3RhdGUkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgQXBwbGVTdGF0ZSRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8QXBwbGVTdGF0ZT4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQXBwbGVTdGF0ZScsIFtcbiAgICAgIHtcbiAgICAgICAgbm86IDEsXG4gICAgICAgIG5hbWU6ICd0aGVybWFsX3N0YXRlJyxcbiAgICAgICAga2luZDogJ2VudW0nLFxuICAgICAgICBUOiAoKSA9PiBbXG4gICAgICAgICAgJ3N0cmVhbS52aWRlby5zZnUubW9kZWxzLkFwcGxlVGhlcm1hbFN0YXRlJyxcbiAgICAgICAgICBBcHBsZVRoZXJtYWxTdGF0ZSxcbiAgICAgICAgICAnQVBQTEVfVEhFUk1BTF9TVEFURV8nLFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDIsXG4gICAgICAgIG5hbWU6ICdpc19sb3dfcG93ZXJfbW9kZV9lbmFibGVkJyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIFQ6IDggLypTY2FsYXJUeXBlLkJPT0wqLyxcbiAgICAgIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5BcHBsZVN0YXRlXG4gKi9cbmV4cG9ydCBjb25zdCBBcHBsZVN0YXRlID0gbmV3IEFwcGxlU3RhdGUkVHlwZSgpO1xuIiwiLyogZXNsaW50LWRpc2FibGUgKi9cbi8vIEBnZW5lcmF0ZWQgYnkgcHJvdG9idWYtdHMgMi45LjQgd2l0aCBwYXJhbWV0ZXIgbG9uZ190eXBlX3N0cmluZyxjbGllbnRfZ2VuZXJpYyxzZXJ2ZXJfbm9uZSxlc2xpbnRfZGlzYWJsZSxvcHRpbWl6ZV9jb2RlX3NpemVcbi8vIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWxlIFwidmlkZW8vc2Z1L3NpZ25hbF9ycGMvc2lnbmFsLnByb3RvXCIgKHBhY2thZ2UgXCJzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbFwiLCBzeW50YXggcHJvdG8zKVxuLy8gdHNsaW50OmRpc2FibGVcbmltcG9ydCB7IElDRVRyaWNrbGUgfSBmcm9tICcuLi9tb2RlbHMvbW9kZWxzJztcbmltcG9ydCB7IFNlcnZpY2VUeXBlIH0gZnJvbSAnQHByb3RvYnVmLXRzL3J1bnRpbWUtcnBjJztcbmltcG9ydCB7IE1lc3NhZ2VUeXBlIH0gZnJvbSAnQHByb3RvYnVmLXRzL3J1bnRpbWUnO1xuaW1wb3J0IHsgVHJhY2tJbmZvIH0gZnJvbSAnLi4vbW9kZWxzL21vZGVscyc7XG5pbXBvcnQgeyBWaWRlb0RpbWVuc2lvbiB9IGZyb20gJy4uL21vZGVscy9tb2RlbHMnO1xuaW1wb3J0IHsgVHJhY2tUeXBlIH0gZnJvbSAnLi4vbW9kZWxzL21vZGVscyc7XG5pbXBvcnQgeyBQZWVyVHlwZSB9IGZyb20gJy4uL21vZGVscy9tb2RlbHMnO1xuaW1wb3J0IHsgQXBwbGVTdGF0ZSB9IGZyb20gJy4uL21vZGVscy9tb2RlbHMnO1xuaW1wb3J0IHsgQW5kcm9pZFN0YXRlIH0gZnJvbSAnLi4vbW9kZWxzL21vZGVscyc7XG5pbXBvcnQgeyBJbnB1dERldmljZXMgfSBmcm9tICcuLi9tb2RlbHMvbW9kZWxzJztcbmltcG9ydCB7IFdlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5IH0gZnJvbSAnLi4vbW9kZWxzL21vZGVscyc7XG5pbXBvcnQgeyBFcnJvciB9IGZyb20gJy4uL21vZGVscy9tb2RlbHMnO1xuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TdGFydE5vaXNlQ2FuY2VsbGF0aW9uUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFN0YXJ0Tm9pc2VDYW5jZWxsYXRpb25SZXF1ZXN0IHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHNlc3Npb25faWQgPSAxO1xuICAgKi9cbiAgc2Vzc2lvbklkOiBzdHJpbmc7XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlN0YXJ0Tm9pc2VDYW5jZWxsYXRpb25SZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFN0YXJ0Tm9pc2VDYW5jZWxsYXRpb25SZXNwb25zZSB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkVycm9yIGVycm9yID0gMTtcbiAgICovXG4gIGVycm9yPzogRXJyb3I7XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlN0b3BOb2lzZUNhbmNlbGxhdGlvblJlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTdG9wTm9pc2VDYW5jZWxsYXRpb25SZXF1ZXN0IHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHNlc3Npb25faWQgPSAxO1xuICAgKi9cbiAgc2Vzc2lvbklkOiBzdHJpbmc7XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlN0b3BOb2lzZUNhbmNlbGxhdGlvblJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU3RvcE5vaXNlQ2FuY2VsbGF0aW9uUmVzcG9uc2Uge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5FcnJvciBlcnJvciA9IDE7XG4gICAqL1xuICBlcnJvcj86IEVycm9yO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5SZWNvbm5lY3Rpb25cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZWNvbm5lY3Rpb24ge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBmbG9hdCB0aW1lX3NlY29uZHMgPSAxO1xuICAgKi9cbiAgdGltZVNlY29uZHM6IG51bWJlcjtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3kgc3RyYXRlZ3kgPSAyO1xuICAgKi9cbiAgc3RyYXRlZ3k6IFdlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5O1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5UZWxlbWV0cnlcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBUZWxlbWV0cnkge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG9uZW9mOiBkYXRhXG4gICAqL1xuICBkYXRhOlxuICAgIHwge1xuICAgICAgICBvbmVvZktpbmQ6ICdjb25uZWN0aW9uVGltZVNlY29uZHMnO1xuICAgICAgICAvKipcbiAgICAgICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBmbG9hdCBjb25uZWN0aW9uX3RpbWVfc2Vjb25kcyA9IDE7XG4gICAgICAgICAqL1xuICAgICAgICBjb25uZWN0aW9uVGltZVNlY29uZHM6IG51bWJlcjtcbiAgICAgIH1cbiAgICB8IHtcbiAgICAgICAgb25lb2ZLaW5kOiAncmVjb25uZWN0aW9uJztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuUmVjb25uZWN0aW9uIHJlY29ubmVjdGlvbiA9IDI7XG4gICAgICAgICAqL1xuICAgICAgICByZWNvbm5lY3Rpb246IFJlY29ubmVjdGlvbjtcbiAgICAgIH1cbiAgICB8IHtcbiAgICAgICAgb25lb2ZLaW5kOiB1bmRlZmluZWQ7XG4gICAgICB9O1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TZW5kU3RhdHNSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU2VuZFN0YXRzUmVxdWVzdCB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBzZXNzaW9uX2lkID0gMTtcbiAgICovXG4gIHNlc3Npb25JZDogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgc3Vic2NyaWJlcl9zdGF0cyA9IDI7XG4gICAqL1xuICBzdWJzY3JpYmVyU3RhdHM6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHB1Ymxpc2hlcl9zdGF0cyA9IDM7XG4gICAqL1xuICBwdWJsaXNoZXJTdGF0czogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgd2VicnRjX3ZlcnNpb24gPSA0O1xuICAgKi9cbiAgd2VicnRjVmVyc2lvbjogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgc2RrID0gNTtcbiAgICovXG4gIHNkazogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgc2RrX3ZlcnNpb24gPSA2O1xuICAgKi9cbiAgc2RrVmVyc2lvbjogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5JbnB1dERldmljZXMgYXVkaW9fZGV2aWNlcyA9IDc7XG4gICAqL1xuICBhdWRpb0RldmljZXM/OiBJbnB1dERldmljZXM7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLklucHV0RGV2aWNlcyB2aWRlb19kZXZpY2VzID0gODtcbiAgICovXG4gIHZpZGVvRGV2aWNlcz86IElucHV0RGV2aWNlcztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBvbmVvZjogZGV2aWNlX3N0YXRlXG4gICAqL1xuICBkZXZpY2VTdGF0ZTpcbiAgICB8IHtcbiAgICAgICAgb25lb2ZLaW5kOiAnYW5kcm9pZCc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkFuZHJvaWRTdGF0ZSBhbmRyb2lkID0gOTtcbiAgICAgICAgICovXG4gICAgICAgIGFuZHJvaWQ6IEFuZHJvaWRTdGF0ZTtcbiAgICAgIH1cbiAgICB8IHtcbiAgICAgICAgb25lb2ZLaW5kOiAnYXBwbGUnO1xuICAgICAgICAvKipcbiAgICAgICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5BcHBsZVN0YXRlIGFwcGxlID0gMTA7XG4gICAgICAgICAqL1xuICAgICAgICBhcHBsZTogQXBwbGVTdGF0ZTtcbiAgICAgIH1cbiAgICB8IHtcbiAgICAgICAgb25lb2ZLaW5kOiB1bmRlZmluZWQ7XG4gICAgICB9O1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5UZWxlbWV0cnkgdGVsZW1ldHJ5ID0gMTE7XG4gICAqL1xuICB0ZWxlbWV0cnk/OiBUZWxlbWV0cnk7XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlNlbmRTdGF0c1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU2VuZFN0YXRzUmVzcG9uc2Uge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5FcnJvciBlcnJvciA9IDE7XG4gICAqL1xuICBlcnJvcj86IEVycm9yO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5JQ0VSZXN0YXJ0UmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIElDRVJlc3RhcnRSZXF1ZXN0IHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHNlc3Npb25faWQgPSAxO1xuICAgKi9cbiAgc2Vzc2lvbklkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlBlZXJUeXBlIHBlZXJfdHlwZSA9IDI7XG4gICAqL1xuICBwZWVyVHlwZTogUGVlclR5cGU7XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLklDRVJlc3RhcnRSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIElDRVJlc3RhcnRSZXNwb25zZSB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkVycm9yIGVycm9yID0gMTtcbiAgICovXG4gIGVycm9yPzogRXJyb3I7XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlVwZGF0ZU11dGVTdGF0ZXNSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVXBkYXRlTXV0ZVN0YXRlc1JlcXVlc3Qge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgc2Vzc2lvbl9pZCA9IDE7XG4gICAqL1xuICBzZXNzaW9uSWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogcmVwZWF0ZWQgc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuVHJhY2tNdXRlU3RhdGUgbXV0ZV9zdGF0ZXMgPSAzO1xuICAgKi9cbiAgbXV0ZVN0YXRlczogVHJhY2tNdXRlU3RhdGVbXTtcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuVXBkYXRlTXV0ZVN0YXRlc1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVXBkYXRlTXV0ZVN0YXRlc1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuRXJyb3IgZXJyb3IgPSA0O1xuICAgKi9cbiAgZXJyb3I/OiBFcnJvcjtcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuVHJhY2tNdXRlU3RhdGVcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBUcmFja011dGVTdGF0ZSB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlRyYWNrVHlwZSB0cmFja190eXBlID0gMTtcbiAgICovXG4gIHRyYWNrVHlwZTogVHJhY2tUeXBlO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBib29sIG11dGVkID0gMjtcbiAgICovXG4gIG11dGVkOiBib29sZWFuO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5BdWRpb011dGVDaGFuZ2VkXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQXVkaW9NdXRlQ2hhbmdlZCB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGJvb2wgbXV0ZWQgPSAxO1xuICAgKi9cbiAgbXV0ZWQ6IGJvb2xlYW47XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlZpZGVvTXV0ZUNoYW5nZWRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBWaWRlb011dGVDaGFuZ2VkIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogYm9vbCBtdXRlZCA9IDI7XG4gICAqL1xuICBtdXRlZDogYm9vbGVhbjtcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuVXBkYXRlU3Vic2NyaXB0aW9uc1JlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBVcGRhdGVTdWJzY3JpcHRpb25zUmVxdWVzdCB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBzZXNzaW9uX2lkID0gMjtcbiAgICovXG4gIHNlc3Npb25JZDogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiByZXBlYXRlZCBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5UcmFja1N1YnNjcmlwdGlvbkRldGFpbHMgdHJhY2tzID0gMztcbiAgICovXG4gIHRyYWNrczogVHJhY2tTdWJzY3JpcHRpb25EZXRhaWxzW107XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlVwZGF0ZVN1YnNjcmlwdGlvbnNSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFVwZGF0ZVN1YnNjcmlwdGlvbnNSZXNwb25zZSB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkVycm9yIGVycm9yID0gNDtcbiAgICovXG4gIGVycm9yPzogRXJyb3I7XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlRyYWNrU3Vic2NyaXB0aW9uRGV0YWlsc1xuICovXG5leHBvcnQgaW50ZXJmYWNlIFRyYWNrU3Vic2NyaXB0aW9uRGV0YWlscyB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyB1c2VyX2lkID0gMTtcbiAgICovXG4gIHVzZXJJZDogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgc2Vzc2lvbl9pZCA9IDI7XG4gICAqL1xuICBzZXNzaW9uSWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVHJhY2tUeXBlIHRyYWNrX3R5cGUgPSAzO1xuICAgKi9cbiAgdHJhY2tUeXBlOiBUcmFja1R5cGU7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlZpZGVvRGltZW5zaW9uIGRpbWVuc2lvbiA9IDQ7XG4gICAqL1xuICBkaW1lbnNpb24/OiBWaWRlb0RpbWVuc2lvbjtcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU2VuZEFuc3dlclJlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTZW5kQW5zd2VyUmVxdWVzdCB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlBlZXJUeXBlIHBlZXJfdHlwZSA9IDE7XG4gICAqL1xuICBwZWVyVHlwZTogUGVlclR5cGU7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBzZHAgPSAyO1xuICAgKi9cbiAgc2RwOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBzZXNzaW9uX2lkID0gMztcbiAgICovXG4gIHNlc3Npb25JZDogc3RyaW5nO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TZW5kQW5zd2VyUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTZW5kQW5zd2VyUmVzcG9uc2Uge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5FcnJvciBlcnJvciA9IDQ7XG4gICAqL1xuICBlcnJvcj86IEVycm9yO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5JQ0VUcmlja2xlUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBJQ0VUcmlja2xlUmVzcG9uc2Uge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5FcnJvciBlcnJvciA9IDQ7XG4gICAqL1xuICBlcnJvcj86IEVycm9yO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TZXRQdWJsaXNoZXJSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU2V0UHVibGlzaGVyUmVxdWVzdCB7XG4gIC8qKlxuICAgKiBzZHAgb2ZmZXJcbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgc2RwID0gMTtcbiAgICovXG4gIHNkcDogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgc2Vzc2lvbl9pZCA9IDI7XG4gICAqL1xuICBzZXNzaW9uSWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogcmVwZWF0ZWQgc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVHJhY2tJbmZvIHRyYWNrcyA9IDM7XG4gICAqL1xuICB0cmFja3M6IFRyYWNrSW5mb1tdO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TZXRQdWJsaXNoZXJSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFNldFB1Ymxpc2hlclJlc3BvbnNlIHtcbiAgLyoqXG4gICAqIHNkcCBhbnN3ZXJcbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgc2RwID0gMTtcbiAgICovXG4gIHNkcDogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgc2Vzc2lvbl9pZCA9IDI7XG4gICAqL1xuICBzZXNzaW9uSWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogYm9vbCBpY2VfcmVzdGFydCA9IDM7XG4gICAqL1xuICBpY2VSZXN0YXJ0OiBib29sZWFuO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5FcnJvciBlcnJvciA9IDQ7XG4gICAqL1xuICBlcnJvcj86IEVycm9yO1xufVxuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgU3RhcnROb2lzZUNhbmNlbGxhdGlvblJlcXVlc3QkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFN0YXJ0Tm9pc2VDYW5jZWxsYXRpb25SZXF1ZXN0PiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TdGFydE5vaXNlQ2FuY2VsbGF0aW9uUmVxdWVzdCcsIFtcbiAgICAgIHsgbm86IDEsIG5hbWU6ICdzZXNzaW9uX2lkJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TdGFydE5vaXNlQ2FuY2VsbGF0aW9uUmVxdWVzdFxuICovXG5leHBvcnQgY29uc3QgU3RhcnROb2lzZUNhbmNlbGxhdGlvblJlcXVlc3QgPVxuICBuZXcgU3RhcnROb2lzZUNhbmNlbGxhdGlvblJlcXVlc3QkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgU3RhcnROb2lzZUNhbmNlbGxhdGlvblJlc3BvbnNlJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxTdGFydE5vaXNlQ2FuY2VsbGF0aW9uUmVzcG9uc2U+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuc2lnbmFsLlN0YXJ0Tm9pc2VDYW5jZWxsYXRpb25SZXNwb25zZScsIFtcbiAgICAgIHsgbm86IDEsIG5hbWU6ICdlcnJvcicsIGtpbmQ6ICdtZXNzYWdlJywgVDogKCkgPT4gRXJyb3IgfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlN0YXJ0Tm9pc2VDYW5jZWxsYXRpb25SZXNwb25zZVxuICovXG5leHBvcnQgY29uc3QgU3RhcnROb2lzZUNhbmNlbGxhdGlvblJlc3BvbnNlID1cbiAgbmV3IFN0YXJ0Tm9pc2VDYW5jZWxsYXRpb25SZXNwb25zZSRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBTdG9wTm9pc2VDYW5jZWxsYXRpb25SZXF1ZXN0JFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxTdG9wTm9pc2VDYW5jZWxsYXRpb25SZXF1ZXN0PiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TdG9wTm9pc2VDYW5jZWxsYXRpb25SZXF1ZXN0JywgW1xuICAgICAgeyBubzogMSwgbmFtZTogJ3Nlc3Npb25faWQnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlN0b3BOb2lzZUNhbmNlbGxhdGlvblJlcXVlc3RcbiAqL1xuZXhwb3J0IGNvbnN0IFN0b3BOb2lzZUNhbmNlbGxhdGlvblJlcXVlc3QgPVxuICBuZXcgU3RvcE5vaXNlQ2FuY2VsbGF0aW9uUmVxdWVzdCRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBTdG9wTm9pc2VDYW5jZWxsYXRpb25SZXNwb25zZSRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8U3RvcE5vaXNlQ2FuY2VsbGF0aW9uUmVzcG9uc2U+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuc2lnbmFsLlN0b3BOb2lzZUNhbmNlbGxhdGlvblJlc3BvbnNlJywgW1xuICAgICAgeyBubzogMSwgbmFtZTogJ2Vycm9yJywga2luZDogJ21lc3NhZ2UnLCBUOiAoKSA9PiBFcnJvciB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU3RvcE5vaXNlQ2FuY2VsbGF0aW9uUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGNvbnN0IFN0b3BOb2lzZUNhbmNlbGxhdGlvblJlc3BvbnNlID1cbiAgbmV3IFN0b3BOb2lzZUNhbmNlbGxhdGlvblJlc3BvbnNlJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIFJlY29ubmVjdGlvbiRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8UmVjb25uZWN0aW9uPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5SZWNvbm5lY3Rpb24nLCBbXG4gICAgICB7XG4gICAgICAgIG5vOiAxLFxuICAgICAgICBuYW1lOiAndGltZV9zZWNvbmRzJyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIFQ6IDIgLypTY2FsYXJUeXBlLkZMT0FUKi8sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogMixcbiAgICAgICAgbmFtZTogJ3N0cmF0ZWd5JyxcbiAgICAgICAga2luZDogJ2VudW0nLFxuICAgICAgICBUOiAoKSA9PiBbXG4gICAgICAgICAgJ3N0cmVhbS52aWRlby5zZnUubW9kZWxzLldlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5JyxcbiAgICAgICAgICBXZWJzb2NrZXRSZWNvbm5lY3RTdHJhdGVneSxcbiAgICAgICAgICAnV0VCU09DS0VUX1JFQ09OTkVDVF9TVFJBVEVHWV8nLFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlJlY29ubmVjdGlvblxuICovXG5leHBvcnQgY29uc3QgUmVjb25uZWN0aW9uID0gbmV3IFJlY29ubmVjdGlvbiRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBUZWxlbWV0cnkkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFRlbGVtZXRyeT4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuVGVsZW1ldHJ5JywgW1xuICAgICAge1xuICAgICAgICBubzogMSxcbiAgICAgICAgbmFtZTogJ2Nvbm5lY3Rpb25fdGltZV9zZWNvbmRzJyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIG9uZW9mOiAnZGF0YScsXG4gICAgICAgIFQ6IDIgLypTY2FsYXJUeXBlLkZMT0FUKi8sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogMixcbiAgICAgICAgbmFtZTogJ3JlY29ubmVjdGlvbicsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgb25lb2Y6ICdkYXRhJyxcbiAgICAgICAgVDogKCkgPT4gUmVjb25uZWN0aW9uLFxuICAgICAgfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlRlbGVtZXRyeVxuICovXG5leHBvcnQgY29uc3QgVGVsZW1ldHJ5ID0gbmV3IFRlbGVtZXRyeSRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBTZW5kU3RhdHNSZXF1ZXN0JFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxTZW5kU3RhdHNSZXF1ZXN0PiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TZW5kU3RhdHNSZXF1ZXN0JywgW1xuICAgICAgeyBubzogMSwgbmFtZTogJ3Nlc3Npb25faWQnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDIsXG4gICAgICAgIG5hbWU6ICdzdWJzY3JpYmVyX3N0YXRzJyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDMsXG4gICAgICAgIG5hbWU6ICdwdWJsaXNoZXJfc3RhdHMnLFxuICAgICAgICBraW5kOiAnc2NhbGFyJyxcbiAgICAgICAgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogNCxcbiAgICAgICAgbmFtZTogJ3dlYnJ0Y192ZXJzaW9uJyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovLFxuICAgICAgfSxcbiAgICAgIHsgbm86IDUsIG5hbWU6ICdzZGsnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDYsXG4gICAgICAgIG5hbWU6ICdzZGtfdmVyc2lvbicsXG4gICAgICAgIGtpbmQ6ICdzY2FsYXInLFxuICAgICAgICBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyxcbiAgICAgIH0sXG4gICAgICB7IG5vOiA3LCBuYW1lOiAnYXVkaW9fZGV2aWNlcycsIGtpbmQ6ICdtZXNzYWdlJywgVDogKCkgPT4gSW5wdXREZXZpY2VzIH0sXG4gICAgICB7IG5vOiA4LCBuYW1lOiAndmlkZW9fZGV2aWNlcycsIGtpbmQ6ICdtZXNzYWdlJywgVDogKCkgPT4gSW5wdXREZXZpY2VzIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiA5LFxuICAgICAgICBuYW1lOiAnYW5kcm9pZCcsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgb25lb2Y6ICdkZXZpY2VTdGF0ZScsXG4gICAgICAgIFQ6ICgpID0+IEFuZHJvaWRTdGF0ZSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAxMCxcbiAgICAgICAgbmFtZTogJ2FwcGxlJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICBvbmVvZjogJ2RldmljZVN0YXRlJyxcbiAgICAgICAgVDogKCkgPT4gQXBwbGVTdGF0ZSxcbiAgICAgIH0sXG4gICAgICB7IG5vOiAxMSwgbmFtZTogJ3RlbGVtZXRyeScsIGtpbmQ6ICdtZXNzYWdlJywgVDogKCkgPT4gVGVsZW1ldHJ5IH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TZW5kU3RhdHNSZXF1ZXN0XG4gKi9cbmV4cG9ydCBjb25zdCBTZW5kU3RhdHNSZXF1ZXN0ID0gbmV3IFNlbmRTdGF0c1JlcXVlc3QkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgU2VuZFN0YXRzUmVzcG9uc2UkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFNlbmRTdGF0c1Jlc3BvbnNlPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TZW5kU3RhdHNSZXNwb25zZScsIFtcbiAgICAgIHsgbm86IDEsIG5hbWU6ICdlcnJvcicsIGtpbmQ6ICdtZXNzYWdlJywgVDogKCkgPT4gRXJyb3IgfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlNlbmRTdGF0c1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBjb25zdCBTZW5kU3RhdHNSZXNwb25zZSA9IG5ldyBTZW5kU3RhdHNSZXNwb25zZSRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBJQ0VSZXN0YXJ0UmVxdWVzdCRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8SUNFUmVzdGFydFJlcXVlc3Q+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuc2lnbmFsLklDRVJlc3RhcnRSZXF1ZXN0JywgW1xuICAgICAgeyBubzogMSwgbmFtZTogJ3Nlc3Npb25faWQnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDIsXG4gICAgICAgIG5hbWU6ICdwZWVyX3R5cGUnLFxuICAgICAgICBraW5kOiAnZW51bScsXG4gICAgICAgIFQ6ICgpID0+IFsnc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuUGVlclR5cGUnLCBQZWVyVHlwZSwgJ1BFRVJfVFlQRV8nXSxcbiAgICAgIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5JQ0VSZXN0YXJ0UmVxdWVzdFxuICovXG5leHBvcnQgY29uc3QgSUNFUmVzdGFydFJlcXVlc3QgPSBuZXcgSUNFUmVzdGFydFJlcXVlc3QkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgSUNFUmVzdGFydFJlc3BvbnNlJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxJQ0VSZXN0YXJ0UmVzcG9uc2U+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuc2lnbmFsLklDRVJlc3RhcnRSZXNwb25zZScsIFtcbiAgICAgIHsgbm86IDEsIG5hbWU6ICdlcnJvcicsIGtpbmQ6ICdtZXNzYWdlJywgVDogKCkgPT4gRXJyb3IgfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLklDRVJlc3RhcnRSZXNwb25zZVxuICovXG5leHBvcnQgY29uc3QgSUNFUmVzdGFydFJlc3BvbnNlID0gbmV3IElDRVJlc3RhcnRSZXNwb25zZSRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBVcGRhdGVNdXRlU3RhdGVzUmVxdWVzdCRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8VXBkYXRlTXV0ZVN0YXRlc1JlcXVlc3Q+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuc2lnbmFsLlVwZGF0ZU11dGVTdGF0ZXNSZXF1ZXN0JywgW1xuICAgICAgeyBubzogMSwgbmFtZTogJ3Nlc3Npb25faWQnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDMsXG4gICAgICAgIG5hbWU6ICdtdXRlX3N0YXRlcycsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgcmVwZWF0OiAxIC8qUmVwZWF0VHlwZS5QQUNLRUQqLyxcbiAgICAgICAgVDogKCkgPT4gVHJhY2tNdXRlU3RhdGUsXG4gICAgICB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuVXBkYXRlTXV0ZVN0YXRlc1JlcXVlc3RcbiAqL1xuZXhwb3J0IGNvbnN0IFVwZGF0ZU11dGVTdGF0ZXNSZXF1ZXN0ID0gbmV3IFVwZGF0ZU11dGVTdGF0ZXNSZXF1ZXN0JFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIFVwZGF0ZU11dGVTdGF0ZXNSZXNwb25zZSRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8VXBkYXRlTXV0ZVN0YXRlc1Jlc3BvbnNlPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5VcGRhdGVNdXRlU3RhdGVzUmVzcG9uc2UnLCBbXG4gICAgICB7IG5vOiA0LCBuYW1lOiAnZXJyb3InLCBraW5kOiAnbWVzc2FnZScsIFQ6ICgpID0+IEVycm9yIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5VcGRhdGVNdXRlU3RhdGVzUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGNvbnN0IFVwZGF0ZU11dGVTdGF0ZXNSZXNwb25zZSA9IG5ldyBVcGRhdGVNdXRlU3RhdGVzUmVzcG9uc2UkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgVHJhY2tNdXRlU3RhdGUkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFRyYWNrTXV0ZVN0YXRlPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5UcmFja011dGVTdGF0ZScsIFtcbiAgICAgIHtcbiAgICAgICAgbm86IDEsXG4gICAgICAgIG5hbWU6ICd0cmFja190eXBlJyxcbiAgICAgICAga2luZDogJ2VudW0nLFxuICAgICAgICBUOiAoKSA9PiBbXG4gICAgICAgICAgJ3N0cmVhbS52aWRlby5zZnUubW9kZWxzLlRyYWNrVHlwZScsXG4gICAgICAgICAgVHJhY2tUeXBlLFxuICAgICAgICAgICdUUkFDS19UWVBFXycsXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgICAgeyBubzogMiwgbmFtZTogJ211dGVkJywga2luZDogJ3NjYWxhcicsIFQ6IDggLypTY2FsYXJUeXBlLkJPT0wqLyB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuVHJhY2tNdXRlU3RhdGVcbiAqL1xuZXhwb3J0IGNvbnN0IFRyYWNrTXV0ZVN0YXRlID0gbmV3IFRyYWNrTXV0ZVN0YXRlJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIEF1ZGlvTXV0ZUNoYW5nZWQkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPEF1ZGlvTXV0ZUNoYW5nZWQ+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuc2lnbmFsLkF1ZGlvTXV0ZUNoYW5nZWQnLCBbXG4gICAgICB7IG5vOiAxLCBuYW1lOiAnbXV0ZWQnLCBraW5kOiAnc2NhbGFyJywgVDogOCAvKlNjYWxhclR5cGUuQk9PTCovIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5BdWRpb011dGVDaGFuZ2VkXG4gKi9cbmV4cG9ydCBjb25zdCBBdWRpb011dGVDaGFuZ2VkID0gbmV3IEF1ZGlvTXV0ZUNoYW5nZWQkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgVmlkZW9NdXRlQ2hhbmdlZCRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8VmlkZW9NdXRlQ2hhbmdlZD4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuVmlkZW9NdXRlQ2hhbmdlZCcsIFtcbiAgICAgIHsgbm86IDIsIG5hbWU6ICdtdXRlZCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA4IC8qU2NhbGFyVHlwZS5CT09MKi8gfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlZpZGVvTXV0ZUNoYW5nZWRcbiAqL1xuZXhwb3J0IGNvbnN0IFZpZGVvTXV0ZUNoYW5nZWQgPSBuZXcgVmlkZW9NdXRlQ2hhbmdlZCRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBVcGRhdGVTdWJzY3JpcHRpb25zUmVxdWVzdCRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8VXBkYXRlU3Vic2NyaXB0aW9uc1JlcXVlc3Q+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuc2lnbmFsLlVwZGF0ZVN1YnNjcmlwdGlvbnNSZXF1ZXN0JywgW1xuICAgICAgeyBubzogMiwgbmFtZTogJ3Nlc3Npb25faWQnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDMsXG4gICAgICAgIG5hbWU6ICd0cmFja3MnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIHJlcGVhdDogMSAvKlJlcGVhdFR5cGUuUEFDS0VEKi8sXG4gICAgICAgIFQ6ICgpID0+IFRyYWNrU3Vic2NyaXB0aW9uRGV0YWlscyxcbiAgICAgIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5VcGRhdGVTdWJzY3JpcHRpb25zUmVxdWVzdFxuICovXG5leHBvcnQgY29uc3QgVXBkYXRlU3Vic2NyaXB0aW9uc1JlcXVlc3QgPSBuZXcgVXBkYXRlU3Vic2NyaXB0aW9uc1JlcXVlc3QkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgVXBkYXRlU3Vic2NyaXB0aW9uc1Jlc3BvbnNlJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxVcGRhdGVTdWJzY3JpcHRpb25zUmVzcG9uc2U+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuc2lnbmFsLlVwZGF0ZVN1YnNjcmlwdGlvbnNSZXNwb25zZScsIFtcbiAgICAgIHsgbm86IDQsIG5hbWU6ICdlcnJvcicsIGtpbmQ6ICdtZXNzYWdlJywgVDogKCkgPT4gRXJyb3IgfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlVwZGF0ZVN1YnNjcmlwdGlvbnNSZXNwb25zZVxuICovXG5leHBvcnQgY29uc3QgVXBkYXRlU3Vic2NyaXB0aW9uc1Jlc3BvbnNlID1cbiAgbmV3IFVwZGF0ZVN1YnNjcmlwdGlvbnNSZXNwb25zZSRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBUcmFja1N1YnNjcmlwdGlvbkRldGFpbHMkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFRyYWNrU3Vic2NyaXB0aW9uRGV0YWlscz4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuVHJhY2tTdWJzY3JpcHRpb25EZXRhaWxzJywgW1xuICAgICAgeyBubzogMSwgbmFtZTogJ3VzZXJfaWQnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHsgbm86IDIsIG5hbWU6ICdzZXNzaW9uX2lkJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAzLFxuICAgICAgICBuYW1lOiAndHJhY2tfdHlwZScsXG4gICAgICAgIGtpbmQ6ICdlbnVtJyxcbiAgICAgICAgVDogKCkgPT4gW1xuICAgICAgICAgICdzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5UcmFja1R5cGUnLFxuICAgICAgICAgIFRyYWNrVHlwZSxcbiAgICAgICAgICAnVFJBQ0tfVFlQRV8nLFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICAgIHsgbm86IDQsIG5hbWU6ICdkaW1lbnNpb24nLCBraW5kOiAnbWVzc2FnZScsIFQ6ICgpID0+IFZpZGVvRGltZW5zaW9uIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5UcmFja1N1YnNjcmlwdGlvbkRldGFpbHNcbiAqL1xuZXhwb3J0IGNvbnN0IFRyYWNrU3Vic2NyaXB0aW9uRGV0YWlscyA9IG5ldyBUcmFja1N1YnNjcmlwdGlvbkRldGFpbHMkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgU2VuZEFuc3dlclJlcXVlc3QkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFNlbmRBbnN3ZXJSZXF1ZXN0PiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TZW5kQW5zd2VyUmVxdWVzdCcsIFtcbiAgICAgIHtcbiAgICAgICAgbm86IDEsXG4gICAgICAgIG5hbWU6ICdwZWVyX3R5cGUnLFxuICAgICAgICBraW5kOiAnZW51bScsXG4gICAgICAgIFQ6ICgpID0+IFsnc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuUGVlclR5cGUnLCBQZWVyVHlwZSwgJ1BFRVJfVFlQRV8nXSxcbiAgICAgIH0sXG4gICAgICB7IG5vOiAyLCBuYW1lOiAnc2RwJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7IG5vOiAzLCBuYW1lOiAnc2Vzc2lvbl9pZCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU2VuZEFuc3dlclJlcXVlc3RcbiAqL1xuZXhwb3J0IGNvbnN0IFNlbmRBbnN3ZXJSZXF1ZXN0ID0gbmV3IFNlbmRBbnN3ZXJSZXF1ZXN0JFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIFNlbmRBbnN3ZXJSZXNwb25zZSRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8U2VuZEFuc3dlclJlc3BvbnNlPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TZW5kQW5zd2VyUmVzcG9uc2UnLCBbXG4gICAgICB7IG5vOiA0LCBuYW1lOiAnZXJyb3InLCBraW5kOiAnbWVzc2FnZScsIFQ6ICgpID0+IEVycm9yIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TZW5kQW5zd2VyUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGNvbnN0IFNlbmRBbnN3ZXJSZXNwb25zZSA9IG5ldyBTZW5kQW5zd2VyUmVzcG9uc2UkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgSUNFVHJpY2tsZVJlc3BvbnNlJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxJQ0VUcmlja2xlUmVzcG9uc2U+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuc2lnbmFsLklDRVRyaWNrbGVSZXNwb25zZScsIFtcbiAgICAgIHsgbm86IDQsIG5hbWU6ICdlcnJvcicsIGtpbmQ6ICdtZXNzYWdlJywgVDogKCkgPT4gRXJyb3IgfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLklDRVRyaWNrbGVSZXNwb25zZVxuICovXG5leHBvcnQgY29uc3QgSUNFVHJpY2tsZVJlc3BvbnNlID0gbmV3IElDRVRyaWNrbGVSZXNwb25zZSRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBTZXRQdWJsaXNoZXJSZXF1ZXN0JFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxTZXRQdWJsaXNoZXJSZXF1ZXN0PiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TZXRQdWJsaXNoZXJSZXF1ZXN0JywgW1xuICAgICAgeyBubzogMSwgbmFtZTogJ3NkcCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAgeyBubzogMiwgbmFtZTogJ3Nlc3Npb25faWQnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDMsXG4gICAgICAgIG5hbWU6ICd0cmFja3MnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIHJlcGVhdDogMSAvKlJlcGVhdFR5cGUuUEFDS0VEKi8sXG4gICAgICAgIFQ6ICgpID0+IFRyYWNrSW5mbyxcbiAgICAgIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TZXRQdWJsaXNoZXJSZXF1ZXN0XG4gKi9cbmV4cG9ydCBjb25zdCBTZXRQdWJsaXNoZXJSZXF1ZXN0ID0gbmV3IFNldFB1Ymxpc2hlclJlcXVlc3QkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgU2V0UHVibGlzaGVyUmVzcG9uc2UkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFNldFB1Ymxpc2hlclJlc3BvbnNlPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TZXRQdWJsaXNoZXJSZXNwb25zZScsIFtcbiAgICAgIHsgbm86IDEsIG5hbWU6ICdzZHAnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHsgbm86IDIsIG5hbWU6ICdzZXNzaW9uX2lkJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7IG5vOiAzLCBuYW1lOiAnaWNlX3Jlc3RhcnQnLCBraW5kOiAnc2NhbGFyJywgVDogOCAvKlNjYWxhclR5cGUuQk9PTCovIH0sXG4gICAgICB7IG5vOiA0LCBuYW1lOiAnZXJyb3InLCBraW5kOiAnbWVzc2FnZScsIFQ6ICgpID0+IEVycm9yIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TZXRQdWJsaXNoZXJSZXNwb25zZVxuICovXG5leHBvcnQgY29uc3QgU2V0UHVibGlzaGVyUmVzcG9uc2UgPSBuZXcgU2V0UHVibGlzaGVyUmVzcG9uc2UkVHlwZSgpO1xuLyoqXG4gKiBAZ2VuZXJhdGVkIFNlcnZpY2VUeXBlIGZvciBwcm90b2J1ZiBzZXJ2aWNlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlNpZ25hbFNlcnZlclxuICovXG5leHBvcnQgY29uc3QgU2lnbmFsU2VydmVyID0gbmV3IFNlcnZpY2VUeXBlKFxuICAnc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU2lnbmFsU2VydmVyJyxcbiAgW1xuICAgIHtcbiAgICAgIG5hbWU6ICdTZXRQdWJsaXNoZXInLFxuICAgICAgb3B0aW9uczoge30sXG4gICAgICBJOiBTZXRQdWJsaXNoZXJSZXF1ZXN0LFxuICAgICAgTzogU2V0UHVibGlzaGVyUmVzcG9uc2UsXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiAnU2VuZEFuc3dlcicsXG4gICAgICBvcHRpb25zOiB7fSxcbiAgICAgIEk6IFNlbmRBbnN3ZXJSZXF1ZXN0LFxuICAgICAgTzogU2VuZEFuc3dlclJlc3BvbnNlLFxuICAgIH0sXG4gICAgeyBuYW1lOiAnSWNlVHJpY2tsZScsIG9wdGlvbnM6IHt9LCBJOiBJQ0VUcmlja2xlLCBPOiBJQ0VUcmlja2xlUmVzcG9uc2UgfSxcbiAgICB7XG4gICAgICBuYW1lOiAnVXBkYXRlU3Vic2NyaXB0aW9ucycsXG4gICAgICBvcHRpb25zOiB7fSxcbiAgICAgIEk6IFVwZGF0ZVN1YnNjcmlwdGlvbnNSZXF1ZXN0LFxuICAgICAgTzogVXBkYXRlU3Vic2NyaXB0aW9uc1Jlc3BvbnNlLFxuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogJ1VwZGF0ZU11dGVTdGF0ZXMnLFxuICAgICAgb3B0aW9uczoge30sXG4gICAgICBJOiBVcGRhdGVNdXRlU3RhdGVzUmVxdWVzdCxcbiAgICAgIE86IFVwZGF0ZU11dGVTdGF0ZXNSZXNwb25zZSxcbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICdJY2VSZXN0YXJ0JyxcbiAgICAgIG9wdGlvbnM6IHt9LFxuICAgICAgSTogSUNFUmVzdGFydFJlcXVlc3QsXG4gICAgICBPOiBJQ0VSZXN0YXJ0UmVzcG9uc2UsXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiAnU2VuZFN0YXRzJyxcbiAgICAgIG9wdGlvbnM6IHt9LFxuICAgICAgSTogU2VuZFN0YXRzUmVxdWVzdCxcbiAgICAgIE86IFNlbmRTdGF0c1Jlc3BvbnNlLFxuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogJ1N0YXJ0Tm9pc2VDYW5jZWxsYXRpb24nLFxuICAgICAgb3B0aW9uczoge30sXG4gICAgICBJOiBTdGFydE5vaXNlQ2FuY2VsbGF0aW9uUmVxdWVzdCxcbiAgICAgIE86IFN0YXJ0Tm9pc2VDYW5jZWxsYXRpb25SZXNwb25zZSxcbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICdTdG9wTm9pc2VDYW5jZWxsYXRpb24nLFxuICAgICAgb3B0aW9uczoge30sXG4gICAgICBJOiBTdG9wTm9pc2VDYW5jZWxsYXRpb25SZXF1ZXN0LFxuICAgICAgTzogU3RvcE5vaXNlQ2FuY2VsbGF0aW9uUmVzcG9uc2UsXG4gICAgfSxcbiAgXSxcbik7XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuLy8gQGdlbmVyYXRlZCBieSBwcm90b2J1Zi10cyAyLjkuNCB3aXRoIHBhcmFtZXRlciBsb25nX3R5cGVfc3RyaW5nLGNsaWVudF9nZW5lcmljLHNlcnZlcl9ub25lLGVzbGludF9kaXNhYmxlLG9wdGltaXplX2NvZGVfc2l6ZVxuLy8gQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpbGUgXCJ2aWRlby9zZnUvZXZlbnQvZXZlbnRzLnByb3RvXCIgKHBhY2thZ2UgXCJzdHJlYW0udmlkZW8uc2Z1LmV2ZW50XCIsIHN5bnRheCBwcm90bzMpXG4vLyB0c2xpbnQ6ZGlzYWJsZVxuaW1wb3J0IHsgTWVzc2FnZVR5cGUgfSBmcm9tICdAcHJvdG9idWYtdHMvcnVudGltZSc7XG5pbXBvcnQgeyBDYWxsRW5kZWRSZWFzb24gfSBmcm9tICcuLi9tb2RlbHMvbW9kZWxzJztcbmltcG9ydCB7IEdvQXdheVJlYXNvbiB9IGZyb20gJy4uL21vZGVscy9tb2RlbHMnO1xuaW1wb3J0IHsgQ2FsbEdyYW50cyB9IGZyb20gJy4uL21vZGVscy9tb2RlbHMnO1xuaW1wb3J0IHsgQ29kZWMgfSBmcm9tICcuLi9tb2RlbHMvbW9kZWxzJztcbmltcG9ydCB7IENvbm5lY3Rpb25RdWFsaXR5IH0gZnJvbSAnLi4vbW9kZWxzL21vZGVscyc7XG5pbXBvcnQgeyBQdWJsaXNoT3B0aW9ucyB9IGZyb20gJy4uL21vZGVscy9tb2RlbHMnO1xuaW1wb3J0IHsgQ2FsbFN0YXRlIH0gZnJvbSAnLi4vbW9kZWxzL21vZGVscyc7XG5pbXBvcnQgeyBUcmFja1N1YnNjcmlwdGlvbkRldGFpbHMgfSBmcm9tICcuLi9zaWduYWxfcnBjL3NpZ25hbCc7XG5pbXBvcnQgeyBUcmFja0luZm8gfSBmcm9tICcuLi9tb2RlbHMvbW9kZWxzJztcbmltcG9ydCB7IENsaWVudERldGFpbHMgfSBmcm9tICcuLi9tb2RlbHMvbW9kZWxzJztcbmltcG9ydCB7IFRyYWNrVW5wdWJsaXNoUmVhc29uIH0gZnJvbSAnLi4vbW9kZWxzL21vZGVscyc7XG5pbXBvcnQgeyBQYXJ0aWNpcGFudCB9IGZyb20gJy4uL21vZGVscy9tb2RlbHMnO1xuaW1wb3J0IHsgVHJhY2tUeXBlIH0gZnJvbSAnLi4vbW9kZWxzL21vZGVscyc7XG5pbXBvcnQgeyBQYXJ0aWNpcGFudENvdW50IH0gZnJvbSAnLi4vbW9kZWxzL21vZGVscyc7XG5pbXBvcnQgeyBQZWVyVHlwZSB9IGZyb20gJy4uL21vZGVscy9tb2RlbHMnO1xuaW1wb3J0IHsgV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3kgfSBmcm9tICcuLi9tb2RlbHMvbW9kZWxzJztcbmltcG9ydCB7IEVycm9yIGFzIEVycm9yJCB9IGZyb20gJy4uL21vZGVscy9tb2RlbHMnO1xuaW1wb3J0IHsgUGluIH0gZnJvbSAnLi4vbW9kZWxzL21vZGVscyc7XG5pbXBvcnQgeyBQdWJsaXNoT3B0aW9uIH0gZnJvbSAnLi4vbW9kZWxzL21vZGVscyc7XG5pbXBvcnQgeyBJQ0VUcmlja2xlIGFzIElDRVRyaWNrbGUkIH0gZnJvbSAnLi4vbW9kZWxzL21vZGVscyc7XG4vKipcbiAqIFNGVUV2ZW50IGlzIGEgbWVzc2FnZSB0aGF0IGlzIHNlbnQgZnJvbSB0aGUgU0ZVIHRvIHRoZSBjbGllbnQuXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5TZnVFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFNmdUV2ZW50IHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBvbmVvZjogZXZlbnRfcGF5bG9hZFxuICAgKi9cbiAgZXZlbnRQYXlsb2FkOlxuICAgIHwge1xuICAgICAgICBvbmVvZktpbmQ6ICdzdWJzY3JpYmVyT2ZmZXInO1xuICAgICAgICAvKipcbiAgICAgICAgICogU3Vic2NyaWJlck9mZmVyIHNlbmRzIHRoZSBTRFAgb2ZmZXIgZm9yIGVzdGFibGlzaGluZyB0aGVcbiAgICAgICAgICogc3Vic2NyaWJlciBQZWVyQ29ubmVjdGlvbi5cbiAgICAgICAgICpcbiAgICAgICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlN1YnNjcmliZXJPZmZlciBzdWJzY3JpYmVyX29mZmVyID0gMTtcbiAgICAgICAgICovXG4gICAgICAgIHN1YnNjcmliZXJPZmZlcjogU3Vic2NyaWJlck9mZmVyO1xuICAgICAgfVxuICAgIHwge1xuICAgICAgICBvbmVvZktpbmQ6ICdwdWJsaXNoZXJBbnN3ZXInO1xuICAgICAgICAvKipcbiAgICAgICAgICogUHVibGlzaGVyQW5zd2VyIHNlbmRzIHRoZSBTRFAgYW5zd2VyIHRvIHRoZSBvZmZlciBzZW50IGJ5XG4gICAgICAgICAqIHRoZSBjbGllbnQgZm9yIGVzdGFibGlzaGluZyB0aGUgUHVibGlzaGVyIFBlZXJDb25uZWN0aW9uLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUuZXZlbnQuUHVibGlzaGVyQW5zd2VyIHB1Ymxpc2hlcl9hbnN3ZXIgPSAyO1xuICAgICAgICAgKi9cbiAgICAgICAgcHVibGlzaGVyQW5zd2VyOiBQdWJsaXNoZXJBbnN3ZXI7XG4gICAgICB9XG4gICAgfCB7XG4gICAgICAgIG9uZW9mS2luZDogJ2Nvbm5lY3Rpb25RdWFsaXR5Q2hhbmdlZCc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb25uZWN0aW9uUXVhbGl0eUNoYW5nZWQgaXMgc2VudCB0byBpbmZvcm0gdGhlIGNvbm5lY3Rpb25cbiAgICAgICAgICogcXVhbGl0eSBvZiB0aGUgcGFydGljaXBhbnRzIGluIHRoZSBjYWxsLiBJdCBkb2VzIG5vdCBoYXZlXG4gICAgICAgICAqIHRvIGNvbnRhaW4gdGhlIGZ1bGwgbGlzdCBvZiBjYWxsIHBhcnRpY2lwYW50cyBpbiBpdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkNvbm5lY3Rpb25RdWFsaXR5Q2hhbmdlZCBjb25uZWN0aW9uX3F1YWxpdHlfY2hhbmdlZCA9IDM7XG4gICAgICAgICAqL1xuICAgICAgICBjb25uZWN0aW9uUXVhbGl0eUNoYW5nZWQ6IENvbm5lY3Rpb25RdWFsaXR5Q2hhbmdlZDtcbiAgICAgIH1cbiAgICB8IHtcbiAgICAgICAgb25lb2ZLaW5kOiAnYXVkaW9MZXZlbENoYW5nZWQnO1xuICAgICAgICAvKipcbiAgICAgICAgICogQXVkaW9MZXZlbENoYW5nZWQgaXMgc2VudCBmb3IgY2hhbmdlIGluIGF1ZGlvIGxldmVscyBvZlxuICAgICAgICAgKiB0aGUgcGFydGljaXBhbnRzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUuZXZlbnQuQXVkaW9MZXZlbENoYW5nZWQgYXVkaW9fbGV2ZWxfY2hhbmdlZCA9IDQ7XG4gICAgICAgICAqL1xuICAgICAgICBhdWRpb0xldmVsQ2hhbmdlZDogQXVkaW9MZXZlbENoYW5nZWQ7XG4gICAgICB9XG4gICAgfCB7XG4gICAgICAgIG9uZW9mS2luZDogJ2ljZVRyaWNrbGUnO1xuICAgICAgICAvKipcbiAgICAgICAgICogSUNFVHJpY2tsZSBjb250YWlucyB0aGUgSUNFIGNhbmRpZGF0ZSByZXF1aXJlZCB0byBlc3RhYmxpc2hcbiAgICAgICAgICogdGhlIElDRSB0cmFuc3BvcnQ6IHBhcnQgb2YgZXN0YWJsaXNoaW5nIHRoZSBQZWVyQ29ubmVjdGlvblxuICAgICAgICAgKiBhbmQgYWxzbyBmb3IgSUNFIHJlc3RhcnRzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLklDRVRyaWNrbGUgaWNlX3RyaWNrbGUgPSA1O1xuICAgICAgICAgKi9cbiAgICAgICAgaWNlVHJpY2tsZTogSUNFVHJpY2tsZSQ7XG4gICAgICB9XG4gICAgfCB7XG4gICAgICAgIG9uZW9mS2luZDogJ2NoYW5nZVB1Ymxpc2hRdWFsaXR5JztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENoYW5nZVB1Ymxpc2hRdWFsaXR5IGFkdmlzZXMgdGhlIHB1Ymxpc2hlciB0byBzd2l0Y2ggb24vb2ZmXG4gICAgICAgICAqIHZhcmlvdXMgcXVhbGl0aWVzIG9mIHRoZWlyIHZpZGVvIHN0cmVhbSBiYXNlZCBvbiB0aGUgc3Vic2NyaXB0aW9uLlxuICAgICAgICAgKiBUaGlzIGlzIGRvbmUgdG8gc2F2ZSB0aGUgYmFuZHdpZHRoIGFuZCB0aGUgQ1BVIG9mIHRoZSBwdWJsaXNoZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5DaGFuZ2VQdWJsaXNoUXVhbGl0eSBjaGFuZ2VfcHVibGlzaF9xdWFsaXR5ID0gNjtcbiAgICAgICAgICovXG4gICAgICAgIGNoYW5nZVB1Ymxpc2hRdWFsaXR5OiBDaGFuZ2VQdWJsaXNoUXVhbGl0eTtcbiAgICAgIH1cbiAgICB8IHtcbiAgICAgICAgb25lb2ZLaW5kOiAncGFydGljaXBhbnRKb2luZWQnO1xuICAgICAgICAvKipcbiAgICAgICAgICogUGFydGljaXBhbnRKb2luZWQgbm90aWZpZXMgdGhlIGNsaWVudCB0aGF0IGEgbmV3IHBhcnRpY2lwYW50XG4gICAgICAgICAqIGhhcyBqb2luZWQgdGhlIGNhbGwuIFRoaXMgaXMgbm90IHNlbnQgZm9yIGFub255bW91cyB1c2Vycy5cbiAgICAgICAgICpcbiAgICAgICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlBhcnRpY2lwYW50Sm9pbmVkIHBhcnRpY2lwYW50X2pvaW5lZCA9IDEwO1xuICAgICAgICAgKi9cbiAgICAgICAgcGFydGljaXBhbnRKb2luZWQ6IFBhcnRpY2lwYW50Sm9pbmVkO1xuICAgICAgfVxuICAgIHwge1xuICAgICAgICBvbmVvZktpbmQ6ICdwYXJ0aWNpcGFudExlZnQnO1xuICAgICAgICAvKipcbiAgICAgICAgICogUGFydGljaXBhbnRMZWZ0IG5vdGlmaWVzIHRoZSBjbGllbnQgdGhhdCBhIGNhbGwgcGFydGljaXBhbnRcbiAgICAgICAgICogaGFzIGxlZnQgdGhlIGNhbGwuIFRoaXMgaXMgbm90IHNlbnQgZm9yIGFub255bW91cyB1c2Vycy5cbiAgICAgICAgICpcbiAgICAgICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlBhcnRpY2lwYW50TGVmdCBwYXJ0aWNpcGFudF9sZWZ0ID0gMTE7XG4gICAgICAgICAqL1xuICAgICAgICBwYXJ0aWNpcGFudExlZnQ6IFBhcnRpY2lwYW50TGVmdDtcbiAgICAgIH1cbiAgICB8IHtcbiAgICAgICAgb25lb2ZLaW5kOiAnZG9taW5hbnRTcGVha2VyQ2hhbmdlZCc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEb21pbmFudFNwZWFrZXJDaGFuZ2VkIG5vdGlmaWVzIHRoZSBjbGllbnQgYWJvdXQgdGhlIGN1cnJlbnRcbiAgICAgICAgICogZG9taW5hbnQgc3BlYWtlci4gVGhpcyBpcyByZXF1aXJlZCBmb3IgY2VydGFpbiB1c2UgY2FzZXMgbGlrZVxuICAgICAgICAgKiB0aGUgc3BvdGxpZ2h0IHZpZXcuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5Eb21pbmFudFNwZWFrZXJDaGFuZ2VkIGRvbWluYW50X3NwZWFrZXJfY2hhbmdlZCA9IDEyO1xuICAgICAgICAgKi9cbiAgICAgICAgZG9taW5hbnRTcGVha2VyQ2hhbmdlZDogRG9taW5hbnRTcGVha2VyQ2hhbmdlZDtcbiAgICAgIH1cbiAgICB8IHtcbiAgICAgICAgb25lb2ZLaW5kOiAnam9pblJlc3BvbnNlJztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEpvaW5SZXNwb25zZSBhY2tub3dsZWRnZXMgYSBwYXJ0aWNpcGFudCBzdWNjZXNzZnVsbHkgam9pbmluZ1xuICAgICAgICAgKiB0aGUgY2FsbC4gVGhpcyBpcyBzZW50IGluIHJlc3BvbnNlIHRvIHRoZSBKb2luUmVxdWVzdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkpvaW5SZXNwb25zZSBqb2luX3Jlc3BvbnNlID0gMTM7XG4gICAgICAgICAqL1xuICAgICAgICBqb2luUmVzcG9uc2U6IEpvaW5SZXNwb25zZTtcbiAgICAgIH1cbiAgICB8IHtcbiAgICAgICAgb25lb2ZLaW5kOiAnaGVhbHRoQ2hlY2tSZXNwb25zZSc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBIZWFsdGhDaGVja1Jlc3BvbnNlIGlzIHNlbnQgaW4gcmVzcG9uc2UgdG8gdGhlIEhlYWx0aENoZWNrUmVxdWVzdC5cbiAgICAgICAgICogSXQgY29udGFpbnMgdGhlIHBhcnRpY2lwYW50IGNvdW50IGluIHRoZSBjYWxsLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUuZXZlbnQuSGVhbHRoQ2hlY2tSZXNwb25zZSBoZWFsdGhfY2hlY2tfcmVzcG9uc2UgPSAxNDtcbiAgICAgICAgICovXG4gICAgICAgIGhlYWx0aENoZWNrUmVzcG9uc2U6IEhlYWx0aENoZWNrUmVzcG9uc2U7XG4gICAgICB9XG4gICAgfCB7XG4gICAgICAgIG9uZW9mS2luZDogJ3RyYWNrUHVibGlzaGVkJztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRyYWNrUHVibGlzaGVkIGlzIHNlbnQgd2hlbiBhIG5ldyB0cmFjayAobGlrZSBhdWRpbywgdmlkZW8sIHNjcmVlbnNoYXJlKVxuICAgICAgICAgKiBpcyBwdWJsaXNoZWQgYnkgYSBwYXJ0aWNpcGFudCBpbiB0aGUgY2FsbC4gSXQgaXMgYWxzbyBzZW50IG9uIG11dGUvdW5tdXRlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUuZXZlbnQuVHJhY2tQdWJsaXNoZWQgdHJhY2tfcHVibGlzaGVkID0gMTY7XG4gICAgICAgICAqL1xuICAgICAgICB0cmFja1B1Ymxpc2hlZDogVHJhY2tQdWJsaXNoZWQ7XG4gICAgICB9XG4gICAgfCB7XG4gICAgICAgIG9uZW9mS2luZDogJ3RyYWNrVW5wdWJsaXNoZWQnO1xuICAgICAgICAvKipcbiAgICAgICAgICogVHJhY2tVbnB1Ymxpc2hlZCBpcyBzZW50IHdoZW4gYSB0cmFjayAobGlrZSBhdWRpbywgdmlkZW8sIHNjcmVlbnNoYXJlKVxuICAgICAgICAgKiBpcyBubyBsb25nZXIgcHVibGlzaGVkLiBJdCBpcyBzZW50IG9uIG11dGluZyBhIHRyYWNrIG9yIHdoZW4gdGhlIHBhcnRpY2lwYW50XG4gICAgICAgICAqIGlzIGxlYXZpbmcgdGhlIGNhbGwuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5UcmFja1VucHVibGlzaGVkIHRyYWNrX3VucHVibGlzaGVkID0gMTc7XG4gICAgICAgICAqL1xuICAgICAgICB0cmFja1VucHVibGlzaGVkOiBUcmFja1VucHVibGlzaGVkO1xuICAgICAgfVxuICAgIHwge1xuICAgICAgICBvbmVvZktpbmQ6ICdlcnJvcic7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFcnJvciBpcyB1c2VkIHRvIGNvbW11bmljYXRlIGFueSBlcnJvciByZWxhdGVkIHRvIHRoZSBwYXJ0aWNpcGFudC4gVGhlXG4gICAgICAgICAqIGVycm9yIGNvZGUgYW5kIHRoZSBtZXNzYWdlIGV4cGxhaW4gd2hhdCB3ZW50IHdyb25nLiBXaGV0aGVyIHRoZSBwYXJ0aWNpcGFudFxuICAgICAgICAgKiBjYW4gcmV0cnkgaXMgYWxzbyBpbmRpY2F0ZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5FcnJvciBlcnJvciA9IDE4O1xuICAgICAgICAgKi9cbiAgICAgICAgZXJyb3I6IEVycm9yO1xuICAgICAgfVxuICAgIHwge1xuICAgICAgICBvbmVvZktpbmQ6ICdjYWxsR3JhbnRzVXBkYXRlZCc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYWxsR3JhbnRzVXBkYXRlZCB0ZWxscyB3aGF0IHRyYWNrcyBhIHBhcnRpY2lwYW50IGlzIGFsbG93ZWQgdG8gcHVibGlzaC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkNhbGxHcmFudHNVcGRhdGVkIGNhbGxfZ3JhbnRzX3VwZGF0ZWQgPSAxOTtcbiAgICAgICAgICovXG4gICAgICAgIGNhbGxHcmFudHNVcGRhdGVkOiBDYWxsR3JhbnRzVXBkYXRlZDtcbiAgICAgIH1cbiAgICB8IHtcbiAgICAgICAgb25lb2ZLaW5kOiAnZ29Bd2F5JztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdvQXdheSB0ZWxscyB0aGUgY2xpZW50IHRvIG1pZ3JhdGUgYXdheSBmcm9tIHRoZSBTRlUgaXQgaXMgY29ubmVjdGVkIHRvLlxuICAgICAgICAgKiBUaGUgcmVhc29uIGZpZWxkIGluZGljYXRlcyB3aHkgdGhpcyBtZXNzYWdlIHdhcyBzZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUuZXZlbnQuR29Bd2F5IGdvX2F3YXkgPSAyMDtcbiAgICAgICAgICovXG4gICAgICAgIGdvQXdheTogR29Bd2F5O1xuICAgICAgfVxuICAgIHwge1xuICAgICAgICBvbmVvZktpbmQ6ICdpY2VSZXN0YXJ0JztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElDRVJlc3RhcnQgdGVsbHMgdGhlIGNsaWVudCB0byBwZXJmb3JtIElDRSByZXN0YXJ0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUuZXZlbnQuSUNFUmVzdGFydCBpY2VfcmVzdGFydCA9IDIxO1xuICAgICAgICAgKi9cbiAgICAgICAgaWNlUmVzdGFydDogSUNFUmVzdGFydDtcbiAgICAgIH1cbiAgICB8IHtcbiAgICAgICAgb25lb2ZLaW5kOiAncGluc1VwZGF0ZWQnO1xuICAgICAgICAvKipcbiAgICAgICAgICogUGluc0NoYW5nZWQgaXMgc2VudCB0aGUgbGlzdCBvZiBwaW5zIGluIHRoZSBjYWxsIGNoYW5nZXMuIFRoaXMgZXZlbnQgY29udGFpbnMgdGhlIGVudGlyZSBsaXN0IG9mIHBpbnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5QaW5zQ2hhbmdlZCBwaW5zX3VwZGF0ZWQgPSAyMjtcbiAgICAgICAgICovXG4gICAgICAgIHBpbnNVcGRhdGVkOiBQaW5zQ2hhbmdlZDtcbiAgICAgIH1cbiAgICB8IHtcbiAgICAgICAgb25lb2ZLaW5kOiAnY2FsbEVuZGVkJztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhbGxFbmRlZCBpcyBzZW50IGJ5IHRoZSBTRlUgdG8gdGhlIGNsaWVudCB0byBzaWduYWwgdGhhdCB0aGUgY2FsbCBoYXMgZW5kZWQuXG4gICAgICAgICAqIFRoZSByZWFzb24gbWF5IHNwZWNpZnkgd2h5IHRoZSBjYWxsIGhhcyBlbmRlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkNhbGxFbmRlZCBjYWxsX2VuZGVkID0gMjM7XG4gICAgICAgICAqL1xuICAgICAgICBjYWxsRW5kZWQ6IENhbGxFbmRlZDtcbiAgICAgIH1cbiAgICB8IHtcbiAgICAgICAgb25lb2ZLaW5kOiAncGFydGljaXBhbnRVcGRhdGVkJztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBhcnRpY2lwYW50VXBkYXRlZCBpcyBzZW50IHdoZW4gdXNlciBkYXRhIGlzIHVwZGF0ZWRcbiAgICAgICAgICpcbiAgICAgICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlBhcnRpY2lwYW50VXBkYXRlZCBwYXJ0aWNpcGFudF91cGRhdGVkID0gMjQ7XG4gICAgICAgICAqL1xuICAgICAgICBwYXJ0aWNpcGFudFVwZGF0ZWQ6IFBhcnRpY2lwYW50VXBkYXRlZDtcbiAgICAgIH1cbiAgICB8IHtcbiAgICAgICAgb25lb2ZLaW5kOiAncGFydGljaXBhbnRNaWdyYXRpb25Db21wbGV0ZSc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQYXJ0aWNpcGFudE1pZ3JhdGlvbkNvbXBsZXRlIGlzIHNlbnQgd2hlbiB0aGUgcGFydGljaXBhbnQgbWlncmF0aW9uIGlzIGNvbXBsZXRlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5QYXJ0aWNpcGFudE1pZ3JhdGlvbkNvbXBsZXRlIHBhcnRpY2lwYW50X21pZ3JhdGlvbl9jb21wbGV0ZSA9IDI1O1xuICAgICAgICAgKi9cbiAgICAgICAgcGFydGljaXBhbnRNaWdyYXRpb25Db21wbGV0ZTogUGFydGljaXBhbnRNaWdyYXRpb25Db21wbGV0ZTtcbiAgICAgIH1cbiAgICB8IHtcbiAgICAgICAgb25lb2ZLaW5kOiAnY29kZWNOZWdvdGlhdGlvbkNvbXBsZXRlJztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvZGVjTmVnb3RpYXRpb25Db21wbGV0ZSBpcyBzZW50IHRvIHNpZ25hbCB0aGUgY29tcGxldGlvbiBvZiBhIGNvZGVjIG5lZ290aWF0aW9uLlxuICAgICAgICAgKiBTREtzIGNhbiBzYWZlbHkgc3RvcCBwcmV2aW91cyB0cmFuc2NlaXZlcnNcbiAgICAgICAgICpcbiAgICAgICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkNvZGVjTmVnb3RpYXRpb25Db21wbGV0ZSBjb2RlY19uZWdvdGlhdGlvbl9jb21wbGV0ZSA9IDI2O1xuICAgICAgICAgKi9cbiAgICAgICAgY29kZWNOZWdvdGlhdGlvbkNvbXBsZXRlOiBDb2RlY05lZ290aWF0aW9uQ29tcGxldGU7XG4gICAgICB9XG4gICAgfCB7XG4gICAgICAgIG9uZW9mS2luZDogJ2NoYW5nZVB1Ymxpc2hPcHRpb25zJztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENoYW5nZVB1Ymxpc2hPcHRpb25zIGlzIHNlbnQgdG8gc2lnbmFsIHRoZSBjaGFuZ2UgaW4gcHVibGlzaCBvcHRpb25zIHN1Y2ggYXMgYSBuZXcgY29kZWMgb3Igc2ltdWxjYXN0IGxheWVyc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUuZXZlbnQuQ2hhbmdlUHVibGlzaE9wdGlvbnMgY2hhbmdlX3B1Ymxpc2hfb3B0aW9ucyA9IDI3O1xuICAgICAgICAgKi9cbiAgICAgICAgY2hhbmdlUHVibGlzaE9wdGlvbnM6IENoYW5nZVB1Ymxpc2hPcHRpb25zO1xuICAgICAgfVxuICAgIHwge1xuICAgICAgICBvbmVvZktpbmQ6IHVuZGVmaW5lZDtcbiAgICAgIH07XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuQ2hhbmdlUHVibGlzaE9wdGlvbnNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDaGFuZ2VQdWJsaXNoT3B0aW9ucyB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlB1Ymxpc2hPcHRpb24gcHVibGlzaF9vcHRpb24gPSAxO1xuICAgKi9cbiAgcHVibGlzaE9wdGlvbj86IFB1Ymxpc2hPcHRpb247XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuQ29kZWNOZWdvdGlhdGlvbkNvbXBsZXRlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ29kZWNOZWdvdGlhdGlvbkNvbXBsZXRlIHt9XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuUGFydGljaXBhbnRNaWdyYXRpb25Db21wbGV0ZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFBhcnRpY2lwYW50TWlncmF0aW9uQ29tcGxldGUge31cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5QaW5zQ2hhbmdlZFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFBpbnNDaGFuZ2VkIHtcbiAgLyoqXG4gICAqIHRoZSBsaXN0IG9mIHBpbnMgaW4gdGhlIGNhbGwuXG4gICAqIFBpbnMgYXJlIG9yZGVyZWQgaW4gZGVzY2VuZGluZyBvcmRlciAobW9zdCBpbXBvcnRhbnQgZmlyc3QpLlxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHJlcGVhdGVkIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlBpbiBwaW5zID0gMTtcbiAgICovXG4gIHBpbnM6IFBpbltdO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkVycm9yXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRXJyb3Ige1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5FcnJvciBlcnJvciA9IDQ7XG4gICAqL1xuICBlcnJvcj86IEVycm9yJDtcbiAgLyoqXG4gICAqIHJldHVybnMgdGhlIHJlY29ubmVjdCBzdHJhdGVneSB0byBiZSB1c2VkIGJ5IHRoZSBjbGllbnRcbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5XZWJzb2NrZXRSZWNvbm5lY3RTdHJhdGVneSByZWNvbm5lY3Rfc3RyYXRlZ3kgPSA1O1xuICAgKi9cbiAgcmVjb25uZWN0U3RyYXRlZ3k6IFdlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5O1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LklDRVRyaWNrbGVcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBJQ0VUcmlja2xlIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuUGVlclR5cGUgcGVlcl90eXBlID0gMTtcbiAgICovXG4gIHBlZXJUeXBlOiBQZWVyVHlwZTtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIGljZV9jYW5kaWRhdGUgPSAyO1xuICAgKi9cbiAgaWNlQ2FuZGlkYXRlOiBzdHJpbmc7XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuSUNFUmVzdGFydFxuICovXG5leHBvcnQgaW50ZXJmYWNlIElDRVJlc3RhcnQge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QZWVyVHlwZSBwZWVyX3R5cGUgPSAxO1xuICAgKi9cbiAgcGVlclR5cGU6IFBlZXJUeXBlO1xufVxuLyoqXG4gKiBTZnVSZXF1ZXN0IGlzIGEgbWVzc2FnZSB0aGF0IGlzIHNlbnQgZnJvbSB0aGUgY2xpZW50IHRvIHRoZSBTRlUuXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5TZnVSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU2Z1UmVxdWVzdCB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgb25lb2Y6IHJlcXVlc3RfcGF5bG9hZFxuICAgKi9cbiAgcmVxdWVzdFBheWxvYWQ6XG4gICAgfCB7XG4gICAgICAgIG9uZW9mS2luZDogJ2pvaW5SZXF1ZXN0JztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5Kb2luUmVxdWVzdCBqb2luX3JlcXVlc3QgPSAxO1xuICAgICAgICAgKi9cbiAgICAgICAgam9pblJlcXVlc3Q6IEpvaW5SZXF1ZXN0O1xuICAgICAgfVxuICAgIHwge1xuICAgICAgICBvbmVvZktpbmQ6ICdoZWFsdGhDaGVja1JlcXVlc3QnO1xuICAgICAgICAvKipcbiAgICAgICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkhlYWx0aENoZWNrUmVxdWVzdCBoZWFsdGhfY2hlY2tfcmVxdWVzdCA9IDI7XG4gICAgICAgICAqL1xuICAgICAgICBoZWFsdGhDaGVja1JlcXVlc3Q6IEhlYWx0aENoZWNrUmVxdWVzdDtcbiAgICAgIH1cbiAgICB8IHtcbiAgICAgICAgb25lb2ZLaW5kOiAnbGVhdmVDYWxsUmVxdWVzdCc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUuZXZlbnQuTGVhdmVDYWxsUmVxdWVzdCBsZWF2ZV9jYWxsX3JlcXVlc3QgPSAzO1xuICAgICAgICAgKi9cbiAgICAgICAgbGVhdmVDYWxsUmVxdWVzdDogTGVhdmVDYWxsUmVxdWVzdDtcbiAgICAgIH1cbiAgICB8IHtcbiAgICAgICAgb25lb2ZLaW5kOiB1bmRlZmluZWQ7XG4gICAgICB9O1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkxlYXZlQ2FsbFJlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBMZWF2ZUNhbGxSZXF1ZXN0IHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHNlc3Npb25faWQgPSAxO1xuICAgKi9cbiAgc2Vzc2lvbklkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyByZWFzb24gPSAyO1xuICAgKi9cbiAgcmVhc29uOiBzdHJpbmc7XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuSGVhbHRoQ2hlY2tSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSGVhbHRoQ2hlY2tSZXF1ZXN0IHt9XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuSGVhbHRoQ2hlY2tSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIEhlYWx0aENoZWNrUmVzcG9uc2Uge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QYXJ0aWNpcGFudENvdW50IHBhcnRpY2lwYW50X2NvdW50ID0gMTtcbiAgICovXG4gIHBhcnRpY2lwYW50Q291bnQ/OiBQYXJ0aWNpcGFudENvdW50O1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlRyYWNrUHVibGlzaGVkXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVHJhY2tQdWJsaXNoZWQge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgdXNlcl9pZCA9IDE7XG4gICAqL1xuICB1c2VySWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHNlc3Npb25faWQgPSAyO1xuICAgKi9cbiAgc2Vzc2lvbklkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlRyYWNrVHlwZSB0eXBlID0gMztcbiAgICovXG4gIHR5cGU6IFRyYWNrVHlwZTtcbiAgLyoqXG4gICAqIFBhcnRpY2lwYW50IGluZm9ybWF0aW9uIGhlcmUgaXMgaW5jbHVkZWQgYXMgYW4gb3B0aW1pc2F0aW9uXG4gICAqIGZvciBsYXJnZSBjYWxscyB3aGVyZSBicm9hZGNhc3Rpbmcgb24gZXZlcnkgcGFydGljaXBhbnQgam9pblxuICAgKiBpcyBleHBlbnNpdmUuIFlvdSBzaG91bGQgKipOT1QqKiBhc3N1bWUgdGhhdCB0aGlzIHdpbGwgYWx3YXlzXG4gICAqIGJlIGF2YWlsYWJsZSB0aG91Z2ggeW91IGNhbiB1c2UgaXQgdG8gdXBkYXRlIHRoZSBwYXJ0aWNpcGFudFxuICAgKiBsaXN0IHdoZW4gaXQgaXMgdGhlcmUuXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuUGFydGljaXBhbnQgcGFydGljaXBhbnQgPSA0O1xuICAgKi9cbiAgcGFydGljaXBhbnQ/OiBQYXJ0aWNpcGFudDtcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5UcmFja1VucHVibGlzaGVkXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVHJhY2tVbnB1Ymxpc2hlZCB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyB1c2VyX2lkID0gMTtcbiAgICovXG4gIHVzZXJJZDogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgc2Vzc2lvbl9pZCA9IDI7XG4gICAqL1xuICBzZXNzaW9uSWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVHJhY2tUeXBlIHR5cGUgPSAzO1xuICAgKi9cbiAgdHlwZTogVHJhY2tUeXBlO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5UcmFja1VucHVibGlzaFJlYXNvbiBjYXVzZSA9IDQ7XG4gICAqL1xuICBjYXVzZTogVHJhY2tVbnB1Ymxpc2hSZWFzb247XG4gIC8qKlxuICAgKiBQYXJ0aWNpcGFudCBpbmZvcm1hdGlvbiBoZXJlIGlzIGluY2x1ZGVkIGFzIGFuIG9wdGltaXNhdGlvblxuICAgKiBmb3IgbGFyZ2UgY2FsbHMgd2hlcmUgYnJvYWRjYXN0aW5nIG9uIGV2ZXJ5IHBhcnRpY2lwYW50IGpvaW5cbiAgICogaXMgZXhwZW5zaXZlLiBZb3Ugc2hvdWxkICoqTk9UKiogYXNzdW1lIHRoYXQgdGhpcyB3aWxsIGFsd2F5c1xuICAgKiBiZSBhdmFpbGFibGUgdGhvdWdoIHlvdSBjYW4gdXNlIGl0IHRvIHVwZGF0ZSB0aGUgcGFydGljaXBhbnRcbiAgICogbGlzdCB3aGVuIGl0IGlzIHRoZXJlLlxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlBhcnRpY2lwYW50IHBhcnRpY2lwYW50ID0gNTtcbiAgICovXG4gIHBhcnRpY2lwYW50PzogUGFydGljaXBhbnQ7XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuSm9pblJlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBKb2luUmVxdWVzdCB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyB0b2tlbiA9IDE7XG4gICAqL1xuICB0b2tlbjogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgc2Vzc2lvbl9pZCA9IDI7XG4gICAqL1xuICBzZXNzaW9uSWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIGR1bWIgU0RQIHRoYXQgYWxsb3cgdXMgdG8gZXh0cmFjdCBzdWJzY3JpYmVyJ3MgZGVjb2RlIGNvZGVjc1xuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBzdWJzY3JpYmVyX3NkcCA9IDM7XG4gICAqL1xuICBzdWJzY3JpYmVyU2RwOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBwdWJsaXNoZXJfc2RwID0gODtcbiAgICovXG4gIHB1Ymxpc2hlclNkcDogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5DbGllbnREZXRhaWxzIGNsaWVudF9kZXRhaWxzID0gNDtcbiAgICovXG4gIGNsaWVudERldGFpbHM/OiBDbGllbnREZXRhaWxzO1xuICAvKipcbiAgICogRGVwcmVjYXRlZDogdXNlIFJlY29ubmVjdERldGFpbHMgaW5zdGVhZFxuICAgKlxuICAgKiBAZGVwcmVjYXRlZFxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUuZXZlbnQuTWlncmF0aW9uIG1pZ3JhdGlvbiA9IDUgW2RlcHJlY2F0ZWQgPSB0cnVlXTtcbiAgICovXG4gIG1pZ3JhdGlvbj86IE1pZ3JhdGlvbjtcbiAgLyoqXG4gICAqIEZhc3QgcmVjb25uZWN0IGZsYWcgZXhwbGljaXRseSBpbmRpY2F0ZXMgdGhhdCBpZiB0aGUgcGFydGljaXBhbnQgc2Vzc2lvblxuICAgKiBhbmQgdGhlIGFzc29jaWF0ZWQgc3RhdGUgaXMgc3RpbGwgcHJlc2VudCBpbiB0aGUgU0ZVLCB0aGUgY2xpZW50IGlzIHJlYWR5XG4gICAqIHRvIHJlc3RvcmUgdGhlIFBlZXJDb25uZWN0aW9uIHdpdGggYW4gSUNFIHJlc3RhcnQuIElmIHRoZSBTRlUgcmVwbGllcyB3aXRoXG4gICAqIFwicmVjb25uZWN0ZWQ6IHRydWVcIiBpbiBpdHMgSm9pblJlc3BvbnNlLCB0aGVuIGl0IGlzIHNhZmUgdG8gcGVyZm9ybSBhbiBJQ0VcbiAgICogcmVzdGFydCBvciBlbHNlIHRoZSBleGlzdGluZyBQZWVyQ29ubmVjdGlvbnMgbXVzdCBiZSBjbGVhbmVkIHVwLlxuICAgKlxuICAgKiBGb3IgdGhlIFNGVSwgZmFzdF9yZWNvbm5lY3Q6ZmFsc2UgaW5kaWNhdGVzIHRoYXQgZXZlbiBpZiBpdCBoYXMgdGhlIHN0YXRlXG4gICAqIGNhY2hlZCwgdGhlIGNsaWVudCBzdGF0ZSBpcyBub3QgaW4gc3luYyBhbmQgaGVuY2UgaXQgbXVzdCBiZSBjbGVhbmVkIHVwIGJlZm9yZVxuICAgKiBwcm9jZWVkaW5nIGZ1cnRoZXIuXG4gICAqXG4gICAqIEBkZXByZWNhdGVkXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogYm9vbCBmYXN0X3JlY29ubmVjdCA9IDYgW2RlcHJlY2F0ZWQgPSB0cnVlXTtcbiAgICovXG4gIGZhc3RSZWNvbm5lY3Q6IGJvb2xlYW47XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUuZXZlbnQuUmVjb25uZWN0RGV0YWlscyByZWNvbm5lY3RfZGV0YWlscyA9IDc7XG4gICAqL1xuICByZWNvbm5lY3REZXRhaWxzPzogUmVjb25uZWN0RGV0YWlscztcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5SZWNvbm5lY3REZXRhaWxzXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVjb25uZWN0RGV0YWlscyB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLldlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5IHN0cmF0ZWd5ID0gMTtcbiAgICovXG4gIHN0cmF0ZWd5OiBXZWJzb2NrZXRSZWNvbm5lY3RTdHJhdGVneTtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogcmVwZWF0ZWQgc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVHJhY2tJbmZvIGFubm91bmNlZF90cmFja3MgPSAzO1xuICAgKi9cbiAgYW5ub3VuY2VkVHJhY2tzOiBUcmFja0luZm9bXTtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogcmVwZWF0ZWQgc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuVHJhY2tTdWJzY3JpcHRpb25EZXRhaWxzIHN1YnNjcmlwdGlvbnMgPSA0O1xuICAgKi9cbiAgc3Vic2NyaXB0aW9uczogVHJhY2tTdWJzY3JpcHRpb25EZXRhaWxzW107XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHVpbnQzMiByZWNvbm5lY3RfYXR0ZW1wdCA9IDU7XG4gICAqL1xuICByZWNvbm5lY3RBdHRlbXB0OiBudW1iZXI7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBmcm9tX3NmdV9pZCA9IDY7XG4gICAqL1xuICBmcm9tU2Z1SWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIG9ubHkgc2V0IGluIGNhc2Ugb2YgcmVqb2luXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHByZXZpb3VzX3Nlc3Npb25faWQgPSA3O1xuICAgKi9cbiAgcHJldmlvdXNTZXNzaW9uSWQ6IHN0cmluZztcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5NaWdyYXRpb25cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBNaWdyYXRpb24ge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgZnJvbV9zZnVfaWQgPSAxO1xuICAgKi9cbiAgZnJvbVNmdUlkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHJlcGVhdGVkIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlRyYWNrSW5mbyBhbm5vdW5jZWRfdHJhY2tzID0gMjtcbiAgICovXG4gIGFubm91bmNlZFRyYWNrczogVHJhY2tJbmZvW107XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHJlcGVhdGVkIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlRyYWNrU3Vic2NyaXB0aW9uRGV0YWlscyBzdWJzY3JpcHRpb25zID0gMztcbiAgICovXG4gIHN1YnNjcmlwdGlvbnM6IFRyYWNrU3Vic2NyaXB0aW9uRGV0YWlsc1tdO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkpvaW5SZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIEpvaW5SZXNwb25zZSB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkNhbGxTdGF0ZSBjYWxsX3N0YXRlID0gMTtcbiAgICovXG4gIGNhbGxTdGF0ZT86IENhbGxTdGF0ZTtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogYm9vbCByZWNvbm5lY3RlZCA9IDI7XG4gICAqL1xuICByZWNvbm5lY3RlZDogYm9vbGVhbjtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogaW50MzIgZmFzdF9yZWNvbm5lY3RfZGVhZGxpbmVfc2Vjb25kcyA9IDM7XG4gICAqL1xuICBmYXN0UmVjb25uZWN0RGVhZGxpbmVTZWNvbmRzOiBudW1iZXI7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlB1Ymxpc2hPcHRpb25zIHB1Ymxpc2hfb3B0aW9ucyA9IDQ7XG4gICAqL1xuICBwdWJsaXNoT3B0aW9ucz86IFB1Ymxpc2hPcHRpb25zO1xufVxuLyoqXG4gKiBQYXJ0aWNpcGFudEpvaW5lZCBpcyBmaXJlZCB3aGVuIGEgdXNlciBqb2lucyBhIGNhbGxcbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlBhcnRpY2lwYW50Sm9pbmVkXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUGFydGljaXBhbnRKb2luZWQge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgY2FsbF9jaWQgPSAxO1xuICAgKi9cbiAgY2FsbENpZDogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QYXJ0aWNpcGFudCBwYXJ0aWNpcGFudCA9IDI7XG4gICAqL1xuICBwYXJ0aWNpcGFudD86IFBhcnRpY2lwYW50O1xufVxuLyoqXG4gKiBQYXJ0aWNpcGFudEpvaW5lZCBpcyBmaXJlZCB3aGVuIGEgdXNlciBsZWF2ZXMgYSBjYWxsXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5QYXJ0aWNpcGFudExlZnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBQYXJ0aWNpcGFudExlZnQge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgY2FsbF9jaWQgPSAxO1xuICAgKi9cbiAgY2FsbENpZDogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QYXJ0aWNpcGFudCBwYXJ0aWNpcGFudCA9IDI7XG4gICAqL1xuICBwYXJ0aWNpcGFudD86IFBhcnRpY2lwYW50O1xufVxuLyoqXG4gKiBQYXJ0aWNpcGFudFVwZGF0ZWQgaXMgZmlyZWQgd2hlbiB1c2VyIGRhdGEgaXMgdXBkYXRlZFxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuUGFydGljaXBhbnRVcGRhdGVkXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUGFydGljaXBhbnRVcGRhdGVkIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIGNhbGxfY2lkID0gMTtcbiAgICovXG4gIGNhbGxDaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuUGFydGljaXBhbnQgcGFydGljaXBhbnQgPSAyO1xuICAgKi9cbiAgcGFydGljaXBhbnQ/OiBQYXJ0aWNpcGFudDtcbn1cbi8qKlxuICogU3Vic2NyaWJlck9mZmVyIGlzIHNlbnQgd2hlbiB0aGUgU0ZVIGFkZHMgdHJhY2tzIHRvIGEgc3Vic2NyaXB0aW9uXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5TdWJzY3JpYmVyT2ZmZXJcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTdWJzY3JpYmVyT2ZmZXIge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBib29sIGljZV9yZXN0YXJ0ID0gMTtcbiAgICovXG4gIGljZVJlc3RhcnQ6IGJvb2xlYW47XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBzZHAgPSAyO1xuICAgKi9cbiAgc2RwOiBzdHJpbmc7XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuUHVibGlzaGVyQW5zd2VyXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUHVibGlzaGVyQW5zd2VyIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHNkcCA9IDE7XG4gICAqL1xuICBzZHA6IHN0cmluZztcbn1cbi8qKlxuICogQ29ubmVjdGlvblF1YWxpdHkgaXMgc2VudCB0byBpbmZvcm0gYWJvdXQgY29ubmVjdGlvbiBxdWFsaXR5IGNoYW5nZXNcbiAqIGVnLiB0aGllcnJ5J3MgY29ubmVjdGlvbiBpcyBub3QgZ29vZCAtPiByZW5kZXIgYSByZWQgaWNvbiBab29tIHN0eWxlXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5Db25uZWN0aW9uUXVhbGl0eUNoYW5nZWRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDb25uZWN0aW9uUXVhbGl0eUNoYW5nZWQge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiByZXBlYXRlZCBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkNvbm5lY3Rpb25RdWFsaXR5SW5mbyBjb25uZWN0aW9uX3F1YWxpdHlfdXBkYXRlcyA9IDE7XG4gICAqL1xuICBjb25uZWN0aW9uUXVhbGl0eVVwZGF0ZXM6IENvbm5lY3Rpb25RdWFsaXR5SW5mb1tdO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkNvbm5lY3Rpb25RdWFsaXR5SW5mb1xuICovXG5leHBvcnQgaW50ZXJmYWNlIENvbm5lY3Rpb25RdWFsaXR5SW5mbyB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyB1c2VyX2lkID0gMTtcbiAgICovXG4gIHVzZXJJZDogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgc2Vzc2lvbl9pZCA9IDI7XG4gICAqL1xuICBzZXNzaW9uSWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQ29ubmVjdGlvblF1YWxpdHkgY29ubmVjdGlvbl9xdWFsaXR5ID0gMztcbiAgICovXG4gIGNvbm5lY3Rpb25RdWFsaXR5OiBDb25uZWN0aW9uUXVhbGl0eTtcbn1cbi8qKlxuICogRG9taW5hbnRTcGVha2VyQ2hhbmdlZCBpcyBzZW50IGJ5IHRoZSBTRlUgdG8gbm90aWZ5IHdoZW4gdGhlcmUgaXMgYSBuZXcgZG9taW5hbnQgc3BlYWtlciBpbiB0aGUgY2FsbFxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuRG9taW5hbnRTcGVha2VyQ2hhbmdlZFxuICovXG5leHBvcnQgaW50ZXJmYWNlIERvbWluYW50U3BlYWtlckNoYW5nZWQge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgdXNlcl9pZCA9IDE7XG4gICAqL1xuICB1c2VySWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHNlc3Npb25faWQgPSAyO1xuICAgKi9cbiAgc2Vzc2lvbklkOiBzdHJpbmc7XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuQXVkaW9MZXZlbFxuICovXG5leHBvcnQgaW50ZXJmYWNlIEF1ZGlvTGV2ZWwge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgdXNlcl9pZCA9IDE7XG4gICAqL1xuICB1c2VySWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHNlc3Npb25faWQgPSAyO1xuICAgKi9cbiAgc2Vzc2lvbklkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiAwLjAgbWVhbnMgY29tcGxldGUgc2lsZW5jZSwgMS4wIGxvdWRlc3RcbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBmbG9hdCBsZXZlbCA9IDM7XG4gICAqL1xuICBsZXZlbDogbnVtYmVyO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBib29sIGlzX3NwZWFraW5nID0gNDtcbiAgICovXG4gIGlzU3BlYWtpbmc6IGJvb2xlYW47XG59XG4vKipcbiAqIEF1ZGlvTGV2ZWxDaGFuZ2VkIGlzIHNlbnQgYnkgdGhlIFNGVSB0byBub3RpZnkgYWJvdXQgYXVkaW8gbGV2ZWxzIGJ5IHVzZXJcbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkF1ZGlvTGV2ZWxDaGFuZ2VkXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQXVkaW9MZXZlbENoYW5nZWQge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiByZXBlYXRlZCBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkF1ZGlvTGV2ZWwgYXVkaW9fbGV2ZWxzID0gMTtcbiAgICovXG4gIGF1ZGlvTGV2ZWxzOiBBdWRpb0xldmVsW107XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuQXVkaW9TZW5kZXJcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBBdWRpb1NlbmRlciB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkNvZGVjIGNvZGVjID0gMjtcbiAgICovXG4gIGNvZGVjPzogQ29kZWM7XG59XG4vKipcbiAqIFZpZGVvTGF5ZXJTZXR0aW5nIGlzIHVzZWQgdG8gc3BlY2lmeSB2YXJpb3VzIHBhcmFtZXRlcnMgb2YgYSBwYXJ0aWN1bGFyIGVuY29kaW5nIGluIHNpbXVsY2FzdC5cbiAqIFRoZSBwYXJhbWV0ZXJzIGFyZSBzcGVjaWZpZWQgaGVyZSAtIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9SVENSdHBFbmNvZGluZ1BhcmFtZXRlcnNcbiAqIFNES3MgdXNlIHRoZXNlIHBhcmFtZXRlcnMgc2VudCBmcm9tIHRoZSBzZXJ2ZXIgdG8gZHluYW1pY2FsbHkgYWRqdXN0IHRoZXNlIHBhcmFtZXRlcnMgdG8gc2F2ZSBDUFUsIGJhbmR3aWR0aFxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuVmlkZW9MYXllclNldHRpbmdcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBWaWRlb0xheWVyU2V0dGluZyB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBuYW1lID0gMTtcbiAgICovXG4gIG5hbWU6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogYm9vbCBhY3RpdmUgPSAyO1xuICAgKi9cbiAgYWN0aXZlOiBib29sZWFuO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBpbnQzMiBtYXhfYml0cmF0ZSA9IDM7XG4gICAqL1xuICBtYXhCaXRyYXRlOiBudW1iZXI7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGZsb2F0IHNjYWxlX3Jlc29sdXRpb25fZG93bl9ieSA9IDQ7XG4gICAqL1xuICBzY2FsZVJlc29sdXRpb25Eb3duQnk6IG51bWJlcjtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQ29kZWMgY29kZWMgPSA2O1xuICAgKi9cbiAgY29kZWM/OiBDb2RlYztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogdWludDMyIG1heF9mcmFtZXJhdGUgPSA3O1xuICAgKi9cbiAgbWF4RnJhbWVyYXRlOiBudW1iZXI7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBzY2FsYWJpbGl0eV9tb2RlID0gODtcbiAgICovXG4gIHNjYWxhYmlsaXR5TW9kZTogc3RyaW5nO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlZpZGVvU2VuZGVyXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVmlkZW9TZW5kZXIge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5Db2RlYyBjb2RlYyA9IDI7XG4gICAqL1xuICBjb2RlYz86IENvZGVjO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiByZXBlYXRlZCBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlZpZGVvTGF5ZXJTZXR0aW5nIGxheWVycyA9IDM7XG4gICAqL1xuICBsYXllcnM6IFZpZGVvTGF5ZXJTZXR0aW5nW107XG59XG4vKipcbiAqIHNlbnQgdG8gdXNlcnMgd2hlbiB0aGV5IG5lZWQgdG8gY2hhbmdlIHRoZSBxdWFsaXR5IG9mIHRoZWlyIHZpZGVvXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5DaGFuZ2VQdWJsaXNoUXVhbGl0eVxuICovXG5leHBvcnQgaW50ZXJmYWNlIENoYW5nZVB1Ymxpc2hRdWFsaXR5IHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogcmVwZWF0ZWQgc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5BdWRpb1NlbmRlciBhdWRpb19zZW5kZXJzID0gMTtcbiAgICovXG4gIGF1ZGlvU2VuZGVyczogQXVkaW9TZW5kZXJbXTtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogcmVwZWF0ZWQgc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5WaWRlb1NlbmRlciB2aWRlb19zZW5kZXJzID0gMjtcbiAgICovXG4gIHZpZGVvU2VuZGVyczogVmlkZW9TZW5kZXJbXTtcbn1cbi8qKlxuICogQ2FsbEdyYW50cyBpcyBzZW50IHRvIHVzZXJzIHdoZW4gdGhlcmUgaXMgYSBjaGFuZ2UgaW4gdGhlIGNhbGwgcGVybWlzc2lvbnNcbiAqIHRvIHB1Ymxpc2ggYXVkaW8sIHZpZGVvIG9yIHNoYXJlIHRoZSBzY3JlZW4gZm9yIGEgdXNlciBvciBhIHJvbGUuIFRoaXMgaXNcbiAqIGlkZW1wb3RlbnQgYW5kIGNhbiBiZSBzZW50IGF0IGFueSB0aW1lLiBPbmx5IHRoZSBjdXJyZW50X2dyYW50cyBpbiB0aGUgbGF0ZXN0XG4gKiBtZXNzYWdlIHNob3VsZCBiZSBjb25zaWRlcmVkLiBJbiBvdGhlciB3b3JkcywgdGhpcyBpcyBub3QgZGVwZW5kZW50IG9uIGFueVxuICogb3RoZXIgbWVzc2FnZSAoaW5jbHVkaW5nIHByZXZpb3VzIGNhbGxfZ3JhbnRzX3VwZGF0ZWQgbWVzc2FnZSlcbiAqXG4gKiBXaGVuIHRoaXMgbWVzc2FnZSBpcyByZWNlaXZlZCwgdGhlIGNsaWVudCAoc2F5LCBSZWFjdCBjb21wb25lbnQpIHNob3VsZCBtdXRlXG4gKiB0aGUgdHJhY2tzIHdoaWNoIGFyZSBub3QgYWxsb3dlZCBhbnltb3JlLiBGb3IgZXhhbXBsZSwgaWYgdGhlIG1lc3NhZ2UgaGFzXG4gKiBncmFudHMge2F1ZGlvOnRydWUsIHZpZGVvOmZhbHNlfSB3aGlsZSB0aGUgdXNlciBpcyBwdWJsaXNoaW5nIHZpZGVvLCB0aGVuIHRoZVxuICogY2xpZW50IGNvbXBvbmVudCBzaG91bGQgbXV0ZSB0aGUgdmlkZW8gdHJhY2sgYW5kIGdyYXkgb3V0IHRoZSB2aWRlbyBidXR0b24uXG4gKiBUaGlzIHdheSwgdGhlIHVzZXIgd2lsbCBub3QgYmUgYWJsZSB0byBwdWJsaXNoIHZpZGVvIHVudGlsIHRoZSBwZXJtaXNzaW9uc1xuICogYXJlIGdyYW50ZWQgYWdhaW4uIEFsc28sIG11dGluZyB0aGUgdHJhY2sgb24gdGhlIGNsaWVudCBzaWRlIHdpbGwgcHJldmVudFxuICogdGhlIFNGVSBmcm9tIHJlY2VpdmluZyB0aGUgdmlkZW8gdHJhY2sgYW5kIHdpbGwgc2F2ZSBiYW5kd2lkdGguXG4gKlxuICogSW4gc2ltcGxlIHdvcmRzLCB0aGlzIGlzIGV4YWN0bHkgdGhlIHNhbWUgYXMgbXV0aW5nIGEgdHJhY2sgb24gdGhlIGNsaWVudC5cbiAqIEhlcmUsIGluc3RlYWQgb2YgdGhlIHVzZXIgaW5zdHJ1Y3RpbmcgdGhlIGNsaWVudCwgU0ZVIHdvdWxkIGJlIGRvaW5nIGl0LlxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuQ2FsbEdyYW50c1VwZGF0ZWRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsR3JhbnRzVXBkYXRlZCB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkNhbGxHcmFudHMgY3VycmVudF9ncmFudHMgPSAxO1xuICAgKi9cbiAgY3VycmVudEdyYW50cz86IENhbGxHcmFudHM7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBtZXNzYWdlID0gMjtcbiAgICovXG4gIG1lc3NhZ2U6IHN0cmluZztcbn1cbi8qKlxuICogR28gYXdheSBpcyBzZW50IGJ5IHRoZSBTRlUgdG8gdGhlIGNsaWVudCB0byBzaWduYWwgdG8gbWlncmF0ZSBhd2F5IGZyb20gdGhlIFNGVS5cbiAqIFRoZSBldmljdCByZWFzb24gbWF5IHNwZWNpZnkgd2h5IHRoZSB1c2VyIGlzIGJlaW5nIGV2aWN0ZWQuXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5Hb0F3YXlcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBHb0F3YXkge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5Hb0F3YXlSZWFzb24gcmVhc29uID0gMTtcbiAgICovXG4gIHJlYXNvbjogR29Bd2F5UmVhc29uO1xufVxuLyoqXG4gKiBDYWxsRW5kZWQgaXMgc2VudCBieSB0aGUgU0ZVIHRvIHRoZSBjbGllbnQgdG8gc2lnbmFsIHRoYXQgdGhlIGNhbGwgaGFzIGVuZGVkLlxuICogVGhlIHJlYXNvbiBtYXkgc3BlY2lmeSB3aHkgdGhlIGNhbGwgaGFzIGVuZGVkLlxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuQ2FsbEVuZGVkXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbEVuZGVkIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQ2FsbEVuZGVkUmVhc29uIHJlYXNvbiA9IDE7XG4gICAqL1xuICByZWFzb246IENhbGxFbmRlZFJlYXNvbjtcbn1cbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIFNmdUV2ZW50JFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxTZnVFdmVudD4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5TZnVFdmVudCcsIFtcbiAgICAgIHtcbiAgICAgICAgbm86IDEsXG4gICAgICAgIG5hbWU6ICdzdWJzY3JpYmVyX29mZmVyJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICBvbmVvZjogJ2V2ZW50UGF5bG9hZCcsXG4gICAgICAgIFQ6ICgpID0+IFN1YnNjcmliZXJPZmZlcixcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAyLFxuICAgICAgICBuYW1lOiAncHVibGlzaGVyX2Fuc3dlcicsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgb25lb2Y6ICdldmVudFBheWxvYWQnLFxuICAgICAgICBUOiAoKSA9PiBQdWJsaXNoZXJBbnN3ZXIsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogMyxcbiAgICAgICAgbmFtZTogJ2Nvbm5lY3Rpb25fcXVhbGl0eV9jaGFuZ2VkJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICBvbmVvZjogJ2V2ZW50UGF5bG9hZCcsXG4gICAgICAgIFQ6ICgpID0+IENvbm5lY3Rpb25RdWFsaXR5Q2hhbmdlZCxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiA0LFxuICAgICAgICBuYW1lOiAnYXVkaW9fbGV2ZWxfY2hhbmdlZCcsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgb25lb2Y6ICdldmVudFBheWxvYWQnLFxuICAgICAgICBUOiAoKSA9PiBBdWRpb0xldmVsQ2hhbmdlZCxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiA1LFxuICAgICAgICBuYW1lOiAnaWNlX3RyaWNrbGUnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIG9uZW9mOiAnZXZlbnRQYXlsb2FkJyxcbiAgICAgICAgVDogKCkgPT4gSUNFVHJpY2tsZSQsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogNixcbiAgICAgICAgbmFtZTogJ2NoYW5nZV9wdWJsaXNoX3F1YWxpdHknLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIG9uZW9mOiAnZXZlbnRQYXlsb2FkJyxcbiAgICAgICAgVDogKCkgPT4gQ2hhbmdlUHVibGlzaFF1YWxpdHksXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogMTAsXG4gICAgICAgIG5hbWU6ICdwYXJ0aWNpcGFudF9qb2luZWQnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIG9uZW9mOiAnZXZlbnRQYXlsb2FkJyxcbiAgICAgICAgVDogKCkgPT4gUGFydGljaXBhbnRKb2luZWQsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogMTEsXG4gICAgICAgIG5hbWU6ICdwYXJ0aWNpcGFudF9sZWZ0JyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICBvbmVvZjogJ2V2ZW50UGF5bG9hZCcsXG4gICAgICAgIFQ6ICgpID0+IFBhcnRpY2lwYW50TGVmdCxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAxMixcbiAgICAgICAgbmFtZTogJ2RvbWluYW50X3NwZWFrZXJfY2hhbmdlZCcsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgb25lb2Y6ICdldmVudFBheWxvYWQnLFxuICAgICAgICBUOiAoKSA9PiBEb21pbmFudFNwZWFrZXJDaGFuZ2VkLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDEzLFxuICAgICAgICBuYW1lOiAnam9pbl9yZXNwb25zZScsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgb25lb2Y6ICdldmVudFBheWxvYWQnLFxuICAgICAgICBUOiAoKSA9PiBKb2luUmVzcG9uc2UsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogMTQsXG4gICAgICAgIG5hbWU6ICdoZWFsdGhfY2hlY2tfcmVzcG9uc2UnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIG9uZW9mOiAnZXZlbnRQYXlsb2FkJyxcbiAgICAgICAgVDogKCkgPT4gSGVhbHRoQ2hlY2tSZXNwb25zZSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAxNixcbiAgICAgICAgbmFtZTogJ3RyYWNrX3B1Ymxpc2hlZCcsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgb25lb2Y6ICdldmVudFBheWxvYWQnLFxuICAgICAgICBUOiAoKSA9PiBUcmFja1B1Ymxpc2hlZCxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAxNyxcbiAgICAgICAgbmFtZTogJ3RyYWNrX3VucHVibGlzaGVkJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICBvbmVvZjogJ2V2ZW50UGF5bG9hZCcsXG4gICAgICAgIFQ6ICgpID0+IFRyYWNrVW5wdWJsaXNoZWQsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogMTgsXG4gICAgICAgIG5hbWU6ICdlcnJvcicsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgb25lb2Y6ICdldmVudFBheWxvYWQnLFxuICAgICAgICBUOiAoKSA9PiBFcnJvcixcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAxOSxcbiAgICAgICAgbmFtZTogJ2NhbGxfZ3JhbnRzX3VwZGF0ZWQnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIG9uZW9mOiAnZXZlbnRQYXlsb2FkJyxcbiAgICAgICAgVDogKCkgPT4gQ2FsbEdyYW50c1VwZGF0ZWQsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogMjAsXG4gICAgICAgIG5hbWU6ICdnb19hd2F5JyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICBvbmVvZjogJ2V2ZW50UGF5bG9hZCcsXG4gICAgICAgIFQ6ICgpID0+IEdvQXdheSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAyMSxcbiAgICAgICAgbmFtZTogJ2ljZV9yZXN0YXJ0JyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICBvbmVvZjogJ2V2ZW50UGF5bG9hZCcsXG4gICAgICAgIFQ6ICgpID0+IElDRVJlc3RhcnQsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogMjIsXG4gICAgICAgIG5hbWU6ICdwaW5zX3VwZGF0ZWQnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIG9uZW9mOiAnZXZlbnRQYXlsb2FkJyxcbiAgICAgICAgVDogKCkgPT4gUGluc0NoYW5nZWQsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogMjMsXG4gICAgICAgIG5hbWU6ICdjYWxsX2VuZGVkJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICBvbmVvZjogJ2V2ZW50UGF5bG9hZCcsXG4gICAgICAgIFQ6ICgpID0+IENhbGxFbmRlZCxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAyNCxcbiAgICAgICAgbmFtZTogJ3BhcnRpY2lwYW50X3VwZGF0ZWQnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIG9uZW9mOiAnZXZlbnRQYXlsb2FkJyxcbiAgICAgICAgVDogKCkgPT4gUGFydGljaXBhbnRVcGRhdGVkLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDI1LFxuICAgICAgICBuYW1lOiAncGFydGljaXBhbnRfbWlncmF0aW9uX2NvbXBsZXRlJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICBvbmVvZjogJ2V2ZW50UGF5bG9hZCcsXG4gICAgICAgIFQ6ICgpID0+IFBhcnRpY2lwYW50TWlncmF0aW9uQ29tcGxldGUsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogMjYsXG4gICAgICAgIG5hbWU6ICdjb2RlY19uZWdvdGlhdGlvbl9jb21wbGV0ZScsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgb25lb2Y6ICdldmVudFBheWxvYWQnLFxuICAgICAgICBUOiAoKSA9PiBDb2RlY05lZ290aWF0aW9uQ29tcGxldGUsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogMjcsXG4gICAgICAgIG5hbWU6ICdjaGFuZ2VfcHVibGlzaF9vcHRpb25zJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICBvbmVvZjogJ2V2ZW50UGF5bG9hZCcsXG4gICAgICAgIFQ6ICgpID0+IENoYW5nZVB1Ymxpc2hPcHRpb25zLFxuICAgICAgfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuU2Z1RXZlbnRcbiAqL1xuZXhwb3J0IGNvbnN0IFNmdUV2ZW50ID0gbmV3IFNmdUV2ZW50JFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIENoYW5nZVB1Ymxpc2hPcHRpb25zJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxDaGFuZ2VQdWJsaXNoT3B0aW9ucz4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5DaGFuZ2VQdWJsaXNoT3B0aW9ucycsIFtcbiAgICAgIHtcbiAgICAgICAgbm86IDEsXG4gICAgICAgIG5hbWU6ICdwdWJsaXNoX29wdGlvbicsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgVDogKCkgPT4gUHVibGlzaE9wdGlvbixcbiAgICAgIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkNoYW5nZVB1Ymxpc2hPcHRpb25zXG4gKi9cbmV4cG9ydCBjb25zdCBDaGFuZ2VQdWJsaXNoT3B0aW9ucyA9IG5ldyBDaGFuZ2VQdWJsaXNoT3B0aW9ucyRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBDb2RlY05lZ290aWF0aW9uQ29tcGxldGUkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPENvZGVjTmVnb3RpYXRpb25Db21wbGV0ZT4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5Db2RlY05lZ290aWF0aW9uQ29tcGxldGUnLCBbXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkNvZGVjTmVnb3RpYXRpb25Db21wbGV0ZVxuICovXG5leHBvcnQgY29uc3QgQ29kZWNOZWdvdGlhdGlvbkNvbXBsZXRlID0gbmV3IENvZGVjTmVnb3RpYXRpb25Db21wbGV0ZSRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBQYXJ0aWNpcGFudE1pZ3JhdGlvbkNvbXBsZXRlJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxQYXJ0aWNpcGFudE1pZ3JhdGlvbkNvbXBsZXRlPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlBhcnRpY2lwYW50TWlncmF0aW9uQ29tcGxldGUnLCBbXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlBhcnRpY2lwYW50TWlncmF0aW9uQ29tcGxldGVcbiAqL1xuZXhwb3J0IGNvbnN0IFBhcnRpY2lwYW50TWlncmF0aW9uQ29tcGxldGUgPVxuICBuZXcgUGFydGljaXBhbnRNaWdyYXRpb25Db21wbGV0ZSRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBQaW5zQ2hhbmdlZCRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8UGluc0NoYW5nZWQ+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuZXZlbnQuUGluc0NoYW5nZWQnLCBbXG4gICAgICB7XG4gICAgICAgIG5vOiAxLFxuICAgICAgICBuYW1lOiAncGlucycsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgcmVwZWF0OiAxIC8qUmVwZWF0VHlwZS5QQUNLRUQqLyxcbiAgICAgICAgVDogKCkgPT4gUGluLFxuICAgICAgfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuUGluc0NoYW5nZWRcbiAqL1xuZXhwb3J0IGNvbnN0IFBpbnNDaGFuZ2VkID0gbmV3IFBpbnNDaGFuZ2VkJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIEVycm9yJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxFcnJvcj4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5FcnJvcicsIFtcbiAgICAgIHsgbm86IDQsIG5hbWU6ICdlcnJvcicsIGtpbmQ6ICdtZXNzYWdlJywgVDogKCkgPT4gRXJyb3IkIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiA1LFxuICAgICAgICBuYW1lOiAncmVjb25uZWN0X3N0cmF0ZWd5JyxcbiAgICAgICAga2luZDogJ2VudW0nLFxuICAgICAgICBUOiAoKSA9PiBbXG4gICAgICAgICAgJ3N0cmVhbS52aWRlby5zZnUubW9kZWxzLldlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5JyxcbiAgICAgICAgICBXZWJzb2NrZXRSZWNvbm5lY3RTdHJhdGVneSxcbiAgICAgICAgICAnV0VCU09DS0VUX1JFQ09OTkVDVF9TVFJBVEVHWV8nLFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuRXJyb3JcbiAqL1xuZXhwb3J0IGNvbnN0IEVycm9yID0gbmV3IEVycm9yJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIElDRVRyaWNrbGUkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPElDRVRyaWNrbGU+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuZXZlbnQuSUNFVHJpY2tsZScsIFtcbiAgICAgIHtcbiAgICAgICAgbm86IDEsXG4gICAgICAgIG5hbWU6ICdwZWVyX3R5cGUnLFxuICAgICAgICBraW5kOiAnZW51bScsXG4gICAgICAgIFQ6ICgpID0+IFsnc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuUGVlclR5cGUnLCBQZWVyVHlwZSwgJ1BFRVJfVFlQRV8nXSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAyLFxuICAgICAgICBuYW1lOiAnaWNlX2NhbmRpZGF0ZScsXG4gICAgICAgIGtpbmQ6ICdzY2FsYXInLFxuICAgICAgICBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyxcbiAgICAgIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LklDRVRyaWNrbGVcbiAqL1xuZXhwb3J0IGNvbnN0IElDRVRyaWNrbGUgPSBuZXcgSUNFVHJpY2tsZSRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBJQ0VSZXN0YXJ0JFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxJQ0VSZXN0YXJ0PiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LklDRVJlc3RhcnQnLCBbXG4gICAgICB7XG4gICAgICAgIG5vOiAxLFxuICAgICAgICBuYW1lOiAncGVlcl90eXBlJyxcbiAgICAgICAga2luZDogJ2VudW0nLFxuICAgICAgICBUOiAoKSA9PiBbJ3N0cmVhbS52aWRlby5zZnUubW9kZWxzLlBlZXJUeXBlJywgUGVlclR5cGUsICdQRUVSX1RZUEVfJ10sXG4gICAgICB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5JQ0VSZXN0YXJ0XG4gKi9cbmV4cG9ydCBjb25zdCBJQ0VSZXN0YXJ0ID0gbmV3IElDRVJlc3RhcnQkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgU2Z1UmVxdWVzdCRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8U2Z1UmVxdWVzdD4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5TZnVSZXF1ZXN0JywgW1xuICAgICAge1xuICAgICAgICBubzogMSxcbiAgICAgICAgbmFtZTogJ2pvaW5fcmVxdWVzdCcsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgb25lb2Y6ICdyZXF1ZXN0UGF5bG9hZCcsXG4gICAgICAgIFQ6ICgpID0+IEpvaW5SZXF1ZXN0LFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDIsXG4gICAgICAgIG5hbWU6ICdoZWFsdGhfY2hlY2tfcmVxdWVzdCcsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgb25lb2Y6ICdyZXF1ZXN0UGF5bG9hZCcsXG4gICAgICAgIFQ6ICgpID0+IEhlYWx0aENoZWNrUmVxdWVzdCxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAzLFxuICAgICAgICBuYW1lOiAnbGVhdmVfY2FsbF9yZXF1ZXN0JyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICBvbmVvZjogJ3JlcXVlc3RQYXlsb2FkJyxcbiAgICAgICAgVDogKCkgPT4gTGVhdmVDYWxsUmVxdWVzdCxcbiAgICAgIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlNmdVJlcXVlc3RcbiAqL1xuZXhwb3J0IGNvbnN0IFNmdVJlcXVlc3QgPSBuZXcgU2Z1UmVxdWVzdCRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBMZWF2ZUNhbGxSZXF1ZXN0JFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxMZWF2ZUNhbGxSZXF1ZXN0PiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkxlYXZlQ2FsbFJlcXVlc3QnLCBbXG4gICAgICB7IG5vOiAxLCBuYW1lOiAnc2Vzc2lvbl9pZCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAgeyBubzogMiwgbmFtZTogJ3JlYXNvbicsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5MZWF2ZUNhbGxSZXF1ZXN0XG4gKi9cbmV4cG9ydCBjb25zdCBMZWF2ZUNhbGxSZXF1ZXN0ID0gbmV3IExlYXZlQ2FsbFJlcXVlc3QkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgSGVhbHRoQ2hlY2tSZXF1ZXN0JFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxIZWFsdGhDaGVja1JlcXVlc3Q+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuZXZlbnQuSGVhbHRoQ2hlY2tSZXF1ZXN0JywgW10pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5IZWFsdGhDaGVja1JlcXVlc3RcbiAqL1xuZXhwb3J0IGNvbnN0IEhlYWx0aENoZWNrUmVxdWVzdCA9IG5ldyBIZWFsdGhDaGVja1JlcXVlc3QkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgSGVhbHRoQ2hlY2tSZXNwb25zZSRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8SGVhbHRoQ2hlY2tSZXNwb25zZT4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5IZWFsdGhDaGVja1Jlc3BvbnNlJywgW1xuICAgICAge1xuICAgICAgICBubzogMSxcbiAgICAgICAgbmFtZTogJ3BhcnRpY2lwYW50X2NvdW50JyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICBUOiAoKSA9PiBQYXJ0aWNpcGFudENvdW50LFxuICAgICAgfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuSGVhbHRoQ2hlY2tSZXNwb25zZVxuICovXG5leHBvcnQgY29uc3QgSGVhbHRoQ2hlY2tSZXNwb25zZSA9IG5ldyBIZWFsdGhDaGVja1Jlc3BvbnNlJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIFRyYWNrUHVibGlzaGVkJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxUcmFja1B1Ymxpc2hlZD4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5UcmFja1B1Ymxpc2hlZCcsIFtcbiAgICAgIHsgbm86IDEsIG5hbWU6ICd1c2VyX2lkJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7IG5vOiAyLCBuYW1lOiAnc2Vzc2lvbl9pZCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAge1xuICAgICAgICBubzogMyxcbiAgICAgICAgbmFtZTogJ3R5cGUnLFxuICAgICAgICBraW5kOiAnZW51bScsXG4gICAgICAgIFQ6ICgpID0+IFtcbiAgICAgICAgICAnc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVHJhY2tUeXBlJyxcbiAgICAgICAgICBUcmFja1R5cGUsXG4gICAgICAgICAgJ1RSQUNLX1RZUEVfJyxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgICB7IG5vOiA0LCBuYW1lOiAncGFydGljaXBhbnQnLCBraW5kOiAnbWVzc2FnZScsIFQ6ICgpID0+IFBhcnRpY2lwYW50IH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlRyYWNrUHVibGlzaGVkXG4gKi9cbmV4cG9ydCBjb25zdCBUcmFja1B1Ymxpc2hlZCA9IG5ldyBUcmFja1B1Ymxpc2hlZCRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBUcmFja1VucHVibGlzaGVkJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxUcmFja1VucHVibGlzaGVkPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlRyYWNrVW5wdWJsaXNoZWQnLCBbXG4gICAgICB7IG5vOiAxLCBuYW1lOiAndXNlcl9pZCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAgeyBubzogMiwgbmFtZTogJ3Nlc3Npb25faWQnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDMsXG4gICAgICAgIG5hbWU6ICd0eXBlJyxcbiAgICAgICAga2luZDogJ2VudW0nLFxuICAgICAgICBUOiAoKSA9PiBbXG4gICAgICAgICAgJ3N0cmVhbS52aWRlby5zZnUubW9kZWxzLlRyYWNrVHlwZScsXG4gICAgICAgICAgVHJhY2tUeXBlLFxuICAgICAgICAgICdUUkFDS19UWVBFXycsXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogNCxcbiAgICAgICAgbmFtZTogJ2NhdXNlJyxcbiAgICAgICAga2luZDogJ2VudW0nLFxuICAgICAgICBUOiAoKSA9PiBbXG4gICAgICAgICAgJ3N0cmVhbS52aWRlby5zZnUubW9kZWxzLlRyYWNrVW5wdWJsaXNoUmVhc29uJyxcbiAgICAgICAgICBUcmFja1VucHVibGlzaFJlYXNvbixcbiAgICAgICAgICAnVFJBQ0tfVU5QVUJMSVNIX1JFQVNPTl8nLFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICAgIHsgbm86IDUsIG5hbWU6ICdwYXJ0aWNpcGFudCcsIGtpbmQ6ICdtZXNzYWdlJywgVDogKCkgPT4gUGFydGljaXBhbnQgfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuVHJhY2tVbnB1Ymxpc2hlZFxuICovXG5leHBvcnQgY29uc3QgVHJhY2tVbnB1Ymxpc2hlZCA9IG5ldyBUcmFja1VucHVibGlzaGVkJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIEpvaW5SZXF1ZXN0JFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxKb2luUmVxdWVzdD4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5Kb2luUmVxdWVzdCcsIFtcbiAgICAgIHsgbm86IDEsIG5hbWU6ICd0b2tlbicsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAgeyBubzogMiwgbmFtZTogJ3Nlc3Npb25faWQnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDMsXG4gICAgICAgIG5hbWU6ICdzdWJzY3JpYmVyX3NkcCcsXG4gICAgICAgIGtpbmQ6ICdzY2FsYXInLFxuICAgICAgICBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiA4LFxuICAgICAgICBuYW1lOiAncHVibGlzaGVyX3NkcCcsXG4gICAgICAgIGtpbmQ6ICdzY2FsYXInLFxuICAgICAgICBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiA0LFxuICAgICAgICBuYW1lOiAnY2xpZW50X2RldGFpbHMnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIFQ6ICgpID0+IENsaWVudERldGFpbHMsXG4gICAgICB9LFxuICAgICAgeyBubzogNSwgbmFtZTogJ21pZ3JhdGlvbicsIGtpbmQ6ICdtZXNzYWdlJywgVDogKCkgPT4gTWlncmF0aW9uIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiA2LFxuICAgICAgICBuYW1lOiAnZmFzdF9yZWNvbm5lY3QnLFxuICAgICAgICBraW5kOiAnc2NhbGFyJyxcbiAgICAgICAgVDogOCAvKlNjYWxhclR5cGUuQk9PTCovLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDcsXG4gICAgICAgIG5hbWU6ICdyZWNvbm5lY3RfZGV0YWlscycsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgVDogKCkgPT4gUmVjb25uZWN0RGV0YWlscyxcbiAgICAgIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkpvaW5SZXF1ZXN0XG4gKi9cbmV4cG9ydCBjb25zdCBKb2luUmVxdWVzdCA9IG5ldyBKb2luUmVxdWVzdCRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBSZWNvbm5lY3REZXRhaWxzJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxSZWNvbm5lY3REZXRhaWxzPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlJlY29ubmVjdERldGFpbHMnLCBbXG4gICAgICB7XG4gICAgICAgIG5vOiAxLFxuICAgICAgICBuYW1lOiAnc3RyYXRlZ3knLFxuICAgICAgICBraW5kOiAnZW51bScsXG4gICAgICAgIFQ6ICgpID0+IFtcbiAgICAgICAgICAnc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3knLFxuICAgICAgICAgIFdlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5LFxuICAgICAgICAgICdXRUJTT0NLRVRfUkVDT05ORUNUX1NUUkFURUdZXycsXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogMyxcbiAgICAgICAgbmFtZTogJ2Fubm91bmNlZF90cmFja3MnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIHJlcGVhdDogMSAvKlJlcGVhdFR5cGUuUEFDS0VEKi8sXG4gICAgICAgIFQ6ICgpID0+IFRyYWNrSW5mbyxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiA0LFxuICAgICAgICBuYW1lOiAnc3Vic2NyaXB0aW9ucycsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgcmVwZWF0OiAxIC8qUmVwZWF0VHlwZS5QQUNLRUQqLyxcbiAgICAgICAgVDogKCkgPT4gVHJhY2tTdWJzY3JpcHRpb25EZXRhaWxzLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDUsXG4gICAgICAgIG5hbWU6ICdyZWNvbm5lY3RfYXR0ZW1wdCcsXG4gICAgICAgIGtpbmQ6ICdzY2FsYXInLFxuICAgICAgICBUOiAxMyAvKlNjYWxhclR5cGUuVUlOVDMyKi8sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogNixcbiAgICAgICAgbmFtZTogJ2Zyb21fc2Z1X2lkJyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDcsXG4gICAgICAgIG5hbWU6ICdwcmV2aW91c19zZXNzaW9uX2lkJyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovLFxuICAgICAgfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuUmVjb25uZWN0RGV0YWlsc1xuICovXG5leHBvcnQgY29uc3QgUmVjb25uZWN0RGV0YWlscyA9IG5ldyBSZWNvbm5lY3REZXRhaWxzJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIE1pZ3JhdGlvbiRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8TWlncmF0aW9uPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LmV2ZW50Lk1pZ3JhdGlvbicsIFtcbiAgICAgIHtcbiAgICAgICAgbm86IDEsXG4gICAgICAgIG5hbWU6ICdmcm9tX3NmdV9pZCcsXG4gICAgICAgIGtpbmQ6ICdzY2FsYXInLFxuICAgICAgICBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAyLFxuICAgICAgICBuYW1lOiAnYW5ub3VuY2VkX3RyYWNrcycsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgcmVwZWF0OiAxIC8qUmVwZWF0VHlwZS5QQUNLRUQqLyxcbiAgICAgICAgVDogKCkgPT4gVHJhY2tJbmZvLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDMsXG4gICAgICAgIG5hbWU6ICdzdWJzY3JpcHRpb25zJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICByZXBlYXQ6IDEgLypSZXBlYXRUeXBlLlBBQ0tFRCovLFxuICAgICAgICBUOiAoKSA9PiBUcmFja1N1YnNjcmlwdGlvbkRldGFpbHMsXG4gICAgICB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5NaWdyYXRpb25cbiAqL1xuZXhwb3J0IGNvbnN0IE1pZ3JhdGlvbiA9IG5ldyBNaWdyYXRpb24kVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgSm9pblJlc3BvbnNlJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxKb2luUmVzcG9uc2U+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuZXZlbnQuSm9pblJlc3BvbnNlJywgW1xuICAgICAgeyBubzogMSwgbmFtZTogJ2NhbGxfc3RhdGUnLCBraW5kOiAnbWVzc2FnZScsIFQ6ICgpID0+IENhbGxTdGF0ZSB9LFxuICAgICAgeyBubzogMiwgbmFtZTogJ3JlY29ubmVjdGVkJywga2luZDogJ3NjYWxhcicsIFQ6IDggLypTY2FsYXJUeXBlLkJPT0wqLyB9LFxuICAgICAge1xuICAgICAgICBubzogMyxcbiAgICAgICAgbmFtZTogJ2Zhc3RfcmVjb25uZWN0X2RlYWRsaW5lX3NlY29uZHMnLFxuICAgICAgICBraW5kOiAnc2NhbGFyJyxcbiAgICAgICAgVDogNSAvKlNjYWxhclR5cGUuSU5UMzIqLyxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiA0LFxuICAgICAgICBuYW1lOiAncHVibGlzaF9vcHRpb25zJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICBUOiAoKSA9PiBQdWJsaXNoT3B0aW9ucyxcbiAgICAgIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkpvaW5SZXNwb25zZVxuICovXG5leHBvcnQgY29uc3QgSm9pblJlc3BvbnNlID0gbmV3IEpvaW5SZXNwb25zZSRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBQYXJ0aWNpcGFudEpvaW5lZCRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8UGFydGljaXBhbnRKb2luZWQ+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuZXZlbnQuUGFydGljaXBhbnRKb2luZWQnLCBbXG4gICAgICB7IG5vOiAxLCBuYW1lOiAnY2FsbF9jaWQnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHsgbm86IDIsIG5hbWU6ICdwYXJ0aWNpcGFudCcsIGtpbmQ6ICdtZXNzYWdlJywgVDogKCkgPT4gUGFydGljaXBhbnQgfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuUGFydGljaXBhbnRKb2luZWRcbiAqL1xuZXhwb3J0IGNvbnN0IFBhcnRpY2lwYW50Sm9pbmVkID0gbmV3IFBhcnRpY2lwYW50Sm9pbmVkJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIFBhcnRpY2lwYW50TGVmdCRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8UGFydGljaXBhbnRMZWZ0PiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlBhcnRpY2lwYW50TGVmdCcsIFtcbiAgICAgIHsgbm86IDEsIG5hbWU6ICdjYWxsX2NpZCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAgeyBubzogMiwgbmFtZTogJ3BhcnRpY2lwYW50Jywga2luZDogJ21lc3NhZ2UnLCBUOiAoKSA9PiBQYXJ0aWNpcGFudCB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5QYXJ0aWNpcGFudExlZnRcbiAqL1xuZXhwb3J0IGNvbnN0IFBhcnRpY2lwYW50TGVmdCA9IG5ldyBQYXJ0aWNpcGFudExlZnQkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgUGFydGljaXBhbnRVcGRhdGVkJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxQYXJ0aWNpcGFudFVwZGF0ZWQ+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuZXZlbnQuUGFydGljaXBhbnRVcGRhdGVkJywgW1xuICAgICAgeyBubzogMSwgbmFtZTogJ2NhbGxfY2lkJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7IG5vOiAyLCBuYW1lOiAncGFydGljaXBhbnQnLCBraW5kOiAnbWVzc2FnZScsIFQ6ICgpID0+IFBhcnRpY2lwYW50IH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlBhcnRpY2lwYW50VXBkYXRlZFxuICovXG5leHBvcnQgY29uc3QgUGFydGljaXBhbnRVcGRhdGVkID0gbmV3IFBhcnRpY2lwYW50VXBkYXRlZCRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBTdWJzY3JpYmVyT2ZmZXIkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFN1YnNjcmliZXJPZmZlcj4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5TdWJzY3JpYmVyT2ZmZXInLCBbXG4gICAgICB7IG5vOiAxLCBuYW1lOiAnaWNlX3Jlc3RhcnQnLCBraW5kOiAnc2NhbGFyJywgVDogOCAvKlNjYWxhclR5cGUuQk9PTCovIH0sXG4gICAgICB7IG5vOiAyLCBuYW1lOiAnc2RwJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlN1YnNjcmliZXJPZmZlclxuICovXG5leHBvcnQgY29uc3QgU3Vic2NyaWJlck9mZmVyID0gbmV3IFN1YnNjcmliZXJPZmZlciRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBQdWJsaXNoZXJBbnN3ZXIkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFB1Ymxpc2hlckFuc3dlcj4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5QdWJsaXNoZXJBbnN3ZXInLCBbXG4gICAgICB7IG5vOiAxLCBuYW1lOiAnc2RwJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlB1Ymxpc2hlckFuc3dlclxuICovXG5leHBvcnQgY29uc3QgUHVibGlzaGVyQW5zd2VyID0gbmV3IFB1Ymxpc2hlckFuc3dlciRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBDb25uZWN0aW9uUXVhbGl0eUNoYW5nZWQkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPENvbm5lY3Rpb25RdWFsaXR5Q2hhbmdlZD4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5Db25uZWN0aW9uUXVhbGl0eUNoYW5nZWQnLCBbXG4gICAgICB7XG4gICAgICAgIG5vOiAxLFxuICAgICAgICBuYW1lOiAnY29ubmVjdGlvbl9xdWFsaXR5X3VwZGF0ZXMnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIHJlcGVhdDogMSAvKlJlcGVhdFR5cGUuUEFDS0VEKi8sXG4gICAgICAgIFQ6ICgpID0+IENvbm5lY3Rpb25RdWFsaXR5SW5mbyxcbiAgICAgIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkNvbm5lY3Rpb25RdWFsaXR5Q2hhbmdlZFxuICovXG5leHBvcnQgY29uc3QgQ29ubmVjdGlvblF1YWxpdHlDaGFuZ2VkID0gbmV3IENvbm5lY3Rpb25RdWFsaXR5Q2hhbmdlZCRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBDb25uZWN0aW9uUXVhbGl0eUluZm8kVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPENvbm5lY3Rpb25RdWFsaXR5SW5mbz4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5Db25uZWN0aW9uUXVhbGl0eUluZm8nLCBbXG4gICAgICB7IG5vOiAxLCBuYW1lOiAndXNlcl9pZCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAgeyBubzogMiwgbmFtZTogJ3Nlc3Npb25faWQnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDMsXG4gICAgICAgIG5hbWU6ICdjb25uZWN0aW9uX3F1YWxpdHknLFxuICAgICAgICBraW5kOiAnZW51bScsXG4gICAgICAgIFQ6ICgpID0+IFtcbiAgICAgICAgICAnc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQ29ubmVjdGlvblF1YWxpdHknLFxuICAgICAgICAgIENvbm5lY3Rpb25RdWFsaXR5LFxuICAgICAgICAgICdDT05ORUNUSU9OX1FVQUxJVFlfJyxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkNvbm5lY3Rpb25RdWFsaXR5SW5mb1xuICovXG5leHBvcnQgY29uc3QgQ29ubmVjdGlvblF1YWxpdHlJbmZvID0gbmV3IENvbm5lY3Rpb25RdWFsaXR5SW5mbyRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBEb21pbmFudFNwZWFrZXJDaGFuZ2VkJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxEb21pbmFudFNwZWFrZXJDaGFuZ2VkPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkRvbWluYW50U3BlYWtlckNoYW5nZWQnLCBbXG4gICAgICB7IG5vOiAxLCBuYW1lOiAndXNlcl9pZCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAgeyBubzogMiwgbmFtZTogJ3Nlc3Npb25faWQnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuRG9taW5hbnRTcGVha2VyQ2hhbmdlZFxuICovXG5leHBvcnQgY29uc3QgRG9taW5hbnRTcGVha2VyQ2hhbmdlZCA9IG5ldyBEb21pbmFudFNwZWFrZXJDaGFuZ2VkJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIEF1ZGlvTGV2ZWwkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPEF1ZGlvTGV2ZWw+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuZXZlbnQuQXVkaW9MZXZlbCcsIFtcbiAgICAgIHsgbm86IDEsIG5hbWU6ICd1c2VyX2lkJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7IG5vOiAyLCBuYW1lOiAnc2Vzc2lvbl9pZCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAgeyBubzogMywgbmFtZTogJ2xldmVsJywga2luZDogJ3NjYWxhcicsIFQ6IDIgLypTY2FsYXJUeXBlLkZMT0FUKi8gfSxcbiAgICAgIHsgbm86IDQsIG5hbWU6ICdpc19zcGVha2luZycsIGtpbmQ6ICdzY2FsYXInLCBUOiA4IC8qU2NhbGFyVHlwZS5CT09MKi8gfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuQXVkaW9MZXZlbFxuICovXG5leHBvcnQgY29uc3QgQXVkaW9MZXZlbCA9IG5ldyBBdWRpb0xldmVsJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIEF1ZGlvTGV2ZWxDaGFuZ2VkJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxBdWRpb0xldmVsQ2hhbmdlZD4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5BdWRpb0xldmVsQ2hhbmdlZCcsIFtcbiAgICAgIHtcbiAgICAgICAgbm86IDEsXG4gICAgICAgIG5hbWU6ICdhdWRpb19sZXZlbHMnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIHJlcGVhdDogMSAvKlJlcGVhdFR5cGUuUEFDS0VEKi8sXG4gICAgICAgIFQ6ICgpID0+IEF1ZGlvTGV2ZWwsXG4gICAgICB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5BdWRpb0xldmVsQ2hhbmdlZFxuICovXG5leHBvcnQgY29uc3QgQXVkaW9MZXZlbENoYW5nZWQgPSBuZXcgQXVkaW9MZXZlbENoYW5nZWQkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgQXVkaW9TZW5kZXIkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPEF1ZGlvU2VuZGVyPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkF1ZGlvU2VuZGVyJywgW1xuICAgICAgeyBubzogMiwgbmFtZTogJ2NvZGVjJywga2luZDogJ21lc3NhZ2UnLCBUOiAoKSA9PiBDb2RlYyB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5BdWRpb1NlbmRlclxuICovXG5leHBvcnQgY29uc3QgQXVkaW9TZW5kZXIgPSBuZXcgQXVkaW9TZW5kZXIkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgVmlkZW9MYXllclNldHRpbmckVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFZpZGVvTGF5ZXJTZXR0aW5nPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlZpZGVvTGF5ZXJTZXR0aW5nJywgW1xuICAgICAgeyBubzogMSwgbmFtZTogJ25hbWUnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHsgbm86IDIsIG5hbWU6ICdhY3RpdmUnLCBraW5kOiAnc2NhbGFyJywgVDogOCAvKlNjYWxhclR5cGUuQk9PTCovIH0sXG4gICAgICB7IG5vOiAzLCBuYW1lOiAnbWF4X2JpdHJhdGUnLCBraW5kOiAnc2NhbGFyJywgVDogNSAvKlNjYWxhclR5cGUuSU5UMzIqLyB9LFxuICAgICAge1xuICAgICAgICBubzogNCxcbiAgICAgICAgbmFtZTogJ3NjYWxlX3Jlc29sdXRpb25fZG93bl9ieScsXG4gICAgICAgIGtpbmQ6ICdzY2FsYXInLFxuICAgICAgICBUOiAyIC8qU2NhbGFyVHlwZS5GTE9BVCovLFxuICAgICAgfSxcbiAgICAgIHsgbm86IDYsIG5hbWU6ICdjb2RlYycsIGtpbmQ6ICdtZXNzYWdlJywgVDogKCkgPT4gQ29kZWMgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDcsXG4gICAgICAgIG5hbWU6ICdtYXhfZnJhbWVyYXRlJyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIFQ6IDEzIC8qU2NhbGFyVHlwZS5VSU5UMzIqLyxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiA4LFxuICAgICAgICBuYW1lOiAnc2NhbGFiaWxpdHlfbW9kZScsXG4gICAgICAgIGtpbmQ6ICdzY2FsYXInLFxuICAgICAgICBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyxcbiAgICAgIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlZpZGVvTGF5ZXJTZXR0aW5nXG4gKi9cbmV4cG9ydCBjb25zdCBWaWRlb0xheWVyU2V0dGluZyA9IG5ldyBWaWRlb0xheWVyU2V0dGluZyRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBWaWRlb1NlbmRlciRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8VmlkZW9TZW5kZXI+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuZXZlbnQuVmlkZW9TZW5kZXInLCBbXG4gICAgICB7IG5vOiAyLCBuYW1lOiAnY29kZWMnLCBraW5kOiAnbWVzc2FnZScsIFQ6ICgpID0+IENvZGVjIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAzLFxuICAgICAgICBuYW1lOiAnbGF5ZXJzJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICByZXBlYXQ6IDEgLypSZXBlYXRUeXBlLlBBQ0tFRCovLFxuICAgICAgICBUOiAoKSA9PiBWaWRlb0xheWVyU2V0dGluZyxcbiAgICAgIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlZpZGVvU2VuZGVyXG4gKi9cbmV4cG9ydCBjb25zdCBWaWRlb1NlbmRlciA9IG5ldyBWaWRlb1NlbmRlciRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBDaGFuZ2VQdWJsaXNoUXVhbGl0eSRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8Q2hhbmdlUHVibGlzaFF1YWxpdHk+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuZXZlbnQuQ2hhbmdlUHVibGlzaFF1YWxpdHknLCBbXG4gICAgICB7XG4gICAgICAgIG5vOiAxLFxuICAgICAgICBuYW1lOiAnYXVkaW9fc2VuZGVycycsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgcmVwZWF0OiAxIC8qUmVwZWF0VHlwZS5QQUNLRUQqLyxcbiAgICAgICAgVDogKCkgPT4gQXVkaW9TZW5kZXIsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogMixcbiAgICAgICAgbmFtZTogJ3ZpZGVvX3NlbmRlcnMnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIHJlcGVhdDogMSAvKlJlcGVhdFR5cGUuUEFDS0VEKi8sXG4gICAgICAgIFQ6ICgpID0+IFZpZGVvU2VuZGVyLFxuICAgICAgfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuQ2hhbmdlUHVibGlzaFF1YWxpdHlcbiAqL1xuZXhwb3J0IGNvbnN0IENoYW5nZVB1Ymxpc2hRdWFsaXR5ID0gbmV3IENoYW5nZVB1Ymxpc2hRdWFsaXR5JFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIENhbGxHcmFudHNVcGRhdGVkJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxDYWxsR3JhbnRzVXBkYXRlZD4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5DYWxsR3JhbnRzVXBkYXRlZCcsIFtcbiAgICAgIHsgbm86IDEsIG5hbWU6ICdjdXJyZW50X2dyYW50cycsIGtpbmQ6ICdtZXNzYWdlJywgVDogKCkgPT4gQ2FsbEdyYW50cyB9LFxuICAgICAgeyBubzogMiwgbmFtZTogJ21lc3NhZ2UnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuQ2FsbEdyYW50c1VwZGF0ZWRcbiAqL1xuZXhwb3J0IGNvbnN0IENhbGxHcmFudHNVcGRhdGVkID0gbmV3IENhbGxHcmFudHNVcGRhdGVkJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIEdvQXdheSRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8R29Bd2F5PiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkdvQXdheScsIFtcbiAgICAgIHtcbiAgICAgICAgbm86IDEsXG4gICAgICAgIG5hbWU6ICdyZWFzb24nLFxuICAgICAgICBraW5kOiAnZW51bScsXG4gICAgICAgIFQ6ICgpID0+IFtcbiAgICAgICAgICAnc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuR29Bd2F5UmVhc29uJyxcbiAgICAgICAgICBHb0F3YXlSZWFzb24sXG4gICAgICAgICAgJ0dPX0FXQVlfUkVBU09OXycsXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5Hb0F3YXlcbiAqL1xuZXhwb3J0IGNvbnN0IEdvQXdheSA9IG5ldyBHb0F3YXkkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgQ2FsbEVuZGVkJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxDYWxsRW5kZWQ+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuZXZlbnQuQ2FsbEVuZGVkJywgW1xuICAgICAge1xuICAgICAgICBubzogMSxcbiAgICAgICAgbmFtZTogJ3JlYXNvbicsXG4gICAgICAgIGtpbmQ6ICdlbnVtJyxcbiAgICAgICAgVDogKCkgPT4gW1xuICAgICAgICAgICdzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5DYWxsRW5kZWRSZWFzb24nLFxuICAgICAgICAgIENhbGxFbmRlZFJlYXNvbixcbiAgICAgICAgICAnQ0FMTF9FTkRFRF9SRUFTT05fJyxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkNhbGxFbmRlZFxuICovXG5leHBvcnQgY29uc3QgQ2FsbEVuZGVkID0gbmV3IENhbGxFbmRlZCRUeXBlKCk7XG4iLCJpbXBvcnQgdHlwZSB7XG4gIFBhcnRpY2lwYW50LFxuICBWaWRlb0RpbWVuc2lvbixcbn0gZnJvbSAnLi9nZW4vdmlkZW8vc2Z1L21vZGVscy9tb2RlbHMnO1xuaW1wb3J0IHR5cGUge1xuICBKb2luQ2FsbFJlcXVlc3QsXG4gIE1lbWJlclJlc3BvbnNlLFxuICBPd25DYXBhYmlsaXR5LFxuICBSZWFjdGlvblJlc3BvbnNlLFxufSBmcm9tICcuL2dlbi9jb29yZGluYXRvcic7XG5pbXBvcnQgdHlwZSB7IFN0cmVhbUNsaWVudCB9IGZyb20gJy4vY29vcmRpbmF0b3IvY29ubmVjdGlvbi9jbGllbnQnO1xuaW1wb3J0IHR5cGUgeyBDb21wYXJhdG9yIH0gZnJvbSAnLi9zb3J0aW5nJztcbmltcG9ydCB0eXBlIHsgU3RyZWFtVmlkZW9Xcml0ZWFibGVTdGF0ZVN0b3JlIH0gZnJvbSAnLi9zdG9yZSc7XG5pbXBvcnQgeyBBeGlvc0Vycm9yIH0gZnJvbSAnYXhpb3MnO1xuXG5leHBvcnQgdHlwZSBTdHJlYW1SZWFjdGlvbiA9IFBpY2s8XG4gIFJlYWN0aW9uUmVzcG9uc2UsXG4gICd0eXBlJyB8ICdlbW9qaV9jb2RlJyB8ICdjdXN0b20nXG4+O1xuXG5leHBvcnQgZW51bSBWaXNpYmlsaXR5U3RhdGUge1xuICBVTktOT1dOID0gJ1VOS05PV04nLFxuICBWSVNJQkxFID0gJ1ZJU0lCTEUnLFxuICBJTlZJU0lCTEUgPSAnSU5WSVNJQkxFJyxcbn1cblxuZXhwb3J0IGVudW0gRGVib3VuY2VUeXBlIHtcbiAgSU1NRURJQVRFID0gMjAsXG4gIEZBU1QgPSAxMDAsXG4gIE1FRElVTSA9IDYwMCxcbiAgU0xPVyA9IDEyMDAsXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RyZWFtVmlkZW9QYXJ0aWNpcGFudCBleHRlbmRzIFBhcnRpY2lwYW50IHtcbiAgLyoqXG4gICAqIFRoZSBwYXJ0aWNpcGFudCdzIGF1ZGlvIHN0cmVhbSwgaWYgdGhleSBhcmUgcHVibGlzaGluZyBhdWRpbyBhbmRcbiAgICogd2UgaGF2ZSBzdWJzY3JpYmVkIHRvIGl0LlxuICAgKi9cbiAgYXVkaW9TdHJlYW0/OiBNZWRpYVN0cmVhbTtcblxuICAvKipcbiAgICogVGhlIHBhcnRpY2lwYW50J3MgdmlkZW8gc3RyZWFtLCBpZiB0aGV5IGFyZSBzaGFyaW5nIHRoZWlyIHZpZGVvLFxuICAgKiBhbmQgd2UgYXJlIHN1YnNjcmliZWQgdG8gaXQuXG4gICAqL1xuICB2aWRlb1N0cmVhbT86IE1lZGlhU3RyZWFtO1xuXG4gIC8qKlxuICAgKiBUaGUgcGFydGljaXBhbnQncyBzY3JlZW4gc2hhcmUgc3RyZWFtLCBpZiB0aGV5IGFyZSBzaGFyaW5nIHRoZWlyIHNjcmVlbixcbiAgICogYW5kIHdlIGFyZSBzdWJzY3JpYmVkIHRvIGl0LlxuICAgKi9cbiAgc2NyZWVuU2hhcmVTdHJlYW0/OiBNZWRpYVN0cmVhbTtcblxuICAvKipcbiAgICogVGhlIHBhcnRpY2lwYW50J3Mgc2NyZWVuIGF1ZGlvIHN0cmVhbSwgaWYgdGhleSBhcmUgc2hhcmluZyB0aGVpciBhdWRpbyxcbiAgICogYW5kIHdlIGFyZSBzdWJzY3JpYmVkIHRvIGl0LlxuICAgKi9cbiAgc2NyZWVuU2hhcmVBdWRpb1N0cmVhbT86IE1lZGlhU3RyZWFtO1xuXG4gIC8qKlxuICAgKiBUaGUgcHJlZmVycmVkIHZpZGVvIGRpbWVuc2lvbnMgZm9yIHRoaXMgcGFydGljaXBhbnQuXG4gICAqIFNldCBpdCB0byBgdW5kZWZpbmVkYCB0byB1bnN1YnNjcmliZSBmcm9tIHRoaXMgcGFydGljaXBhbnQncyB2aWRlby5cbiAgICovXG4gIHZpZGVvRGltZW5zaW9uPzogVmlkZW9EaW1lbnNpb247XG5cbiAgLyoqXG4gICAqIFRoZSBwcmVmZXJyZWQgc2NyZWVuIHNoYXJlIGRpbWVuc2lvbnMgZm9yIHRoaXMgcGFydGljaXBhbnQuXG4gICAqIFNldCBpdCB0byBgdW5kZWZpbmVkYCB0byB1bnN1YnNjcmliZSBmcm9tIHRoaXMgcGFydGljaXBhbnQncyBzY3JlZW4gc2hhcmUuXG4gICAqL1xuICBzY3JlZW5TaGFyZURpbWVuc2lvbj86IFZpZGVvRGltZW5zaW9uO1xuXG4gIC8qKlxuICAgKiBUcnVlIGlmIHRoZSBwYXJ0aWNpcGFudCBpcyB0aGUgbG9jYWwgcGFydGljaXBhbnQuXG4gICAqL1xuICBpc0xvY2FsUGFydGljaXBhbnQ/OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBUaGUgcGluIHN0YXRlIG9mIHRoZSBwYXJ0aWNpcGFudC5cbiAgICovXG4gIHBpbj86IFBhcnRpY2lwYW50UGluO1xuXG4gIC8qKlxuICAgKiBUaGUgbGFzdCByZWFjdGlvbiB0aGlzIHVzZXIgaGFzIHNlbnQgdG8gdGhpcyBjYWxsLlxuICAgKiBJbnRlZ3JhdG9ycyBjYW4gYmF0Y2gvY29sbGVjdCBwYXN0IHJlYWN0aW9ucyBhbmQgc2hvdyB0aGVtIHRvIHRoZSBVSS5cbiAgICovXG4gIHJlYWN0aW9uPzogU3RyZWFtUmVhY3Rpb247XG5cbiAgLyoqXG4gICAqIFRoZSB2aXNpYmlsaXR5IHN0YXRlIG9mIHRoZSBwYXJ0aWNpcGFudCdzIHRyYWNrcyB3aXRoaW4gYSBkZWZpbmVkIHZpZXdwb3J0LlxuICAgKi9cbiAgdmlld3BvcnRWaXNpYmlsaXR5U3RhdGU/OiBSZWNvcmQ8VmlkZW9UcmFja1R5cGUsIFZpc2liaWxpdHlTdGF0ZT47XG5cbiAgLyoqXG4gICAqIFRoZSB2b2x1bWUgb2YgdGhlIHBhcnRpY2lwYW50J3MgYXVkaW8gc3RyZWFtIChmcm9tIDAgdG8gMSkuXG4gICAqIFNldCBpdCB0byBgdW5kZWZpbmVkYCB0byB1c2UgdGhlIGRlZmF1bHQgdm9sdW1lLlxuICAgKlxuICAgKiBOb3RlOiB0aGlzIHZhbHVlIGlzIG5vdCBhcHBsaWNhYmxlIGluIFJlYWN0IE5hdGl2ZS5cbiAgICovXG4gIGF1ZGlvVm9sdW1lPzogbnVtYmVyO1xufVxuXG5leHBvcnQgdHlwZSBWaWRlb1RyYWNrVHlwZSA9ICd2aWRlb1RyYWNrJyB8ICdzY3JlZW5TaGFyZVRyYWNrJztcbmV4cG9ydCB0eXBlIEF1ZGlvVHJhY2tUeXBlID0gJ2F1ZGlvVHJhY2snIHwgJ3NjcmVlblNoYXJlQXVkaW9UcmFjayc7XG5leHBvcnQgdHlwZSBUcmFja011dGVUeXBlID1cbiAgfCAnYXVkaW8nXG4gIHwgJ3ZpZGVvJ1xuICB8ICdzY3JlZW5zaGFyZSdcbiAgfCAnc2NyZWVuc2hhcmVfYXVkaW8nO1xuXG4vKipcbiAqIFJlcHJlc2VudHMgYSBwYXJ0aWNpcGFudCdzIHBpbiBzdGF0ZS5cbiAqL1xuZXhwb3J0IHR5cGUgUGFydGljaXBhbnRQaW4gPSB7XG4gIC8qKlxuICAgKiBTZXQgdG8gdHJ1ZSBpZiB0aGUgcGFydGljaXBhbnQgaXMgcGlubmVkIGJ5IHRoZSBsb2NhbCB1c2VyLlxuICAgKiBGYWxzZSBpZiB0aGUgcGFydGljaXBhbnQgaXMgcGlubmVkIHNlcnZlci1zaWRlLCBieSB0aGUgY2FsbCBtb2RlcmF0b3IuXG4gICAqL1xuICBpc0xvY2FsUGluOiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBUaW1lc3RhbXAgd2hlbiB0aGUgcGFydGljaXBhbnQgaXMgcGlubmVkLlxuICAgKi9cbiAgcGlubmVkQXQ6IG51bWJlcjtcbn07XG5cbi8qKlxuICogQSBwYXJ0aWFsIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBTdHJlYW1WaWRlb1BhcnRpY2lwYW50LlxuICovXG5leHBvcnQgdHlwZSBTdHJlYW1WaWRlb1BhcnRpY2lwYW50UGF0Y2ggPSBQYXJ0aWFsPFN0cmVhbVZpZGVvUGFydGljaXBhbnQ+O1xuXG4vKipcbiAqIEEgY29sbGVjdGlvbiBvZiB7QGxpbmsgU3RyZWFtVmlkZW9QYXJ0aWNpcGFudFBhdGNofSBvcmdhbml6ZWQgYnkgc2Vzc2lvbklkLlxuICovXG5leHBvcnQgdHlwZSBTdHJlYW1WaWRlb1BhcnRpY2lwYW50UGF0Y2hlcyA9IHtcbiAgW3Nlc3Npb25JZDogc3RyaW5nXTogU3RyZWFtVmlkZW9QYXJ0aWNpcGFudFBhdGNoO1xufTtcblxuZXhwb3J0IHR5cGUgU3Vic2NyaXB0aW9uQ2hhbmdlID0ge1xuICAvKipcbiAgICogVGhlIHZpZGVvIGRpbWVuc2lvbiB0byByZXF1ZXN0LlxuICAgKiBTZXQgaXQgdG8gYHVuZGVmaW5lZGAgaW4gY2FzZSB5b3Ugd2FudCB0byB1bnN1YnNjcmliZS5cbiAgICovXG4gIGRpbWVuc2lvbjogVmlkZW9EaW1lbnNpb24gfCB1bmRlZmluZWQ7XG59O1xuXG5leHBvcnQgdHlwZSBTdWJzY3JpcHRpb25DaGFuZ2VzID0ge1xuICBbc2Vzc2lvbklkOiBzdHJpbmddOiBTdWJzY3JpcHRpb25DaGFuZ2U7XG59O1xuXG4vKipcbiAqIEEgcHJlZmVycmVkIGNvZGVjIHRvIHVzZSB3aGVuIHB1Ymxpc2hpbmcgYSB2aWRlbyB0cmFjay5cbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgdHlwZSBQcmVmZXJyZWRDb2RlYyA9ICd2cDgnIHwgJ2gyNjQnIHwgJ3ZwOScgfCAnYXYxJztcblxuLyoqXG4gKiBBIGNvbGxlY3Rpb24gb2YgdHJhY2sgcHVibGljYXRpb24gb3B0aW9ucy5cbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgdHlwZSBQdWJsaXNoT3B0aW9ucyA9IHtcbiAgLyoqXG4gICAqIFRoZSBwcmVmZXJyZWQgY29kZWMgdG8gdXNlIHdoZW4gcHVibGlzaGluZyB0aGUgdmlkZW8gc3RyZWFtLlxuICAgKi9cbiAgcHJlZmVycmVkQ29kZWM/OiBQcmVmZXJyZWRDb2RlYztcbiAgLyoqXG4gICAqIEZvcmNlIHRoZSBjb2RlYyB0byB1c2Ugd2hlbiBwdWJsaXNoaW5nIHRoZSB2aWRlbyBzdHJlYW0uXG4gICAqIFRoaXMgd2lsbCBvdmVycmlkZSB0aGUgcHJlZmVycmVkIGNvZGVjIGFuZCB0aGUgaW50ZXJuYWwgY29kZWMgc2VsZWN0aW9uIGxvZ2ljLlxuICAgKiBVc2Ugd2l0aCBjYXV0aW9uLlxuICAgKi9cbiAgZm9yY2VDb2RlYz86IFByZWZlcnJlZENvZGVjO1xuICAvKipcbiAgICogV2hlbiB1c2luZyBhIHByZWZlcnJlZCBjb2RlYywgZm9yY2UgdGhlIHVzZSBvZiBhIHNpbmdsZSBjb2RlYy5cbiAgICogRW5hYmxpbmcgdGhpcywgaXQgd2lsbCByZW1vdmUgYWxsIG90aGVyIHN1cHBvcnRlZCBjb2RlY3MgZnJvbSB0aGUgU0RQLlxuICAgKiBEZWZhdWx0cyB0byBmYWxzZS5cbiAgICovXG4gIGZvcmNlU2luZ2xlQ29kZWM/OiBib29sZWFuO1xuICAvKipcbiAgICogVGhlIHByZWZlcnJlZCBzY2FsYWJpbGl0eSB0byB1c2Ugd2hlbiBwdWJsaXNoaW5nIHRoZSB2aWRlbyBzdHJlYW0uXG4gICAqIEFwcGxpY2FibGUgb25seSBmb3IgU1ZDIGNvZGVjcy5cbiAgICovXG4gIHNjYWxhYmlsaXR5TW9kZT86IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSBwcmVmZXJyZWQgYml0cmF0ZSB0byB1c2Ugd2hlbiBwdWJsaXNoaW5nIHRoZSB2aWRlbyBzdHJlYW0uXG4gICAqL1xuICBwcmVmZXJyZWRCaXRyYXRlPzogbnVtYmVyO1xuICAvKipcbiAgICogVGhlIHByZWZlcnJlZCBkb3duc2NhbGUgZmFjdG9yIHRvIHVzZSB3aGVuIHB1Ymxpc2hpbmcgdGhlIHZpZGVvIHN0cmVhbVxuICAgKiBpbiBzaW11bGNhc3QgbW9kZSAobm9uLVNWQykuXG4gICAqL1xuICBiaXRyYXRlRG93bnNjYWxlRmFjdG9yPzogbnVtYmVyO1xuICAvKipcbiAgICogVGhlIG1heGltdW0gbnVtYmVyIG9mIHNpbXVsY2FzdCBsYXllcnMgdG8gdXNlIHdoZW4gcHVibGlzaGluZyB0aGUgdmlkZW8gc3RyZWFtLlxuICAgKi9cbiAgbWF4U2ltdWxjYXN0TGF5ZXJzPzogbnVtYmVyO1xuICAvKipcbiAgICogU2NyZWVuIHNoYXJlIHNldHRpbmdzLlxuICAgKi9cbiAgc2NyZWVuU2hhcmVTZXR0aW5ncz86IFNjcmVlblNoYXJlU2V0dGluZ3M7XG59O1xuXG5leHBvcnQgdHlwZSBTY3JlZW5TaGFyZVNldHRpbmdzID0ge1xuICAvKipcbiAgICogTGltaXRzIHRoZSBtYXhpbXVtIGZyYW1lcmF0ZSAoaW4gZnJhbWVzIHBlciBzZWNvbmQpIG9mIHRoZSBzY3JlZW4gc2hhcmUuXG4gICAqIERlZmF1bHRzIHRvIDMwLlxuICAgKi9cbiAgbWF4RnJhbWVyYXRlPzogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBMaW1pdHMgdGhlIG1heGltdW0gYml0cmF0ZSAoaW4gYml0cyBwZXIgc2Vjb25kKSBvZiB0aGUgc2NyZWVuIHNoYXJlLlxuICAgKiBEZWZhdWx0cyB0byAzMDAwMDAwICgzTWJwcykuXG4gICAqL1xuICBtYXhCaXRyYXRlPzogbnVtYmVyO1xufTtcblxuZXhwb3J0IHR5cGUgQ2FsbExlYXZlT3B0aW9ucyA9IHtcbiAgLyoqXG4gICAqIElmIHRydWUsIHRoZSBjYWxsZXIgd2lsbCBnZXQgYSBgY2FsbC5yZWplY3RlZGAgZXZlbnQuXG4gICAqIEhhcyBhbiBlZmZlY3Qgb25seSBpZiB0aGUgY2FsbCBpcyBpbiB0aGUgYHJpbmdpbmdgIHN0YXRlLlxuICAgKi9cbiAgcmVqZWN0PzogYm9vbGVhbjtcblxuICAvKipcbiAgICogVGhlIHJlYXNvbiBmb3IgbGVhdmluZyB0aGUgY2FsbC5cbiAgICogVGhpcyB3aWxsIGJlIHNlbnQgdG8gdGhlIGJhY2tlbmQgYW5kIHdpbGwgYmUgdmlzaWJsZSBpbiB0aGUgbG9ncy5cbiAgICovXG4gIHJlYXNvbj86IHN0cmluZztcbn07XG5cbi8qKlxuICogVGhlIG9wdGlvbnMgdG8gcGFzcyB0byB7QGxpbmsgQ2FsbH0gY29uc3RydWN0b3IuXG4gKi9cbmV4cG9ydCB0eXBlIENhbGxDb25zdHJ1Y3RvciA9IHtcbiAgLyoqXG4gICAqIFRoZSBzdHJlYW1DbGllbnQgaW5zdGFuY2UgdG8gdXNlLlxuICAgKi9cbiAgc3RyZWFtQ2xpZW50OiBTdHJlYW1DbGllbnQ7XG5cbiAgLyoqXG4gICAqIFRoZSBDYWxsIHR5cGUuXG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBDYWxsIElELlxuICAgKi9cbiAgaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogQW4gb3B0aW9uYWwgbGlzdCBvZiB7QGxpbmsgTWVtYmVyUmVzcG9uc2V9IGZyb20gdGhlIGJhY2tlbmQuXG4gICAqIElmIHByb3ZpZGVkLCB0aGUgY2FsbCB3aWxsIGJlIGluaXRpYWxpemVkIHdpdGggdGhlIGRhdGEgZnJvbSB0aGlzIG9iamVjdC5cbiAgICogVGhpcyBpcyB1c2VmdWwgd2hlbiBpbml0aWFsaXppbmcgYSBuZXcgXCJwZW5kaW5nIGNhbGxcIiBmcm9tIGFuIGV2ZW50LlxuICAgKi9cbiAgbWVtYmVycz86IE1lbWJlclJlc3BvbnNlW107XG5cbiAgLyoqXG4gICAqIEFuIG9wdGlvbmFsIGxpc3Qgb2Yge0BsaW5rIE93bkNhcGFiaWxpdHl9IGNvbWluZyBmcm9tIHRoZSBiYWNrZWQuXG4gICAqIElmIHByb3ZpZGVkLCB0aGUgY2FsbCB3aWxsIGJlIGluaXRpYWxpemVkIHdpdGggdGhlIGRhdGEgZnJvbSB0aGlzIG9iamVjdC5cbiAgICogVGhpcyBpcyB1c2VmdWwgd2hlbiBpbml0aWFsaXppbmcgYSBuZXcgXCJwZW5kaW5nIGNhbGxcIiBmcm9tIGFuIGV2ZW50LlxuICAgKi9cbiAgb3duQ2FwYWJpbGl0aWVzPzogT3duQ2FwYWJpbGl0eVtdO1xuXG4gIC8qKlxuICAgKiBGbGFncyB0aGUgY2FsbCBhcyBhIHJpbmdpbmcgY2FsbC5cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIHJpbmdpbmc/OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBTZXQgdG8gdHJ1ZSBpZiB0aGlzIGNhbGwgaW5zdGFuY2Ugc2hvdWxkIHJlY2VpdmUgdXBkYXRlcyBmcm9tIHRoZSBiYWNrZW5kLlxuICAgKlxuICAgKiBAZGVmYXVsdCBmYWxzZS5cbiAgICovXG4gIHdhdGNoaW5nPzogYm9vbGVhbjtcblxuICAvKipcbiAgICogVGhlIGRlZmF1bHQgY29tcGFyYXRvciB0byB1c2Ugd2hlbiBzb3J0aW5nIHBhcnRpY2lwYW50cy5cbiAgICovXG4gIHNvcnRQYXJ0aWNpcGFudHNCeT86IENvbXBhcmF0b3I8U3RyZWFtVmlkZW9QYXJ0aWNpcGFudD47XG5cbiAgLyoqXG4gICAqIFRoZSBzdGF0ZSBzdG9yZSBvZiB0aGUgY2xpZW50XG4gICAqL1xuICBjbGllbnRTdG9yZTogU3RyZWFtVmlkZW9Xcml0ZWFibGVTdGF0ZVN0b3JlO1xufTtcblxuLyoqXG4gKiBUaGUgb3B0aW9ucyB0byBwYXNzIHRvIHtAbGluayBDYWxsLmpvaW59IG1ldGhvZC5cbiAqL1xuZXhwb3J0IHR5cGUgSm9pbkNhbGxEYXRhID0gT21pdDxKb2luQ2FsbFJlcXVlc3QsICdsb2NhdGlvbic+O1xuZXhwb3J0IHsgQXhpb3NFcnJvciB9O1xuIiwiLyogZXNsaW50LWRpc2FibGUgKi9cbi8vIEBnZW5lcmF0ZWQgYnkgcHJvdG9idWYtdHMgMi45LjQgd2l0aCBwYXJhbWV0ZXIgbG9uZ190eXBlX3N0cmluZyxjbGllbnRfZ2VuZXJpYyxzZXJ2ZXJfbm9uZSxlc2xpbnRfZGlzYWJsZSxvcHRpbWl6ZV9jb2RlX3NpemVcbi8vIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWxlIFwidmlkZW8vc2Z1L3NpZ25hbF9ycGMvc2lnbmFsLnByb3RvXCIgKHBhY2thZ2UgXCJzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbFwiLCBzeW50YXggcHJvdG8zKVxuLy8gdHNsaW50OmRpc2FibGVcbmltcG9ydCB0eXBlIHsgUnBjVHJhbnNwb3J0IH0gZnJvbSAnQHByb3RvYnVmLXRzL3J1bnRpbWUtcnBjJztcbmltcG9ydCB0eXBlIHsgU2VydmljZUluZm8gfSBmcm9tICdAcHJvdG9idWYtdHMvcnVudGltZS1ycGMnO1xuaW1wb3J0IHsgU2lnbmFsU2VydmVyIH0gZnJvbSAnLi9zaWduYWwnO1xuaW1wb3J0IHR5cGUgeyBTdG9wTm9pc2VDYW5jZWxsYXRpb25SZXNwb25zZSB9IGZyb20gJy4vc2lnbmFsJztcbmltcG9ydCB0eXBlIHsgU3RvcE5vaXNlQ2FuY2VsbGF0aW9uUmVxdWVzdCB9IGZyb20gJy4vc2lnbmFsJztcbmltcG9ydCB0eXBlIHsgU3RhcnROb2lzZUNhbmNlbGxhdGlvblJlc3BvbnNlIH0gZnJvbSAnLi9zaWduYWwnO1xuaW1wb3J0IHR5cGUgeyBTdGFydE5vaXNlQ2FuY2VsbGF0aW9uUmVxdWVzdCB9IGZyb20gJy4vc2lnbmFsJztcbmltcG9ydCB0eXBlIHsgU2VuZFN0YXRzUmVzcG9uc2UgfSBmcm9tICcuL3NpZ25hbCc7XG5pbXBvcnQgdHlwZSB7IFNlbmRTdGF0c1JlcXVlc3QgfSBmcm9tICcuL3NpZ25hbCc7XG5pbXBvcnQgdHlwZSB7IElDRVJlc3RhcnRSZXNwb25zZSB9IGZyb20gJy4vc2lnbmFsJztcbmltcG9ydCB0eXBlIHsgSUNFUmVzdGFydFJlcXVlc3QgfSBmcm9tICcuL3NpZ25hbCc7XG5pbXBvcnQgdHlwZSB7IFVwZGF0ZU11dGVTdGF0ZXNSZXNwb25zZSB9IGZyb20gJy4vc2lnbmFsJztcbmltcG9ydCB0eXBlIHsgVXBkYXRlTXV0ZVN0YXRlc1JlcXVlc3QgfSBmcm9tICcuL3NpZ25hbCc7XG5pbXBvcnQgdHlwZSB7IFVwZGF0ZVN1YnNjcmlwdGlvbnNSZXNwb25zZSB9IGZyb20gJy4vc2lnbmFsJztcbmltcG9ydCB0eXBlIHsgVXBkYXRlU3Vic2NyaXB0aW9uc1JlcXVlc3QgfSBmcm9tICcuL3NpZ25hbCc7XG5pbXBvcnQgdHlwZSB7IElDRVRyaWNrbGVSZXNwb25zZSB9IGZyb20gJy4vc2lnbmFsJztcbmltcG9ydCB0eXBlIHsgSUNFVHJpY2tsZSB9IGZyb20gJy4uL21vZGVscy9tb2RlbHMnO1xuaW1wb3J0IHR5cGUgeyBTZW5kQW5zd2VyUmVzcG9uc2UgfSBmcm9tICcuL3NpZ25hbCc7XG5pbXBvcnQgdHlwZSB7IFNlbmRBbnN3ZXJSZXF1ZXN0IH0gZnJvbSAnLi9zaWduYWwnO1xuaW1wb3J0IHsgc3RhY2tJbnRlcmNlcHQgfSBmcm9tICdAcHJvdG9idWYtdHMvcnVudGltZS1ycGMnO1xuaW1wb3J0IHR5cGUgeyBTZXRQdWJsaXNoZXJSZXNwb25zZSB9IGZyb20gJy4vc2lnbmFsJztcbmltcG9ydCB0eXBlIHsgU2V0UHVibGlzaGVyUmVxdWVzdCB9IGZyb20gJy4vc2lnbmFsJztcbmltcG9ydCB0eXBlIHsgVW5hcnlDYWxsIH0gZnJvbSAnQHByb3RvYnVmLXRzL3J1bnRpbWUtcnBjJztcbmltcG9ydCB0eXBlIHsgUnBjT3B0aW9ucyB9IGZyb20gJ0Bwcm90b2J1Zi10cy9ydW50aW1lLXJwYyc7XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBzZXJ2aWNlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlNpZ25hbFNlcnZlclxuICovXG5leHBvcnQgaW50ZXJmYWNlIElTaWduYWxTZXJ2ZXJDbGllbnQge1xuICAvKipcbiAgICogU2V0UHVibGlzaGVyIHNlbmRzIHRoZSBXZWJSVEMgb2ZmZXIgZm9yIHRoZSBwZWVyIGNvbm5lY3Rpb24gdXNlZCB0byBwdWJsaXNoIEEvVlxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgcnBjOiBTZXRQdWJsaXNoZXIoc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU2V0UHVibGlzaGVyUmVxdWVzdCkgcmV0dXJucyAoc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU2V0UHVibGlzaGVyUmVzcG9uc2UpO1xuICAgKi9cbiAgc2V0UHVibGlzaGVyKFxuICAgIGlucHV0OiBTZXRQdWJsaXNoZXJSZXF1ZXN0LFxuICAgIG9wdGlvbnM/OiBScGNPcHRpb25zLFxuICApOiBVbmFyeUNhbGw8U2V0UHVibGlzaGVyUmVxdWVzdCwgU2V0UHVibGlzaGVyUmVzcG9uc2U+O1xuICAvKipcbiAgICogYW5zd2VyIGlzIHNlbnQgYnkgdGhlIGNsaWVudCB0byB0aGUgU0ZVIGFmdGVyIHJlY2VpdmluZyBhIHN1YnNjcmliZXJfb2ZmZXIuXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBycGM6IFNlbmRBbnN3ZXIoc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU2VuZEFuc3dlclJlcXVlc3QpIHJldHVybnMgKHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlNlbmRBbnN3ZXJSZXNwb25zZSk7XG4gICAqL1xuICBzZW5kQW5zd2VyKFxuICAgIGlucHV0OiBTZW5kQW5zd2VyUmVxdWVzdCxcbiAgICBvcHRpb25zPzogUnBjT3B0aW9ucyxcbiAgKTogVW5hcnlDYWxsPFNlbmRBbnN3ZXJSZXF1ZXN0LCBTZW5kQW5zd2VyUmVzcG9uc2U+O1xuICAvKipcbiAgICogU2VuZElDRUNhbmRpZGF0ZSBzZW5kcyBhbiBJQ0UgY2FuZGlkYXRlIHRvIHRoZSBjbGllbnRcbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIHJwYzogSWNlVHJpY2tsZShzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5JQ0VUcmlja2xlKSByZXR1cm5zIChzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5JQ0VUcmlja2xlUmVzcG9uc2UpO1xuICAgKi9cbiAgaWNlVHJpY2tsZShcbiAgICBpbnB1dDogSUNFVHJpY2tsZSxcbiAgICBvcHRpb25zPzogUnBjT3B0aW9ucyxcbiAgKTogVW5hcnlDYWxsPElDRVRyaWNrbGUsIElDRVRyaWNrbGVSZXNwb25zZT47XG4gIC8qKlxuICAgKiBVcGRhdGVTdWJzY3JpYmVycyBpcyB1c2VkIHRvIG5vdGlmeSB0aGUgU0ZVIGFib3V0IHRoZSBsaXN0IG9mIHZpZGVvIHN1YnNjcmlwdGlvbnNcbiAgICogVE9ETzogc3luYyBzdWJzY3JpcHRpb25zIGJhc2VkIG9uIHRoaXMgKyB1cGRhdGUgdHJhY2tzIHVzaW5nIHRoZSBkaW1lbnNpb24gaW5mbyBzZW50IGJ5IHRoZSB1c2VyXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBycGM6IFVwZGF0ZVN1YnNjcmlwdGlvbnMoc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuVXBkYXRlU3Vic2NyaXB0aW9uc1JlcXVlc3QpIHJldHVybnMgKHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlVwZGF0ZVN1YnNjcmlwdGlvbnNSZXNwb25zZSk7XG4gICAqL1xuICB1cGRhdGVTdWJzY3JpcHRpb25zKFxuICAgIGlucHV0OiBVcGRhdGVTdWJzY3JpcHRpb25zUmVxdWVzdCxcbiAgICBvcHRpb25zPzogUnBjT3B0aW9ucyxcbiAgKTogVW5hcnlDYWxsPFVwZGF0ZVN1YnNjcmlwdGlvbnNSZXF1ZXN0LCBVcGRhdGVTdWJzY3JpcHRpb25zUmVzcG9uc2U+O1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIHJwYzogVXBkYXRlTXV0ZVN0YXRlcyhzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5VcGRhdGVNdXRlU3RhdGVzUmVxdWVzdCkgcmV0dXJucyAoc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuVXBkYXRlTXV0ZVN0YXRlc1Jlc3BvbnNlKTtcbiAgICovXG4gIHVwZGF0ZU11dGVTdGF0ZXMoXG4gICAgaW5wdXQ6IFVwZGF0ZU11dGVTdGF0ZXNSZXF1ZXN0LFxuICAgIG9wdGlvbnM/OiBScGNPcHRpb25zLFxuICApOiBVbmFyeUNhbGw8VXBkYXRlTXV0ZVN0YXRlc1JlcXVlc3QsIFVwZGF0ZU11dGVTdGF0ZXNSZXNwb25zZT47XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgcnBjOiBJY2VSZXN0YXJ0KHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLklDRVJlc3RhcnRSZXF1ZXN0KSByZXR1cm5zIChzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5JQ0VSZXN0YXJ0UmVzcG9uc2UpO1xuICAgKi9cbiAgaWNlUmVzdGFydChcbiAgICBpbnB1dDogSUNFUmVzdGFydFJlcXVlc3QsXG4gICAgb3B0aW9ucz86IFJwY09wdGlvbnMsXG4gICk6IFVuYXJ5Q2FsbDxJQ0VSZXN0YXJ0UmVxdWVzdCwgSUNFUmVzdGFydFJlc3BvbnNlPjtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBycGM6IFNlbmRTdGF0cyhzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TZW5kU3RhdHNSZXF1ZXN0KSByZXR1cm5zIChzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TZW5kU3RhdHNSZXNwb25zZSk7XG4gICAqL1xuICBzZW5kU3RhdHMoXG4gICAgaW5wdXQ6IFNlbmRTdGF0c1JlcXVlc3QsXG4gICAgb3B0aW9ucz86IFJwY09wdGlvbnMsXG4gICk6IFVuYXJ5Q2FsbDxTZW5kU3RhdHNSZXF1ZXN0LCBTZW5kU3RhdHNSZXNwb25zZT47XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgcnBjOiBTdGFydE5vaXNlQ2FuY2VsbGF0aW9uKHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlN0YXJ0Tm9pc2VDYW5jZWxsYXRpb25SZXF1ZXN0KSByZXR1cm5zIChzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TdGFydE5vaXNlQ2FuY2VsbGF0aW9uUmVzcG9uc2UpO1xuICAgKi9cbiAgc3RhcnROb2lzZUNhbmNlbGxhdGlvbihcbiAgICBpbnB1dDogU3RhcnROb2lzZUNhbmNlbGxhdGlvblJlcXVlc3QsXG4gICAgb3B0aW9ucz86IFJwY09wdGlvbnMsXG4gICk6IFVuYXJ5Q2FsbDxTdGFydE5vaXNlQ2FuY2VsbGF0aW9uUmVxdWVzdCwgU3RhcnROb2lzZUNhbmNlbGxhdGlvblJlc3BvbnNlPjtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBycGM6IFN0b3BOb2lzZUNhbmNlbGxhdGlvbihzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TdG9wTm9pc2VDYW5jZWxsYXRpb25SZXF1ZXN0KSByZXR1cm5zIChzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TdG9wTm9pc2VDYW5jZWxsYXRpb25SZXNwb25zZSk7XG4gICAqL1xuICBzdG9wTm9pc2VDYW5jZWxsYXRpb24oXG4gICAgaW5wdXQ6IFN0b3BOb2lzZUNhbmNlbGxhdGlvblJlcXVlc3QsXG4gICAgb3B0aW9ucz86IFJwY09wdGlvbnMsXG4gICk6IFVuYXJ5Q2FsbDxTdG9wTm9pc2VDYW5jZWxsYXRpb25SZXF1ZXN0LCBTdG9wTm9pc2VDYW5jZWxsYXRpb25SZXNwb25zZT47XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBzZXJ2aWNlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlNpZ25hbFNlcnZlclxuICovXG5leHBvcnQgY2xhc3MgU2lnbmFsU2VydmVyQ2xpZW50IGltcGxlbWVudHMgSVNpZ25hbFNlcnZlckNsaWVudCwgU2VydmljZUluZm8ge1xuICB0eXBlTmFtZSA9IFNpZ25hbFNlcnZlci50eXBlTmFtZTtcbiAgbWV0aG9kcyA9IFNpZ25hbFNlcnZlci5tZXRob2RzO1xuICBvcHRpb25zID0gU2lnbmFsU2VydmVyLm9wdGlvbnM7XG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgX3RyYW5zcG9ydDogUnBjVHJhbnNwb3J0KSB7fVxuICAvKipcbiAgICogU2V0UHVibGlzaGVyIHNlbmRzIHRoZSBXZWJSVEMgb2ZmZXIgZm9yIHRoZSBwZWVyIGNvbm5lY3Rpb24gdXNlZCB0byBwdWJsaXNoIEEvVlxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgcnBjOiBTZXRQdWJsaXNoZXIoc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU2V0UHVibGlzaGVyUmVxdWVzdCkgcmV0dXJucyAoc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU2V0UHVibGlzaGVyUmVzcG9uc2UpO1xuICAgKi9cbiAgc2V0UHVibGlzaGVyKFxuICAgIGlucHV0OiBTZXRQdWJsaXNoZXJSZXF1ZXN0LFxuICAgIG9wdGlvbnM/OiBScGNPcHRpb25zLFxuICApOiBVbmFyeUNhbGw8U2V0UHVibGlzaGVyUmVxdWVzdCwgU2V0UHVibGlzaGVyUmVzcG9uc2U+IHtcbiAgICBjb25zdCBtZXRob2QgPSB0aGlzLm1ldGhvZHNbMF0sXG4gICAgICBvcHQgPSB0aGlzLl90cmFuc3BvcnQubWVyZ2VPcHRpb25zKG9wdGlvbnMpO1xuICAgIHJldHVybiBzdGFja0ludGVyY2VwdDxTZXRQdWJsaXNoZXJSZXF1ZXN0LCBTZXRQdWJsaXNoZXJSZXNwb25zZT4oXG4gICAgICAndW5hcnknLFxuICAgICAgdGhpcy5fdHJhbnNwb3J0LFxuICAgICAgbWV0aG9kLFxuICAgICAgb3B0LFxuICAgICAgaW5wdXQsXG4gICAgKTtcbiAgfVxuICAvKipcbiAgICogYW5zd2VyIGlzIHNlbnQgYnkgdGhlIGNsaWVudCB0byB0aGUgU0ZVIGFmdGVyIHJlY2VpdmluZyBhIHN1YnNjcmliZXJfb2ZmZXIuXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBycGM6IFNlbmRBbnN3ZXIoc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU2VuZEFuc3dlclJlcXVlc3QpIHJldHVybnMgKHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlNlbmRBbnN3ZXJSZXNwb25zZSk7XG4gICAqL1xuICBzZW5kQW5zd2VyKFxuICAgIGlucHV0OiBTZW5kQW5zd2VyUmVxdWVzdCxcbiAgICBvcHRpb25zPzogUnBjT3B0aW9ucyxcbiAgKTogVW5hcnlDYWxsPFNlbmRBbnN3ZXJSZXF1ZXN0LCBTZW5kQW5zd2VyUmVzcG9uc2U+IHtcbiAgICBjb25zdCBtZXRob2QgPSB0aGlzLm1ldGhvZHNbMV0sXG4gICAgICBvcHQgPSB0aGlzLl90cmFuc3BvcnQubWVyZ2VPcHRpb25zKG9wdGlvbnMpO1xuICAgIHJldHVybiBzdGFja0ludGVyY2VwdDxTZW5kQW5zd2VyUmVxdWVzdCwgU2VuZEFuc3dlclJlc3BvbnNlPihcbiAgICAgICd1bmFyeScsXG4gICAgICB0aGlzLl90cmFuc3BvcnQsXG4gICAgICBtZXRob2QsXG4gICAgICBvcHQsXG4gICAgICBpbnB1dCxcbiAgICApO1xuICB9XG4gIC8qKlxuICAgKiBTZW5kSUNFQ2FuZGlkYXRlIHNlbmRzIGFuIElDRSBjYW5kaWRhdGUgdG8gdGhlIGNsaWVudFxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgcnBjOiBJY2VUcmlja2xlKHN0cmVhbS52aWRlby5zZnUubW9kZWxzLklDRVRyaWNrbGUpIHJldHVybnMgKHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLklDRVRyaWNrbGVSZXNwb25zZSk7XG4gICAqL1xuICBpY2VUcmlja2xlKFxuICAgIGlucHV0OiBJQ0VUcmlja2xlLFxuICAgIG9wdGlvbnM/OiBScGNPcHRpb25zLFxuICApOiBVbmFyeUNhbGw8SUNFVHJpY2tsZSwgSUNFVHJpY2tsZVJlc3BvbnNlPiB7XG4gICAgY29uc3QgbWV0aG9kID0gdGhpcy5tZXRob2RzWzJdLFxuICAgICAgb3B0ID0gdGhpcy5fdHJhbnNwb3J0Lm1lcmdlT3B0aW9ucyhvcHRpb25zKTtcbiAgICByZXR1cm4gc3RhY2tJbnRlcmNlcHQ8SUNFVHJpY2tsZSwgSUNFVHJpY2tsZVJlc3BvbnNlPihcbiAgICAgICd1bmFyeScsXG4gICAgICB0aGlzLl90cmFuc3BvcnQsXG4gICAgICBtZXRob2QsXG4gICAgICBvcHQsXG4gICAgICBpbnB1dCxcbiAgICApO1xuICB9XG4gIC8qKlxuICAgKiBVcGRhdGVTdWJzY3JpYmVycyBpcyB1c2VkIHRvIG5vdGlmeSB0aGUgU0ZVIGFib3V0IHRoZSBsaXN0IG9mIHZpZGVvIHN1YnNjcmlwdGlvbnNcbiAgICogVE9ETzogc3luYyBzdWJzY3JpcHRpb25zIGJhc2VkIG9uIHRoaXMgKyB1cGRhdGUgdHJhY2tzIHVzaW5nIHRoZSBkaW1lbnNpb24gaW5mbyBzZW50IGJ5IHRoZSB1c2VyXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBycGM6IFVwZGF0ZVN1YnNjcmlwdGlvbnMoc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuVXBkYXRlU3Vic2NyaXB0aW9uc1JlcXVlc3QpIHJldHVybnMgKHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlVwZGF0ZVN1YnNjcmlwdGlvbnNSZXNwb25zZSk7XG4gICAqL1xuICB1cGRhdGVTdWJzY3JpcHRpb25zKFxuICAgIGlucHV0OiBVcGRhdGVTdWJzY3JpcHRpb25zUmVxdWVzdCxcbiAgICBvcHRpb25zPzogUnBjT3B0aW9ucyxcbiAgKTogVW5hcnlDYWxsPFVwZGF0ZVN1YnNjcmlwdGlvbnNSZXF1ZXN0LCBVcGRhdGVTdWJzY3JpcHRpb25zUmVzcG9uc2U+IHtcbiAgICBjb25zdCBtZXRob2QgPSB0aGlzLm1ldGhvZHNbM10sXG4gICAgICBvcHQgPSB0aGlzLl90cmFuc3BvcnQubWVyZ2VPcHRpb25zKG9wdGlvbnMpO1xuICAgIHJldHVybiBzdGFja0ludGVyY2VwdDxcbiAgICAgIFVwZGF0ZVN1YnNjcmlwdGlvbnNSZXF1ZXN0LFxuICAgICAgVXBkYXRlU3Vic2NyaXB0aW9uc1Jlc3BvbnNlXG4gICAgPigndW5hcnknLCB0aGlzLl90cmFuc3BvcnQsIG1ldGhvZCwgb3B0LCBpbnB1dCk7XG4gIH1cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBycGM6IFVwZGF0ZU11dGVTdGF0ZXMoc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuVXBkYXRlTXV0ZVN0YXRlc1JlcXVlc3QpIHJldHVybnMgKHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlVwZGF0ZU11dGVTdGF0ZXNSZXNwb25zZSk7XG4gICAqL1xuICB1cGRhdGVNdXRlU3RhdGVzKFxuICAgIGlucHV0OiBVcGRhdGVNdXRlU3RhdGVzUmVxdWVzdCxcbiAgICBvcHRpb25zPzogUnBjT3B0aW9ucyxcbiAgKTogVW5hcnlDYWxsPFVwZGF0ZU11dGVTdGF0ZXNSZXF1ZXN0LCBVcGRhdGVNdXRlU3RhdGVzUmVzcG9uc2U+IHtcbiAgICBjb25zdCBtZXRob2QgPSB0aGlzLm1ldGhvZHNbNF0sXG4gICAgICBvcHQgPSB0aGlzLl90cmFuc3BvcnQubWVyZ2VPcHRpb25zKG9wdGlvbnMpO1xuICAgIHJldHVybiBzdGFja0ludGVyY2VwdDxVcGRhdGVNdXRlU3RhdGVzUmVxdWVzdCwgVXBkYXRlTXV0ZVN0YXRlc1Jlc3BvbnNlPihcbiAgICAgICd1bmFyeScsXG4gICAgICB0aGlzLl90cmFuc3BvcnQsXG4gICAgICBtZXRob2QsXG4gICAgICBvcHQsXG4gICAgICBpbnB1dCxcbiAgICApO1xuICB9XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgcnBjOiBJY2VSZXN0YXJ0KHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLklDRVJlc3RhcnRSZXF1ZXN0KSByZXR1cm5zIChzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5JQ0VSZXN0YXJ0UmVzcG9uc2UpO1xuICAgKi9cbiAgaWNlUmVzdGFydChcbiAgICBpbnB1dDogSUNFUmVzdGFydFJlcXVlc3QsXG4gICAgb3B0aW9ucz86IFJwY09wdGlvbnMsXG4gICk6IFVuYXJ5Q2FsbDxJQ0VSZXN0YXJ0UmVxdWVzdCwgSUNFUmVzdGFydFJlc3BvbnNlPiB7XG4gICAgY29uc3QgbWV0aG9kID0gdGhpcy5tZXRob2RzWzVdLFxuICAgICAgb3B0ID0gdGhpcy5fdHJhbnNwb3J0Lm1lcmdlT3B0aW9ucyhvcHRpb25zKTtcbiAgICByZXR1cm4gc3RhY2tJbnRlcmNlcHQ8SUNFUmVzdGFydFJlcXVlc3QsIElDRVJlc3RhcnRSZXNwb25zZT4oXG4gICAgICAndW5hcnknLFxuICAgICAgdGhpcy5fdHJhbnNwb3J0LFxuICAgICAgbWV0aG9kLFxuICAgICAgb3B0LFxuICAgICAgaW5wdXQsXG4gICAgKTtcbiAgfVxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIHJwYzogU2VuZFN0YXRzKHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlNlbmRTdGF0c1JlcXVlc3QpIHJldHVybnMgKHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlNlbmRTdGF0c1Jlc3BvbnNlKTtcbiAgICovXG4gIHNlbmRTdGF0cyhcbiAgICBpbnB1dDogU2VuZFN0YXRzUmVxdWVzdCxcbiAgICBvcHRpb25zPzogUnBjT3B0aW9ucyxcbiAgKTogVW5hcnlDYWxsPFNlbmRTdGF0c1JlcXVlc3QsIFNlbmRTdGF0c1Jlc3BvbnNlPiB7XG4gICAgY29uc3QgbWV0aG9kID0gdGhpcy5tZXRob2RzWzZdLFxuICAgICAgb3B0ID0gdGhpcy5fdHJhbnNwb3J0Lm1lcmdlT3B0aW9ucyhvcHRpb25zKTtcbiAgICByZXR1cm4gc3RhY2tJbnRlcmNlcHQ8U2VuZFN0YXRzUmVxdWVzdCwgU2VuZFN0YXRzUmVzcG9uc2U+KFxuICAgICAgJ3VuYXJ5JyxcbiAgICAgIHRoaXMuX3RyYW5zcG9ydCxcbiAgICAgIG1ldGhvZCxcbiAgICAgIG9wdCxcbiAgICAgIGlucHV0LFxuICAgICk7XG4gIH1cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBycGM6IFN0YXJ0Tm9pc2VDYW5jZWxsYXRpb24oc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU3RhcnROb2lzZUNhbmNlbGxhdGlvblJlcXVlc3QpIHJldHVybnMgKHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlN0YXJ0Tm9pc2VDYW5jZWxsYXRpb25SZXNwb25zZSk7XG4gICAqL1xuICBzdGFydE5vaXNlQ2FuY2VsbGF0aW9uKFxuICAgIGlucHV0OiBTdGFydE5vaXNlQ2FuY2VsbGF0aW9uUmVxdWVzdCxcbiAgICBvcHRpb25zPzogUnBjT3B0aW9ucyxcbiAgKTogVW5hcnlDYWxsPFN0YXJ0Tm9pc2VDYW5jZWxsYXRpb25SZXF1ZXN0LCBTdGFydE5vaXNlQ2FuY2VsbGF0aW9uUmVzcG9uc2U+IHtcbiAgICBjb25zdCBtZXRob2QgPSB0aGlzLm1ldGhvZHNbN10sXG4gICAgICBvcHQgPSB0aGlzLl90cmFuc3BvcnQubWVyZ2VPcHRpb25zKG9wdGlvbnMpO1xuICAgIHJldHVybiBzdGFja0ludGVyY2VwdDxcbiAgICAgIFN0YXJ0Tm9pc2VDYW5jZWxsYXRpb25SZXF1ZXN0LFxuICAgICAgU3RhcnROb2lzZUNhbmNlbGxhdGlvblJlc3BvbnNlXG4gICAgPigndW5hcnknLCB0aGlzLl90cmFuc3BvcnQsIG1ldGhvZCwgb3B0LCBpbnB1dCk7XG4gIH1cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBycGM6IFN0b3BOb2lzZUNhbmNlbGxhdGlvbihzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TdG9wTm9pc2VDYW5jZWxsYXRpb25SZXF1ZXN0KSByZXR1cm5zIChzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TdG9wTm9pc2VDYW5jZWxsYXRpb25SZXNwb25zZSk7XG4gICAqL1xuICBzdG9wTm9pc2VDYW5jZWxsYXRpb24oXG4gICAgaW5wdXQ6IFN0b3BOb2lzZUNhbmNlbGxhdGlvblJlcXVlc3QsXG4gICAgb3B0aW9ucz86IFJwY09wdGlvbnMsXG4gICk6IFVuYXJ5Q2FsbDxTdG9wTm9pc2VDYW5jZWxsYXRpb25SZXF1ZXN0LCBTdG9wTm9pc2VDYW5jZWxsYXRpb25SZXNwb25zZT4ge1xuICAgIGNvbnN0IG1ldGhvZCA9IHRoaXMubWV0aG9kc1s4XSxcbiAgICAgIG9wdCA9IHRoaXMuX3RyYW5zcG9ydC5tZXJnZU9wdGlvbnMob3B0aW9ucyk7XG4gICAgcmV0dXJuIHN0YWNrSW50ZXJjZXB0PFxuICAgICAgU3RvcE5vaXNlQ2FuY2VsbGF0aW9uUmVxdWVzdCxcbiAgICAgIFN0b3BOb2lzZUNhbmNlbGxhdGlvblJlc3BvbnNlXG4gICAgPigndW5hcnknLCB0aGlzLl90cmFuc3BvcnQsIG1ldGhvZCwgb3B0LCBpbnB1dCk7XG4gIH1cbn1cbiIsImltcG9ydCB7XG4gIE1ldGhvZEluZm8sXG4gIE5leHRVbmFyeUZuLFxuICBScGNJbnRlcmNlcHRvcixcbiAgUnBjT3B0aW9ucyxcbiAgVW5hcnlDYWxsLFxufSBmcm9tICdAcHJvdG9idWYtdHMvcnVudGltZS1ycGMnO1xuaW1wb3J0IHtcbiAgVHdpcnBGZXRjaFRyYW5zcG9ydCxcbiAgVHdpcnBPcHRpb25zLFxufSBmcm9tICdAcHJvdG9idWYtdHMvdHdpcnAtdHJhbnNwb3J0JztcbmltcG9ydCB7IFNpZ25hbFNlcnZlckNsaWVudCB9IGZyb20gJy4uL2dlbi92aWRlby9zZnUvc2lnbmFsX3JwYy9zaWduYWwuY2xpZW50JztcbmltcG9ydCB7IExvZ2dlciwgTG9nTGV2ZWwgfSBmcm9tICcuLi9jb29yZGluYXRvci9jb25uZWN0aW9uL3R5cGVzJztcblxuY29uc3QgZGVmYXVsdE9wdGlvbnM6IFR3aXJwT3B0aW9ucyA9IHtcbiAgYmFzZVVybDogJycsXG4gIHNlbmRKc29uOiB0cnVlLFxuICB0aW1lb3V0OiA1ICogMTAwMCwgLy8gbXMuXG4gIGpzb25PcHRpb25zOiB7XG4gICAgaWdub3JlVW5rbm93bkZpZWxkczogdHJ1ZSxcbiAgfSxcbn07XG5cbmV4cG9ydCBjb25zdCB3aXRoSGVhZGVycyA9IChcbiAgaGVhZGVyczogUmVjb3JkPHN0cmluZywgc3RyaW5nPixcbik6IFJwY0ludGVyY2VwdG9yID0+IHtcbiAgcmV0dXJuIHtcbiAgICBpbnRlcmNlcHRVbmFyeShcbiAgICAgIG5leHQ6IE5leHRVbmFyeUZuLFxuICAgICAgbWV0aG9kOiBNZXRob2RJbmZvLFxuICAgICAgaW5wdXQ6IG9iamVjdCxcbiAgICAgIG9wdGlvbnM6IFJwY09wdGlvbnMsXG4gICAgKTogVW5hcnlDYWxsIHtcbiAgICAgIG9wdGlvbnMubWV0YSA9IHsgLi4ub3B0aW9ucy5tZXRhLCAuLi5oZWFkZXJzIH07XG4gICAgICByZXR1cm4gbmV4dChtZXRob2QsIGlucHV0LCBvcHRpb25zKTtcbiAgICB9LFxuICB9O1xufTtcblxuZXhwb3J0IGNvbnN0IHdpdGhSZXF1ZXN0TG9nZ2VyID0gKFxuICBsb2dnZXI6IExvZ2dlcixcbiAgbGV2ZWw6IExvZ0xldmVsLFxuKTogUnBjSW50ZXJjZXB0b3IgPT4ge1xuICByZXR1cm4ge1xuICAgIGludGVyY2VwdFVuYXJ5OiAoXG4gICAgICBuZXh0OiBOZXh0VW5hcnlGbixcbiAgICAgIG1ldGhvZDogTWV0aG9kSW5mbyxcbiAgICAgIGlucHV0OiBvYmplY3QsXG4gICAgICBvcHRpb25zOiBScGNPcHRpb25zLFxuICAgICk6IFVuYXJ5Q2FsbCA9PiB7XG4gICAgICBsb2dnZXIobGV2ZWwsIGBDYWxsaW5nIFNGVSBSUEMgbWV0aG9kICR7bWV0aG9kLm5hbWV9YCwge1xuICAgICAgICBpbnB1dCxcbiAgICAgICAgb3B0aW9ucyxcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIG5leHQobWV0aG9kLCBpbnB1dCwgb3B0aW9ucyk7XG4gICAgfSxcbiAgfTtcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBuZXcgU2lnbmFsU2VydmVyQ2xpZW50IGluc3RhbmNlLlxuICpcbiAqIEBwYXJhbSBvcHRpb25zIHRoZSB0d2lycCBvcHRpb25zLlxuICovXG5leHBvcnQgY29uc3QgY3JlYXRlU2lnbmFsQ2xpZW50ID0gKG9wdGlvbnM/OiBUd2lycE9wdGlvbnMpID0+IHtcbiAgY29uc3QgdHJhbnNwb3J0ID0gbmV3IFR3aXJwRmV0Y2hUcmFuc3BvcnQoe1xuICAgIC4uLmRlZmF1bHRPcHRpb25zLFxuICAgIC4uLm9wdGlvbnMsXG4gIH0pO1xuXG4gIHJldHVybiBuZXcgU2lnbmFsU2VydmVyQ2xpZW50KHRyYW5zcG9ydCk7XG59O1xuIiwiaW1wb3J0IHR5cGUgeyBBeGlvc1Jlc3BvbnNlIH0gZnJvbSAnYXhpb3MnO1xuaW1wb3J0IHR5cGUgeyBBUElFcnJvclJlc3BvbnNlIH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgdHlwZSB7IENvbm5lY3Rpb25FcnJvckV2ZW50IH0gZnJvbSAnLi4vLi4vZ2VuL2Nvb3JkaW5hdG9yJztcblxuZXhwb3J0IGNvbnN0IHNsZWVwID0gKG06IG51bWJlcikgPT4gbmV3IFByb21pc2UoKHIpID0+IHNldFRpbWVvdXQociwgbSkpO1xuXG5leHBvcnQgZnVuY3Rpb24gaXNGdW5jdGlvbjxUPih2YWx1ZTogRnVuY3Rpb24gfCBUKTogdmFsdWUgaXMgRnVuY3Rpb24ge1xuICByZXR1cm4gKFxuICAgIHZhbHVlICYmXG4gICAgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09ICdbb2JqZWN0IEZ1bmN0aW9uXScgfHxcbiAgICAgICdmdW5jdGlvbicgPT09IHR5cGVvZiB2YWx1ZSB8fFxuICAgICAgdmFsdWUgaW5zdGFuY2VvZiBGdW5jdGlvbilcbiAgKTtcbn1cblxuLyoqXG4gKiBBIG1hcCBvZiBrbm93biBlcnJvciBjb2Rlcy5cbiAqL1xuZXhwb3J0IGNvbnN0IEtub3duQ29kZXMgPSB7XG4gIFRPS0VOX0VYUElSRUQ6IDQwLFxuICBXU19DTE9TRURfU1VDQ0VTUzogMTAwMCxcbiAgV1NfQ0xPU0VEX0FCUlVQVExZOiAxMDA2LFxuICBXU19QT0xJQ1lfVklPTEFUSU9OOiAxMDA4LFxufTtcblxuLyoqXG4gKiByZXRyeUludGVydmFsIC0gQSByZXRyeSBpbnRlcnZhbCB3aGljaCBpbmNyZWFzZXMgYWNjIHRvIG51bWJlciBvZiBmYWlsdXJlc1xuICpcbiAqIEByZXR1cm4ge251bWJlcn0gRHVyYXRpb24gdG8gd2FpdCBpbiBtaWxsaXNlY29uZHNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJldHJ5SW50ZXJ2YWwobnVtYmVyT2ZGYWlsdXJlczogbnVtYmVyKSB7XG4gIC8vIHRyeSB0byByZWNvbm5lY3QgaW4gMC4yNS01IHNlY29uZHMgKHJhbmRvbSB0byBzcHJlYWQgb3V0IHRoZSBsb2FkIGZyb20gZmFpbHVyZXMpXG4gIGNvbnN0IG1heCA9IE1hdGgubWluKDUwMCArIG51bWJlck9mRmFpbHVyZXMgKiAyMDAwLCA1MDAwKTtcbiAgY29uc3QgbWluID0gTWF0aC5taW4oTWF0aC5tYXgoMjUwLCAobnVtYmVyT2ZGYWlsdXJlcyAtIDEpICogMjAwMCksIDUwMDApO1xuICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbikgKyBtaW4pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmFuZG9tSWQoKSB7XG4gIHJldHVybiBnZW5lcmF0ZVVVSUR2NCgpO1xufVxuXG5mdW5jdGlvbiBoZXgoYnl0ZXM6IFVpbnQ4QXJyYXkpOiBzdHJpbmcge1xuICBsZXQgcyA9ICcnO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGJ5dGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgcyArPSBieXRlc1tpXS50b1N0cmluZygxNikucGFkU3RhcnQoMiwgJzAnKTtcbiAgfVxuICByZXR1cm4gcztcbn1cblxuLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzQxMjJcbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZVVVSUR2NCgpIHtcbiAgY29uc3QgYnl0ZXMgPSBnZXRSYW5kb21CeXRlcygxNik7XG4gIGJ5dGVzWzZdID0gKGJ5dGVzWzZdICYgMHgwZikgfCAweDQwOyAvLyB2ZXJzaW9uXG4gIGJ5dGVzWzhdID0gKGJ5dGVzWzhdICYgMHhiZikgfCAweDgwOyAvLyB2YXJpYW50XG5cbiAgcmV0dXJuIChcbiAgICBoZXgoYnl0ZXMuc3ViYXJyYXkoMCwgNCkpICtcbiAgICAnLScgK1xuICAgIGhleChieXRlcy5zdWJhcnJheSg0LCA2KSkgK1xuICAgICctJyArXG4gICAgaGV4KGJ5dGVzLnN1YmFycmF5KDYsIDgpKSArXG4gICAgJy0nICtcbiAgICBoZXgoYnl0ZXMuc3ViYXJyYXkoOCwgMTApKSArXG4gICAgJy0nICtcbiAgICBoZXgoYnl0ZXMuc3ViYXJyYXkoMTAsIDE2KSlcbiAgKTtcbn1cblxuZnVuY3Rpb24gZ2V0UmFuZG9tVmFsdWVzV2l0aE1hdGhSYW5kb20oYnl0ZXM6IFVpbnQ4QXJyYXkpOiB2b2lkIHtcbiAgY29uc3QgbWF4ID0gTWF0aC5wb3coMiwgKDggKiBieXRlcy5ieXRlTGVuZ3RoKSAvIGJ5dGVzLmxlbmd0aCk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYnl0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICBieXRlc1tpXSA9IE1hdGgucmFuZG9tKCkgKiBtYXg7XG4gIH1cbn1cbmRlY2xhcmUgY29uc3QgbXNDcnlwdG86IENyeXB0bztcblxuY29uc3QgZ2V0UmFuZG9tVmFsdWVzID0gKCgpID0+IHtcbiAgaWYgKFxuICAgIHR5cGVvZiBjcnlwdG8gIT09ICd1bmRlZmluZWQnICYmXG4gICAgdHlwZW9mIGNyeXB0bz8uZ2V0UmFuZG9tVmFsdWVzICE9PSAndW5kZWZpbmVkJ1xuICApIHtcbiAgICByZXR1cm4gY3J5cHRvLmdldFJhbmRvbVZhbHVlcy5iaW5kKGNyeXB0byk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIG1zQ3J5cHRvICE9PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiBtc0NyeXB0by5nZXRSYW5kb21WYWx1ZXMuYmluZChtc0NyeXB0byk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGdldFJhbmRvbVZhbHVlc1dpdGhNYXRoUmFuZG9tO1xuICB9XG59KSgpO1xuXG5mdW5jdGlvbiBnZXRSYW5kb21CeXRlcyhsZW5ndGg6IG51bWJlcik6IFVpbnQ4QXJyYXkge1xuICBjb25zdCBieXRlcyA9IG5ldyBVaW50OEFycmF5KGxlbmd0aCk7XG4gIGdldFJhbmRvbVZhbHVlcyhieXRlcyk7XG4gIHJldHVybiBieXRlcztcbn1cblxuLyoqXG4gKiBJbmZvcm1zIGlmIGEgcHJvbWlzZSBpcyB5ZXQgdG8gYmUgcmVzb2x2ZWQgb3IgcmVqZWN0ZWRcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGlzUHJvbWlzZVBlbmRpbmc8VD4ocHJvbWlzZTogUHJvbWlzZTxUPikge1xuICBjb25zdCBlbXB0eU9iaiA9IHt9O1xuICByZXR1cm4gUHJvbWlzZS5yYWNlKFtwcm9taXNlLCBlbXB0eU9ial0pLnRoZW4oXG4gICAgKHZhbHVlKSA9PiB2YWx1ZSA9PT0gZW1wdHlPYmosXG4gICAgKCkgPT4gZmFsc2UsXG4gICk7XG59XG5cbi8qKlxuICogbGlzdGVuRm9yQ29ubmVjdGlvbkNoYW5nZXMgLSBBZGRzIGFuIGV2ZW50IGxpc3RlbmVyIGZpcmVkIG9uIGJyb3dzZXIgZ29pbmcgb25saW5lIG9yIG9mZmxpbmVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZENvbm5lY3Rpb25FdmVudExpc3RlbmVycyhjYjogKGU6IEV2ZW50KSA9PiB2b2lkKSB7XG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcikge1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdvZmZsaW5lJywgY2IpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdvbmxpbmUnLCBjYik7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZUNvbm5lY3Rpb25FdmVudExpc3RlbmVycyhjYjogKGU6IEV2ZW50KSA9PiB2b2lkKSB7XG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcikge1xuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdvZmZsaW5lJywgY2IpO1xuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdvbmxpbmUnLCBjYik7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzRXJyb3JSZXNwb25zZShcbiAgcmVzOiBBeGlvc1Jlc3BvbnNlPHVua25vd24+LFxuKTogcmVzIGlzIEF4aW9zUmVzcG9uc2U8QVBJRXJyb3JSZXNwb25zZT4ge1xuICByZXR1cm4gIXJlcy5zdGF0dXMgfHwgcmVzLnN0YXR1cyA8IDIwMCB8fCAzMDAgPD0gcmVzLnN0YXR1cztcbn1cblxuLy8gVHlwZSBndWFyZHMgdG8gY2hlY2sgV2ViU29ja2V0IGVycm9yIHR5cGVcbmV4cG9ydCBmdW5jdGlvbiBpc0Nsb3NlRXZlbnQoXG4gIHJlczogQ2xvc2VFdmVudCB8IENvbm5lY3Rpb25FcnJvckV2ZW50LFxuKTogcmVzIGlzIENsb3NlRXZlbnQge1xuICByZXR1cm4gKHJlcyBhcyBDbG9zZUV2ZW50KS5jb2RlICE9PSB1bmRlZmluZWQ7XG59XG4iLCIvKipcbiAqIENoZWNrcyB3aGV0aGVyIHdlIGFyZSB1c2luZyBSZWFjdCBOYXRpdmVcbiAqL1xuZXhwb3J0IGNvbnN0IGlzUmVhY3ROYXRpdmUgPSAoKSA9PiB7XG4gIGlmICh0eXBlb2YgbmF2aWdhdG9yID09PSAndW5kZWZpbmVkJykgcmV0dXJuIGZhbHNlO1xuICByZXR1cm4gbmF2aWdhdG9yLnByb2R1Y3Q/LnRvTG93ZXJDYXNlKCkgPT09ICdyZWFjdG5hdGl2ZSc7XG59O1xuIiwiaW1wb3J0IHsgTG9nZ2VyLCBMb2dMZXZlbCB9IGZyb20gJy4vY29vcmRpbmF0b3IvY29ubmVjdGlvbi90eXBlcyc7XG5pbXBvcnQgeyBpc1JlYWN0TmF0aXZlIH0gZnJvbSAnLi9oZWxwZXJzL3BsYXRmb3Jtcyc7XG5cbi8vIGxvZyBsZXZlbHMsIHNvcnRlZCBieSB2ZXJib3NpdHlcbmV4cG9ydCBjb25zdCBsb2dMZXZlbHM6IFJlY29yZDxMb2dMZXZlbCwgbnVtYmVyPiA9IE9iamVjdC5mcmVlemUoe1xuICB0cmFjZTogMCxcbiAgZGVidWc6IDEsXG4gIGluZm86IDIsXG4gIHdhcm46IDMsXG4gIGVycm9yOiA0LFxufSk7XG5cbmxldCBsb2dnZXI6IExvZ2dlciB8IHVuZGVmaW5lZDtcbmxldCBsZXZlbDogTG9nTGV2ZWwgPSAnaW5mbyc7XG5cbmV4cG9ydCBjb25zdCBsb2dUb0NvbnNvbGU6IExvZ2dlciA9IChsb2dMZXZlbCwgbWVzc2FnZSwgLi4uYXJncykgPT4ge1xuICBsZXQgbG9nTWV0aG9kO1xuICBzd2l0Y2ggKGxvZ0xldmVsKSB7XG4gICAgY2FzZSAnZXJyb3InOlxuICAgICAgaWYgKGlzUmVhY3ROYXRpdmUoKSkge1xuICAgICAgICBtZXNzYWdlID0gYEVSUk9SOiAke21lc3NhZ2V9YDtcbiAgICAgICAgbG9nTWV0aG9kID0gY29uc29sZS5pbmZvO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGxvZ01ldGhvZCA9IGNvbnNvbGUuZXJyb3I7XG4gICAgICBicmVhaztcbiAgICBjYXNlICd3YXJuJzpcbiAgICAgIGlmIChpc1JlYWN0TmF0aXZlKCkpIHtcbiAgICAgICAgbWVzc2FnZSA9IGBXQVJOOiAke21lc3NhZ2V9YDtcbiAgICAgICAgbG9nTWV0aG9kID0gY29uc29sZS5pbmZvO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGxvZ01ldGhvZCA9IGNvbnNvbGUud2FybjtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2luZm8nOlxuICAgICAgbG9nTWV0aG9kID0gY29uc29sZS5pbmZvO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAndHJhY2UnOlxuICAgICAgbG9nTWV0aG9kID0gY29uc29sZS50cmFjZTtcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICBsb2dNZXRob2QgPSBjb25zb2xlLmxvZztcbiAgICAgIGJyZWFrO1xuICB9XG5cbiAgbG9nTWV0aG9kKG1lc3NhZ2UsIC4uLmFyZ3MpO1xufTtcblxuZXhwb3J0IGNvbnN0IHNldExvZ2dlciA9IChsOiBMb2dnZXIsIGx2bD86IExvZ0xldmVsKSA9PiB7XG4gIGxvZ2dlciA9IGw7XG4gIGlmIChsdmwpIHtcbiAgICBzZXRMb2dMZXZlbChsdmwpO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3Qgc2V0TG9nTGV2ZWwgPSAobDogTG9nTGV2ZWwpID0+IHtcbiAgbGV2ZWwgPSBsO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldExvZ0xldmVsID0gKCk6IExvZ0xldmVsID0+IGxldmVsO1xuXG5leHBvcnQgY29uc3QgZ2V0TG9nZ2VyID0gKHdpdGhUYWdzPzogc3RyaW5nW10pID0+IHtcbiAgY29uc3QgbG9nZ2VyTWV0aG9kID0gbG9nZ2VyIHx8IGxvZ1RvQ29uc29sZTtcbiAgY29uc3QgdGFncyA9ICh3aXRoVGFncyB8fCBbXSkuZmlsdGVyKEJvb2xlYW4pLmpvaW4oJzonKTtcbiAgY29uc3QgcmVzdWx0OiBMb2dnZXIgPSAobG9nTGV2ZWwsIG1lc3NhZ2UsIC4uLmFyZ3MpID0+IHtcbiAgICBpZiAobG9nTGV2ZWxzW2xvZ0xldmVsXSA+PSBsb2dMZXZlbHNbbGV2ZWxdKSB7XG4gICAgICBsb2dnZXJNZXRob2QobG9nTGV2ZWwsIGBbJHt0YWdzfV06ICR7bWVzc2FnZX1gLCAuLi5hcmdzKTtcbiAgICB9XG4gIH07XG4gIHJldHVybiByZXN1bHQ7XG59O1xuIiwiaW1wb3J0IHtcbiAgRmluaXNoZWRVbmFyeUNhbGwsXG4gIFJwY0Vycm9yLFxuICBVbmFyeUNhbGwsXG59IGZyb20gJ0Bwcm90b2J1Zi10cy9ydW50aW1lLXJwYyc7XG5pbXBvcnQgeyBUd2lycEVycm9yQ29kZSB9IGZyb20gJ0Bwcm90b2J1Zi10cy90d2lycC10cmFuc3BvcnQnO1xuaW1wb3J0IHsgcmV0cnlJbnRlcnZhbCwgc2xlZXAgfSBmcm9tICcuLi9jb29yZGluYXRvci9jb25uZWN0aW9uL3V0aWxzJztcbmltcG9ydCB7IEVycm9yIGFzIFNmdUVycm9yIH0gZnJvbSAnLi4vZ2VuL3ZpZGVvL3NmdS9tb2RlbHMvbW9kZWxzJztcbmltcG9ydCB7IGdldExvZ2dlciB9IGZyb20gJy4uL2xvZ2dlcic7XG5cbi8qKlxuICogQW4gaW50ZXJuYWwgaW50ZXJmYWNlIHdoaWNoIGFzc2VydHMgdGhhdCBcInJldHJ5YWJsZVwiIFNGVSByZXNwb25zZXNcbiAqIGNvbnRhaW4gYSBmaWVsZCBjYWxsZWQgXCJlcnJvclwiLlxuICogSWRlYWxseSwgdGhpcyBzaG91bGQgYmUgY29taW5nIGZyb20gdGhlIFByb3RvYnVmIGRlZmluaXRpb25zLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFNmdVJlc3BvbnNlV2l0aEVycm9yIHtcbiAgLyoqXG4gICAqIEFuIG9wdGlvbmFsIGVycm9yIGZpZWxkIHdoaWNoIHNob3VsZCBiZSBwcmVzZW50IGluIGFsbCBTRlUgcmVzcG9uc2VzLlxuICAgKi9cbiAgZXJyb3I/OiBTZnVFcnJvcjtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgY2xvc3VyZSB3aGljaCB3cmFwcyB0aGUgZ2l2ZW4gUlBDIGNhbGwgYW5kIHJldHJpZXMgaW52b2tpbmdcbiAqIHRoZSBSUEMgdW50aWwgaXQgc3VjY2VlZHMgb3IgdGhlIG1heGltdW0gbnVtYmVyIG9mIHJldHJpZXMgaXMgcmVhY2hlZC5cbiAqXG4gKiBGb3IgZWFjaCByZXRyeSwgdGhlcmUgd291bGQgYmUgYSBkZWxheSB0byBhdm9pZCByZXF1ZXN0IGJ1cnN0cyB0b3dhcmQgdGhlIFNGVS5cbiAqXG4gKiBAcGFyYW0gcnBjIHRoZSBjbG9zdXJlIGFyb3VuZCB0aGUgUlBDIGNhbGwgdG8gZXhlY3V0ZS5cbiAqIEBwYXJhbSBzaWduYWwgdGhlIHNpZ25hbCB0byBhYm9ydCB0aGUgUlBDIGNhbGwgYW5kIHJldHJpZXMgbG9vcC5cbiAqL1xuZXhwb3J0IGNvbnN0IHJldHJ5YWJsZSA9IGFzeW5jIDxcbiAgSSBleHRlbmRzIG9iamVjdCxcbiAgTyBleHRlbmRzIFNmdVJlc3BvbnNlV2l0aEVycm9yLFxuPihcbiAgcnBjOiAoKSA9PiBVbmFyeUNhbGw8SSwgTz4sXG4gIHNpZ25hbD86IEFib3J0U2lnbmFsLFxuKTogUHJvbWlzZTxGaW5pc2hlZFVuYXJ5Q2FsbDxJLCBPPj4gPT4ge1xuICBsZXQgYXR0ZW1wdCA9IDA7XG4gIGxldCByZXN1bHQ6IEZpbmlzaGVkVW5hcnlDYWxsPEksIE8+IHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuICBkbyB7XG4gICAgaWYgKGF0dGVtcHQgPiAwKSBhd2FpdCBzbGVlcChyZXRyeUludGVydmFsKGF0dGVtcHQpKTtcbiAgICB0cnkge1xuICAgICAgcmVzdWx0ID0gYXdhaXQgcnBjKCk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zdCBpc1JlcXVlc3RDYW5jZWxsZWQgPVxuICAgICAgICBlcnIgaW5zdGFuY2VvZiBScGNFcnJvciAmJlxuICAgICAgICBlcnIuY29kZSA9PT0gVHdpcnBFcnJvckNvZGVbVHdpcnBFcnJvckNvZGUuY2FuY2VsbGVkXTtcbiAgICAgIGNvbnN0IGlzQWJvcnRlZCA9IHNpZ25hbD8uYWJvcnRlZCA/PyBmYWxzZTtcbiAgICAgIGlmIChpc1JlcXVlc3RDYW5jZWxsZWQgfHwgaXNBYm9ydGVkKSB0aHJvdyBlcnI7XG4gICAgICBnZXRMb2dnZXIoWydzZnUtY2xpZW50JywgJ3JwYyddKSgnZGVidWcnLCBgcnBjIGZhaWxlZCAoJHthdHRlbXB0fSlgLCBlcnIpO1xuICAgICAgYXR0ZW1wdCsrO1xuICAgIH1cbiAgfSB3aGlsZSAoIXJlc3VsdCB8fCByZXN1bHQucmVzcG9uc2UuZXJyb3I/LnNob3VsZFJldHJ5KTtcblxuICByZXR1cm4gcmVzdWx0O1xufTtcbiIsImltcG9ydCB7XG4gIEFuZHJvaWRUaGVybWFsU3RhdGUsXG4gIEFwcGxlVGhlcm1hbFN0YXRlLFxuICBDbGllbnREZXRhaWxzLFxuICBEZXZpY2UsXG4gIE9TLFxuICBTZGssXG4gIFNka1R5cGUsXG59IGZyb20gJy4vZ2VuL3ZpZGVvL3NmdS9tb2RlbHMvbW9kZWxzJztcbmltcG9ydCB7IFNlbmRTdGF0c1JlcXVlc3QgfSBmcm9tICcuL2dlbi92aWRlby9zZnUvc2lnbmFsX3JwYy9zaWduYWwnO1xuaW1wb3J0IHsgaXNSZWFjdE5hdGl2ZSB9IGZyb20gJy4vaGVscGVycy9wbGF0Zm9ybXMnO1xuaW1wb3J0IHsgVUFQYXJzZXIgfSBmcm9tICd1YS1wYXJzZXItanMnO1xuXG50eXBlIFdlYlJUQ0luZm9UeXBlID0ge1xuICB2ZXJzaW9uOiBzdHJpbmc7XG59O1xuXG5jb25zdCB2ZXJzaW9uID0gcHJvY2Vzcy5lbnYuUEtHX1ZFUlNJT04gfHwgJzAuMC4wJztcbmNvbnN0IFttYWpvciwgbWlub3IsIHBhdGNoXSA9IHZlcnNpb24uc3BsaXQoJy4nKTtcblxubGV0IHNka0luZm86IFNkayB8IHVuZGVmaW5lZCA9IHtcbiAgdHlwZTogU2RrVHlwZS5QTEFJTl9KQVZBU0NSSVBULFxuICBtYWpvcixcbiAgbWlub3IsXG4gIHBhdGNoLFxufTtcblxubGV0IG9zSW5mbzogT1MgfCB1bmRlZmluZWQ7XG5sZXQgZGV2aWNlSW5mbzogRGV2aWNlIHwgdW5kZWZpbmVkO1xubGV0IHdlYlJ0Y0luZm86IFdlYlJUQ0luZm9UeXBlIHwgdW5kZWZpbmVkO1xubGV0IGRldmljZVN0YXRlOiBTZW5kU3RhdHNSZXF1ZXN0WydkZXZpY2VTdGF0ZSddID0geyBvbmVvZktpbmQ6IHVuZGVmaW5lZCB9O1xuXG5leHBvcnQgY29uc3Qgc2V0U2RrSW5mbyA9IChpbmZvOiBTZGspID0+IHtcbiAgc2RrSW5mbyA9IGluZm87XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0U2RrSW5mbyA9ICgpID0+IHtcbiAgcmV0dXJuIHNka0luZm87XG59O1xuXG5leHBvcnQgY29uc3Qgc2V0T1NJbmZvID0gKGluZm86IE9TKSA9PiB7XG4gIG9zSW5mbyA9IGluZm87XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0T1NJbmZvID0gKCkgPT4ge1xuICByZXR1cm4gb3NJbmZvO1xufTtcblxuZXhwb3J0IGNvbnN0IHNldERldmljZUluZm8gPSAoaW5mbzogRGV2aWNlKSA9PiB7XG4gIGRldmljZUluZm8gPSBpbmZvO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldERldmljZUluZm8gPSAoKSA9PiB7XG4gIHJldHVybiBkZXZpY2VJbmZvO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldFdlYlJUQ0luZm8gPSAoKSA9PiB7XG4gIHJldHVybiB3ZWJSdGNJbmZvO1xufTtcblxuZXhwb3J0IGNvbnN0IHNldFdlYlJUQ0luZm8gPSAoaW5mbzogV2ViUlRDSW5mb1R5cGUpID0+IHtcbiAgd2ViUnRjSW5mbyA9IGluZm87XG59O1xuXG5leHBvcnQgdHlwZSBMb2NhbENsaWVudERldGFpbHNUeXBlID0gQ2xpZW50RGV0YWlscyAmIHtcbiAgd2ViUlRDSW5mbz86IFdlYlJUQ0luZm9UeXBlO1xufTtcblxuZXhwb3J0IGNvbnN0IHNldFRoZXJtYWxTdGF0ZSA9IChzdGF0ZTogc3RyaW5nKSA9PiB7XG4gIGlmICghb3NJbmZvKSB7XG4gICAgZGV2aWNlU3RhdGUgPSB7IG9uZW9mS2luZDogdW5kZWZpbmVkIH07XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKG9zSW5mby5uYW1lID09PSAnYW5kcm9pZCcpIHtcbiAgICBjb25zdCB0aGVybWFsU3RhdGUgPVxuICAgICAgQW5kcm9pZFRoZXJtYWxTdGF0ZVtzdGF0ZSBhcyBrZXlvZiB0eXBlb2YgQW5kcm9pZFRoZXJtYWxTdGF0ZV0gfHxcbiAgICAgIEFuZHJvaWRUaGVybWFsU3RhdGUuVU5TUEVDSUZJRUQ7XG5cbiAgICBkZXZpY2VTdGF0ZSA9IHtcbiAgICAgIG9uZW9mS2luZDogJ2FuZHJvaWQnLFxuICAgICAgYW5kcm9pZDoge1xuICAgICAgICB0aGVybWFsU3RhdGUsXG4gICAgICAgIGlzUG93ZXJTYXZlck1vZGU6XG4gICAgICAgICAgZGV2aWNlU3RhdGU/Lm9uZW9mS2luZCA9PT0gJ2FuZHJvaWQnICYmXG4gICAgICAgICAgZGV2aWNlU3RhdGUuYW5kcm9pZC5pc1Bvd2VyU2F2ZXJNb2RlLFxuICAgICAgfSxcbiAgICB9O1xuICB9XG5cbiAgaWYgKG9zSW5mby5uYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdpb3MnKSB7XG4gICAgY29uc3QgdGhlcm1hbFN0YXRlID1cbiAgICAgIEFwcGxlVGhlcm1hbFN0YXRlW3N0YXRlIGFzIGtleW9mIHR5cGVvZiBBcHBsZVRoZXJtYWxTdGF0ZV0gfHxcbiAgICAgIEFwcGxlVGhlcm1hbFN0YXRlLlVOU1BFQ0lGSUVEO1xuXG4gICAgZGV2aWNlU3RhdGUgPSB7XG4gICAgICBvbmVvZktpbmQ6ICdhcHBsZScsXG4gICAgICBhcHBsZToge1xuICAgICAgICB0aGVybWFsU3RhdGUsXG4gICAgICAgIGlzTG93UG93ZXJNb2RlRW5hYmxlZDpcbiAgICAgICAgICBkZXZpY2VTdGF0ZT8ub25lb2ZLaW5kID09PSAnYXBwbGUnICYmXG4gICAgICAgICAgZGV2aWNlU3RhdGUuYXBwbGUuaXNMb3dQb3dlck1vZGVFbmFibGVkLFxuICAgICAgfSxcbiAgICB9O1xuICB9XG59O1xuXG5leHBvcnQgY29uc3Qgc2V0UG93ZXJTdGF0ZSA9IChwb3dlck1vZGU6IGJvb2xlYW4pID0+IHtcbiAgaWYgKCFvc0luZm8pIHtcbiAgICBkZXZpY2VTdGF0ZSA9IHsgb25lb2ZLaW5kOiB1bmRlZmluZWQgfTtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAob3NJbmZvLm5hbWUgPT09ICdhbmRyb2lkJykge1xuICAgIGRldmljZVN0YXRlID0ge1xuICAgICAgb25lb2ZLaW5kOiAnYW5kcm9pZCcsXG4gICAgICBhbmRyb2lkOiB7XG4gICAgICAgIHRoZXJtYWxTdGF0ZTpcbiAgICAgICAgICBkZXZpY2VTdGF0ZT8ub25lb2ZLaW5kID09PSAnYW5kcm9pZCdcbiAgICAgICAgICAgID8gZGV2aWNlU3RhdGUuYW5kcm9pZC50aGVybWFsU3RhdGVcbiAgICAgICAgICAgIDogQW5kcm9pZFRoZXJtYWxTdGF0ZS5VTlNQRUNJRklFRCxcbiAgICAgICAgaXNQb3dlclNhdmVyTW9kZTogcG93ZXJNb2RlLFxuICAgICAgfSxcbiAgICB9O1xuICB9XG5cbiAgaWYgKG9zSW5mby5uYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdpb3MnKSB7XG4gICAgZGV2aWNlU3RhdGUgPSB7XG4gICAgICBvbmVvZktpbmQ6ICdhcHBsZScsXG4gICAgICBhcHBsZToge1xuICAgICAgICB0aGVybWFsU3RhdGU6XG4gICAgICAgICAgZGV2aWNlU3RhdGU/Lm9uZW9mS2luZCA9PT0gJ2FwcGxlJ1xuICAgICAgICAgICAgPyBkZXZpY2VTdGF0ZS5hcHBsZS50aGVybWFsU3RhdGVcbiAgICAgICAgICAgIDogQXBwbGVUaGVybWFsU3RhdGUuVU5TUEVDSUZJRUQsXG4gICAgICAgIGlzTG93UG93ZXJNb2RlRW5hYmxlZDogcG93ZXJNb2RlLFxuICAgICAgfSxcbiAgICB9O1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0RGV2aWNlU3RhdGUgPSAoKSA9PiB7XG4gIHJldHVybiBkZXZpY2VTdGF0ZTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRDbGllbnREZXRhaWxzID0gKCk6IExvY2FsQ2xpZW50RGV0YWlsc1R5cGUgPT4ge1xuICBpZiAoaXNSZWFjdE5hdGl2ZSgpKSB7XG4gICAgLy8gU2luY2UgUk4gZG9lc24ndCBzdXBwb3J0IHdlYiwgc2hhcmluZyBicm93c2VyIGluZm8gaXMgbm90IHJlcXVpcmVkXG4gICAgcmV0dXJuIHtcbiAgICAgIHNkazogZ2V0U2RrSW5mbygpLFxuICAgICAgb3M6IGdldE9TSW5mbygpLFxuICAgICAgZGV2aWNlOiBnZXREZXZpY2VJbmZvKCksXG4gICAgfTtcbiAgfVxuXG4gIGNvbnN0IHVzZXJBZ2VudCA9IG5ldyBVQVBhcnNlcihuYXZpZ2F0b3IudXNlckFnZW50KTtcbiAgY29uc3QgeyBicm93c2VyLCBvcywgZGV2aWNlLCBjcHUgfSA9IHVzZXJBZ2VudC5nZXRSZXN1bHQoKTtcbiAgcmV0dXJuIHtcbiAgICBzZGs6IGdldFNka0luZm8oKSxcbiAgICBicm93c2VyOiB7XG4gICAgICBuYW1lOiBicm93c2VyLm5hbWUgfHwgbmF2aWdhdG9yLnVzZXJBZ2VudCxcbiAgICAgIHZlcnNpb246IGJyb3dzZXIudmVyc2lvbiB8fCAnJyxcbiAgICB9LFxuICAgIG9zOiB7XG4gICAgICBuYW1lOiBvcy5uYW1lIHx8ICcnLFxuICAgICAgdmVyc2lvbjogb3MudmVyc2lvbiB8fCAnJyxcbiAgICAgIGFyY2hpdGVjdHVyZTogY3B1LmFyY2hpdGVjdHVyZSB8fCAnJyxcbiAgICB9LFxuICAgIGRldmljZToge1xuICAgICAgbmFtZTogW2RldmljZS52ZW5kb3IsIGRldmljZS5tb2RlbCwgZGV2aWNlLnR5cGVdXG4gICAgICAgIC5maWx0ZXIoQm9vbGVhbilcbiAgICAgICAgLmpvaW4oJyAnKSxcbiAgICAgIHZlcnNpb246ICcnLFxuICAgIH0sXG4gIH07XG59O1xuIiwiLyoqXG4gKiBDaGVja3Mgd2hldGhlciB0aGUgY3VycmVudCBicm93c2VyIGlzIFNhZmFyaS5cbiAqL1xuZXhwb3J0IGNvbnN0IGlzU2FmYXJpID0gKCkgPT4ge1xuICBpZiAodHlwZW9mIG5hdmlnYXRvciA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybiBmYWxzZTtcbiAgcmV0dXJuIC9eKCg/IWNocm9tZXxhbmRyb2lkKS4pKnNhZmFyaS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCB8fCAnJyk7XG59O1xuXG4vKipcbiAqIENoZWNrcyB3aGV0aGVyIHRoZSBjdXJyZW50IGJyb3dzZXIgaXMgRmlyZWZveC5cbiAqL1xuZXhwb3J0IGNvbnN0IGlzRmlyZWZveCA9ICgpID0+IHtcbiAgaWYgKHR5cGVvZiBuYXZpZ2F0b3IgPT09ICd1bmRlZmluZWQnKSByZXR1cm4gZmFsc2U7XG4gIHJldHVybiBuYXZpZ2F0b3IudXNlckFnZW50Py5pbmNsdWRlcygnRmlyZWZveCcpO1xufTtcblxuLyoqXG4gKiBDaGVja3Mgd2hldGhlciB0aGUgY3VycmVudCBicm93c2VyIGlzIEdvb2dsZSBDaHJvbWUuXG4gKi9cbmV4cG9ydCBjb25zdCBpc0Nocm9tZSA9ICgpID0+IHtcbiAgaWYgKHR5cGVvZiBuYXZpZ2F0b3IgPT09ICd1bmRlZmluZWQnKSByZXR1cm4gZmFsc2U7XG4gIHJldHVybiBuYXZpZ2F0b3IudXNlckFnZW50Py5pbmNsdWRlcygnQ2hyb21lJyk7XG59O1xuIiwiaW1wb3J0IHsgZ2V0T1NJbmZvIH0gZnJvbSAnLi4vY2xpZW50LWRldGFpbHMnO1xuaW1wb3J0IHsgaXNSZWFjdE5hdGl2ZSB9IGZyb20gJy4uL2hlbHBlcnMvcGxhdGZvcm1zJztcbmltcG9ydCB7IGlzRmlyZWZveCwgaXNTYWZhcmkgfSBmcm9tICcuLi9oZWxwZXJzL2Jyb3dzZXJzJztcbmltcG9ydCB0eXBlIHsgUHJlZmVycmVkQ29kZWMgfSBmcm9tICcuLi90eXBlcyc7XG5cbi8qKlxuICogUmV0dXJucyBiYWNrIGEgbGlzdCBvZiBzb3J0ZWQgY29kZWNzLCB3aXRoIHRoZSBwcmVmZXJyZWQgY29kZWMgZmlyc3QuXG4gKlxuICogQHBhcmFtIGtpbmQgdGhlIGtpbmQgb2YgY29kZWMgdG8gZ2V0LlxuICogQHBhcmFtIHByZWZlcnJlZENvZGVjIHRoZSBjb2RlYyB0byBwcmlvcml0aXplICh2cDgsIGgyNjQsIHZwOSwgYXYxLi4uKS5cbiAqIEBwYXJhbSBjb2RlY1RvUmVtb3ZlIHRoZSBjb2RlYyB0byBleGNsdWRlIGZyb20gdGhlIGxpc3QuXG4gKiBAcGFyYW0gY29kZWNQcmVmZXJlbmNlc1NvdXJjZSB0aGUgc291cmNlIG9mIHRoZSBjb2RlYyBwcmVmZXJlbmNlcy5cbiAqL1xuZXhwb3J0IGNvbnN0IGdldFByZWZlcnJlZENvZGVjcyA9IChcbiAga2luZDogJ2F1ZGlvJyB8ICd2aWRlbycsXG4gIHByZWZlcnJlZENvZGVjOiBzdHJpbmcsXG4gIGNvZGVjVG9SZW1vdmU6IHN0cmluZyB8IHVuZGVmaW5lZCxcbiAgY29kZWNQcmVmZXJlbmNlc1NvdXJjZTogJ3NlbmRlcicgfCAncmVjZWl2ZXInLFxuKTogUlRDUnRwQ29kZWNbXSB8IHVuZGVmaW5lZCA9PiB7XG4gIGNvbnN0IHNvdXJjZSA9XG4gICAgY29kZWNQcmVmZXJlbmNlc1NvdXJjZSA9PT0gJ3JlY2VpdmVyJyA/IFJUQ1J0cFJlY2VpdmVyIDogUlRDUnRwU2VuZGVyO1xuICBpZiAoISgnZ2V0Q2FwYWJpbGl0aWVzJyBpbiBzb3VyY2UpKSByZXR1cm47XG5cbiAgY29uc3QgY2FwYWJpbGl0aWVzID0gc291cmNlLmdldENhcGFiaWxpdGllcyhraW5kKTtcbiAgaWYgKCFjYXBhYmlsaXRpZXMpIHJldHVybjtcblxuICBjb25zdCBwcmVmZXJyZWQ6IFJUQ1J0cENvZGVjQ2FwYWJpbGl0eVtdID0gW107XG4gIGNvbnN0IHBhcnRpYWxseVByZWZlcnJlZDogUlRDUnRwQ29kZWNDYXBhYmlsaXR5W10gPSBbXTtcbiAgY29uc3QgdW5wcmVmZXJyZWQ6IFJUQ1J0cENvZGVjQ2FwYWJpbGl0eVtdID0gW107XG5cbiAgY29uc3QgcHJlZmVycmVkQ29kZWNNaW1lVHlwZSA9IGAke2tpbmR9LyR7cHJlZmVycmVkQ29kZWMudG9Mb3dlckNhc2UoKX1gO1xuICBjb25zdCBjb2RlY1RvUmVtb3ZlTWltZVR5cGUgPVxuICAgIGNvZGVjVG9SZW1vdmUgJiYgYCR7a2luZH0vJHtjb2RlY1RvUmVtb3ZlLnRvTG93ZXJDYXNlKCl9YDtcblxuICBmb3IgKGNvbnN0IGNvZGVjIG9mIGNhcGFiaWxpdGllcy5jb2RlY3MpIHtcbiAgICBjb25zdCBjb2RlY01pbWVUeXBlID0gY29kZWMubWltZVR5cGUudG9Mb3dlckNhc2UoKTtcblxuICAgIGNvbnN0IHNob3VsZFJlbW92ZUNvZGVjID0gY29kZWNNaW1lVHlwZSA9PT0gY29kZWNUb1JlbW92ZU1pbWVUeXBlO1xuICAgIGlmIChzaG91bGRSZW1vdmVDb2RlYykgY29udGludWU7IC8vIHNraXAgdGhpcyBjb2RlY1xuXG4gICAgY29uc3QgaXNQcmVmZXJyZWRDb2RlYyA9IGNvZGVjTWltZVR5cGUgPT09IHByZWZlcnJlZENvZGVjTWltZVR5cGU7XG4gICAgaWYgKCFpc1ByZWZlcnJlZENvZGVjKSB7XG4gICAgICB1bnByZWZlcnJlZC5wdXNoKGNvZGVjKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIGgyNjQgaXMgYSBzcGVjaWFsIGNhc2UsIHdlIHdhbnQgdG8gcHJpb3JpdGl6ZSB0aGUgYmFzZWxpbmUgY29kZWMgd2l0aFxuICAgIC8vIHByb2ZpbGUtbGV2ZWwtaWQgaXMgNDJlMDFmIGFuZCBwYWNrZXRpemF0aW9uLW1vZGU9MCBmb3IgbWF4aW11bVxuICAgIC8vIGNyb3NzLWJyb3dzZXIgY29tcGF0aWJpbGl0eS5cbiAgICAvLyB0aGlzIGJyYW5jaCBjb3ZlcnMgdGhlIG90aGVyIGNhc2VzLCBzdWNoIGFzIHZwOC5cbiAgICBpZiAoY29kZWNNaW1lVHlwZSAhPT0gJ3ZpZGVvL2gyNjQnKSB7XG4gICAgICBwcmVmZXJyZWQucHVzaChjb2RlYyk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBjb25zdCBzZHBGbXRwTGluZSA9IGNvZGVjLnNkcEZtdHBMaW5lO1xuICAgIGlmICghc2RwRm10cExpbmUgfHwgIXNkcEZtdHBMaW5lLmluY2x1ZGVzKCdwcm9maWxlLWxldmVsLWlkPTQyJykpIHtcbiAgICAgIC8vIHRoaXMgaXMgbm90IHRoZSBiYXNlbGluZSBoMjY0IGNvZGVjLCBwcmlvcml0aXplIGl0IGxvd2VyXG4gICAgICBwYXJ0aWFsbHlQcmVmZXJyZWQucHVzaChjb2RlYyk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBpZiAoc2RwRm10cExpbmUuaW5jbHVkZXMoJ3BhY2tldGl6YXRpb24tbW9kZT0xJykpIHtcbiAgICAgIHByZWZlcnJlZC51bnNoaWZ0KGNvZGVjKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcHJlZmVycmVkLnB1c2goY29kZWMpO1xuICAgIH1cbiAgfVxuXG4gIC8vIHJldHVybiBhIHNvcnRlZCBsaXN0IG9mIGNvZGVjcywgd2l0aCB0aGUgcHJlZmVycmVkIGNvZGVjcyBmaXJzdFxuICByZXR1cm4gWy4uLnByZWZlcnJlZCwgLi4ucGFydGlhbGx5UHJlZmVycmVkLCAuLi51bnByZWZlcnJlZF07XG59O1xuXG4vKipcbiAqIFJldHVybnMgYSBnZW5lcmljIFNEUCBmb3IgdGhlIGdpdmVuIGRpcmVjdGlvbi5cbiAqIFdlIHVzZSB0aGlzIFNEUCB0byBzZW5kIGl0IGFzIHBhcnQgb2Ygb3VyIEpvaW5SZXF1ZXN0IHNvIHRoYXQgdGhlIFNGVVxuICogY2FuIHVzZSBpdCB0byBkZXRlcm1pbmUgY2xpZW50J3MgY29kZWMgY2FwYWJpbGl0aWVzLlxuICpcbiAqIEBwYXJhbSBkaXJlY3Rpb24gdGhlIGRpcmVjdGlvbiBvZiB0aGUgdHJhbnNjZWl2ZXIuXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRHZW5lcmljU2RwID0gYXN5bmMgKGRpcmVjdGlvbjogUlRDUnRwVHJhbnNjZWl2ZXJEaXJlY3Rpb24pID0+IHtcbiAgY29uc3QgdGVtcFBjID0gbmV3IFJUQ1BlZXJDb25uZWN0aW9uKCk7XG4gIHRlbXBQYy5hZGRUcmFuc2NlaXZlcigndmlkZW8nLCB7IGRpcmVjdGlvbiB9KTtcbiAgdGVtcFBjLmFkZFRyYW5zY2VpdmVyKCdhdWRpbycsIHsgZGlyZWN0aW9uIH0pO1xuXG4gIGNvbnN0IG9mZmVyID0gYXdhaXQgdGVtcFBjLmNyZWF0ZU9mZmVyKCk7XG4gIGNvbnN0IHNkcCA9IG9mZmVyLnNkcCA/PyAnJztcblxuICB0ZW1wUGMuZ2V0VHJhbnNjZWl2ZXJzKCkuZm9yRWFjaCgodCkgPT4ge1xuICAgIHQuc3RvcD8uKCk7XG4gIH0pO1xuICB0ZW1wUGMuY2xvc2UoKTtcbiAgcmV0dXJuIHNkcDtcbn07XG5cbi8qKlxuICogUmV0dXJucyB0aGUgb3B0aW1hbCB2aWRlbyBjb2RlYyBmb3IgdGhlIGRldmljZS5cbiAqL1xuZXhwb3J0IGNvbnN0IGdldE9wdGltYWxWaWRlb0NvZGVjID0gKFxuICBwcmVmZXJyZWRDb2RlYzogUHJlZmVycmVkQ29kZWMgfCB1bmRlZmluZWQsXG4pOiBQcmVmZXJyZWRDb2RlYyA9PiB7XG4gIGlmIChpc1JlYWN0TmF0aXZlKCkpIHtcbiAgICBjb25zdCBvcyA9IGdldE9TSW5mbygpPy5uYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgaWYgKG9zID09PSAnYW5kcm9pZCcpIHJldHVybiBwcmVmZXJyZWRPcihwcmVmZXJyZWRDb2RlYywgJ3ZwOCcpO1xuICAgIGlmIChvcyA9PT0gJ2lvcycgfHwgb3MgPT09ICdpcGFkb3MnKSB7XG4gICAgICByZXR1cm4gc3VwcG9ydHNIMjY0QmFzZWxpbmUoKSA/ICdoMjY0JyA6ICd2cDgnO1xuICAgIH1cbiAgICByZXR1cm4gcHJlZmVycmVkT3IocHJlZmVycmVkQ29kZWMsICdoMjY0Jyk7XG4gIH1cbiAgaWYgKGlzU2FmYXJpKCkpIHJldHVybiAnaDI2NCc7XG4gIGlmIChpc0ZpcmVmb3goKSkgcmV0dXJuICd2cDgnO1xuICByZXR1cm4gcHJlZmVycmVkT3IocHJlZmVycmVkQ29kZWMsICd2cDgnKTtcbn07XG5cbi8qKlxuICogRGV0ZXJtaW5lcyBpZiB0aGUgcGxhdGZvcm0gc3VwcG9ydHMgdGhlIHByZWZlcnJlZCBjb2RlYy5cbiAqIElmIG5vdCwgaXQgcmV0dXJucyB0aGUgZmFsbGJhY2sgY29kZWMuXG4gKi9cbmNvbnN0IHByZWZlcnJlZE9yID0gKFxuICBjb2RlYzogUHJlZmVycmVkQ29kZWMgfCB1bmRlZmluZWQsXG4gIGZhbGxiYWNrOiBQcmVmZXJyZWRDb2RlYyxcbik6IFByZWZlcnJlZENvZGVjID0+IHtcbiAgaWYgKCFjb2RlYykgcmV0dXJuIGZhbGxiYWNrO1xuICBpZiAoISgnZ2V0Q2FwYWJpbGl0aWVzJyBpbiBSVENSdHBTZW5kZXIpKSByZXR1cm4gZmFsbGJhY2s7XG4gIGNvbnN0IGNhcGFiaWxpdGllcyA9IFJUQ1J0cFNlbmRlci5nZXRDYXBhYmlsaXRpZXMoJ3ZpZGVvJyk7XG4gIGlmICghY2FwYWJpbGl0aWVzKSByZXR1cm4gZmFsbGJhY2s7XG5cbiAgLy8gU2FmYXJpIGFuZCBGaXJlZm94IGRvIG5vdCBoYXZlIGEgZ29vZCBzdXBwb3J0IGVuY29kaW5nIHRvIFNWQyBjb2RlY3MsXG4gIC8vIHNvIHdlIGRpc2FibGUgaXQgZm9yIHRoZW0uXG4gIGlmIChpc1N2Y0NvZGVjKGNvZGVjKSAmJiAoaXNTYWZhcmkoKSB8fCBpc0ZpcmVmb3goKSkpIHJldHVybiBmYWxsYmFjaztcblxuICBjb25zdCB7IGNvZGVjcyB9ID0gY2FwYWJpbGl0aWVzO1xuICBjb25zdCBjb2RlY01pbWVUeXBlID0gYHZpZGVvLyR7Y29kZWN9YC50b0xvd2VyQ2FzZSgpO1xuICByZXR1cm4gY29kZWNzLnNvbWUoKGMpID0+IGMubWltZVR5cGUudG9Mb3dlckNhc2UoKSA9PT0gY29kZWNNaW1lVHlwZSlcbiAgICA/IGNvZGVjXG4gICAgOiBmYWxsYmFjaztcbn07XG5cbi8qKlxuICogUmV0dXJucyB3aGV0aGVyIHRoZSBwbGF0Zm9ybSBzdXBwb3J0cyB0aGUgSDI2NCBiYXNlbGluZSBjb2RlYy5cbiAqL1xuY29uc3Qgc3VwcG9ydHNIMjY0QmFzZWxpbmUgPSAoKTogYm9vbGVhbiA9PiB7XG4gIGlmICghKCdnZXRDYXBhYmlsaXRpZXMnIGluIFJUQ1J0cFNlbmRlcikpIHJldHVybiBmYWxzZTtcbiAgY29uc3QgY2FwYWJpbGl0aWVzID0gUlRDUnRwU2VuZGVyLmdldENhcGFiaWxpdGllcygndmlkZW8nKTtcbiAgaWYgKCFjYXBhYmlsaXRpZXMpIHJldHVybiBmYWxzZTtcbiAgcmV0dXJuIGNhcGFiaWxpdGllcy5jb2RlY3Muc29tZShcbiAgICAoYykgPT5cbiAgICAgIGMubWltZVR5cGUudG9Mb3dlckNhc2UoKSA9PT0gJ3ZpZGVvL2gyNjQnICYmXG4gICAgICBjLnNkcEZtdHBMaW5lPy5pbmNsdWRlcygncHJvZmlsZS1sZXZlbC1pZD00MmUwMWYnKSxcbiAgKTtcbn07XG5cbi8qKlxuICogUmV0dXJucyB3aGV0aGVyIHRoZSBjb2RlYyBpcyBhbiBTVkMgY29kZWMuXG4gKlxuICogQHBhcmFtIGNvZGVjT3JNaW1lVHlwZSB0aGUgY29kZWMgdG8gY2hlY2suXG4gKi9cbmV4cG9ydCBjb25zdCBpc1N2Y0NvZGVjID0gKGNvZGVjT3JNaW1lVHlwZTogc3RyaW5nIHwgdW5kZWZpbmVkKSA9PiB7XG4gIGlmICghY29kZWNPck1pbWVUeXBlKSByZXR1cm4gZmFsc2U7XG4gIGNvZGVjT3JNaW1lVHlwZSA9IGNvZGVjT3JNaW1lVHlwZS50b0xvd2VyQ2FzZSgpO1xuICByZXR1cm4gKFxuICAgIGNvZGVjT3JNaW1lVHlwZSA9PT0gJ3ZwOScgfHxcbiAgICBjb2RlY09yTWltZVR5cGUgPT09ICdhdjEnIHx8XG4gICAgY29kZWNPck1pbWVUeXBlID09PSAndmlkZW8vdnA5JyB8fFxuICAgIGNvZGVjT3JNaW1lVHlwZSA9PT0gJ3ZpZGVvL2F2MSdcbiAgKTtcbn07XG4iLCJpbXBvcnQgeyBDYWxsRXZlbnRMaXN0ZW5lciwgRXZlbnRUeXBlcyB9IGZyb20gJy4uL2Nvb3JkaW5hdG9yL2Nvbm5lY3Rpb24vdHlwZXMnO1xuaW1wb3J0IHR5cGUgeyBTZnVFdmVudCB9IGZyb20gJy4uL2dlbi92aWRlby9zZnUvZXZlbnQvZXZlbnRzJztcbmltcG9ydCB7IGdldExvZ2dlciB9IGZyb20gJy4uL2xvZ2dlcic7XG5cbmV4cG9ydCB0eXBlIFNmdUV2ZW50S2luZHMgPSBOb25OdWxsYWJsZTxTZnVFdmVudFsnZXZlbnRQYXlsb2FkJ11bJ29uZW9mS2luZCddPjtcbmV4cG9ydCB0eXBlIEFsbFNmdUV2ZW50cyA9IHtcbiAgW0sgaW4gU2Z1RXZlbnRLaW5kc106IEsgZXh0ZW5kcyBrZXlvZiBFeHRyYWN0PFxuICAgIFNmdUV2ZW50WydldmVudFBheWxvYWQnXSxcbiAgICB7IG9uZW9mS2luZDogSyB9XG4gID5cbiAgICA/IEV4dHJhY3Q8U2Z1RXZlbnRbJ2V2ZW50UGF5bG9hZCddLCB7IG9uZW9mS2luZDogSyB9PltLXVxuICAgIDogbmV2ZXI7XG59O1xuXG5leHBvcnQgdHlwZSBEaXNwYXRjaGFibGVNZXNzYWdlPEsgZXh0ZW5kcyBTZnVFdmVudEtpbmRzPiA9IHtcbiAgZXZlbnRQYXlsb2FkOiB7XG4gICAgb25lb2ZLaW5kOiBLO1xuICB9ICYge1xuICAgIFtLZXkgaW4gS106IEFsbFNmdUV2ZW50c1tLZXldO1xuICB9O1xufTtcblxuY29uc3Qgc2Z1RXZlbnRLaW5kczogeyBba2V5IGluIFNmdUV2ZW50S2luZHNdOiB1bmRlZmluZWQgfSA9IHtcbiAgc3Vic2NyaWJlck9mZmVyOiB1bmRlZmluZWQsXG4gIHB1Ymxpc2hlckFuc3dlcjogdW5kZWZpbmVkLFxuICBjb25uZWN0aW9uUXVhbGl0eUNoYW5nZWQ6IHVuZGVmaW5lZCxcbiAgYXVkaW9MZXZlbENoYW5nZWQ6IHVuZGVmaW5lZCxcbiAgaWNlVHJpY2tsZTogdW5kZWZpbmVkLFxuICBjaGFuZ2VQdWJsaXNoUXVhbGl0eTogdW5kZWZpbmVkLFxuICBwYXJ0aWNpcGFudEpvaW5lZDogdW5kZWZpbmVkLFxuICBwYXJ0aWNpcGFudExlZnQ6IHVuZGVmaW5lZCxcbiAgZG9taW5hbnRTcGVha2VyQ2hhbmdlZDogdW5kZWZpbmVkLFxuICBqb2luUmVzcG9uc2U6IHVuZGVmaW5lZCxcbiAgaGVhbHRoQ2hlY2tSZXNwb25zZTogdW5kZWZpbmVkLFxuICB0cmFja1B1Ymxpc2hlZDogdW5kZWZpbmVkLFxuICB0cmFja1VucHVibGlzaGVkOiB1bmRlZmluZWQsXG4gIGVycm9yOiB1bmRlZmluZWQsXG4gIGNhbGxHcmFudHNVcGRhdGVkOiB1bmRlZmluZWQsXG4gIGdvQXdheTogdW5kZWZpbmVkLFxuICBpY2VSZXN0YXJ0OiB1bmRlZmluZWQsXG4gIHBpbnNVcGRhdGVkOiB1bmRlZmluZWQsXG4gIGNhbGxFbmRlZDogdW5kZWZpbmVkLFxuICBwYXJ0aWNpcGFudFVwZGF0ZWQ6IHVuZGVmaW5lZCxcbiAgcGFydGljaXBhbnRNaWdyYXRpb25Db21wbGV0ZTogdW5kZWZpbmVkLFxuICBjb2RlY05lZ290aWF0aW9uQ29tcGxldGU6IHVuZGVmaW5lZCxcbiAgY2hhbmdlUHVibGlzaE9wdGlvbnM6IHVuZGVmaW5lZCxcbn07XG5cbmV4cG9ydCBjb25zdCBpc1NmdUV2ZW50ID0gKFxuICBldmVudE5hbWU6IFNmdUV2ZW50S2luZHMgfCBFdmVudFR5cGVzLFxuKTogZXZlbnROYW1lIGlzIFNmdUV2ZW50S2luZHMgPT4ge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNmdUV2ZW50S2luZHMsIGV2ZW50TmFtZSk7XG59O1xuXG5leHBvcnQgY2xhc3MgRGlzcGF0Y2hlciB7XG4gIHByaXZhdGUgcmVhZG9ubHkgbG9nZ2VyID0gZ2V0TG9nZ2VyKFsnRGlzcGF0Y2hlciddKTtcbiAgcHJpdmF0ZSBzdWJzY3JpYmVyczogUGFydGlhbDxcbiAgICBSZWNvcmQ8U2Z1RXZlbnRLaW5kcywgQ2FsbEV2ZW50TGlzdGVuZXI8YW55PltdIHwgdW5kZWZpbmVkPlxuICA+ID0ge307XG5cbiAgZGlzcGF0Y2ggPSA8SyBleHRlbmRzIFNmdUV2ZW50S2luZHM+KFxuICAgIG1lc3NhZ2U6IERpc3BhdGNoYWJsZU1lc3NhZ2U8Sz4sXG4gICAgbG9nVGFnOiBzdHJpbmcgPSAnMCcsXG4gICkgPT4ge1xuICAgIGNvbnN0IGV2ZW50S2luZCA9IG1lc3NhZ2UuZXZlbnRQYXlsb2FkLm9uZW9mS2luZDtcbiAgICBpZiAoIWV2ZW50S2luZCkgcmV0dXJuO1xuICAgIGNvbnN0IHBheWxvYWQgPSBtZXNzYWdlLmV2ZW50UGF5bG9hZFtldmVudEtpbmRdO1xuICAgIHRoaXMubG9nZ2VyKCdkZWJ1ZycsIGBEaXNwYXRjaGluZyAke2V2ZW50S2luZH0sIHRhZz0ke2xvZ1RhZ31gLCBwYXlsb2FkKTtcbiAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLnN1YnNjcmliZXJzW2V2ZW50S2luZF07XG4gICAgaWYgKCFsaXN0ZW5lcnMpIHJldHVybjtcbiAgICBmb3IgKGNvbnN0IGZuIG9mIGxpc3RlbmVycykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgZm4ocGF5bG9hZCk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHRoaXMubG9nZ2VyKCd3YXJuJywgJ0xpc3RlbmVyIGZhaWxlZCB3aXRoIGVycm9yJywgZSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIG9uID0gPEUgZXh0ZW5kcyBrZXlvZiBBbGxTZnVFdmVudHM+KFxuICAgIGV2ZW50TmFtZTogRSxcbiAgICBmbjogQ2FsbEV2ZW50TGlzdGVuZXI8RT4sXG4gICkgPT4ge1xuICAgICh0aGlzLnN1YnNjcmliZXJzW2V2ZW50TmFtZV0gPz89IFtdKS5wdXNoKGZuIGFzIG5ldmVyKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgdGhpcy5vZmYoZXZlbnROYW1lLCBmbik7XG4gICAgfTtcbiAgfTtcblxuICBvZmYgPSA8RSBleHRlbmRzIGtleW9mIEFsbFNmdUV2ZW50cz4oXG4gICAgZXZlbnROYW1lOiBFLFxuICAgIGZuOiBDYWxsRXZlbnRMaXN0ZW5lcjxFPixcbiAgKSA9PiB7XG4gICAgdGhpcy5zdWJzY3JpYmVyc1tldmVudE5hbWVdID0gKHRoaXMuc3Vic2NyaWJlcnNbZXZlbnROYW1lXSB8fCBbXSkuZmlsdGVyKFxuICAgICAgKGYpID0+IGYgIT09IGZuLFxuICAgICk7XG4gIH07XG5cbiAgb2ZmQWxsID0gKGV2ZW50TmFtZT86IFNmdUV2ZW50S2luZHMpID0+IHtcbiAgICBpZiAoZXZlbnROYW1lKSB7XG4gICAgICB0aGlzLnN1YnNjcmliZXJzW2V2ZW50TmFtZV0gPSBbXTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zdWJzY3JpYmVycyA9IHt9O1xuICAgIH1cbiAgfTtcbn1cbiIsImltcG9ydCB7IFJlcGxheVN1YmplY3QgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IElDRVRyaWNrbGUgfSBmcm9tICcuLi9nZW4vdmlkZW8vc2Z1L2V2ZW50L2V2ZW50cyc7XG5pbXBvcnQgeyBQZWVyVHlwZSB9IGZyb20gJy4uL2dlbi92aWRlby9zZnUvbW9kZWxzL21vZGVscyc7XG5pbXBvcnQgeyBnZXRMb2dnZXIgfSBmcm9tICcuLi9sb2dnZXInO1xuXG4vKipcbiAqIEEgYnVmZmVyIGZvciBJQ0UgQ2FuZGlkYXRlcy4gVXNlZCBmb3IgSUNFIFRyaWNrbGU6XG4gKiAtIGh0dHBzOi8vYmxvZ2dlZWsubWUvd2VicnRjZ2xvc3NhcnkvdHJpY2tsZS1pY2UvXG4gKi9cbmV4cG9ydCBjbGFzcyBJY2VUcmlja2xlQnVmZmVyIHtcbiAgcmVhZG9ubHkgc3Vic2NyaWJlckNhbmRpZGF0ZXMgPSBuZXcgUmVwbGF5U3ViamVjdDxJQ0VUcmlja2xlPigpO1xuICByZWFkb25seSBwdWJsaXNoZXJDYW5kaWRhdGVzID0gbmV3IFJlcGxheVN1YmplY3Q8SUNFVHJpY2tsZT4oKTtcblxuICBwdXNoID0gKGljZVRyaWNrbGU6IElDRVRyaWNrbGUpID0+IHtcbiAgICBpZiAoaWNlVHJpY2tsZS5wZWVyVHlwZSA9PT0gUGVlclR5cGUuU1VCU0NSSUJFUikge1xuICAgICAgdGhpcy5zdWJzY3JpYmVyQ2FuZGlkYXRlcy5uZXh0KGljZVRyaWNrbGUpO1xuICAgIH0gZWxzZSBpZiAoaWNlVHJpY2tsZS5wZWVyVHlwZSA9PT0gUGVlclR5cGUuUFVCTElTSEVSX1VOU1BFQ0lGSUVEKSB7XG4gICAgICB0aGlzLnB1Ymxpc2hlckNhbmRpZGF0ZXMubmV4dChpY2VUcmlja2xlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgbG9nZ2VyID0gZ2V0TG9nZ2VyKFsnc2Z1LWNsaWVudCddKTtcbiAgICAgIGxvZ2dlcignd2FybicsIGBJQ0VUcmlja2xlLCBVbmtub3duIHBlZXIgdHlwZWAsIGljZVRyaWNrbGUpO1xuICAgIH1cbiAgfTtcbn1cbiIsImltcG9ydCB7IElDRVRyaWNrbGUgfSBmcm9tICcuLi8uLi9nZW4vdmlkZW8vc2Z1L21vZGVscy9tb2RlbHMnO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0SWNlQ2FuZGlkYXRlKFxuICBjYW5kaWRhdGU6IFJUQ0ljZUNhbmRpZGF0ZSxcbik6IElDRVRyaWNrbGVbJ2ljZUNhbmRpZGF0ZSddIHtcbiAgaWYgKCFjYW5kaWRhdGUudXNlcm5hbWVGcmFnbWVudCkge1xuICAgIC8vIHJlYWN0LW5hdGl2ZS13ZWJydGMgZG9lc24ndCBpbmNsdWRlIHVzZXJuYW1lRnJhZ21lbnQgaW4gdGhlIGNhbmRpZGF0ZVxuICAgIGNvbnN0IHNwbGl0dGVkQ2FuZGlkYXRlID0gY2FuZGlkYXRlLmNhbmRpZGF0ZS5zcGxpdCgnICcpO1xuICAgIGNvbnN0IHVmcmFnSW5kZXggPVxuICAgICAgc3BsaXR0ZWRDYW5kaWRhdGUuZmluZEluZGV4KChzOiBzdHJpbmcpID0+IHMgPT09ICd1ZnJhZycpICsgMTtcbiAgICBjb25zdCB1c2VybmFtZUZyYWdtZW50ID0gc3BsaXR0ZWRDYW5kaWRhdGVbdWZyYWdJbmRleF07XG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHsgLi4uY2FuZGlkYXRlLCB1c2VybmFtZUZyYWdtZW50IH0pO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShjYW5kaWRhdGUudG9KU09OKCkpO1xuICB9XG59XG4iLCJpbXBvcnQgeyBQcmVmZXJyZWRDb2RlYyB9IGZyb20gJy4uL3R5cGVzJztcblxuY29uc3QgYml0cmF0ZUxvb2t1cFRhYmxlOiBSZWNvcmQ8XG4gIFByZWZlcnJlZENvZGVjLFxuICBSZWNvcmQ8bnVtYmVyIHwgJ2RlZmF1bHQnLCBudW1iZXIgfCB1bmRlZmluZWQ+IHwgdW5kZWZpbmVkXG4+ID0ge1xuICBoMjY0OiB7XG4gICAgMjE2MDogNV8wMDBfMDAwLFxuICAgIDE0NDA6IDNfMDAwXzAwMCxcbiAgICAxMDgwOiAyXzAwMF8wMDAsXG4gICAgNzIwOiAxXzI1MF8wMDAsXG4gICAgNTQwOiA3NTBfMDAwLFxuICAgIDM2MDogNDAwXzAwMCxcbiAgICBkZWZhdWx0OiAxXzI1MF8wMDAsXG4gIH0sXG4gIHZwODoge1xuICAgIDIxNjA6IDVfMDAwXzAwMCxcbiAgICAxNDQwOiAyXzc1MF8wMDAsXG4gICAgMTA4MDogMl8wMDBfMDAwLFxuICAgIDcyMDogMV8yNTBfMDAwLFxuICAgIDU0MDogNjAwXzAwMCxcbiAgICAzNjA6IDM1MF8wMDAsXG4gICAgZGVmYXVsdDogMV8yNTBfMDAwLFxuICB9LFxuICB2cDk6IHtcbiAgICAyMTYwOiAzXzAwMF8wMDAsXG4gICAgMTQ0MDogMl8wMDBfMDAwLFxuICAgIDEwODA6IDFfNTAwXzAwMCxcbiAgICA3MjA6IDFfMjUwXzAwMCxcbiAgICA1NDA6IDUwMF8wMDAsXG4gICAgMzYwOiAyNzVfMDAwLFxuICAgIGRlZmF1bHQ6IDFfMjUwXzAwMCxcbiAgfSxcbiAgYXYxOiB7XG4gICAgMjE2MDogMl8wMDBfMDAwLFxuICAgIDE0NDA6IDFfNTUwXzAwMCxcbiAgICAxMDgwOiAxXzAwMF8wMDAsXG4gICAgNzIwOiA2MDBfMDAwLFxuICAgIDU0MDogMzUwXzAwMCxcbiAgICAzNjA6IDIwMF8wMDAsXG4gICAgZGVmYXVsdDogNjAwXzAwMCxcbiAgfSxcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRPcHRpbWFsQml0cmF0ZSA9IChcbiAgY29kZWM6IFByZWZlcnJlZENvZGVjLFxuICBmcmFtZUhlaWdodDogbnVtYmVyLFxuKTogbnVtYmVyID0+IHtcbiAgY29uc3QgY29kZWNMb29rdXAgPSBiaXRyYXRlTG9va3VwVGFibGVbY29kZWNdO1xuICBpZiAoIWNvZGVjTG9va3VwKSB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gY29kZWM6ICR7Y29kZWN9YCk7XG5cbiAgbGV0IGJpdHJhdGUgPSBjb2RlY0xvb2t1cFtmcmFtZUhlaWdodF07XG4gIGlmICghYml0cmF0ZSkge1xuICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhjb2RlY0xvb2t1cCkubWFwKE51bWJlcik7XG4gICAgY29uc3QgbmVhcmVzdCA9IGtleXMucmVkdWNlKChhLCBiKSA9PlxuICAgICAgTWF0aC5hYnMoYiAtIGZyYW1lSGVpZ2h0KSA8IE1hdGguYWJzKGEgLSBmcmFtZUhlaWdodCkgPyBiIDogYSxcbiAgICApO1xuICAgIGJpdHJhdGUgPSBjb2RlY0xvb2t1cFtuZWFyZXN0XTtcbiAgfVxuICByZXR1cm4gYml0cmF0ZSA/PyBjb2RlY0xvb2t1cC5kZWZhdWx0ITtcbn07XG4iLCJpbXBvcnQgeyBQcmVmZXJyZWRDb2RlYywgUHVibGlzaE9wdGlvbnMgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBUYXJnZXRSZXNvbHV0aW9uUmVzcG9uc2UgfSBmcm9tICcuLi9nZW4vc2hpbXMnO1xuaW1wb3J0IHsgaXNTdmNDb2RlYyB9IGZyb20gJy4vY29kZWNzJztcbmltcG9ydCB7IGdldE9wdGltYWxCaXRyYXRlIH0gZnJvbSAnLi9iaXRyYXRlTG9va3VwJztcbmltcG9ydCB7IFZpZGVvUXVhbGl0eSB9IGZyb20gJy4uL2dlbi92aWRlby9zZnUvbW9kZWxzL21vZGVscyc7XG5cbmV4cG9ydCB0eXBlIE9wdGltYWxWaWRlb0xheWVyID0gUlRDUnRwRW5jb2RpbmdQYXJhbWV0ZXJzICYge1xuICB3aWR0aDogbnVtYmVyO1xuICBoZWlnaHQ6IG51bWJlcjtcbiAgLy8gTk9URSBPTDogc2hvdWxkIGJlIHBhcnQgb2YgUlRDUnRwRW5jb2RpbmdQYXJhbWV0ZXJzXG4gIHNjYWxhYmlsaXR5TW9kZT86IHN0cmluZztcbn07XG5cbmNvbnN0IERFRkFVTFRfQklUUkFURSA9IDEyNTAwMDA7XG5jb25zdCBkZWZhdWx0VGFyZ2V0UmVzb2x1dGlvbjogVGFyZ2V0UmVzb2x1dGlvblJlc3BvbnNlID0ge1xuICBiaXRyYXRlOiBERUZBVUxUX0JJVFJBVEUsXG4gIHdpZHRoOiAxMjgwLFxuICBoZWlnaHQ6IDcyMCxcbn07XG5cbmNvbnN0IGRlZmF1bHRCaXRyYXRlUGVyUmlkOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+ID0ge1xuICBxOiAzMDAwMDAsXG4gIGg6IDc1MDAwMCxcbiAgZjogREVGQVVMVF9CSVRSQVRFLFxufTtcblxuLyoqXG4gKiBJbiBTVkMsIHdlIG5lZWQgdG8gc2VuZCBvbmx5IG9uZSB2aWRlbyBlbmNvZGluZyAobGF5ZXIpLlxuICogdGhpcyBsYXllciB3aWxsIGhhdmUgdGhlIGFkZGl0aW9uYWwgc3BhdGlhbCBhbmQgdGVtcG9yYWwgbGF5ZXJzXG4gKiBkZWZpbmVkIHZpYSB0aGUgc2NhbGFiaWxpdHlNb2RlIHByb3BlcnR5LlxuICpcbiAqIEBwYXJhbSBsYXllcnMgdGhlIGxheWVycyB0byBwcm9jZXNzLlxuICovXG5leHBvcnQgY29uc3QgdG9TdmNFbmNvZGluZ3MgPSAobGF5ZXJzOiBPcHRpbWFsVmlkZW9MYXllcltdIHwgdW5kZWZpbmVkKSA9PiB7XG4gIC8vIHdlIHRha2UgdGhlIGBmYCBsYXllciwgYW5kIHdlIHJlbmFtZSBpdCB0byBgcWAuXG4gIHJldHVybiBsYXllcnM/LmZpbHRlcigobCkgPT4gbC5yaWQgPT09ICdmJykubWFwKChsKSA9PiAoeyAuLi5sLCByaWQ6ICdxJyB9KSk7XG59O1xuXG4vKipcbiAqIENvbnZlcnRzIHRoZSByaWQgdG8gYSB2aWRlbyBxdWFsaXR5LlxuICovXG5leHBvcnQgY29uc3QgcmlkVG9WaWRlb1F1YWxpdHkgPSAocmlkOiBzdHJpbmcpOiBWaWRlb1F1YWxpdHkgPT4ge1xuICByZXR1cm4gcmlkID09PSAncSdcbiAgICA/IFZpZGVvUXVhbGl0eS5MT1dfVU5TUEVDSUZJRURcbiAgICA6IHJpZCA9PT0gJ2gnXG4gICAgICA/IFZpZGVvUXVhbGl0eS5NSURcbiAgICAgIDogVmlkZW9RdWFsaXR5LkhJR0g7IC8vIGRlZmF1bHQgdG8gSElHSFxufTtcblxuLyoqXG4gKiBEZXRlcm1pbmVzIHRoZSBtb3N0IG9wdGltYWwgdmlkZW8gbGF5ZXJzIGZvciBzaW11bGNhc3RpbmdcbiAqIGZvciB0aGUgZ2l2ZW4gdHJhY2suXG4gKlxuICogQHBhcmFtIHZpZGVvVHJhY2sgdGhlIHZpZGVvIHRyYWNrIHRvIGZpbmQgb3B0aW1hbCBsYXllcnMgZm9yLlxuICogQHBhcmFtIHRhcmdldFJlc29sdXRpb24gdGhlIGV4cGVjdGVkIHRhcmdldCByZXNvbHV0aW9uLlxuICogQHBhcmFtIGNvZGVjSW5Vc2UgdGhlIGNvZGVjIGluIHVzZS5cbiAqIEBwYXJhbSBwdWJsaXNoT3B0aW9ucyB0aGUgcHVibGlzaCBvcHRpb25zIGZvciB0aGUgdHJhY2suXG4gKi9cbmV4cG9ydCBjb25zdCBmaW5kT3B0aW1hbFZpZGVvTGF5ZXJzID0gKFxuICB2aWRlb1RyYWNrOiBNZWRpYVN0cmVhbVRyYWNrLFxuICB0YXJnZXRSZXNvbHV0aW9uOiBUYXJnZXRSZXNvbHV0aW9uUmVzcG9uc2UgPSBkZWZhdWx0VGFyZ2V0UmVzb2x1dGlvbixcbiAgY29kZWNJblVzZT86IFByZWZlcnJlZENvZGVjLFxuICBwdWJsaXNoT3B0aW9ucz86IFB1Ymxpc2hPcHRpb25zLFxuKSA9PiB7XG4gIGNvbnN0IG9wdGltYWxWaWRlb0xheWVyczogT3B0aW1hbFZpZGVvTGF5ZXJbXSA9IFtdO1xuICBjb25zdCBzZXR0aW5ncyA9IHZpZGVvVHJhY2suZ2V0U2V0dGluZ3MoKTtcbiAgY29uc3QgeyB3aWR0aCA9IDAsIGhlaWdodCA9IDAgfSA9IHNldHRpbmdzO1xuICBjb25zdCB7XG4gICAgc2NhbGFiaWxpdHlNb2RlLFxuICAgIGJpdHJhdGVEb3duc2NhbGVGYWN0b3IgPSAyLFxuICAgIG1heFNpbXVsY2FzdExheWVycyA9IDMsXG4gIH0gPSBwdWJsaXNoT3B0aW9ucyB8fCB7fTtcbiAgY29uc3QgbWF4Qml0cmF0ZSA9IGdldENvbXB1dGVkTWF4Qml0cmF0ZShcbiAgICB0YXJnZXRSZXNvbHV0aW9uLFxuICAgIHdpZHRoLFxuICAgIGhlaWdodCxcbiAgICBjb2RlY0luVXNlLFxuICAgIHB1Ymxpc2hPcHRpb25zLFxuICApO1xuICBsZXQgZG93bnNjYWxlRmFjdG9yID0gMTtcbiAgbGV0IGJpdHJhdGVGYWN0b3IgPSAxO1xuICBjb25zdCBzdmNDb2RlYyA9IGlzU3ZjQ29kZWMoY29kZWNJblVzZSk7XG4gIGNvbnN0IHRvdGFsTGF5ZXJzID0gc3ZjQ29kZWMgPyAzIDogTWF0aC5taW4oMywgbWF4U2ltdWxjYXN0TGF5ZXJzKTtcbiAgZm9yIChjb25zdCByaWQgb2YgWydmJywgJ2gnLCAncSddLnNsaWNlKDAsIHRvdGFsTGF5ZXJzKSkge1xuICAgIGNvbnN0IGxheWVyOiBPcHRpbWFsVmlkZW9MYXllciA9IHtcbiAgICAgIGFjdGl2ZTogdHJ1ZSxcbiAgICAgIHJpZCxcbiAgICAgIHdpZHRoOiBNYXRoLnJvdW5kKHdpZHRoIC8gZG93bnNjYWxlRmFjdG9yKSxcbiAgICAgIGhlaWdodDogTWF0aC5yb3VuZChoZWlnaHQgLyBkb3duc2NhbGVGYWN0b3IpLFxuICAgICAgbWF4Qml0cmF0ZTpcbiAgICAgICAgTWF0aC5yb3VuZChtYXhCaXRyYXRlIC8gYml0cmF0ZUZhY3RvcikgfHwgZGVmYXVsdEJpdHJhdGVQZXJSaWRbcmlkXSxcbiAgICAgIG1heEZyYW1lcmF0ZTogMzAsXG4gICAgfTtcbiAgICBpZiAoc3ZjQ29kZWMpIHtcbiAgICAgIC8vIGZvciBTVkMgY29kZWNzLCB3ZSBuZWVkIHRvIHNldCB0aGUgc2NhbGFiaWxpdHkgbW9kZSwgYW5kIHRoZVxuICAgICAgLy8gY29kZWMgd2lsbCBoYW5kbGUgdGhlIHJlc3QgKGxheWVycywgdGVtcG9yYWwgbGF5ZXJzLCBldGMuKVxuICAgICAgbGF5ZXIuc2NhbGFiaWxpdHlNb2RlID0gc2NhbGFiaWxpdHlNb2RlIHx8ICdMM1QyX0tFWSc7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGZvciBub24tU1ZDIGNvZGVjcywgd2UgbmVlZCB0byBkb3duc2NhbGUgcHJvcG9ydGlvbmFsbHkgKHNpbXVsY2FzdClcbiAgICAgIGxheWVyLnNjYWxlUmVzb2x1dGlvbkRvd25CeSA9IGRvd25zY2FsZUZhY3RvcjtcbiAgICB9XG5cbiAgICBkb3duc2NhbGVGYWN0b3IgKj0gMjtcbiAgICBiaXRyYXRlRmFjdG9yICo9IGJpdHJhdGVEb3duc2NhbGVGYWN0b3I7XG5cbiAgICAvLyBSZXZlcnNpbmcgdGhlIG9yZGVyIFtmLCBoLCBxXSB0byBbcSwgaCwgZl0gYXMgQ2hyb21lIHVzZXMgZW5jb2RpbmcgaW5kZXhcbiAgICAvLyB3aGVuIGRlY2lkaW5nIHdoaWNoIGxheWVyIHRvIGRpc2FibGUgd2hlbiBDUFUgb3IgYmFuZHdpZHRoIGlzIGNvbnN0cmFpbmVkLlxuICAgIC8vIEVuY29kaW5ncyBzaG91bGQgYmUgb3JkZXJlZCBpbiBpbmNyZWFzaW5nIHNwYXRpYWwgcmVzb2x1dGlvbiBvcmRlci5cbiAgICBvcHRpbWFsVmlkZW9MYXllcnMudW5zaGlmdChsYXllcik7XG4gIH1cblxuICAvLyBmb3Igc2ltcGxpY2l0eSwgd2Ugc3RhcnQgd2l0aCBhbGwgbGF5ZXJzIGVuYWJsZWQsIHRoZW4gdGhpcyBmdW5jdGlvblxuICAvLyB3aWxsIGNsZWFyL3JlYXNzaWduIHRoZSBsYXllcnMgdGhhdCBhcmUgbm90IG5lZWRlZFxuICByZXR1cm4gd2l0aFNpbXVsY2FzdENvbnN0cmFpbnRzKHNldHRpbmdzLCBvcHRpbWFsVmlkZW9MYXllcnMpO1xufTtcblxuLyoqXG4gKiBDb21wdXRlcyB0aGUgbWF4aW11bSBiaXRyYXRlIGZvciBhIGdpdmVuIHJlc29sdXRpb24uXG4gKiBJZiB0aGUgY3VycmVudCByZXNvbHV0aW9uIGlzIGxvd2VyIHRoYW4gdGhlIHRhcmdldCByZXNvbHV0aW9uLFxuICogd2Ugd2FudCB0byBwcm9wb3J0aW9uYWxseSByZWR1Y2UgdGhlIHRhcmdldCBiaXRyYXRlLlxuICogSWYgdGhlIGN1cnJlbnQgcmVzb2x1dGlvbiBpcyBoaWdoZXIgdGhhbiB0aGUgdGFyZ2V0IHJlc29sdXRpb24sXG4gKiB3ZSB3YW50IHRvIHVzZSB0aGUgdGFyZ2V0IGJpdHJhdGUuXG4gKlxuICogQHBhcmFtIHRhcmdldFJlc29sdXRpb24gdGhlIHRhcmdldCByZXNvbHV0aW9uLlxuICogQHBhcmFtIGN1cnJlbnRXaWR0aCB0aGUgY3VycmVudCB3aWR0aCBvZiB0aGUgdHJhY2suXG4gKiBAcGFyYW0gY3VycmVudEhlaWdodCB0aGUgY3VycmVudCBoZWlnaHQgb2YgdGhlIHRyYWNrLlxuICogQHBhcmFtIGNvZGVjSW5Vc2UgdGhlIGNvZGVjIGluIHVzZS5cbiAqIEBwYXJhbSBwdWJsaXNoT3B0aW9ucyB0aGUgcHVibGlzaCBvcHRpb25zLlxuICovXG5leHBvcnQgY29uc3QgZ2V0Q29tcHV0ZWRNYXhCaXRyYXRlID0gKFxuICB0YXJnZXRSZXNvbHV0aW9uOiBUYXJnZXRSZXNvbHV0aW9uUmVzcG9uc2UsXG4gIGN1cnJlbnRXaWR0aDogbnVtYmVyLFxuICBjdXJyZW50SGVpZ2h0OiBudW1iZXIsXG4gIGNvZGVjSW5Vc2U/OiBQcmVmZXJyZWRDb2RlYyxcbiAgcHVibGlzaE9wdGlvbnM/OiBQdWJsaXNoT3B0aW9ucyxcbik6IG51bWJlciA9PiB7XG4gIC8vIGlmIHRoZSBjdXJyZW50IHJlc29sdXRpb24gaXMgbG93ZXIgdGhhbiB0aGUgdGFyZ2V0IHJlc29sdXRpb24sXG4gIC8vIHdlIHdhbnQgdG8gcHJvcG9ydGlvbmFsbHkgcmVkdWNlIHRoZSB0YXJnZXQgYml0cmF0ZVxuICBjb25zdCB7XG4gICAgd2lkdGg6IHRhcmdldFdpZHRoLFxuICAgIGhlaWdodDogdGFyZ2V0SGVpZ2h0LFxuICAgIGJpdHJhdGU6IHRhcmdldEJpdHJhdGUsXG4gIH0gPSB0YXJnZXRSZXNvbHV0aW9uO1xuICBjb25zdCB7IHByZWZlcnJlZEJpdHJhdGUgfSA9IHB1Ymxpc2hPcHRpb25zIHx8IHt9O1xuICBjb25zdCBmcmFtZUhlaWdodCA9XG4gICAgY3VycmVudFdpZHRoID4gY3VycmVudEhlaWdodCA/IGN1cnJlbnRIZWlnaHQgOiBjdXJyZW50V2lkdGg7XG4gIGNvbnN0IGJpdHJhdGUgPVxuICAgIHByZWZlcnJlZEJpdHJhdGUgfHxcbiAgICAoY29kZWNJblVzZSA/IGdldE9wdGltYWxCaXRyYXRlKGNvZGVjSW5Vc2UsIGZyYW1lSGVpZ2h0KSA6IHRhcmdldEJpdHJhdGUpO1xuICBpZiAoY3VycmVudFdpZHRoIDwgdGFyZ2V0V2lkdGggfHwgY3VycmVudEhlaWdodCA8IHRhcmdldEhlaWdodCkge1xuICAgIGNvbnN0IGN1cnJlbnRQaXhlbHMgPSBjdXJyZW50V2lkdGggKiBjdXJyZW50SGVpZ2h0O1xuICAgIGNvbnN0IHRhcmdldFBpeGVscyA9IHRhcmdldFdpZHRoICogdGFyZ2V0SGVpZ2h0O1xuICAgIGNvbnN0IHJlZHVjdGlvbkZhY3RvciA9IGN1cnJlbnRQaXhlbHMgLyB0YXJnZXRQaXhlbHM7XG4gICAgcmV0dXJuIE1hdGgucm91bmQoYml0cmF0ZSAqIHJlZHVjdGlvbkZhY3Rvcik7XG4gIH1cbiAgcmV0dXJuIGJpdHJhdGU7XG59O1xuXG4vKipcbiAqIEJyb3dzZXJzIGhhdmUgZGlmZmVyZW50IHNpbXVsY2FzdCBjb25zdHJhaW50cyBmb3IgZGlmZmVyZW50IHZpZGVvIHJlc29sdXRpb25zLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gbW9kaWZpZXMgdGhlIHByb3ZpZGVkIGxpc3Qgb2YgdmlkZW8gbGF5ZXJzIGFjY29yZGluZyB0byB0aGVcbiAqIGN1cnJlbnQgaW1wbGVtZW50YXRpb24gb2Ygc2ltdWxjYXN0IGNvbnN0cmFpbnRzIGluIHRoZSBDaHJvbWl1bSBiYXNlZCBicm93c2Vycy5cbiAqXG4gKiBodHRwczovL2Nocm9taXVtLmdvb2dsZXNvdXJjZS5jb20vZXh0ZXJuYWwvd2VicnRjLysvcmVmcy9oZWFkcy9tYWluL21lZGlhL2VuZ2luZS9zaW11bGNhc3QuY2MjOTBcbiAqL1xuY29uc3Qgd2l0aFNpbXVsY2FzdENvbnN0cmFpbnRzID0gKFxuICBzZXR0aW5nczogTWVkaWFUcmFja1NldHRpbmdzLFxuICBvcHRpbWFsVmlkZW9MYXllcnM6IE9wdGltYWxWaWRlb0xheWVyW10sXG4pID0+IHtcbiAgbGV0IGxheWVyczogT3B0aW1hbFZpZGVvTGF5ZXJbXTtcblxuICBjb25zdCBzaXplID0gTWF0aC5tYXgoc2V0dGluZ3Mud2lkdGggfHwgMCwgc2V0dGluZ3MuaGVpZ2h0IHx8IDApO1xuICBpZiAoc2l6ZSA8PSAzMjApIHtcbiAgICAvLyBwcm92aWRlIG9ubHkgb25lIGxheWVyIDMyMHgyNDAgKHEpLCB0aGUgb25lIHdpdGggdGhlIGhpZ2hlc3QgcXVhbGl0eVxuICAgIGxheWVycyA9IG9wdGltYWxWaWRlb0xheWVycy5maWx0ZXIoKGxheWVyKSA9PiBsYXllci5yaWQgPT09ICdmJyk7XG4gIH0gZWxzZSBpZiAoc2l6ZSA8PSA2NDApIHtcbiAgICAvLyBwcm92aWRlIHR3byBsYXllcnMsIDE2MHgxMjAgKHEpIGFuZCA2NDB4NDgwIChoKVxuICAgIGxheWVycyA9IG9wdGltYWxWaWRlb0xheWVycy5maWx0ZXIoKGxheWVyKSA9PiBsYXllci5yaWQgIT09ICdoJyk7XG4gIH0gZWxzZSB7XG4gICAgLy8gcHJvdmlkZSB0aHJlZSBsYXllcnMgZm9yIHNpemVzID4gNjQweDQ4MFxuICAgIGxheWVycyA9IG9wdGltYWxWaWRlb0xheWVycztcbiAgfVxuXG4gIGNvbnN0IHJpZE1hcHBpbmcgPSBbJ3EnLCAnaCcsICdmJ107XG4gIHJldHVybiBsYXllcnMubWFwPE9wdGltYWxWaWRlb0xheWVyPigobGF5ZXIsIGluZGV4KSA9PiAoe1xuICAgIC4uLmxheWVyLFxuICAgIHJpZDogcmlkTWFwcGluZ1tpbmRleF0sIC8vIHJlYXNzaWduIHJpZFxuICB9KSk7XG59O1xuXG5leHBvcnQgY29uc3QgZmluZE9wdGltYWxTY3JlZW5TaGFyaW5nTGF5ZXJzID0gKFxuICB2aWRlb1RyYWNrOiBNZWRpYVN0cmVhbVRyYWNrLFxuICBwdWJsaXNoT3B0aW9ucz86IFB1Ymxpc2hPcHRpb25zLFxuICBkZWZhdWx0TWF4Qml0cmF0ZSA9IDMwMDAwMDAsXG4pOiBPcHRpbWFsVmlkZW9MYXllcltdID0+IHtcbiAgY29uc3QgeyBzY3JlZW5TaGFyZVNldHRpbmdzOiBwcmVmZXJlbmNlcyB9ID0gcHVibGlzaE9wdGlvbnMgfHwge307XG4gIGNvbnN0IHNldHRpbmdzID0gdmlkZW9UcmFjay5nZXRTZXR0aW5ncygpO1xuICByZXR1cm4gW1xuICAgIHtcbiAgICAgIGFjdGl2ZTogdHJ1ZSxcbiAgICAgIHJpZDogJ3EnLCAvLyBzaW5nbGUgdHJhY2ssIHN0YXJ0IGZyb20gJ3EnXG4gICAgICB3aWR0aDogc2V0dGluZ3Mud2lkdGggfHwgMCxcbiAgICAgIGhlaWdodDogc2V0dGluZ3MuaGVpZ2h0IHx8IDAsXG4gICAgICBzY2FsZVJlc29sdXRpb25Eb3duQnk6IDEsXG4gICAgICBtYXhCaXRyYXRlOiBwcmVmZXJlbmNlcz8ubWF4Qml0cmF0ZSA/PyBkZWZhdWx0TWF4Qml0cmF0ZSxcbiAgICAgIG1heEZyYW1lcmF0ZTogcHJlZmVyZW5jZXM/Lm1heEZyYW1lcmF0ZSA/PyAzMCxcbiAgICB9LFxuICBdO1xufTtcbiIsImltcG9ydCB7IGdldExvZ2dlciB9IGZyb20gJy4uL2xvZ2dlcic7XG5cbmV4cG9ydCBjb25zdCBlbnN1cmVFeGhhdXN0ZWQgPSAoeDogbmV2ZXIsIG1lc3NhZ2U6IHN0cmluZykgPT4ge1xuICBnZXRMb2dnZXIoWydoZWxwZXJzJ10pKCd3YXJuJywgbWVzc2FnZSwgeCk7XG59O1xuIiwiaW1wb3J0IHsgVHJhY2tUeXBlIH0gZnJvbSAnLi4vLi4vZ2VuL3ZpZGVvL3NmdS9tb2RlbHMvbW9kZWxzJztcbmltcG9ydCB7IFRyYWNrTXV0ZVR5cGUgfSBmcm9tICcuLi8uLi90eXBlcyc7XG5pbXBvcnQgeyBlbnN1cmVFeGhhdXN0ZWQgfSBmcm9tICcuLi8uLi9oZWxwZXJzL2Vuc3VyZUV4aGF1c3RlZCc7XG5cbmV4cG9ydCBjb25zdCB0cmFja1R5cGVUb1BhcnRpY2lwYW50U3RyZWFtS2V5ID0gKFxuICB0cmFja1R5cGU6IFRyYWNrVHlwZSxcbik6XG4gIHwgJ2F1ZGlvU3RyZWFtJ1xuICB8ICd2aWRlb1N0cmVhbSdcbiAgfCAnc2NyZWVuU2hhcmVTdHJlYW0nXG4gIHwgJ3NjcmVlblNoYXJlQXVkaW9TdHJlYW0nXG4gIHwgdW5kZWZpbmVkID0+IHtcbiAgc3dpdGNoICh0cmFja1R5cGUpIHtcbiAgICBjYXNlIFRyYWNrVHlwZS5TQ1JFRU5fU0hBUkU6XG4gICAgICByZXR1cm4gJ3NjcmVlblNoYXJlU3RyZWFtJztcbiAgICBjYXNlIFRyYWNrVHlwZS5TQ1JFRU5fU0hBUkVfQVVESU86XG4gICAgICByZXR1cm4gJ3NjcmVlblNoYXJlQXVkaW9TdHJlYW0nO1xuICAgIGNhc2UgVHJhY2tUeXBlLlZJREVPOlxuICAgICAgcmV0dXJuICd2aWRlb1N0cmVhbSc7XG4gICAgY2FzZSBUcmFja1R5cGUuQVVESU86XG4gICAgICByZXR1cm4gJ2F1ZGlvU3RyZWFtJztcbiAgICBjYXNlIFRyYWNrVHlwZS5VTlNQRUNJRklFRDpcbiAgICAgIHRocm93IG5ldyBFcnJvcignVHJhY2sgdHlwZSBpcyB1bnNwZWNpZmllZCcpO1xuICAgIGRlZmF1bHQ6XG4gICAgICBlbnN1cmVFeGhhdXN0ZWQodHJhY2tUeXBlLCAnVW5rbm93biB0cmFjayB0eXBlJyk7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBtdXRlVHlwZVRvVHJhY2tUeXBlID0gKFxuICBtdXRlVHlwZTogVHJhY2tNdXRlVHlwZSxcbik6IFRyYWNrVHlwZSB8IHVuZGVmaW5lZCA9PiB7XG4gIHN3aXRjaCAobXV0ZVR5cGUpIHtcbiAgICBjYXNlICdhdWRpbyc6XG4gICAgICByZXR1cm4gVHJhY2tUeXBlLkFVRElPO1xuICAgIGNhc2UgJ3ZpZGVvJzpcbiAgICAgIHJldHVybiBUcmFja1R5cGUuVklERU87XG4gICAgY2FzZSAnc2NyZWVuc2hhcmUnOlxuICAgICAgcmV0dXJuIFRyYWNrVHlwZS5TQ1JFRU5fU0hBUkU7XG4gICAgY2FzZSAnc2NyZWVuc2hhcmVfYXVkaW8nOlxuICAgICAgcmV0dXJuIFRyYWNrVHlwZS5TQ1JFRU5fU0hBUkVfQVVESU87XG4gICAgZGVmYXVsdDpcbiAgICAgIGVuc3VyZUV4aGF1c3RlZChtdXRlVHlwZSwgJ1Vua25vd24gbXV0ZSB0eXBlJyk7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCB0b1RyYWNrVHlwZSA9ICh0cmFja1R5cGU6IHN0cmluZyk6IFRyYWNrVHlwZSB8IHVuZGVmaW5lZCA9PiB7XG4gIHN3aXRjaCAodHJhY2tUeXBlKSB7XG4gICAgY2FzZSAnVFJBQ0tfVFlQRV9BVURJTyc6XG4gICAgICByZXR1cm4gVHJhY2tUeXBlLkFVRElPO1xuICAgIGNhc2UgJ1RSQUNLX1RZUEVfVklERU8nOlxuICAgICAgcmV0dXJuIFRyYWNrVHlwZS5WSURFTztcbiAgICBjYXNlICdUUkFDS19UWVBFX1NDUkVFTl9TSEFSRSc6XG4gICAgICByZXR1cm4gVHJhY2tUeXBlLlNDUkVFTl9TSEFSRTtcbiAgICBjYXNlICdUUkFDS19UWVBFX1NDUkVFTl9TSEFSRV9BVURJTyc6XG4gICAgICByZXR1cm4gVHJhY2tUeXBlLlNDUkVFTl9TSEFSRV9BVURJTztcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxufTtcbiIsImludGVyZmFjZSBQZW5kaW5nUHJvbWlzZSB7XG4gIHByb21pc2U6IFByb21pc2U8dW5rbm93bj47XG4gIG9uQ29udGludWVkOiAoKSA9PiB2b2lkO1xufVxuXG50eXBlIEFzeW5jV3JhcHBlcjxQIGV4dGVuZHMgdW5rbm93bltdLCBUPiA9IChcbiAgdGFnOiBzdHJpbmcgfCBzeW1ib2wsXG4gIGNiOiAoLi4uYXJnczogUCkgPT4gUHJvbWlzZTxUPixcbikgPT4ge1xuICBjYjogKCkgPT4gUHJvbWlzZTxUPjtcbiAgb25Db250aW51ZWQ6ICgpID0+IHZvaWQ7XG59O1xuXG4vKipcbiAqIFJ1bnMgYXN5bmMgZnVuY3Rpb25zIHNlcmlhbGx5LiBVc2VmdWwgZm9yIHdyYXBwaW5nIGFzeW5jIGFjdGlvbnMgdGhhdFxuICogc2hvdWxkIG5ldmVyIHJ1biBzaW11bHRhbmVvdXNseTogaWYgbWFya2VkIHdpdGggdGhlIHNhbWUgdGFnLCBmdW5jdGlvbnNcbiAqIHdpbGwgcnVuIG9uZSBhZnRlciBhbm90aGVyLlxuICpcbiAqIEBwYXJhbSB0YWcgQXN5bmMgZnVuY3Rpb25zIHdpdGggdGhlIHNhbWUgdGFnIHdpbGwgcnVuIHNlcmlhbGx5LiBBc3luYyBmdW5jdGlvbnNcbiAqIHdpdGggZGlmZmVyZW50IHRhZ3MgY2FuIHJ1biBpbiBwYXJhbGxlbC5cbiAqIEBwYXJhbSBjYiBBc3luYyBmdW5jdGlvbiB0byBydW4uXG4gKiBAcmV0dXJucyBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2hlbiBhc3luYyBmdW5jdGlvbnMgcmV0dXJucy5cbiAqL1xuZXhwb3J0IGNvbnN0IHdpdGhvdXRDb25jdXJyZW5jeSA9IGNyZWF0ZVJ1bm5lcih3cmFwV2l0aENvbnRpbnVhdGlvblRyYWNraW5nKTtcblxuLyoqXG4gKiBSdW5zIGFzeW5jIGZ1bmN0aW9ucyBzZXJpYWxseSwgYW5kIGNhbmNlbHMgYWxsIG90aGVyIGFjdGlvbnMgd2l0aCB0aGUgc2FtZSB0YWdcbiAqIHdoZW4gYSBuZXcgYWN0aW9uIGlzIHNjaGVkdWxlZC4gVXNlZnVsIGZvciB3cmFwcGluZyBhc3luYyBhY3Rpb25zIHRoYXQgb3ZlcnJpZGVcbiAqIGVhY2ggb3RoZXIgKGUuZy4gZW5hYmxpbmcgYW5kIGRpc2FibGluZyBjYW1lcmEpLlxuICpcbiAqIElmIGFuIGFzeW5jIGZ1bmN0aW9uIGhhc24ndCBzdGFydGVkIHlldCBhbmQgd2FzIGNhbmNlbGVkLCBpdCB3aWxsIG5ldmVyIHJ1bi5cbiAqIElmIGFuIGFzeW5jIGZ1bmN0aW9uIGlzIGFscmVhZHkgcnVubmluZyBhbmQgd2FzIGNhbmNlbGVkLCBpdCB3aWxsIGJlIG5vdGlmaWVkXG4gKiB2aWEgYW4gYWJvcnQgc2lnbmFsIHBhc3NlZCBhcyBhbiBhcmd1bWVudC5cbiAqXG4gKiBAcGFyYW0gdGFnIEFzeW5jIGZ1bmN0aW9ucyB3aXRoIHRoZSBzYW1lIHRhZyB3aWxsIHJ1biBzZXJpYWxseSBhbmQgYXJlIGNhbmNlbGVkXG4gKiB3aGVuIGEgbmV3IGFjdGlvbiB3aXRoIHRoZSBzYW1lIHRhZyBpcyBzY2hlZHVsZWQuXG4gKiBAcGFyYW0gY2IgQXN5bmMgZnVuY3Rpb24gdG8gcnVuLiBSZWNlaXZlcyBBYm9ydFNpZ25hbCBhcyB0aGUgb25seSBhcmd1bWVudC5cbiAqIEByZXR1cm5zIFByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIGFzeW5jIGZ1bmN0aW9ucyByZXR1cm5zLiBJZiB0aGUgZnVuY3Rpb24gZGlkbid0XG4gKiBzdGFydCBhbmQgd2FzIGNhbmNlbGVkLCB3aWxsIHJlc29sdmUgd2l0aCAnY2FuY2VsZWQnLiBJZiB0aGUgZnVuY3Rpb24gc3RhcnRlZCB0byBydW4sXG4gKiBpdCdzIHVwIHRvIHRoZSBmdW5jdGlvbiB0byBkZWNpZGUgaG93IHRvIHJlYWN0IHRvIGNhbmNlbGF0aW9uLlxuICovXG5leHBvcnQgY29uc3Qgd2l0aENhbmNlbGxhdGlvbiA9IGNyZWF0ZVJ1bm5lcih3cmFwV2l0aENhbmNlbGxhdGlvbik7XG5cbmNvbnN0IHBlbmRpbmdQcm9taXNlcyA9IG5ldyBNYXA8c3RyaW5nIHwgc3ltYm9sLCBQZW5kaW5nUHJvbWlzZT4oKTtcblxuZXhwb3J0IGZ1bmN0aW9uIGhhc1BlbmRpbmcodGFnOiBzdHJpbmcgfCBzeW1ib2wpIHtcbiAgcmV0dXJuIHBlbmRpbmdQcm9taXNlcy5oYXModGFnKTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNldHRsZWQodGFnOiBzdHJpbmcgfCBzeW1ib2wpIHtcbiAgYXdhaXQgcGVuZGluZ1Byb21pc2VzLmdldCh0YWcpPy5wcm9taXNlO1xufVxuXG4vKipcbiAqIEltcGxlbWVudHMgY29tbW9uIGZ1bmN0aW9uYWxpdHkgb2YgcnVubmluZyBhc3luYyBmdW5jdGlvbnMgc2VyaWFsbHksIGJ5IGNoYWluaW5nXG4gKiB0aGVpciBwcm9taXNlcyBvbmUgYWZ0ZXIgYW5vdGhlci5cbiAqXG4gKiBCZWZvcmUgcnVubmluZywgYXN5bmMgZnVuY3Rpb24gaXMgXCJ3cmFwcGVkXCIgdXNpbmcgdGhlIHByb3ZpZGVkIHdyYXBwZXIuIFRoaXMgd3JhcHBlclxuICogY2FuIGFkZCBhZGRpdGlvbmFsIHN0ZXBzIHRvIHJ1biBiZWZvcmUgb3IgYWZ0ZXIgdGhlIGZ1bmN0aW9uLlxuICpcbiAqIFdoZW4gYXN5bmMgZnVuY3Rpb24gaXMgc2NoZWR1bGVkIHRvIHJ1biwgdGhlIHByZXZpb3VzIGZ1bmN0aW9uIGlzIG5vdGlmaWVkXG4gKiBieSBjYWxsaW5nIHRoZSBhc3NvY2lhdGVkIG9uQ29udGludWVkIGNhbGxiYWNrLiBUaGlzIGJlaGF2aW9yIG9mIHRoaXMgY2FsbGJhY2tcbiAqIGlzIGRlZmluZWQgYnkgdGhlIHdyYXBwZXIuXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVJ1bm5lcjxQIGV4dGVuZHMgdW5rbm93bltdLCBUPih3cmFwcGVyOiBBc3luY1dyYXBwZXI8UCwgVD4pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIHJ1bih0YWc6IHN0cmluZyB8IHN5bWJvbCwgY2I6ICguLi5hcmdzOiBQKSA9PiBQcm9taXNlPFQ+KSB7XG4gICAgY29uc3QgeyBjYjogd3JhcHBlZCwgb25Db250aW51ZWQgfSA9IHdyYXBwZXIodGFnLCBjYik7XG4gICAgY29uc3QgcGVuZGluZyA9IHBlbmRpbmdQcm9taXNlcy5nZXQodGFnKTtcbiAgICBwZW5kaW5nPy5vbkNvbnRpbnVlZCgpO1xuICAgIGNvbnN0IHByb21pc2UgPSBwZW5kaW5nXG4gICAgICA/IHBlbmRpbmcucHJvbWlzZS50aGVuKHdyYXBwZWQsIHdyYXBwZWQpXG4gICAgICA6IHdyYXBwZWQoKTtcbiAgICBwZW5kaW5nUHJvbWlzZXMuc2V0KHRhZywgeyBwcm9taXNlLCBvbkNvbnRpbnVlZCB9KTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfTtcbn1cblxuLyoqXG4gKiBXcmFwcyBhbiBhc3luYyBmdW5jdGlvbiB3aXRoIGFuIGFkZGl0aW9uYWwgc3RlcCBydW4gYWZ0ZXIgdGhlIGZ1bmN0aW9uOlxuICogaWYgdGhlIGZ1bmN0aW9uIGlzIHRoZSBsYXN0IGluIHRoZSBxdWV1ZSwgaXQgY2xlYW5zIHVwIHRoZSB3aG9sZSBjaGFpblxuICogb2YgcHJvbWlzZXMgYWZ0ZXIgZmluaXNoaW5nLlxuICovXG5mdW5jdGlvbiB3cmFwV2l0aENvbnRpbnVhdGlvblRyYWNraW5nPFQ+KFxuICB0YWc6IHN0cmluZyB8IHN5bWJvbCxcbiAgY2I6ICgpID0+IFByb21pc2U8VD4sXG4pIHtcbiAgbGV0IGhhc0NvbnRpbnVhdGlvbiA9IGZhbHNlO1xuICBjb25zdCB3cmFwcGVkID0gKCkgPT5cbiAgICBjYigpLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgaWYgKCFoYXNDb250aW51YXRpb24pIHtcbiAgICAgICAgcGVuZGluZ1Byb21pc2VzLmRlbGV0ZSh0YWcpO1xuICAgICAgfVxuICAgIH0pO1xuICBjb25zdCBvbkNvbnRpbnVlZCA9ICgpID0+IChoYXNDb250aW51YXRpb24gPSB0cnVlKTtcbiAgcmV0dXJuIHsgY2I6IHdyYXBwZWQsIG9uQ29udGludWVkIH07XG59XG5cbi8qKlxuICogV3JhcHMgYW4gYXN5bmMgZnVuY3Rpb24gd2l0aCBhZGRpdGlvbmFsIGZ1bmN0aW9uYWxpbHR5OlxuICogMS4gQXNzb2NpYXRlcyBhbiBhYm9ydCBzaWduYWwgd2l0aCBldmVyeSBmdW5jdGlvbiwgdGhhdCBpcyBwYXNzZWQgdG8gaXRcbiAqICAgIGFzIGFuIGFyZ3VtZW50LiBXaGVuIGEgbmV3IGZ1bmN0aW9uIGlzIHNjaGVkdWxlZCB0byBydW4gYWZ0ZXIgdGhlIGN1cnJlbnRcbiAqICAgIG9uZSwgY3VycmVudCBzaWduYWwgaXMgYWJvcnRlZC5cbiAqIDIuIElmIGN1cnJlbnQgZnVuY3Rpb24gZGlkbid0IHN0YXJ0IGFuZCB3YXMgYWJvcnRlZCwgaW4gd2lsbCBuZXZlciBzdGFydC5cbiAqIDMuIElmIHRoZSBmdW5jdGlvbiBpcyB0aGUgbGFzdCBpbiB0aGUgcXVldWUsIGl0IGNsZWFucyB1cCB0aGUgd2hvbGUgY2hhaW5cbiAqICAgIG9mIHByb21pc2VzIGFmdGVyIGZpbmlzaGluZy5cbiAqL1xuZnVuY3Rpb24gd3JhcFdpdGhDYW5jZWxsYXRpb248VD4oXG4gIHRhZzogc3RyaW5nIHwgc3ltYm9sLFxuICBjYjogKHNpZ25hbDogQWJvcnRTaWduYWwpID0+IFByb21pc2U8VCB8ICdjYW5jZWxlZCc+LFxuKSB7XG4gIGNvbnN0IGFjID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICBjb25zdCB3cmFwcGVkID0gKCkgPT4ge1xuICAgIGlmIChhYy5zaWduYWwuYWJvcnRlZCkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgnY2FuY2VsZWQnIGFzIGNvbnN0KTtcbiAgICB9XG5cbiAgICByZXR1cm4gY2IoYWMuc2lnbmFsKS5maW5hbGx5KCgpID0+IHtcbiAgICAgIGlmICghYWMuc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgICAgcGVuZGluZ1Byb21pc2VzLmRlbGV0ZSh0YWcpO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuICBjb25zdCBvbkNvbnRpbnVlZCA9ICgpID0+IGFjLmFib3J0KCk7XG4gIHJldHVybiB7IGNiOiB3cmFwcGVkLCBvbkNvbnRpbnVlZCB9O1xufVxuIiwiaW1wb3J0IHsgY29tYmluZUxhdGVzdCwgT2JzZXJ2YWJsZSwgU3ViamVjdCB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgd2l0aG91dENvbmN1cnJlbmN5IH0gZnJvbSAnLi4vaGVscGVycy9jb25jdXJyZW5jeSc7XG5pbXBvcnQgeyBnZXRMb2dnZXIgfSBmcm9tICcuLi9sb2dnZXInO1xuXG50eXBlIEZ1bmN0aW9uUGF0Y2g8VD4gPSAoY3VycmVudFZhbHVlOiBUKSA9PiBUO1xuXG4vKipcbiAqIEEgdmFsdWUgb3IgYSBmdW5jdGlvbiB3aGljaCB0YWtlcyB0aGUgY3VycmVudCB2YWx1ZSBhbmQgcmV0dXJucyBhIG5ldyB2YWx1ZS5cbiAqL1xuZXhwb3J0IHR5cGUgUGF0Y2g8VD4gPSBUIHwgRnVuY3Rpb25QYXRjaDxUPjtcblxuLyoqXG4gKiBDaGVja3MgaWYgdGhlIHByb3ZpZGVkIHVwZGF0ZSBpcyBhIGZ1bmN0aW9uIHBhdGNoLlxuICpcbiAqIEBwYXJhbSB1cGRhdGUgdGhlIHZhbHVlIHRvIGNoZWNrLlxuICovXG5jb25zdCBpc0Z1bmN0aW9uUGF0Y2ggPSA8VD4odXBkYXRlOiBQYXRjaDxUPik6IHVwZGF0ZSBpcyBGdW5jdGlvblBhdGNoPFQ+ID0+XG4gIHR5cGVvZiB1cGRhdGUgPT09ICdmdW5jdGlvbic7XG5cbi8qKlxuICogR2V0cyB0aGUgY3VycmVudCB2YWx1ZSBvZiBhbiBvYnNlcnZhYmxlLCBvciB1bmRlZmluZWQgaWYgdGhlIG9ic2VydmFibGUgaGFzXG4gKiBub3QgZW1pdHRlZCBhIHZhbHVlIHlldC5cbiAqXG4gKiBAcGFyYW0gb2JzZXJ2YWJsZSQgdGhlIG9ic2VydmFibGUgdG8gZ2V0IHRoZSB2YWx1ZSBmcm9tLlxuICovXG5leHBvcnQgY29uc3QgZ2V0Q3VycmVudFZhbHVlID0gPFQ+KG9ic2VydmFibGUkOiBPYnNlcnZhYmxlPFQ+KSA9PiB7XG4gIGxldCB2YWx1ZSE6IFQ7XG4gIGxldCBlcnI6IEVycm9yIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuICBjb21iaW5lTGF0ZXN0KFtvYnNlcnZhYmxlJF0pXG4gICAgLnN1YnNjcmliZSh7XG4gICAgICBuZXh0OiAoW3ZdKSA9PiB7XG4gICAgICAgIHZhbHVlID0gdjtcbiAgICAgIH0sXG4gICAgICBlcnJvcjogKGUpID0+IHtcbiAgICAgICAgZXJyID0gZTtcbiAgICAgIH0sXG4gICAgfSlcbiAgICAudW5zdWJzY3JpYmUoKTtcblxuICBpZiAoZXJyKSB0aHJvdyBlcnI7XG4gIHJldHVybiB2YWx1ZTtcbn07XG5cbi8qKlxuICogVXBkYXRlcyB0aGUgdmFsdWUgb2YgdGhlIHByb3ZpZGVkIFN1YmplY3QuXG4gKiBBbiBgdXBkYXRlYCBjYW4gZWl0aGVyIGJlIGEgbmV3IHZhbHVlIG9yIGEgZnVuY3Rpb24gd2hpY2ggdGFrZXNcbiAqIHRoZSBjdXJyZW50IHZhbHVlIGFuZCByZXR1cm5zIGEgbmV3IHZhbHVlLlxuICpcbiAqIEBwYXJhbSBzdWJqZWN0IHRoZSBzdWJqZWN0IHRvIHVwZGF0ZS5cbiAqIEBwYXJhbSB1cGRhdGUgdGhlIHVwZGF0ZSB0byBhcHBseSB0byB0aGUgc3ViamVjdC5cbiAqIEByZXR1cm4gdGhlIHVwZGF0ZWQgdmFsdWUuXG4gKi9cbmV4cG9ydCBjb25zdCBzZXRDdXJyZW50VmFsdWUgPSA8VD4oc3ViamVjdDogU3ViamVjdDxUPiwgdXBkYXRlOiBQYXRjaDxUPikgPT4ge1xuICBjb25zdCBuZXh0ID0gaXNGdW5jdGlvblBhdGNoKHVwZGF0ZSlcbiAgICA/IHVwZGF0ZShnZXRDdXJyZW50VmFsdWUoc3ViamVjdCkpXG4gICAgOiB1cGRhdGU7XG5cbiAgc3ViamVjdC5uZXh0KG5leHQpO1xuICByZXR1cm4gbmV4dDtcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhIHN1YnNjcmlwdGlvbiBhbmQgcmV0dXJucyBhIGZ1bmN0aW9uIHRvIHVuc3Vic2NyaWJlLlxuICpcbiAqIEBwYXJhbSBvYnNlcnZhYmxlIHRoZSBvYnNlcnZhYmxlIHRvIHN1YnNjcmliZSB0by5cbiAqIEBwYXJhbSBoYW5kbGVyIHRoZSBoYW5kbGVyIHRvIGNhbGwgd2hlbiB0aGUgb2JzZXJ2YWJsZSBlbWl0cyBhIHZhbHVlLlxuICogQHBhcmFtIG9uRXJyb3IgYW4gb3B0aW9uYWwgZXJyb3IgaGFuZGxlci5cbiAqL1xuZXhwb3J0IGNvbnN0IGNyZWF0ZVN1YnNjcmlwdGlvbiA9IDxUPihcbiAgb2JzZXJ2YWJsZTogT2JzZXJ2YWJsZTxUPixcbiAgaGFuZGxlcjogKHZhbHVlOiBUKSA9PiB2b2lkLFxuICBvbkVycm9yOiAoZXJyb3I6IGFueSkgPT4gdm9pZCA9IChlcnJvcikgPT5cbiAgICBnZXRMb2dnZXIoWydSeFV0aWxzJ10pKCd3YXJuJywgJ0FuIG9ic2VydmFibGUgZW1pdHRlZCBhbiBlcnJvcicsIGVycm9yKSxcbikgPT4ge1xuICBjb25zdCBzdWJzY3JpcHRpb24gPSBvYnNlcnZhYmxlLnN1YnNjcmliZSh7IG5leHQ6IGhhbmRsZXIsIGVycm9yOiBvbkVycm9yIH0pO1xuICByZXR1cm4gKCkgPT4ge1xuICAgIHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICB9O1xufTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgc3Vic2NyaXB0aW9uIGFuZCByZXR1cm5zIGEgZnVuY3Rpb24gdG8gdW5zdWJzY3JpYmUuIE1ha2VzIHN1cmUgdGhhdFxuICogb25seSBvbmUgYXN5bmMgaGFuZGxlciBydW5zIGF0IHRoZSBzYW1lIHRpbWUuIElmIHVwZGF0ZXMgY29tZSBpbiBxdWlja2VyIHRoYW5cbiAqIGl0IHRha2VzIGZvciB0aGUgY3VycmVudCBoYW5kbGVyIHRvIGZpbmlzaCwgb3RoZXIgaGFuZGxlcnMgd2lsbCB3YWl0LlxuICpcbiAqIEBwYXJhbSBvYnNlcnZhYmxlIHRoZSBvYnNlcnZhYmxlIHRvIHN1YnNjcmliZSB0by5cbiAqIEBwYXJhbSBoYW5kbGVyIHRoZSBhc3luYyBoYW5kbGVyIHRvIGNhbGwgd2hlbiB0aGUgb2JzZXJ2YWJsZSBlbWl0cyBhIHZhbHVlLlxuICovXG5leHBvcnQgY29uc3QgY3JlYXRlU2FmZUFzeW5jU3Vic2NyaXB0aW9uID0gPFQ+KFxuICBvYnNlcnZhYmxlOiBPYnNlcnZhYmxlPFQ+LFxuICBoYW5kbGVyOiAodmFsdWU6IFQpID0+IFByb21pc2U8dm9pZD4sXG4pID0+IHtcbiAgY29uc3QgdGFnID0gU3ltYm9sKCk7XG4gIHJldHVybiBjcmVhdGVTdWJzY3JpcHRpb24ob2JzZXJ2YWJsZSwgKHZhbHVlKSA9PiB7XG4gICAgd2l0aG91dENvbmN1cnJlbmN5KHRhZywgKCkgPT4gaGFuZGxlcih2YWx1ZSkpO1xuICB9KTtcbn07XG4iLCIvKipcbiAqIFJlcHJlc2VudHMgdGhlIHN0YXRlIG9mIHRoZSBjdXJyZW50IGNhbGwuXG4gKi9cbmV4cG9ydCBlbnVtIENhbGxpbmdTdGF0ZSB7XG4gIC8qKlxuICAgKiBUaGUgY2FsbCBpcyBpbiBhbiB1bmtub3duIHN0YXRlLlxuICAgKi9cbiAgVU5LTk9XTiA9ICd1bmtub3duJyxcblxuICAvKipcbiAgICogVGhlIGNhbGwgaXMgaW4gYW4gaWRsZSBzdGF0ZS5cbiAgICovXG4gIElETEUgPSAnaWRsZScsXG5cbiAgLyoqXG4gICAqIFRoZSBjYWxsIGlzIGluIHRoZSBwcm9jZXNzIG9mIHJpbmdpbmcuXG4gICAqIChVc2VyIGhhc24ndCBhY2NlcHRlZCBub3IgcmVqZWN0ZWQgdGhlIGNhbGwgeWV0LilcbiAgICovXG4gIFJJTkdJTkcgPSAncmluZ2luZycsXG5cbiAgLyoqXG4gICAqIFRoZSBjYWxsIGlzIGluIHRoZSBwcm9jZXNzIG9mIGpvaW5pbmcuXG4gICAqL1xuICBKT0lOSU5HID0gJ2pvaW5pbmcnLFxuXG4gIC8qKlxuICAgKiBUaGUgY2FsbCBpcyBjdXJyZW50bHkgYWN0aXZlLlxuICAgKi9cbiAgSk9JTkVEID0gJ2pvaW5lZCcsXG5cbiAgLyoqXG4gICAqIFRoZSBjYWxsIGhhcyBiZWVuIGxlZnQuXG4gICAqL1xuICBMRUZUID0gJ2xlZnQnLFxuXG4gIC8qKlxuICAgKiBUaGUgY2FsbCBpcyBpbiB0aGUgcHJvY2VzcyBvZiByZWNvbm5lY3RpbmcuXG4gICAqL1xuICBSRUNPTk5FQ1RJTkcgPSAncmVjb25uZWN0aW5nJyxcblxuICAvKipcbiAgICogVGhlIGNhbGwgaXMgaW4gdGhlIHByb2Nlc3Mgb2YgbWlncmF0aW5nIGZyb20gb25lIG5vZGUgdG8gYW5vdGhlci5cbiAgICovXG4gIE1JR1JBVElORyA9ICdtaWdyYXRpbmcnLFxuXG4gIC8qKlxuICAgKiBUaGUgY2FsbCBoYXMgZmFpbGVkIHRvIHJlY29ubmVjdC5cbiAgICovXG4gIFJFQ09OTkVDVElOR19GQUlMRUQgPSAncmVjb25uZWN0aW5nLWZhaWxlZCcsXG5cbiAgLyoqXG4gICAqIFRoZSBjYWxsIGlzIGluIG9mZmxpbmUgbW9kZS5cbiAgICovXG4gIE9GRkxJTkUgPSAnb2ZmbGluZScsXG59XG4iLCJpbXBvcnQgeyBCZWhhdmlvclN1YmplY3QsIE9ic2VydmFibGUgfSBmcm9tICdyeGpzJztcbmltcG9ydCB0eXBlIHsgUGF0Y2ggfSBmcm9tICcuL3J4VXRpbHMnO1xuaW1wb3J0ICogYXMgUnhVdGlscyBmcm9tICcuL3J4VXRpbHMnO1xuaW1wb3J0IHsgQ2FsbCB9IGZyb20gJy4uL0NhbGwnO1xuaW1wb3J0IHsgQ2FsbGluZ1N0YXRlIH0gZnJvbSAnLi9DYWxsaW5nU3RhdGUnO1xuaW1wb3J0IHR5cGUgeyBPd25Vc2VyUmVzcG9uc2UgfSBmcm9tICcuLi9nZW4vY29vcmRpbmF0b3InO1xuaW1wb3J0IHsgZ2V0TG9nZ2VyIH0gZnJvbSAnLi4vbG9nZ2VyJztcblxuZXhwb3J0IGNsYXNzIFN0cmVhbVZpZGVvV3JpdGVhYmxlU3RhdGVTdG9yZSB7XG4gIC8qKlxuICAgKiBBIHN0b3JlIGtlZXBpbmcgZGF0YSBvZiBhIHN1Y2Nlc3NmdWxseSBjb25uZWN0ZWQgdXNlciBvdmVyIFdTIHRvIHRoZSBjb29yZGluYXRvciBzZXJ2ZXIuXG4gICAqL1xuICBjb25uZWN0ZWRVc2VyU3ViamVjdCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8T3duVXNlclJlc3BvbnNlIHwgdW5kZWZpbmVkPihcbiAgICB1bmRlZmluZWQsXG4gICk7XG5cbiAgLyoqXG4gICAqIEEgbGlzdCBvZiB7QGxpbmsgQ2FsbH0gb2JqZWN0cyBjcmVhdGVkL3RyYWNrZWQgYnkgdGhpcyBjbGllbnQuXG4gICAqL1xuICBjYWxsc1N1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PENhbGxbXT4oW10pO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuY29ubmVjdGVkVXNlclN1YmplY3Quc3Vic2NyaWJlKGFzeW5jICh1c2VyKSA9PiB7XG4gICAgICAvLyBsZWF2ZSBhbGwgY2FsbHMgd2hlbiB0aGUgdXNlciBkaXNjb25uZWN0cy5cbiAgICAgIGlmICghdXNlcikge1xuICAgICAgICBjb25zdCBsb2dnZXIgPSBnZXRMb2dnZXIoWydjbGllbnQtc3RhdGUnXSk7XG4gICAgICAgIGZvciAoY29uc3QgY2FsbCBvZiB0aGlzLmNhbGxzKSB7XG4gICAgICAgICAgaWYgKGNhbGwuc3RhdGUuY2FsbGluZ1N0YXRlID09PSBDYWxsaW5nU3RhdGUuTEVGVCkgY29udGludWU7XG5cbiAgICAgICAgICBsb2dnZXIoJ2luZm8nLCBgVXNlciBkaXNjb25uZWN0ZWQsIGxlYXZpbmcgY2FsbDogJHtjYWxsLmNpZH1gKTtcbiAgICAgICAgICBhd2FpdCBjYWxsXG4gICAgICAgICAgICAubGVhdmUoeyByZWFzb246ICdjbGllbnQuZGlzY29ubmVjdFVzZXIoKSBjYWxsZWQnIH0pXG4gICAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgICBsb2dnZXIoJ2Vycm9yJywgYEVycm9yIGxlYXZpbmcgY2FsbDogJHtjYWxsLmNpZH1gLCBlcnIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgY3VycmVudGx5IGNvbm5lY3RlZCB1c2VyLlxuICAgKi9cbiAgZ2V0IGNvbm5lY3RlZFVzZXIoKTogT3duVXNlclJlc3BvbnNlIHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gUnhVdGlscy5nZXRDdXJyZW50VmFsdWUodGhpcy5jb25uZWN0ZWRVc2VyU3ViamVjdCk7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgY3VycmVudGx5IGNvbm5lY3RlZCB1c2VyLlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICogQHBhcmFtIHVzZXIgdGhlIHVzZXIgdG8gc2V0IGFzIGNvbm5lY3RlZC5cbiAgICovXG4gIHNldENvbm5lY3RlZFVzZXIgPSAodXNlcjogUGF0Y2g8T3duVXNlclJlc3BvbnNlIHwgdW5kZWZpbmVkPikgPT4ge1xuICAgIHJldHVybiBSeFV0aWxzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLmNvbm5lY3RlZFVzZXJTdWJqZWN0LCB1c2VyKTtcbiAgfTtcblxuICAvKipcbiAgICogQSBsaXN0IG9mIHtAbGluayBDYWxsfSBvYmplY3RzIGNyZWF0ZWQvdHJhY2tlZCBieSB0aGlzIGNsaWVudC5cbiAgICovXG4gIGdldCBjYWxscygpOiBDYWxsW10ge1xuICAgIHJldHVybiBSeFV0aWxzLmdldEN1cnJlbnRWYWx1ZSh0aGlzLmNhbGxzU3ViamVjdCk7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgbGlzdCBvZiB7QGxpbmsgQ2FsbH0gb2JqZWN0cyBjcmVhdGVkL3RyYWNrZWQgYnkgdGhpcyBjbGllbnQuXG4gICAqIEBwYXJhbSBjYWxsc1xuICAgKi9cbiAgc2V0Q2FsbHMgPSAoY2FsbHM6IFBhdGNoPENhbGxbXT4pID0+IHtcbiAgICByZXR1cm4gUnhVdGlscy5zZXRDdXJyZW50VmFsdWUodGhpcy5jYWxsc1N1YmplY3QsIGNhbGxzKTtcbiAgfTtcblxuICAvKipcbiAgICogQWRkcyBhIHtAbGluayBDYWxsfSBvYmplY3QgdG8gdGhlIGxpc3Qgb2Yge0BsaW5rIENhbGx9IG9iamVjdHMgY3JlYXRlZC90cmFja2VkIGJ5IHRoaXMgY2xpZW50LlxuICAgKlxuICAgKiBAcGFyYW0gY2FsbCB0aGUgY2FsbCB0byBhZGQuXG4gICAqL1xuICByZWdpc3RlckNhbGwgPSAoY2FsbDogQ2FsbCkgPT4ge1xuICAgIGlmICghdGhpcy5jYWxscy5maW5kKChjKSA9PiBjLmNpZCA9PT0gY2FsbC5jaWQpKSB7XG4gICAgICB0aGlzLnNldENhbGxzKChjYWxscykgPT4gWy4uLmNhbGxzLCBjYWxsXSk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBSZW1vdmVzIGEge0BsaW5rIENhbGx9IG9iamVjdCBmcm9tIHRoZSBsaXN0IG9mIHtAbGluayBDYWxsfSBvYmplY3RzIGNyZWF0ZWQvdHJhY2tlZCBieSB0aGlzIGNsaWVudC5cbiAgICpcbiAgICogQHBhcmFtIGNhbGwgdGhlIGNhbGwgdG8gcmVtb3ZlXG4gICAqL1xuICB1bnJlZ2lzdGVyQ2FsbCA9IChjYWxsOiBDYWxsKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc2V0Q2FsbHMoKGNhbGxzKSA9PiBjYWxscy5maWx0ZXIoKGMpID0+IGMgIT09IGNhbGwpKTtcbiAgfTtcblxuICAvKipcbiAgICogRmluZHMgYSB7QGxpbmsgQ2FsbH0gb2JqZWN0IGluIHRoZSBsaXN0IG9mIHtAbGluayBDYWxsfSBvYmplY3RzIGNyZWF0ZWQvdHJhY2tlZCBieSB0aGlzIGNsaWVudC5cbiAgICpcbiAgICogQHBhcmFtIHR5cGUgdGhlIHR5cGUgb2YgY2FsbCB0byBmaW5kLlxuICAgKiBAcGFyYW0gaWQgdGhlIGlkIG9mIHRoZSBjYWxsIHRvIGZpbmQuXG4gICAqL1xuICBmaW5kQ2FsbCA9ICh0eXBlOiBzdHJpbmcsIGlkOiBzdHJpbmcpID0+IHtcbiAgICByZXR1cm4gdGhpcy5jYWxscy5maW5kKChjKSA9PiBjLnR5cGUgPT09IHR5cGUgJiYgYy5pZCA9PT0gaWQpO1xuICB9O1xufVxuXG4vKipcbiAqIEEgcmVhY3RpdmUgc3RvcmUgdGhhdCBleHBvc2VzIHN0YXRlIHZhcmlhYmxlcyBpbiBhIHJlYWN0aXZlIG1hbm5lci5cbiAqIFlvdSBjYW4gc3Vic2NyaWJlIHRvIGNoYW5nZXMgb2YgdGhlIGRpZmZlcmVudCBzdGF0ZSB2YXJpYWJsZXMuXG4gKiBUaGlzIGNlbnRyYWwgc3RvcmUgY29udGFpbnMgYWxsIHRoZSBzdGF0ZSB2YXJpYWJsZXMgcmVsYXRlZCB0byBbYFN0cmVhbVZpZGVvQ2xpZW50YF0oLi9TdHJlYW1WaWRlQ2xpZW50Lm1kKSBhbmQgW2BDYWxsYF0oLi9DYWxsLm1kKS5cbiAqL1xuZXhwb3J0IGNsYXNzIFN0cmVhbVZpZGVvUmVhZE9ubHlTdGF0ZVN0b3JlIHtcbiAgLyoqXG4gICAqIERhdGEgZGVzY3JpYmluZyBhIHVzZXIgc3VjY2Vzc2Z1bGx5IGNvbm5lY3RlZCBvdmVyIFdTIHRvIGNvb3JkaW5hdG9yIHNlcnZlci5cbiAgICovXG4gIGNvbm5lY3RlZFVzZXIkOiBPYnNlcnZhYmxlPE93blVzZXJSZXNwb25zZSB8IHVuZGVmaW5lZD47XG5cbiAgLyoqXG4gICAqIEEgbGlzdCBvZiB7QGxpbmsgQ2FsbH0gb2JqZWN0cyBjcmVhdGVkL3RyYWNrZWQgYnkgdGhpcyBjbGllbnQuXG4gICAqL1xuICBjYWxscyQ6IE9ic2VydmFibGU8Q2FsbFtdPjtcblxuICAvKipcbiAgICogVGhpcyBtZXRob2QgYWxsb3dzIHlvdSB0aGUgZ2V0IHRoZSBjdXJyZW50IHZhbHVlIG9mIGEgc3RhdGUgdmFyaWFibGUuXG4gICAqXG4gICAqIEBwYXJhbSBvYnNlcnZhYmxlIHRoZSBvYnNlcnZhYmxlIHRvIGdldCB0aGUgY3VycmVudCB2YWx1ZSBvZi5cbiAgICogQHJldHVybnMgdGhlIGN1cnJlbnQgdmFsdWUgb2YgdGhlIG9ic2VydmFibGUuXG4gICAqL1xuICBnZXRDdXJyZW50VmFsdWUgPSBSeFV0aWxzLmdldEN1cnJlbnRWYWx1ZTtcblxuICBjb25zdHJ1Y3RvcihzdG9yZTogU3RyZWFtVmlkZW9Xcml0ZWFibGVTdGF0ZVN0b3JlKSB7XG4gICAgLy8gY29udmVydCBhbmQgZXhwb3NlIHN1YmplY3RzIGFzIG9ic2VydmFibGVzXG4gICAgdGhpcy5jb25uZWN0ZWRVc2VyJCA9IHN0b3JlLmNvbm5lY3RlZFVzZXJTdWJqZWN0LmFzT2JzZXJ2YWJsZSgpO1xuICAgIHRoaXMuY2FsbHMkID0gc3RvcmUuY2FsbHNTdWJqZWN0LmFzT2JzZXJ2YWJsZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBjdXJyZW50IHVzZXIgY29ubmVjdGVkIG92ZXIgV1MgdG8gdGhlIGJhY2tlbmQuXG4gICAqL1xuICBnZXQgY29ubmVjdGVkVXNlcigpOiBPd25Vc2VyUmVzcG9uc2UgfCB1bmRlZmluZWQge1xuICAgIHJldHVybiBSeFV0aWxzLmdldEN1cnJlbnRWYWx1ZSh0aGlzLmNvbm5lY3RlZFVzZXIkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIGxpc3Qgb2Yge0BsaW5rIENhbGx9IG9iamVjdHMgY3JlYXRlZC90cmFja2VkIGJ5IHRoaXMgY2xpZW50LlxuICAgKi9cbiAgZ2V0IGNhbGxzKCk6IENhbGxbXSB7XG4gICAgcmV0dXJuIFJ4VXRpbHMuZ2V0Q3VycmVudFZhbHVlKHRoaXMuY2FsbHMkKTtcbiAgfVxufVxuIiwiLyoqXG4gKiBEZWZpbmVzIGEgY29tcGFyYXRvciBmdW5jdGlvbiB3aGljaCBjYW4gYmUgdXNlZCBmb3Igc29ydGluZyBpdGVtcy5cbiAqL1xuZXhwb3J0IHR5cGUgQ29tcGFyYXRvcjxUPiA9IChhOiBULCBiOiBUKSA9PiAtMSB8IDAgfCAxO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgY29tYmluZWQge0BsaW5rIENvbXBhcmF0b3I8VD59IHdoaWNoIHNvcnRzIGl0ZW1zIGJ5IHRoZSBnaXZlbiBjb21wYXJhdG9ycy5cbiAqIFRoZSBjb21wYXJhdG9ycyBhcmUgYXBwbGllZCBpbiB0aGUgb3JkZXIgdGhleSBhcmUgZ2l2ZW4gKGxlZnQgLT4gcmlnaHQpLlxuICpcbiAqIEBwYXJhbSBjb21wYXJhdG9ycyB0aGUgY29tcGFyYXRvcnMgdG8gdXNlIGZvciBzb3J0aW5nLlxuICogQHJldHVybnMgYSBjb21iaW5lZCB7QGxpbmsgQ29tcGFyYXRvcjxUPn0uXG4gKi9cbmV4cG9ydCBjb25zdCBjb21iaW5lQ29tcGFyYXRvcnMgPSA8VD4oXG4gIC4uLmNvbXBhcmF0b3JzOiBDb21wYXJhdG9yPFQ+W11cbik6IENvbXBhcmF0b3I8VD4gPT4ge1xuICByZXR1cm4gKGEsIGIpID0+IHtcbiAgICBmb3IgKGNvbnN0IGNvbXBhcmF0b3Igb2YgY29tcGFyYXRvcnMpIHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGNvbXBhcmF0b3IoYSwgYik7XG4gICAgICBpZiAocmVzdWx0ICE9PSAwKSByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICByZXR1cm4gMDtcbiAgfTtcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBjb21wYXJhdG9yIHdoaWNoIHNvcnRzIGl0ZW1zIGluIGRlc2NlbmRpbmcgb3JkZXIuXG4gKlxuICogQGV4YW1wbGVcbiAqIGNvbnN0IGJ5VmFsdWUgPSAoYSwgYikgPT4gYSA8IGIgPyAtIDEgOiBhID4gYiA/IDEgOiAwO1xuICogY29uc3QgYnlWYWx1ZURlc2MgPSBkZXNjZW5kaW5nKGJ5VmFsdWUpO1xuICpcbiAqIEBwYXJhbSBjb21wYXJhdG9yIHRoZSBjb21wYXJhdG9yIHRvIHdyYXAuXG4gKi9cbmV4cG9ydCBjb25zdCBkZXNjZW5kaW5nID0gPFQ+KGNvbXBhcmF0b3I6IENvbXBhcmF0b3I8VD4pOiBDb21wYXJhdG9yPFQ+ID0+IHtcbiAgcmV0dXJuIChhLCBiKSA9PiBjb21wYXJhdG9yKGIsIGEpO1xufTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IGNvbXBhcmF0b3Igd2hpY2ggY29uZGl0aW9uYWxseSBhcHBsaWVzIHRoZSBnaXZlbiBjb21wYXJhdG9yLlxuICpcbiAqIEBleGFtcGxlXG4gKiBjb25zdCBzaG91bGRTb3J0QnlWYWx1ZSA9IChhLCBiKSA9PiBhICUgMiA9PT0gMDsgLy8gcmV0dXJuIGZhbHNlIHRvIHR1cm4gaXQgb2ZmXG4gKiBjb25zdCBieVZhbHVlID0gKGEsIGIpID0+IGEgPCBiID8gLSAxIDogYSA+IGIgPyAxIDogMDtcbiAqIGNvbnN0IGNvbXBhcmF0b3IgPSBjb25kaXRpb25hbChzaG91bGRTb3J0QnlWYWx1ZSkoYnlWYWx1ZSk7XG4gKlxuICogQHBhcmFtIHByZWRpY2F0ZSB0aGUgcHJlZGljYXRlIHRvIHVzZSBmb3IgZGV0ZXJtaW5pbmcgd2hldGhlciB0byBhcHBseSB0aGUgY29tcGFyYXRvci5cbiAqL1xuZXhwb3J0IGNvbnN0IGNvbmRpdGlvbmFsID0gPFQ+KHByZWRpY2F0ZTogKGE6IFQsIGI6IFQpID0+IGJvb2xlYW4pID0+IHtcbiAgcmV0dXJuIChjb21wYXJhdG9yOiBDb21wYXJhdG9yPFQ+KTogQ29tcGFyYXRvcjxUPiA9PiB7XG4gICAgcmV0dXJuIChhLCBiKSA9PiB7XG4gICAgICBpZiAoIXByZWRpY2F0ZShhLCBiKSkgcmV0dXJuIDA7XG4gICAgICByZXR1cm4gY29tcGFyYXRvcihhLCBiKTtcbiAgICB9O1xuICB9O1xufTtcblxuLyoqXG4gKiBBIG5vLW9wIGNvbXBhcmF0b3Igd2hpY2ggYWx3YXlzIHJldHVybnMgMC5cbiAqL1xuZXhwb3J0IGNvbnN0IG5vb3BDb21wYXJhdG9yID0gPFQ+KCk6IENvbXBhcmF0b3I8VD4gPT4ge1xuICByZXR1cm4gKCkgPT4gMDtcbn07XG4iLCJpbXBvcnQgeyBTdHJlYW1WaWRlb1BhcnRpY2lwYW50IH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgVHJhY2tUeXBlIH0gZnJvbSAnLi4vZ2VuL3ZpZGVvL3NmdS9tb2RlbHMvbW9kZWxzJztcblxuLyoqXG4gKiBDaGVjayBpZiBhIHBhcnRpY2lwYW50IGhhcyBhIHZpZGVvLlxuICpcbiAqIEBwYXJhbSBwIHRoZSBwYXJ0aWNpcGFudCB0byBjaGVjay5cbiAqL1xuZXhwb3J0IGNvbnN0IGhhc1ZpZGVvID0gKHA6IFN0cmVhbVZpZGVvUGFydGljaXBhbnQpOiBib29sZWFuID0+XG4gIHAucHVibGlzaGVkVHJhY2tzLmluY2x1ZGVzKFRyYWNrVHlwZS5WSURFTyk7XG5cbi8qKlxuICogQ2hlY2sgaWYgYSBwYXJ0aWNpcGFudCBoYXMgYXVkaW8uXG4gKlxuICogQHBhcmFtIHAgdGhlIHBhcnRpY2lwYW50IHRvIGNoZWNrLlxuICovXG5leHBvcnQgY29uc3QgaGFzQXVkaW8gPSAocDogU3RyZWFtVmlkZW9QYXJ0aWNpcGFudCk6IGJvb2xlYW4gPT5cbiAgcC5wdWJsaXNoZWRUcmFja3MuaW5jbHVkZXMoVHJhY2tUeXBlLkFVRElPKTtcblxuLyoqXG4gKiBDaGVjayBpZiBhIHBhcnRpY2lwYW50IGlzIHNjcmVlbiBzaGFyaW5nLlxuICpcbiAqIEBwYXJhbSBwIHRoZSBwYXJ0aWNpcGFudCB0byBjaGVjay5cbiAqL1xuZXhwb3J0IGNvbnN0IGhhc1NjcmVlblNoYXJlID0gKHA6IFN0cmVhbVZpZGVvUGFydGljaXBhbnQpOiBib29sZWFuID0+XG4gIHAucHVibGlzaGVkVHJhY2tzLmluY2x1ZGVzKFRyYWNrVHlwZS5TQ1JFRU5fU0hBUkUpO1xuXG4vKipcbiAqIENoZWNrIGlmIGEgcGFydGljaXBhbnQgaXMgc2NyZWVuIHNoYXJpbmcgYXVkaW8uXG4gKlxuICogQHBhcmFtIHAgdGhlIHBhcnRpY2lwYW50IHRvIGNoZWNrLlxuICovXG5leHBvcnQgY29uc3QgaGFzU2NyZWVuU2hhcmVBdWRpbyA9IChwOiBTdHJlYW1WaWRlb1BhcnRpY2lwYW50KTogYm9vbGVhbiA9PlxuICBwLnB1Ymxpc2hlZFRyYWNrcy5pbmNsdWRlcyhUcmFja1R5cGUuU0NSRUVOX1NIQVJFX0FVRElPKTtcblxuLyoqXG4gKiBDaGVjayBpZiB0aGUgcGFydGljaXBhbnQgaXMgcGlubmVkLlxuICpcbiAqIEBwYXJhbSBwIHRoZSBwYXJ0aWNpcGFudC5cbiAqL1xuZXhwb3J0IGNvbnN0IGlzUGlubmVkID0gKHA6IFN0cmVhbVZpZGVvUGFydGljaXBhbnQpOiBib29sZWFuID0+XG4gICEhcC5waW4gJiYgKHAucGluLmlzTG9jYWxQaW4gfHwgcC5waW4ucGlubmVkQXQgPiAwKTtcbiIsImltcG9ydCB7IENvbXBhcmF0b3IgfSBmcm9tICcuLyc7XG5pbXBvcnQgeyBTdHJlYW1WaWRlb1BhcnRpY2lwYW50IH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHtcbiAgaGFzQXVkaW8sXG4gIGhhc1NjcmVlblNoYXJlLFxuICBoYXNWaWRlbyxcbn0gZnJvbSAnLi4vaGVscGVycy9wYXJ0aWNpcGFudFV0aWxzJztcblxuLyoqXG4gKiBBIGNvbXBhcmF0b3Igd2hpY2ggc29ydHMgcGFydGljaXBhbnRzIGJ5IHRoZSBmYWN0IHRoYXQgdGhleSBhcmUgdGhlIGRvbWluYW50IHNwZWFrZXIgb3Igbm90LlxuICpcbiAqIEBwYXJhbSBhIHRoZSBmaXJzdCBwYXJ0aWNpcGFudC5cbiAqIEBwYXJhbSBiIHRoZSBzZWNvbmQgcGFydGljaXBhbnQuXG4gKi9cbmV4cG9ydCBjb25zdCBkb21pbmFudFNwZWFrZXI6IENvbXBhcmF0b3I8U3RyZWFtVmlkZW9QYXJ0aWNpcGFudD4gPSAoYSwgYikgPT4ge1xuICBpZiAoYS5pc0RvbWluYW50U3BlYWtlciAmJiAhYi5pc0RvbWluYW50U3BlYWtlcikgcmV0dXJuIC0xO1xuICBpZiAoIWEuaXNEb21pbmFudFNwZWFrZXIgJiYgYi5pc0RvbWluYW50U3BlYWtlcikgcmV0dXJuIDE7XG4gIHJldHVybiAwO1xufTtcblxuLyoqXG4gKiBBIGNvbXBhcmF0b3Igd2hpY2ggc29ydHMgcGFydGljaXBhbnRzIGJ5IHRoZSBmYWN0IHRoYXQgdGhleSBhcmUgc3BlYWtpbmcgb3Igbm90LlxuICpcbiAqIEBwYXJhbSBhIHRoZSBmaXJzdCBwYXJ0aWNpcGFudC5cbiAqIEBwYXJhbSBiIHRoZSBzZWNvbmQgcGFydGljaXBhbnQuXG4gKi9cbmV4cG9ydCBjb25zdCBzcGVha2luZzogQ29tcGFyYXRvcjxTdHJlYW1WaWRlb1BhcnRpY2lwYW50PiA9IChhLCBiKSA9PiB7XG4gIGlmIChhLmlzU3BlYWtpbmcgJiYgIWIuaXNTcGVha2luZykgcmV0dXJuIC0xO1xuICBpZiAoIWEuaXNTcGVha2luZyAmJiBiLmlzU3BlYWtpbmcpIHJldHVybiAxO1xuICByZXR1cm4gMDtcbn07XG5cbi8qKlxuICogQSBjb21wYXJhdG9yIHdoaWNoIHNvcnRzIHBhcnRpY2lwYW50cyBieSBzY3JlZW4gc2hhcmluZyBzdGF0dXMuXG4gKlxuICogQHBhcmFtIGEgdGhlIGZpcnN0IHBhcnRpY2lwYW50LlxuICogQHBhcmFtIGIgdGhlIHNlY29uZCBwYXJ0aWNpcGFudC5cbiAqL1xuZXhwb3J0IGNvbnN0IHNjcmVlblNoYXJpbmc6IENvbXBhcmF0b3I8U3RyZWFtVmlkZW9QYXJ0aWNpcGFudD4gPSAoYSwgYikgPT4ge1xuICBpZiAoaGFzU2NyZWVuU2hhcmUoYSkgJiYgIWhhc1NjcmVlblNoYXJlKGIpKSByZXR1cm4gLTE7XG4gIGlmICghaGFzU2NyZWVuU2hhcmUoYSkgJiYgaGFzU2NyZWVuU2hhcmUoYikpIHJldHVybiAxO1xuICByZXR1cm4gMDtcbn07XG5cbi8qKlxuICogQSBjb21wYXJhdG9yIHdoaWNoIHNvcnRzIHBhcnRpY2lwYW50cyBieSB2aWRlbyBzdGF0dXMuXG4gKlxuICogQHBhcmFtIGEgdGhlIGZpcnN0IHBhcnRpY2lwYW50LlxuICogQHBhcmFtIGIgdGhlIHNlY29uZCBwYXJ0aWNpcGFudC5cbiAqL1xuZXhwb3J0IGNvbnN0IHB1Ymxpc2hpbmdWaWRlbzogQ29tcGFyYXRvcjxTdHJlYW1WaWRlb1BhcnRpY2lwYW50PiA9IChhLCBiKSA9PiB7XG4gIGlmIChoYXNWaWRlbyhhKSAmJiAhaGFzVmlkZW8oYikpIHJldHVybiAtMTtcbiAgaWYgKCFoYXNWaWRlbyhhKSAmJiBoYXNWaWRlbyhiKSkgcmV0dXJuIDE7XG4gIHJldHVybiAwO1xufTtcblxuLyoqXG4gKiBBIGNvbXBhcmF0b3Igd2hpY2ggc29ydHMgcGFydGljaXBhbnRzIGJ5IGF1ZGlvIHN0YXR1cy5cbiAqXG4gKiBAcGFyYW0gYSB0aGUgZmlyc3QgcGFydGljaXBhbnQuXG4gKiBAcGFyYW0gYiB0aGUgc2Vjb25kIHBhcnRpY2lwYW50LlxuICovXG5leHBvcnQgY29uc3QgcHVibGlzaGluZ0F1ZGlvOiBDb21wYXJhdG9yPFN0cmVhbVZpZGVvUGFydGljaXBhbnQ+ID0gKGEsIGIpID0+IHtcbiAgaWYgKGhhc0F1ZGlvKGEpICYmICFoYXNBdWRpbyhiKSkgcmV0dXJuIC0xO1xuICBpZiAoIWhhc0F1ZGlvKGEpICYmIGhhc0F1ZGlvKGIpKSByZXR1cm4gMTtcbiAgcmV0dXJuIDA7XG59O1xuXG4vKipcbiAqIEEgY29tcGFyYXRvciB3aGljaCBwcmlvcml0aXplcyBwYXJ0aWNpcGFudHMgd2hvIGFyZSBwaW5uZWQuXG4gKlxuICogQHBhcmFtIGEgdGhlIGZpcnN0IHBhcnRpY2lwYW50LlxuICogQHBhcmFtIGIgdGhlIHNlY29uZCBwYXJ0aWNpcGFudC5cbiAqL1xuZXhwb3J0IGNvbnN0IHBpbm5lZDogQ29tcGFyYXRvcjxTdHJlYW1WaWRlb1BhcnRpY2lwYW50PiA9IChhLCBiKSA9PiB7XG4gIGlmIChhLnBpbiAmJiBiLnBpbikge1xuICAgIGlmICghYS5waW4uaXNMb2NhbFBpbiAmJiBiLnBpbi5pc0xvY2FsUGluKSByZXR1cm4gLTE7XG4gICAgaWYgKGEucGluLmlzTG9jYWxQaW4gJiYgIWIucGluLmlzTG9jYWxQaW4pIHJldHVybiAxO1xuICAgIGlmIChhLnBpbi5waW5uZWRBdCA+IGIucGluLnBpbm5lZEF0KSByZXR1cm4gLTE7XG4gICAgaWYgKGEucGluLnBpbm5lZEF0IDwgYi5waW4ucGlubmVkQXQpIHJldHVybiAxO1xuICB9XG5cbiAgaWYgKGEucGluICYmICFiLnBpbikgcmV0dXJuIC0xO1xuICBpZiAoIWEucGluICYmIGIucGluKSByZXR1cm4gMTtcblxuICByZXR1cm4gMDtcbn07XG5cbi8qKlxuICogQSBjb21wYXJhdG9yIGNyZWF0b3Igd2hpY2ggd2lsbCBzZXQgdXAgYSBjb21wYXJhdG9yIHdoaWNoIHByaW9yaXRpemVzXG4gKiBwYXJ0aWNpcGFudHMgd2hvIGhhdmUgYSBzcGVjaWZpYyByZWFjdGlvbi5cbiAqXG4gKiBAcGFyYW0gdHlwZSB0aGUgcmVhY3Rpb24gdHlwZS5cbiAqL1xuZXhwb3J0IGNvbnN0IHJlYWN0aW9uVHlwZSA9IChcbiAgdHlwZTogc3RyaW5nLFxuKTogQ29tcGFyYXRvcjxTdHJlYW1WaWRlb1BhcnRpY2lwYW50PiA9PiB7XG4gIHJldHVybiAoYSwgYikgPT4ge1xuICAgIGlmIChhLnJlYWN0aW9uPy50eXBlID09PSB0eXBlICYmIGIucmVhY3Rpb24/LnR5cGUgIT09IHR5cGUpIHJldHVybiAtMTtcbiAgICBpZiAoYS5yZWFjdGlvbj8udHlwZSAhPT0gdHlwZSAmJiBiLnJlYWN0aW9uPy50eXBlID09PSB0eXBlKSByZXR1cm4gMTtcbiAgICByZXR1cm4gMDtcbiAgfTtcbn07XG5cbi8qKlxuICogQSBjb21wYXJhdG9yIGNyZWF0b3Igd2hpY2ggd2lsbCBzZXQgdXAgYSBjb21wYXJhdG9yIHdoaWNoIHByaW9yaXRpemVzXG4gKiBwYXJ0aWNpcGFudHMgd2hvIGhhdmUgYSBzcGVjaWZpYyByb2xlLlxuICpcbiAqIEBwYXJhbSByb2xlcyB0aGUgcm9sZXMgdG8gcHJpb3JpdGl6ZS5cbiAqL1xuZXhwb3J0IGNvbnN0IHJvbGUgPVxuICAoLi4ucm9sZXM6IHN0cmluZ1tdKTogQ29tcGFyYXRvcjxTdHJlYW1WaWRlb1BhcnRpY2lwYW50PiA9PlxuICAoYSwgYikgPT4ge1xuICAgIGlmIChoYXNBbnlSb2xlKGEsIHJvbGVzKSAmJiAhaGFzQW55Um9sZShiLCByb2xlcykpIHJldHVybiAtMTtcbiAgICBpZiAoIWhhc0FueVJvbGUoYSwgcm9sZXMpICYmIGhhc0FueVJvbGUoYiwgcm9sZXMpKSByZXR1cm4gMTtcbiAgICByZXR1cm4gMDtcbiAgfTtcblxuLyoqXG4gKiBBIGNvbXBhcmF0b3Igd2hpY2ggc29ydHMgcGFydGljaXBhbnRzIGJ5IG5hbWUuXG4gKlxuICogQHBhcmFtIGEgdGhlIGZpcnN0IHBhcnRpY2lwYW50LlxuICogQHBhcmFtIGIgdGhlIHNlY29uZCBwYXJ0aWNpcGFudC5cbiAqL1xuZXhwb3J0IGNvbnN0IG5hbWU6IENvbXBhcmF0b3I8U3RyZWFtVmlkZW9QYXJ0aWNpcGFudD4gPSAoYSwgYikgPT4ge1xuICBpZiAoYS5uYW1lIDwgYi5uYW1lKSByZXR1cm4gLTE7XG4gIGlmIChhLm5hbWUgPiBiLm5hbWUpIHJldHVybiAxO1xuICByZXR1cm4gMDtcbn07XG5cbmNvbnN0IGhhc0FueVJvbGUgPSAocDogU3RyZWFtVmlkZW9QYXJ0aWNpcGFudCwgcm9sZXM6IHN0cmluZ1tdKSA9PlxuICAocC5yb2xlcyB8fCBbXSkuc29tZSgocikgPT4gcm9sZXMuaW5jbHVkZXMocikpO1xuIiwiaW1wb3J0IHsgU3RyZWFtVmlkZW9QYXJ0aWNpcGFudCwgVmlzaWJpbGl0eVN0YXRlIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgY29tYmluZUNvbXBhcmF0b3JzLCBjb25kaXRpb25hbCB9IGZyb20gJy4vY29tcGFyYXRvcic7XG5pbXBvcnQge1xuICBkb21pbmFudFNwZWFrZXIsXG4gIHBpbm5lZCxcbiAgcHVibGlzaGluZ0F1ZGlvLFxuICBwdWJsaXNoaW5nVmlkZW8sXG4gIHJlYWN0aW9uVHlwZSxcbiAgcm9sZSxcbiAgc2NyZWVuU2hhcmluZyxcbiAgc3BlYWtpbmcsXG59IGZyb20gJy4vcGFydGljaXBhbnRzJztcblxuLy8gYSBjb21wYXJhdG9yIGRlY29yYXRvciB3aGljaCBhcHBsaWVzIHRoZSBkZWNvcmF0ZWQgY29tcGFyYXRvciBvbmx5IGlmIHRoZVxuLy8gcGFydGljaXBhbnQgaXMgaW52aXNpYmxlLlxuLy8gVGhpcyBlbnN1cmVzIHN0YWJsZSBzb3J0aW5nIHdoZW4gYWxsIHBhcnRpY2lwYW50cyBhcmUgdmlzaWJsZS5cbmNvbnN0IGlmSW52aXNpYmxlQnkgPSBjb25kaXRpb25hbChcbiAgKGE6IFN0cmVhbVZpZGVvUGFydGljaXBhbnQsIGI6IFN0cmVhbVZpZGVvUGFydGljaXBhbnQpID0+XG4gICAgYS52aWV3cG9ydFZpc2liaWxpdHlTdGF0ZT8udmlkZW9UcmFjayA9PT0gVmlzaWJpbGl0eVN0YXRlLklOVklTSUJMRSB8fFxuICAgIGIudmlld3BvcnRWaXNpYmlsaXR5U3RhdGU/LnZpZGVvVHJhY2sgPT09IFZpc2liaWxpdHlTdGF0ZS5JTlZJU0lCTEUsXG4pO1xuXG4vKipcbiAqIEEgY29tcGFyYXRvciB0aGF0IGFwcGxpZXMgdGhlIGRlY29yYXRlZCBjb21wYXJhdG9yIHdoZW4gYSBwYXJ0aWNpcGFudCBpc1xuICogZWl0aGVyIGludmlzaWJsZSBvciBpdHMgdmlzaWJpbGl0eSBzdGF0ZSBpc24ndCBrbm93bi5cbiAqIEZvciB2aXNpYmxlIHBhcnRpY2lwYW50cywgaXQgZW5zdXJlcyBzdGFibGUgc29ydGluZy5cbiAqL1xuY29uc3QgaWZJbnZpc2libGVPclVua25vd25CeSA9IGNvbmRpdGlvbmFsKFxuICAoYTogU3RyZWFtVmlkZW9QYXJ0aWNpcGFudCwgYjogU3RyZWFtVmlkZW9QYXJ0aWNpcGFudCkgPT5cbiAgICBhLnZpZXdwb3J0VmlzaWJpbGl0eVN0YXRlPy52aWRlb1RyYWNrID09PSBWaXNpYmlsaXR5U3RhdGUuSU5WSVNJQkxFIHx8XG4gICAgYS52aWV3cG9ydFZpc2liaWxpdHlTdGF0ZT8udmlkZW9UcmFjayA9PT0gVmlzaWJpbGl0eVN0YXRlLlVOS05PV04gfHxcbiAgICBiLnZpZXdwb3J0VmlzaWJpbGl0eVN0YXRlPy52aWRlb1RyYWNrID09PSBWaXNpYmlsaXR5U3RhdGUuSU5WSVNJQkxFIHx8XG4gICAgYi52aWV3cG9ydFZpc2liaWxpdHlTdGF0ZT8udmlkZW9UcmFjayA9PT0gVmlzaWJpbGl0eVN0YXRlLlVOS05PV04sXG4pO1xuXG4vKipcbiAqIFRoZSBkZWZhdWx0IHNvcnRpbmcgcHJlc2V0LlxuICovXG5leHBvcnQgY29uc3QgZGVmYXVsdFNvcnRQcmVzZXQgPSBjb21iaW5lQ29tcGFyYXRvcnMoXG4gIHBpbm5lZCxcbiAgc2NyZWVuU2hhcmluZyxcbiAgaWZJbnZpc2libGVCeShcbiAgICBjb21iaW5lQ29tcGFyYXRvcnMoXG4gICAgICBkb21pbmFudFNwZWFrZXIsXG4gICAgICBzcGVha2luZyxcbiAgICAgIHJlYWN0aW9uVHlwZSgncmFpc2VkLWhhbmQnKSxcbiAgICAgIHB1Ymxpc2hpbmdWaWRlbyxcbiAgICAgIHB1Ymxpc2hpbmdBdWRpbyxcbiAgICApLFxuICApLFxuICAvLyBpZkludmlzaWJsZUJ5KG5hbWUpLFxuKTtcblxuLyoqXG4gKiBUaGUgc29ydGluZyBwcmVzZXQgZm9yIHNwZWFrZXIgbGF5b3V0LlxuICovXG5leHBvcnQgY29uc3Qgc3BlYWtlckxheW91dFNvcnRQcmVzZXQgPSBjb21iaW5lQ29tcGFyYXRvcnMoXG4gIHBpbm5lZCxcbiAgc2NyZWVuU2hhcmluZyxcbiAgZG9taW5hbnRTcGVha2VyLFxuICBpZkludmlzaWJsZUJ5KFxuICAgIGNvbWJpbmVDb21wYXJhdG9ycyhcbiAgICAgIHNwZWFraW5nLFxuICAgICAgcmVhY3Rpb25UeXBlKCdyYWlzZWQtaGFuZCcpLFxuICAgICAgcHVibGlzaGluZ1ZpZGVvLFxuICAgICAgcHVibGlzaGluZ0F1ZGlvLFxuICAgICksXG4gICksXG4gIC8vIGlmSW52aXNpYmxlQnkobmFtZSksXG4pO1xuXG4vKipcbiAqIFRoZSBzb3J0aW5nIHByZXNldCBmb3IgbGF5b3V0cyB0aGF0IGRvbid0IHJlbmRlciBhbGwgcGFydGljaXBhbnRzIGJ1dFxuICogaW5zdGVhZCwgcmVuZGVyIHRoZW0gaW4gcGFnZXMuXG4gKi9cbmV4cG9ydCBjb25zdCBwYWdpbmF0ZWRMYXlvdXRTb3J0UHJlc2V0ID0gY29tYmluZUNvbXBhcmF0b3JzKFxuICBwaW5uZWQsXG4gIGlmSW52aXNpYmxlT3JVbmtub3duQnkoXG4gICAgY29tYmluZUNvbXBhcmF0b3JzKFxuICAgICAgZG9taW5hbnRTcGVha2VyLFxuICAgICAgc3BlYWtpbmcsXG4gICAgICByZWFjdGlvblR5cGUoJ3JhaXNlZC1oYW5kJyksXG4gICAgICBwdWJsaXNoaW5nVmlkZW8sXG4gICAgICBwdWJsaXNoaW5nQXVkaW8sXG4gICAgKSxcbiAgKSxcbiAgLy8gaWZJbnZpc2libGVPclVua25vd25CeShuYW1lKSxcbik7XG5cbi8qKlxuICogVGhlIHNvcnRpbmcgcHJlc2V0IGZvciBsaXZlc3RyZWFtcyBhbmQgYXVkaW8gcm9vbXMuXG4gKi9cbmV4cG9ydCBjb25zdCBsaXZlc3RyZWFtT3JBdWRpb1Jvb21Tb3J0UHJlc2V0ID0gY29tYmluZUNvbXBhcmF0b3JzKFxuICBpZkludmlzaWJsZUJ5KFxuICAgIGNvbWJpbmVDb21wYXJhdG9ycyhcbiAgICAgIGRvbWluYW50U3BlYWtlcixcbiAgICAgIHNwZWFraW5nLFxuICAgICAgcmVhY3Rpb25UeXBlKCdyYWlzZWQtaGFuZCcpLFxuICAgICAgcHVibGlzaGluZ1ZpZGVvLFxuICAgICAgcHVibGlzaGluZ0F1ZGlvLFxuICAgICksXG4gICksXG4gIHJvbGUoJ2FkbWluJywgJ2hvc3QnLCAnc3BlYWtlcicpLFxuICAvLyBuYW1lLFxuKTtcbiIsImltcG9ydCB7XG4gIEJlaGF2aW9yU3ViamVjdCxcbiAgZGlzdGluY3RVbnRpbENoYW5nZWQsXG4gIG1hcCxcbiAgT2JzZXJ2YWJsZSxcbiAgc2hhcmVSZXBsYXksXG59IGZyb20gJ3J4anMnO1xuaW1wb3J0IHR5cGUgeyBQYXRjaCB9IGZyb20gJy4vcnhVdGlscyc7XG5pbXBvcnQgKiBhcyBSeFV0aWxzIGZyb20gJy4vcnhVdGlscyc7XG5pbXBvcnQgeyBDYWxsaW5nU3RhdGUgfSBmcm9tICcuL0NhbGxpbmdTdGF0ZSc7XG5pbXBvcnQge1xuICB0eXBlIFN0cmVhbVZpZGVvUGFydGljaXBhbnQsXG4gIHR5cGUgU3RyZWFtVmlkZW9QYXJ0aWNpcGFudFBhdGNoLFxuICB0eXBlIFN0cmVhbVZpZGVvUGFydGljaXBhbnRQYXRjaGVzLFxuICB0eXBlIFN1YnNjcmlwdGlvbkNoYW5nZXMsXG4gIFZpZGVvVHJhY2tUeXBlLFxuICBWaXNpYmlsaXR5U3RhdGUsXG59IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IENhbGxTdGF0c1JlcG9ydCB9IGZyb20gJy4uL3N0YXRzJztcbmltcG9ydCB7XG4gIEJsb2NrZWRVc2VyRXZlbnQsXG4gIENhbGxITFNCcm9hZGNhc3RpbmdTdGFydGVkRXZlbnQsXG4gIENhbGxJbmdyZXNzUmVzcG9uc2UsXG4gIENhbGxNZW1iZXJBZGRlZEV2ZW50LFxuICBDYWxsTWVtYmVyUmVtb3ZlZEV2ZW50LFxuICBDYWxsTWVtYmVyVXBkYXRlZEV2ZW50LFxuICBDYWxsTWVtYmVyVXBkYXRlZFBlcm1pc3Npb25FdmVudCxcbiAgQ2FsbFJlYWN0aW9uRXZlbnQsXG4gIENhbGxSZXNwb25zZSxcbiAgQ2FsbFNlc3Npb25QYXJ0aWNpcGFudENvdW50c1VwZGF0ZWRFdmVudCxcbiAgQ2FsbFNlc3Npb25QYXJ0aWNpcGFudEpvaW5lZEV2ZW50LFxuICBDYWxsU2Vzc2lvblBhcnRpY2lwYW50TGVmdEV2ZW50LFxuICBDYWxsU2Vzc2lvblJlc3BvbnNlLFxuICBDYWxsU2V0dGluZ3NSZXNwb25zZSxcbiAgRWdyZXNzUmVzcG9uc2UsXG4gIE1lbWJlclJlc3BvbnNlLFxuICBPd25DYXBhYmlsaXR5LFxuICBUaHVtYm5haWxSZXNwb25zZSxcbiAgVW5ibG9ja2VkVXNlckV2ZW50LFxuICBVcGRhdGVkQ2FsbFBlcm1pc3Npb25zRXZlbnQsXG4gIFVzZXJSZXNwb25zZSxcbiAgV1NFdmVudCxcbn0gZnJvbSAnLi4vZ2VuL2Nvb3JkaW5hdG9yJztcbmltcG9ydCB7IFRpbWVzdGFtcCB9IGZyb20gJy4uL2dlbi9nb29nbGUvcHJvdG9idWYvdGltZXN0YW1wJztcbmltcG9ydCB7IFJlY29ubmVjdERldGFpbHMgfSBmcm9tICcuLi9nZW4vdmlkZW8vc2Z1L2V2ZW50L2V2ZW50cyc7XG5pbXBvcnQge1xuICBDYWxsU3RhdGUgYXMgU2Z1Q2FsbFN0YXRlLFxuICBQaW4sXG4gIFRyYWNrVHlwZSxcbn0gZnJvbSAnLi4vZ2VuL3ZpZGVvL3NmdS9tb2RlbHMvbW9kZWxzJztcbmltcG9ydCB7IENvbXBhcmF0b3IsIGRlZmF1bHRTb3J0UHJlc2V0IH0gZnJvbSAnLi4vc29ydGluZyc7XG5pbXBvcnQgeyBnZXRMb2dnZXIgfSBmcm9tICcuLi9sb2dnZXInO1xuaW1wb3J0IHsgaGFzU2NyZWVuU2hhcmUgfSBmcm9tICcuLi9oZWxwZXJzL3BhcnRpY2lwYW50VXRpbHMnO1xuXG4vKipcbiAqIFJldHVybnMgdGhlIGRlZmF1bHQgZWdyZXNzIG9iamVjdCAtIHdoZW4gbm8gZWdyZXNzIGRhdGEgaXMgYXZhaWxhYmxlLlxuICovXG5jb25zdCBkZWZhdWx0RWdyZXNzOiBFZ3Jlc3NSZXNwb25zZSA9IHtcbiAgYnJvYWRjYXN0aW5nOiBmYWxzZSxcbiAgaGxzOiB7IHBsYXlsaXN0X3VybDogJycgfSxcbiAgcnRtcHM6IFtdLFxufTtcblxudHlwZSBPcnBoYW5lZFRyYWNrID0ge1xuICBpZDogc3RyaW5nO1xuICB0cmFja0xvb2t1cFByZWZpeDogc3RyaW5nO1xuICB0cmFja1R5cGU6IFRyYWNrVHlwZTtcbiAgdHJhY2s6IE1lZGlhU3RyZWFtO1xufTtcblxuLyoqXG4gKiBIb2xkcyB0aGUgc3RhdGUgb2YgdGhlIGN1cnJlbnQgY2FsbC5cbiAqIEByZWFjdCBZb3UgZG9uJ3QgaGF2ZSB0byB1c2UgdGhpcyBjbGFzcyBkaXJlY3RseSwgYXMgd2UgYXJlIGV4cG9zaW5nIHRoZSBzdGF0ZSB0aHJvdWdoIEhvb2tzLlxuICovXG5leHBvcnQgY2xhc3MgQ2FsbFN0YXRlIHtcbiAgcHJpdmF0ZSBiYWNrc3RhZ2VTdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxib29sZWFuPih0cnVlKTtcbiAgcHJpdmF0ZSBibG9ja2VkVXNlcklkc1N1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PHN0cmluZ1tdPihbXSk7XG4gIHByaXZhdGUgY3JlYXRlZEF0U3ViamVjdCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8RGF0ZT4obmV3IERhdGUoKSk7XG4gIHByaXZhdGUgZW5kZWRBdFN1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PERhdGUgfCB1bmRlZmluZWQ+KHVuZGVmaW5lZCk7XG4gIHByaXZhdGUgc3RhcnRzQXRTdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxEYXRlIHwgdW5kZWZpbmVkPih1bmRlZmluZWQpO1xuICBwcml2YXRlIHVwZGF0ZWRBdFN1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PERhdGU+KG5ldyBEYXRlKCkpO1xuICBwcml2YXRlIGNyZWF0ZWRCeVN1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PFVzZXJSZXNwb25zZSB8IHVuZGVmaW5lZD4oXG4gICAgdW5kZWZpbmVkLFxuICApO1xuICBwcml2YXRlIGN1c3RvbVN1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PFJlY29yZDxzdHJpbmcsIGFueT4+KHt9KTtcbiAgcHJpdmF0ZSBlZ3Jlc3NTdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxFZ3Jlc3NSZXNwb25zZSB8IHVuZGVmaW5lZD4oXG4gICAgdW5kZWZpbmVkLFxuICApO1xuICBwcml2YXRlIGluZ3Jlc3NTdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxDYWxsSW5ncmVzc1Jlc3BvbnNlIHwgdW5kZWZpbmVkPihcbiAgICB1bmRlZmluZWQsXG4gICk7XG4gIHByaXZhdGUgcmVjb3JkaW5nU3ViamVjdCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8Ym9vbGVhbj4oZmFsc2UpO1xuICBwcml2YXRlIHNlc3Npb25TdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxDYWxsU2Vzc2lvblJlc3BvbnNlIHwgdW5kZWZpbmVkPihcbiAgICB1bmRlZmluZWQsXG4gICk7XG4gIHByaXZhdGUgc2V0dGluZ3NTdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxcbiAgICBDYWxsU2V0dGluZ3NSZXNwb25zZSB8IHVuZGVmaW5lZFxuICA+KHVuZGVmaW5lZCk7XG4gIHByaXZhdGUgdHJhbnNjcmliaW5nU3ViamVjdCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8Ym9vbGVhbj4oZmFsc2UpO1xuICBwcml2YXRlIGVuZGVkQnlTdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxVc2VyUmVzcG9uc2UgfCB1bmRlZmluZWQ+KFxuICAgIHVuZGVmaW5lZCxcbiAgKTtcbiAgcHJpdmF0ZSB0aHVtYm5haWxzU3ViamVjdCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8XG4gICAgVGh1bWJuYWlsUmVzcG9uc2UgfCB1bmRlZmluZWRcbiAgPih1bmRlZmluZWQpO1xuICBwcml2YXRlIG1lbWJlcnNTdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxNZW1iZXJSZXNwb25zZVtdPihbXSk7XG4gIHByaXZhdGUgb3duQ2FwYWJpbGl0aWVzU3ViamVjdCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8T3duQ2FwYWJpbGl0eVtdPihbXSk7XG4gIHByaXZhdGUgY2FsbGluZ1N0YXRlU3ViamVjdCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8Q2FsbGluZ1N0YXRlPihcbiAgICBDYWxsaW5nU3RhdGUuVU5LTk9XTixcbiAgKTtcbiAgcHJpdmF0ZSBzdGFydGVkQXRTdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxEYXRlIHwgdW5kZWZpbmVkPih1bmRlZmluZWQpO1xuICBwcml2YXRlIHBhcnRpY2lwYW50Q291bnRTdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxudW1iZXI+KDApO1xuICBwcml2YXRlIGFub255bW91c1BhcnRpY2lwYW50Q291bnRTdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxudW1iZXI+KDApO1xuICBwcml2YXRlIHBhcnRpY2lwYW50c1N1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PFN0cmVhbVZpZGVvUGFydGljaXBhbnRbXT4oXG4gICAgW10sXG4gICk7XG4gIHByaXZhdGUgY2FsbFN0YXRzUmVwb3J0U3ViamVjdCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8XG4gICAgQ2FsbFN0YXRzUmVwb3J0IHwgdW5kZWZpbmVkXG4gID4odW5kZWZpbmVkKTtcblxuICAvLyBUaGVzZSBhcmUgdHJhY2tzIHRoYXQgd2VyZSBkZWxpdmVyZWQgdG8gdGhlIFN1YnNjcmliZXIncyBvblRyYWNrIGV2ZW50XG4gIC8vIHRoYXQgd2UgY291bGRuJ3QgYXNzb2NpYXRlIHdpdGggYSBwYXJ0aWNpcGFudCB5ZXQuXG4gIC8vIFRoaXMgaGFwcGVucyB3aGVuIHRoZSBwYXJ0aWNpcGFudEpvaW5lZCBldmVudCBoYXNuJ3QgYmVlbiByZWNlaXZlZCB5ZXQuXG4gIC8vIFdlIGtlZXAgdGhlc2UgdHJhY2tzIGFyb3VuZCB1bnRpbCB3ZSBjYW4gYXNzb2NpYXRlIHRoZW0gd2l0aCBhIHBhcnRpY2lwYW50LlxuICBwcml2YXRlIG9ycGhhbmVkVHJhY2tzOiBPcnBoYW5lZFRyYWNrW10gPSBbXTtcblxuICAvLyBEZXJpdmVkIHN0YXRlXG5cbiAgLyoqXG4gICAqIFRoZSB0aW1lIHRoZSBjYWxsIHNlc3Npb24gYWN0dWFsbHkgc3RhcnRlZC5cbiAgICogVXNlZnVsIGZvciBkaXNwbGF5aW5nIHRoZSBjYWxsIGR1cmF0aW9uLlxuICAgKi9cbiAgc3RhcnRlZEF0JDogT2JzZXJ2YWJsZTxEYXRlIHwgdW5kZWZpbmVkPjtcblxuICAvKipcbiAgICogVGhlIHNlcnZlci1zaWRlIGNvdW50ZWQgbnVtYmVyIG9mIHBhcnRpY2lwYW50cyBjb25uZWN0ZWQgdG8gdGhlIGN1cnJlbnQgY2FsbC5cbiAgICogVGhpcyBudW1iZXIgaW5jbHVkZXMgdGhlIGFub255bW91cyBwYXJ0aWNpcGFudHMgYXMgd2VsbC5cbiAgICovXG4gIHBhcnRpY2lwYW50Q291bnQkOiBPYnNlcnZhYmxlPG51bWJlcj47XG5cbiAgLyoqXG4gICAqIFRoZSBzZXJ2ZXItc2lkZSBjb3VudGVkIG51bWJlciBvZiBhbm9ueW1vdXMgcGFydGljaXBhbnRzIGNvbm5lY3RlZCB0byB0aGUgY3VycmVudCBjYWxsLlxuICAgKiBUaGlzIG51bWJlciBleGNsdWRlcyB0aGUgcmVndWxhciBwYXJ0aWNpcGFudHMuXG4gICAqL1xuICBhbm9ueW1vdXNQYXJ0aWNpcGFudENvdW50JDogT2JzZXJ2YWJsZTxudW1iZXI+O1xuXG4gIC8qKlxuICAgKiBBbGwgcGFydGljaXBhbnRzIG9mIHRoZSBjdXJyZW50IGNhbGwgKHRoaXMgaW5jbHVkZXMgdGhlIGN1cnJlbnQgdXNlciBhbmQgb3RoZXIgcGFydGljaXBhbnRzIGFzIHdlbGwpLlxuICAgKi9cbiAgcGFydGljaXBhbnRzJDogT2JzZXJ2YWJsZTxTdHJlYW1WaWRlb1BhcnRpY2lwYW50W10+O1xuXG4gIC8qKlxuICAgKiBSZW1vdGUgcGFydGljaXBhbnRzIG9mIHRoZSBjdXJyZW50IGNhbGwgKHRoaXMgaW5jbHVkZXMgZXZlcnkgcGFydGljaXBhbnQgZXhjZXB0IHRoZSBsb2dnZWQtaW4gdXNlcikuXG4gICAqL1xuICByZW1vdGVQYXJ0aWNpcGFudHMkOiBPYnNlcnZhYmxlPFN0cmVhbVZpZGVvUGFydGljaXBhbnRbXT47XG5cbiAgLyoqXG4gICAqIFRoZSBsb2NhbCBwYXJ0aWNpcGFudCBvZiB0aGUgY3VycmVudCBjYWxsICh0aGUgbG9nZ2VkLWluIHVzZXIpLlxuICAgKi9cbiAgbG9jYWxQYXJ0aWNpcGFudCQ6IE9ic2VydmFibGU8U3RyZWFtVmlkZW9QYXJ0aWNpcGFudCB8IHVuZGVmaW5lZD47XG5cbiAgLyoqXG4gICAqIFBpbm5lZCBwYXJ0aWNpcGFudHMgb2YgdGhlIGN1cnJlbnQgY2FsbC5cbiAgICovXG4gIHBpbm5lZFBhcnRpY2lwYW50cyQ6IE9ic2VydmFibGU8U3RyZWFtVmlkZW9QYXJ0aWNpcGFudFtdPjtcblxuICAvKipcbiAgICogVGhlIGN1cnJlbnRseSBlbGVjdGVkIGRvbWluYW50IHNwZWFrZXIgaW4gdGhlIGN1cnJlbnQgY2FsbC5cbiAgICovXG4gIGRvbWluYW50U3BlYWtlciQ6IE9ic2VydmFibGU8U3RyZWFtVmlkZW9QYXJ0aWNpcGFudCB8IHVuZGVmaW5lZD47XG5cbiAgLyoqXG4gICAqIEVtaXRzIHRydWUgd2hlbmV2ZXIgdGhlcmUgaXMgYW4gYWN0aXZlIHNjcmVlbiBzaGFyaW5nIHNlc3Npb24gd2l0aGluXG4gICAqIHRoZSBjdXJyZW50IGNhbGwuIFVzZWZ1bCBmb3IgZGlzcGxheWluZyBhIFwic2NyZWVuIHNoYXJpbmdcIiBpbmRpY2F0b3IgYW5kXG4gICAqIHN3aXRjaGluZyB0aGUgbGF5b3V0IHRvIGEgc2NyZWVuIHNoYXJpbmcgbGF5b3V0LlxuICAgKlxuICAgKiBUaGUgYWN0dWFsIHNjcmVlbiBzaGFyaW5nIHRyYWNrIGlzbid0IGV4cG9zZWQgaGVyZSwgYnV0IGNhbiBiZSByZXRyaWV2ZWRcbiAgICogZnJvbSB0aGUgbGlzdCBvZiBjYWxsIHBhcnRpY2lwYW50cy4gV2UgYWxzbyBkb24ndCB3YW50IHRvIGJlIGxpbWl0aW5nXG4gICAqIHRvIHRoZSBudW1iZXIgb2Ygc2hhcmUgc2NyZWVuIHRyYWNrcyBhcmUgZGlzcGxheWVkIGluIGEgY2FsbC5cbiAgICovXG4gIGhhc09uZ29pbmdTY3JlZW5TaGFyZSQ6IE9ic2VydmFibGU8Ym9vbGVhbj47XG5cbiAgLyoqXG4gICAqIFRoZSBsYXRlc3Qgc3RhdHMgcmVwb3J0IG9mIHRoZSBjdXJyZW50IGNhbGwuXG4gICAqIFdoZW4gc3RhdHMgZ2F0aGVyaW5nIGlzIGVuYWJsZWQsIHRoaXMgb2JzZXJ2YWJsZSB3aWxsIGVtaXQgYSBuZXcgdmFsdWVcbiAgICogYXQgYSByZWd1bGFyIChjb25maWd1cmFibGUpIGludGVydmFsLlxuICAgKlxuICAgKiBDb25zdW1lcnMgb2YgdGhpcyBvYnNlcnZhYmxlIGNhbiBpbXBsZW1lbnQgdGhlaXIgb3duIGJhdGNoaW5nIGxvZ2ljXG4gICAqIGluIGNhc2UgdGhleSB3YW50IHRvIHNob3cgaGlzdG9yaWNhbCBzdGF0cyBkYXRhLlxuICAgKi9cbiAgY2FsbFN0YXRzUmVwb3J0JDogT2JzZXJ2YWJsZTxDYWxsU3RhdHNSZXBvcnQgfCB1bmRlZmluZWQ+O1xuXG4gIC8qKlxuICAgKiBUaGUgbGlzdCBvZiBtZW1iZXJzIGluIHRoZSBjdXJyZW50IGNhbGwuXG4gICAqL1xuICBtZW1iZXJzJDogT2JzZXJ2YWJsZTxNZW1iZXJSZXNwb25zZVtdPjtcblxuICAvKipcbiAgICogVGhlIGxpc3Qgb2YgY2FwYWJpbGl0aWVzIG9mIHRoZSBjdXJyZW50IHVzZXIuXG4gICAqL1xuICBvd25DYXBhYmlsaXRpZXMkOiBPYnNlcnZhYmxlPE93bkNhcGFiaWxpdHlbXT47XG5cbiAgLyoqXG4gICAqIFRoZSBjYWxsaW5nIHN0YXRlLlxuICAgKi9cbiAgY2FsbGluZ1N0YXRlJDogT2JzZXJ2YWJsZTxDYWxsaW5nU3RhdGU+O1xuXG4gIC8qKlxuICAgKiBUaGUgYmFja3N0YWdlIHN0YXRlLlxuICAgKi9cbiAgYmFja3N0YWdlJDogT2JzZXJ2YWJsZTxib29sZWFuPjtcblxuICAvKipcbiAgICogV2lsbCBwcm92aWRlIHRoZSBsaXN0IG9mIGJsb2NrZWQgdXNlciBJRHMuXG4gICAqL1xuICBibG9ja2VkVXNlcklkcyQ6IE9ic2VydmFibGU8c3RyaW5nW10+O1xuXG4gIC8qKlxuICAgKiBXaWxsIHByb3ZpZGUgdGhlIHRpbWUgd2hlbiB0aGlzIGNhbGwgaGFzIGJlZW4gY3JlYXRlZC5cbiAgICovXG4gIGNyZWF0ZWRBdCQ6IE9ic2VydmFibGU8RGF0ZT47XG5cbiAgLyoqXG4gICAqIFdpbGwgcHJvdmlkZSB0aGUgdGltZSB3aGVuIHRoaXMgY2FsbCBoYXMgYmVlbiBlbmRlZC5cbiAgICovXG4gIGVuZGVkQXQkOiBPYnNlcnZhYmxlPERhdGUgfCB1bmRlZmluZWQ+O1xuXG4gIC8qKlxuICAgKiBXaWxsIHByb3ZpZGUgdGhlIHRpbWUgd2hlbiB0aGlzIGNhbGwgaGFzIGJlZW4gc2NoZWR1bGVkIHRvIHN0YXJ0LlxuICAgKi9cbiAgc3RhcnRzQXQkOiBPYnNlcnZhYmxlPERhdGUgfCB1bmRlZmluZWQ+O1xuXG4gIC8qKlxuICAgKiBXaWxsIHByb3ZpZGUgdGhlIHRpbWUgd2hlbiB0aGlzIGNhbGwgaGFzIGJlZW4gdXBkYXRlZC5cbiAgICovXG4gIHVwZGF0ZWRBdCQ6IE9ic2VydmFibGU8RGF0ZT47XG5cbiAgLyoqXG4gICAqIFdpbGwgcHJvdmlkZSB0aGUgdXNlciB3aG8gY3JlYXRlZCB0aGlzIGNhbGwuXG4gICAqL1xuICBjcmVhdGVkQnkkOiBPYnNlcnZhYmxlPFVzZXJSZXNwb25zZSB8IHVuZGVmaW5lZD47XG5cbiAgLyoqXG4gICAqIFdpbGwgcHJvdmlkZSB0aGUgY3VzdG9tIGRhdGEgb2YgdGhpcyBjYWxsLlxuICAgKi9cbiAgY3VzdG9tJDogT2JzZXJ2YWJsZTxSZWNvcmQ8c3RyaW5nLCBhbnk+PjtcblxuICAvKipcbiAgICogV2lsbCBwcm92aWRlIHRoZSBlZ3Jlc3MgZGF0YSBvZiB0aGlzIGNhbGwuXG4gICAqL1xuICBlZ3Jlc3MkOiBPYnNlcnZhYmxlPEVncmVzc1Jlc3BvbnNlIHwgdW5kZWZpbmVkPjtcblxuICAvKipcbiAgICogV2lsbCBwcm92aWRlIHRoZSBpbmdyZXNzIGRhdGEgb2YgdGhpcyBjYWxsLlxuICAgKi9cbiAgaW5ncmVzcyQ6IE9ic2VydmFibGU8Q2FsbEluZ3Jlc3NSZXNwb25zZSB8IHVuZGVmaW5lZD47XG5cbiAgLyoqXG4gICAqIFdpbGwgcHJvdmlkZSB0aGUgcmVjb3JkaW5nIHN0YXRlIG9mIHRoaXMgY2FsbC5cbiAgICovXG4gIHJlY29yZGluZyQ6IE9ic2VydmFibGU8Ym9vbGVhbj47XG5cbiAgLyoqXG4gICAqIFdpbGwgcHJvdmlkZSB0aGUgc2Vzc2lvbiBkYXRhIG9mIHRoaXMgY2FsbC5cbiAgICovXG4gIHNlc3Npb24kOiBPYnNlcnZhYmxlPENhbGxTZXNzaW9uUmVzcG9uc2UgfCB1bmRlZmluZWQ+O1xuXG4gIC8qKlxuICAgKiBXaWxsIHByb3ZpZGUgdGhlIHNldHRpbmdzIG9mIHRoaXMgY2FsbC5cbiAgICovXG4gIHNldHRpbmdzJDogT2JzZXJ2YWJsZTxDYWxsU2V0dGluZ3NSZXNwb25zZSB8IHVuZGVmaW5lZD47XG5cbiAgLyoqXG4gICAqIFdpbGwgcHJvdmlkZSB0aGUgdHJhbnNjcmliaW5nIHN0YXRlIG9mIHRoaXMgY2FsbC5cbiAgICovXG4gIHRyYW5zY3JpYmluZyQ6IE9ic2VydmFibGU8Ym9vbGVhbj47XG5cbiAgLyoqXG4gICAqIFdpbGwgcHJvdmlkZSB0aGUgdXNlciB3aG8gZW5kZWQgdGhpcyBjYWxsLlxuICAgKi9cbiAgZW5kZWRCeSQ6IE9ic2VydmFibGU8VXNlclJlc3BvbnNlIHwgdW5kZWZpbmVkPjtcblxuICAvKipcbiAgICogV2lsbCBwcm92aWRlIHRoZSB0aHVtYm5haWxzIG9mIHRoaXMgY2FsbC5cbiAgICovXG4gIHRodW1ibmFpbHMkOiBPYnNlcnZhYmxlPFRodW1ibmFpbFJlc3BvbnNlIHwgdW5kZWZpbmVkPjtcblxuICByZWFkb25seSBsb2dnZXIgPSBnZXRMb2dnZXIoWydDYWxsU3RhdGUnXSk7XG5cbiAgLyoqXG4gICAqIEEgbGlzdCBvZiBjb21wYXJhdG9ycyB0aGF0IGFyZSB1c2VkIHRvIHNvcnQgdGhlIHBhcnRpY2lwYW50cy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHByaXZhdGUgc29ydFBhcnRpY2lwYW50c0J5ID0gZGVmYXVsdFNvcnRQcmVzZXQ7XG5cbiAgcHJpdmF0ZSByZWFkb25seSBldmVudEhhbmRsZXJzOiB7XG4gICAgW0V2ZW50VHlwZSBpbiBXU0V2ZW50Wyd0eXBlJ11dOlxuICAgICAgfCAoKGV2ZW50OiBFeHRyYWN0PFdTRXZlbnQsIHsgdHlwZTogRXZlbnRUeXBlIH0+KSA9PiB2b2lkKVxuICAgICAgfCB1bmRlZmluZWQ7XG4gIH07XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgaW5zdGFuY2Ugb2YgdGhlIENhbGxTdGF0ZSBjbGFzcy5cbiAgICpcbiAgICovXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMucGFydGljaXBhbnRzJCA9IHRoaXMucGFydGljaXBhbnRzU3ViamVjdC5hc09ic2VydmFibGUoKS5waXBlKFxuICAgICAgLy8gbWFpbnRhaW4gc3RhYmxlLXNvcnQgYnkgbXV0YXRpbmcgdGhlIHBhcnRpY2lwYW50cyBzdG9yZWRcbiAgICAgIC8vIGluIHRoZSBvcmlnaW5hbCBzdWJqZWN0XG4gICAgICBtYXAoKHBzKSA9PiBwcy5zb3J0KHRoaXMuc29ydFBhcnRpY2lwYW50c0J5KSksXG4gICAgICBzaGFyZVJlcGxheSh7IGJ1ZmZlclNpemU6IDEsIHJlZkNvdW50OiB0cnVlIH0pLFxuICAgICk7XG5cbiAgICB0aGlzLmxvY2FsUGFydGljaXBhbnQkID0gdGhpcy5wYXJ0aWNpcGFudHMkLnBpcGUoXG4gICAgICBtYXAoKHBhcnRpY2lwYW50cykgPT4gcGFydGljaXBhbnRzLmZpbmQoKHApID0+IHAuaXNMb2NhbFBhcnRpY2lwYW50KSksXG4gICAgICBzaGFyZVJlcGxheSh7IGJ1ZmZlclNpemU6IDEsIHJlZkNvdW50OiB0cnVlIH0pLFxuICAgICk7XG5cbiAgICB0aGlzLnJlbW90ZVBhcnRpY2lwYW50cyQgPSB0aGlzLnBhcnRpY2lwYW50cyQucGlwZShcbiAgICAgIG1hcCgocGFydGljaXBhbnRzKSA9PiBwYXJ0aWNpcGFudHMuZmlsdGVyKChwKSA9PiAhcC5pc0xvY2FsUGFydGljaXBhbnQpKSxcbiAgICAgIHNoYXJlUmVwbGF5KHsgYnVmZmVyU2l6ZTogMSwgcmVmQ291bnQ6IHRydWUgfSksXG4gICAgKTtcblxuICAgIHRoaXMucGlubmVkUGFydGljaXBhbnRzJCA9IHRoaXMucGFydGljaXBhbnRzJC5waXBlKFxuICAgICAgbWFwKChwYXJ0aWNpcGFudHMpID0+IHBhcnRpY2lwYW50cy5maWx0ZXIoKHApID0+ICEhcC5waW4pKSxcbiAgICAgIHNoYXJlUmVwbGF5KHsgYnVmZmVyU2l6ZTogMSwgcmVmQ291bnQ6IHRydWUgfSksXG4gICAgKTtcblxuICAgIHRoaXMuZG9taW5hbnRTcGVha2VyJCA9IHRoaXMucGFydGljaXBhbnRzJC5waXBlKFxuICAgICAgbWFwKChwYXJ0aWNpcGFudHMpID0+IHBhcnRpY2lwYW50cy5maW5kKChwKSA9PiBwLmlzRG9taW5hbnRTcGVha2VyKSksXG4gICAgICBzaGFyZVJlcGxheSh7IGJ1ZmZlclNpemU6IDEsIHJlZkNvdW50OiB0cnVlIH0pLFxuICAgICk7XG5cbiAgICB0aGlzLmhhc09uZ29pbmdTY3JlZW5TaGFyZSQgPSB0aGlzLnBhcnRpY2lwYW50cyQucGlwZShcbiAgICAgIG1hcCgocGFydGljaXBhbnRzKSA9PiBwYXJ0aWNpcGFudHMuc29tZSgocCkgPT4gaGFzU2NyZWVuU2hhcmUocCkpKSxcbiAgICAgIGRpc3RpbmN0VW50aWxDaGFuZ2VkKCksXG4gICAgICBzaGFyZVJlcGxheSh7IGJ1ZmZlclNpemU6IDEsIHJlZkNvdW50OiB0cnVlIH0pLFxuICAgICk7XG5cbiAgICAvLyBkYXRlc1xuICAgIHRoaXMuY3JlYXRlZEF0JCA9IHRoaXMuY3JlYXRlZEF0U3ViamVjdC5hc09ic2VydmFibGUoKTtcbiAgICB0aGlzLmVuZGVkQXQkID0gdGhpcy5lbmRlZEF0U3ViamVjdC5hc09ic2VydmFibGUoKTtcbiAgICB0aGlzLnN0YXJ0c0F0JCA9IHRoaXMuc3RhcnRzQXRTdWJqZWN0LmFzT2JzZXJ2YWJsZSgpO1xuICAgIHRoaXMuc3RhcnRlZEF0JCA9IHRoaXMuc3RhcnRlZEF0U3ViamVjdC5hc09ic2VydmFibGUoKTtcbiAgICB0aGlzLnVwZGF0ZWRBdCQgPSB0aGlzLnVwZGF0ZWRBdFN1YmplY3QuYXNPYnNlcnZhYmxlKCk7XG5cbiAgICB0aGlzLmNhbGxTdGF0c1JlcG9ydCQgPSB0aGlzLmNhbGxTdGF0c1JlcG9ydFN1YmplY3QuYXNPYnNlcnZhYmxlKCk7XG4gICAgdGhpcy5tZW1iZXJzJCA9IHRoaXMubWVtYmVyc1N1YmplY3QuYXNPYnNlcnZhYmxlKCk7XG5cbiAgICAvLyBjb21wbGV4IG9iamVjdHMgc2hvdWxkIHdvcmsgYXMgc3RyZWFtcyBvZiBkYXRhXG4gICAgdGhpcy5jcmVhdGVkQnkkID0gdGhpcy5jcmVhdGVkQnlTdWJqZWN0LmFzT2JzZXJ2YWJsZSgpO1xuICAgIHRoaXMuY3VzdG9tJCA9IHRoaXMuY3VzdG9tU3ViamVjdC5hc09ic2VydmFibGUoKTtcbiAgICB0aGlzLmVncmVzcyQgPSB0aGlzLmVncmVzc1N1YmplY3QuYXNPYnNlcnZhYmxlKCk7XG4gICAgdGhpcy5pbmdyZXNzJCA9IHRoaXMuaW5ncmVzc1N1YmplY3QuYXNPYnNlcnZhYmxlKCk7XG4gICAgdGhpcy5zZXNzaW9uJCA9IHRoaXMuc2Vzc2lvblN1YmplY3QuYXNPYnNlcnZhYmxlKCk7XG4gICAgdGhpcy5zZXR0aW5ncyQgPSB0aGlzLnNldHRpbmdzU3ViamVjdC5hc09ic2VydmFibGUoKTtcbiAgICB0aGlzLmVuZGVkQnkkID0gdGhpcy5lbmRlZEJ5U3ViamVjdC5hc09ic2VydmFibGUoKTtcbiAgICB0aGlzLnRodW1ibmFpbHMkID0gdGhpcy50aHVtYm5haWxzU3ViamVjdC5hc09ic2VydmFibGUoKTtcblxuICAgIC8qKlxuICAgICAqIFBlcmZvcm1zIHNoYWxsb3cgY29tcGFyaXNvbiBvZiB0d28gYXJyYXlzLlxuICAgICAqIEV4cGVjdHMgcHJpbWl0aXZlIHZhbHVlczogWzEsIDIsIDNdIGlzIGVxdWFsIHRvIFsyLCAxLCAzXS5cbiAgICAgKi9cbiAgICBjb25zdCBpc1NoYWxsb3dFcXVhbCA9IDxUPihhOiBBcnJheTxUPiwgYjogQXJyYXk8VD4pOiBib29sZWFuID0+IHtcbiAgICAgIGlmIChhLmxlbmd0aCAhPT0gYi5sZW5ndGgpIHJldHVybiBmYWxzZTtcbiAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBhKSBpZiAoIWIuaW5jbHVkZXMoaXRlbSkpIHJldHVybiBmYWxzZTtcbiAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBiKSBpZiAoIWEuaW5jbHVkZXMoaXRlbSkpIHJldHVybiBmYWxzZTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIE9ic2VydmFibGUgZnJvbSB0aGUgZ2l2ZW4gc3ViamVjdCBieSBwaXBpbmcgdG8gdGhlXG4gICAgICogYGRpc3RpbmN0VW50aWxDaGFuZ2VkKClgIG9wZXJhdG9yLlxuICAgICAqL1xuICAgIGNvbnN0IGR1YyA9IDxUPihcbiAgICAgIHN1YmplY3Q6IEJlaGF2aW9yU3ViamVjdDxUPixcbiAgICAgIGNvbXBhcmF0b3I/OiAoYTogVCwgYjogVCkgPT4gYm9vbGVhbixcbiAgICApOiBPYnNlcnZhYmxlPFQ+ID0+XG4gICAgICBzdWJqZWN0LmFzT2JzZXJ2YWJsZSgpLnBpcGUoZGlzdGluY3RVbnRpbENoYW5nZWQoY29tcGFyYXRvcikpO1xuXG4gICAgLy8gcHJpbWl0aXZlIHZhbHVlcyBzaG91bGQgb25seSBlbWl0IG9uY2UgdGhlIHZhbHVlIHRoZXkgaG9sZCBjaGFuZ2VzXG4gICAgdGhpcy5hbm9ueW1vdXNQYXJ0aWNpcGFudENvdW50JCA9IGR1YyhcbiAgICAgIHRoaXMuYW5vbnltb3VzUGFydGljaXBhbnRDb3VudFN1YmplY3QsXG4gICAgKTtcbiAgICB0aGlzLmJsb2NrZWRVc2VySWRzJCA9IGR1Yyh0aGlzLmJsb2NrZWRVc2VySWRzU3ViamVjdCwgaXNTaGFsbG93RXF1YWwpO1xuICAgIHRoaXMuYmFja3N0YWdlJCA9IGR1Yyh0aGlzLmJhY2tzdGFnZVN1YmplY3QpO1xuICAgIHRoaXMuY2FsbGluZ1N0YXRlJCA9IGR1Yyh0aGlzLmNhbGxpbmdTdGF0ZVN1YmplY3QpO1xuICAgIHRoaXMub3duQ2FwYWJpbGl0aWVzJCA9IGR1Yyh0aGlzLm93bkNhcGFiaWxpdGllc1N1YmplY3QsIGlzU2hhbGxvd0VxdWFsKTtcbiAgICB0aGlzLnBhcnRpY2lwYW50Q291bnQkID0gZHVjKHRoaXMucGFydGljaXBhbnRDb3VudFN1YmplY3QpO1xuICAgIHRoaXMucmVjb3JkaW5nJCA9IGR1Yyh0aGlzLnJlY29yZGluZ1N1YmplY3QpO1xuICAgIHRoaXMudHJhbnNjcmliaW5nJCA9IGR1Yyh0aGlzLnRyYW5zY3JpYmluZ1N1YmplY3QpO1xuXG4gICAgdGhpcy5ldmVudEhhbmRsZXJzID0ge1xuICAgICAgLy8gdGhlc2UgZXZlbnRzIGFyZSBub3QgdXBkYXRpbmcgdGhlIGNhbGwgc3RhdGU6XG4gICAgICAnY2FsbC5jbG9zZWRfY2FwdGlvbic6IHVuZGVmaW5lZCxcbiAgICAgICdjYWxsLmRlbGV0ZWQnOiB1bmRlZmluZWQsXG4gICAgICAnY2FsbC5wZXJtaXNzaW9uX3JlcXVlc3QnOiB1bmRlZmluZWQsXG4gICAgICAnY2FsbC5yZWNvcmRpbmdfcmVhZHknOiB1bmRlZmluZWQsXG4gICAgICAnY2FsbC50cmFuc2NyaXB0aW9uX3JlYWR5JzogdW5kZWZpbmVkLFxuICAgICAgJ2NhbGwudXNlcl9tdXRlZCc6IHVuZGVmaW5lZCxcbiAgICAgICdjb25uZWN0aW9uLmVycm9yJzogdW5kZWZpbmVkLFxuICAgICAgJ2Nvbm5lY3Rpb24ub2snOiB1bmRlZmluZWQsXG4gICAgICAnaGVhbHRoLmNoZWNrJzogdW5kZWZpbmVkLFxuICAgICAgJ3VzZXIuYmFubmVkJzogdW5kZWZpbmVkLFxuICAgICAgJ3VzZXIuZGVhY3RpdmF0ZWQnOiB1bmRlZmluZWQsXG4gICAgICAndXNlci5kZWxldGVkJzogdW5kZWZpbmVkLFxuICAgICAgJ3VzZXIubXV0ZWQnOiB1bmRlZmluZWQsXG4gICAgICAndXNlci5wcmVzZW5jZS5jaGFuZ2VkJzogdW5kZWZpbmVkLFxuICAgICAgJ3VzZXIucmVhY3RpdmF0ZWQnOiB1bmRlZmluZWQsXG4gICAgICAndXNlci51bmJhbm5lZCc6IHVuZGVmaW5lZCxcbiAgICAgICd1c2VyLnVwZGF0ZWQnOiB1bmRlZmluZWQsXG4gICAgICBjdXN0b206IHVuZGVmaW5lZCxcblxuICAgICAgLy8gZXZlbnRzIHRoYXQgdXBkYXRlIGNhbGwgc3RhdGU6XG4gICAgICAnY2FsbC5hY2NlcHRlZCc6IChlKSA9PiB0aGlzLnVwZGF0ZUZyb21DYWxsUmVzcG9uc2UoZS5jYWxsKSxcbiAgICAgICdjYWxsLmJsb2NrZWRfdXNlcic6IHRoaXMuYmxvY2tVc2VyLFxuICAgICAgJ2NhbGwuY3JlYXRlZCc6IChlKSA9PiB0aGlzLnVwZGF0ZUZyb21DYWxsUmVzcG9uc2UoZS5jYWxsKSxcbiAgICAgICdjYWxsLmVuZGVkJzogKGUpID0+IHtcbiAgICAgICAgdGhpcy51cGRhdGVGcm9tQ2FsbFJlc3BvbnNlKGUuY2FsbCk7XG4gICAgICAgIHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMuZW5kZWRCeVN1YmplY3QsIGUudXNlcik7XG4gICAgICB9LFxuICAgICAgJ2NhbGwuaGxzX2Jyb2FkY2FzdGluZ19mYWlsZWQnOiB0aGlzLnVwZGF0ZUZyb21ITFNCcm9hZGNhc3RpbmdGYWlsZWQsXG4gICAgICAnY2FsbC5obHNfYnJvYWRjYXN0aW5nX3N0YXJ0ZWQnOiB0aGlzLnVwZGF0ZUZyb21ITFNCcm9hZGNhc3RTdGFydGVkLFxuICAgICAgJ2NhbGwuaGxzX2Jyb2FkY2FzdGluZ19zdG9wcGVkJzogdGhpcy51cGRhdGVGcm9tSExTQnJvYWRjYXN0U3RvcHBlZCxcbiAgICAgICdjYWxsLmxpdmVfc3RhcnRlZCc6IChlKSA9PiB0aGlzLnVwZGF0ZUZyb21DYWxsUmVzcG9uc2UoZS5jYWxsKSxcbiAgICAgICdjYWxsLm1lbWJlcl9hZGRlZCc6IHRoaXMudXBkYXRlRnJvbU1lbWJlckFkZGVkLFxuICAgICAgJ2NhbGwubWVtYmVyX3JlbW92ZWQnOiB0aGlzLnVwZGF0ZUZyb21NZW1iZXJSZW1vdmVkLFxuICAgICAgJ2NhbGwubWVtYmVyX3VwZGF0ZWRfcGVybWlzc2lvbic6IHRoaXMudXBkYXRlTWVtYmVycyxcbiAgICAgICdjYWxsLm1lbWJlcl91cGRhdGVkJzogdGhpcy51cGRhdGVNZW1iZXJzLFxuICAgICAgJ2NhbGwubm90aWZpY2F0aW9uJzogKGUpID0+IHtcbiAgICAgICAgdGhpcy51cGRhdGVGcm9tQ2FsbFJlc3BvbnNlKGUuY2FsbCk7XG4gICAgICAgIHRoaXMuc2V0TWVtYmVycyhlLm1lbWJlcnMpO1xuICAgICAgfSxcbiAgICAgICdjYWxsLnBlcm1pc3Npb25zX3VwZGF0ZWQnOiB0aGlzLnVwZGF0ZU93bkNhcGFiaWxpdGllcyxcbiAgICAgICdjYWxsLnJlYWN0aW9uX25ldyc6IHRoaXMudXBkYXRlUGFydGljaXBhbnRSZWFjdGlvbixcbiAgICAgICdjYWxsLnJlY29yZGluZ19zdGFydGVkJzogKCkgPT5cbiAgICAgICAgdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5yZWNvcmRpbmdTdWJqZWN0LCB0cnVlKSxcbiAgICAgICdjYWxsLnJlY29yZGluZ19zdG9wcGVkJzogKCkgPT5cbiAgICAgICAgdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5yZWNvcmRpbmdTdWJqZWN0LCBmYWxzZSksXG4gICAgICAnY2FsbC5yZWNvcmRpbmdfZmFpbGVkJzogKCkgPT5cbiAgICAgICAgdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5yZWNvcmRpbmdTdWJqZWN0LCBmYWxzZSksXG4gICAgICAnY2FsbC5yZWplY3RlZCc6IChlKSA9PiB0aGlzLnVwZGF0ZUZyb21DYWxsUmVzcG9uc2UoZS5jYWxsKSxcbiAgICAgICdjYWxsLnJpbmcnOiAoZSkgPT4gdGhpcy51cGRhdGVGcm9tQ2FsbFJlc3BvbnNlKGUuY2FsbCksXG4gICAgICAnY2FsbC5taXNzZWQnOiAoZSkgPT4gdGhpcy51cGRhdGVGcm9tQ2FsbFJlc3BvbnNlKGUuY2FsbCksXG4gICAgICAnY2FsbC5zZXNzaW9uX2VuZGVkJzogKGUpID0+IHRoaXMudXBkYXRlRnJvbUNhbGxSZXNwb25zZShlLmNhbGwpLFxuICAgICAgJ2NhbGwuc2Vzc2lvbl9wYXJ0aWNpcGFudF9jb3VudF91cGRhdGVkJzpcbiAgICAgICAgdGhpcy51cGRhdGVGcm9tU2Vzc2lvblBhcnRpY2lwYW50Q291bnRVcGRhdGUsXG4gICAgICAnY2FsbC5zZXNzaW9uX3BhcnRpY2lwYW50X2pvaW5lZCc6XG4gICAgICAgIHRoaXMudXBkYXRlRnJvbVNlc3Npb25QYXJ0aWNpcGFudEpvaW5lZCxcbiAgICAgICdjYWxsLnNlc3Npb25fcGFydGljaXBhbnRfbGVmdCc6IHRoaXMudXBkYXRlRnJvbVNlc3Npb25QYXJ0aWNpcGFudExlZnQsXG4gICAgICAnY2FsbC5zZXNzaW9uX3N0YXJ0ZWQnOiAoZSkgPT4gdGhpcy51cGRhdGVGcm9tQ2FsbFJlc3BvbnNlKGUuY2FsbCksXG4gICAgICAnY2FsbC50cmFuc2NyaXB0aW9uX3N0YXJ0ZWQnOiAoKSA9PiB7XG4gICAgICAgIHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMudHJhbnNjcmliaW5nU3ViamVjdCwgdHJ1ZSk7XG4gICAgICB9LFxuICAgICAgJ2NhbGwudHJhbnNjcmlwdGlvbl9zdG9wcGVkJzogKCkgPT4ge1xuICAgICAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLnRyYW5zY3JpYmluZ1N1YmplY3QsIGZhbHNlKTtcbiAgICAgIH0sXG4gICAgICAnY2FsbC50cmFuc2NyaXB0aW9uX2ZhaWxlZCc6ICgpID0+IHtcbiAgICAgICAgdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy50cmFuc2NyaWJpbmdTdWJqZWN0LCBmYWxzZSk7XG4gICAgICB9LFxuICAgICAgJ2NhbGwudW5ibG9ja2VkX3VzZXInOiB0aGlzLnVuYmxvY2tVc2VyLFxuICAgICAgJ2NhbGwudXBkYXRlZCc6IChlKSA9PiB0aGlzLnVwZGF0ZUZyb21DYWxsUmVzcG9uc2UoZS5jYWxsKSxcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGxpc3Qgb2YgY3JpdGVyaWEgdGhhdCBhcmUgdXNlZCB0byBzb3J0IHRoZSBwYXJ0aWNpcGFudHMuXG4gICAqIFRvIGRpc2FibGUgc29ydGluZywgeW91IGNhbiBwYXNzIGBub29wQ29tcGFyYXRvcigpYC5cbiAgICpcbiAgICogQHBhcmFtIGNvbXBhcmF0b3IgdGhlIGNvbXBhcmF0b3IgdG8gdXNlIHRvIHNvcnQgdGhlIHBhcnRpY2lwYW50cy5cbiAgICovXG4gIHNldFNvcnRQYXJ0aWNpcGFudHNCeSA9IChjb21wYXJhdG9yOiBDb21wYXJhdG9yPFN0cmVhbVZpZGVvUGFydGljaXBhbnQ+KSA9PiB7XG4gICAgdGhpcy5zb3J0UGFydGljaXBhbnRzQnkgPSBjb21wYXJhdG9yO1xuICAgIC8vIHRyaWdnZXIgcmUtc29ydGluZyBvZiBwYXJ0aWNpcGFudHNcbiAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLnBhcnRpY2lwYW50c1N1YmplY3QsIChwcykgPT4gcHMpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBjdXJyZW50IHZhbHVlIG9mIGFuIG9ic2VydmFibGUsIG9yIHVuZGVmaW5lZCBpZiB0aGUgb2JzZXJ2YWJsZSBoYXNcbiAgICogbm90IGVtaXR0ZWQgYSB2YWx1ZSB5ZXQuXG4gICAqXG4gICAqIEBwYXJhbSBvYnNlcnZhYmxlJCB0aGUgb2JzZXJ2YWJsZSB0byBnZXQgdGhlIHZhbHVlIGZyb20uXG4gICAqL1xuICBnZXRDdXJyZW50VmFsdWUgPSBSeFV0aWxzLmdldEN1cnJlbnRWYWx1ZTtcblxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgdmFsdWUgb2YgdGhlIHByb3ZpZGVkIFN1YmplY3QuXG4gICAqIEFuIGB1cGRhdGVgIGNhbiBlaXRoZXIgYmUgYSBuZXcgdmFsdWUgb3IgYSBmdW5jdGlvbiB3aGljaCB0YWtlc1xuICAgKiB0aGUgY3VycmVudCB2YWx1ZSBhbmQgcmV0dXJucyBhIG5ldyB2YWx1ZS5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqXG4gICAqIEBwYXJhbSBzdWJqZWN0IHRoZSBzdWJqZWN0IHRvIHVwZGF0ZS5cbiAgICogQHBhcmFtIHVwZGF0ZSB0aGUgdXBkYXRlIHRvIGFwcGx5IHRvIHRoZSBzdWJqZWN0LlxuICAgKiBAcmV0dXJuIHRoZSB1cGRhdGVkIHZhbHVlLlxuICAgKi9cbiAgc2V0Q3VycmVudFZhbHVlID0gUnhVdGlscy5zZXRDdXJyZW50VmFsdWU7XG5cbiAgLyoqXG4gICAqIFRoZSBzZXJ2ZXItc2lkZSBjb3VudGVkIG51bWJlciBvZiBwYXJ0aWNpcGFudHMgY29ubmVjdGVkIHRvIHRoZSBjdXJyZW50IGNhbGwuXG4gICAqIFRoaXMgbnVtYmVyIGluY2x1ZGVzIHRoZSBhbm9ueW1vdXMgcGFydGljaXBhbnRzIGFzIHdlbGwuXG4gICAqL1xuICBnZXQgcGFydGljaXBhbnRDb3VudCgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50VmFsdWUodGhpcy5wYXJ0aWNpcGFudENvdW50JCk7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgbnVtYmVyIG9mIHBhcnRpY2lwYW50cyBpbiB0aGUgY3VycmVudCBjYWxsLlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICogQHBhcmFtIGNvdW50IHRoZSBudW1iZXIgb2YgcGFydGljaXBhbnRzLlxuICAgKi9cbiAgc2V0UGFydGljaXBhbnRDb3VudCA9IChjb3VudDogUGF0Y2g8bnVtYmVyPikgPT4ge1xuICAgIHJldHVybiB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLnBhcnRpY2lwYW50Q291bnRTdWJqZWN0LCBjb3VudCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFRoZSB0aW1lIHRoZSBjYWxsIHNlc3Npb24gYWN0dWFsbHkgc3RhcnRlZC5cbiAgICogVXNlZnVsIGZvciBkaXNwbGF5aW5nIHRoZSBjYWxsIGR1cmF0aW9uLlxuICAgKi9cbiAgZ2V0IHN0YXJ0ZWRBdCgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50VmFsdWUodGhpcy5zdGFydGVkQXQkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSB0aW1lIHRoZSBjYWxsIHNlc3Npb24gYWN0dWFsbHkgc3RhcnRlZC5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqIEBwYXJhbSBzdGFydGVkQXQgdGhlIHRpbWUgdGhlIGNhbGwgc2Vzc2lvbiBhY3R1YWxseSBzdGFydGVkLlxuICAgKi9cbiAgc2V0U3RhcnRlZEF0ID0gKHN0YXJ0ZWRBdDogUGF0Y2g8RGF0ZSB8IHVuZGVmaW5lZD4pID0+IHtcbiAgICByZXR1cm4gdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5zdGFydGVkQXRTdWJqZWN0LCBzdGFydGVkQXQpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBUaGUgc2VydmVyLXNpZGUgY291bnRlZCBudW1iZXIgb2YgYW5vbnltb3VzIHBhcnRpY2lwYW50cyBjb25uZWN0ZWQgdG8gdGhlIGN1cnJlbnQgY2FsbC5cbiAgICogVGhpcyBudW1iZXIgaW5jbHVkZXMgdGhlIGFub255bW91cyBwYXJ0aWNpcGFudHMgYXMgd2VsbC5cbiAgICovXG4gIGdldCBhbm9ueW1vdXNQYXJ0aWNpcGFudENvdW50KCkge1xuICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRWYWx1ZSh0aGlzLmFub255bW91c1BhcnRpY2lwYW50Q291bnQkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBudW1iZXIgb2YgYW5vbnltb3VzIHBhcnRpY2lwYW50cyBpbiB0aGUgY3VycmVudCBjYWxsLlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICogQHBhcmFtIGNvdW50IHRoZSBudW1iZXIgb2YgYW5vbnltb3VzIHBhcnRpY2lwYW50cy5cbiAgICovXG4gIHNldEFub255bW91c1BhcnRpY2lwYW50Q291bnQgPSAoY291bnQ6IFBhdGNoPG51bWJlcj4pID0+IHtcbiAgICByZXR1cm4gdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5hbm9ueW1vdXNQYXJ0aWNpcGFudENvdW50U3ViamVjdCwgY291bnQpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBUaGUgbGlzdCBvZiBwYXJ0aWNpcGFudHMgaW4gdGhlIGN1cnJlbnQgY2FsbC5cbiAgICovXG4gIGdldCBwYXJ0aWNpcGFudHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFZhbHVlKHRoaXMucGFydGljaXBhbnRzJCk7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgbGlzdCBvZiBwYXJ0aWNpcGFudHMgaW4gdGhlIGN1cnJlbnQgY2FsbC5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqXG4gICAqIEBwYXJhbSBwYXJ0aWNpcGFudHMgdGhlIGxpc3Qgb2YgcGFydGljaXBhbnRzLlxuICAgKi9cbiAgc2V0UGFydGljaXBhbnRzID0gKHBhcnRpY2lwYW50czogUGF0Y2g8U3RyZWFtVmlkZW9QYXJ0aWNpcGFudFtdPikgPT4ge1xuICAgIHJldHVybiB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLnBhcnRpY2lwYW50c1N1YmplY3QsIHBhcnRpY2lwYW50cyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFRoZSBsb2NhbCBwYXJ0aWNpcGFudCBpbiB0aGUgY3VycmVudCBjYWxsLlxuICAgKi9cbiAgZ2V0IGxvY2FsUGFydGljaXBhbnQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFZhbHVlKHRoaXMubG9jYWxQYXJ0aWNpcGFudCQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBsaXN0IG9mIHJlbW90ZSBwYXJ0aWNpcGFudHMgaW4gdGhlIGN1cnJlbnQgY2FsbC5cbiAgICovXG4gIGdldCByZW1vdGVQYXJ0aWNpcGFudHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFZhbHVlKHRoaXMucmVtb3RlUGFydGljaXBhbnRzJCk7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGRvbWluYW50IHNwZWFrZXIgaW4gdGhlIGN1cnJlbnQgY2FsbC5cbiAgICovXG4gIGdldCBkb21pbmFudFNwZWFrZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFZhbHVlKHRoaXMuZG9taW5hbnRTcGVha2VyJCk7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGxpc3Qgb2YgcGlubmVkIHBhcnRpY2lwYW50cyBpbiB0aGUgY3VycmVudCBjYWxsLlxuICAgKi9cbiAgZ2V0IHBpbm5lZFBhcnRpY2lwYW50cygpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50VmFsdWUodGhpcy5waW5uZWRQYXJ0aWNpcGFudHMkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUZWxsIGlmIHRoZXJlIGlzIGFuIG9uZ29pbmcgc2NyZWVuIHNoYXJlIGluIHRoaXMgY2FsbC5cbiAgICovXG4gIGdldCBoYXNPbmdvaW5nU2NyZWVuU2hhcmUoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFZhbHVlKHRoaXMuaGFzT25nb2luZ1NjcmVlblNoYXJlJCk7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGNhbGxpbmcgc3RhdGUuXG4gICAqL1xuICBnZXQgY2FsbGluZ1N0YXRlKCkge1xuICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRWYWx1ZSh0aGlzLmNhbGxpbmdTdGF0ZSQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGNhbGxpbmcgc3RhdGUuXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKiBAcGFyYW0gc3RhdGUgdGhlIG5ldyBjYWxsaW5nIHN0YXRlLlxuICAgKi9cbiAgc2V0Q2FsbGluZ1N0YXRlID0gKHN0YXRlOiBQYXRjaDxDYWxsaW5nU3RhdGU+KSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMuY2FsbGluZ1N0YXRlU3ViamVjdCwgc3RhdGUpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBUaGUgY2FsbCBzdGF0cyByZXBvcnQuXG4gICAqL1xuICBnZXQgY2FsbFN0YXRzUmVwb3J0KCkge1xuICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRWYWx1ZSh0aGlzLmNhbGxTdGF0c1JlcG9ydCQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGNhbGwgc3RhdHMgcmVwb3J0LlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICogQHBhcmFtIHJlcG9ydCB0aGUgcmVwb3J0IHRvIHNldC5cbiAgICovXG4gIHNldENhbGxTdGF0c1JlcG9ydCA9IChyZXBvcnQ6IFBhdGNoPENhbGxTdGF0c1JlcG9ydCB8IHVuZGVmaW5lZD4pID0+IHtcbiAgICByZXR1cm4gdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5jYWxsU3RhdHNSZXBvcnRTdWJqZWN0LCByZXBvcnQpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBUaGUgbWVtYmVycyBvZiB0aGUgY3VycmVudCBjYWxsLlxuICAgKi9cbiAgZ2V0IG1lbWJlcnMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFZhbHVlKHRoaXMubWVtYmVycyQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIG1lbWJlcnMgb2YgdGhlIGN1cnJlbnQgY2FsbC5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqIEBwYXJhbSBtZW1iZXJzIHRoZSBtZW1iZXJzIHRvIHNldC5cbiAgICovXG4gIHNldE1lbWJlcnMgPSAobWVtYmVyczogUGF0Y2g8TWVtYmVyUmVzcG9uc2VbXT4pID0+IHtcbiAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLm1lbWJlcnNTdWJqZWN0LCBtZW1iZXJzKTtcbiAgfTtcblxuICAvKipcbiAgICogVGhlIGNhcGFiaWxpdGllcyBvZiB0aGUgY3VycmVudCB1c2VyIGZvciB0aGUgY3VycmVudCBjYWxsLlxuICAgKi9cbiAgZ2V0IG93bkNhcGFiaWxpdGllcygpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50VmFsdWUodGhpcy5vd25DYXBhYmlsaXRpZXMkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBvd24gY2FwYWJpbGl0aWVzLlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICogQHBhcmFtIGNhcGFiaWxpdGllcyB0aGUgY2FwYWJpbGl0aWVzIHRvIHNldC5cbiAgICovXG4gIHNldE93bkNhcGFiaWxpdGllcyA9IChjYXBhYmlsaXRpZXM6IFBhdGNoPE93bkNhcGFiaWxpdHlbXT4pID0+IHtcbiAgICByZXR1cm4gdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5vd25DYXBhYmlsaXRpZXNTdWJqZWN0LCBjYXBhYmlsaXRpZXMpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBUaGUgYmFja3N0YWdlIHN0YXRlLlxuICAgKi9cbiAgZ2V0IGJhY2tzdGFnZSgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50VmFsdWUodGhpcy5iYWNrc3RhZ2UkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXaWxsIHByb3ZpZGUgdGhlIGxpc3Qgb2YgYmxvY2tlZCB1c2VyIElEcy5cbiAgICovXG4gIGdldCBibG9ja2VkVXNlcklkcygpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50VmFsdWUodGhpcy5ibG9ja2VkVXNlcklkcyQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFdpbGwgcHJvdmlkZSB0aGUgdGltZSB3aGVuIHRoaXMgY2FsbCBoYXMgYmVlbiBjcmVhdGVkLlxuICAgKi9cbiAgZ2V0IGNyZWF0ZWRBdCgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50VmFsdWUodGhpcy5jcmVhdGVkQXQkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXaWxsIHByb3ZpZGUgdGhlIHRpbWUgd2hlbiB0aGlzIGNhbGwgaGFzIGJlZW4gZW5kZWQuXG4gICAqL1xuICBnZXQgZW5kZWRBdCgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50VmFsdWUodGhpcy5lbmRlZEF0JCk7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgdGltZSB3aGVuIHRoaXMgY2FsbCBoYXMgYmVlbiBlbmRlZC5cbiAgICogQHBhcmFtIGVuZGVkQXQgdGhlIHRpbWUgd2hlbiB0aGlzIGNhbGwgaGFzIGJlZW4gZW5kZWQuXG4gICAqL1xuICBzZXRFbmRlZEF0ID0gKGVuZGVkQXQ6IFBhdGNoPERhdGUgfCB1bmRlZmluZWQ+KSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMuZW5kZWRBdFN1YmplY3QsIGVuZGVkQXQpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBXaWxsIHByb3ZpZGUgdGhlIHRpbWUgd2hlbiB0aGlzIGNhbGwgaGFzIGJlZW4gc2NoZWR1bGVkIHRvIHN0YXJ0LlxuICAgKi9cbiAgZ2V0IHN0YXJ0c0F0KCkge1xuICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRWYWx1ZSh0aGlzLnN0YXJ0c0F0JCk7XG4gIH1cblxuICAvKipcbiAgICogV2lsbCBwcm92aWRlIHRoZSB0aW1lIHdoZW4gdGhpcyBjYWxsIGhhcyBiZWVuIHVwZGF0ZWQuXG4gICAqL1xuICBnZXQgdXBkYXRlZEF0KCkge1xuICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRWYWx1ZSh0aGlzLnVwZGF0ZWRBdCQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFdpbGwgcHJvdmlkZSB0aGUgdXNlciB3aG8gY3JlYXRlZCB0aGlzIGNhbGwuXG4gICAqL1xuICBnZXQgY3JlYXRlZEJ5KCkge1xuICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRWYWx1ZSh0aGlzLmNyZWF0ZWRCeSQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFdpbGwgcHJvdmlkZSB0aGUgY3VzdG9tIGRhdGEgb2YgdGhpcyBjYWxsLlxuICAgKi9cbiAgZ2V0IGN1c3RvbSgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50VmFsdWUodGhpcy5jdXN0b20kKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXaWxsIHByb3ZpZGUgdGhlIGVncmVzcyBkYXRhIG9mIHRoaXMgY2FsbC5cbiAgICovXG4gIGdldCBlZ3Jlc3MoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFZhbHVlKHRoaXMuZWdyZXNzJCk7XG4gIH1cblxuICAvKipcbiAgICogV2lsbCBwcm92aWRlIHRoZSBpbmdyZXNzIGRhdGEgb2YgdGhpcyBjYWxsLlxuICAgKi9cbiAgZ2V0IGluZ3Jlc3MoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFZhbHVlKHRoaXMuaW5ncmVzcyQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFdpbGwgcHJvdmlkZSB0aGUgcmVjb3JkaW5nIHN0YXRlIG9mIHRoaXMgY2FsbC5cbiAgICovXG4gIGdldCByZWNvcmRpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFZhbHVlKHRoaXMucmVjb3JkaW5nJCk7XG4gIH1cblxuICAvKipcbiAgICogV2lsbCBwcm92aWRlIHRoZSBzZXNzaW9uIGRhdGEgb2YgdGhpcyBjYWxsLlxuICAgKi9cbiAgZ2V0IHNlc3Npb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFZhbHVlKHRoaXMuc2Vzc2lvbiQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFdpbGwgcHJvdmlkZSB0aGUgc2V0dGluZ3Mgb2YgdGhpcyBjYWxsLlxuICAgKi9cbiAgZ2V0IHNldHRpbmdzKCkge1xuICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRWYWx1ZSh0aGlzLnNldHRpbmdzJCk7XG4gIH1cblxuICAvKipcbiAgICogV2lsbCBwcm92aWRlIHRoZSB0cmFuc2NyaWJpbmcgc3RhdGUgb2YgdGhpcyBjYWxsLlxuICAgKi9cbiAgZ2V0IHRyYW5zY3JpYmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50VmFsdWUodGhpcy50cmFuc2NyaWJpbmckKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXaWxsIHByb3ZpZGUgdGhlIHVzZXIgd2hvIGVuZGVkIHRoaXMgY2FsbC5cbiAgICovXG4gIGdldCBlbmRlZEJ5KCkge1xuICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRWYWx1ZSh0aGlzLmVuZGVkQnkkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXaWxsIHByb3ZpZGUgdGhlIHRodW1ibmFpbHMgb2YgdGhpcyBjYWxsLCBpZiBlbmFibGVkIGluIHRoZSBjYWxsIHNldHRpbmdzLlxuICAgKi9cbiAgZ2V0IHRodW1ibmFpbHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFZhbHVlKHRoaXMudGh1bWJuYWlscyQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFdpbGwgdHJ5IHRvIGZpbmQgdGhlIHBhcnRpY2lwYW50IHdpdGggdGhlIGdpdmVuIHNlc3Npb25JZCBpbiB0aGUgY3VycmVudCBjYWxsLlxuICAgKlxuICAgKiBAcGFyYW0gc2Vzc2lvbklkIHRoZSBzZXNzaW9uSWQgb2YgdGhlIHBhcnRpY2lwYW50IHRvIGZpbmQuXG4gICAqIEByZXR1cm5zIHRoZSBwYXJ0aWNpcGFudCB3aXRoIHRoZSBnaXZlbiBzZXNzaW9uSWQgb3IgdW5kZWZpbmVkIGlmIG5vdCBmb3VuZC5cbiAgICovXG4gIGZpbmRQYXJ0aWNpcGFudEJ5U2Vzc2lvbklkID0gKFxuICAgIHNlc3Npb25JZDogc3RyaW5nLFxuICApOiBTdHJlYW1WaWRlb1BhcnRpY2lwYW50IHwgdW5kZWZpbmVkID0+IHtcbiAgICByZXR1cm4gdGhpcy5wYXJ0aWNpcGFudHMuZmluZCgocCkgPT4gcC5zZXNzaW9uSWQgPT09IHNlc3Npb25JZCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBuZXcgbG9va3VwIHRhYmxlIG9mIHBhcnRpY2lwYW50cyBpbmRleGVkIGJ5IHRoZWlyIHNlc3Npb24gSUQuXG4gICAqL1xuICBnZXRQYXJ0aWNpcGFudExvb2t1cEJ5U2Vzc2lvbklkID0gKCkgPT4ge1xuICAgIHJldHVybiB0aGlzLnBhcnRpY2lwYW50cy5yZWR1Y2U8e1xuICAgICAgW3Nlc3Npb25JZDogc3RyaW5nXTogU3RyZWFtVmlkZW9QYXJ0aWNpcGFudCB8IHVuZGVmaW5lZDtcbiAgICB9PigobG9va3VwVGFibGUsIHBhcnRpY2lwYW50KSA9PiB7XG4gICAgICBsb29rdXBUYWJsZVtwYXJ0aWNpcGFudC5zZXNzaW9uSWRdID0gcGFydGljaXBhbnQ7XG4gICAgICByZXR1cm4gbG9va3VwVGFibGU7XG4gICAgfSwge30pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBVcGRhdGVzIGEgcGFydGljaXBhbnQgaW4gdGhlIGN1cnJlbnQgY2FsbCBpZGVudGlmaWVkIGJ5IHRoZSBnaXZlbiBgc2Vzc2lvbklkYC5cbiAgICogSWYgdGhlIHBhcnRpY2lwYW50IGNhbid0IGJlIGZvdW5kLCB0aGlzIG9wZXJhdGlvbiBpcyBuby1vcC5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqXG4gICAqIEBwYXJhbSBzZXNzaW9uSWQgdGhlIHNlc3Npb24gSUQgb2YgdGhlIHBhcnRpY2lwYW50IHRvIHVwZGF0ZS5cbiAgICogQHBhcmFtIHBhdGNoIHRoZSBwYXRjaCB0byBhcHBseSB0byB0aGUgcGFydGljaXBhbnQuXG4gICAqIEByZXR1cm5zIHRoZSB1cGRhdGVkIHBhcnRpY2lwYW50IG9yIGB1bmRlZmluZWRgIGlmIHRoZSBwYXJ0aWNpcGFudCBjb3VsZG4ndCBiZSBmb3VuZC5cbiAgICovXG4gIHVwZGF0ZVBhcnRpY2lwYW50ID0gKFxuICAgIHNlc3Npb25JZDogc3RyaW5nLFxuICAgIHBhdGNoOlxuICAgICAgfCBTdHJlYW1WaWRlb1BhcnRpY2lwYW50UGF0Y2hcbiAgICAgIHwgKChwOiBTdHJlYW1WaWRlb1BhcnRpY2lwYW50KSA9PiBTdHJlYW1WaWRlb1BhcnRpY2lwYW50UGF0Y2gpLFxuICApID0+IHtcbiAgICBjb25zdCBwYXJ0aWNpcGFudCA9IHRoaXMuZmluZFBhcnRpY2lwYW50QnlTZXNzaW9uSWQoc2Vzc2lvbklkKTtcbiAgICBpZiAoIXBhcnRpY2lwYW50KSB7XG4gICAgICB0aGlzLmxvZ2dlcignd2FybicsIGBQYXJ0aWNpcGFudCB3aXRoIHNlc3Npb25JZCAke3Nlc3Npb25JZH0gbm90IGZvdW5kYCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgdGhlUGF0Y2ggPSB0eXBlb2YgcGF0Y2ggPT09ICdmdW5jdGlvbicgPyBwYXRjaChwYXJ0aWNpcGFudCkgOiBwYXRjaDtcbiAgICBjb25zdCB1cGRhdGVkUGFydGljaXBhbnQ6IFN0cmVhbVZpZGVvUGFydGljaXBhbnQgPSB7XG4gICAgICAvLyBGSVhNRSBPTDogdGhpcyBpcyBub3QgYSBkZWVwIG1lcmdlLCB3ZSBtaWdodCB3YW50IHRvIHJldmlzaXQgdGhpc1xuICAgICAgLi4ucGFydGljaXBhbnQsXG4gICAgICAuLi50aGVQYXRjaCxcbiAgICB9O1xuICAgIHJldHVybiB0aGlzLnNldFBhcnRpY2lwYW50cygocGFydGljaXBhbnRzKSA9PlxuICAgICAgcGFydGljaXBhbnRzLm1hcCgocCkgPT5cbiAgICAgICAgcC5zZXNzaW9uSWQgPT09IHNlc3Npb25JZCA/IHVwZGF0ZWRQYXJ0aWNpcGFudCA6IHAsXG4gICAgICApLFxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgYSBwYXJ0aWNpcGFudCBpbiB0aGUgY3VycmVudCBjYWxsIGlkZW50aWZpZWQgYnkgdGhlIGdpdmVuIGBzZXNzaW9uSWRgLlxuICAgKiBJZiBhIHBhcnRpY2lwYW50IHdpdGggbWF0Y2hpbmcgYHNlc3Npb25JZGAgY2FuJ3QgYmUgZm91bmQsIHRoZSBwcm92aWRlZFxuICAgKiBgcGFydGljaXBhbnRgIGlzIGFkZGVkIHRvIHRoZSBsaXN0IG9mIHBhcnRpY2lwYW50cy5cbiAgICpcbiAgICogQHBhcmFtIHNlc3Npb25JZCB0aGUgc2Vzc2lvbiBJRCBvZiB0aGUgcGFydGljaXBhbnQgdG8gdXBkYXRlLlxuICAgKiBAcGFyYW0gcGFydGljaXBhbnQgdGhlIHBhcnRpY2lwYW50IHRvIHVwZGF0ZSBvciBhZGQuXG4gICAqL1xuICB1cGRhdGVPckFkZFBhcnRpY2lwYW50ID0gKFxuICAgIHNlc3Npb25JZDogc3RyaW5nLFxuICAgIHBhcnRpY2lwYW50OiBTdHJlYW1WaWRlb1BhcnRpY2lwYW50LFxuICApID0+IHtcbiAgICByZXR1cm4gdGhpcy5zZXRQYXJ0aWNpcGFudHMoKHBhcnRpY2lwYW50cykgPT4ge1xuICAgICAgbGV0IGFkZCA9IHRydWU7XG4gICAgICBjb25zdCBuZXh0UGFydGljaXBhbnRzID0gcGFydGljaXBhbnRzLm1hcCgocCkgPT4ge1xuICAgICAgICBpZiAocC5zZXNzaW9uSWQgPT09IHNlc3Npb25JZCkge1xuICAgICAgICAgIGFkZCA9IGZhbHNlO1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5wLFxuICAgICAgICAgICAgLi4ucGFydGljaXBhbnQsXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcDtcbiAgICAgIH0pO1xuICAgICAgaWYgKGFkZCkgbmV4dFBhcnRpY2lwYW50cy5wdXNoKHBhcnRpY2lwYW50KTtcbiAgICAgIHJldHVybiBuZXh0UGFydGljaXBhbnRzO1xuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBVcGRhdGVzIGFsbCBwYXJ0aWNpcGFudHMgaW4gdGhlIGN1cnJlbnQgY2FsbCB3aG9zZSBzZXNzaW9uIElEIGlzIGluIHRoZSBnaXZlbiBgc2Vzc2lvbklkc2AuXG4gICAqIElmIG5vIHBhdGNoZXMgYXJlIHByb3ZpZGVkLCB0aGlzIG9wZXJhdGlvbiBpcyBuby1vcC5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqXG4gICAqIEBwYXJhbSBwYXRjaCB0aGUgcGF0Y2ggdG8gYXBwbHkgdG8gdGhlIHBhcnRpY2lwYW50cy5cbiAgICogQHJldHVybnMgYWxsIHBhcnRpY2lwYW50cywgd2l0aCBhbGwgcGF0Y2ggYXBwbGllZC5cbiAgICovXG4gIHVwZGF0ZVBhcnRpY2lwYW50cyA9IChwYXRjaDogU3RyZWFtVmlkZW9QYXJ0aWNpcGFudFBhdGNoZXMpID0+IHtcbiAgICBpZiAoT2JqZWN0LmtleXMocGF0Y2gpLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHRoaXMucGFydGljaXBhbnRzO1xuICAgIHJldHVybiB0aGlzLnNldFBhcnRpY2lwYW50cygocGFydGljaXBhbnRzKSA9PlxuICAgICAgcGFydGljaXBhbnRzLm1hcCgocCkgPT4ge1xuICAgICAgICBjb25zdCB0aGVQYXRjaCA9IHBhdGNoW3Auc2Vzc2lvbklkXTtcbiAgICAgICAgaWYgKHRoZVBhdGNoKSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLnAsXG4gICAgICAgICAgICAuLi50aGVQYXRjaCxcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwO1xuICAgICAgfSksXG4gICAgKTtcbiAgfTtcblxuICAvKipcbiAgICogVXBkYXRlIHRyYWNrIHN1YnNjcmlwdGlvbiBjb25maWd1cmF0aW9uIGZvciBvbmUgb3IgbW9yZSBwYXJ0aWNpcGFudHMuXG4gICAqIFlvdSBoYXZlIHRvIGNyZWF0ZSBhIHN1YnNjcmlwdGlvbiBmb3IgZWFjaCBwYXJ0aWNpcGFudCBmb3IgYWxsIHRoZSBkaWZmZXJlbnQga2luZHMgb2YgdHJhY2tzIHlvdSB3YW50IHRvIHJlY2VpdmUuXG4gICAqIFlvdSBjYW4gb25seSBzdWJzY3JpYmUgZm9yIHRyYWNrcyBhZnRlciB0aGUgcGFydGljaXBhbnQgc3RhcnRlZCBwdWJsaXNoaW5nIHRoZSBnaXZlbiBraW5kIG9mIHRyYWNrLlxuICAgKlxuICAgKiBAcGFyYW0gdHJhY2tUeXBlIHRoZSBraW5kIG9mIHN1YnNjcmlwdGlvbiB0byB1cGRhdGUuXG4gICAqIEBwYXJhbSBjaGFuZ2VzIHRoZSBsaXN0IG9mIHN1YnNjcmlwdGlvbiBjaGFuZ2VzIHRvIGRvLlxuICAgKiBAcGFyYW0gdHlwZSB0aGUgZGVib3VuY2UgdHlwZSB0byB1c2UgZm9yIHRoZSB1cGRhdGUuXG4gICAqL1xuICB1cGRhdGVQYXJ0aWNpcGFudFRyYWNrcyA9IChcbiAgICB0cmFja1R5cGU6IFZpZGVvVHJhY2tUeXBlLFxuICAgIGNoYW5nZXM6IFN1YnNjcmlwdGlvbkNoYW5nZXMsXG4gICkgPT4ge1xuICAgIHJldHVybiB0aGlzLnVwZGF0ZVBhcnRpY2lwYW50cyhcbiAgICAgIE9iamVjdC5lbnRyaWVzKGNoYW5nZXMpLnJlZHVjZTxTdHJlYW1WaWRlb1BhcnRpY2lwYW50UGF0Y2hlcz4oXG4gICAgICAgIChhY2MsIFtzZXNzaW9uSWQsIGNoYW5nZV0pID0+IHtcbiAgICAgICAgICBpZiAoY2hhbmdlLmRpbWVuc2lvbikge1xuICAgICAgICAgICAgY2hhbmdlLmRpbWVuc2lvbi5oZWlnaHQgPSBNYXRoLmNlaWwoY2hhbmdlLmRpbWVuc2lvbi5oZWlnaHQpO1xuICAgICAgICAgICAgY2hhbmdlLmRpbWVuc2lvbi53aWR0aCA9IE1hdGguY2VpbChjaGFuZ2UuZGltZW5zaW9uLndpZHRoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgcHJvcDoga2V5b2YgU3RyZWFtVmlkZW9QYXJ0aWNpcGFudCB8IHVuZGVmaW5lZCA9XG4gICAgICAgICAgICB0cmFja1R5cGUgPT09ICd2aWRlb1RyYWNrJ1xuICAgICAgICAgICAgICA/ICd2aWRlb0RpbWVuc2lvbidcbiAgICAgICAgICAgICAgOiB0cmFja1R5cGUgPT09ICdzY3JlZW5TaGFyZVRyYWNrJ1xuICAgICAgICAgICAgICAgID8gJ3NjcmVlblNoYXJlRGltZW5zaW9uJ1xuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICAgIGlmIChwcm9wKSB7XG4gICAgICAgICAgICBhY2Nbc2Vzc2lvbklkXSA9IHtcbiAgICAgICAgICAgICAgW3Byb3BdOiBjaGFuZ2UuZGltZW5zaW9uLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgfSxcbiAgICAgICAge30sXG4gICAgICApLFxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIGNhbGwgc3RhdGUgd2l0aCB0aGUgZGF0YSByZWNlaXZlZCBmcm9tIHRoZSBzZXJ2ZXIuXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKlxuICAgKiBAcGFyYW0gZXZlbnQgdGhlIHZpZGVvIGV2ZW50IHRoYXQgb3VyIGJhY2tlbmQgc2VudCB1cy5cbiAgICovXG4gIHVwZGF0ZUZyb21FdmVudCA9IChldmVudDogV1NFdmVudCkgPT4ge1xuICAgIGNvbnN0IHVwZGF0ZSA9IHRoaXMuZXZlbnRIYW5kbGVyc1tldmVudC50eXBlXTtcbiAgICBpZiAodXBkYXRlKSB7XG4gICAgICB1cGRhdGUoZXZlbnQgYXMgYW55KTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIHBhcnRpY2lwYW50IHBpbm5lZCBzdGF0ZSB3aXRoIHNlcnZlciBzaWRlIHBpbm5pbmcgZGF0YS5cbiAgICpcbiAgICogQHBhcmFtIHBpbnMgdGhlIGxhdGVzdCBwaW5zIGZyb20gdGhlIHNlcnZlci5cbiAgICovXG4gIHNldFNlcnZlclNpZGVQaW5zID0gKHBpbnM6IFBpbltdKSA9PiB7XG4gICAgY29uc3QgcGluc0xvb2t1cCA9IHBpbnMucmVkdWNlPHsgW3Nlc3Npb25JZDogc3RyaW5nXTogbnVtYmVyIHwgdW5kZWZpbmVkIH0+KFxuICAgICAgKGxvb2t1cCwgcGluKSA9PiB7XG4gICAgICAgIGxvb2t1cFtwaW4uc2Vzc2lvbklkXSA9IERhdGUubm93KCk7XG4gICAgICAgIHJldHVybiBsb29rdXA7XG4gICAgICB9LFxuICAgICAge30sXG4gICAgKTtcblxuICAgIHJldHVybiB0aGlzLnNldFBhcnRpY2lwYW50cygocGFydGljaXBhbnRzKSA9PlxuICAgICAgcGFydGljaXBhbnRzLm1hcCgocGFydGljaXBhbnQpID0+IHtcbiAgICAgICAgY29uc3Qgc2VydmVyU2lkZVBpbm5lZEF0ID0gcGluc0xvb2t1cFtwYXJ0aWNpcGFudC5zZXNzaW9uSWRdO1xuICAgICAgICAvLyB0aGUgcGFydGljaXBhbnQgaXMgbmV3bHkgcGlubmVkXG4gICAgICAgIGlmIChzZXJ2ZXJTaWRlUGlubmVkQXQpIHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4ucGFydGljaXBhbnQsXG4gICAgICAgICAgICBwaW46IHtcbiAgICAgICAgICAgICAgaXNMb2NhbFBpbjogZmFsc2UsXG4gICAgICAgICAgICAgIHBpbm5lZEF0OiBzZXJ2ZXJTaWRlUGlubmVkQXQsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgLy8gdGhlIHBhcnRpY2lwYW50IGlzIG5vIGxvbmdlciBwaW5uZWQgc2VydmVyIHNpZGVcbiAgICAgICAgLy8gd2UgbmVlZCB0byByZXNldCB0aGUgcGluXG4gICAgICAgIGlmIChwYXJ0aWNpcGFudC5waW4gJiYgIXBhcnRpY2lwYW50LnBpbi5pc0xvY2FsUGluKSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLnBhcnRpY2lwYW50LFxuICAgICAgICAgICAgcGluOiB1bmRlZmluZWQsXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICAvLyBubyBjaGFuZ2VzIHRvIGJlIGFwcGxpZWRcbiAgICAgICAgcmV0dXJuIHBhcnRpY2lwYW50O1xuICAgICAgfSksXG4gICAgKTtcbiAgfTtcblxuICAvKipcbiAgICogQWRkcyBhbiBvcnBoYW5lZCB0cmFjayB0byB0aGUgY2FsbCBzdGF0ZS5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqXG4gICAqIEBwYXJhbSBvcnBoYW5lZFRyYWNrIHRoZSBvcnBoYW5lZCB0cmFjayB0byBhZGQuXG4gICAqL1xuICByZWdpc3Rlck9ycGhhbmVkVHJhY2sgPSAob3JwaGFuZWRUcmFjazogT3JwaGFuZWRUcmFjaykgPT4ge1xuICAgIHRoaXMub3JwaGFuZWRUcmFja3MucHVzaChvcnBoYW5lZFRyYWNrKTtcbiAgfTtcblxuICAvKipcbiAgICogUmVtb3ZlcyBhbiBvcnBoYW5lZCB0cmFjayBmcm9tIHRoZSBjYWxsIHN0YXRlLlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICpcbiAgICogQHBhcmFtIGlkIHRoZSBJRCBvZiB0aGUgb3JwaGFuZWQgdHJhY2sgdG8gcmVtb3ZlLlxuICAgKi9cbiAgcmVtb3ZlT3JwaGFuZWRUcmFjayA9IChpZDogc3RyaW5nKSA9PiB7XG4gICAgdGhpcy5vcnBoYW5lZFRyYWNrcyA9IHRoaXMub3JwaGFuZWRUcmFja3MuZmlsdGVyKChvKSA9PiBvLmlkICE9PSBpZCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFRha2VzIGFsbCBvcnBoYW5lZCB0cmFja3Mgd2l0aCB0aGUgZ2l2ZW4gdHJhY2sgbG9va3VwIHByZWZpeC5cbiAgICogQWxsIG9ycGhhbmVkIHRyYWNrcyB3aXRoIHRoZSBnaXZlbiB0cmFjayBsb29rdXAgcHJlZml4IGFyZSByZW1vdmVkIGZyb20gdGhlIGNhbGwgc3RhdGUuXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKlxuICAgKiBAcGFyYW0gdHJhY2tMb29rdXBQcmVmaXggdGhlIHRyYWNrIGxvb2t1cCBwcmVmaXggdG8gbWF0Y2ggdGhlIG9ycGhhbmVkIHRyYWNrcyBieS5cbiAgICovXG4gIHRha2VPcnBoYW5lZFRyYWNrcyA9ICh0cmFja0xvb2t1cFByZWZpeDogc3RyaW5nKTogT3JwaGFuZWRUcmFja1tdID0+IHtcbiAgICBjb25zdCBvcnBoYW5zID0gdGhpcy5vcnBoYW5lZFRyYWNrcy5maWx0ZXIoXG4gICAgICAob3JwaGFuKSA9PiBvcnBoYW4udHJhY2tMb29rdXBQcmVmaXggPT09IHRyYWNrTG9va3VwUHJlZml4LFxuICAgICk7XG4gICAgaWYgKG9ycGhhbnMubGVuZ3RoID4gMCkge1xuICAgICAgdGhpcy5vcnBoYW5lZFRyYWNrcyA9IHRoaXMub3JwaGFuZWRUcmFja3MuZmlsdGVyKFxuICAgICAgICAob3JwaGFuKSA9PiBvcnBoYW4udHJhY2tMb29rdXBQcmVmaXggIT09IHRyYWNrTG9va3VwUHJlZml4LFxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIG9ycGhhbnM7XG4gIH07XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIGNhbGwgc3RhdGUgd2l0aCB0aGUgZGF0YSByZWNlaXZlZCBmcm9tIHRoZSBzZXJ2ZXIuXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKlxuICAgKiBAcGFyYW0gY2FsbCB0aGUgY2FsbCByZXNwb25zZSBmcm9tIHRoZSBzZXJ2ZXIuXG4gICAqL1xuICB1cGRhdGVGcm9tQ2FsbFJlc3BvbnNlID0gKGNhbGw6IENhbGxSZXNwb25zZSkgPT4ge1xuICAgIHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMuYmFja3N0YWdlU3ViamVjdCwgY2FsbC5iYWNrc3RhZ2UpO1xuICAgIHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMuYmxvY2tlZFVzZXJJZHNTdWJqZWN0LCBjYWxsLmJsb2NrZWRfdXNlcl9pZHMpO1xuICAgIHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMuY3JlYXRlZEF0U3ViamVjdCwgbmV3IERhdGUoY2FsbC5jcmVhdGVkX2F0KSk7XG4gICAgdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy51cGRhdGVkQXRTdWJqZWN0LCBuZXcgRGF0ZShjYWxsLnVwZGF0ZWRfYXQpKTtcbiAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZShcbiAgICAgIHRoaXMuc3RhcnRzQXRTdWJqZWN0LFxuICAgICAgY2FsbC5zdGFydHNfYXQgPyBuZXcgRGF0ZShjYWxsLnN0YXJ0c19hdCkgOiB1bmRlZmluZWQsXG4gICAgKTtcbiAgICB0aGlzLnNldEVuZGVkQXQoY2FsbC5lbmRlZF9hdCA/IG5ldyBEYXRlKGNhbGwuZW5kZWRfYXQpIDogdW5kZWZpbmVkKTtcbiAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLmNyZWF0ZWRCeVN1YmplY3QsIGNhbGwuY3JlYXRlZF9ieSk7XG4gICAgdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5jdXN0b21TdWJqZWN0LCBjYWxsLmN1c3RvbSk7XG4gICAgdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5lZ3Jlc3NTdWJqZWN0LCBjYWxsLmVncmVzcyk7XG4gICAgdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5pbmdyZXNzU3ViamVjdCwgY2FsbC5pbmdyZXNzKTtcbiAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLnJlY29yZGluZ1N1YmplY3QsIGNhbGwucmVjb3JkaW5nKTtcbiAgICBjb25zdCBzID0gdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5zZXNzaW9uU3ViamVjdCwgY2FsbC5zZXNzaW9uKTtcbiAgICB0aGlzLnVwZGF0ZVBhcnRpY2lwYW50Q291bnRGcm9tU2Vzc2lvbihzKTtcbiAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLnNldHRpbmdzU3ViamVjdCwgY2FsbC5zZXR0aW5ncyk7XG4gICAgdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy50cmFuc2NyaWJpbmdTdWJqZWN0LCBjYWxsLnRyYW5zY3JpYmluZyk7XG4gICAgdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy50aHVtYm5haWxzU3ViamVjdCwgY2FsbC50aHVtYm5haWxzKTtcbiAgfTtcblxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgY2FsbCBzdGF0ZSB3aXRoIHRoZSBkYXRhIHJlY2VpdmVkIGZyb20gdGhlIFNGVSBzZXJ2ZXIuXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKlxuICAgKiBAcGFyYW0gY2FsbFN0YXRlIHRoZSBjYWxsIHN0YXRlIGZyb20gdGhlIFNGVSBzZXJ2ZXIuXG4gICAqIEBwYXJhbSBjdXJyZW50U2Vzc2lvbklkIHRoZSBzZXNzaW9uIElEIG9mIHRoZSBjdXJyZW50IHVzZXIuXG4gICAqIEBwYXJhbSByZWNvbm5lY3REZXRhaWxzIG9wdGlvbmFsIHJlY29ubmVjdCBkZXRhaWxzLlxuICAgKi9cbiAgdXBkYXRlRnJvbVNmdUNhbGxTdGF0ZSA9IChcbiAgICBjYWxsU3RhdGU6IFNmdUNhbGxTdGF0ZSxcbiAgICBjdXJyZW50U2Vzc2lvbklkOiBzdHJpbmcsXG4gICAgcmVjb25uZWN0RGV0YWlscz86IFJlY29ubmVjdERldGFpbHMsXG4gICkgPT4ge1xuICAgIGNvbnN0IHsgcGFydGljaXBhbnRzLCBwYXJ0aWNpcGFudENvdW50LCBzdGFydGVkQXQsIHBpbnMgfSA9IGNhbGxTdGF0ZTtcbiAgICBjb25zdCBsb2NhbFB1Ymxpc2hlZFRyYWNrcyA9XG4gICAgICByZWNvbm5lY3REZXRhaWxzPy5hbm5vdW5jZWRUcmFja3MubWFwKCh0KSA9PiB0LnRyYWNrVHlwZSkgPz8gW107XG4gICAgdGhpcy5zZXRQYXJ0aWNpcGFudHMoKCkgPT4ge1xuICAgICAgY29uc3QgcGFydGljaXBhbnRMb29rdXAgPSB0aGlzLmdldFBhcnRpY2lwYW50TG9va3VwQnlTZXNzaW9uSWQoKTtcbiAgICAgIHJldHVybiBwYXJ0aWNpcGFudHMubWFwPFN0cmVhbVZpZGVvUGFydGljaXBhbnQ+KChwKSA9PiB7XG4gICAgICAgIC8vIFdlIG5lZWQgdG8gcHJlc2VydmUgdGhlIGxvY2FsIHN0YXRlIG9mIHRoZSBwYXJ0aWNpcGFudFxuICAgICAgICAvLyAoZS5nLiB2aWRlb0RpbWVuc2lvbiwgdmlzaWJpbGl0eVN0YXRlLCBwaW5uZWRBdCwgZXRjLilcbiAgICAgICAgLy8gYXMgaXQgZG9lc24ndCBleGlzdCBvbiB0aGUgc2VydmVyLlxuICAgICAgICBjb25zdCBleGlzdGluZ1BhcnRpY2lwYW50ID0gcGFydGljaXBhbnRMb29rdXBbcC5zZXNzaW9uSWRdO1xuICAgICAgICBjb25zdCBpc0xvY2FsUGFydGljaXBhbnQgPSBwLnNlc3Npb25JZCA9PT0gY3VycmVudFNlc3Npb25JZDtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGV4aXN0aW5nUGFydGljaXBhbnQsIHAsIHtcbiAgICAgICAgICBpc0xvY2FsUGFydGljaXBhbnQsXG4gICAgICAgICAgcHVibGlzaGVkVHJhY2tzOiBpc0xvY2FsUGFydGljaXBhbnRcbiAgICAgICAgICAgID8gbG9jYWxQdWJsaXNoZWRUcmFja3NcbiAgICAgICAgICAgIDogcC5wdWJsaXNoZWRUcmFja3MsXG4gICAgICAgICAgdmlld3BvcnRWaXNpYmlsaXR5U3RhdGU6XG4gICAgICAgICAgICBleGlzdGluZ1BhcnRpY2lwYW50Py52aWV3cG9ydFZpc2liaWxpdHlTdGF0ZSA/PyB7XG4gICAgICAgICAgICAgIHZpZGVvVHJhY2s6IFZpc2liaWxpdHlTdGF0ZS5VTktOT1dOLFxuICAgICAgICAgICAgICBzY3JlZW5TaGFyZVRyYWNrOiBWaXNpYmlsaXR5U3RhdGUuVU5LTk9XTixcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0gc2F0aXNmaWVzIFBhcnRpYWw8U3RyZWFtVmlkZW9QYXJ0aWNpcGFudD4pO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICB0aGlzLnNldFBhcnRpY2lwYW50Q291bnQocGFydGljaXBhbnRDb3VudD8udG90YWwgfHwgMCk7XG4gICAgdGhpcy5zZXRBbm9ueW1vdXNQYXJ0aWNpcGFudENvdW50KHBhcnRpY2lwYW50Q291bnQ/LmFub255bW91cyB8fCAwKTtcbiAgICB0aGlzLnNldFN0YXJ0ZWRBdChzdGFydGVkQXQgPyBUaW1lc3RhbXAudG9EYXRlKHN0YXJ0ZWRBdCkgOiBuZXcgRGF0ZSgpKTtcbiAgICB0aGlzLnNldFNlcnZlclNpZGVQaW5zKHBpbnMpO1xuICB9O1xuXG4gIHByaXZhdGUgdXBkYXRlRnJvbU1lbWJlclJlbW92ZWQgPSAoZXZlbnQ6IENhbGxNZW1iZXJSZW1vdmVkRXZlbnQpID0+IHtcbiAgICB0aGlzLnVwZGF0ZUZyb21DYWxsUmVzcG9uc2UoZXZlbnQuY2FsbCk7XG4gICAgdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5tZW1iZXJzU3ViamVjdCwgKG1lbWJlcnMpID0+XG4gICAgICBtZW1iZXJzLmZpbHRlcigobSkgPT4gZXZlbnQubWVtYmVycy5pbmRleE9mKG0udXNlcl9pZCkgPT09IC0xKSxcbiAgICApO1xuICB9O1xuXG4gIHByaXZhdGUgdXBkYXRlRnJvbU1lbWJlckFkZGVkID0gKGV2ZW50OiBDYWxsTWVtYmVyQWRkZWRFdmVudCkgPT4ge1xuICAgIHRoaXMudXBkYXRlRnJvbUNhbGxSZXNwb25zZShldmVudC5jYWxsKTtcbiAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLm1lbWJlcnNTdWJqZWN0LCAobWVtYmVycykgPT4gW1xuICAgICAgLi4ubWVtYmVycyxcbiAgICAgIC4uLmV2ZW50Lm1lbWJlcnMsXG4gICAgXSk7XG4gIH07XG5cbiAgcHJpdmF0ZSB1cGRhdGVGcm9tSExTQnJvYWRjYXN0U3RvcHBlZCA9ICgpID0+IHtcbiAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLmVncmVzc1N1YmplY3QsIChlZ3Jlc3MgPSBkZWZhdWx0RWdyZXNzKSA9PiAoe1xuICAgICAgLi4uZWdyZXNzLFxuICAgICAgYnJvYWRjYXN0aW5nOiBmYWxzZSxcbiAgICB9KSk7XG4gIH07XG5cbiAgcHJpdmF0ZSB1cGRhdGVGcm9tSExTQnJvYWRjYXN0aW5nRmFpbGVkID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMuZWdyZXNzU3ViamVjdCwgKGVncmVzcyA9IGRlZmF1bHRFZ3Jlc3MpID0+ICh7XG4gICAgICAuLi5lZ3Jlc3MsXG4gICAgICBicm9hZGNhc3Rpbmc6IGZhbHNlLFxuICAgIH0pKTtcbiAgfTtcblxuICBwcml2YXRlIHVwZGF0ZUZyb21ITFNCcm9hZGNhc3RTdGFydGVkID0gKFxuICAgIGV2ZW50OiBDYWxsSExTQnJvYWRjYXN0aW5nU3RhcnRlZEV2ZW50LFxuICApID0+IHtcbiAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLmVncmVzc1N1YmplY3QsIChlZ3Jlc3MgPSBkZWZhdWx0RWdyZXNzKSA9PiAoe1xuICAgICAgLi4uZWdyZXNzLFxuICAgICAgYnJvYWRjYXN0aW5nOiB0cnVlLFxuICAgICAgaGxzOiB7XG4gICAgICAgIC4uLmVncmVzcy5obHMsXG4gICAgICAgIHBsYXlsaXN0X3VybDogZXZlbnQuaGxzX3BsYXlsaXN0X3VybCxcbiAgICAgIH0sXG4gICAgfSkpO1xuICB9O1xuXG4gIHByaXZhdGUgdXBkYXRlUGFydGljaXBhbnRDb3VudEZyb21TZXNzaW9uID0gKFxuICAgIHNlc3Npb246IENhbGxTZXNzaW9uUmVzcG9uc2UgfCB1bmRlZmluZWQsXG4gICkgPT4ge1xuICAgIC8vIHdoZW4gaW4gSk9JTkVEIHN0YXRlLCB3ZSBzaG91bGQgdXNlIHRoZSBwYXJ0aWNpcGFudCBjb3VudCBjb21pbmcgdGhyb3VnaFxuICAgIC8vIHRoZSBTRlUgaGVhbHRoY2hlY2sgZXZlbnQsIGFzIGl0J3MgbW9yZSBhY2N1cmF0ZS5cbiAgICBpZiAoIXNlc3Npb24gfHwgdGhpcy5jYWxsaW5nU3RhdGUgPT09IENhbGxpbmdTdGF0ZS5KT0lORUQpIHJldHVybjtcbiAgICBjb25zdCBieVJvbGVDb3VudCA9IE9iamVjdC52YWx1ZXMoXG4gICAgICBzZXNzaW9uLnBhcnRpY2lwYW50c19jb3VudF9ieV9yb2xlLFxuICAgICkucmVkdWNlKCh0b3RhbCwgY291bnRCeVJvbGUpID0+IHRvdGFsICsgY291bnRCeVJvbGUsIDApO1xuICAgIGNvbnN0IHBhcnRpY2lwYW50Q291bnQgPSBNYXRoLm1heChieVJvbGVDb3VudCwgc2Vzc2lvbi5wYXJ0aWNpcGFudHMubGVuZ3RoKTtcbiAgICB0aGlzLnNldFBhcnRpY2lwYW50Q291bnQocGFydGljaXBhbnRDb3VudCk7XG4gICAgdGhpcy5zZXRBbm9ueW1vdXNQYXJ0aWNpcGFudENvdW50KHNlc3Npb24uYW5vbnltb3VzX3BhcnRpY2lwYW50X2NvdW50IHx8IDApO1xuICB9O1xuXG4gIHByaXZhdGUgdXBkYXRlRnJvbVNlc3Npb25QYXJ0aWNpcGFudENvdW50VXBkYXRlID0gKFxuICAgIGV2ZW50OiBDYWxsU2Vzc2lvblBhcnRpY2lwYW50Q291bnRzVXBkYXRlZEV2ZW50LFxuICApID0+IHtcbiAgICBjb25zdCBzID0gdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5zZXNzaW9uU3ViamVjdCwgKHNlc3Npb24pID0+IHtcbiAgICAgIGlmICghc2Vzc2lvbikgcmV0dXJuIHNlc3Npb247XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5zZXNzaW9uLFxuICAgICAgICBhbm9ueW1vdXNfcGFydGljaXBhbnRfY291bnQ6IGV2ZW50LmFub255bW91c19wYXJ0aWNpcGFudF9jb3VudCxcbiAgICAgICAgcGFydGljaXBhbnRzX2NvdW50X2J5X3JvbGU6IGV2ZW50LnBhcnRpY2lwYW50c19jb3VudF9ieV9yb2xlLFxuICAgICAgfTtcbiAgICB9KTtcbiAgICB0aGlzLnVwZGF0ZVBhcnRpY2lwYW50Q291bnRGcm9tU2Vzc2lvbihzKTtcbiAgfTtcblxuICBwcml2YXRlIHVwZGF0ZUZyb21TZXNzaW9uUGFydGljaXBhbnRMZWZ0ID0gKFxuICAgIGV2ZW50OiBDYWxsU2Vzc2lvblBhcnRpY2lwYW50TGVmdEV2ZW50LFxuICApID0+IHtcbiAgICBjb25zdCBzID0gdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5zZXNzaW9uU3ViamVjdCwgKHNlc3Npb24pID0+IHtcbiAgICAgIGlmICghc2Vzc2lvbikgcmV0dXJuIHNlc3Npb247XG4gICAgICBjb25zdCB7IHBhcnRpY2lwYW50cywgcGFydGljaXBhbnRzX2NvdW50X2J5X3JvbGUgfSA9IHNlc3Npb247XG4gICAgICBjb25zdCB7IHVzZXIsIHVzZXJfc2Vzc2lvbl9pZCB9ID0gZXZlbnQucGFydGljaXBhbnQ7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5zZXNzaW9uLFxuICAgICAgICBwYXJ0aWNpcGFudHM6IHBhcnRpY2lwYW50cy5maWx0ZXIoXG4gICAgICAgICAgKHApID0+IHAudXNlcl9zZXNzaW9uX2lkICE9PSB1c2VyX3Nlc3Npb25faWQsXG4gICAgICAgICksXG4gICAgICAgIHBhcnRpY2lwYW50c19jb3VudF9ieV9yb2xlOiB7XG4gICAgICAgICAgLi4ucGFydGljaXBhbnRzX2NvdW50X2J5X3JvbGUsXG4gICAgICAgICAgW3VzZXIucm9sZV06IE1hdGgubWF4KFxuICAgICAgICAgICAgMCxcbiAgICAgICAgICAgIChwYXJ0aWNpcGFudHNfY291bnRfYnlfcm9sZVt1c2VyLnJvbGVdIHx8IDApIC0gMSxcbiAgICAgICAgICApLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICB9KTtcbiAgICB0aGlzLnVwZGF0ZVBhcnRpY2lwYW50Q291bnRGcm9tU2Vzc2lvbihzKTtcbiAgfTtcblxuICBwcml2YXRlIHVwZGF0ZUZyb21TZXNzaW9uUGFydGljaXBhbnRKb2luZWQgPSAoXG4gICAgZXZlbnQ6IENhbGxTZXNzaW9uUGFydGljaXBhbnRKb2luZWRFdmVudCxcbiAgKSA9PiB7XG4gICAgY29uc3QgcyA9IHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMuc2Vzc2lvblN1YmplY3QsIChzZXNzaW9uKSA9PiB7XG4gICAgICBpZiAoIXNlc3Npb24pIHJldHVybiBzZXNzaW9uO1xuICAgICAgY29uc3QgeyBwYXJ0aWNpcGFudHMsIHBhcnRpY2lwYW50c19jb3VudF9ieV9yb2xlIH0gPSBzZXNzaW9uO1xuICAgICAgY29uc3QgeyB1c2VyLCB1c2VyX3Nlc3Npb25faWQgfSA9IGV2ZW50LnBhcnRpY2lwYW50O1xuICAgICAgLy8gSXQgY291bGQgaGFwcGVuIHRoYXQgdGhlIGJhY2tlbmQgZGVsaXZlcnMgdGhlIHNhbWUgcGFydGljaXBhbnQgbW9yZSB0aGFuIG9uY2UuXG4gICAgICAvLyBPbmNlIHdpdGggdGhlIGNhbGwuc2Vzc2lvbl9zdGFydGVkIGV2ZW50IGFuZCBvbmNlIGFnYWluIHdpdGggdGhlXG4gICAgICAvLyBjYWxsLnNlc3Npb25fcGFydGljaXBhbnRfam9pbmVkIGV2ZW50LiBJbiB0aGlzIGNhc2UsXG4gICAgICAvLyB3ZSBzaG91bGQgdXBkYXRlIHRoZSBleGlzdGluZyBwYXJ0aWNpcGFudCBhbmQgcHJldmVudCBkdXBsaWNhdGluZyBpdC5cbiAgICAgIGxldCBzaG91bGRJbnNlcnRQYXJ0aWNpcGFudCA9IHRydWU7XG4gICAgICBjb25zdCB1cGRhdGVkUGFydGljaXBhbnRzID0gcGFydGljaXBhbnRzLm1hcCgocCkgPT4ge1xuICAgICAgICBpZiAocC51c2VyX3Nlc3Npb25faWQgPT09IHVzZXJfc2Vzc2lvbl9pZCkge1xuICAgICAgICAgIHNob3VsZEluc2VydFBhcnRpY2lwYW50ID0gZmFsc2U7XG4gICAgICAgICAgcmV0dXJuIGV2ZW50LnBhcnRpY2lwYW50O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwO1xuICAgICAgfSk7XG4gICAgICBpZiAoc2hvdWxkSW5zZXJ0UGFydGljaXBhbnQpIHtcbiAgICAgICAgLy8gdGhpcyBpcyBhIG5ldyBhcnJheSwgd2UgY2FuIHNhZmVseSBwdXNoIHRoZSBuZXcgcGFydGljaXBhbnRcbiAgICAgICAgdXBkYXRlZFBhcnRpY2lwYW50cy5wdXNoKGV2ZW50LnBhcnRpY2lwYW50KTtcbiAgICAgIH1cblxuICAgICAgLy8gSWYgd2UgYXJlIHVwZGF0aW5nIGFuIGV4aXN0aW5nIHBhcnRpY2lwYW50LCB3ZSBkb24ndCB3YW50IHRvIGluY3JlbWVudFxuICAgICAgLy8gdGhlIHBhcnRpY2lwYW50X2J5X3JvbGUgY291bnQuXG4gICAgICBjb25zdCBpbmNyZW1lbnQgPSBzaG91bGRJbnNlcnRQYXJ0aWNpcGFudCA/IDEgOiAwO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uc2Vzc2lvbixcbiAgICAgICAgcGFydGljaXBhbnRzOiB1cGRhdGVkUGFydGljaXBhbnRzLFxuICAgICAgICBwYXJ0aWNpcGFudHNfY291bnRfYnlfcm9sZToge1xuICAgICAgICAgIC4uLnBhcnRpY2lwYW50c19jb3VudF9ieV9yb2xlLFxuICAgICAgICAgIFt1c2VyLnJvbGVdOiAocGFydGljaXBhbnRzX2NvdW50X2J5X3JvbGVbdXNlci5yb2xlXSB8fCAwKSArIGluY3JlbWVudCxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgfSk7XG4gICAgdGhpcy51cGRhdGVQYXJ0aWNpcGFudENvdW50RnJvbVNlc3Npb24ocyk7XG4gIH07XG5cbiAgcHJpdmF0ZSB1cGRhdGVNZW1iZXJzID0gKFxuICAgIGV2ZW50OiBDYWxsTWVtYmVyVXBkYXRlZEV2ZW50IHwgQ2FsbE1lbWJlclVwZGF0ZWRQZXJtaXNzaW9uRXZlbnQsXG4gICkgPT4ge1xuICAgIHRoaXMudXBkYXRlRnJvbUNhbGxSZXNwb25zZShldmVudC5jYWxsKTtcbiAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLm1lbWJlcnNTdWJqZWN0LCAobWVtYmVycykgPT5cbiAgICAgIG1lbWJlcnMubWFwKChtZW1iZXIpID0+IHtcbiAgICAgICAgY29uc3QgbWVtYmVyVXBkYXRlID0gZXZlbnQubWVtYmVycy5maW5kKFxuICAgICAgICAgIChtKSA9PiBtLnVzZXJfaWQgPT09IG1lbWJlci51c2VyX2lkLFxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gbWVtYmVyVXBkYXRlID8gbWVtYmVyVXBkYXRlIDogbWVtYmVyO1xuICAgICAgfSksXG4gICAgKTtcbiAgfTtcblxuICBwcml2YXRlIHVwZGF0ZVBhcnRpY2lwYW50UmVhY3Rpb24gPSAoZXZlbnQ6IENhbGxSZWFjdGlvbkV2ZW50KSA9PiB7XG4gICAgY29uc3QgeyB1c2VyLCBjdXN0b20sIHR5cGUsIGVtb2ppX2NvZGUgfSA9IGV2ZW50LnJlYWN0aW9uO1xuICAgIHRoaXMuc2V0UGFydGljaXBhbnRzKChwYXJ0aWNpcGFudHMpID0+IHtcbiAgICAgIHJldHVybiBwYXJ0aWNpcGFudHMubWFwKChwKSA9PiB7XG4gICAgICAgIC8vIHNraXAgaWYgdGhlIHJlYWN0aW9uIGlzIG5vdCBmb3IgdGhpcyBwYXJ0aWNpcGFudFxuICAgICAgICBpZiAocC51c2VySWQgIT09IHVzZXIuaWQpIHJldHVybiBwO1xuICAgICAgICAvLyB1cGRhdGUgdGhlIHBhcnRpY2lwYW50IHdpdGggdGhlIG5ldyByZWFjdGlvblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIC4uLnAsXG4gICAgICAgICAgcmVhY3Rpb246IHtcbiAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICBlbW9qaV9jb2RlLFxuICAgICAgICAgICAgY3VzdG9tLFxuICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICBwcml2YXRlIHVuYmxvY2tVc2VyID0gKGV2ZW50OiBVbmJsb2NrZWRVc2VyRXZlbnQpID0+IHtcbiAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLmJsb2NrZWRVc2VySWRzU3ViamVjdCwgKGN1cnJlbnQpID0+IHtcbiAgICAgIGlmICghY3VycmVudCkgcmV0dXJuIGN1cnJlbnQ7XG4gICAgICByZXR1cm4gY3VycmVudC5maWx0ZXIoKGlkKSA9PiBpZCAhPT0gZXZlbnQudXNlci5pZCk7XG4gICAgfSk7XG4gIH07XG5cbiAgcHJpdmF0ZSBibG9ja1VzZXIgPSAoZXZlbnQ6IEJsb2NrZWRVc2VyRXZlbnQpID0+IHtcbiAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLmJsb2NrZWRVc2VySWRzU3ViamVjdCwgKGN1cnJlbnQpID0+IFtcbiAgICAgIC4uLihjdXJyZW50IHx8IFtdKSxcbiAgICAgIGV2ZW50LnVzZXIuaWQsXG4gICAgXSk7XG4gIH07XG5cbiAgcHJpdmF0ZSB1cGRhdGVPd25DYXBhYmlsaXRpZXMgPSAoZXZlbnQ6IFVwZGF0ZWRDYWxsUGVybWlzc2lvbnNFdmVudCkgPT4ge1xuICAgIGlmIChldmVudC51c2VyLmlkID09PSB0aGlzLmxvY2FsUGFydGljaXBhbnQ/LnVzZXJJZCkge1xuICAgICAgdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5vd25DYXBhYmlsaXRpZXNTdWJqZWN0LCBldmVudC5vd25fY2FwYWJpbGl0aWVzKTtcbiAgICB9XG4gIH07XG59XG4iLCJpbXBvcnQgKiBhcyBTRFAgZnJvbSAnc2RwLXRyYW5zZm9ybSc7XG5cbnR5cGUgTWVkaWEgPSB7XG4gIG9yaWdpbmFsOiBzdHJpbmc7XG4gIG1lZGlhV2l0aFBvcnRzOiBzdHJpbmc7XG4gIGNvZGVjT3JkZXI6IHN0cmluZztcbn07XG5cbnR5cGUgUnRwTWFwID0ge1xuICBvcmlnaW5hbDogc3RyaW5nO1xuICBwYXlsb2FkOiBzdHJpbmc7XG4gIGNvZGVjOiBzdHJpbmc7XG59O1xuXG50eXBlIEZtdHAgPSB7XG4gIG9yaWdpbmFsOiBzdHJpbmc7XG4gIHBheWxvYWQ6IHN0cmluZztcbiAgY29uZmlnOiBzdHJpbmc7XG59O1xuXG5jb25zdCBnZXRSdHBNYXAgPSAobGluZTogc3RyaW5nKTogUnRwTWFwIHwgdW5kZWZpbmVkID0+IHtcbiAgLy8gRXhhbXBsZTogYT1ydHBtYXA6MTEwIG9wdXMvNDgwMDAvMlxuICBjb25zdCBydHBSZWdleCA9IC9eYT1ydHBtYXA6KFxcZCopIChbXFx3XFwtLl0qKSg/OlxccypcXC8oXFxkKikoPzpcXHMqXFwvKFxcUyopKT8pPy87XG4gIC8vIFRoZSBmaXJzdCBjYXB0dXJlZCBncm91cCBpcyB0aGUgcGF5bG9hZCB0eXBlIG51bWJlciwgdGhlIHNlY29uZCBjYXB0dXJlZCBncm91cCBpcyB0aGUgZW5jb2RpbmcgbmFtZSwgdGhlIHRoaXJkIGNhcHR1cmVkIGdyb3VwIGlzIHRoZSBjbG9jayByYXRlLCBhbmQgdGhlIGZvdXJ0aCBjYXB0dXJlZCBncm91cCBpcyBhbnkgYWRkaXRpb25hbCBwYXJhbWV0ZXJzLlxuICBjb25zdCBydHBNYXRjaCA9IHJ0cFJlZ2V4LmV4ZWMobGluZSk7XG4gIGlmIChydHBNYXRjaCkge1xuICAgIHJldHVybiB7XG4gICAgICBvcmlnaW5hbDogcnRwTWF0Y2hbMF0sXG4gICAgICBwYXlsb2FkOiBydHBNYXRjaFsxXSxcbiAgICAgIGNvZGVjOiBydHBNYXRjaFsyXSxcbiAgICB9O1xuICB9XG59O1xuXG5jb25zdCBnZXRGbXRwID0gKGxpbmU6IHN0cmluZyk6IEZtdHAgfCB1bmRlZmluZWQgPT4ge1xuICAvLyBFeGFtcGxlOiBhPWZtdHA6MTExIG1pbnB0aW1lPTEwOyB1c2VpbmJhbmRmZWM9MVxuICBjb25zdCBmbXRwUmVnZXggPSAvXmE9Zm10cDooXFxkKikgKC4qKS87XG4gIGNvbnN0IGZtdHBNYXRjaCA9IGZtdHBSZWdleC5leGVjKGxpbmUpO1xuICAvLyBUaGUgZmlyc3QgY2FwdHVyZWQgZ3JvdXAgaXMgdGhlIHBheWxvYWQgdHlwZSBudW1iZXIsIHRoZSBzZWNvbmQgY2FwdHVyZWQgZ3JvdXAgaXMgYW55IGFkZGl0aW9uYWwgcGFyYW1ldGVycy5cbiAgaWYgKGZtdHBNYXRjaCkge1xuICAgIHJldHVybiB7XG4gICAgICBvcmlnaW5hbDogZm10cE1hdGNoWzBdLFxuICAgICAgcGF5bG9hZDogZm10cE1hdGNoWzFdLFxuICAgICAgY29uZmlnOiBmbXRwTWF0Y2hbMl0sXG4gICAgfTtcbiAgfVxufTtcblxuLyoqXG4gKiBnZXRzIHRoZSBtZWRpYSBzZWN0aW9uIGZvciB0aGUgc3BlY2lmaWVkIG1lZGlhIHR5cGUuXG4gKiBUaGUgbWVkaWEgc2VjdGlvbiBjb250YWlucyB0aGUgbWVkaWEgdHlwZSwgcG9ydCwgY29kZWMsIGFuZCBwYXlsb2FkIHR5cGUuXG4gKiBFeGFtcGxlOiBtPXZpZGVvIDkgVURQL1RMUy9SVFAvU0FWUEYgMTAwIDEwMSA5NiA5NyAzNSAzNiAxMDIgMTI1IDEyN1xuICovXG5jb25zdCBnZXRNZWRpYSA9IChsaW5lOiBzdHJpbmcsIG1lZGlhVHlwZTogc3RyaW5nKTogTWVkaWEgfCB1bmRlZmluZWQgPT4ge1xuICBjb25zdCByZWdleCA9IG5ldyBSZWdFeHAoYChtPSR7bWVkaWFUeXBlfSBcXFxcZCsgW1xcXFx3L10rKSAoW1xcXFxkXFxcXHNdKylgKTtcbiAgY29uc3QgbWF0Y2ggPSByZWdleC5leGVjKGxpbmUpO1xuICBpZiAobWF0Y2gpIHtcbiAgICByZXR1cm4ge1xuICAgICAgb3JpZ2luYWw6IG1hdGNoWzBdLFxuICAgICAgbWVkaWFXaXRoUG9ydHM6IG1hdGNoWzFdLFxuICAgICAgY29kZWNPcmRlcjogbWF0Y2hbMl0sXG4gICAgfTtcbiAgfVxufTtcblxuY29uc3QgZ2V0TWVkaWFTZWN0aW9uID0gKHNkcDogc3RyaW5nLCBtZWRpYVR5cGU6ICd2aWRlbycgfCAnYXVkaW8nKSA9PiB7XG4gIGxldCBtZWRpYTogTWVkaWEgfCB1bmRlZmluZWQ7XG4gIGNvbnN0IHJ0cE1hcDogUnRwTWFwW10gPSBbXTtcbiAgY29uc3QgZm10cDogRm10cFtdID0gW107XG4gIGxldCBpc1RoZVJlcXVpcmVkTWVkaWFTZWN0aW9uID0gZmFsc2U7XG4gIHNkcC5zcGxpdCgvKFxcclxcbnxcXHJ8XFxuKS8pLmZvckVhY2goKGxpbmUpID0+IHtcbiAgICBjb25zdCBpc1ZhbGlkTGluZSA9IC9eKFthLXpdKT0oLiopLy50ZXN0KGxpbmUpO1xuICAgIGlmICghaXNWYWxpZExpbmUpIHJldHVybjtcbiAgICAvKlxuICAgICAgTk9URTogYWNjb3JkaW5nIHRvIGh0dHBzOi8vd3d3LnJmYy1lZGl0b3Iub3JnL3JmYy9yZmM4ODY2LnBkZlxuICAgICAgRWFjaCBtZWRpYSBkZXNjcmlwdGlvbiBzdGFydHMgd2l0aCBhbiBcIm09XCIgbGluZSBhbmQgY29udGludWVzIHRvIHRoZSBuZXh0IG1lZGlhIGRlc2NyaXB0aW9uIG9yIHRoZSBlbmQgb2YgdGhlIHdob2xlIHNlc3Npb24gZGVzY3JpcHRpb24sIHdoaWNoZXZlciBjb21lcyBmaXJzdFxuICAgICovXG4gICAgY29uc3QgdHlwZSA9IGxpbmVbMF07XG4gICAgaWYgKHR5cGUgPT09ICdtJykge1xuICAgICAgY29uc3QgX21lZGlhID0gZ2V0TWVkaWEobGluZSwgbWVkaWFUeXBlKTtcbiAgICAgIGlzVGhlUmVxdWlyZWRNZWRpYVNlY3Rpb24gPSAhIV9tZWRpYTtcbiAgICAgIGlmIChfbWVkaWEpIHtcbiAgICAgICAgbWVkaWEgPSBfbWVkaWE7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChpc1RoZVJlcXVpcmVkTWVkaWFTZWN0aW9uICYmIHR5cGUgPT09ICdhJykge1xuICAgICAgY29uc3QgcnRwTWFwTGluZSA9IGdldFJ0cE1hcChsaW5lKTtcbiAgICAgIGNvbnN0IGZtdHBMaW5lID0gZ2V0Rm10cChsaW5lKTtcbiAgICAgIGlmIChydHBNYXBMaW5lKSB7XG4gICAgICAgIHJ0cE1hcC5wdXNoKHJ0cE1hcExpbmUpO1xuICAgICAgfSBlbHNlIGlmIChmbXRwTGluZSkge1xuICAgICAgICBmbXRwLnB1c2goZm10cExpbmUpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIGlmIChtZWRpYSkge1xuICAgIHJldHVybiB7XG4gICAgICBtZWRpYSxcbiAgICAgIHJ0cE1hcCxcbiAgICAgIGZtdHAsXG4gICAgfTtcbiAgfVxufTtcblxuLyoqXG4gKiBHZXRzIHRoZSBmbXRwIGxpbmUgY29ycmVzcG9uZGluZyB0byBvcHVzXG4gKi9cbmNvbnN0IGdldE9wdXNGbXRwID0gKHNkcDogc3RyaW5nKTogRm10cCB8IHVuZGVmaW5lZCA9PiB7XG4gIGNvbnN0IHNlY3Rpb24gPSBnZXRNZWRpYVNlY3Rpb24oc2RwLCAnYXVkaW8nKTtcbiAgY29uc3QgcnRwTWFwID0gc2VjdGlvbj8ucnRwTWFwLmZpbmQoKHIpID0+IHIuY29kZWMudG9Mb3dlckNhc2UoKSA9PT0gJ29wdXMnKTtcbiAgY29uc3QgY29kZWNJZCA9IHJ0cE1hcD8ucGF5bG9hZDtcbiAgaWYgKGNvZGVjSWQpIHtcbiAgICByZXR1cm4gc2VjdGlvbj8uZm10cC5maW5kKChmKSA9PiBmLnBheWxvYWQgPT09IGNvZGVjSWQpO1xuICB9XG59O1xuXG4vKipcbiAqIFJldHVybnMgYW4gU0RQIHdpdGggRFRYIGVuYWJsZWQgb3IgZGlzYWJsZWQuXG4gKi9cbmV4cG9ydCBjb25zdCB0b2dnbGVEdHggPSAoc2RwOiBzdHJpbmcsIGVuYWJsZTogYm9vbGVhbik6IHN0cmluZyA9PiB7XG4gIGNvbnN0IG9wdXNGbXRwID0gZ2V0T3B1c0ZtdHAoc2RwKTtcbiAgaWYgKCFvcHVzRm10cCkgcmV0dXJuIHNkcDtcblxuICBjb25zdCBtYXRjaER0eCA9IC91c2VkdHg9KFxcZCkvLmV4ZWMob3B1c0ZtdHAuY29uZmlnKTtcbiAgY29uc3QgcmVxdWlyZWREdHhDb25maWcgPSBgdXNlZHR4PSR7ZW5hYmxlID8gJzEnIDogJzAnfWA7XG4gIGNvbnN0IG5ld0ZtdHAgPSBtYXRjaER0eFxuICAgID8gb3B1c0ZtdHAub3JpZ2luYWwucmVwbGFjZSgvdXNlZHR4PShcXGQpLywgcmVxdWlyZWREdHhDb25maWcpXG4gICAgOiBgJHtvcHVzRm10cC5vcmlnaW5hbH07JHtyZXF1aXJlZER0eENvbmZpZ31gO1xuXG4gIHJldHVybiBzZHAucmVwbGFjZShvcHVzRm10cC5vcmlnaW5hbCwgbmV3Rm10cCk7XG59O1xuXG4vKipcbiAqIFJldHVybnMgYW5kIFNEUCB3aXRoIGFsbCB0aGUgY29kZWNzIGV4Y2VwdCB0aGUgZ2l2ZW4gY29kZWMgcmVtb3ZlZC5cbiAqL1xuZXhwb3J0IGNvbnN0IHByZXNlcnZlQ29kZWMgPSAoXG4gIHNkcDogc3RyaW5nLFxuICBtaWQ6IHN0cmluZyxcbiAgY29kZWM6IFJUQ1J0cENvZGVjLFxuKTogc3RyaW5nID0+IHtcbiAgY29uc3QgW2tpbmQsIGNvZGVjTmFtZV0gPSBjb2RlYy5taW1lVHlwZS50b0xvd2VyQ2FzZSgpLnNwbGl0KCcvJyk7XG5cbiAgY29uc3QgdG9TZXQgPSAoZm10cExpbmU6IHN0cmluZykgPT5cbiAgICBuZXcgU2V0KGZtdHBMaW5lLnNwbGl0KCc7JykubWFwKChmKSA9PiBmLnRyaW0oKS50b0xvd2VyQ2FzZSgpKSk7XG5cbiAgY29uc3QgZXF1YWwgPSAoYTogU2V0PHN0cmluZz4sIGI6IFNldDxzdHJpbmc+KSA9PiB7XG4gICAgaWYgKGEuc2l6ZSAhPT0gYi5zaXplKSByZXR1cm4gZmFsc2U7XG4gICAgZm9yIChjb25zdCBpdGVtIG9mIGEpIGlmICghYi5oYXMoaXRlbSkpIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcblxuICBjb25zdCBjb2RlY0ZtdHAgPSB0b1NldChjb2RlYy5zZHBGbXRwTGluZSB8fCAnJyk7XG4gIGNvbnN0IHBhcnNlZFNkcCA9IFNEUC5wYXJzZShzZHApO1xuICBmb3IgKGNvbnN0IG1lZGlhIG9mIHBhcnNlZFNkcC5tZWRpYSkge1xuICAgIGlmIChtZWRpYS50eXBlICE9PSBraW5kIHx8IFN0cmluZyhtZWRpYS5taWQpICE9PSBtaWQpIGNvbnRpbnVlO1xuXG4gICAgLy8gZmluZCB0aGUgcGF5bG9hZCBpZCBvZiB0aGUgZGVzaXJlZCBjb2RlY1xuICAgIGNvbnN0IHBheWxvYWRzID0gbmV3IFNldDxudW1iZXI+KCk7XG4gICAgZm9yIChjb25zdCBydHAgb2YgbWVkaWEucnRwKSB7XG4gICAgICBpZiAocnRwLmNvZGVjLnRvTG93ZXJDYXNlKCkgIT09IGNvZGVjTmFtZSkgY29udGludWU7XG4gICAgICBjb25zdCBtYXRjaCA9XG4gICAgICAgIC8vIHZwOCBkb2Vzbid0IGhhdmUgYW55IGZtdHAsIHdlIHByZXNlcnZlIGl0IHdpdGhvdXQgYW55IGFkZGl0aW9uYWwgY2hlY2tzXG4gICAgICAgIGNvZGVjTmFtZSA9PT0gJ3ZwOCdcbiAgICAgICAgICA/IHRydWVcbiAgICAgICAgICA6IG1lZGlhLmZtdHAuc29tZShcbiAgICAgICAgICAgICAgKGYpID0+XG4gICAgICAgICAgICAgICAgZi5wYXlsb2FkID09PSBydHAucGF5bG9hZCAmJiBlcXVhbCh0b1NldChmLmNvbmZpZyksIGNvZGVjRm10cCksXG4gICAgICAgICAgICApO1xuICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgIHBheWxvYWRzLmFkZChydHAucGF5bG9hZCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gZmluZCB0aGUgY29ycmVzcG9uZGluZyBydHggY29kZWMgYnkgbWF0Y2hpbmcgYXB0PTxwcmVzZXJ2ZWQtY29kZWMtcGF5bG9hZD5cbiAgICBmb3IgKGNvbnN0IGZtdHAgb2YgbWVkaWEuZm10cCkge1xuICAgICAgY29uc3QgbWF0Y2ggPSBmbXRwLmNvbmZpZy5tYXRjaCgvKGFwdCk9KFxcZCspLyk7XG4gICAgICBpZiAoIW1hdGNoKSBjb250aW51ZTtcbiAgICAgIGNvbnN0IFssICwgcHJlc2VydmVkQ29kZWNQYXlsb2FkXSA9IG1hdGNoO1xuICAgICAgaWYgKHBheWxvYWRzLmhhcyhOdW1iZXIocHJlc2VydmVkQ29kZWNQYXlsb2FkKSkpIHtcbiAgICAgICAgcGF5bG9hZHMuYWRkKGZtdHAucGF5bG9hZCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbWVkaWEucnRwID0gbWVkaWEucnRwLmZpbHRlcigocikgPT4gcGF5bG9hZHMuaGFzKHIucGF5bG9hZCkpO1xuICAgIG1lZGlhLmZtdHAgPSBtZWRpYS5mbXRwLmZpbHRlcigoZikgPT4gcGF5bG9hZHMuaGFzKGYucGF5bG9hZCkpO1xuICAgIG1lZGlhLnJ0Y3BGYiA9IG1lZGlhLnJ0Y3BGYj8uZmlsdGVyKChmKSA9PiBwYXlsb2Fkcy5oYXMoZi5wYXlsb2FkKSk7XG4gICAgbWVkaWEucGF5bG9hZHMgPSBBcnJheS5mcm9tKHBheWxvYWRzKS5qb2luKCcgJyk7XG4gIH1cbiAgcmV0dXJuIFNEUC53cml0ZShwYXJzZWRTZHApO1xufTtcblxuLyoqXG4gKiBFbmFibGVzIGhpZ2gtcXVhbGl0eSBhdWRpbyB0aHJvdWdoIFNEUCBtdW5naW5nIGZvciB0aGUgZ2l2ZW4gdHJhY2tNaWQuXG4gKlxuICogQHBhcmFtIHNkcCB0aGUgU0RQIHRvIG11bmdlLlxuICogQHBhcmFtIHRyYWNrTWlkIHRoZSB0cmFja01pZC5cbiAqIEBwYXJhbSBtYXhCaXRyYXRlIHRoZSBtYXggYml0cmF0ZSB0byBzZXQuXG4gKi9cbmV4cG9ydCBjb25zdCBlbmFibGVIaWdoUXVhbGl0eUF1ZGlvID0gKFxuICBzZHA6IHN0cmluZyxcbiAgdHJhY2tNaWQ6IHN0cmluZyxcbiAgbWF4Qml0cmF0ZTogbnVtYmVyID0gNTEwMDAwLFxuKTogc3RyaW5nID0+IHtcbiAgbWF4Qml0cmF0ZSA9IE1hdGgubWF4KE1hdGgubWluKG1heEJpdHJhdGUsIDUxMDAwMCksIDk2MDAwKTtcblxuICBjb25zdCBwYXJzZWRTZHAgPSBTRFAucGFyc2Uoc2RwKTtcbiAgY29uc3QgYXVkaW9NZWRpYSA9IHBhcnNlZFNkcC5tZWRpYS5maW5kKFxuICAgIChtKSA9PiBtLnR5cGUgPT09ICdhdWRpbycgJiYgU3RyaW5nKG0ubWlkKSA9PT0gdHJhY2tNaWQsXG4gICk7XG5cbiAgaWYgKCFhdWRpb01lZGlhKSByZXR1cm4gc2RwO1xuXG4gIGNvbnN0IG9wdXNSdHAgPSBhdWRpb01lZGlhLnJ0cC5maW5kKChyKSA9PiByLmNvZGVjID09PSAnb3B1cycpO1xuICBpZiAoIW9wdXNSdHApIHJldHVybiBzZHA7XG5cbiAgY29uc3Qgb3B1c0ZtdHAgPSBhdWRpb01lZGlhLmZtdHAuZmluZCgoZikgPT4gZi5wYXlsb2FkID09PSBvcHVzUnRwLnBheWxvYWQpO1xuICBpZiAoIW9wdXNGbXRwKSByZXR1cm4gc2RwO1xuXG4gIC8vIGVuYWJsZSBzdGVyZW8sIGlmIG5vdCBhbHJlYWR5IGVuYWJsZWRcbiAgaWYgKG9wdXNGbXRwLmNvbmZpZy5tYXRjaCgvc3RlcmVvPShcXGQpLykpIHtcbiAgICBvcHVzRm10cC5jb25maWcgPSBvcHVzRm10cC5jb25maWcucmVwbGFjZSgvc3RlcmVvPShcXGQpLywgJ3N0ZXJlbz0xJyk7XG4gIH0gZWxzZSB7XG4gICAgb3B1c0ZtdHAuY29uZmlnID0gYCR7b3B1c0ZtdHAuY29uZmlnfTtzdGVyZW89MWA7XG4gIH1cblxuICAvLyBzZXQgbWF4YXZlcmFnZWJpdHJhdGUsIHRvIHRoZSBnaXZlbiB2YWx1ZVxuICBpZiAob3B1c0ZtdHAuY29uZmlnLm1hdGNoKC9tYXhhdmVyYWdlYml0cmF0ZT0oXFxkKikvKSkge1xuICAgIG9wdXNGbXRwLmNvbmZpZyA9IG9wdXNGbXRwLmNvbmZpZy5yZXBsYWNlKFxuICAgICAgL21heGF2ZXJhZ2ViaXRyYXRlPShcXGQqKS8sXG4gICAgICBgbWF4YXZlcmFnZWJpdHJhdGU9JHttYXhCaXRyYXRlfWAsXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICBvcHVzRm10cC5jb25maWcgPSBgJHtvcHVzRm10cC5jb25maWd9O21heGF2ZXJhZ2ViaXRyYXRlPSR7bWF4Qml0cmF0ZX1gO1xuICB9XG5cbiAgcmV0dXJuIFNEUC53cml0ZShwYXJzZWRTZHApO1xufTtcblxuLyoqXG4gKiBFeHRyYWN0cyB0aGUgbWlkIGZyb20gdGhlIHRyYW5zY2VpdmVyIG9yIHRoZSBTRFAuXG4gKlxuICogQHBhcmFtIHRyYW5zY2VpdmVyIHRoZSB0cmFuc2NlaXZlci5cbiAqIEBwYXJhbSB0cmFuc2NlaXZlckluaXRJbmRleCB0aGUgaW5kZXggb2YgdGhlIHRyYW5zY2VpdmVyIGluIHRoZSB0cmFuc2NlaXZlcidzIGluaXQgYXJyYXkuXG4gKiBAcGFyYW0gc2RwIHRoZSBTRFAuXG4gKi9cbmV4cG9ydCBjb25zdCBleHRyYWN0TWlkID0gKFxuICB0cmFuc2NlaXZlcjogUlRDUnRwVHJhbnNjZWl2ZXIsXG4gIHRyYW5zY2VpdmVySW5pdEluZGV4OiBudW1iZXIsXG4gIHNkcDogc3RyaW5nIHwgdW5kZWZpbmVkLFxuKTogc3RyaW5nID0+IHtcbiAgaWYgKHRyYW5zY2VpdmVyLm1pZCkgcmV0dXJuIHRyYW5zY2VpdmVyLm1pZDtcbiAgaWYgKCFzZHApIHJldHVybiAnJztcblxuICBjb25zdCB0cmFjayA9IHRyYW5zY2VpdmVyLnNlbmRlci50cmFjayE7XG4gIGNvbnN0IHBhcnNlZFNkcCA9IFNEUC5wYXJzZShzZHApO1xuICBjb25zdCBtZWRpYSA9IHBhcnNlZFNkcC5tZWRpYS5maW5kKChtKSA9PiB7XG4gICAgcmV0dXJuIChcbiAgICAgIG0udHlwZSA9PT0gdHJhY2sua2luZCAmJlxuICAgICAgLy8gaWYgYG1zaWRgIGlzIG5vdCBwcmVzZW50LCB3ZSBhc3N1bWUgdGhhdCB0aGUgdHJhY2sgaXMgdGhlIGZpcnN0IG9uZVxuICAgICAgKG0ubXNpZD8uaW5jbHVkZXModHJhY2suaWQpID8/IHRydWUpXG4gICAgKTtcbiAgfSk7XG4gIGlmICh0eXBlb2YgbWVkaWE/Lm1pZCAhPT0gJ3VuZGVmaW5lZCcpIHJldHVybiBTdHJpbmcobWVkaWEubWlkKTtcbiAgaWYgKHRyYW5zY2VpdmVySW5pdEluZGV4ID09PSAtMSkgcmV0dXJuICcnO1xuICByZXR1cm4gU3RyaW5nKHRyYW5zY2VpdmVySW5pdEluZGV4KTtcbn07XG4iLCJpbXBvcnQgeyBTdHJlYW1TZnVDbGllbnQgfSBmcm9tICcuLi9TdHJlYW1TZnVDbGllbnQnO1xuaW1wb3J0IHtcbiAgUGVlclR5cGUsXG4gIFRyYWNrSW5mbyxcbiAgVHJhY2tUeXBlLFxuICBWaWRlb0xheWVyLFxufSBmcm9tICcuLi9nZW4vdmlkZW8vc2Z1L21vZGVscy9tb2RlbHMnO1xuaW1wb3J0IHsgZ2V0SWNlQ2FuZGlkYXRlIH0gZnJvbSAnLi9oZWxwZXJzL2ljZUNhbmRpZGF0ZSc7XG5pbXBvcnQge1xuICBmaW5kT3B0aW1hbFNjcmVlblNoYXJpbmdMYXllcnMsXG4gIGZpbmRPcHRpbWFsVmlkZW9MYXllcnMsXG4gIE9wdGltYWxWaWRlb0xheWVyLFxuICByaWRUb1ZpZGVvUXVhbGl0eSxcbiAgdG9TdmNFbmNvZGluZ3MsXG59IGZyb20gJy4vdmlkZW9MYXllcnMnO1xuaW1wb3J0IHsgZ2V0T3B0aW1hbFZpZGVvQ29kZWMsIGdldFByZWZlcnJlZENvZGVjcywgaXNTdmNDb2RlYyB9IGZyb20gJy4vY29kZWNzJztcbmltcG9ydCB7IHRyYWNrVHlwZVRvUGFydGljaXBhbnRTdHJlYW1LZXkgfSBmcm9tICcuL2hlbHBlcnMvdHJhY2tzJztcbmltcG9ydCB7IENhbGxpbmdTdGF0ZSwgQ2FsbFN0YXRlIH0gZnJvbSAnLi4vc3RvcmUnO1xuaW1wb3J0IHsgUHVibGlzaE9wdGlvbnMgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQge1xuICBlbmFibGVIaWdoUXVhbGl0eUF1ZGlvLFxuICBleHRyYWN0TWlkLFxuICBwcmVzZXJ2ZUNvZGVjLFxuICB0b2dnbGVEdHgsXG59IGZyb20gJy4uL2hlbHBlcnMvc2RwLW11bmdpbmcnO1xuaW1wb3J0IHsgTG9nZ2VyIH0gZnJvbSAnLi4vY29vcmRpbmF0b3IvY29ubmVjdGlvbi90eXBlcyc7XG5pbXBvcnQgeyBnZXRMb2dnZXIgfSBmcm9tICcuLi9sb2dnZXInO1xuaW1wb3J0IHsgRGlzcGF0Y2hlciB9IGZyb20gJy4vRGlzcGF0Y2hlcic7XG5pbXBvcnQgeyBWaWRlb0xheWVyU2V0dGluZyB9IGZyb20gJy4uL2dlbi92aWRlby9zZnUvZXZlbnQvZXZlbnRzJztcbmltcG9ydCB7IFRhcmdldFJlc29sdXRpb25SZXNwb25zZSB9IGZyb20gJy4uL2dlbi9zaGltcyc7XG5pbXBvcnQgeyB3aXRob3V0Q29uY3VycmVuY3kgfSBmcm9tICcuLi9oZWxwZXJzL2NvbmN1cnJlbmN5JztcbmltcG9ydCB7IGlzUmVhY3ROYXRpdmUgfSBmcm9tICcuLi9oZWxwZXJzL3BsYXRmb3Jtcyc7XG5pbXBvcnQgeyBpc0ZpcmVmb3ggfSBmcm9tICcuLi9oZWxwZXJzL2Jyb3dzZXJzJztcblxuZXhwb3J0IHR5cGUgUHVibGlzaGVyQ29uc3RydWN0b3JPcHRzID0ge1xuICBzZnVDbGllbnQ6IFN0cmVhbVNmdUNsaWVudDtcbiAgc3RhdGU6IENhbGxTdGF0ZTtcbiAgZGlzcGF0Y2hlcjogRGlzcGF0Y2hlcjtcbiAgY29ubmVjdGlvbkNvbmZpZz86IFJUQ0NvbmZpZ3VyYXRpb247XG4gIGlzRHR4RW5hYmxlZDogYm9vbGVhbjtcbiAgaXNSZWRFbmFibGVkOiBib29sZWFuO1xuICBvblVucmVjb3ZlcmFibGVFcnJvcj86ICgpID0+IHZvaWQ7XG4gIGxvZ1RhZzogc3RyaW5nO1xufTtcblxuLyoqXG4gKiBUaGUgYFB1Ymxpc2hlcmAgaXMgcmVzcG9uc2libGUgZm9yIHB1Ymxpc2hpbmcvdW5wdWJsaXNoaW5nIG1lZGlhIHN0cmVhbXMgdG8vZnJvbSB0aGUgU0ZVXG4gKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjbGFzcyBQdWJsaXNoZXIge1xuICBwcml2YXRlIHJlYWRvbmx5IGxvZ2dlcjogTG9nZ2VyO1xuICBwcml2YXRlIHBjOiBSVENQZWVyQ29ubmVjdGlvbjtcbiAgcHJpdmF0ZSByZWFkb25seSBzdGF0ZTogQ2FsbFN0YXRlO1xuICBwcml2YXRlIHJlYWRvbmx5IHRyYW5zY2VpdmVyQ2FjaGUgPSBuZXcgTWFwPFRyYWNrVHlwZSwgUlRDUnRwVHJhbnNjZWl2ZXI+KCk7XG4gIHByaXZhdGUgcmVhZG9ubHkgdHJhY2tMYXllcnNDYWNoZSA9IG5ldyBNYXA8VHJhY2tUeXBlLCBPcHRpbWFsVmlkZW9MYXllcltdPigpO1xuICBwcml2YXRlIHJlYWRvbmx5IHB1Ymxpc2hPcHRzRm9yVHJhY2sgPSBuZXcgTWFwPFRyYWNrVHlwZSwgUHVibGlzaE9wdGlvbnM+KCk7XG5cbiAgLyoqXG4gICAqIEFuIGFycmF5IG1haW50YWluaW5nIHRoZSBvcmRlciBob3cgdHJhbnNjZWl2ZXJzIHdlcmUgYWRkZWQgdG8gdGhlIHBlZXIgY29ubmVjdGlvbi5cbiAgICogVGhpcyBpcyBuZWVkZWQgYmVjYXVzZSBzb21lIGJyb3dzZXJzIChGaXJlZm94KSBkb24ndCByZWxpYWJseSByZXBvcnRcbiAgICogdHJhY2tJZCBhbmQgYG1pZGAgcGFyYW1ldGVycy5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqL1xuICBwcml2YXRlIHJlYWRvbmx5IHRyYW5zY2VpdmVySW5pdE9yZGVyOiBUcmFja1R5cGVbXSA9IFtdO1xuICBwcml2YXRlIHJlYWRvbmx5IGlzRHR4RW5hYmxlZDogYm9vbGVhbjtcbiAgcHJpdmF0ZSByZWFkb25seSBpc1JlZEVuYWJsZWQ6IGJvb2xlYW47XG5cbiAgcHJpdmF0ZSByZWFkb25seSB1bnN1YnNjcmliZU9uSWNlUmVzdGFydDogKCkgPT4gdm9pZDtcbiAgcHJpdmF0ZSByZWFkb25seSB1bnN1YnNjcmliZUNoYW5nZVB1Ymxpc2hRdWFsaXR5OiAoKSA9PiB2b2lkO1xuICBwcml2YXRlIHJlYWRvbmx5IG9uVW5yZWNvdmVyYWJsZUVycm9yPzogKCkgPT4gdm9pZDtcblxuICBwcml2YXRlIGlzSWNlUmVzdGFydGluZyA9IGZhbHNlO1xuICBwcml2YXRlIHNmdUNsaWVudDogU3RyZWFtU2Z1Q2xpZW50O1xuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RzIGEgbmV3IGBQdWJsaXNoZXJgIGluc3RhbmNlLlxuICAgKi9cbiAgY29uc3RydWN0b3Ioe1xuICAgIGNvbm5lY3Rpb25Db25maWcsXG4gICAgc2Z1Q2xpZW50LFxuICAgIGRpc3BhdGNoZXIsXG4gICAgc3RhdGUsXG4gICAgaXNEdHhFbmFibGVkLFxuICAgIGlzUmVkRW5hYmxlZCxcbiAgICBvblVucmVjb3ZlcmFibGVFcnJvcixcbiAgICBsb2dUYWcsXG4gIH06IFB1Ymxpc2hlckNvbnN0cnVjdG9yT3B0cykge1xuICAgIHRoaXMubG9nZ2VyID0gZ2V0TG9nZ2VyKFsnUHVibGlzaGVyJywgbG9nVGFnXSk7XG4gICAgdGhpcy5wYyA9IHRoaXMuY3JlYXRlUGVlckNvbm5lY3Rpb24oY29ubmVjdGlvbkNvbmZpZyk7XG4gICAgdGhpcy5zZnVDbGllbnQgPSBzZnVDbGllbnQ7XG4gICAgdGhpcy5zdGF0ZSA9IHN0YXRlO1xuICAgIHRoaXMuaXNEdHhFbmFibGVkID0gaXNEdHhFbmFibGVkO1xuICAgIHRoaXMuaXNSZWRFbmFibGVkID0gaXNSZWRFbmFibGVkO1xuICAgIHRoaXMub25VbnJlY292ZXJhYmxlRXJyb3IgPSBvblVucmVjb3ZlcmFibGVFcnJvcjtcblxuICAgIHRoaXMudW5zdWJzY3JpYmVPbkljZVJlc3RhcnQgPSBkaXNwYXRjaGVyLm9uKCdpY2VSZXN0YXJ0JywgKGljZVJlc3RhcnQpID0+IHtcbiAgICAgIGlmIChpY2VSZXN0YXJ0LnBlZXJUeXBlICE9PSBQZWVyVHlwZS5QVUJMSVNIRVJfVU5TUEVDSUZJRUQpIHJldHVybjtcbiAgICAgIHRoaXMucmVzdGFydEljZSgpLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgdGhpcy5sb2dnZXIoJ3dhcm4nLCBgSUNFUmVzdGFydCBmYWlsZWRgLCBlcnIpO1xuICAgICAgICB0aGlzLm9uVW5yZWNvdmVyYWJsZUVycm9yPy4oKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgdGhpcy51bnN1YnNjcmliZUNoYW5nZVB1Ymxpc2hRdWFsaXR5ID0gZGlzcGF0Y2hlci5vbihcbiAgICAgICdjaGFuZ2VQdWJsaXNoUXVhbGl0eScsXG4gICAgICAoeyB2aWRlb1NlbmRlcnMgfSkgPT4ge1xuICAgICAgICB3aXRob3V0Q29uY3VycmVuY3koJ3B1Ymxpc2hlci5jaGFuZ2VQdWJsaXNoUXVhbGl0eScsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICBmb3IgKGNvbnN0IHZpZGVvU2VuZGVyIG9mIHZpZGVvU2VuZGVycykge1xuICAgICAgICAgICAgY29uc3QgeyBsYXllcnMgfSA9IHZpZGVvU2VuZGVyO1xuICAgICAgICAgICAgY29uc3QgZW5hYmxlZExheWVycyA9IGxheWVycy5maWx0ZXIoKGwpID0+IGwuYWN0aXZlKTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuY2hhbmdlUHVibGlzaFF1YWxpdHkoZW5hYmxlZExheWVycyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgdGhpcy5sb2dnZXIoJ3dhcm4nLCAnRmFpbGVkIHRvIGNoYW5nZSBwdWJsaXNoIHF1YWxpdHknLCBlcnIpO1xuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlUGVlckNvbm5lY3Rpb24gPSAoY29ubmVjdGlvbkNvbmZpZz86IFJUQ0NvbmZpZ3VyYXRpb24pID0+IHtcbiAgICBjb25zdCBwYyA9IG5ldyBSVENQZWVyQ29ubmVjdGlvbihjb25uZWN0aW9uQ29uZmlnKTtcbiAgICBwYy5hZGRFdmVudExpc3RlbmVyKCdpY2VjYW5kaWRhdGUnLCB0aGlzLm9uSWNlQ2FuZGlkYXRlKTtcbiAgICBwYy5hZGRFdmVudExpc3RlbmVyKCduZWdvdGlhdGlvbm5lZWRlZCcsIHRoaXMub25OZWdvdGlhdGlvbk5lZWRlZCk7XG5cbiAgICBwYy5hZGRFdmVudExpc3RlbmVyKCdpY2VjYW5kaWRhdGVlcnJvcicsIHRoaXMub25JY2VDYW5kaWRhdGVFcnJvcik7XG4gICAgcGMuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICdpY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2UnLFxuICAgICAgdGhpcy5vbkljZUNvbm5lY3Rpb25TdGF0ZUNoYW5nZSxcbiAgICApO1xuICAgIHBjLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAnaWNlZ2F0aGVyaW5nc3RhdGVjaGFuZ2UnLFxuICAgICAgdGhpcy5vbkljZUdhdGhlcmluZ1N0YXRlQ2hhbmdlLFxuICAgICk7XG4gICAgcGMuYWRkRXZlbnRMaXN0ZW5lcignc2lnbmFsaW5nc3RhdGVjaGFuZ2UnLCB0aGlzLm9uU2lnbmFsaW5nU3RhdGVDaGFuZ2UpO1xuICAgIHJldHVybiBwYztcbiAgfTtcblxuICAvKipcbiAgICogQ2xvc2VzIHRoZSBwdWJsaXNoZXIgUGVlckNvbm5lY3Rpb24gYW5kIGNsZWFucyB1cCB0aGUgcmVzb3VyY2VzLlxuICAgKi9cbiAgY2xvc2UgPSAoeyBzdG9wVHJhY2tzIH06IHsgc3RvcFRyYWNrczogYm9vbGVhbiB9KSA9PiB7XG4gICAgaWYgKHN0b3BUcmFja3MpIHtcbiAgICAgIHRoaXMuc3RvcFB1Ymxpc2hpbmcoKTtcbiAgICAgIHRoaXMudHJhbnNjZWl2ZXJDYWNoZS5jbGVhcigpO1xuICAgICAgdGhpcy50cmFja0xheWVyc0NhY2hlLmNsZWFyKCk7XG4gICAgfVxuXG4gICAgdGhpcy5kZXRhY2hFdmVudEhhbmRsZXJzKCk7XG4gICAgdGhpcy5wYy5jbG9zZSgpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBEZXRhY2hlcyB0aGUgZXZlbnQgaGFuZGxlcnMgZnJvbSB0aGUgYFJUQ1BlZXJDb25uZWN0aW9uYC5cbiAgICogVGhpcyBpcyB1c2VmdWwgd2hlbiB3ZSB3YW50IHRvIHJlcGxhY2UgdGhlIGBSVENQZWVyQ29ubmVjdGlvbmBcbiAgICogaW5zdGFuY2Ugd2l0aCBhIG5ldyBvbmUgKGluIGNhc2Ugb2YgbWlncmF0aW9uKS5cbiAgICovXG4gIGRldGFjaEV2ZW50SGFuZGxlcnMgPSAoKSA9PiB7XG4gICAgdGhpcy51bnN1YnNjcmliZU9uSWNlUmVzdGFydCgpO1xuICAgIHRoaXMudW5zdWJzY3JpYmVDaGFuZ2VQdWJsaXNoUXVhbGl0eSgpO1xuXG4gICAgdGhpcy5wYy5yZW1vdmVFdmVudExpc3RlbmVyKCdpY2VjYW5kaWRhdGUnLCB0aGlzLm9uSWNlQ2FuZGlkYXRlKTtcbiAgICB0aGlzLnBjLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ25lZ290aWF0aW9ubmVlZGVkJywgdGhpcy5vbk5lZ290aWF0aW9uTmVlZGVkKTtcbiAgICB0aGlzLnBjLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2ljZWNhbmRpZGF0ZWVycm9yJywgdGhpcy5vbkljZUNhbmRpZGF0ZUVycm9yKTtcbiAgICB0aGlzLnBjLnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAnaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlJyxcbiAgICAgIHRoaXMub25JY2VDb25uZWN0aW9uU3RhdGVDaGFuZ2UsXG4gICAgKTtcbiAgICB0aGlzLnBjLnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAnaWNlZ2F0aGVyaW5nc3RhdGVjaGFuZ2UnLFxuICAgICAgdGhpcy5vbkljZUdhdGhlcmluZ1N0YXRlQ2hhbmdlLFxuICAgICk7XG4gICAgdGhpcy5wYy5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgJ3NpZ25hbGluZ3N0YXRlY2hhbmdlJyxcbiAgICAgIHRoaXMub25TaWduYWxpbmdTdGF0ZUNoYW5nZSxcbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTdGFydHMgcHVibGlzaGluZyB0aGUgZ2l2ZW4gdHJhY2sgb2YgdGhlIGdpdmVuIG1lZGlhIHN0cmVhbS5cbiAgICpcbiAgICogQ29uc2VjdXRpdmUgY2FsbHMgdG8gdGhpcyBtZXRob2Qgd2lsbCByZXBsYWNlIHRoZSBzdHJlYW0uXG4gICAqIFRoZSBwcmV2aW91cyBzdHJlYW0gd2lsbCBiZSBzdG9wcGVkLlxuICAgKlxuICAgKiBAcGFyYW0gbWVkaWFTdHJlYW0gdGhlIG1lZGlhIHN0cmVhbSB0byBwdWJsaXNoLlxuICAgKiBAcGFyYW0gdHJhY2sgdGhlIHRyYWNrIHRvIHB1Ymxpc2guXG4gICAqIEBwYXJhbSB0cmFja1R5cGUgdGhlIHRyYWNrIHR5cGUgdG8gcHVibGlzaC5cbiAgICogQHBhcmFtIG9wdHMgdGhlIG9wdGlvbmFsIHB1Ymxpc2ggb3B0aW9ucyB0byB1c2UuXG4gICAqL1xuICBwdWJsaXNoU3RyZWFtID0gYXN5bmMgKFxuICAgIG1lZGlhU3RyZWFtOiBNZWRpYVN0cmVhbSxcbiAgICB0cmFjazogTWVkaWFTdHJlYW1UcmFjayxcbiAgICB0cmFja1R5cGU6IFRyYWNrVHlwZSxcbiAgICBvcHRzOiBQdWJsaXNoT3B0aW9ucyA9IHt9LFxuICApID0+IHtcbiAgICBpZiAodHJhY2sucmVhZHlTdGF0ZSA9PT0gJ2VuZGVkJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYW4ndCBwdWJsaXNoIGEgdHJhY2sgdGhhdCBoYXMgZW5kZWQgYWxyZWFkeS5gKTtcbiAgICB9XG5cbiAgICAvLyBlbmFibGUgdGhlIHRyYWNrIGlmIGl0IGlzIGRpc2FibGVkXG4gICAgaWYgKCF0cmFjay5lbmFibGVkKSB0cmFjay5lbmFibGVkID0gdHJ1ZTtcblxuICAgIGNvbnN0IHRyYW5zY2VpdmVyID0gdGhpcy50cmFuc2NlaXZlckNhY2hlLmdldCh0cmFja1R5cGUpO1xuICAgIGlmICghdHJhbnNjZWl2ZXIgfHwgIXRyYW5zY2VpdmVyLnNlbmRlci50cmFjaykge1xuICAgICAgLy8gbGlzdGVuIGZvciAnZW5kZWQnIGV2ZW50IG9uIHRoZSB0cmFjayBhcyBpdCBtaWdodCBiZSBlbmRlZCBhYnJ1cHRseVxuICAgICAgLy8gYnkgYW4gZXh0ZXJuYWwgZmFjdG9ycyBzdWNoIGFzIHBlcm1pc3Npb24gcmV2b2tlcywgYSBkaXNjb25uZWN0ZWQgZGV2aWNlLCBldGMuXG4gICAgICAvLyBrZWVwIGluIG1pbmQgdGhhdCBgdHJhY2suc3RvcCgpYCBkb2Vzbid0IHRyaWdnZXIgdGhpcyBldmVudC5cbiAgICAgIGNvbnN0IGhhbmRsZVRyYWNrRW5kZWQgPSAoKSA9PiB7XG4gICAgICAgIHRoaXMubG9nZ2VyKCdpbmZvJywgYFRyYWNrICR7VHJhY2tUeXBlW3RyYWNrVHlwZV19IGhhcyBlbmRlZCBhYnJ1cHRseWApO1xuICAgICAgICB0cmFjay5yZW1vdmVFdmVudExpc3RlbmVyKCdlbmRlZCcsIGhhbmRsZVRyYWNrRW5kZWQpO1xuICAgICAgICB0aGlzLm5vdGlmeVRyYWNrTXV0ZVN0YXRlQ2hhbmdlZChtZWRpYVN0cmVhbSwgdHJhY2tUeXBlLCB0cnVlKS5jYXRjaChcbiAgICAgICAgICAoZXJyKSA9PiB0aGlzLmxvZ2dlcignd2FybicsIGBDb3VsZG4ndCBub3RpZnkgdHJhY2sgbXV0ZSBzdGF0ZWAsIGVyciksXG4gICAgICAgICk7XG4gICAgICB9O1xuICAgICAgdHJhY2suYWRkRXZlbnRMaXN0ZW5lcignZW5kZWQnLCBoYW5kbGVUcmFja0VuZGVkKTtcbiAgICAgIHRoaXMuYWRkVHJhbnNjZWl2ZXIodHJhY2tUeXBlLCB0cmFjaywgb3B0cywgbWVkaWFTdHJlYW0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBhd2FpdCB0aGlzLnVwZGF0ZVRyYW5zY2VpdmVyKHRyYW5zY2VpdmVyLCB0cmFjayk7XG4gICAgfVxuXG4gICAgYXdhaXQgdGhpcy5ub3RpZnlUcmFja011dGVTdGF0ZUNoYW5nZWQobWVkaWFTdHJlYW0sIHRyYWNrVHlwZSwgZmFsc2UpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBBZGRzIGEgbmV3IHRyYW5zY2VpdmVyIHRvIHRoZSBwZWVyIGNvbm5lY3Rpb24uXG4gICAqIFRoaXMgbmVlZHMgdG8gYmUgY2FsbGVkIHdoZW4gYSBuZXcgdHJhY2sga2luZCBpcyBhZGRlZCB0byB0aGUgcGVlciBjb25uZWN0aW9uLlxuICAgKiBJbiBvdGhlciBjYXNlcywgdXNlIGB1cGRhdGVUcmFuc2NlaXZlcmAgbWV0aG9kLlxuICAgKi9cbiAgcHJpdmF0ZSBhZGRUcmFuc2NlaXZlciA9IChcbiAgICB0cmFja1R5cGU6IFRyYWNrVHlwZSxcbiAgICB0cmFjazogTWVkaWFTdHJlYW1UcmFjayxcbiAgICBvcHRzOiBQdWJsaXNoT3B0aW9ucyxcbiAgICBtZWRpYVN0cmVhbTogTWVkaWFTdHJlYW0sXG4gICkgPT4ge1xuICAgIGNvbnN0IHsgZm9yY2VDb2RlYywgcHJlZmVycmVkQ29kZWMgfSA9IG9wdHM7XG4gICAgY29uc3QgY29kZWNJblVzZSA9IGZvcmNlQ29kZWMgfHwgZ2V0T3B0aW1hbFZpZGVvQ29kZWMocHJlZmVycmVkQ29kZWMpO1xuICAgIGNvbnN0IHZpZGVvRW5jb2RpbmdzID0gdGhpcy5jb21wdXRlTGF5ZXJzKHRyYWNrVHlwZSwgdHJhY2ssIG9wdHMpO1xuICAgIGNvbnN0IHRyYW5zY2VpdmVyID0gdGhpcy5wYy5hZGRUcmFuc2NlaXZlcih0cmFjaywge1xuICAgICAgZGlyZWN0aW9uOiAnc2VuZG9ubHknLFxuICAgICAgc3RyZWFtczpcbiAgICAgICAgdHJhY2tUeXBlID09PSBUcmFja1R5cGUuVklERU8gfHwgdHJhY2tUeXBlID09PSBUcmFja1R5cGUuU0NSRUVOX1NIQVJFXG4gICAgICAgICAgPyBbbWVkaWFTdHJlYW1dXG4gICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICBzZW5kRW5jb2RpbmdzOiBpc1N2Y0NvZGVjKGNvZGVjSW5Vc2UpXG4gICAgICAgID8gdG9TdmNFbmNvZGluZ3ModmlkZW9FbmNvZGluZ3MpXG4gICAgICAgIDogdmlkZW9FbmNvZGluZ3MsXG4gICAgfSk7XG5cbiAgICB0aGlzLmxvZ2dlcignZGVidWcnLCBgQWRkZWQgJHtUcmFja1R5cGVbdHJhY2tUeXBlXX0gdHJhbnNjZWl2ZXJgKTtcbiAgICB0aGlzLnRyYW5zY2VpdmVySW5pdE9yZGVyLnB1c2godHJhY2tUeXBlKTtcbiAgICB0aGlzLnRyYW5zY2VpdmVyQ2FjaGUuc2V0KHRyYWNrVHlwZSwgdHJhbnNjZWl2ZXIpO1xuICAgIHRoaXMucHVibGlzaE9wdHNGb3JUcmFjay5zZXQodHJhY2tUeXBlLCBvcHRzKTtcblxuICAgIC8vIGhhbmRsZSBjb2RlYyBwcmVmZXJlbmNlc1xuICAgIGlmICghKCdzZXRDb2RlY1ByZWZlcmVuY2VzJyBpbiB0cmFuc2NlaXZlcikpIHJldHVybjtcblxuICAgIGNvbnN0IGNvZGVjUHJlZmVyZW5jZXMgPSB0aGlzLmdldENvZGVjUHJlZmVyZW5jZXMoXG4gICAgICB0cmFja1R5cGUsXG4gICAgICB0cmFja1R5cGUgPT09IFRyYWNrVHlwZS5WSURFTyA/IGNvZGVjSW5Vc2UgOiB1bmRlZmluZWQsXG4gICAgICAncmVjZWl2ZXInLFxuICAgICk7XG4gICAgaWYgKCFjb2RlY1ByZWZlcmVuY2VzKSByZXR1cm47XG5cbiAgICB0cnkge1xuICAgICAgdGhpcy5sb2dnZXIoXG4gICAgICAgICdpbmZvJyxcbiAgICAgICAgYFNldHRpbmcgJHtUcmFja1R5cGVbdHJhY2tUeXBlXX0gY29kZWMgcHJlZmVyZW5jZXNgLFxuICAgICAgICBjb2RlY1ByZWZlcmVuY2VzLFxuICAgICAgKTtcbiAgICAgIHRyYW5zY2VpdmVyLnNldENvZGVjUHJlZmVyZW5jZXMoY29kZWNQcmVmZXJlbmNlcyk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICB0aGlzLmxvZ2dlcignd2FybicsIGBDb3VsZG4ndCBzZXQgY29kZWMgcHJlZmVyZW5jZXNgLCBlcnIpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgZ2l2ZW4gdHJhbnNjZWl2ZXIgd2l0aCB0aGUgbmV3IHRyYWNrLlxuICAgKiBTdG9wcyB0aGUgcHJldmlvdXMgdHJhY2sgYW5kIHJlcGxhY2VzIGl0IHdpdGggdGhlIG5ldyBvbmUuXG4gICAqL1xuICBwcml2YXRlIHVwZGF0ZVRyYW5zY2VpdmVyID0gYXN5bmMgKFxuICAgIHRyYW5zY2VpdmVyOiBSVENSdHBUcmFuc2NlaXZlcixcbiAgICB0cmFjazogTWVkaWFTdHJlYW1UcmFjayxcbiAgKSA9PiB7XG4gICAgY29uc3QgcHJldmlvdXNUcmFjayA9IHRyYW5zY2VpdmVyLnNlbmRlci50cmFjaztcbiAgICAvLyBkb24ndCBzdG9wIHRoZSB0cmFjayBpZiB3ZSBhcmUgcmUtcHVibGlzaGluZyB0aGUgc2FtZSB0cmFja1xuICAgIGlmIChwcmV2aW91c1RyYWNrICYmIHByZXZpb3VzVHJhY2sgIT09IHRyYWNrKSB7XG4gICAgICBwcmV2aW91c1RyYWNrLnN0b3AoKTtcbiAgICB9XG4gICAgYXdhaXQgdHJhbnNjZWl2ZXIuc2VuZGVyLnJlcGxhY2VUcmFjayh0cmFjayk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFN0b3BzIHB1Ymxpc2hpbmcgdGhlIGdpdmVuIHRyYWNrIHR5cGUgdG8gdGhlIFNGVSwgaWYgaXQgaXMgY3VycmVudGx5IGJlaW5nIHB1Ymxpc2hlZC5cbiAgICogVW5kZXJseWluZyB0cmFjayB3aWxsIGJlIHN0b3BwZWQgYW5kIHJlbW92ZWQgZnJvbSB0aGUgcHVibGlzaGVyLlxuICAgKiBAcGFyYW0gdHJhY2tUeXBlIHRoZSB0cmFjayB0eXBlIHRvIHVucHVibGlzaC5cbiAgICogQHBhcmFtIHN0b3BUcmFjayBzcGVjaWZpZXMgd2hldGhlciB0cmFjayBzaG91bGQgYmUgc3RvcHBlZCBvciBqdXN0IGRpc2FibGVkXG4gICAqL1xuICB1bnB1Ymxpc2hTdHJlYW0gPSBhc3luYyAodHJhY2tUeXBlOiBUcmFja1R5cGUsIHN0b3BUcmFjazogYm9vbGVhbikgPT4ge1xuICAgIGNvbnN0IHRyYW5zY2VpdmVyID0gdGhpcy50cmFuc2NlaXZlckNhY2hlLmdldCh0cmFja1R5cGUpO1xuICAgIGlmIChcbiAgICAgIHRyYW5zY2VpdmVyICYmXG4gICAgICB0cmFuc2NlaXZlci5zZW5kZXIudHJhY2sgJiZcbiAgICAgIChzdG9wVHJhY2tcbiAgICAgICAgPyB0cmFuc2NlaXZlci5zZW5kZXIudHJhY2sucmVhZHlTdGF0ZSA9PT0gJ2xpdmUnXG4gICAgICAgIDogdHJhbnNjZWl2ZXIuc2VuZGVyLnRyYWNrLmVuYWJsZWQpXG4gICAgKSB7XG4gICAgICBzdG9wVHJhY2tcbiAgICAgICAgPyB0cmFuc2NlaXZlci5zZW5kZXIudHJhY2suc3RvcCgpXG4gICAgICAgIDogKHRyYW5zY2VpdmVyLnNlbmRlci50cmFjay5lbmFibGVkID0gZmFsc2UpO1xuICAgICAgLy8gV2UgZG9uJ3QgbmVlZCB0byBub3RpZnkgU0ZVIGlmIHVucHVibGlzaGluZyBpbiByZXNwb25zZSB0byByZW1vdGUgc29mdCBtdXRlXG4gICAgICBpZiAodGhpcy5zdGF0ZS5sb2NhbFBhcnRpY2lwYW50Py5wdWJsaXNoZWRUcmFja3MuaW5jbHVkZXModHJhY2tUeXBlKSkge1xuICAgICAgICBhd2FpdCB0aGlzLm5vdGlmeVRyYWNrTXV0ZVN0YXRlQ2hhbmdlZCh1bmRlZmluZWQsIHRyYWNrVHlwZSwgdHJ1ZSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHRyYWNrIHR5cGUgaXMgY3VycmVudGx5IGJlaW5nIHB1Ymxpc2hlZCB0byB0aGUgU0ZVLlxuICAgKlxuICAgKiBAcGFyYW0gdHJhY2tUeXBlIHRoZSB0cmFjayB0eXBlIHRvIGNoZWNrLlxuICAgKi9cbiAgaXNQdWJsaXNoaW5nID0gKHRyYWNrVHlwZTogVHJhY2tUeXBlKTogYm9vbGVhbiA9PiB7XG4gICAgY29uc3QgdHJhbnNjZWl2ZXIgPSB0aGlzLnRyYW5zY2VpdmVyQ2FjaGUuZ2V0KHRyYWNrVHlwZSk7XG4gICAgaWYgKCF0cmFuc2NlaXZlciB8fCAhdHJhbnNjZWl2ZXIuc2VuZGVyKSByZXR1cm4gZmFsc2U7XG4gICAgY29uc3QgdHJhY2sgPSB0cmFuc2NlaXZlci5zZW5kZXIudHJhY2s7XG4gICAgcmV0dXJuICEhdHJhY2sgJiYgdHJhY2sucmVhZHlTdGF0ZSA9PT0gJ2xpdmUnICYmIHRyYWNrLmVuYWJsZWQ7XG4gIH07XG5cbiAgcHJpdmF0ZSBub3RpZnlUcmFja011dGVTdGF0ZUNoYW5nZWQgPSBhc3luYyAoXG4gICAgbWVkaWFTdHJlYW06IE1lZGlhU3RyZWFtIHwgdW5kZWZpbmVkLFxuICAgIHRyYWNrVHlwZTogVHJhY2tUeXBlLFxuICAgIGlzTXV0ZWQ6IGJvb2xlYW4sXG4gICkgPT4ge1xuICAgIGF3YWl0IHRoaXMuc2Z1Q2xpZW50LnVwZGF0ZU11dGVTdGF0ZSh0cmFja1R5cGUsIGlzTXV0ZWQpO1xuXG4gICAgY29uc3QgYXVkaW9PclZpZGVvT3JTY3JlZW5TaGFyZVN0cmVhbSA9XG4gICAgICB0cmFja1R5cGVUb1BhcnRpY2lwYW50U3RyZWFtS2V5KHRyYWNrVHlwZSk7XG4gICAgaWYgKCFhdWRpb09yVmlkZW9PclNjcmVlblNoYXJlU3RyZWFtKSByZXR1cm47XG4gICAgaWYgKGlzTXV0ZWQpIHtcbiAgICAgIHRoaXMuc3RhdGUudXBkYXRlUGFydGljaXBhbnQodGhpcy5zZnVDbGllbnQuc2Vzc2lvbklkLCAocCkgPT4gKHtcbiAgICAgICAgcHVibGlzaGVkVHJhY2tzOiBwLnB1Ymxpc2hlZFRyYWNrcy5maWx0ZXIoKHQpID0+IHQgIT09IHRyYWNrVHlwZSksXG4gICAgICAgIFthdWRpb09yVmlkZW9PclNjcmVlblNoYXJlU3RyZWFtXTogdW5kZWZpbmVkLFxuICAgICAgfSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnN0YXRlLnVwZGF0ZVBhcnRpY2lwYW50KHRoaXMuc2Z1Q2xpZW50LnNlc3Npb25JZCwgKHApID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBwdWJsaXNoZWRUcmFja3M6IHAucHVibGlzaGVkVHJhY2tzLmluY2x1ZGVzKHRyYWNrVHlwZSlcbiAgICAgICAgICAgID8gcC5wdWJsaXNoZWRUcmFja3NcbiAgICAgICAgICAgIDogWy4uLnAucHVibGlzaGVkVHJhY2tzLCB0cmFja1R5cGVdLFxuICAgICAgICAgIFthdWRpb09yVmlkZW9PclNjcmVlblNoYXJlU3RyZWFtXTogbWVkaWFTdHJlYW0sXG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFN0b3BzIHB1Ymxpc2hpbmcgYWxsIHRyYWNrcyBhbmQgc3RvcCBhbGwgdHJhY2tzLlxuICAgKi9cbiAgcHJpdmF0ZSBzdG9wUHVibGlzaGluZyA9ICgpID0+IHtcbiAgICB0aGlzLmxvZ2dlcignZGVidWcnLCAnU3RvcHBpbmcgcHVibGlzaGluZyBhbGwgdHJhY2tzJyk7XG4gICAgdGhpcy5wYy5nZXRTZW5kZXJzKCkuZm9yRWFjaCgocykgPT4ge1xuICAgICAgcy50cmFjaz8uc3RvcCgpO1xuICAgICAgaWYgKHRoaXMucGMuc2lnbmFsaW5nU3RhdGUgIT09ICdjbG9zZWQnKSB7XG4gICAgICAgIHRoaXMucGMucmVtb3ZlVHJhY2socyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgcHJpdmF0ZSBjaGFuZ2VQdWJsaXNoUXVhbGl0eSA9IGFzeW5jIChlbmFibGVkTGF5ZXJzOiBWaWRlb0xheWVyU2V0dGluZ1tdKSA9PiB7XG4gICAgdGhpcy5sb2dnZXIoXG4gICAgICAnaW5mbycsXG4gICAgICAnVXBkYXRlIHB1Ymxpc2ggcXVhbGl0eSwgcmVxdWVzdGVkIGxheWVycyBieSBTRlU6JyxcbiAgICAgIGVuYWJsZWRMYXllcnMsXG4gICAgKTtcblxuICAgIGNvbnN0IHZpZGVvU2VuZGVyID0gdGhpcy50cmFuc2NlaXZlckNhY2hlLmdldChUcmFja1R5cGUuVklERU8pPy5zZW5kZXI7XG4gICAgaWYgKCF2aWRlb1NlbmRlcikge1xuICAgICAgdGhpcy5sb2dnZXIoJ3dhcm4nLCAnVXBkYXRlIHB1Ymxpc2ggcXVhbGl0eSwgbm8gdmlkZW8gc2VuZGVyIGZvdW5kLicpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHBhcmFtcyA9IHZpZGVvU2VuZGVyLmdldFBhcmFtZXRlcnMoKTtcbiAgICBpZiAocGFyYW1zLmVuY29kaW5ncy5sZW5ndGggPT09IDApIHtcbiAgICAgIHRoaXMubG9nZ2VyKFxuICAgICAgICAnd2FybicsXG4gICAgICAgICdVcGRhdGUgcHVibGlzaCBxdWFsaXR5LCBObyBzdWl0YWJsZSB2aWRlbyBlbmNvZGluZyBxdWFsaXR5IGZvdW5kJyxcbiAgICAgICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgW2NvZGVjSW5Vc2VdID0gcGFyYW1zLmNvZGVjcztcbiAgICBjb25zdCB1c2VzU3ZjQ29kZWMgPSBjb2RlY0luVXNlICYmIGlzU3ZjQ29kZWMoY29kZWNJblVzZS5taW1lVHlwZSk7XG5cbiAgICBsZXQgY2hhbmdlZCA9IGZhbHNlO1xuICAgIGZvciAoY29uc3QgZW5jb2RlciBvZiBwYXJhbXMuZW5jb2RpbmdzKSB7XG4gICAgICBjb25zdCBsYXllciA9IHVzZXNTdmNDb2RlY1xuICAgICAgICA/IC8vIGZvciBTVkMsIHdlIG9ubHkgaGF2ZSBvbmUgbGF5ZXIgKHEpIGFuZCBvZnRlbiByaWQgaXMgb21pdHRlZFxuICAgICAgICAgIGVuYWJsZWRMYXllcnNbMF1cbiAgICAgICAgOiAvLyBmb3Igbm9uLVNWQywgd2UgbmVlZCB0byBmaW5kIHRoZSBsYXllciBieSByaWQgKHNpbXVsY2FzdClcbiAgICAgICAgICBlbmFibGVkTGF5ZXJzLmZpbmQoKGwpID0+IGwubmFtZSA9PT0gZW5jb2Rlci5yaWQpID8/XG4gICAgICAgICAgKHBhcmFtcy5lbmNvZGluZ3MubGVuZ3RoID09PSAxID8gZW5hYmxlZExheWVyc1swXSA6IHVuZGVmaW5lZCk7XG5cbiAgICAgIC8vIGZsaXAgJ2FjdGl2ZScgZmxhZyBvbmx5IHdoZW4gbmVjZXNzYXJ5XG4gICAgICBjb25zdCBzaG91bGRBY3RpdmF0ZSA9ICEhbGF5ZXI/LmFjdGl2ZTtcbiAgICAgIGlmIChzaG91bGRBY3RpdmF0ZSAhPT0gZW5jb2Rlci5hY3RpdmUpIHtcbiAgICAgICAgZW5jb2Rlci5hY3RpdmUgPSBzaG91bGRBY3RpdmF0ZTtcbiAgICAgICAgY2hhbmdlZCA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIC8vIHNraXAgdGhlIHJlc3Qgb2YgdGhlIHNldHRpbmdzIGlmIHRoZSBsYXllciBpcyBkaXNhYmxlZCBvciBub3QgZm91bmRcbiAgICAgIGlmICghbGF5ZXIpIGNvbnRpbnVlO1xuXG4gICAgICBjb25zdCB7XG4gICAgICAgIG1heEZyYW1lcmF0ZSxcbiAgICAgICAgc2NhbGVSZXNvbHV0aW9uRG93bkJ5LFxuICAgICAgICBtYXhCaXRyYXRlLFxuICAgICAgICBzY2FsYWJpbGl0eU1vZGUsXG4gICAgICB9ID0gbGF5ZXI7XG4gICAgICBpZiAoXG4gICAgICAgIHNjYWxlUmVzb2x1dGlvbkRvd25CeSA+PSAxICYmXG4gICAgICAgIHNjYWxlUmVzb2x1dGlvbkRvd25CeSAhPT0gZW5jb2Rlci5zY2FsZVJlc29sdXRpb25Eb3duQnlcbiAgICAgICkge1xuICAgICAgICBlbmNvZGVyLnNjYWxlUmVzb2x1dGlvbkRvd25CeSA9IHNjYWxlUmVzb2x1dGlvbkRvd25CeTtcbiAgICAgICAgY2hhbmdlZCA9IHRydWU7XG4gICAgICB9XG4gICAgICBpZiAobWF4Qml0cmF0ZSA+IDAgJiYgbWF4Qml0cmF0ZSAhPT0gZW5jb2Rlci5tYXhCaXRyYXRlKSB7XG4gICAgICAgIGVuY29kZXIubWF4Qml0cmF0ZSA9IG1heEJpdHJhdGU7XG4gICAgICAgIGNoYW5nZWQgPSB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKG1heEZyYW1lcmF0ZSA+IDAgJiYgbWF4RnJhbWVyYXRlICE9PSBlbmNvZGVyLm1heEZyYW1lcmF0ZSkge1xuICAgICAgICBlbmNvZGVyLm1heEZyYW1lcmF0ZSA9IG1heEZyYW1lcmF0ZTtcbiAgICAgICAgY2hhbmdlZCA9IHRydWU7XG4gICAgICB9XG4gICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIHNjYWxhYmlsaXR5TW9kZSBpcyBub3QgaW4gdGhlIHR5cGVkZWZzIHlldFxuICAgICAgaWYgKHNjYWxhYmlsaXR5TW9kZSAmJiBzY2FsYWJpbGl0eU1vZGUgIT09IGVuY29kZXIuc2NhbGFiaWxpdHlNb2RlKSB7XG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3Igc2NhbGFiaWxpdHlNb2RlIGlzIG5vdCBpbiB0aGUgdHlwZWRlZnMgeWV0XG4gICAgICAgIGVuY29kZXIuc2NhbGFiaWxpdHlNb2RlID0gc2NhbGFiaWxpdHlNb2RlO1xuICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBhY3RpdmVMYXllcnMgPSBwYXJhbXMuZW5jb2RpbmdzLmZpbHRlcigoZSkgPT4gZS5hY3RpdmUpO1xuICAgIGlmICghY2hhbmdlZCkge1xuICAgICAgdGhpcy5sb2dnZXIoJ2luZm8nLCBgVXBkYXRlIHB1Ymxpc2ggcXVhbGl0eSwgbm8gY2hhbmdlOmAsIGFjdGl2ZUxheWVycyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgYXdhaXQgdmlkZW9TZW5kZXIuc2V0UGFyYW1ldGVycyhwYXJhbXMpO1xuICAgIHRoaXMubG9nZ2VyKCdpbmZvJywgYFVwZGF0ZSBwdWJsaXNoIHF1YWxpdHksIGVuYWJsZWQgcmlkczpgLCBhY3RpdmVMYXllcnMpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSByZXN1bHQgb2YgdGhlIGBSVENQZWVyQ29ubmVjdGlvbi5nZXRTdGF0cygpYCBtZXRob2RcbiAgICogQHBhcmFtIHNlbGVjdG9yXG4gICAqIEByZXR1cm5zXG4gICAqL1xuICBnZXRTdGF0cyA9IChzZWxlY3Rvcj86IE1lZGlhU3RyZWFtVHJhY2sgfCBudWxsIHwgdW5kZWZpbmVkKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMucGMuZ2V0U3RhdHMoc2VsZWN0b3IpO1xuICB9O1xuXG4gIHByaXZhdGUgZ2V0Q29kZWNQcmVmZXJlbmNlcyA9IChcbiAgICB0cmFja1R5cGU6IFRyYWNrVHlwZSxcbiAgICBwcmVmZXJyZWRDb2RlYzogc3RyaW5nIHwgdW5kZWZpbmVkLFxuICAgIGNvZGVjUHJlZmVyZW5jZXNTb3VyY2U6ICdzZW5kZXInIHwgJ3JlY2VpdmVyJyxcbiAgKSA9PiB7XG4gICAgaWYgKHRyYWNrVHlwZSA9PT0gVHJhY2tUeXBlLlZJREVPKSB7XG4gICAgICByZXR1cm4gZ2V0UHJlZmVycmVkQ29kZWNzKFxuICAgICAgICAndmlkZW8nLFxuICAgICAgICBwcmVmZXJyZWRDb2RlYyB8fCAndnA4JyxcbiAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICBjb2RlY1ByZWZlcmVuY2VzU291cmNlLFxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKHRyYWNrVHlwZSA9PT0gVHJhY2tUeXBlLkFVRElPKSB7XG4gICAgICBjb25zdCBkZWZhdWx0QXVkaW9Db2RlYyA9IHRoaXMuaXNSZWRFbmFibGVkID8gJ3JlZCcgOiAnb3B1cyc7XG4gICAgICBjb25zdCBjb2RlY1RvUmVtb3ZlID0gIXRoaXMuaXNSZWRFbmFibGVkID8gJ3JlZCcgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gZ2V0UHJlZmVycmVkQ29kZWNzKFxuICAgICAgICAnYXVkaW8nLFxuICAgICAgICBwcmVmZXJyZWRDb2RlYyA/PyBkZWZhdWx0QXVkaW9Db2RlYyxcbiAgICAgICAgY29kZWNUb1JlbW92ZSxcbiAgICAgICAgY29kZWNQcmVmZXJlbmNlc1NvdXJjZSxcbiAgICAgICk7XG4gICAgfVxuICB9O1xuXG4gIHByaXZhdGUgb25JY2VDYW5kaWRhdGUgPSAoZTogUlRDUGVlckNvbm5lY3Rpb25JY2VFdmVudCkgPT4ge1xuICAgIGNvbnN0IHsgY2FuZGlkYXRlIH0gPSBlO1xuICAgIGlmICghY2FuZGlkYXRlKSB7XG4gICAgICB0aGlzLmxvZ2dlcignZGVidWcnLCAnbnVsbCBpY2UgY2FuZGlkYXRlJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuc2Z1Q2xpZW50XG4gICAgICAuaWNlVHJpY2tsZSh7XG4gICAgICAgIGljZUNhbmRpZGF0ZTogZ2V0SWNlQ2FuZGlkYXRlKGNhbmRpZGF0ZSksXG4gICAgICAgIHBlZXJUeXBlOiBQZWVyVHlwZS5QVUJMSVNIRVJfVU5TUEVDSUZJRUQsXG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgdGhpcy5sb2dnZXIoJ3dhcm4nLCBgSUNFVHJpY2tsZSBmYWlsZWRgLCBlcnIpO1xuICAgICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIFNGVSBjbGllbnQgdG8gdXNlLlxuICAgKlxuICAgKiBAcGFyYW0gc2Z1Q2xpZW50IHRoZSBTRlUgY2xpZW50IHRvIHVzZS5cbiAgICovXG4gIHNldFNmdUNsaWVudCA9IChzZnVDbGllbnQ6IFN0cmVhbVNmdUNsaWVudCkgPT4ge1xuICAgIHRoaXMuc2Z1Q2xpZW50ID0gc2Z1Q2xpZW50O1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXN0YXJ0cyB0aGUgSUNFIGNvbm5lY3Rpb24gYW5kIHJlbmVnb3RpYXRlcyB3aXRoIHRoZSBTRlUuXG4gICAqL1xuICByZXN0YXJ0SWNlID0gYXN5bmMgKCkgPT4ge1xuICAgIHRoaXMubG9nZ2VyKCdkZWJ1ZycsICdSZXN0YXJ0aW5nIElDRSBjb25uZWN0aW9uJyk7XG4gICAgY29uc3Qgc2lnbmFsaW5nU3RhdGUgPSB0aGlzLnBjLnNpZ25hbGluZ1N0YXRlO1xuICAgIGlmICh0aGlzLmlzSWNlUmVzdGFydGluZyB8fCBzaWduYWxpbmdTdGF0ZSA9PT0gJ2hhdmUtbG9jYWwtb2ZmZXInKSB7XG4gICAgICB0aGlzLmxvZ2dlcignZGVidWcnLCAnSUNFIHJlc3RhcnQgaXMgYWxyZWFkeSBpbiBwcm9ncmVzcycpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBhd2FpdCB0aGlzLm5lZ290aWF0ZSh7IGljZVJlc3RhcnQ6IHRydWUgfSk7XG4gIH07XG5cbiAgcHJpdmF0ZSBvbk5lZ290aWF0aW9uTmVlZGVkID0gKCkgPT4ge1xuICAgIHRoaXMubmVnb3RpYXRlKCkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgdGhpcy5sb2dnZXIoJ2Vycm9yJywgYE5lZ290aWF0aW9uIGZhaWxlZC5gLCBlcnIpO1xuICAgICAgdGhpcy5vblVucmVjb3ZlcmFibGVFcnJvcj8uKCk7XG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEluaXRpYXRlcyBhIG5ldyBvZmZlci9hbnN3ZXIgZXhjaGFuZ2Ugd2l0aCB0aGUgY3VycmVudGx5IGNvbm5lY3RlZCBTRlUuXG4gICAqXG4gICAqIEBwYXJhbSBvcHRpb25zIHRoZSBvcHRpb25hbCBvZmZlciBvcHRpb25zIHRvIHVzZS5cbiAgICovXG4gIHByaXZhdGUgbmVnb3RpYXRlID0gYXN5bmMgKG9wdGlvbnM/OiBSVENPZmZlck9wdGlvbnMpID0+IHtcbiAgICBjb25zdCBvZmZlciA9IGF3YWl0IHRoaXMucGMuY3JlYXRlT2ZmZXIob3B0aW9ucyk7XG4gICAgaWYgKG9mZmVyLnNkcCkge1xuICAgICAgb2ZmZXIuc2RwID0gdG9nZ2xlRHR4KG9mZmVyLnNkcCwgdGhpcy5pc0R0eEVuYWJsZWQpO1xuICAgICAgaWYgKHRoaXMuaXNQdWJsaXNoaW5nKFRyYWNrVHlwZS5TQ1JFRU5fU0hBUkVfQVVESU8pKSB7XG4gICAgICAgIG9mZmVyLnNkcCA9IHRoaXMuZW5hYmxlSGlnaFF1YWxpdHlBdWRpbyhvZmZlci5zZHApO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuaXNQdWJsaXNoaW5nKFRyYWNrVHlwZS5WSURFTykpIHtcbiAgICAgICAgLy8gSG90Zml4IGZvciBwbGF0Zm9ybXMgdGhhdCBkb24ndCByZXNwZWN0IHRoZSBvcmRlcmVkIGNvZGVjIGxpc3RcbiAgICAgICAgLy8gKEZpcmVmb3gsIEFuZHJvaWQsIExpbnV4LCBldGMuLi4pLlxuICAgICAgICAvLyBXZSByZW1vdmUgYWxsIHRoZSBjb2RlY3MgZnJvbSB0aGUgU0RQIGV4Y2VwdCB0aGUgb25lIHdlIHdhbnQgdG8gdXNlLlxuICAgICAgICBvZmZlci5zZHAgPSB0aGlzLnJlbW92ZVVucHJlZmVycmVkQ29kZWNzKG9mZmVyLnNkcCwgVHJhY2tUeXBlLlZJREVPKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCB0cmFja0luZm9zID0gdGhpcy5nZXRBbm5vdW5jZWRUcmFja3Mob2ZmZXIuc2RwKTtcbiAgICBpZiAodHJhY2tJbmZvcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgQ2FuJ3QgbmVnb3RpYXRlIHdpdGhvdXQgYW5ub3VuY2luZyBhbnkgdHJhY2tzYCk7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIHRoaXMuaXNJY2VSZXN0YXJ0aW5nID0gb3B0aW9ucz8uaWNlUmVzdGFydCA/PyBmYWxzZTtcbiAgICAgIGF3YWl0IHRoaXMucGMuc2V0TG9jYWxEZXNjcmlwdGlvbihvZmZlcik7XG5cbiAgICAgIGNvbnN0IHsgcmVzcG9uc2UgfSA9IGF3YWl0IHRoaXMuc2Z1Q2xpZW50LnNldFB1Ymxpc2hlcih7XG4gICAgICAgIHNkcDogb2ZmZXIuc2RwIHx8ICcnLFxuICAgICAgICB0cmFja3M6IHRyYWNrSW5mb3MsXG4gICAgICB9KTtcblxuICAgICAgaWYgKHJlc3BvbnNlLmVycm9yKSB0aHJvdyBuZXcgRXJyb3IocmVzcG9uc2UuZXJyb3IubWVzc2FnZSk7XG4gICAgICBhd2FpdCB0aGlzLnBjLnNldFJlbW90ZURlc2NyaXB0aW9uKHsgdHlwZTogJ2Fuc3dlcicsIHNkcDogcmVzcG9uc2Uuc2RwIH0pO1xuICAgIH0gZmluYWxseSB7XG4gICAgICB0aGlzLmlzSWNlUmVzdGFydGluZyA9IGZhbHNlO1xuICAgIH1cblxuICAgIHRoaXMuc2Z1Q2xpZW50LmljZVRyaWNrbGVCdWZmZXIucHVibGlzaGVyQ2FuZGlkYXRlcy5zdWJzY3JpYmUoXG4gICAgICBhc3luYyAoY2FuZGlkYXRlKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgaWNlQ2FuZGlkYXRlID0gSlNPTi5wYXJzZShjYW5kaWRhdGUuaWNlQ2FuZGlkYXRlKTtcbiAgICAgICAgICBhd2FpdCB0aGlzLnBjLmFkZEljZUNhbmRpZGF0ZShpY2VDYW5kaWRhdGUpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgdGhpcy5sb2dnZXIoJ3dhcm4nLCBgSUNFIGNhbmRpZGF0ZSBlcnJvcmAsIGUsIGNhbmRpZGF0ZSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgKTtcbiAgfTtcblxuICBwcml2YXRlIHJlbW92ZVVucHJlZmVycmVkQ29kZWNzKHNkcDogc3RyaW5nLCB0cmFja1R5cGU6IFRyYWNrVHlwZSk6IHN0cmluZyB7XG4gICAgY29uc3Qgb3B0cyA9IHRoaXMucHVibGlzaE9wdHNGb3JUcmFjay5nZXQodHJhY2tUeXBlKTtcbiAgICBjb25zdCBmb3JjZVNpbmdsZUNvZGVjID1cbiAgICAgICEhb3B0cz8uZm9yY2VTaW5nbGVDb2RlYyB8fCBpc1JlYWN0TmF0aXZlKCkgfHwgaXNGaXJlZm94KCk7XG4gICAgaWYgKCFvcHRzIHx8ICFmb3JjZVNpbmdsZUNvZGVjKSByZXR1cm4gc2RwO1xuXG4gICAgY29uc3QgY29kZWMgPSBvcHRzLmZvcmNlQ29kZWMgfHwgZ2V0T3B0aW1hbFZpZGVvQ29kZWMob3B0cy5wcmVmZXJyZWRDb2RlYyk7XG4gICAgY29uc3Qgb3JkZXJlZENvZGVjcyA9IHRoaXMuZ2V0Q29kZWNQcmVmZXJlbmNlcyh0cmFja1R5cGUsIGNvZGVjLCAnc2VuZGVyJyk7XG4gICAgaWYgKCFvcmRlcmVkQ29kZWNzIHx8IG9yZGVyZWRDb2RlY3MubGVuZ3RoID09PSAwKSByZXR1cm4gc2RwO1xuXG4gICAgY29uc3QgdHJhbnNjZWl2ZXIgPSB0aGlzLnRyYW5zY2VpdmVyQ2FjaGUuZ2V0KHRyYWNrVHlwZSk7XG4gICAgaWYgKCF0cmFuc2NlaXZlcikgcmV0dXJuIHNkcDtcblxuICAgIGNvbnN0IGluZGV4ID0gdGhpcy50cmFuc2NlaXZlckluaXRPcmRlci5pbmRleE9mKHRyYWNrVHlwZSk7XG4gICAgY29uc3QgbWlkID0gZXh0cmFjdE1pZCh0cmFuc2NlaXZlciwgaW5kZXgsIHNkcCk7XG4gICAgY29uc3QgW2NvZGVjVG9QcmVzZXJ2ZV0gPSBvcmRlcmVkQ29kZWNzO1xuICAgIHJldHVybiBwcmVzZXJ2ZUNvZGVjKHNkcCwgbWlkLCBjb2RlY1RvUHJlc2VydmUpO1xuICB9XG5cbiAgcHJpdmF0ZSBlbmFibGVIaWdoUXVhbGl0eUF1ZGlvID0gKHNkcDogc3RyaW5nKSA9PiB7XG4gICAgY29uc3QgdHJhbnNjZWl2ZXIgPSB0aGlzLnRyYW5zY2VpdmVyQ2FjaGUuZ2V0KFRyYWNrVHlwZS5TQ1JFRU5fU0hBUkVfQVVESU8pO1xuICAgIGlmICghdHJhbnNjZWl2ZXIpIHJldHVybiBzZHA7XG5cbiAgICBjb25zdCB0cmFuc2NlaXZlckluaXRJbmRleCA9IHRoaXMudHJhbnNjZWl2ZXJJbml0T3JkZXIuaW5kZXhPZihcbiAgICAgIFRyYWNrVHlwZS5TQ1JFRU5fU0hBUkVfQVVESU8sXG4gICAgKTtcbiAgICBjb25zdCBtaWQgPSBleHRyYWN0TWlkKHRyYW5zY2VpdmVyLCB0cmFuc2NlaXZlckluaXRJbmRleCwgc2RwKTtcbiAgICByZXR1cm4gZW5hYmxlSGlnaFF1YWxpdHlBdWRpbyhzZHAsIG1pZCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBsaXN0IG9mIHRyYWNrcyB0aGF0IGFyZSBjdXJyZW50bHkgYmVpbmcgcHVibGlzaGVkLlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICogQHBhcmFtIHNkcCBhbiBvcHRpb25hbCBTRFAgdG8gZXh0cmFjdCB0aGUgYG1pZGAgZnJvbS5cbiAgICovXG4gIGdldEFubm91bmNlZFRyYWNrcyA9IChzZHA/OiBzdHJpbmcpOiBUcmFja0luZm9bXSA9PiB7XG4gICAgc2RwID0gc2RwIHx8IHRoaXMucGMubG9jYWxEZXNjcmlwdGlvbj8uc2RwO1xuICAgIHJldHVybiB0aGlzLnBjXG4gICAgICAuZ2V0VHJhbnNjZWl2ZXJzKClcbiAgICAgIC5maWx0ZXIoKHQpID0+IHQuZGlyZWN0aW9uID09PSAnc2VuZG9ubHknICYmIHQuc2VuZGVyLnRyYWNrKVxuICAgICAgLm1hcDxUcmFja0luZm8+KCh0cmFuc2NlaXZlcikgPT4ge1xuICAgICAgICBsZXQgdHJhY2tUeXBlITogVHJhY2tUeXBlO1xuICAgICAgICB0aGlzLnRyYW5zY2VpdmVyQ2FjaGUuZm9yRWFjaCgodmFsdWUsIGtleSkgPT4ge1xuICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdHJhbnNjZWl2ZXIpIHRyYWNrVHlwZSA9IGtleTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHRyYWNrID0gdHJhbnNjZWl2ZXIuc2VuZGVyLnRyYWNrITtcbiAgICAgICAgbGV0IG9wdGltYWxMYXllcnM6IE9wdGltYWxWaWRlb0xheWVyW107XG4gICAgICAgIGNvbnN0IGlzVHJhY2tMaXZlID0gdHJhY2sucmVhZHlTdGF0ZSA9PT0gJ2xpdmUnO1xuICAgICAgICBpZiAoaXNUcmFja0xpdmUpIHtcbiAgICAgICAgICBvcHRpbWFsTGF5ZXJzID0gdGhpcy5jb21wdXRlTGF5ZXJzKHRyYWNrVHlwZSwgdHJhY2spIHx8IFtdO1xuICAgICAgICAgIHRoaXMudHJhY2tMYXllcnNDYWNoZS5zZXQodHJhY2tUeXBlLCBvcHRpbWFsTGF5ZXJzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyB3ZSByZXBvcnQgdGhlIGxhc3Qga25vd24gb3B0aW1hbCBsYXllcnMgZm9yIGVuZGVkIHRyYWNrc1xuICAgICAgICAgIG9wdGltYWxMYXllcnMgPSB0aGlzLnRyYWNrTGF5ZXJzQ2FjaGUuZ2V0KHRyYWNrVHlwZSkgfHwgW107XG4gICAgICAgICAgdGhpcy5sb2dnZXIoXG4gICAgICAgICAgICAnZGVidWcnLFxuICAgICAgICAgICAgYFRyYWNrICR7VHJhY2tUeXBlW3RyYWNrVHlwZV19IGlzIGVuZGVkLiBBbm5vdW5jaW5nIGxhc3Qga25vd24gb3B0aW1hbCBsYXllcnNgLFxuICAgICAgICAgICAgb3B0aW1hbExheWVycyxcbiAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbGF5ZXJzID0gb3B0aW1hbExheWVycy5tYXA8VmlkZW9MYXllcj4oKG9wdGltYWxMYXllcikgPT4gKHtcbiAgICAgICAgICByaWQ6IG9wdGltYWxMYXllci5yaWQgfHwgJycsXG4gICAgICAgICAgYml0cmF0ZTogb3B0aW1hbExheWVyLm1heEJpdHJhdGUgfHwgMCxcbiAgICAgICAgICBmcHM6IG9wdGltYWxMYXllci5tYXhGcmFtZXJhdGUgfHwgMCxcbiAgICAgICAgICBxdWFsaXR5OiByaWRUb1ZpZGVvUXVhbGl0eShvcHRpbWFsTGF5ZXIucmlkIHx8ICcnKSxcbiAgICAgICAgICB2aWRlb0RpbWVuc2lvbjoge1xuICAgICAgICAgICAgd2lkdGg6IG9wdGltYWxMYXllci53aWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogb3B0aW1hbExheWVyLmhlaWdodCxcbiAgICAgICAgICB9LFxuICAgICAgICB9KSk7XG5cbiAgICAgICAgY29uc3QgaXNBdWRpb1RyYWNrID0gW1xuICAgICAgICAgIFRyYWNrVHlwZS5BVURJTyxcbiAgICAgICAgICBUcmFja1R5cGUuU0NSRUVOX1NIQVJFX0FVRElPLFxuICAgICAgICBdLmluY2x1ZGVzKHRyYWNrVHlwZSk7XG5cbiAgICAgICAgY29uc3QgdHJhY2tTZXR0aW5ncyA9IHRyYWNrLmdldFNldHRpbmdzKCk7XG4gICAgICAgIGNvbnN0IGlzU3RlcmVvID0gaXNBdWRpb1RyYWNrICYmIHRyYWNrU2V0dGluZ3MuY2hhbm5lbENvdW50ID09PSAyO1xuICAgICAgICBjb25zdCB0cmFuc2NlaXZlckluaXRJbmRleCA9XG4gICAgICAgICAgdGhpcy50cmFuc2NlaXZlckluaXRPcmRlci5pbmRleE9mKHRyYWNrVHlwZSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdHJhY2tJZDogdHJhY2suaWQsXG4gICAgICAgICAgbGF5ZXJzOiBsYXllcnMsXG4gICAgICAgICAgdHJhY2tUeXBlLFxuICAgICAgICAgIG1pZDogZXh0cmFjdE1pZCh0cmFuc2NlaXZlciwgdHJhbnNjZWl2ZXJJbml0SW5kZXgsIHNkcCksXG4gICAgICAgICAgc3RlcmVvOiBpc1N0ZXJlbyxcbiAgICAgICAgICBkdHg6IGlzQXVkaW9UcmFjayAmJiB0aGlzLmlzRHR4RW5hYmxlZCxcbiAgICAgICAgICByZWQ6IGlzQXVkaW9UcmFjayAmJiB0aGlzLmlzUmVkRW5hYmxlZCxcbiAgICAgICAgICBtdXRlZDogIWlzVHJhY2tMaXZlLFxuICAgICAgICB9O1xuICAgICAgfSk7XG4gIH07XG5cbiAgcHJpdmF0ZSBjb21wdXRlTGF5ZXJzID0gKFxuICAgIHRyYWNrVHlwZTogVHJhY2tUeXBlLFxuICAgIHRyYWNrOiBNZWRpYVN0cmVhbVRyYWNrLFxuICAgIG9wdHM/OiBQdWJsaXNoT3B0aW9ucyxcbiAgKTogT3B0aW1hbFZpZGVvTGF5ZXJbXSB8IHVuZGVmaW5lZCA9PiB7XG4gICAgY29uc3QgeyBzZXR0aW5ncyB9ID0gdGhpcy5zdGF0ZTtcbiAgICBjb25zdCB0YXJnZXRSZXNvbHV0aW9uID0gc2V0dGluZ3M/LnZpZGVvXG4gICAgICAudGFyZ2V0X3Jlc29sdXRpb24gYXMgVGFyZ2V0UmVzb2x1dGlvblJlc3BvbnNlO1xuICAgIGNvbnN0IHNjcmVlblNoYXJlQml0cmF0ZSA9XG4gICAgICBzZXR0aW5ncz8uc2NyZWVuc2hhcmluZy50YXJnZXRfcmVzb2x1dGlvbj8uYml0cmF0ZTtcblxuICAgIGNvbnN0IHB1Ymxpc2hPcHRzID0gb3B0cyB8fCB0aGlzLnB1Ymxpc2hPcHRzRm9yVHJhY2suZ2V0KHRyYWNrVHlwZSk7XG4gICAgY29uc3QgY29kZWNJblVzZSA9XG4gICAgICBvcHRzPy5mb3JjZUNvZGVjIHx8IGdldE9wdGltYWxWaWRlb0NvZGVjKG9wdHM/LnByZWZlcnJlZENvZGVjKTtcbiAgICByZXR1cm4gdHJhY2tUeXBlID09PSBUcmFja1R5cGUuVklERU9cbiAgICAgID8gZmluZE9wdGltYWxWaWRlb0xheWVycyh0cmFjaywgdGFyZ2V0UmVzb2x1dGlvbiwgY29kZWNJblVzZSwgcHVibGlzaE9wdHMpXG4gICAgICA6IHRyYWNrVHlwZSA9PT0gVHJhY2tUeXBlLlNDUkVFTl9TSEFSRVxuICAgICAgICA/IGZpbmRPcHRpbWFsU2NyZWVuU2hhcmluZ0xheWVycyh0cmFjaywgcHVibGlzaE9wdHMsIHNjcmVlblNoYXJlQml0cmF0ZSlcbiAgICAgICAgOiB1bmRlZmluZWQ7XG4gIH07XG5cbiAgcHJpdmF0ZSBvbkljZUNhbmRpZGF0ZUVycm9yID0gKGU6IEV2ZW50KSA9PiB7XG4gICAgY29uc3QgZXJyb3JNZXNzYWdlID1cbiAgICAgIGUgaW5zdGFuY2VvZiBSVENQZWVyQ29ubmVjdGlvbkljZUVycm9yRXZlbnQgJiZcbiAgICAgIGAke2UuZXJyb3JDb2RlfTogJHtlLmVycm9yVGV4dH1gO1xuICAgIGNvbnN0IGljZVN0YXRlID0gdGhpcy5wYy5pY2VDb25uZWN0aW9uU3RhdGU7XG4gICAgY29uc3QgbG9nTGV2ZWwgPVxuICAgICAgaWNlU3RhdGUgPT09ICdjb25uZWN0ZWQnIHx8IGljZVN0YXRlID09PSAnY2hlY2tpbmcnID8gJ2RlYnVnJyA6ICd3YXJuJztcbiAgICB0aGlzLmxvZ2dlcihsb2dMZXZlbCwgYElDRSBDYW5kaWRhdGUgZXJyb3JgLCBlcnJvck1lc3NhZ2UpO1xuICB9O1xuXG4gIHByaXZhdGUgb25JY2VDb25uZWN0aW9uU3RhdGVDaGFuZ2UgPSAoKSA9PiB7XG4gICAgY29uc3Qgc3RhdGUgPSB0aGlzLnBjLmljZUNvbm5lY3Rpb25TdGF0ZTtcbiAgICB0aGlzLmxvZ2dlcignZGVidWcnLCBgSUNFIENvbm5lY3Rpb24gc3RhdGUgY2hhbmdlZCB0b2AsIHN0YXRlKTtcblxuICAgIGlmICh0aGlzLnN0YXRlLmNhbGxpbmdTdGF0ZSA9PT0gQ2FsbGluZ1N0YXRlLlJFQ09OTkVDVElORykgcmV0dXJuO1xuXG4gICAgaWYgKHN0YXRlID09PSAnZmFpbGVkJyB8fCBzdGF0ZSA9PT0gJ2Rpc2Nvbm5lY3RlZCcpIHtcbiAgICAgIHRoaXMubG9nZ2VyKCdkZWJ1ZycsIGBBdHRlbXB0aW5nIHRvIHJlc3RhcnQgSUNFYCk7XG4gICAgICB0aGlzLnJlc3RhcnRJY2UoKS5jYXRjaCgoZSkgPT4ge1xuICAgICAgICB0aGlzLmxvZ2dlcignZXJyb3InLCBgSUNFIHJlc3RhcnQgZXJyb3JgLCBlKTtcbiAgICAgICAgdGhpcy5vblVucmVjb3ZlcmFibGVFcnJvcj8uKCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgcHJpdmF0ZSBvbkljZUdhdGhlcmluZ1N0YXRlQ2hhbmdlID0gKCkgPT4ge1xuICAgIHRoaXMubG9nZ2VyKCdkZWJ1ZycsIGBJQ0UgR2F0aGVyaW5nIFN0YXRlYCwgdGhpcy5wYy5pY2VHYXRoZXJpbmdTdGF0ZSk7XG4gIH07XG5cbiAgcHJpdmF0ZSBvblNpZ25hbGluZ1N0YXRlQ2hhbmdlID0gKCkgPT4ge1xuICAgIHRoaXMubG9nZ2VyKCdkZWJ1ZycsIGBTaWduYWxpbmcgc3RhdGUgY2hhbmdlZGAsIHRoaXMucGMuc2lnbmFsaW5nU3RhdGUpO1xuICB9O1xufVxuIiwiaW1wb3J0IHsgU3RyZWFtU2Z1Q2xpZW50IH0gZnJvbSAnLi4vU3RyZWFtU2Z1Q2xpZW50JztcbmltcG9ydCB7IGdldEljZUNhbmRpZGF0ZSB9IGZyb20gJy4vaGVscGVycy9pY2VDYW5kaWRhdGUnO1xuaW1wb3J0IHsgUGVlclR5cGUgfSBmcm9tICcuLi9nZW4vdmlkZW8vc2Z1L21vZGVscy9tb2RlbHMnO1xuaW1wb3J0IHsgU3Vic2NyaWJlck9mZmVyIH0gZnJvbSAnLi4vZ2VuL3ZpZGVvL3NmdS9ldmVudC9ldmVudHMnO1xuaW1wb3J0IHsgRGlzcGF0Y2hlciB9IGZyb20gJy4vRGlzcGF0Y2hlcic7XG5pbXBvcnQgeyBnZXRMb2dnZXIgfSBmcm9tICcuLi9sb2dnZXInO1xuaW1wb3J0IHsgQ2FsbGluZ1N0YXRlLCBDYWxsU3RhdGUgfSBmcm9tICcuLi9zdG9yZSc7XG5pbXBvcnQgeyB3aXRob3V0Q29uY3VycmVuY3kgfSBmcm9tICcuLi9oZWxwZXJzL2NvbmN1cnJlbmN5JztcbmltcG9ydCB7IHRvVHJhY2tUeXBlLCB0cmFja1R5cGVUb1BhcnRpY2lwYW50U3RyZWFtS2V5IH0gZnJvbSAnLi9oZWxwZXJzL3RyYWNrcyc7XG5pbXBvcnQgeyBMb2dnZXIgfSBmcm9tICcuLi9jb29yZGluYXRvci9jb25uZWN0aW9uL3R5cGVzJztcblxuZXhwb3J0IHR5cGUgU3Vic2NyaWJlck9wdHMgPSB7XG4gIHNmdUNsaWVudDogU3RyZWFtU2Z1Q2xpZW50O1xuICBkaXNwYXRjaGVyOiBEaXNwYXRjaGVyO1xuICBzdGF0ZTogQ2FsbFN0YXRlO1xuICBjb25uZWN0aW9uQ29uZmlnPzogUlRDQ29uZmlndXJhdGlvbjtcbiAgb25VbnJlY292ZXJhYmxlRXJyb3I/OiAoKSA9PiB2b2lkO1xuICBsb2dUYWc6IHN0cmluZztcbn07XG5cbi8qKlxuICogQSB3cmFwcGVyIGFyb3VuZCB0aGUgYFJUQ1BlZXJDb25uZWN0aW9uYCB0aGF0IGhhbmRsZXMgdGhlIGluY29taW5nXG4gKiBtZWRpYSBzdHJlYW1zIGZyb20gdGhlIFNGVS5cbiAqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNsYXNzIFN1YnNjcmliZXIge1xuICBwcml2YXRlIHJlYWRvbmx5IGxvZ2dlcjogTG9nZ2VyO1xuICBwcml2YXRlIHBjOiBSVENQZWVyQ29ubmVjdGlvbjtcbiAgcHJpdmF0ZSBzZnVDbGllbnQ6IFN0cmVhbVNmdUNsaWVudDtcbiAgcHJpdmF0ZSBzdGF0ZTogQ2FsbFN0YXRlO1xuXG4gIHByaXZhdGUgcmVhZG9ubHkgdW5yZWdpc3Rlck9uU3Vic2NyaWJlck9mZmVyOiAoKSA9PiB2b2lkO1xuICBwcml2YXRlIHJlYWRvbmx5IHVucmVnaXN0ZXJPbkljZVJlc3RhcnQ6ICgpID0+IHZvaWQ7XG4gIHByaXZhdGUgcmVhZG9ubHkgb25VbnJlY292ZXJhYmxlRXJyb3I/OiAoKSA9PiB2b2lkO1xuXG4gIHByaXZhdGUgaXNJY2VSZXN0YXJ0aW5nID0gZmFsc2U7XG5cbiAgLyoqXG4gICAqIENvbnN0cnVjdHMgYSBuZXcgYFN1YnNjcmliZXJgIGluc3RhbmNlLlxuICAgKlxuICAgKiBAcGFyYW0gc2Z1Q2xpZW50IHRoZSBTRlUgY2xpZW50IHRvIHVzZS5cbiAgICogQHBhcmFtIGRpc3BhdGNoZXIgdGhlIGRpc3BhdGNoZXIgdG8gdXNlLlxuICAgKiBAcGFyYW0gc3RhdGUgdGhlIHN0YXRlIG9mIHRoZSBjYWxsLlxuICAgKiBAcGFyYW0gY29ubmVjdGlvbkNvbmZpZyB0aGUgY29ubmVjdGlvbiBjb25maWd1cmF0aW9uIHRvIHVzZS5cbiAgICogQHBhcmFtIGljZVJlc3RhcnREZWxheSB0aGUgZGVsYXkgaW4gbWlsbGlzZWNvbmRzIHRvIHdhaXQgYmVmb3JlIHJlc3RhcnRpbmcgSUNFIHdoZW4gY29ubmVjdGlvbiBnb2VzIHRvIGBkaXNjb25uZWN0ZWRgIHN0YXRlLlxuICAgKiBAcGFyYW0gb25VbnJlY292ZXJhYmxlRXJyb3IgYSBjYWxsYmFjayB0byBjYWxsIHdoZW4gYW4gdW5yZWNvdmVyYWJsZSBlcnJvciBvY2N1cnMuXG4gICAqIEBwYXJhbSBsb2dUYWcgYSB0YWcgdG8gdXNlIGZvciBsb2dnaW5nLlxuICAgKi9cbiAgY29uc3RydWN0b3Ioe1xuICAgIHNmdUNsaWVudCxcbiAgICBkaXNwYXRjaGVyLFxuICAgIHN0YXRlLFxuICAgIGNvbm5lY3Rpb25Db25maWcsXG4gICAgb25VbnJlY292ZXJhYmxlRXJyb3IsXG4gICAgbG9nVGFnLFxuICB9OiBTdWJzY3JpYmVyT3B0cykge1xuICAgIHRoaXMubG9nZ2VyID0gZ2V0TG9nZ2VyKFsnU3Vic2NyaWJlcicsIGxvZ1RhZ10pO1xuICAgIHRoaXMuc2Z1Q2xpZW50ID0gc2Z1Q2xpZW50O1xuICAgIHRoaXMuc3RhdGUgPSBzdGF0ZTtcbiAgICB0aGlzLm9uVW5yZWNvdmVyYWJsZUVycm9yID0gb25VbnJlY292ZXJhYmxlRXJyb3I7XG5cbiAgICB0aGlzLnBjID0gdGhpcy5jcmVhdGVQZWVyQ29ubmVjdGlvbihjb25uZWN0aW9uQ29uZmlnKTtcblxuICAgIGNvbnN0IHN1YnNjcmliZXJPZmZlckNvbmN1cnJlbmN5VGFnID0gU3ltYm9sKCdzdWJzY3JpYmVyT2ZmZXInKTtcbiAgICB0aGlzLnVucmVnaXN0ZXJPblN1YnNjcmliZXJPZmZlciA9IGRpc3BhdGNoZXIub24oXG4gICAgICAnc3Vic2NyaWJlck9mZmVyJyxcbiAgICAgIChzdWJzY3JpYmVyT2ZmZXIpID0+IHtcbiAgICAgICAgd2l0aG91dENvbmN1cnJlbmN5KHN1YnNjcmliZXJPZmZlckNvbmN1cnJlbmN5VGFnLCAoKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMubmVnb3RpYXRlKHN1YnNjcmliZXJPZmZlcik7XG4gICAgICAgIH0pLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICB0aGlzLmxvZ2dlcignZXJyb3InLCBgTmVnb3RpYXRpb24gZmFpbGVkLmAsIGVycik7XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICApO1xuXG4gICAgY29uc3QgaWNlUmVzdGFydENvbmN1cnJlbmN5VGFnID0gU3ltYm9sKCdpY2VSZXN0YXJ0Jyk7XG4gICAgdGhpcy51bnJlZ2lzdGVyT25JY2VSZXN0YXJ0ID0gZGlzcGF0Y2hlci5vbignaWNlUmVzdGFydCcsIChpY2VSZXN0YXJ0KSA9PiB7XG4gICAgICB3aXRob3V0Q29uY3VycmVuY3koaWNlUmVzdGFydENvbmN1cnJlbmN5VGFnLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGlmIChpY2VSZXN0YXJ0LnBlZXJUeXBlICE9PSBQZWVyVHlwZS5TVUJTQ1JJQkVSKSByZXR1cm47XG4gICAgICAgIGF3YWl0IHRoaXMucmVzdGFydEljZSgpO1xuICAgICAgfSkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICB0aGlzLmxvZ2dlcignZXJyb3InLCBgSUNFUmVzdGFydCBmYWlsZWRgLCBlcnIpO1xuICAgICAgICB0aGlzLm9uVW5yZWNvdmVyYWJsZUVycm9yPy4oKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgYFJUQ1BlZXJDb25uZWN0aW9uYCBpbnN0YW5jZSB3aXRoIHRoZSBnaXZlbiBjb25maWd1cmF0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gY29ubmVjdGlvbkNvbmZpZyB0aGUgY29ubmVjdGlvbiBjb25maWd1cmF0aW9uIHRvIHVzZS5cbiAgICovXG4gIHByaXZhdGUgY3JlYXRlUGVlckNvbm5lY3Rpb24gPSAoY29ubmVjdGlvbkNvbmZpZz86IFJUQ0NvbmZpZ3VyYXRpb24pID0+IHtcbiAgICBjb25zdCBwYyA9IG5ldyBSVENQZWVyQ29ubmVjdGlvbihjb25uZWN0aW9uQ29uZmlnKTtcbiAgICBwYy5hZGRFdmVudExpc3RlbmVyKCdpY2VjYW5kaWRhdGUnLCB0aGlzLm9uSWNlQ2FuZGlkYXRlKTtcbiAgICBwYy5hZGRFdmVudExpc3RlbmVyKCd0cmFjaycsIHRoaXMuaGFuZGxlT25UcmFjayk7XG5cbiAgICBwYy5hZGRFdmVudExpc3RlbmVyKCdpY2VjYW5kaWRhdGVlcnJvcicsIHRoaXMub25JY2VDYW5kaWRhdGVFcnJvcik7XG4gICAgcGMuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICdpY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2UnLFxuICAgICAgdGhpcy5vbkljZUNvbm5lY3Rpb25TdGF0ZUNoYW5nZSxcbiAgICApO1xuICAgIHBjLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAnaWNlZ2F0aGVyaW5nc3RhdGVjaGFuZ2UnLFxuICAgICAgdGhpcy5vbkljZUdhdGhlcmluZ1N0YXRlQ2hhbmdlLFxuICAgICk7XG5cbiAgICByZXR1cm4gcGM7XG4gIH07XG5cbiAgLyoqXG4gICAqIENsb3NlcyB0aGUgYFJUQ1BlZXJDb25uZWN0aW9uYCBhbmQgdW5zdWJzY3JpYmVzIGZyb20gdGhlIGRpc3BhdGNoZXIuXG4gICAqL1xuICBjbG9zZSA9ICgpID0+IHtcbiAgICB0aGlzLmRldGFjaEV2ZW50SGFuZGxlcnMoKTtcbiAgICB0aGlzLnBjLmNsb3NlKCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIERldGFjaGVzIHRoZSBldmVudCBoYW5kbGVycyBmcm9tIHRoZSBgUlRDUGVlckNvbm5lY3Rpb25gLlxuICAgKiBUaGlzIGlzIHVzZWZ1bCB3aGVuIHdlIHdhbnQgdG8gcmVwbGFjZSB0aGUgYFJUQ1BlZXJDb25uZWN0aW9uYFxuICAgKiBpbnN0YW5jZSB3aXRoIGEgbmV3IG9uZSAoaW4gY2FzZSBvZiBtaWdyYXRpb24pLlxuICAgKi9cbiAgZGV0YWNoRXZlbnRIYW5kbGVycyA9ICgpID0+IHtcbiAgICB0aGlzLnVucmVnaXN0ZXJPblN1YnNjcmliZXJPZmZlcigpO1xuICAgIHRoaXMudW5yZWdpc3Rlck9uSWNlUmVzdGFydCgpO1xuXG4gICAgdGhpcy5wYy5yZW1vdmVFdmVudExpc3RlbmVyKCdpY2VjYW5kaWRhdGUnLCB0aGlzLm9uSWNlQ2FuZGlkYXRlKTtcbiAgICB0aGlzLnBjLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RyYWNrJywgdGhpcy5oYW5kbGVPblRyYWNrKTtcbiAgICB0aGlzLnBjLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2ljZWNhbmRpZGF0ZWVycm9yJywgdGhpcy5vbkljZUNhbmRpZGF0ZUVycm9yKTtcbiAgICB0aGlzLnBjLnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAnaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlJyxcbiAgICAgIHRoaXMub25JY2VDb25uZWN0aW9uU3RhdGVDaGFuZ2UsXG4gICAgKTtcbiAgICB0aGlzLnBjLnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAnaWNlZ2F0aGVyaW5nc3RhdGVjaGFuZ2UnLFxuICAgICAgdGhpcy5vbkljZUdhdGhlcmluZ1N0YXRlQ2hhbmdlLFxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIHJlc3VsdCBvZiB0aGUgYFJUQ1BlZXJDb25uZWN0aW9uLmdldFN0YXRzKClgIG1ldGhvZFxuICAgKiBAcGFyYW0gc2VsZWN0b3JcbiAgICogQHJldHVybnNcbiAgICovXG4gIGdldFN0YXRzID0gKHNlbGVjdG9yPzogTWVkaWFTdHJlYW1UcmFjayB8IG51bGwgfCB1bmRlZmluZWQpID0+IHtcbiAgICByZXR1cm4gdGhpcy5wYy5nZXRTdGF0cyhzZWxlY3Rvcik7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIFNGVSBjbGllbnQgdG8gdXNlLlxuICAgKlxuICAgKiBAcGFyYW0gc2Z1Q2xpZW50IHRoZSBTRlUgY2xpZW50IHRvIHVzZS5cbiAgICovXG4gIHNldFNmdUNsaWVudCA9IChzZnVDbGllbnQ6IFN0cmVhbVNmdUNsaWVudCkgPT4ge1xuICAgIHRoaXMuc2Z1Q2xpZW50ID0gc2Z1Q2xpZW50O1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXN0YXJ0cyB0aGUgSUNFIGNvbm5lY3Rpb24gYW5kIHJlbmVnb3RpYXRlcyB3aXRoIHRoZSBTRlUuXG4gICAqL1xuICByZXN0YXJ0SWNlID0gYXN5bmMgKCkgPT4ge1xuICAgIHRoaXMubG9nZ2VyKCdkZWJ1ZycsICdSZXN0YXJ0aW5nIElDRSBjb25uZWN0aW9uJyk7XG4gICAgaWYgKHRoaXMucGMuc2lnbmFsaW5nU3RhdGUgPT09ICdoYXZlLXJlbW90ZS1vZmZlcicpIHtcbiAgICAgIHRoaXMubG9nZ2VyKCdkZWJ1ZycsICdJQ0UgcmVzdGFydCBpcyBhbHJlYWR5IGluIHByb2dyZXNzJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0aGlzLnBjLmNvbm5lY3Rpb25TdGF0ZSA9PT0gJ25ldycpIHtcbiAgICAgIHRoaXMubG9nZ2VyKFxuICAgICAgICAnZGVidWcnLFxuICAgICAgICBgSUNFIGNvbm5lY3Rpb24gaXMgbm90IHlldCBlc3RhYmxpc2hlZCwgc2tpcHBpbmcgcmVzdGFydC5gLFxuICAgICAgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgcHJldmlvdXNJc0ljZVJlc3RhcnRpbmcgPSB0aGlzLmlzSWNlUmVzdGFydGluZztcbiAgICB0cnkge1xuICAgICAgdGhpcy5pc0ljZVJlc3RhcnRpbmcgPSB0cnVlO1xuICAgICAgYXdhaXQgdGhpcy5zZnVDbGllbnQuaWNlUmVzdGFydCh7XG4gICAgICAgIHBlZXJUeXBlOiBQZWVyVHlwZS5TVUJTQ1JJQkVSLFxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgLy8gcmVzdG9yZSB0aGUgcHJldmlvdXMgc3RhdGUsIGFzIG91ciBpbnRlbnQgZm9yIHJlc3RhcnRpbmcgSUNFIGZhaWxlZFxuICAgICAgdGhpcy5pc0ljZVJlc3RhcnRpbmcgPSBwcmV2aW91c0lzSWNlUmVzdGFydGluZztcbiAgICAgIHRocm93IGU7XG4gICAgfVxuICB9O1xuXG4gIHByaXZhdGUgaGFuZGxlT25UcmFjayA9IChlOiBSVENUcmFja0V2ZW50KSA9PiB7XG4gICAgY29uc3QgW3ByaW1hcnlTdHJlYW1dID0gZS5zdHJlYW1zO1xuICAgIC8vIGV4YW1wbGU6IGBlM2Y2YWFmOC1iMDNkLTQ5MTEtYmUzNi04M2Y0N2QzN2E3NmE6VFJBQ0tfVFlQRV9WSURFT2BcbiAgICBjb25zdCBbdHJhY2tJZCwgcmF3VHJhY2tUeXBlXSA9IHByaW1hcnlTdHJlYW0uaWQuc3BsaXQoJzonKTtcbiAgICBjb25zdCBwYXJ0aWNpcGFudFRvVXBkYXRlID0gdGhpcy5zdGF0ZS5wYXJ0aWNpcGFudHMuZmluZChcbiAgICAgIChwKSA9PiBwLnRyYWNrTG9va3VwUHJlZml4ID09PSB0cmFja0lkLFxuICAgICk7XG4gICAgdGhpcy5sb2dnZXIoXG4gICAgICAnZGVidWcnLFxuICAgICAgYFtvblRyYWNrXTogR290IHJlbW90ZSAke3Jhd1RyYWNrVHlwZX0gdHJhY2sgZm9yIHVzZXJJZDogJHtwYXJ0aWNpcGFudFRvVXBkYXRlPy51c2VySWR9YCxcbiAgICAgIGUudHJhY2suaWQsXG4gICAgICBlLnRyYWNrLFxuICAgICk7XG5cbiAgICBjb25zdCB0cmFja0RlYnVnSW5mbyA9IGAke3BhcnRpY2lwYW50VG9VcGRhdGU/LnVzZXJJZH0gJHtyYXdUcmFja1R5cGV9OiR7dHJhY2tJZH1gO1xuICAgIGUudHJhY2suYWRkRXZlbnRMaXN0ZW5lcignbXV0ZScsICgpID0+IHtcbiAgICAgIHRoaXMubG9nZ2VyKCdpbmZvJywgYFtvblRyYWNrXTogVHJhY2sgbXV0ZWQ6ICR7dHJhY2tEZWJ1Z0luZm99YCk7XG4gICAgfSk7XG5cbiAgICBlLnRyYWNrLmFkZEV2ZW50TGlzdGVuZXIoJ3VubXV0ZScsICgpID0+IHtcbiAgICAgIHRoaXMubG9nZ2VyKCdpbmZvJywgYFtvblRyYWNrXTogVHJhY2sgdW5tdXRlZDogJHt0cmFja0RlYnVnSW5mb31gKTtcbiAgICB9KTtcblxuICAgIGUudHJhY2suYWRkRXZlbnRMaXN0ZW5lcignZW5kZWQnLCAoKSA9PiB7XG4gICAgICB0aGlzLmxvZ2dlcignaW5mbycsIGBbb25UcmFja106IFRyYWNrIGVuZGVkOiAke3RyYWNrRGVidWdJbmZvfWApO1xuICAgICAgdGhpcy5zdGF0ZS5yZW1vdmVPcnBoYW5lZFRyYWNrKHByaW1hcnlTdHJlYW0uaWQpO1xuICAgIH0pO1xuXG4gICAgY29uc3QgdHJhY2tUeXBlID0gdG9UcmFja1R5cGUocmF3VHJhY2tUeXBlKTtcbiAgICBpZiAoIXRyYWNrVHlwZSkge1xuICAgICAgcmV0dXJuIHRoaXMubG9nZ2VyKCdlcnJvcicsIGBVbmtub3duIHRyYWNrIHR5cGU6ICR7cmF3VHJhY2tUeXBlfWApO1xuICAgIH1cblxuICAgIGlmICghcGFydGljaXBhbnRUb1VwZGF0ZSkge1xuICAgICAgdGhpcy5sb2dnZXIoXG4gICAgICAgICd3YXJuJyxcbiAgICAgICAgYFtvblRyYWNrXTogUmVjZWl2ZWQgdHJhY2sgZm9yIHVua25vd24gcGFydGljaXBhbnQ6ICR7dHJhY2tJZH1gLFxuICAgICAgICBlLFxuICAgICAgKTtcbiAgICAgIHRoaXMuc3RhdGUucmVnaXN0ZXJPcnBoYW5lZFRyYWNrKHtcbiAgICAgICAgaWQ6IHByaW1hcnlTdHJlYW0uaWQsXG4gICAgICAgIHRyYWNrTG9va3VwUHJlZml4OiB0cmFja0lkLFxuICAgICAgICB0cmFjazogcHJpbWFyeVN0cmVhbSxcbiAgICAgICAgdHJhY2tUeXBlLFxuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qgc3RyZWFtS2luZFByb3AgPSB0cmFja1R5cGVUb1BhcnRpY2lwYW50U3RyZWFtS2V5KHRyYWNrVHlwZSk7XG4gICAgaWYgKCFzdHJlYW1LaW5kUHJvcCkge1xuICAgICAgdGhpcy5sb2dnZXIoJ2Vycm9yJywgYFVua25vd24gdHJhY2sgdHlwZTogJHtyYXdUcmFja1R5cGV9YCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHByZXZpb3VzU3RyZWFtID0gcGFydGljaXBhbnRUb1VwZGF0ZVtzdHJlYW1LaW5kUHJvcF07XG4gICAgaWYgKHByZXZpb3VzU3RyZWFtKSB7XG4gICAgICB0aGlzLmxvZ2dlcihcbiAgICAgICAgJ2luZm8nLFxuICAgICAgICBgW29uVHJhY2tdOiBDbGVhbmluZyB1cCBwcmV2aW91cyByZW1vdGUgJHtlLnRyYWNrLmtpbmR9IHRyYWNrcyBmb3IgdXNlcklkOiAke3BhcnRpY2lwYW50VG9VcGRhdGUudXNlcklkfWAsXG4gICAgICApO1xuICAgICAgcHJldmlvdXNTdHJlYW0uZ2V0VHJhY2tzKCkuZm9yRWFjaCgodCkgPT4ge1xuICAgICAgICB0LnN0b3AoKTtcbiAgICAgICAgcHJldmlvdXNTdHJlYW0ucmVtb3ZlVHJhY2sodCk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgdGhpcy5zdGF0ZS51cGRhdGVQYXJ0aWNpcGFudChwYXJ0aWNpcGFudFRvVXBkYXRlLnNlc3Npb25JZCwge1xuICAgICAgW3N0cmVhbUtpbmRQcm9wXTogcHJpbWFyeVN0cmVhbSxcbiAgICB9KTtcbiAgfTtcblxuICBwcml2YXRlIG9uSWNlQ2FuZGlkYXRlID0gKGU6IFJUQ1BlZXJDb25uZWN0aW9uSWNlRXZlbnQpID0+IHtcbiAgICBjb25zdCB7IGNhbmRpZGF0ZSB9ID0gZTtcbiAgICBpZiAoIWNhbmRpZGF0ZSkge1xuICAgICAgdGhpcy5sb2dnZXIoJ2RlYnVnJywgJ251bGwgaWNlIGNhbmRpZGF0ZScpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuc2Z1Q2xpZW50XG4gICAgICAuaWNlVHJpY2tsZSh7XG4gICAgICAgIGljZUNhbmRpZGF0ZTogZ2V0SWNlQ2FuZGlkYXRlKGNhbmRpZGF0ZSksXG4gICAgICAgIHBlZXJUeXBlOiBQZWVyVHlwZS5TVUJTQ1JJQkVSLFxuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIHRoaXMubG9nZ2VyKCd3YXJuJywgYElDRVRyaWNrbGUgZmFpbGVkYCwgZXJyKTtcbiAgICAgIH0pO1xuICB9O1xuXG4gIHByaXZhdGUgbmVnb3RpYXRlID0gYXN5bmMgKHN1YnNjcmliZXJPZmZlcjogU3Vic2NyaWJlck9mZmVyKSA9PiB7XG4gICAgdGhpcy5sb2dnZXIoJ2luZm8nLCBgUmVjZWl2ZWQgc3Vic2NyaWJlck9mZmVyYCwgc3Vic2NyaWJlck9mZmVyKTtcblxuICAgIGF3YWl0IHRoaXMucGMuc2V0UmVtb3RlRGVzY3JpcHRpb24oe1xuICAgICAgdHlwZTogJ29mZmVyJyxcbiAgICAgIHNkcDogc3Vic2NyaWJlck9mZmVyLnNkcCxcbiAgICB9KTtcblxuICAgIHRoaXMuc2Z1Q2xpZW50LmljZVRyaWNrbGVCdWZmZXIuc3Vic2NyaWJlckNhbmRpZGF0ZXMuc3Vic2NyaWJlKFxuICAgICAgYXN5bmMgKGNhbmRpZGF0ZSkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IGljZUNhbmRpZGF0ZSA9IEpTT04ucGFyc2UoY2FuZGlkYXRlLmljZUNhbmRpZGF0ZSk7XG4gICAgICAgICAgYXdhaXQgdGhpcy5wYy5hZGRJY2VDYW5kaWRhdGUoaWNlQ2FuZGlkYXRlKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIHRoaXMubG9nZ2VyKCd3YXJuJywgYElDRSBjYW5kaWRhdGUgZXJyb3JgLCBbZSwgY2FuZGlkYXRlXSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgKTtcblxuICAgIGNvbnN0IGFuc3dlciA9IGF3YWl0IHRoaXMucGMuY3JlYXRlQW5zd2VyKCk7XG4gICAgYXdhaXQgdGhpcy5wYy5zZXRMb2NhbERlc2NyaXB0aW9uKGFuc3dlcik7XG5cbiAgICBhd2FpdCB0aGlzLnNmdUNsaWVudC5zZW5kQW5zd2VyKHtcbiAgICAgIHBlZXJUeXBlOiBQZWVyVHlwZS5TVUJTQ1JJQkVSLFxuICAgICAgc2RwOiBhbnN3ZXIuc2RwIHx8ICcnLFxuICAgIH0pO1xuXG4gICAgdGhpcy5pc0ljZVJlc3RhcnRpbmcgPSBmYWxzZTtcbiAgfTtcblxuICBwcml2YXRlIG9uSWNlQ29ubmVjdGlvblN0YXRlQ2hhbmdlID0gKCkgPT4ge1xuICAgIGNvbnN0IHN0YXRlID0gdGhpcy5wYy5pY2VDb25uZWN0aW9uU3RhdGU7XG4gICAgdGhpcy5sb2dnZXIoJ2RlYnVnJywgYElDRSBjb25uZWN0aW9uIHN0YXRlIGNoYW5nZWRgLCBzdGF0ZSk7XG5cbiAgICBpZiAodGhpcy5zdGF0ZS5jYWxsaW5nU3RhdGUgPT09IENhbGxpbmdTdGF0ZS5SRUNPTk5FQ1RJTkcpIHJldHVybjtcblxuICAgIC8vIGRvIG5vdGhpbmcgd2hlbiBJQ0UgaXMgcmVzdGFydGluZ1xuICAgIGlmICh0aGlzLmlzSWNlUmVzdGFydGluZykgcmV0dXJuO1xuXG4gICAgaWYgKHN0YXRlID09PSAnZmFpbGVkJyB8fCBzdGF0ZSA9PT0gJ2Rpc2Nvbm5lY3RlZCcpIHtcbiAgICAgIHRoaXMubG9nZ2VyKCdkZWJ1ZycsIGBBdHRlbXB0aW5nIHRvIHJlc3RhcnQgSUNFYCk7XG4gICAgICB0aGlzLnJlc3RhcnRJY2UoKS5jYXRjaCgoZSkgPT4ge1xuICAgICAgICB0aGlzLmxvZ2dlcignZXJyb3InLCBgSUNFIHJlc3RhcnQgZmFpbGVkYCwgZSk7XG4gICAgICAgIHRoaXMub25VbnJlY292ZXJhYmxlRXJyb3I/LigpO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIHByaXZhdGUgb25JY2VHYXRoZXJpbmdTdGF0ZUNoYW5nZSA9ICgpID0+IHtcbiAgICB0aGlzLmxvZ2dlcihcbiAgICAgICdkZWJ1ZycsXG4gICAgICBgSUNFIGdhdGhlcmluZyBzdGF0ZSBjaGFuZ2VkYCxcbiAgICAgIHRoaXMucGMuaWNlR2F0aGVyaW5nU3RhdGUsXG4gICAgKTtcbiAgfTtcblxuICBwcml2YXRlIG9uSWNlQ2FuZGlkYXRlRXJyb3IgPSAoZTogRXZlbnQpID0+IHtcbiAgICBjb25zdCBlcnJvck1lc3NhZ2UgPVxuICAgICAgZSBpbnN0YW5jZW9mIFJUQ1BlZXJDb25uZWN0aW9uSWNlRXJyb3JFdmVudCAmJlxuICAgICAgYCR7ZS5lcnJvckNvZGV9OiAke2UuZXJyb3JUZXh0fWA7XG4gICAgY29uc3QgaWNlU3RhdGUgPSB0aGlzLnBjLmljZUNvbm5lY3Rpb25TdGF0ZTtcbiAgICBjb25zdCBsb2dMZXZlbCA9XG4gICAgICBpY2VTdGF0ZSA9PT0gJ2Nvbm5lY3RlZCcgfHwgaWNlU3RhdGUgPT09ICdjaGVja2luZycgPyAnZGVidWcnIDogJ3dhcm4nO1xuICAgIHRoaXMubG9nZ2VyKGxvZ0xldmVsLCBgSUNFIENhbmRpZGF0ZSBlcnJvcmAsIGVycm9yTWVzc2FnZSk7XG4gIH07XG59XG4iLCJpbXBvcnQgeyBTZnVFdmVudCB9IGZyb20gJy4uL2dlbi92aWRlby9zZnUvZXZlbnQvZXZlbnRzJztcbmltcG9ydCB7IGdldExvZ2dlciB9IGZyb20gJy4uL2xvZ2dlcic7XG5pbXBvcnQgeyBEaXNwYXRjaGFibGVNZXNzYWdlLCBTZnVFdmVudEtpbmRzIH0gZnJvbSAnLi9EaXNwYXRjaGVyJztcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZVdlYlNvY2tldFNpZ25hbENoYW5uZWwgPSAob3B0czoge1xuICBlbmRwb2ludDogc3RyaW5nO1xuICBvbk1lc3NhZ2U6IDxLIGV4dGVuZHMgU2Z1RXZlbnRLaW5kcz4obWVzc2FnZTogRGlzcGF0Y2hhYmxlTWVzc2FnZTxLPikgPT4gdm9pZDtcbiAgbG9nVGFnOiBzdHJpbmc7XG59KSA9PiB7XG4gIGNvbnN0IHsgZW5kcG9pbnQsIG9uTWVzc2FnZSwgbG9nVGFnIH0gPSBvcHRzO1xuICBjb25zdCBsb2dnZXIgPSBnZXRMb2dnZXIoWydTZnVDbGllbnRXUycsIGxvZ1RhZ10pO1xuICBjb25zdCB3cyA9IG5ldyBXZWJTb2NrZXQoZW5kcG9pbnQpO1xuICB3cy5iaW5hcnlUeXBlID0gJ2FycmF5YnVmZmVyJzsgLy8gZG8gd2UgbmVlZCB0aGlzP1xuXG4gIHdzLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgKGUpID0+IHtcbiAgICBsb2dnZXIoJ2Vycm9yJywgJ1NpZ25hbGluZyBXUyBjaGFubmVsIGVycm9yJywgZSk7XG4gIH0pO1xuXG4gIHdzLmFkZEV2ZW50TGlzdGVuZXIoJ2Nsb3NlJywgKGUpID0+IHtcbiAgICBsb2dnZXIoJ2luZm8nLCAnU2lnbmFsaW5nIFdTIGNoYW5uZWwgaXMgY2xvc2VkJywgZSk7XG4gIH0pO1xuXG4gIHdzLmFkZEV2ZW50TGlzdGVuZXIoJ29wZW4nLCAoZSkgPT4ge1xuICAgIGxvZ2dlcignaW5mbycsICdTaWduYWxpbmcgV1MgY2hhbm5lbCBpcyBvcGVuJywgZSk7XG4gIH0pO1xuXG4gIHdzLmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCAoZSkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBtZXNzYWdlID1cbiAgICAgICAgZS5kYXRhIGluc3RhbmNlb2YgQXJyYXlCdWZmZXJcbiAgICAgICAgICA/IFNmdUV2ZW50LmZyb21CaW5hcnkobmV3IFVpbnQ4QXJyYXkoZS5kYXRhKSlcbiAgICAgICAgICA6IFNmdUV2ZW50LmZyb21Kc29uU3RyaW5nKGUuZGF0YS50b1N0cmluZygpKTtcblxuICAgICAgb25NZXNzYWdlKG1lc3NhZ2UgYXMgRGlzcGF0Y2hhYmxlTWVzc2FnZTxTZnVFdmVudEtpbmRzPik7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBsb2dnZXIoXG4gICAgICAgICdlcnJvcicsXG4gICAgICAgICdGYWlsZWQgdG8gZGVjb2RlIGEgbWVzc2FnZS4gQ2hlY2sgd2hldGhlciB0aGUgUHJvdG8gbW9kZWxzIG1hdGNoLicsXG4gICAgICAgIHsgZXZlbnQ6IGUsIGVycm9yOiBlcnIgfSxcbiAgICAgICk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHdzO1xufTtcbiIsImV4cG9ydCBpbnRlcmZhY2UgU2FmZVByb21pc2U8VD4ge1xuICAoKTogUHJvbWlzZTxUPjtcbiAgY2hlY2tQZW5kaW5nKCk6IGJvb2xlYW47XG59XG5cbnR5cGUgRnVsZmlsbG1lbnQ8VD4gPVxuICB8IHtcbiAgICAgIHN0YXR1czogJ3Jlc29sdmVkJztcbiAgICAgIHJlc3VsdDogVDtcbiAgICB9XG4gIHwge1xuICAgICAgc3RhdHVzOiAncmVqZWN0ZWQnO1xuICAgICAgZXJyb3I6IHVua25vd247XG4gICAgfTtcblxuLyoqXG4gKiBTYXZpbmcgYSBsb25nLWxpdmVkIHJlZmVyZW5jZSB0byBhIHByb21pc2UgdGhhdCBjYW4gcmVqZWN0IGNhbiBiZSB1bnNhZmUsXG4gKiBzaW5jZSByZWplY3RpbmcgdGhlIHByb21pc2UgY2F1c2VzIGFuIHVuaGFuZGxlZCByZWplY3Rpb24gZXJyb3IgKGV2ZW4gaWYgdGhlXG4gKiByZWplY3Rpb24gaXMgaGFuZGxlZCBldmVyeXdoZXJlIHByb21pc2UgcmVzdWx0IGlzIGV4cGVjdGVkKS5cbiAqXG4gKiBUbyBhdm9pZCB0aGF0LCB3ZSBhZGQgYm90aCByZXNvbHV0aW9uIGFuZCByZWplY3Rpb24gaGFuZGxlcnMgdG8gdGhlIHByb21pc2UuXG4gKiBUaGF0IHdheSwgdGhlIHNhdmVkIHByb21pc2UgbmV2ZXIgcmVqZWN0cy4gQSBjYWxsYmFjayBpcyBwcm92aWRlZCBhcyByZXR1cm5cbiAqIHZhbHVlIHRvIGJ1aWxkIGEgKm5ldyogcHJvbWlzZSwgdGhhdCByZXNvbHZlcyBhbmQgcmVqZWN0cyBhbG9uZyB3aXRoXG4gKiB0aGUgb3JpZ2luYWwgcHJvbWlzZS5cbiAqIEBwYXJhbSBwcm9taXNlIFByb21pc2UgdG8gd3JhcCwgd2hpY2ggcG9zc2libHkgcmVqZWN0c1xuICogQHJldHVybnMgQ2FsbGJhY2sgdG8gYnVpbGQgYSBuZXcgcHJvbWlzZSwgd2hpY2ggcmVzb2x2ZXMgYW5kIHJlamVjdHMgYWxvbmdcbiAqIHdpdGggdGhlIG9yaWdpbmFsIHByb21pc2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1ha2VTYWZlUHJvbWlzZTxUPihwcm9taXNlOiBQcm9taXNlPFQ+KTogU2FmZVByb21pc2U8VD4ge1xuICBsZXQgaXNQZW5kaW5nID0gdHJ1ZTtcblxuICBjb25zdCBzYWZlUHJvbWlzZTogUHJvbWlzZTxGdWxmaWxsbWVudDxUPj4gPSBwcm9taXNlXG4gICAgLnRoZW4oXG4gICAgICAocmVzdWx0KSA9PiAoeyBzdGF0dXM6ICdyZXNvbHZlZCcgYXMgY29uc3QsIHJlc3VsdCB9KSxcbiAgICAgIChlcnJvcikgPT4gKHsgc3RhdHVzOiAncmVqZWN0ZWQnIGFzIGNvbnN0LCBlcnJvciB9KSxcbiAgICApXG4gICAgLmZpbmFsbHkoKCkgPT4gKGlzUGVuZGluZyA9IGZhbHNlKSk7XG5cbiAgY29uc3QgdW53cmFwUHJvbWlzZSA9ICgpID0+XG4gICAgc2FmZVByb21pc2UudGhlbigoZnVsZmlsbG1lbnQpID0+IHtcbiAgICAgIGlmIChmdWxmaWxsbWVudC5zdGF0dXMgPT09ICdyZWplY3RlZCcpIHRocm93IGZ1bGZpbGxtZW50LmVycm9yO1xuICAgICAgcmV0dXJuIGZ1bGZpbGxtZW50LnJlc3VsdDtcbiAgICB9KTtcblxuICB1bndyYXBQcm9taXNlLmNoZWNrUGVuZGluZyA9ICgpID0+IGlzUGVuZGluZztcbiAgcmV0dXJuIHVud3JhcFByb21pc2U7XG59XG5cbmV4cG9ydCB0eXBlIFByb21pc2VXaXRoUmVzb2x2ZXJzPFQ+ID0ge1xuICBwcm9taXNlOiBQcm9taXNlPFQ+O1xuICByZXNvbHZlOiAodmFsdWU6IFQgfCBQcm9taXNlTGlrZTxUPikgPT4gdm9pZDtcbiAgcmVqZWN0OiAocmVhc29uOiBhbnkpID0+IHZvaWQ7XG4gIGlzUmVzb2x2ZWQ6IGJvb2xlYW47XG4gIGlzUmVqZWN0ZWQ6IGJvb2xlYW47XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgcHJvbWlzZSB3aXRoIHJlc29sdmVycy5cbiAqXG4gKiBCYXNlZCBvbjpcbiAqIC0gaHR0cHM6Ly9naXRodWIuY29tL3RjMzkvcHJvcG9zYWwtcHJvbWlzZS13aXRoLXJlc29sdmVycy9ibG9iL21haW4vcG9seWZpbGxzLmpzXG4gKi9cbmV4cG9ydCBjb25zdCBwcm9taXNlV2l0aFJlc29sdmVycyA9IDxUID0gdm9pZD4oKTogUHJvbWlzZVdpdGhSZXNvbHZlcnM8VD4gPT4ge1xuICBsZXQgcmVzb2x2ZTogKHZhbHVlOiBUIHwgUHJvbWlzZUxpa2U8VD4pID0+IHZvaWQ7XG4gIGxldCByZWplY3Q6IChyZWFzb246IGFueSkgPT4gdm9pZDtcbiAgY29uc3QgcHJvbWlzZSA9IG5ldyBQcm9taXNlPFQ+KChfcmVzb2x2ZSwgX3JlamVjdCkgPT4ge1xuICAgIHJlc29sdmUgPSBfcmVzb2x2ZTtcbiAgICByZWplY3QgPSBfcmVqZWN0O1xuICB9KTtcblxuICBsZXQgaXNSZXNvbHZlZCA9IGZhbHNlO1xuICBsZXQgaXNSZWplY3RlZCA9IGZhbHNlO1xuXG4gIGNvbnN0IHJlc29sdmVyID0gKHZhbHVlOiBUIHwgUHJvbWlzZUxpa2U8VD4pID0+IHtcbiAgICBpc1Jlc29sdmVkID0gdHJ1ZTtcbiAgICByZXNvbHZlKHZhbHVlKTtcbiAgfTtcblxuICBjb25zdCByZWplY3RlciA9IChyZWFzb246IGFueSkgPT4ge1xuICAgIGlzUmVqZWN0ZWQgPSB0cnVlO1xuICAgIHJlamVjdChyZWFzb24pO1xuICB9O1xuXG4gIHJldHVybiB7XG4gICAgcHJvbWlzZSxcbiAgICByZXNvbHZlOiByZXNvbHZlcixcbiAgICByZWplY3Q6IHJlamVjdGVyLFxuICAgIGlzUmVzb2x2ZWQsXG4gICAgaXNSZWplY3RlZCxcbiAgfTtcbn07XG4iLCJjb25zdCB1bmluaXRpYWxpemVkID0gU3ltYm9sKCd1bmluaXRpYWxpemVkJyk7XG5cbi8qKlxuICogTGF6aWx5IGNyZWF0ZXMgYSB2YWx1ZSB1c2luZyBhIHByb3ZpZGVkIGZhY3RvcnlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxhenk8VD4oZmFjdG9yeTogKCkgPT4gVCk6ICgpID0+IFQge1xuICBsZXQgdmFsdWU6IFQgfCB0eXBlb2YgdW5pbml0aWFsaXplZCA9IHVuaW5pdGlhbGl6ZWQ7XG4gIHJldHVybiAoKSA9PiB7XG4gICAgaWYgKHZhbHVlID09PSB1bmluaXRpYWxpemVkKSB7XG4gICAgICB2YWx1ZSA9IGZhY3RvcnkoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsdWU7XG4gIH07XG59XG4iLCIvLyBEbyBub3QgbW9kaWZ5IHRoaXMgZmlsZSBtYW51YWxseS4gSW5zdGVhZCwgZWRpdCB3b3JrZXIudHNcbi8vIGFuZCB0aGUgcnVuIC4vZ2VuZXJhdGUtdGltZXItd29ya2VyLnNoXG5leHBvcnQgY29uc3QgdGltZXJXb3JrZXIgPSB7XG4gIHNyYzogYGNvbnN0IHRpbWVySWRNYXBwaW5nID0gbmV3IE1hcCgpO1xuc2VsZi5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgKGV2ZW50KSA9PiB7XG4gICAgY29uc3QgcmVxdWVzdCA9IGV2ZW50LmRhdGE7XG4gICAgc3dpdGNoIChyZXF1ZXN0LnR5cGUpIHtcbiAgICAgICAgY2FzZSAnc2V0VGltZW91dCc6XG4gICAgICAgIGNhc2UgJ3NldEludGVydmFsJzpcbiAgICAgICAgICAgIHRpbWVySWRNYXBwaW5nLnNldChyZXF1ZXN0LmlkLCAocmVxdWVzdC50eXBlID09PSAnc2V0VGltZW91dCcgPyBzZXRUaW1lb3V0IDogc2V0SW50ZXJ2YWwpKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aWNrKHJlcXVlc3QuaWQpO1xuICAgICAgICAgICAgICAgIGlmIChyZXF1ZXN0LnR5cGUgPT09ICdzZXRUaW1lb3V0Jykge1xuICAgICAgICAgICAgICAgICAgICB0aW1lcklkTWFwcGluZy5kZWxldGUocmVxdWVzdC5pZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgcmVxdWVzdC50aW1lb3V0KSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnY2xlYXJUaW1lb3V0JzpcbiAgICAgICAgY2FzZSAnY2xlYXJJbnRlcnZhbCc6XG4gICAgICAgICAgICAocmVxdWVzdC50eXBlID09PSAnY2xlYXJUaW1lb3V0JyA/IGNsZWFyVGltZW91dCA6IGNsZWFySW50ZXJ2YWwpKHRpbWVySWRNYXBwaW5nLmdldChyZXF1ZXN0LmlkKSk7XG4gICAgICAgICAgICB0aW1lcklkTWFwcGluZy5kZWxldGUocmVxdWVzdC5pZCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG59KTtcbmZ1bmN0aW9uIHRpY2soaWQpIHtcbiAgICBjb25zdCBtZXNzYWdlID0geyB0eXBlOiAndGljaycsIGlkIH07XG4gICAgc2VsZi5wb3N0TWVzc2FnZShtZXNzYWdlKTtcbn1gLFxufTtcbiIsImltcG9ydCB7IGxhenkgfSBmcm9tICcuLi9oZWxwZXJzL2xhenknO1xuaW1wb3J0IHsgZ2V0TG9nZ2VyIH0gZnJvbSAnLi4vbG9nZ2VyJztcbmltcG9ydCB7IFRpbWVyV29ya2VyRXZlbnQsIFRpbWVyV29ya2VyUmVxdWVzdCB9IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHsgdGltZXJXb3JrZXIgfSBmcm9tICcuL3dvcmtlci5idWlsZCc7XG5cbmNsYXNzIFRpbWVyV29ya2VyIHtcbiAgcHJpdmF0ZSBjdXJyZW50VGltZXJJZCA9IDE7XG4gIHByaXZhdGUgY2FsbGJhY2tzID0gbmV3IE1hcDxudW1iZXIsICgpID0+IHZvaWQ+KCk7XG4gIHByaXZhdGUgd29ya2VyOiBXb3JrZXIgfCB1bmRlZmluZWQ7XG4gIHByaXZhdGUgZmFsbGJhY2sgPSBmYWxzZTtcblxuICBzZXR1cCh7IHVzZVRpbWVyV29ya2VyID0gdHJ1ZSB9OiB7IHVzZVRpbWVyV29ya2VyPzogYm9vbGVhbiB9ID0ge30pOiB2b2lkIHtcbiAgICBpZiAoIXVzZVRpbWVyV29ya2VyKSB7XG4gICAgICB0aGlzLmZhbGxiYWNrID0gdHJ1ZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgY29uc3Qgc291cmNlID0gdGltZXJXb3JrZXIuc3JjO1xuICAgICAgY29uc3QgYmxvYiA9IG5ldyBCbG9iKFtzb3VyY2VdLCB7XG4gICAgICAgIHR5cGU6ICdhcHBsaWNhdGlvbi9qYXZhc2NyaXB0OyBjaGFyc2V0PXV0Zi04JyxcbiAgICAgIH0pO1xuICAgICAgY29uc3Qgc2NyaXB0ID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcbiAgICAgIHRoaXMud29ya2VyID0gbmV3IFdvcmtlcihzY3JpcHQsIHsgbmFtZTogJ3N0ci10aW1lci13b3JrZXInIH0pO1xuICAgICAgdGhpcy53b3JrZXIuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCB7IHR5cGUsIGlkIH0gPSBldmVudC5kYXRhIGFzIFRpbWVyV29ya2VyRXZlbnQ7XG4gICAgICAgIGlmICh0eXBlID09PSAndGljaycpIHtcbiAgICAgICAgICB0aGlzLmNhbGxiYWNrcy5nZXQoaWQpPy4oKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyOiBhbnkpIHtcbiAgICAgIGdldExvZ2dlcihbJ3RpbWVyLXdvcmtlciddKSgnZXJyb3InLCBlcnIpO1xuICAgICAgdGhpcy5mYWxsYmFjayA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgZGVzdHJveSgpOiB2b2lkIHtcbiAgICB0aGlzLmNhbGxiYWNrcy5jbGVhcigpO1xuICAgIHRoaXMud29ya2VyPy50ZXJtaW5hdGUoKTtcbiAgICB0aGlzLndvcmtlciA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLmZhbGxiYWNrID0gZmFsc2U7XG4gIH1cblxuICBnZXQgcmVhZHkoKSB7XG4gICAgcmV0dXJuIHRoaXMuZmFsbGJhY2sgfHwgQm9vbGVhbih0aGlzLndvcmtlcik7XG4gIH1cblxuICBzZXRJbnRlcnZhbChjYWxsYmFjazogKCkgPT4gdm9pZCwgdGltZW91dDogbnVtYmVyKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5zZXRUaW1lcignc2V0SW50ZXJ2YWwnLCBjYWxsYmFjaywgdGltZW91dCk7XG4gIH1cblxuICBjbGVhckludGVydmFsKGlkPzogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5jbGVhclRpbWVyKCdjbGVhckludGVydmFsJywgaWQpO1xuICB9XG5cbiAgc2V0VGltZW91dChjYWxsYmFjazogKCkgPT4gdm9pZCwgdGltZW91dDogbnVtYmVyKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5zZXRUaW1lcignc2V0VGltZW91dCcsIGNhbGxiYWNrLCB0aW1lb3V0KTtcbiAgfVxuXG4gIGNsZWFyVGltZW91dChpZD86IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMuY2xlYXJUaW1lcignY2xlYXJUaW1lb3V0JywgaWQpO1xuICB9XG5cbiAgcHJpdmF0ZSBzZXRUaW1lcihcbiAgICB0eXBlOiAnc2V0VGltZW91dCcgfCAnc2V0SW50ZXJ2YWwnLFxuICAgIGNhbGxiYWNrOiAoKSA9PiB2b2lkLFxuICAgIHRpbWVvdXQ6IG51bWJlcixcbiAgKSB7XG4gICAgaWYgKCF0aGlzLnJlYWR5KSB7XG4gICAgICB0aGlzLnNldHVwKCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZmFsbGJhY2spIHtcbiAgICAgIHJldHVybiAodHlwZSA9PT0gJ3NldFRpbWVvdXQnID8gc2V0VGltZW91dCA6IHNldEludGVydmFsKShcbiAgICAgICAgY2FsbGJhY2ssXG4gICAgICAgIHRpbWVvdXQsXG4gICAgICApIGFzIHVua25vd24gYXMgbnVtYmVyO1xuICAgIH1cblxuICAgIGNvbnN0IGlkID0gdGhpcy5nZXRUaW1lcklkKCk7XG5cbiAgICB0aGlzLmNhbGxiYWNrcy5zZXQoaWQsICgpID0+IHtcbiAgICAgIGNhbGxiYWNrKCk7XG5cbiAgICAgIC8vIFRpbWVvdXRzIGFyZSBvbmUtb2ZmIG9wZXJhdGlvbnMsIHNvIG5vIG5lZWQgdG8ga2VlcCBjYWxsYmFjayByZWZlcmVuY2VcbiAgICAgIC8vIGFmdGVyIHRpbWVyIGhhcyBmaXJlZFxuICAgICAgaWYgKHR5cGUgPT09ICdzZXRUaW1lb3V0Jykge1xuICAgICAgICB0aGlzLmNhbGxiYWNrcy5kZWxldGUoaWQpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5zZW5kTWVzc2FnZSh7IHR5cGUsIGlkLCB0aW1lb3V0IH0pO1xuICAgIHJldHVybiBpZDtcbiAgfVxuXG4gIHByaXZhdGUgY2xlYXJUaW1lcih0eXBlOiAnY2xlYXJUaW1lb3V0JyB8ICdjbGVhckludGVydmFsJywgaWQ/OiBudW1iZXIpIHtcbiAgICBpZiAoIWlkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLnJlYWR5KSB7XG4gICAgICB0aGlzLnNldHVwKCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZmFsbGJhY2spIHtcbiAgICAgICh0eXBlID09PSAnY2xlYXJUaW1lb3V0JyA/IGNsZWFyVGltZW91dCA6IGNsZWFySW50ZXJ2YWwpKGlkKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmNhbGxiYWNrcy5kZWxldGUoaWQpO1xuICAgIHRoaXMuc2VuZE1lc3NhZ2UoeyB0eXBlLCBpZCB9KTtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0VGltZXJJZCgpIHtcbiAgICByZXR1cm4gdGhpcy5jdXJyZW50VGltZXJJZCsrO1xuICB9XG5cbiAgcHJpdmF0ZSBzZW5kTWVzc2FnZShtZXNzYWdlOiBUaW1lcldvcmtlclJlcXVlc3QpIHtcbiAgICBpZiAoIXRoaXMud29ya2VyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgdXNlIHRpbWVyIHdvcmtlciBiZWZvcmUgaXQncyBzZXQgdXBcIik7XG4gICAgfVxuXG4gICAgdGhpcy53b3JrZXIucG9zdE1lc3NhZ2UobWVzc2FnZSk7XG4gIH1cbn1cblxubGV0IHRpbWVyV29ya2VyRW5hYmxlZCA9IGZhbHNlO1xuXG5leHBvcnQgY29uc3QgZW5hYmxlVGltZXJXb3JrZXIgPSAoKSA9PiB7XG4gIHRpbWVyV29ya2VyRW5hYmxlZCA9IHRydWU7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0VGltZXJzID0gbGF6eSgoKSA9PiB7XG4gIGNvbnN0IGluc3RhbmNlID0gbmV3IFRpbWVyV29ya2VyKCk7XG4gIGluc3RhbmNlLnNldHVwKHsgdXNlVGltZXJXb3JrZXI6IHRpbWVyV29ya2VyRW5hYmxlZCB9KTtcbiAgcmV0dXJuIGluc3RhbmNlO1xufSk7XG4iLCJpbXBvcnQgeyBTaWduYWxTZXJ2ZXJDbGllbnQgfSBmcm9tICcuL2dlbi92aWRlby9zZnUvc2lnbmFsX3JwYy9zaWduYWwuY2xpZW50JztcbmltcG9ydCB7XG4gIGNyZWF0ZVNpZ25hbENsaWVudCxcbiAgcmV0cnlhYmxlLFxuICB3aXRoSGVhZGVycyxcbiAgd2l0aFJlcXVlc3RMb2dnZXIsXG59IGZyb20gJy4vcnBjJztcbmltcG9ydCB7XG4gIGNyZWF0ZVdlYlNvY2tldFNpZ25hbENoYW5uZWwsXG4gIERpc3BhdGNoZXIsXG4gIEljZVRyaWNrbGVCdWZmZXIsXG59IGZyb20gJy4vcnRjJztcbmltcG9ydCB7XG4gIEpvaW5SZXF1ZXN0LFxuICBKb2luUmVzcG9uc2UsXG4gIFNmdVJlcXVlc3QsXG59IGZyb20gJy4vZ2VuL3ZpZGVvL3NmdS9ldmVudC9ldmVudHMnO1xuaW1wb3J0IHtcbiAgSUNFUmVzdGFydFJlcXVlc3QsXG4gIFNlbmRBbnN3ZXJSZXF1ZXN0LFxuICBTZW5kU3RhdHNSZXF1ZXN0LFxuICBTZXRQdWJsaXNoZXJSZXF1ZXN0LFxuICBUcmFja1N1YnNjcmlwdGlvbkRldGFpbHMsXG4gIFVwZGF0ZU11dGVTdGF0ZXNSZXF1ZXN0LFxufSBmcm9tICcuL2dlbi92aWRlby9zZnUvc2lnbmFsX3JwYy9zaWduYWwnO1xuaW1wb3J0IHsgSUNFVHJpY2tsZSwgVHJhY2tUeXBlIH0gZnJvbSAnLi9nZW4vdmlkZW8vc2Z1L21vZGVscy9tb2RlbHMnO1xuaW1wb3J0IHsgU3RyZWFtQ2xpZW50IH0gZnJvbSAnLi9jb29yZGluYXRvci9jb25uZWN0aW9uL2NsaWVudCc7XG5pbXBvcnQgeyBnZW5lcmF0ZVVVSUR2NCB9IGZyb20gJy4vY29vcmRpbmF0b3IvY29ubmVjdGlvbi91dGlscyc7XG5pbXBvcnQgeyBDcmVkZW50aWFscyB9IGZyb20gJy4vZ2VuL2Nvb3JkaW5hdG9yJztcbmltcG9ydCB7IExvZ2dlciB9IGZyb20gJy4vY29vcmRpbmF0b3IvY29ubmVjdGlvbi90eXBlcyc7XG5pbXBvcnQgeyBnZXRMb2dnZXIsIGdldExvZ0xldmVsIH0gZnJvbSAnLi9sb2dnZXInO1xuaW1wb3J0IHtcbiAgcHJvbWlzZVdpdGhSZXNvbHZlcnMsXG4gIFByb21pc2VXaXRoUmVzb2x2ZXJzLFxuICBtYWtlU2FmZVByb21pc2UsXG4gIFNhZmVQcm9taXNlLFxufSBmcm9tICcuL2hlbHBlcnMvcHJvbWlzZSc7XG5pbXBvcnQgeyBnZXRUaW1lcnMgfSBmcm9tICcuL3RpbWVycyc7XG5cbmV4cG9ydCB0eXBlIFN0cmVhbVNmdUNsaWVudENvbnN0cnVjdG9yID0ge1xuICAvKipcbiAgICogVGhlIGV2ZW50IGRpc3BhdGNoZXIgaW5zdGFuY2UgdG8gdXNlLlxuICAgKi9cbiAgZGlzcGF0Y2hlcjogRGlzcGF0Y2hlcjtcblxuICAvKipcbiAgICogVGhlIGNyZWRlbnRpYWxzIHRvIHVzZSBmb3IgdGhlIGNvbm5lY3Rpb24uXG4gICAqL1xuICBjcmVkZW50aWFsczogQ3JlZGVudGlhbHM7XG5cbiAgLyoqXG4gICAqIGBzZXNzaW9uSWRgIHRvIHVzZSBmb3IgdGhlIGNvbm5lY3Rpb24uXG4gICAqL1xuICBzZXNzaW9uSWQ/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEEgbG9nIHRhZyB0byB1c2UgZm9yIGxvZ2dpbmcuIFVzZWZ1bCBmb3IgZGVidWdnaW5nIG11bHRpcGxlIGluc3RhbmNlcy5cbiAgICovXG4gIGxvZ1RhZzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgdGltZW91dCBpbiBtaWxsaXNlY29uZHMgZm9yIHdhaXRpbmcgZm9yIHRoZSBgam9pblJlc3BvbnNlYC5cbiAgICogRGVmYXVsdHMgdG8gNTAwMG1zLlxuICAgKi9cbiAgam9pblJlc3BvbnNlVGltZW91dD86IG51bWJlcjtcblxuICAvKipcbiAgICogQ2FsbGJhY2sgZm9yIHdoZW4gdGhlIFdlYlNvY2tldCBjb25uZWN0aW9uIGlzIGNsb3NlZC5cbiAgICovXG4gIG9uU2lnbmFsQ2xvc2U/OiAoKSA9PiB2b2lkO1xuXG4gIC8qKlxuICAgKiBUaGUgU3RyZWFtQ2xpZW50IGluc3RhbmNlIHRvIHVzZSBmb3IgdGhlIGNvbm5lY3Rpb24uXG4gICAqL1xuICBzdHJlYW1DbGllbnQ6IFN0cmVhbUNsaWVudDtcbn07XG5cbi8qKlxuICogVGhlIGNsaWVudCB1c2VkIGZvciBleGNoYW5naW5nIGluZm9ybWF0aW9uIHdpdGggdGhlIFNGVS5cbiAqL1xuZXhwb3J0IGNsYXNzIFN0cmVhbVNmdUNsaWVudCB7XG4gIC8qKlxuICAgKiBBIGJ1ZmZlciBmb3IgSUNFIENhbmRpZGF0ZXMgdGhhdCBhcmUgcmVjZWl2ZWQgYmVmb3JlXG4gICAqIHRoZSBQdWJsaXNoZXIgYW5kIFN1YnNjcmliZXIgUGVlciBDb25uZWN0aW9ucyBhcmUgcmVhZHkgdG8gaGFuZGxlIHRoZW0uXG4gICAqL1xuICByZWFkb25seSBpY2VUcmlja2xlQnVmZmVyID0gbmV3IEljZVRyaWNrbGVCdWZmZXIoKTtcblxuICAvKipcbiAgICogVGhlIGBzZXNzaW9uSWRgIG9mIHRoZSBjdXJyZW50bHkgY29ubmVjdGVkIHBhcnRpY2lwYW50LlxuICAgKi9cbiAgcmVhZG9ubHkgc2Vzc2lvbklkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBgZWRnZU5hbWVgIHJlcHJlc2VudGluZyB0aGUgZWRnZSB0aGUgY2xpZW50IGlzIGNvbm5lY3RlZCB0by5cbiAgICovXG4gIHJlYWRvbmx5IGVkZ2VOYW1lOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEhvbGRzIHRoZSBjdXJyZW50IFdlYlNvY2tldCBjb25uZWN0aW9uIHRvIHRoZSBTRlUuXG4gICAqL1xuICBwcml2YXRlIHNpZ25hbFdzITogV2ViU29ja2V0O1xuXG4gIC8qKlxuICAgKiBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2hlbiB0aGUgV2ViU29ja2V0IGNvbm5lY3Rpb24gaXMgcmVhZHkgKG9wZW4pLlxuICAgKi9cbiAgcHJpdmF0ZSBzaWduYWxSZWFkeSE6IFNhZmVQcm9taXNlPFdlYlNvY2tldD47XG5cbiAgLyoqXG4gICAqIEZsYWcgdG8gaW5kaWNhdGUgaWYgdGhlIGNsaWVudCBpcyBpbiB0aGUgcHJvY2VzcyBvZiBsZWF2aW5nIHRoZSBjYWxsLlxuICAgKiBUaGlzIGlzIHNldCB0byBgdHJ1ZWAgd2hlbiB0aGUgdXNlciBpbml0aWF0ZXMgdGhlIGxlYXZlIHByb2Nlc3MuXG4gICAqL1xuICBpc0xlYXZpbmcgPSBmYWxzZTtcblxuICBwcml2YXRlIHJlYWRvbmx5IHJwYzogU2lnbmFsU2VydmVyQ2xpZW50O1xuICBwcml2YXRlIGtlZXBBbGl2ZUludGVydmFsPzogbnVtYmVyO1xuICBwcml2YXRlIGNvbm5lY3Rpb25DaGVja1RpbWVvdXQ/OiBOb2RlSlMuVGltZW91dDtcbiAgcHJpdmF0ZSBtaWdyYXRlQXdheVRpbWVvdXQ/OiBOb2RlSlMuVGltZW91dDtcbiAgcHJpdmF0ZSBwaW5nSW50ZXJ2YWxJbk1zID0gMTAgKiAxMDAwO1xuICBwcml2YXRlIHVuaGVhbHRoeVRpbWVvdXRJbk1zID0gdGhpcy5waW5nSW50ZXJ2YWxJbk1zICsgNSAqIDEwMDA7XG4gIHByaXZhdGUgbGFzdE1lc3NhZ2VUaW1lc3RhbXA/OiBEYXRlO1xuICBwcml2YXRlIHJlYWRvbmx5IHVuc3Vic2NyaWJlSWNlVHJpY2tsZTogKCkgPT4gdm9pZDtcbiAgcHJpdmF0ZSByZWFkb25seSB1bnN1YnNjcmliZU5ldHdvcmtDaGFuZ2VkOiAoKSA9PiB2b2lkO1xuICBwcml2YXRlIHJlYWRvbmx5IG9uU2lnbmFsQ2xvc2U6ICgoKSA9PiB2b2lkKSB8IHVuZGVmaW5lZDtcbiAgcHJpdmF0ZSByZWFkb25seSBsb2dnZXI6IExvZ2dlcjtcbiAgcHJpdmF0ZSByZWFkb25seSBsb2dUYWc6IHN0cmluZztcbiAgcHJpdmF0ZSByZWFkb25seSBjcmVkZW50aWFsczogQ3JlZGVudGlhbHM7XG4gIHByaXZhdGUgcmVhZG9ubHkgZGlzcGF0Y2hlcjogRGlzcGF0Y2hlcjtcbiAgcHJpdmF0ZSByZWFkb25seSBqb2luUmVzcG9uc2VUaW1lb3V0OiBudW1iZXI7XG4gIHByaXZhdGUgbmV0d29ya0F2YWlsYWJsZVRhc2s6IFByb21pc2VXaXRoUmVzb2x2ZXJzPHZvaWQ+IHwgdW5kZWZpbmVkO1xuICAvKipcbiAgICogUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gdGhlIEpvaW5SZXNwb25zZSBpcyByZWNlaXZlZC5cbiAgICogUmVqZWN0cyBhZnRlciBhIGNlcnRhaW4gdGhyZXNob2xkIGlmIHRoZSByZXNwb25zZSBpcyBub3QgcmVjZWl2ZWQuXG4gICAqL1xuICBwcml2YXRlIGpvaW5SZXNwb25zZVRhc2sgPSBwcm9taXNlV2l0aFJlc29sdmVyczxKb2luUmVzcG9uc2U+KCk7XG5cbiAgLyoqXG4gICAqIFByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIHRoZSBtaWdyYXRpb24gaXMgY29tcGxldGUuXG4gICAqIFJlamVjdHMgYWZ0ZXIgYSBjZXJ0YWluIHRocmVzaG9sZCBpZiB0aGUgbWlncmF0aW9uIGlzIG5vdCBjb21wbGV0ZS5cbiAgICovXG4gIHByaXZhdGUgbWlncmF0aW9uVGFzaz86IFByb21pc2VXaXRoUmVzb2x2ZXJzPHZvaWQ+O1xuXG4gIC8qKlxuICAgKiBBIGNvbnRyb2xsZXIgdG8gYWJvcnQgdGhlIGN1cnJlbnQgcmVxdWVzdHMuXG4gICAqL1xuICBwcml2YXRlIHJlYWRvbmx5IGFib3J0Q29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcblxuICAvKipcbiAgICogVGhlIG5vcm1hbCBjbG9zdXJlIGNvZGUuIFVzZWQgZm9yIGNvbnRyb2xsZWQgc2h1dGRvd25zLlxuICAgKi9cbiAgc3RhdGljIE5PUk1BTF9DTE9TVVJFID0gMTAwMDtcbiAgLyoqXG4gICAqIFRoZSBlcnJvciBjb2RlIHVzZWQgd2hlbiB0aGUgU0ZVIGNvbm5lY3Rpb24gaXMgdW5oZWFsdGh5LlxuICAgKiBVc3VhbGx5LCB0aGlzIG1lYW5zIHRoYXQgbm8gbWVzc2FnZSBoYXMgYmVlbiByZWNlaXZlZCBmcm9tIHRoZSBTRlUgZm9yXG4gICAqIGEgY2VydGFpbiBhbW91bnQgb2YgdGltZSAoYGNvbm5lY3Rpb25DaGVja1RpbWVvdXRgKS5cbiAgICovXG4gIHN0YXRpYyBFUlJPUl9DT05ORUNUSU9OX1VOSEVBTFRIWSA9IDQwMDE7XG4gIC8qKlxuICAgKiBUaGUgZXJyb3IgY29kZSB1c2VkIHdoZW4gdGhlIFNGVSBjb25uZWN0aW9uIGlzIGRpc3Bvc2VkIGJlY2F1c2UgYSBuZXdcbiAgICogY29ubmVjdGlvbiBpcyBlc3RhYmxpc2hlZCBvciBpcyBhYm91dCB0byBiZSBlc3RhYmxpc2hlZC5cbiAgICogSGVyZSwgd2UgZG9uJ3QgdXNlIDEwMDAgKG5vcm1hbCBjbG9zdXJlKSBiZWNhdXNlIHdlIGRvbid0IHdhbnQgdGhlXG4gICAqIFNGVSB0byBjbGVhbiB1cCB0aGUgcmVzb3VyY2VzIGFzc29jaWF0ZWQgd2l0aCB0aGUgY3VycmVudCBwYXJ0aWNpcGFudC5cbiAgICovXG4gIHN0YXRpYyBESVNQT1NFX09MRF9TT0NLRVQgPSA0MDAyO1xuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RzIGEgbmV3IFNGVSBjbGllbnQuXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih7XG4gICAgZGlzcGF0Y2hlcixcbiAgICBjcmVkZW50aWFscyxcbiAgICBzZXNzaW9uSWQsXG4gICAgbG9nVGFnLFxuICAgIGpvaW5SZXNwb25zZVRpbWVvdXQgPSA1MDAwLFxuICAgIG9uU2lnbmFsQ2xvc2UsXG4gICAgc3RyZWFtQ2xpZW50LFxuICB9OiBTdHJlYW1TZnVDbGllbnRDb25zdHJ1Y3Rvcikge1xuICAgIHRoaXMuZGlzcGF0Y2hlciA9IGRpc3BhdGNoZXI7XG4gICAgdGhpcy5zZXNzaW9uSWQgPSBzZXNzaW9uSWQgfHwgZ2VuZXJhdGVVVUlEdjQoKTtcbiAgICB0aGlzLm9uU2lnbmFsQ2xvc2UgPSBvblNpZ25hbENsb3NlO1xuICAgIHRoaXMuY3JlZGVudGlhbHMgPSBjcmVkZW50aWFscztcbiAgICBjb25zdCB7IHNlcnZlciwgdG9rZW4gfSA9IGNyZWRlbnRpYWxzO1xuICAgIHRoaXMuZWRnZU5hbWUgPSBzZXJ2ZXIuZWRnZV9uYW1lO1xuICAgIHRoaXMuam9pblJlc3BvbnNlVGltZW91dCA9IGpvaW5SZXNwb25zZVRpbWVvdXQ7XG4gICAgdGhpcy5sb2dUYWcgPSBsb2dUYWc7XG4gICAgdGhpcy5sb2dnZXIgPSBnZXRMb2dnZXIoWydTZnVDbGllbnQnLCBsb2dUYWddKTtcbiAgICB0aGlzLnJwYyA9IGNyZWF0ZVNpZ25hbENsaWVudCh7XG4gICAgICBiYXNlVXJsOiBzZXJ2ZXIudXJsLFxuICAgICAgaW50ZXJjZXB0b3JzOiBbXG4gICAgICAgIHdpdGhIZWFkZXJzKHtcbiAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dG9rZW59YCxcbiAgICAgICAgfSksXG4gICAgICAgIGdldExvZ0xldmVsKCkgPT09ICd0cmFjZScgJiYgd2l0aFJlcXVlc3RMb2dnZXIodGhpcy5sb2dnZXIsICd0cmFjZScpLFxuICAgICAgXS5maWx0ZXIoKHYpID0+ICEhdiksXG4gICAgfSk7XG5cbiAgICAvLyBTcGVjaWFsIGhhbmRsaW5nIGZvciB0aGUgSUNFVHJpY2tsZSBraW5kIG9mIGV2ZW50cy5cbiAgICAvLyBUaGUgU0ZVIG1pZ2h0IHRyaWdnZXIgdGhlc2UgZXZlbnRzIGJlZm9yZSB0aGUgaW5pdGlhbCBSVENcbiAgICAvLyBjb25uZWN0aW9uIGlzIGVzdGFibGlzaGVkIG9yIFwiSm9pblJlc3BvbnNlXCIgcmVjZWl2ZWQuXG4gICAgLy8gSW4gdGhhdCBjYXNlLCB0aG9zZSBldmVudHMgKElDRSBjYW5kaWRhdGVzKSBuZWVkIHRvIGJlIGJ1ZmZlcmVkXG4gICAgLy8gYW5kIGxhdGVyIGFkZGVkIHRvIHRoZSBhcHByb3ByaWF0ZSBQZWVyQ29ubmVjdGlvblxuICAgIC8vIG9uY2UgdGhlIHJlbW90ZURlc2NyaXB0aW9uIGlzIGtub3duIGFuZCBzZXQuXG4gICAgdGhpcy51bnN1YnNjcmliZUljZVRyaWNrbGUgPSBkaXNwYXRjaGVyLm9uKCdpY2VUcmlja2xlJywgKGljZVRyaWNrbGUpID0+IHtcbiAgICAgIHRoaXMuaWNlVHJpY2tsZUJ1ZmZlci5wdXNoKGljZVRyaWNrbGUpO1xuICAgIH0pO1xuXG4gICAgLy8gbGlzdGVuIHRvIG5ldHdvcmsgY2hhbmdlcyB0byBoYW5kbGUgb2ZmbGluZSBzdGF0ZVxuICAgIC8vIHdlIHNob3VsZG4ndCBhdHRlbXB0IHRvIHJlY292ZXIgd2Vic29ja2V0IGNvbm5lY3Rpb24gd2hlbiBvZmZsaW5lXG4gICAgdGhpcy51bnN1YnNjcmliZU5ldHdvcmtDaGFuZ2VkID0gc3RyZWFtQ2xpZW50Lm9uKCduZXR3b3JrLmNoYW5nZWQnLCAoZSkgPT4ge1xuICAgICAgaWYgKCFlLm9ubGluZSkge1xuICAgICAgICB0aGlzLm5ldHdvcmtBdmFpbGFibGVUYXNrID0gcHJvbWlzZVdpdGhSZXNvbHZlcnMoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMubmV0d29ya0F2YWlsYWJsZVRhc2s/LnJlc29sdmUoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuY3JlYXRlV2ViU29ja2V0KCk7XG4gIH1cblxuICBwcml2YXRlIGNyZWF0ZVdlYlNvY2tldCA9ICgpID0+IHtcbiAgICB0aGlzLnNpZ25hbFdzID0gY3JlYXRlV2ViU29ja2V0U2lnbmFsQ2hhbm5lbCh7XG4gICAgICBsb2dUYWc6IHRoaXMubG9nVGFnLFxuICAgICAgZW5kcG9pbnQ6IGAke3RoaXMuY3JlZGVudGlhbHMuc2VydmVyLndzX2VuZHBvaW50fT90YWc9JHt0aGlzLmxvZ1RhZ31gLFxuICAgICAgb25NZXNzYWdlOiAobWVzc2FnZSkgPT4ge1xuICAgICAgICB0aGlzLmxhc3RNZXNzYWdlVGltZXN0YW1wID0gbmV3IERhdGUoKTtcbiAgICAgICAgdGhpcy5zY2hlZHVsZUNvbm5lY3Rpb25DaGVjaygpO1xuICAgICAgICB0aGlzLmRpc3BhdGNoZXIuZGlzcGF0Y2gobWVzc2FnZSwgdGhpcy5sb2dUYWcpO1xuICAgICAgfSxcbiAgICB9KTtcblxuICAgIHRoaXMuc2lnbmFsV3MuYWRkRXZlbnRMaXN0ZW5lcignY2xvc2UnLCB0aGlzLmhhbmRsZVdlYlNvY2tldENsb3NlKTtcblxuICAgIHRoaXMuc2lnbmFsUmVhZHkgPSBtYWtlU2FmZVByb21pc2UoXG4gICAgICBQcm9taXNlLnJhY2U8V2ViU29ja2V0PihbXG4gICAgICAgIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgICAgY29uc3Qgb25PcGVuID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zaWduYWxXcy5yZW1vdmVFdmVudExpc3RlbmVyKCdvcGVuJywgb25PcGVuKTtcbiAgICAgICAgICAgIHJlc29sdmUodGhpcy5zaWduYWxXcyk7XG4gICAgICAgICAgfTtcbiAgICAgICAgICB0aGlzLnNpZ25hbFdzLmFkZEV2ZW50TGlzdGVuZXIoJ29wZW4nLCBvbk9wZW4pO1xuICAgICAgICB9KSxcblxuICAgICAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgc2V0VGltZW91dChcbiAgICAgICAgICAgICgpID0+IHJlamVjdChuZXcgRXJyb3IoJ1NGVSBXUyBjb25uZWN0aW9uIHRpbWVkIG91dCcpKSxcbiAgICAgICAgICAgIHRoaXMuam9pblJlc3BvbnNlVGltZW91dCxcbiAgICAgICAgICApO1xuICAgICAgICB9KSxcbiAgICAgIF0pLFxuICAgICk7XG4gIH07XG5cbiAgcHJpdmF0ZSBjbGVhblVwV2ViU29ja2V0ID0gKCkgPT4ge1xuICAgIHRoaXMuc2lnbmFsV3MucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xvc2UnLCB0aGlzLmhhbmRsZVdlYlNvY2tldENsb3NlKTtcbiAgfTtcblxuICBnZXQgaXNIZWFsdGh5KCkge1xuICAgIHJldHVybiB0aGlzLnNpZ25hbFdzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOO1xuICB9XG5cbiAgZ2V0IGpvaW5UYXNrKCkge1xuICAgIHJldHVybiB0aGlzLmpvaW5SZXNwb25zZVRhc2sucHJvbWlzZTtcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlV2ViU29ja2V0Q2xvc2UgPSAoKSA9PiB7XG4gICAgdGhpcy5zaWduYWxXcy5yZW1vdmVFdmVudExpc3RlbmVyKCdjbG9zZScsIHRoaXMuaGFuZGxlV2ViU29ja2V0Q2xvc2UpO1xuICAgIGdldFRpbWVycygpLmNsZWFySW50ZXJ2YWwodGhpcy5rZWVwQWxpdmVJbnRlcnZhbCk7XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMuY29ubmVjdGlvbkNoZWNrVGltZW91dCk7XG4gICAgdGhpcy5vblNpZ25hbENsb3NlPy4oKTtcbiAgfTtcblxuICBjbG9zZSA9IChjb2RlOiBudW1iZXIgPSBTdHJlYW1TZnVDbGllbnQuTk9STUFMX0NMT1NVUkUsIHJlYXNvbj86IHN0cmluZykgPT4ge1xuICAgIGlmICh0aGlzLnNpZ25hbFdzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB7XG4gICAgICB0aGlzLmxvZ2dlcignZGVidWcnLCBgQ2xvc2luZyBTRlUgV1MgY29ubmVjdGlvbjogJHtjb2RlfSAtICR7cmVhc29ufWApO1xuICAgICAgdGhpcy5zaWduYWxXcy5jbG9zZShjb2RlLCBganMtY2xpZW50OiAke3JlYXNvbn1gKTtcbiAgICAgIHRoaXMuY2xlYW5VcFdlYlNvY2tldCgpO1xuICAgIH1cbiAgICB0aGlzLmRpc3Bvc2UoKTtcbiAgfTtcblxuICBkaXNwb3NlID0gKCkgPT4ge1xuICAgIHRoaXMubG9nZ2VyKCdkZWJ1ZycsICdEaXNwb3NpbmcgU0ZVIGNsaWVudCcpO1xuICAgIHRoaXMudW5zdWJzY3JpYmVJY2VUcmlja2xlKCk7XG4gICAgdGhpcy51bnN1YnNjcmliZU5ldHdvcmtDaGFuZ2VkKCk7XG4gICAgY2xlYXJJbnRlcnZhbCh0aGlzLmtlZXBBbGl2ZUludGVydmFsKTtcbiAgICBjbGVhclRpbWVvdXQodGhpcy5jb25uZWN0aW9uQ2hlY2tUaW1lb3V0KTtcbiAgICBjbGVhclRpbWVvdXQodGhpcy5taWdyYXRlQXdheVRpbWVvdXQpO1xuICAgIHRoaXMuYWJvcnRDb250cm9sbGVyLmFib3J0KCk7XG4gICAgdGhpcy5taWdyYXRpb25UYXNrPy5yZXNvbHZlKCk7XG4gIH07XG5cbiAgbGVhdmVBbmRDbG9zZSA9IGFzeW5jIChyZWFzb246IHN0cmluZykgPT4ge1xuICAgIGF3YWl0IHRoaXMuam9pblRhc2s7XG4gICAgdHJ5IHtcbiAgICAgIHRoaXMuaXNMZWF2aW5nID0gdHJ1ZTtcbiAgICAgIGF3YWl0IHRoaXMubm90aWZ5TGVhdmUocmVhc29uKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHRoaXMubG9nZ2VyKCdkZWJ1ZycsICdFcnJvciBub3RpZnlpbmcgU0ZVIGFib3V0IGxlYXZpbmcgY2FsbCcsIGVycik7XG4gICAgfVxuXG4gICAgdGhpcy5jbG9zZShTdHJlYW1TZnVDbGllbnQuTk9STUFMX0NMT1NVUkUsIHJlYXNvbi5zdWJzdHJpbmcoMCwgMTE1KSk7XG4gIH07XG5cbiAgdXBkYXRlU3Vic2NyaXB0aW9ucyA9IGFzeW5jICh0cmFja3M6IFRyYWNrU3Vic2NyaXB0aW9uRGV0YWlsc1tdKSA9PiB7XG4gICAgYXdhaXQgdGhpcy5qb2luVGFzaztcbiAgICByZXR1cm4gcmV0cnlhYmxlKFxuICAgICAgKCkgPT4gdGhpcy5ycGMudXBkYXRlU3Vic2NyaXB0aW9ucyh7IHNlc3Npb25JZDogdGhpcy5zZXNzaW9uSWQsIHRyYWNrcyB9KSxcbiAgICAgIHRoaXMuYWJvcnRDb250cm9sbGVyLnNpZ25hbCxcbiAgICApO1xuICB9O1xuXG4gIHNldFB1Ymxpc2hlciA9IGFzeW5jIChkYXRhOiBPbWl0PFNldFB1Ymxpc2hlclJlcXVlc3QsICdzZXNzaW9uSWQnPikgPT4ge1xuICAgIGF3YWl0IHRoaXMuam9pblRhc2s7XG4gICAgcmV0dXJuIHJldHJ5YWJsZShcbiAgICAgICgpID0+IHRoaXMucnBjLnNldFB1Ymxpc2hlcih7IC4uLmRhdGEsIHNlc3Npb25JZDogdGhpcy5zZXNzaW9uSWQgfSksXG4gICAgICB0aGlzLmFib3J0Q29udHJvbGxlci5zaWduYWwsXG4gICAgKTtcbiAgfTtcblxuICBzZW5kQW5zd2VyID0gYXN5bmMgKGRhdGE6IE9taXQ8U2VuZEFuc3dlclJlcXVlc3QsICdzZXNzaW9uSWQnPikgPT4ge1xuICAgIGF3YWl0IHRoaXMuam9pblRhc2s7XG4gICAgcmV0dXJuIHJldHJ5YWJsZShcbiAgICAgICgpID0+IHRoaXMucnBjLnNlbmRBbnN3ZXIoeyAuLi5kYXRhLCBzZXNzaW9uSWQ6IHRoaXMuc2Vzc2lvbklkIH0pLFxuICAgICAgdGhpcy5hYm9ydENvbnRyb2xsZXIuc2lnbmFsLFxuICAgICk7XG4gIH07XG5cbiAgaWNlVHJpY2tsZSA9IGFzeW5jIChkYXRhOiBPbWl0PElDRVRyaWNrbGUsICdzZXNzaW9uSWQnPikgPT4ge1xuICAgIGF3YWl0IHRoaXMuam9pblRhc2s7XG4gICAgcmV0dXJuIHJldHJ5YWJsZShcbiAgICAgICgpID0+IHRoaXMucnBjLmljZVRyaWNrbGUoeyAuLi5kYXRhLCBzZXNzaW9uSWQ6IHRoaXMuc2Vzc2lvbklkIH0pLFxuICAgICAgdGhpcy5hYm9ydENvbnRyb2xsZXIuc2lnbmFsLFxuICAgICk7XG4gIH07XG5cbiAgaWNlUmVzdGFydCA9IGFzeW5jIChkYXRhOiBPbWl0PElDRVJlc3RhcnRSZXF1ZXN0LCAnc2Vzc2lvbklkJz4pID0+IHtcbiAgICBhd2FpdCB0aGlzLmpvaW5UYXNrO1xuICAgIHJldHVybiByZXRyeWFibGUoXG4gICAgICAoKSA9PiB0aGlzLnJwYy5pY2VSZXN0YXJ0KHsgLi4uZGF0YSwgc2Vzc2lvbklkOiB0aGlzLnNlc3Npb25JZCB9KSxcbiAgICAgIHRoaXMuYWJvcnRDb250cm9sbGVyLnNpZ25hbCxcbiAgICApO1xuICB9O1xuXG4gIHVwZGF0ZU11dGVTdGF0ZSA9IGFzeW5jICh0cmFja1R5cGU6IFRyYWNrVHlwZSwgbXV0ZWQ6IGJvb2xlYW4pID0+IHtcbiAgICBhd2FpdCB0aGlzLmpvaW5UYXNrO1xuICAgIHJldHVybiB0aGlzLnVwZGF0ZU11dGVTdGF0ZXMoeyBtdXRlU3RhdGVzOiBbeyB0cmFja1R5cGUsIG11dGVkIH1dIH0pO1xuICB9O1xuXG4gIHVwZGF0ZU11dGVTdGF0ZXMgPSBhc3luYyAoXG4gICAgZGF0YTogT21pdDxVcGRhdGVNdXRlU3RhdGVzUmVxdWVzdCwgJ3Nlc3Npb25JZCc+LFxuICApID0+IHtcbiAgICBhd2FpdCB0aGlzLmpvaW5UYXNrO1xuICAgIHJldHVybiByZXRyeWFibGUoXG4gICAgICAoKSA9PiB0aGlzLnJwYy51cGRhdGVNdXRlU3RhdGVzKHsgLi4uZGF0YSwgc2Vzc2lvbklkOiB0aGlzLnNlc3Npb25JZCB9KSxcbiAgICAgIHRoaXMuYWJvcnRDb250cm9sbGVyLnNpZ25hbCxcbiAgICApO1xuICB9O1xuXG4gIHNlbmRTdGF0cyA9IGFzeW5jIChzdGF0czogT21pdDxTZW5kU3RhdHNSZXF1ZXN0LCAnc2Vzc2lvbklkJz4pID0+IHtcbiAgICBhd2FpdCB0aGlzLmpvaW5UYXNrO1xuICAgIHJldHVybiByZXRyeWFibGUoXG4gICAgICAoKSA9PiB0aGlzLnJwYy5zZW5kU3RhdHMoeyAuLi5zdGF0cywgc2Vzc2lvbklkOiB0aGlzLnNlc3Npb25JZCB9KSxcbiAgICAgIHRoaXMuYWJvcnRDb250cm9sbGVyLnNpZ25hbCxcbiAgICApO1xuICB9O1xuXG4gIHN0YXJ0Tm9pc2VDYW5jZWxsYXRpb24gPSBhc3luYyAoKSA9PiB7XG4gICAgYXdhaXQgdGhpcy5qb2luVGFzaztcbiAgICByZXR1cm4gcmV0cnlhYmxlKFxuICAgICAgKCkgPT4gdGhpcy5ycGMuc3RhcnROb2lzZUNhbmNlbGxhdGlvbih7IHNlc3Npb25JZDogdGhpcy5zZXNzaW9uSWQgfSksXG4gICAgICB0aGlzLmFib3J0Q29udHJvbGxlci5zaWduYWwsXG4gICAgKTtcbiAgfTtcblxuICBzdG9wTm9pc2VDYW5jZWxsYXRpb24gPSBhc3luYyAoKSA9PiB7XG4gICAgYXdhaXQgdGhpcy5qb2luVGFzaztcbiAgICByZXR1cm4gcmV0cnlhYmxlKFxuICAgICAgKCkgPT4gdGhpcy5ycGMuc3RvcE5vaXNlQ2FuY2VsbGF0aW9uKHsgc2Vzc2lvbklkOiB0aGlzLnNlc3Npb25JZCB9KSxcbiAgICAgIHRoaXMuYWJvcnRDb250cm9sbGVyLnNpZ25hbCxcbiAgICApO1xuICB9O1xuXG4gIGVudGVyTWlncmF0aW9uID0gYXN5bmMgKG9wdHM6IHsgdGltZW91dD86IG51bWJlciB9ID0ge30pID0+IHtcbiAgICB0aGlzLmlzTGVhdmluZyA9IHRydWU7XG4gICAgY29uc3QgeyB0aW1lb3V0ID0gNyAqIDEwMDAgfSA9IG9wdHM7XG5cbiAgICB0aGlzLm1pZ3JhdGlvblRhc2s/LnJlamVjdChuZXcgRXJyb3IoJ0NhbmNlbGxlZCBwcmV2aW91cyBtaWdyYXRpb24nKSk7XG4gICAgY29uc3QgdGFzayA9ICh0aGlzLm1pZ3JhdGlvblRhc2sgPSBwcm9taXNlV2l0aFJlc29sdmVycygpKTtcbiAgICBjb25zdCB1bnN1YnNjcmliZSA9IHRoaXMuZGlzcGF0Y2hlci5vbihcbiAgICAgICdwYXJ0aWNpcGFudE1pZ3JhdGlvbkNvbXBsZXRlJyxcbiAgICAgICgpID0+IHtcbiAgICAgICAgdW5zdWJzY3JpYmUoKTtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMubWlncmF0ZUF3YXlUaW1lb3V0KTtcbiAgICAgICAgdGFzay5yZXNvbHZlKCk7XG4gICAgICB9LFxuICAgICk7XG4gICAgdGhpcy5taWdyYXRlQXdheVRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHVuc3Vic2NyaWJlKCk7XG4gICAgICB0YXNrLnJlamVjdChcbiAgICAgICAgbmV3IEVycm9yKFxuICAgICAgICAgIGBNaWdyYXRpb24gKCR7dGhpcy5sb2dUYWd9KSBmYWlsZWQgdG8gY29tcGxldGUgaW4gJHt0aW1lb3V0fW1zYCxcbiAgICAgICAgKSxcbiAgICAgICk7XG4gICAgfSwgdGltZW91dCk7XG5cbiAgICByZXR1cm4gdGFzay5wcm9taXNlO1xuICB9O1xuXG4gIGpvaW4gPSBhc3luYyAoXG4gICAgZGF0YTogT21pdDxKb2luUmVxdWVzdCwgJ3Nlc3Npb25JZCcgfCAndG9rZW4nPixcbiAgKTogUHJvbWlzZTxKb2luUmVzcG9uc2U+ID0+IHtcbiAgICAvLyB3YWl0IGZvciB0aGUgc2lnbmFsIHdlYiBzb2NrZXQgdG8gYmUgcmVhZHkgYmVmb3JlIHNlbmRpbmcgXCJqb2luUmVxdWVzdFwiXG4gICAgYXdhaXQgdGhpcy5zaWduYWxSZWFkeSgpO1xuICAgIGlmICh0aGlzLmpvaW5SZXNwb25zZVRhc2suaXNSZXNvbHZlZCB8fCB0aGlzLmpvaW5SZXNwb25zZVRhc2suaXNSZWplY3RlZCkge1xuICAgICAgLy8gd2UgbmVlZCB0byBsb2NrIHRoZSBSUEMgcmVxdWVzdHMgdW50aWwgd2UgcmVjZWl2ZSBhIEpvaW5SZXNwb25zZS5cbiAgICAgIC8vIHRoYXQncyB3aHkgd2UgaGF2ZSB0aGlzIHByaW1pdGl2ZSBsb2NrIG1lY2hhbmlzbS5cbiAgICAgIC8vIHRoZSBjbGllbnQgc3RhcnRzIHdpdGggYWxyZWFkeSBpbml0aWFsaXplZCBqb2luUmVzcG9uc2VUYXNrLFxuICAgICAgLy8gYW5kIHRoaXMgY29kZSBjcmVhdGVzIGEgbmV3IG9uZSBmb3IgdGhlIG5leHQgam9pbiByZXF1ZXN0LlxuICAgICAgdGhpcy5qb2luUmVzcG9uc2VUYXNrID0gcHJvbWlzZVdpdGhSZXNvbHZlcnM8Sm9pblJlc3BvbnNlPigpO1xuICAgIH1cblxuICAgIC8vIGNhcHR1cmUgYSByZWZlcmVuY2UgdG8gdGhlIGN1cnJlbnQgam9pblJlc3BvbnNlVGFzayBhcyBpdCBtaWdodFxuICAgIC8vIGJlIHJlcGxhY2VkIHdpdGggYSBuZXcgb25lIGluIGNhc2UgYSBzZWNvbmQgam9pbiByZXF1ZXN0IGlzIG1hZGVcbiAgICBjb25zdCBjdXJyZW50ID0gdGhpcy5qb2luUmVzcG9uc2VUYXNrO1xuXG4gICAgbGV0IHRpbWVvdXRJZDogTm9kZUpTLlRpbWVvdXQ7XG4gICAgY29uc3QgdW5zdWJzY3JpYmUgPSB0aGlzLmRpc3BhdGNoZXIub24oJ2pvaW5SZXNwb25zZScsIChqb2luUmVzcG9uc2UpID0+IHtcbiAgICAgIHRoaXMubG9nZ2VyKCdkZWJ1ZycsICdSZWNlaXZlZCBqb2luUmVzcG9uc2UnLCBqb2luUmVzcG9uc2UpO1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG4gICAgICB1bnN1YnNjcmliZSgpO1xuICAgICAgdGhpcy5rZWVwQWxpdmUoKTtcbiAgICAgIGN1cnJlbnQucmVzb2x2ZShqb2luUmVzcG9uc2UpO1xuICAgIH0pO1xuXG4gICAgdGltZW91dElkID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB1bnN1YnNjcmliZSgpO1xuICAgICAgY3VycmVudC5yZWplY3QobmV3IEVycm9yKCdXYWl0aW5nIGZvciBcImpvaW5SZXNwb25zZVwiIGhhcyB0aW1lZCBvdXQnKSk7XG4gICAgfSwgdGhpcy5qb2luUmVzcG9uc2VUaW1lb3V0KTtcblxuICAgIGF3YWl0IHRoaXMuc2VuZChcbiAgICAgIFNmdVJlcXVlc3QuY3JlYXRlKHtcbiAgICAgICAgcmVxdWVzdFBheWxvYWQ6IHtcbiAgICAgICAgICBvbmVvZktpbmQ6ICdqb2luUmVxdWVzdCcsXG4gICAgICAgICAgam9pblJlcXVlc3Q6IEpvaW5SZXF1ZXN0LmNyZWF0ZSh7XG4gICAgICAgICAgICAuLi5kYXRhLFxuICAgICAgICAgICAgc2Vzc2lvbklkOiB0aGlzLnNlc3Npb25JZCxcbiAgICAgICAgICAgIHRva2VuOiB0aGlzLmNyZWRlbnRpYWxzLnRva2VuLFxuICAgICAgICAgIH0pLFxuICAgICAgICB9LFxuICAgICAgfSksXG4gICAgKTtcblxuICAgIHJldHVybiBjdXJyZW50LnByb21pc2U7XG4gIH07XG5cbiAgcGluZyA9IGFzeW5jICgpID0+IHtcbiAgICByZXR1cm4gdGhpcy5zZW5kKFxuICAgICAgU2Z1UmVxdWVzdC5jcmVhdGUoe1xuICAgICAgICByZXF1ZXN0UGF5bG9hZDoge1xuICAgICAgICAgIG9uZW9mS2luZDogJ2hlYWx0aENoZWNrUmVxdWVzdCcsXG4gICAgICAgICAgaGVhbHRoQ2hlY2tSZXF1ZXN0OiB7fSxcbiAgICAgICAgfSxcbiAgICAgIH0pLFxuICAgICk7XG4gIH07XG5cbiAgcHJpdmF0ZSBub3RpZnlMZWF2ZSA9IGFzeW5jIChyZWFzb246IHN0cmluZykgPT4ge1xuICAgIHJldHVybiB0aGlzLnNlbmQoXG4gICAgICBTZnVSZXF1ZXN0LmNyZWF0ZSh7XG4gICAgICAgIHJlcXVlc3RQYXlsb2FkOiB7XG4gICAgICAgICAgb25lb2ZLaW5kOiAnbGVhdmVDYWxsUmVxdWVzdCcsXG4gICAgICAgICAgbGVhdmVDYWxsUmVxdWVzdDoge1xuICAgICAgICAgICAgc2Vzc2lvbklkOiB0aGlzLnNlc3Npb25JZCxcbiAgICAgICAgICAgIHJlYXNvbixcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgfSksXG4gICAgKTtcbiAgfTtcblxuICBwcml2YXRlIHNlbmQgPSBhc3luYyAobWVzc2FnZTogU2Z1UmVxdWVzdCkgPT4ge1xuICAgIGF3YWl0IHRoaXMuc2lnbmFsUmVhZHkoKTsgLy8gd2FpdCBmb3IgdGhlIHNpZ25hbCB3cyB0byBiZSBvcGVuXG4gICAgY29uc3QgbXNnSnNvbiA9IFNmdVJlcXVlc3QudG9Kc29uKG1lc3NhZ2UpO1xuICAgIGlmICh0aGlzLnNpZ25hbFdzLnJlYWR5U3RhdGUgIT09IFdlYlNvY2tldC5PUEVOKSB7XG4gICAgICB0aGlzLmxvZ2dlcignZGVidWcnLCAnU2lnbmFsIFdTIGlzIG5vdCBvcGVuLiBTa2lwcGluZyBtZXNzYWdlJywgbXNnSnNvbik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMubG9nZ2VyKCdkZWJ1ZycsIGBTZW5kaW5nIG1lc3NhZ2UgdG86ICR7dGhpcy5lZGdlTmFtZX1gLCBtc2dKc29uKTtcbiAgICB0aGlzLnNpZ25hbFdzLnNlbmQoU2Z1UmVxdWVzdC50b0JpbmFyeShtZXNzYWdlKSk7XG4gIH07XG5cbiAgcHJpdmF0ZSBrZWVwQWxpdmUgPSAoKSA9PiB7XG4gICAgY29uc3QgdGltZXJzID0gZ2V0VGltZXJzKCk7XG4gICAgdGltZXJzLmNsZWFySW50ZXJ2YWwodGhpcy5rZWVwQWxpdmVJbnRlcnZhbCk7XG4gICAgdGhpcy5rZWVwQWxpdmVJbnRlcnZhbCA9IHRpbWVycy5zZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICB0aGlzLnBpbmcoKS5jYXRjaCgoZSkgPT4ge1xuICAgICAgICB0aGlzLmxvZ2dlcignZXJyb3InLCAnRXJyb3Igc2VuZGluZyBoZWFsdGhDaGVja1JlcXVlc3QgdG8gU0ZVJywgZSk7XG4gICAgICB9KTtcbiAgICB9LCB0aGlzLnBpbmdJbnRlcnZhbEluTXMpO1xuICB9O1xuXG4gIHByaXZhdGUgc2NoZWR1bGVDb25uZWN0aW9uQ2hlY2sgPSAoKSA9PiB7XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMuY29ubmVjdGlvbkNoZWNrVGltZW91dCk7XG4gICAgdGhpcy5jb25uZWN0aW9uQ2hlY2tUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBpZiAodGhpcy5sYXN0TWVzc2FnZVRpbWVzdGFtcCkge1xuICAgICAgICBjb25zdCB0aW1lU2luY2VMYXN0TWVzc2FnZSA9XG4gICAgICAgICAgbmV3IERhdGUoKS5nZXRUaW1lKCkgLSB0aGlzLmxhc3RNZXNzYWdlVGltZXN0YW1wLmdldFRpbWUoKTtcblxuICAgICAgICBpZiAodGltZVNpbmNlTGFzdE1lc3NhZ2UgPiB0aGlzLnVuaGVhbHRoeVRpbWVvdXRJbk1zKSB7XG4gICAgICAgICAgdGhpcy5jbG9zZShcbiAgICAgICAgICAgIFN0cmVhbVNmdUNsaWVudC5FUlJPUl9DT05ORUNUSU9OX1VOSEVBTFRIWSxcbiAgICAgICAgICAgIGBTRlUgY29ubmVjdGlvbiB1bmhlYWx0aHkuIERpZG4ndCByZWNlaXZlIGFueSBtZXNzYWdlIGZvciAke3RoaXMudW5oZWFsdGh5VGltZW91dEluTXN9bXNgLFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCB0aGlzLnVuaGVhbHRoeVRpbWVvdXRJbk1zKTtcbiAgfTtcbn1cbiIsImltcG9ydCB7IElDRVNlcnZlciB9IGZyb20gJy4uLy4uL2dlbi9jb29yZGluYXRvcic7XG5cbmV4cG9ydCBjb25zdCB0b1J0Y0NvbmZpZ3VyYXRpb24gPSAoY29uZmlnOiBJQ0VTZXJ2ZXJbXSk6IFJUQ0NvbmZpZ3VyYXRpb24gPT4ge1xuICByZXR1cm4ge1xuICAgIGljZVNlcnZlcnM6IGNvbmZpZy5tYXAoKGljZSkgPT4gKHtcbiAgICAgIHVybHM6IGljZS51cmxzLFxuICAgICAgdXNlcm5hbWU6IGljZS51c2VybmFtZSxcbiAgICAgIGNyZWRlbnRpYWw6IGljZS5wYXNzd29yZCxcbiAgICB9KSksXG4gIH07XG59O1xuIiwiaW1wb3J0IHsgQ2FsbGluZ1N0YXRlIH0gZnJvbSAnLi4vc3RvcmUnO1xuaW1wb3J0IHsgQ2FsbCB9IGZyb20gJy4uL0NhbGwnO1xuaW1wb3J0IHR5cGUgeyBDYWxsQWNjZXB0ZWRFdmVudCwgQ2FsbFJlamVjdGVkRXZlbnQgfSBmcm9tICcuLi9nZW4vY29vcmRpbmF0b3InO1xuaW1wb3J0IHsgQ2FsbEVuZGVkIH0gZnJvbSAnLi4vZ2VuL3ZpZGVvL3NmdS9ldmVudC9ldmVudHMnO1xuaW1wb3J0IHsgQ2FsbEVuZGVkUmVhc29uIH0gZnJvbSAnLi4vZ2VuL3ZpZGVvL3NmdS9tb2RlbHMvbW9kZWxzJztcblxuLyoqXG4gKiBFdmVudCBoYW5kbGVyIHRoYXQgd2F0Y2hlZCB0aGUgZGVsaXZlcnkgb2YgYGNhbGwuYWNjZXB0ZWRgLlxuICogT25jZSB0aGUgZXZlbnQgaXMgcmVjZWl2ZWQsIHRoZSBjYWxsIGlzIGpvaW5lZC5cbiAqL1xuZXhwb3J0IGNvbnN0IHdhdGNoQ2FsbEFjY2VwdGVkID0gKGNhbGw6IENhbGwpID0+IHtcbiAgcmV0dXJuIGFzeW5jIGZ1bmN0aW9uIG9uQ2FsbEFjY2VwdGVkKGV2ZW50OiBDYWxsQWNjZXB0ZWRFdmVudCkge1xuICAgIC8vIFdlIHdhbnQgdG8gZGlzY2FyZCB0aGUgZXZlbnQgaWYgaXQncyBmcm9tIHRoZSBjdXJyZW50IHVzZXJcbiAgICBpZiAoZXZlbnQudXNlci5pZCA9PT0gY2FsbC5jdXJyZW50VXNlcklkKSByZXR1cm47XG4gICAgY29uc3QgeyBzdGF0ZSB9ID0gY2FsbDtcbiAgICBpZiAoXG4gICAgICBldmVudC5jYWxsLmNyZWF0ZWRfYnkuaWQgPT09IGNhbGwuY3VycmVudFVzZXJJZCAmJlxuICAgICAgc3RhdGUuY2FsbGluZ1N0YXRlID09PSBDYWxsaW5nU3RhdGUuUklOR0lOR1xuICAgICkge1xuICAgICAgYXdhaXQgY2FsbC5qb2luKCk7XG4gICAgfVxuICB9O1xufTtcblxuLyoqXG4gKiBFdmVudCBoYW5kbGVyIHRoYXQgd2F0Y2hlcyBkZWxpdmVyeSBvZiBgY2FsbC5yZWplY3RlZGAgV2Vic29ja2V0IGV2ZW50LlxuICogT25jZSB0aGUgZXZlbnQgaXMgcmVjZWl2ZWQsIHRoZSBjYWxsIGlzIGxlZnQuXG4gKi9cbmV4cG9ydCBjb25zdCB3YXRjaENhbGxSZWplY3RlZCA9IChjYWxsOiBDYWxsKSA9PiB7XG4gIHJldHVybiBhc3luYyBmdW5jdGlvbiBvbkNhbGxSZWplY3RlZChldmVudDogQ2FsbFJlamVjdGVkRXZlbnQpIHtcbiAgICAvLyBXZSB3YW50IHRvIGRpc2NhcmQgdGhlIGV2ZW50IGlmIGl0J3MgZnJvbSB0aGUgY3VycmVudCB1c2VyXG4gICAgaWYgKGV2ZW50LnVzZXIuaWQgPT09IGNhbGwuY3VycmVudFVzZXJJZCkgcmV0dXJuO1xuICAgIGNvbnN0IHsgY2FsbDogZXZlbnRDYWxsIH0gPSBldmVudDtcbiAgICBjb25zdCB7IHNlc3Npb246IGNhbGxTZXNzaW9uIH0gPSBldmVudENhbGw7XG5cbiAgICBpZiAoIWNhbGxTZXNzaW9uKSB7XG4gICAgICBjYWxsLmxvZ2dlcihcbiAgICAgICAgJ3dhcm4nLFxuICAgICAgICAnTm8gY2FsbCBzZXNzaW9uIHByb3ZpZGVkLiBJZ25vcmluZyBjYWxsLnJlamVjdGVkIGV2ZW50LicsXG4gICAgICAgIGV2ZW50LFxuICAgICAgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCByZWplY3RlZEJ5ID0gY2FsbFNlc3Npb24ucmVqZWN0ZWRfYnk7XG4gICAgY29uc3QgeyBtZW1iZXJzLCBjYWxsaW5nU3RhdGUgfSA9IGNhbGwuc3RhdGU7XG4gICAgaWYgKGNhbGxpbmdTdGF0ZSAhPT0gQ2FsbGluZ1N0YXRlLlJJTkdJTkcpIHtcbiAgICAgIGNhbGwubG9nZ2VyKFxuICAgICAgICAnaW5mbycsXG4gICAgICAgICdDYWxsIGlzIG5vdCBpbiByaW5naW5nIG1vZGUgKGl0IGlzIGVpdGhlciBhY2NlcHRlZCBvciByZWplY3RlZCBhbHJlYWR5KS4gSWdub3JpbmcgY2FsbC5yZWplY3RlZCBldmVudC4nLFxuICAgICAgICBldmVudCxcbiAgICAgICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChjYWxsLmlzQ3JlYXRlZEJ5TWUpIHtcbiAgICAgIGNvbnN0IGV2ZXJ5b25lRWxzZVJlamVjdGVkID0gbWVtYmVyc1xuICAgICAgICAuZmlsdGVyKChtKSA9PiBtLnVzZXJfaWQgIT09IGNhbGwuY3VycmVudFVzZXJJZClcbiAgICAgICAgLmV2ZXJ5KChtKSA9PiByZWplY3RlZEJ5W20udXNlcl9pZF0pO1xuICAgICAgaWYgKGV2ZXJ5b25lRWxzZVJlamVjdGVkKSB7XG4gICAgICAgIGNhbGwubG9nZ2VyKCdpbmZvJywgJ2V2ZXJ5b25lIHJlamVjdGVkLCBsZWF2aW5nIHRoZSBjYWxsJyk7XG4gICAgICAgIGF3YWl0IGNhbGwubGVhdmUoeyByZWFzb246ICdyaW5nOiBldmVyeW9uZSByZWplY3RlZCcgfSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChyZWplY3RlZEJ5W2V2ZW50Q2FsbC5jcmVhdGVkX2J5LmlkXSkge1xuICAgICAgICBjYWxsLmxvZ2dlcignaW5mbycsICdjYWxsIGNyZWF0b3IgcmVqZWN0ZWQsIGxlYXZpbmcgY2FsbCcpO1xuICAgICAgICBhd2FpdCBjYWxsLmxlYXZlKHsgcmVhc29uOiAncmluZzogY3JlYXRvciByZWplY3RlZCcgfSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xufTtcblxuLyoqXG4gKiBFdmVudCBoYW5kbGVyIHRoYXQgd2F0Y2hlcyB0aGUgZGVsaXZlcnkgb2YgYGNhbGwuZW5kZWRgIFdlYnNvY2tldCBldmVudC5cbiAqL1xuZXhwb3J0IGNvbnN0IHdhdGNoQ2FsbEVuZGVkID0gKGNhbGw6IENhbGwpID0+IHtcbiAgcmV0dXJuIGZ1bmN0aW9uIG9uQ2FsbEVuZGVkKCkge1xuICAgIGNvbnN0IHsgY2FsbGluZ1N0YXRlIH0gPSBjYWxsLnN0YXRlO1xuICAgIGlmIChcbiAgICAgIGNhbGxpbmdTdGF0ZSAhPT0gQ2FsbGluZ1N0YXRlLklETEUgJiZcbiAgICAgIGNhbGxpbmdTdGF0ZSAhPT0gQ2FsbGluZ1N0YXRlLkxFRlRcbiAgICApIHtcbiAgICAgIGNhbGxcbiAgICAgICAgLmxlYXZlKHsgcmVhc29uOiAnY2FsbC5lbmRlZCBldmVudCByZWNlaXZlZCcsIHJlamVjdDogZmFsc2UgfSlcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICBjYWxsLmxvZ2dlcignZXJyb3InLCAnRmFpbGVkIHRvIGxlYXZlIGNhbGwgYWZ0ZXIgY2FsbC5lbmRlZCAnLCBlcnIpO1xuICAgICAgICB9KTtcbiAgICB9XG4gIH07XG59O1xuXG4vKipcbiAqIFdhdGNoZXMgZm9yIGBjYWxsRW5kZWRgIGV2ZW50cy5cbiAqL1xuZXhwb3J0IGNvbnN0IHdhdGNoU2Z1Q2FsbEVuZGVkID0gKGNhbGw6IENhbGwpID0+IHtcbiAgcmV0dXJuIGNhbGwub24oJ2NhbGxFbmRlZCcsIGFzeW5jIChlOiBDYWxsRW5kZWQpID0+IHtcbiAgICBpZiAoY2FsbC5zdGF0ZS5jYWxsaW5nU3RhdGUgPT09IENhbGxpbmdTdGF0ZS5MRUZUKSByZXR1cm47XG4gICAgdHJ5IHtcbiAgICAgIC8vIGBjYWxsLmVuZGVkYCBldmVudCBhcnJpdmVkIGFmdGVyIHRoZSBjYWxsIGlzIGFscmVhZHkgbGVmdFxuICAgICAgLy8gYW5kIGFsbCBldmVudCBoYW5kbGVycyBhcmUgZGV0YWNoZWQuIFdlIG5lZWQgdG8gbWFudWFsbHlcbiAgICAgIC8vIHVwZGF0ZSB0aGUgY2FsbCBzdGF0ZSB0byByZWZsZWN0IHRoZSBjYWxsIGhhcyBlbmRlZC5cbiAgICAgIGNhbGwuc3RhdGUuc2V0RW5kZWRBdChuZXcgRGF0ZSgpKTtcbiAgICAgIGNvbnN0IHJlYXNvbiA9IENhbGxFbmRlZFJlYXNvbltlLnJlYXNvbl07XG4gICAgICBhd2FpdCBjYWxsLmxlYXZlKHsgcmVhc29uOiBgY2FsbEVuZGVkIHJlY2VpdmVkOiAke3JlYXNvbn1gIH0pO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY2FsbC5sb2dnZXIoXG4gICAgICAgICdlcnJvcicsXG4gICAgICAgICdGYWlsZWQgdG8gbGVhdmUgY2FsbCBhZnRlciBiZWluZyBlbmRlZCBieSB0aGUgU0ZVJyxcbiAgICAgICAgZXJyLFxuICAgICAgKTtcbiAgICB9XG4gIH0pO1xufTtcbiIsImltcG9ydCB7IENhbGxTdGF0ZSB9IGZyb20gJy4uL3N0b3JlJztcbmltcG9ydCB0eXBlIHsgQ2FsbEdyYW50c1VwZGF0ZWQgfSBmcm9tICcuLi9nZW4vdmlkZW8vc2Z1L2V2ZW50L2V2ZW50cyc7XG5pbXBvcnQgeyBPd25DYXBhYmlsaXR5IH0gZnJvbSAnLi4vZ2VuL2Nvb3JkaW5hdG9yJztcblxuLyoqXG4gKiBFdmVudCBoYW5kbGVyIHRoYXQgd2F0Y2hlcyBmb3IgYGNhbGxHcmFudHNVcGRhdGVkYCBldmVudHMuXG4gKlxuICogQHBhcmFtIHN0YXRlIHRoZSBjYWxsIHN0YXRlIHRvIHVwZGF0ZS5cbiAqL1xuZXhwb3J0IGNvbnN0IHdhdGNoQ2FsbEdyYW50c1VwZGF0ZWQgPSAoc3RhdGU6IENhbGxTdGF0ZSkgPT4ge1xuICByZXR1cm4gZnVuY3Rpb24gb25DYWxsR3JhbnRzVXBkYXRlZChldmVudDogQ2FsbEdyYW50c1VwZGF0ZWQpIHtcbiAgICBjb25zdCB7IGN1cnJlbnRHcmFudHMgfSA9IGV2ZW50O1xuICAgIGlmIChjdXJyZW50R3JhbnRzKSB7XG4gICAgICBjb25zdCB7IGNhblB1Ymxpc2hBdWRpbywgY2FuUHVibGlzaFZpZGVvLCBjYW5TY3JlZW5zaGFyZSB9ID1cbiAgICAgICAgY3VycmVudEdyYW50cztcblxuICAgICAgY29uc3QgdXBkYXRlOiBQYXJ0aWFsPFJlY29yZDxPd25DYXBhYmlsaXR5LCBib29sZWFuPj4gPSB7XG4gICAgICAgIFtPd25DYXBhYmlsaXR5LlNFTkRfQVVESU9dOiBjYW5QdWJsaXNoQXVkaW8sXG4gICAgICAgIFtPd25DYXBhYmlsaXR5LlNFTkRfVklERU9dOiBjYW5QdWJsaXNoVmlkZW8sXG4gICAgICAgIFtPd25DYXBhYmlsaXR5LlNDUkVFTlNIQVJFXTogY2FuU2NyZWVuc2hhcmUsXG4gICAgICB9O1xuXG4gICAgICBjb25zdCBuZXh0Q2FwYWJpbGl0aWVzID0gc3RhdGUub3duQ2FwYWJpbGl0aWVzLmZpbHRlcihcbiAgICAgICAgKGNhcGFiaWxpdHkpID0+IHVwZGF0ZVtjYXBhYmlsaXR5XSAhPT0gZmFsc2UsXG4gICAgICApO1xuICAgICAgT2JqZWN0LmVudHJpZXModXBkYXRlKS5mb3JFYWNoKChbY2FwYWJpbGl0eSwgdmFsdWVdKSA9PiB7XG4gICAgICAgIGlmICh2YWx1ZSAmJiAhbmV4dENhcGFiaWxpdGllcy5pbmNsdWRlcyhjYXBhYmlsaXR5IGFzIE93bkNhcGFiaWxpdHkpKSB7XG4gICAgICAgICAgbmV4dENhcGFiaWxpdGllcy5wdXNoKGNhcGFiaWxpdHkgYXMgT3duQ2FwYWJpbGl0eSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBzdGF0ZS5zZXRPd25DYXBhYmlsaXRpZXMobmV4dENhcGFiaWxpdGllcyk7XG4gICAgfVxuICB9O1xufTtcbiIsImltcG9ydCB7IERpc3BhdGNoZXIgfSBmcm9tICcuLi9ydGMnO1xuaW1wb3J0IHsgQ2FsbCB9IGZyb20gJy4uL0NhbGwnO1xuaW1wb3J0IHsgQ2FsbFN0YXRlIH0gZnJvbSAnLi4vc3RvcmUnO1xuaW1wb3J0IHsgU3RyZWFtVmlkZW9QYXJ0aWNpcGFudFBhdGNoZXMgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBnZXRMb2dnZXIgfSBmcm9tICcuLi9sb2dnZXInO1xuaW1wb3J0IHR5cGUgeyBQaW5zQ2hhbmdlZCB9IGZyb20gJy4uL2dlbi92aWRlby9zZnUvZXZlbnQvZXZlbnRzJztcbmltcG9ydCB7XG4gIEVycm9yQ29kZSxcbiAgV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3ksXG59IGZyb20gJy4uL2dlbi92aWRlby9zZnUvbW9kZWxzL21vZGVscyc7XG5pbXBvcnQgeyBPd25DYXBhYmlsaXR5IH0gZnJvbSAnLi4vZ2VuL2Nvb3JkaW5hdG9yJztcblxuZXhwb3J0IGNvbnN0IHdhdGNoQ29ubmVjdGlvblF1YWxpdHlDaGFuZ2VkID0gKFxuICBkaXNwYXRjaGVyOiBEaXNwYXRjaGVyLFxuICBzdGF0ZTogQ2FsbFN0YXRlLFxuKSA9PiB7XG4gIHJldHVybiBkaXNwYXRjaGVyLm9uKCdjb25uZWN0aW9uUXVhbGl0eUNoYW5nZWQnLCAoZSkgPT4ge1xuICAgIGNvbnN0IHsgY29ubmVjdGlvblF1YWxpdHlVcGRhdGVzIH0gPSBlO1xuICAgIGlmICghY29ubmVjdGlvblF1YWxpdHlVcGRhdGVzKSByZXR1cm47XG4gICAgc3RhdGUudXBkYXRlUGFydGljaXBhbnRzKFxuICAgICAgY29ubmVjdGlvblF1YWxpdHlVcGRhdGVzLnJlZHVjZTxTdHJlYW1WaWRlb1BhcnRpY2lwYW50UGF0Y2hlcz4oXG4gICAgICAgIChwYXRjaGVzLCB1cGRhdGUpID0+IHtcbiAgICAgICAgICBjb25zdCB7IHNlc3Npb25JZCwgY29ubmVjdGlvblF1YWxpdHkgfSA9IHVwZGF0ZTtcbiAgICAgICAgICBwYXRjaGVzW3Nlc3Npb25JZF0gPSB7XG4gICAgICAgICAgICBjb25uZWN0aW9uUXVhbGl0eSxcbiAgICAgICAgICB9O1xuICAgICAgICAgIHJldHVybiBwYXRjaGVzO1xuICAgICAgICB9LFxuICAgICAgICB7fSxcbiAgICAgICksXG4gICAgKTtcbiAgfSk7XG59O1xuXG4vKipcbiAqIFVwZGF0ZXMgdGhlIGFwcHJveGltYXRlIG51bWJlciBvZiBwYXJ0aWNpcGFudHMgaW4gdGhlIGNhbGwgYnkgcGVla2luZyBhdCB0aGVcbiAqIGhlYWx0aCBjaGVjayBldmVudHMgdGhhdCBvdXIgU0ZVIHNlbmRzLlxuICovXG5leHBvcnQgY29uc3Qgd2F0Y2hQYXJ0aWNpcGFudENvdW50Q2hhbmdlZCA9IChcbiAgZGlzcGF0Y2hlcjogRGlzcGF0Y2hlcixcbiAgc3RhdGU6IENhbGxTdGF0ZSxcbikgPT4ge1xuICByZXR1cm4gZGlzcGF0Y2hlci5vbignaGVhbHRoQ2hlY2tSZXNwb25zZScsIChlKSA9PiB7XG4gICAgY29uc3QgeyBwYXJ0aWNpcGFudENvdW50IH0gPSBlO1xuICAgIGlmIChwYXJ0aWNpcGFudENvdW50KSB7XG4gICAgICBzdGF0ZS5zZXRQYXJ0aWNpcGFudENvdW50KHBhcnRpY2lwYW50Q291bnQudG90YWwpO1xuICAgICAgc3RhdGUuc2V0QW5vbnltb3VzUGFydGljaXBhbnRDb3VudChwYXJ0aWNpcGFudENvdW50LmFub255bW91cyk7XG4gICAgfVxuICB9KTtcbn07XG5cbmV4cG9ydCBjb25zdCB3YXRjaExpdmVFbmRlZCA9IChkaXNwYXRjaGVyOiBEaXNwYXRjaGVyLCBjYWxsOiBDYWxsKSA9PiB7XG4gIHJldHVybiBkaXNwYXRjaGVyLm9uKCdlcnJvcicsIChlKSA9PiB7XG4gICAgaWYgKGUuZXJyb3IgJiYgZS5lcnJvci5jb2RlICE9PSBFcnJvckNvZGUuTElWRV9FTkRFRCkgcmV0dXJuO1xuXG4gICAgaWYgKCFjYWxsLnBlcm1pc3Npb25zQ29udGV4dC5oYXNQZXJtaXNzaW9uKE93bkNhcGFiaWxpdHkuSk9JTl9CQUNLU1RBR0UpKSB7XG4gICAgICBjYWxsLmxlYXZlKHsgcmVhc29uOiAnbGl2ZSBlbmRlZCcgfSkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjYWxsLmxvZ2dlcignZXJyb3InLCAnRmFpbGVkIHRvIGxlYXZlIGNhbGwgYWZ0ZXIgbGl2ZSBlbmRlZCcsIGVycik7XG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xufTtcblxuLyoqXG4gKiBXYXRjaGVzIGFuZCBsb2dzIHRoZSBlcnJvcnMgcmVwb3J0ZWQgYnkgdGhlIGN1cnJlbnRseSBjb25uZWN0ZWQgU0ZVLlxuICovXG5leHBvcnQgY29uc3Qgd2F0Y2hTZnVFcnJvclJlcG9ydHMgPSAoZGlzcGF0Y2hlcjogRGlzcGF0Y2hlcikgPT4ge1xuICByZXR1cm4gZGlzcGF0Y2hlci5vbignZXJyb3InLCAoZSkgPT4ge1xuICAgIGlmICghZS5lcnJvcikgcmV0dXJuO1xuICAgIGNvbnN0IGxvZ2dlciA9IGdldExvZ2dlcihbJ1NmdUNsaWVudCddKTtcbiAgICBjb25zdCB7IGVycm9yLCByZWNvbm5lY3RTdHJhdGVneSB9ID0gZTtcbiAgICBsb2dnZXIoJ2Vycm9yJywgJ1NGVSByZXBvcnRlZCBlcnJvcicsIHtcbiAgICAgIGNvZGU6IEVycm9yQ29kZVtlcnJvci5jb2RlXSxcbiAgICAgIHJlY29ubmVjdFN0cmF0ZWd5OiBXZWJzb2NrZXRSZWNvbm5lY3RTdHJhdGVneVtyZWNvbm5lY3RTdHJhdGVneV0sXG4gICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlLFxuICAgICAgc2hvdWxkUmV0cnk6IGVycm9yLnNob3VsZFJldHJ5LFxuICAgIH0pO1xuICB9KTtcbn07XG5cbi8qKlxuICogV2F0Y2hlcyBmb3IgYHBpbnNVcGRhdGVkYCBldmVudHMgYW5kIHVwZGF0ZXMgdGhlIHBpbm5lZCBzdGF0ZSBvZiBwYXJ0aWNpcGFudHNcbiAqIGluIHRoZSBjYWxsLlxuICovXG5leHBvcnQgY29uc3Qgd2F0Y2hQaW5zVXBkYXRlZCA9IChzdGF0ZTogQ2FsbFN0YXRlKSA9PiB7XG4gIHJldHVybiBmdW5jdGlvbiBvblBpbnNVcGRhdGVkKGU6IFBpbnNDaGFuZ2VkKSB7XG4gICAgY29uc3QgeyBwaW5zIH0gPSBlO1xuICAgIHN0YXRlLnNldFNlcnZlclNpZGVQaW5zKHBpbnMpO1xuICB9O1xufTtcbiIsImltcG9ydCB7IENhbGwgfSBmcm9tICcuLi9DYWxsJztcbmltcG9ydCB7XG4gIFRyYWNrVHlwZSxcbiAgVHJhY2tVbnB1Ymxpc2hSZWFzb24sXG59IGZyb20gJy4uL2dlbi92aWRlby9zZnUvbW9kZWxzL21vZGVscyc7XG5cbi8qKlxuICogQW4gZXZlbnQgaGFuZGxlciB0aGF0IGhhbmRsZXMgc29mdCBtdXRlcy5cbiAqXG4gKiBAcGFyYW0gY2FsbCB0aGUgY2FsbC5cbiAqL1xuZXhwb3J0IGNvbnN0IGhhbmRsZVJlbW90ZVNvZnRNdXRlID0gKGNhbGw6IENhbGwpID0+IHtcbiAgcmV0dXJuIGNhbGwub24oJ3RyYWNrVW5wdWJsaXNoZWQnLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICBjb25zdCB7IGNhdXNlLCB0eXBlLCBzZXNzaW9uSWQgfSA9IGV2ZW50O1xuICAgIGNvbnN0IHsgbG9jYWxQYXJ0aWNpcGFudCB9ID0gY2FsbC5zdGF0ZTtcbiAgICBpZiAoXG4gICAgICBjYXVzZSA9PT0gVHJhY2tVbnB1Ymxpc2hSZWFzb24uTU9ERVJBVElPTiAmJlxuICAgICAgc2Vzc2lvbklkID09PSBsb2NhbFBhcnRpY2lwYW50Py5zZXNzaW9uSWRcbiAgICApIHtcbiAgICAgIGNvbnN0IGxvZ2dlciA9IGNhbGwubG9nZ2VyO1xuICAgICAgbG9nZ2VyKFxuICAgICAgICAnaW5mbycsXG4gICAgICAgIGBMb2NhbCBwYXJ0aWNpcGFudCdzICR7VHJhY2tUeXBlW3R5cGVdfSB0cmFjayBpcyBtdXRlZCByZW1vdGVseWAsXG4gICAgICApO1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGUgPT09IFRyYWNrVHlwZS5WSURFTykge1xuICAgICAgICAgIGF3YWl0IGNhbGwuY2FtZXJhLmRpc2FibGUoKTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSBUcmFja1R5cGUuQVVESU8pIHtcbiAgICAgICAgICBhd2FpdCBjYWxsLm1pY3JvcGhvbmUuZGlzYWJsZSgpO1xuICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgIHR5cGUgPT09IFRyYWNrVHlwZS5TQ1JFRU5fU0hBUkUgfHxcbiAgICAgICAgICB0eXBlID09PSBUcmFja1R5cGUuU0NSRUVOX1NIQVJFX0FVRElPXG4gICAgICAgICkge1xuICAgICAgICAgIGF3YWl0IGNhbGwuc2NyZWVuU2hhcmUuZGlzYWJsZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxvZ2dlcihcbiAgICAgICAgICAgICd3YXJuJyxcbiAgICAgICAgICAgICdVbnN1cHBvcnRlZCB0cmFjayB0eXBlIHRvIHNvZnQgbXV0ZScsXG4gICAgICAgICAgICBUcmFja1R5cGVbdHlwZV0sXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgbG9nZ2VyKCdlcnJvcicsICdGYWlsZWQgdG8gc3RvcCBwdWJsaXNoaW5nJywgZXJyb3IpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG59O1xuIiwiaW1wb3J0IHR5cGUge1xuICBQYXJ0aWNpcGFudEpvaW5lZCxcbiAgUGFydGljaXBhbnRMZWZ0LFxuICBQYXJ0aWNpcGFudFVwZGF0ZWQsXG4gIFRyYWNrUHVibGlzaGVkLFxuICBUcmFja1VucHVibGlzaGVkLFxufSBmcm9tICcuLi9nZW4vdmlkZW8vc2Z1L2V2ZW50L2V2ZW50cyc7XG5pbXBvcnQgdHlwZSB7IFBhcnRpY2lwYW50IH0gZnJvbSAnLi4vZ2VuL3ZpZGVvL3NmdS9tb2RlbHMvbW9kZWxzJztcbmltcG9ydCB7XG4gIFN0cmVhbVZpZGVvUGFydGljaXBhbnQsXG4gIFN0cmVhbVZpZGVvUGFydGljaXBhbnRQYXRjaCxcbiAgVmlzaWJpbGl0eVN0YXRlLFxufSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBDYWxsU3RhdGUgfSBmcm9tICcuLi9zdG9yZSc7XG5pbXBvcnQgeyB0cmFja1R5cGVUb1BhcnRpY2lwYW50U3RyZWFtS2V5IH0gZnJvbSAnLi4vcnRjL2hlbHBlcnMvdHJhY2tzJztcblxuLyoqXG4gKiBBbiBldmVudCByZXNwb25kZXIgd2hpY2ggaGFuZGxlcyB0aGUgYHBhcnRpY2lwYW50Sm9pbmVkYCBldmVudC5cbiAqL1xuZXhwb3J0IGNvbnN0IHdhdGNoUGFydGljaXBhbnRKb2luZWQgPSAoc3RhdGU6IENhbGxTdGF0ZSkgPT4ge1xuICByZXR1cm4gZnVuY3Rpb24gb25QYXJ0aWNpcGFudEpvaW5lZChlOiBQYXJ0aWNpcGFudEpvaW5lZCkge1xuICAgIGNvbnN0IHsgcGFydGljaXBhbnQgfSA9IGU7XG4gICAgaWYgKCFwYXJ0aWNpcGFudCkgcmV0dXJuO1xuICAgIC8vIGBzdGF0ZS51cGRhdGVPckFkZFBhcnRpY2lwYW50YCBhY3RzIGFzIGEgc2FmZWd1YXJkIGFnYWluc3RcbiAgICAvLyBwb3RlbnRpYWwgZHVwbGljYXRlIGV2ZW50cyBmcm9tIHRoZSBTRlUuXG4gICAgLy9cbiAgICAvLyBBbHRob3VnaCB0aGUgU0ZVIHNob3VsZCBub3Qgc2VuZCBkdXBsaWNhdGUgZXZlbnRzLCB3ZSBoYXZlIHNlZW5cbiAgICAvLyBzb21lIHJhY2UgY29uZGl0aW9ucyBpbiB0aGUgcGFzdCBkdXJpbmcgdGhlIGBqb2luLWZsb3dgLlxuICAgIC8vIFRoZSBTRlUgd291bGQgc2VuZCBwYXJ0aWNpcGFudCBpbmZvIGFzIHBhcnQgb2YgdGhlIGBqb2luYFxuICAgIC8vIHJlc3BvbnNlIGFuZCB0aGVuIGZvbGxvdyB1cCB3aXRoIGEgYHBhcnRpY2lwYW50Sm9pbmVkYCBldmVudCBmb3JcbiAgICAvLyBhbHJlYWR5IGFubm91bmNlZCBwYXJ0aWNpcGFudHMuXG4gICAgY29uc3Qgb3JwaGFuZWRUcmFja3MgPSByZWNvbmNpbGVPcnBoYW5lZFRyYWNrcyhzdGF0ZSwgcGFydGljaXBhbnQpO1xuICAgIHN0YXRlLnVwZGF0ZU9yQWRkUGFydGljaXBhbnQoXG4gICAgICBwYXJ0aWNpcGFudC5zZXNzaW9uSWQsXG4gICAgICBPYmplY3QuYXNzaWduPFxuICAgICAgICBTdHJlYW1WaWRlb1BhcnRpY2lwYW50LFxuICAgICAgICBTdHJlYW1WaWRlb1BhcnRpY2lwYW50UGF0Y2ggfCB1bmRlZmluZWQsXG4gICAgICAgIFBhcnRpYWw8U3RyZWFtVmlkZW9QYXJ0aWNpcGFudD5cbiAgICAgID4ocGFydGljaXBhbnQsIG9ycGhhbmVkVHJhY2tzLCB7XG4gICAgICAgIHZpZXdwb3J0VmlzaWJpbGl0eVN0YXRlOiB7XG4gICAgICAgICAgdmlkZW9UcmFjazogVmlzaWJpbGl0eVN0YXRlLlVOS05PV04sXG4gICAgICAgICAgc2NyZWVuU2hhcmVUcmFjazogVmlzaWJpbGl0eVN0YXRlLlVOS05PV04sXG4gICAgICAgIH0sXG4gICAgICB9KSxcbiAgICApO1xuICB9O1xufTtcblxuLyoqXG4gKiBBbiBldmVudCByZXNwb25kZXIgd2hpY2ggaGFuZGxlcyB0aGUgYHBhcnRpY2lwYW50TGVmdGAgZXZlbnQuXG4gKi9cbmV4cG9ydCBjb25zdCB3YXRjaFBhcnRpY2lwYW50TGVmdCA9IChzdGF0ZTogQ2FsbFN0YXRlKSA9PiB7XG4gIHJldHVybiBmdW5jdGlvbiBvblBhcnRpY2lwYW50TGVmdChlOiBQYXJ0aWNpcGFudExlZnQpIHtcbiAgICBjb25zdCB7IHBhcnRpY2lwYW50IH0gPSBlO1xuICAgIGlmICghcGFydGljaXBhbnQpIHJldHVybjtcblxuICAgIHN0YXRlLnNldFBhcnRpY2lwYW50cygocGFydGljaXBhbnRzKSA9PlxuICAgICAgcGFydGljaXBhbnRzLmZpbHRlcigocCkgPT4gcC5zZXNzaW9uSWQgIT09IHBhcnRpY2lwYW50LnNlc3Npb25JZCksXG4gICAgKTtcbiAgfTtcbn07XG5cbi8qKlxuICogQW4gZXZlbnQgcmVzcG9uZGVyIHdoaWNoIGhhbmRsZXMgdGhlIGBwYXJ0aWNpcGFudFVwZGF0ZWRgIGV2ZW50LlxuICovXG5leHBvcnQgY29uc3Qgd2F0Y2hQYXJ0aWNpcGFudFVwZGF0ZWQgPSAoc3RhdGU6IENhbGxTdGF0ZSkgPT4ge1xuICByZXR1cm4gZnVuY3Rpb24gb25QYXJ0aWNpcGFudFVwZGF0ZWQoZTogUGFydGljaXBhbnRVcGRhdGVkKSB7XG4gICAgY29uc3QgeyBwYXJ0aWNpcGFudCB9ID0gZTtcbiAgICBpZiAoIXBhcnRpY2lwYW50KSByZXR1cm47XG4gICAgc3RhdGUudXBkYXRlUGFydGljaXBhbnQocGFydGljaXBhbnQuc2Vzc2lvbklkLCBwYXJ0aWNpcGFudCk7XG4gIH07XG59O1xuXG4vKipcbiAqIEFuIGV2ZW50IHJlc3BvbmRlciB3aGljaCBoYW5kbGVzIHRoZSBgdHJhY2tQdWJsaXNoZWRgIGV2ZW50LlxuICogVGhlIFNGVSB3aWxsIHNlbmQgdGhpcyBldmVudCB3aGVuIGEgcGFydGljaXBhbnQgcHVibGlzaGVzIGEgdHJhY2suXG4gKi9cbmV4cG9ydCBjb25zdCB3YXRjaFRyYWNrUHVibGlzaGVkID0gKHN0YXRlOiBDYWxsU3RhdGUpID0+IHtcbiAgcmV0dXJuIGZ1bmN0aW9uIG9uVHJhY2tQdWJsaXNoZWQoZTogVHJhY2tQdWJsaXNoZWQpIHtcbiAgICBjb25zdCB7IHR5cGUsIHNlc3Npb25JZCB9ID0gZTtcbiAgICAvLyBBbiBvcHRpbWl6YXRpb24gZm9yIGxhcmdlIGNhbGxzLlxuICAgIC8vIEFmdGVyIGEgY2VydGFpbiB0aHJlc2hvbGQsIHRoZSBTRlUgd291bGQgc3RvcCBlbWl0dGluZyBgcGFydGljaXBhbnRKb2luZWRgXG4gICAgLy8gZXZlbnRzLCBhbmQgaW5zdGVhZCwgaXQgd291bGQgb25seSBwcm92aWRlIHRoZSBwYXJ0aWNpcGFudCdzIGluZm9ybWF0aW9uXG4gICAgLy8gb25jZSB0aGV5IHN0YXJ0IHB1Ymxpc2hpbmcgYSB0cmFjay5cbiAgICBpZiAoZS5wYXJ0aWNpcGFudCkge1xuICAgICAgY29uc3Qgb3JwaGFuZWRUcmFja3MgPSByZWNvbmNpbGVPcnBoYW5lZFRyYWNrcyhzdGF0ZSwgZS5wYXJ0aWNpcGFudCk7XG4gICAgICBjb25zdCBwYXJ0aWNpcGFudCA9IE9iamVjdC5hc3NpZ24oZS5wYXJ0aWNpcGFudCwgb3JwaGFuZWRUcmFja3MpO1xuICAgICAgc3RhdGUudXBkYXRlT3JBZGRQYXJ0aWNpcGFudChzZXNzaW9uSWQsIHBhcnRpY2lwYW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RhdGUudXBkYXRlUGFydGljaXBhbnQoc2Vzc2lvbklkLCAocCkgPT4gKHtcbiAgICAgICAgcHVibGlzaGVkVHJhY2tzOiBbLi4ucC5wdWJsaXNoZWRUcmFja3MsIHR5cGVdLmZpbHRlcih1bmlxdWUpLFxuICAgICAgfSkpO1xuICAgIH1cbiAgfTtcbn07XG5cbi8qKlxuICogQW4gZXZlbnQgcmVzcG9uZGVyIHdoaWNoIGhhbmRsZXMgdGhlIGB0cmFja1VucHVibGlzaGVkYCBldmVudC5cbiAqIFRoZSBTRlUgd2lsbCBzZW5kIHRoaXMgZXZlbnQgd2hlbiBhIHBhcnRpY2lwYW50IHVucHVibGlzaGVzIGEgdHJhY2suXG4gKi9cbmV4cG9ydCBjb25zdCB3YXRjaFRyYWNrVW5wdWJsaXNoZWQgPSAoc3RhdGU6IENhbGxTdGF0ZSkgPT4ge1xuICByZXR1cm4gZnVuY3Rpb24gb25UcmFja1VucHVibGlzaGVkKGU6IFRyYWNrVW5wdWJsaXNoZWQpIHtcbiAgICBjb25zdCB7IHR5cGUsIHNlc3Npb25JZCB9ID0gZTtcbiAgICAvLyBBbiBvcHRpbWl6YXRpb24gZm9yIGxhcmdlIGNhbGxzLiBTZWUgYHdhdGNoVHJhY2tQdWJsaXNoZWRgLlxuICAgIGlmIChlLnBhcnRpY2lwYW50KSB7XG4gICAgICBjb25zdCBvcnBoYW5lZFRyYWNrcyA9IHJlY29uY2lsZU9ycGhhbmVkVHJhY2tzKHN0YXRlLCBlLnBhcnRpY2lwYW50KTtcbiAgICAgIGNvbnN0IHBhcnRpY2lwYW50ID0gT2JqZWN0LmFzc2lnbihlLnBhcnRpY2lwYW50LCBvcnBoYW5lZFRyYWNrcyk7XG4gICAgICBzdGF0ZS51cGRhdGVPckFkZFBhcnRpY2lwYW50KHNlc3Npb25JZCwgcGFydGljaXBhbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdGF0ZS51cGRhdGVQYXJ0aWNpcGFudChzZXNzaW9uSWQsIChwKSA9PiAoe1xuICAgICAgICBwdWJsaXNoZWRUcmFja3M6IHAucHVibGlzaGVkVHJhY2tzLmZpbHRlcigodCkgPT4gdCAhPT0gdHlwZSksXG4gICAgICB9KSk7XG4gICAgfVxuICB9O1xufTtcblxuY29uc3QgdW5pcXVlID0gPFQ+KHY6IFQsIGk6IG51bWJlciwgYXJyOiBUW10pID0+IGFyci5pbmRleE9mKHYpID09PSBpO1xuXG4vKipcbiAqIFJlY29uY2lsZXMgb3JwaGFuZWQgdHJhY2tzIChpZiBhbnkpIGZvciB0aGUgZ2l2ZW4gcGFydGljaXBhbnQuXG4gKlxuICogQHBhcmFtIHN0YXRlIHRoZSBjYWxsIHN0YXRlLlxuICogQHBhcmFtIHBhcnRpY2lwYW50IHRoZSBwYXJ0aWNpcGFudC5cbiAqL1xuY29uc3QgcmVjb25jaWxlT3JwaGFuZWRUcmFja3MgPSAoXG4gIHN0YXRlOiBDYWxsU3RhdGUsXG4gIHBhcnRpY2lwYW50OiBQYXJ0aWNpcGFudCxcbik6IFN0cmVhbVZpZGVvUGFydGljaXBhbnRQYXRjaCB8IHVuZGVmaW5lZCA9PiB7XG4gIGNvbnN0IG9ycGhhblRyYWNrcyA9IHN0YXRlLnRha2VPcnBoYW5lZFRyYWNrcyhwYXJ0aWNpcGFudC50cmFja0xvb2t1cFByZWZpeCk7XG4gIGlmICghb3JwaGFuVHJhY2tzLmxlbmd0aCkgcmV0dXJuO1xuICBjb25zdCByZWNvbmNpbGVkVHJhY2tzOiBTdHJlYW1WaWRlb1BhcnRpY2lwYW50UGF0Y2ggPSB7fTtcbiAgZm9yIChjb25zdCBvcnBoYW4gb2Ygb3JwaGFuVHJhY2tzKSB7XG4gICAgY29uc3Qga2V5ID0gdHJhY2tUeXBlVG9QYXJ0aWNpcGFudFN0cmVhbUtleShvcnBoYW4udHJhY2tUeXBlKTtcbiAgICBpZiAoIWtleSkgY29udGludWU7XG4gICAgcmVjb25jaWxlZFRyYWNrc1trZXldID0gb3JwaGFuLnRyYWNrO1xuICB9XG4gIHJldHVybiByZWNvbmNpbGVkVHJhY2tzO1xufTtcbiIsImltcG9ydCB7IERpc3BhdGNoZXIgfSBmcm9tICcuLi9ydGMnO1xuaW1wb3J0IHsgQ2FsbFN0YXRlIH0gZnJvbSAnLi4vc3RvcmUnO1xuaW1wb3J0IHsgU3RyZWFtVmlkZW9QYXJ0aWNpcGFudFBhdGNoZXMgfSBmcm9tICcuLi90eXBlcyc7XG5cbi8qKlxuICogV2F0Y2hlcyBmb3IgYGRvbWluYW50U3BlYWtlckNoYW5nZWRgIGV2ZW50cy5cbiAqL1xuZXhwb3J0IGNvbnN0IHdhdGNoRG9taW5hbnRTcGVha2VyQ2hhbmdlZCA9IChcbiAgZGlzcGF0Y2hlcjogRGlzcGF0Y2hlcixcbiAgc3RhdGU6IENhbGxTdGF0ZSxcbikgPT4ge1xuICByZXR1cm4gZGlzcGF0Y2hlci5vbignZG9taW5hbnRTcGVha2VyQ2hhbmdlZCcsIChlKSA9PiB7XG4gICAgY29uc3QgeyBzZXNzaW9uSWQgfSA9IGU7XG4gICAgaWYgKHNlc3Npb25JZCA9PT0gc3RhdGUuZG9taW5hbnRTcGVha2VyPy5zZXNzaW9uSWQpIHJldHVybjtcbiAgICBzdGF0ZS5zZXRQYXJ0aWNpcGFudHMoKHBhcnRpY2lwYW50cykgPT5cbiAgICAgIHBhcnRpY2lwYW50cy5tYXAoKHBhcnRpY2lwYW50KSA9PiB7XG4gICAgICAgIC8vIG1hcmsgdGhlIG5ldyBkb21pbmFudCBzcGVha2VyXG4gICAgICAgIGlmIChwYXJ0aWNpcGFudC5zZXNzaW9uSWQgPT09IHNlc3Npb25JZCkge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5wYXJ0aWNpcGFudCxcbiAgICAgICAgICAgIGlzRG9taW5hbnRTcGVha2VyOiB0cnVlLFxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgLy8gdW5tYXJrIHRoZSBvbGQgZG9taW5hbnQgc3BlYWtlclxuICAgICAgICBpZiAocGFydGljaXBhbnQuaXNEb21pbmFudFNwZWFrZXIpIHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4ucGFydGljaXBhbnQsXG4gICAgICAgICAgICBpc0RvbWluYW50U3BlYWtlcjogZmFsc2UsXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGFydGljaXBhbnQ7IC8vIG5vIGNoYW5nZVxuICAgICAgfSksXG4gICAgKTtcbiAgfSk7XG59O1xuXG4vKipcbiAqIFdhdGNoZXMgZm9yIGBhdWRpb0xldmVsQ2hhbmdlZGAgZXZlbnRzLlxuICovXG5leHBvcnQgY29uc3Qgd2F0Y2hBdWRpb0xldmVsQ2hhbmdlZCA9IChcbiAgZGlzcGF0Y2hlcjogRGlzcGF0Y2hlcixcbiAgc3RhdGU6IENhbGxTdGF0ZSxcbikgPT4ge1xuICByZXR1cm4gZGlzcGF0Y2hlci5vbignYXVkaW9MZXZlbENoYW5nZWQnLCAoZSkgPT4ge1xuICAgIGNvbnN0IHsgYXVkaW9MZXZlbHMgfSA9IGU7XG4gICAgc3RhdGUudXBkYXRlUGFydGljaXBhbnRzKFxuICAgICAgYXVkaW9MZXZlbHMucmVkdWNlPFN0cmVhbVZpZGVvUGFydGljaXBhbnRQYXRjaGVzPigocGF0Y2hlcywgY3VycmVudCkgPT4ge1xuICAgICAgICBwYXRjaGVzW2N1cnJlbnQuc2Vzc2lvbklkXSA9IHtcbiAgICAgICAgICBhdWRpb0xldmVsOiBjdXJyZW50LmxldmVsLFxuICAgICAgICAgIGlzU3BlYWtpbmc6IGN1cnJlbnQuaXNTcGVha2luZyxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHBhdGNoZXM7XG4gICAgICB9LCB7fSksXG4gICAgKTtcbiAgfSk7XG59O1xuIiwiaW1wb3J0IHsgQ2FsbCB9IGZyb20gJy4uL0NhbGwnO1xuaW1wb3J0IHsgRGlzcGF0Y2hlciB9IGZyb20gJy4uL3J0Yyc7XG5pbXBvcnQge1xuICBoYW5kbGVSZW1vdGVTb2Z0TXV0ZSxcbiAgd2F0Y2hBdWRpb0xldmVsQ2hhbmdlZCxcbiAgd2F0Y2hDYWxsQWNjZXB0ZWQsXG4gIHdhdGNoQ2FsbEVuZGVkLFxuICB3YXRjaENhbGxHcmFudHNVcGRhdGVkLFxuICB3YXRjaENhbGxSZWplY3RlZCxcbiAgd2F0Y2hDb25uZWN0aW9uUXVhbGl0eUNoYW5nZWQsXG4gIHdhdGNoRG9taW5hbnRTcGVha2VyQ2hhbmdlZCxcbiAgd2F0Y2hMaXZlRW5kZWQsXG4gIHdhdGNoUGFydGljaXBhbnRDb3VudENoYW5nZWQsXG4gIHdhdGNoUGFydGljaXBhbnRKb2luZWQsXG4gIHdhdGNoUGFydGljaXBhbnRMZWZ0LFxuICB3YXRjaFBhcnRpY2lwYW50VXBkYXRlZCxcbiAgd2F0Y2hQaW5zVXBkYXRlZCxcbiAgd2F0Y2hTZnVDYWxsRW5kZWQsXG4gIHdhdGNoU2Z1RXJyb3JSZXBvcnRzLFxuICB3YXRjaFRyYWNrUHVibGlzaGVkLFxuICB3YXRjaFRyYWNrVW5wdWJsaXNoZWQsXG59IGZyb20gJy4uL2V2ZW50cyc7XG5pbXBvcnQge1xuICBBbGxDYWxsRXZlbnRzLFxuICBBbGxDbGllbnRDYWxsRXZlbnRzLFxuICBDYWxsRXZlbnRMaXN0ZW5lcixcbn0gZnJvbSAnLi4vY29vcmRpbmF0b3IvY29ubmVjdGlvbi90eXBlcyc7XG5cbnR5cGUgUmluZ0NhbGxFdmVudHMgPSBFeHRyYWN0PFxuICBBbGxDbGllbnRDYWxsRXZlbnRzLFxuICAnY2FsbC5hY2NlcHRlZCcgfCAnY2FsbC5yZWplY3RlZCcgfCAnY2FsbC5taXNzZWQnXG4+O1xuXG4vKipcbiAqIFJlZ2lzdGVycyB0aGUgZGVmYXVsdCBldmVudCBoYW5kbGVycyBmb3IgYSBjYWxsIGR1cmluZyBpdHMgbGlmZWN5Y2xlLlxuICpcbiAqIEBwYXJhbSBjYWxsIHRoZSBjYWxsIHRvIHJlZ2lzdGVyIGV2ZW50IGhhbmRsZXJzIGZvci5cbiAqIEBwYXJhbSBkaXNwYXRjaGVyIHRoZSBkaXNwYXRjaGVyLlxuICovXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJFdmVudEhhbmRsZXJzID0gKGNhbGw6IENhbGwsIGRpc3BhdGNoZXI6IERpc3BhdGNoZXIpID0+IHtcbiAgY29uc3Qgc3RhdGUgPSBjYWxsLnN0YXRlO1xuICBjb25zdCBldmVudEhhbmRsZXJzID0gW1xuICAgIGNhbGwub24oJ2NhbGwuZW5kZWQnLCB3YXRjaENhbGxFbmRlZChjYWxsKSksXG4gICAgd2F0Y2hTZnVDYWxsRW5kZWQoY2FsbCksXG5cbiAgICB3YXRjaExpdmVFbmRlZChkaXNwYXRjaGVyLCBjYWxsKSxcbiAgICB3YXRjaFNmdUVycm9yUmVwb3J0cyhkaXNwYXRjaGVyKSxcbiAgICB3YXRjaENvbm5lY3Rpb25RdWFsaXR5Q2hhbmdlZChkaXNwYXRjaGVyLCBzdGF0ZSksXG4gICAgd2F0Y2hQYXJ0aWNpcGFudENvdW50Q2hhbmdlZChkaXNwYXRjaGVyLCBzdGF0ZSksXG5cbiAgICBjYWxsLm9uKCdwYXJ0aWNpcGFudEpvaW5lZCcsIHdhdGNoUGFydGljaXBhbnRKb2luZWQoc3RhdGUpKSxcbiAgICBjYWxsLm9uKCdwYXJ0aWNpcGFudExlZnQnLCB3YXRjaFBhcnRpY2lwYW50TGVmdChzdGF0ZSkpLFxuICAgIGNhbGwub24oJ3BhcnRpY2lwYW50VXBkYXRlZCcsIHdhdGNoUGFydGljaXBhbnRVcGRhdGVkKHN0YXRlKSksXG5cbiAgICBjYWxsLm9uKCd0cmFja1B1Ymxpc2hlZCcsIHdhdGNoVHJhY2tQdWJsaXNoZWQoc3RhdGUpKSxcbiAgICBjYWxsLm9uKCd0cmFja1VucHVibGlzaGVkJywgd2F0Y2hUcmFja1VucHVibGlzaGVkKHN0YXRlKSksXG5cbiAgICB3YXRjaEF1ZGlvTGV2ZWxDaGFuZ2VkKGRpc3BhdGNoZXIsIHN0YXRlKSxcbiAgICB3YXRjaERvbWluYW50U3BlYWtlckNoYW5nZWQoZGlzcGF0Y2hlciwgc3RhdGUpLFxuXG4gICAgY2FsbC5vbignY2FsbEdyYW50c1VwZGF0ZWQnLCB3YXRjaENhbGxHcmFudHNVcGRhdGVkKHN0YXRlKSksXG4gICAgY2FsbC5vbigncGluc1VwZGF0ZWQnLCB3YXRjaFBpbnNVcGRhdGVkKHN0YXRlKSksXG5cbiAgICBoYW5kbGVSZW1vdGVTb2Z0TXV0ZShjYWxsKSxcbiAgXTtcblxuICBpZiAoY2FsbC5yaW5naW5nKSB7XG4gICAgLy8gdGhlc2UgZXZlbnRzIGFyZSBvbmx5IHJlbGV2YW50IHdoZW4gdGhlIGNhbGwgaXMgcmluZ2luZ1xuICAgIGV2ZW50SGFuZGxlcnMucHVzaChyZWdpc3RlclJpbmdpbmdDYWxsRXZlbnRIYW5kbGVycyhjYWxsKSk7XG4gIH1cblxuICByZXR1cm4gKCkgPT4ge1xuICAgIGV2ZW50SGFuZGxlcnMuZm9yRWFjaCgodW5zdWJzY3JpYmUpID0+IHVuc3Vic2NyaWJlKCkpO1xuICB9O1xufTtcblxuLyoqXG4gKiBSZWdpc3RlcnMgZXZlbnQgaGFuZGxlcnMgZm9yIGEgY2FsbCB0aGF0IGlzIG9mIHJpbmdpbmcgdHlwZS5cbiAqXG4gKiBAcGFyYW0gY2FsbCB0aGUgY2FsbCB0byByZWdpc3RlciBldmVudCBoYW5kbGVycyBmb3IuXG4gKi9cbmV4cG9ydCBjb25zdCByZWdpc3RlclJpbmdpbmdDYWxsRXZlbnRIYW5kbGVycyA9IChjYWxsOiBDYWxsKSA9PiB7XG4gIGNvbnN0IGNvb3JkaW5hdG9yUmluZ0V2ZW50czoge1xuICAgIFtrZXkgaW4gUmluZ0NhbGxFdmVudHNdOiAoXG4gICAgICBjYWxsOiBDYWxsLFxuICAgICkgPT4gQ2FsbEV2ZW50TGlzdGVuZXI8QWxsQ2FsbEV2ZW50c1trZXldPjtcbiAgfSA9IHtcbiAgICAnY2FsbC5hY2NlcHRlZCc6IHdhdGNoQ2FsbEFjY2VwdGVkKGNhbGwpLFxuICAgICdjYWxsLnJlamVjdGVkJzogd2F0Y2hDYWxsUmVqZWN0ZWQoY2FsbCksXG4gIH07XG5cbiAgY29uc3QgZXZlbnRIYW5kbGVycyA9IE9iamVjdC5rZXlzKGNvb3JkaW5hdG9yUmluZ0V2ZW50cykubWFwKChldmVudCkgPT4ge1xuICAgIGNvbnN0IGV2ZW50TmFtZSA9IGV2ZW50IGFzIFJpbmdDYWxsRXZlbnRzO1xuICAgIHJldHVybiBjYWxsLm9uKGV2ZW50TmFtZSwgY29vcmRpbmF0b3JSaW5nRXZlbnRzW2V2ZW50TmFtZV0pO1xuICB9KTtcblxuICByZXR1cm4gKCkgPT4ge1xuICAgIGV2ZW50SGFuZGxlcnMuZm9yRWFjaCgodW5zdWJzY3JpYmUpID0+IHVuc3Vic2NyaWJlKCkpO1xuICB9O1xufTtcbiIsImltcG9ydCB7IExvY2FsQ2xpZW50RGV0YWlsc1R5cGUgfSBmcm9tICcuLi9jbGllbnQtZGV0YWlscyc7XG5pbXBvcnQgeyBTZGssIFNka1R5cGUgfSBmcm9tICcuLi9nZW4vdmlkZW8vc2Z1L21vZGVscy9tb2RlbHMnO1xuXG4vKipcbiAqIEZsYXR0ZW4gdGhlIHN0YXRzIHJlcG9ydCBpbnRvIGFuIGFycmF5IG9mIHN0YXRzIG9iamVjdHMuXG4gKlxuICogQHBhcmFtIHJlcG9ydCB0aGUgcmVwb3J0IHRvIGZsYXR0ZW4uXG4gKi9cbmV4cG9ydCBjb25zdCBmbGF0dGVuID0gKHJlcG9ydDogUlRDU3RhdHNSZXBvcnQpID0+IHtcbiAgY29uc3Qgc3RhdHM6IFJUQ1N0YXRzW10gPSBbXTtcbiAgcmVwb3J0LmZvckVhY2goKHMpID0+IHtcbiAgICBzdGF0cy5wdXNoKHMpO1xuICB9KTtcbiAgcmV0dXJuIHN0YXRzO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldFNka1NpZ25hdHVyZSA9IChjbGllbnREZXRhaWxzOiBMb2NhbENsaWVudERldGFpbHNUeXBlKSA9PiB7XG4gIGNvbnN0IHsgc2RrLCAuLi5wbGF0Zm9ybSB9ID0gY2xpZW50RGV0YWlscztcbiAgY29uc3Qgc2RrTmFtZSA9IGdldFNka05hbWUoc2RrKTtcbiAgY29uc3Qgc2RrVmVyc2lvbiA9IGdldFNka1ZlcnNpb24oc2RrKTtcblxuICByZXR1cm4ge1xuICAgIHNka05hbWUsXG4gICAgc2RrVmVyc2lvbixcbiAgICAuLi5wbGF0Zm9ybSxcbiAgfTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRTZGtOYW1lID0gKHNkazogU2RrIHwgdW5kZWZpbmVkKSA9PiB7XG4gIHJldHVybiBzZGsgJiYgc2RrLnR5cGUgPT09IFNka1R5cGUuUkVBQ1RcbiAgICA/ICdzdHJlYW0tcmVhY3QnXG4gICAgOiBzZGsgJiYgc2RrLnR5cGUgPT09IFNka1R5cGUuUkVBQ1RfTkFUSVZFXG4gICAgICA/ICdzdHJlYW0tcmVhY3QtbmF0aXZlJ1xuICAgICAgOiAnc3RyZWFtLWpzJztcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRTZGtWZXJzaW9uID0gKHNkazogU2RrIHwgdW5kZWZpbmVkKSA9PiB7XG4gIHJldHVybiBzZGsgPyBgJHtzZGsubWFqb3J9LiR7c2RrLm1pbm9yfS4ke3Nkay5wYXRjaH1gIDogJzAuMC4wLWRldmVsb3BtZW50Jztcbn07XG4iLCJpbXBvcnQgdHlwZSB7XG4gIEFnZ3JlZ2F0ZWRTdGF0c1JlcG9ydCxcbiAgQmFzZVN0YXRzLFxuICBQYXJ0aWNpcGFudHNTdGF0c1JlcG9ydCxcbiAgU3RhdHNSZXBvcnQsXG59IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHsgQ2FsbFN0YXRlIH0gZnJvbSAnLi4vc3RvcmUnO1xuaW1wb3J0IHsgUHVibGlzaGVyLCBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vcnRjJztcbmltcG9ydCB7IGdldExvZ2dlciB9IGZyb20gJy4uL2xvZ2dlcic7XG5pbXBvcnQgeyBmbGF0dGVuIH0gZnJvbSAnLi91dGlscyc7XG5cbmV4cG9ydCB0eXBlIFN0YXRzUmVwb3J0ZXJPcHRzID0ge1xuICBzdWJzY3JpYmVyOiBTdWJzY3JpYmVyO1xuICBwdWJsaXNoZXI/OiBQdWJsaXNoZXI7XG4gIHN0YXRlOiBDYWxsU3RhdGU7XG4gIGRhdGFjZW50ZXI6IHN0cmluZztcbiAgcG9sbGluZ0ludGVydmFsSW5Ncz86IG51bWJlcjtcbn07XG5cbmV4cG9ydCB0eXBlIFN0YXRzUmVwb3J0ZXIgPSB7XG4gIC8qKlxuICAgKiBXaWxsIHR1cm4gb24gc3RhdHMgcmVwb3J0aW5nIGZvciBhIGdpdmVuIHNlc3Npb25JZC5cbiAgICpcbiAgICogQHBhcmFtIHNlc3Npb25JZCB0aGUgc2Vzc2lvbiBpZC5cbiAgICovXG4gIHN0YXJ0UmVwb3J0aW5nU3RhdHNGb3I6IChzZXNzaW9uSWQ6IHN0cmluZykgPT4gdm9pZDtcblxuICAvKipcbiAgICogV2lsbCB0dXJuIG9mZiBzdGF0cyByZXBvcnRpbmcgZm9yIGEgZ2l2ZW4gc2Vzc2lvbklkLlxuICAgKlxuICAgKiBAcGFyYW0gc2Vzc2lvbklkIHRoZSBzZXNzaW9uIGlkLlxuICAgKi9cbiAgc3RvcFJlcG9ydGluZ1N0YXRzRm9yOiAoc2Vzc2lvbklkOiBzdHJpbmcpID0+IHZvaWQ7XG5cbiAgLyoqXG4gICAqIEhlbHBlciBtZXRob2QgZm9yIHJldHJpZXZpbmcgc3RhdHMgZm9yIGEgZ2l2ZW4gcGVlciBjb25uZWN0aW9uIGtpbmRcbiAgICogYW5kIG1lZGlhIHN0cmVhbSBmbG93aW5nIHRocm91Z2ggaXQuXG4gICAqXG4gICAqIEBwYXJhbSBraW5kIHRoZSBwZWVyIGNvbm5lY3Rpb24ga2luZCAoc3Vic2NyaWJlciBvciBwdWJsaXNoZXIpLlxuICAgKiBAcGFyYW0gbWVkaWFTdHJlYW0gdGhlIG1lZGlhIHN0cmVhbS5cbiAgICovXG4gIGdldFN0YXRzRm9yU3RyZWFtOiAoXG4gICAga2luZDogJ3N1YnNjcmliZXInIHwgJ3B1Ymxpc2hlcicsXG4gICAgbWVkaWFTdHJlYW06IE1lZGlhU3RyZWFtLFxuICApID0+IFByb21pc2U8U3RhdHNSZXBvcnRbXT47XG5cbiAgLyoqXG4gICAqIEhlbHBlciBtZXRob2QgZm9yIHJldHJpZXZpbmcgcmF3IHN0YXRzIGZvciBhIGdpdmVuIHBlZXIgY29ubmVjdGlvbiBraW5kLlxuICAgKlxuICAgKiBAcGFyYW0ga2luZCB0aGUgcGVlciBjb25uZWN0aW9uIGtpbmQgKHN1YnNjcmliZXIgb3IgcHVibGlzaGVyKS5cbiAgICogQHBhcmFtIHNlbGVjdG9yIHRoZSB0cmFjayBzZWxlY3Rvci4gSWYgbm90IHByb3ZpZGVkLCBzdGF0cyBmb3IgYWxsIHRyYWNrcyB3aWxsIGJlIHJldHVybmVkLlxuICAgKi9cbiAgZ2V0UmF3U3RhdHNGb3JUcmFjazogKFxuICAgIGtpbmQ6ICdzdWJzY3JpYmVyJyB8ICdwdWJsaXNoZXInLFxuICAgIHNlbGVjdG9yPzogTWVkaWFTdHJlYW1UcmFjayxcbiAgKSA9PiBQcm9taXNlPFJUQ1N0YXRzUmVwb3J0IHwgdW5kZWZpbmVkPjtcblxuICAvKipcbiAgICogU3RvcHMgdGhlIHN0YXRzIHJlcG9ydGVyIGFuZCByZWxlYXNlcyBhbGwgcmVzb3VyY2VzLlxuICAgKi9cbiAgc3RvcDogKCkgPT4gdm9pZDtcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBTdGF0c1JlcG9ydGVyIGluc3RhbmNlIHRoYXQgY29sbGVjdHMgbWV0cmljcyBhYm91dCB0aGUgb25nb2luZyBjYWxsIGFuZCByZXBvcnRzIHRoZW0gdG8gdGhlIHN0YXRlIHN0b3JlXG4gKi9cbmV4cG9ydCBjb25zdCBjcmVhdGVTdGF0c1JlcG9ydGVyID0gKHtcbiAgc3Vic2NyaWJlcixcbiAgcHVibGlzaGVyLFxuICBzdGF0ZSxcbiAgZGF0YWNlbnRlcixcbiAgcG9sbGluZ0ludGVydmFsSW5NcyA9IDIwMDAsXG59OiBTdGF0c1JlcG9ydGVyT3B0cyk6IFN0YXRzUmVwb3J0ZXIgPT4ge1xuICBjb25zdCBsb2dnZXIgPSBnZXRMb2dnZXIoWydzdGF0cyddKTtcbiAgY29uc3QgZ2V0UmF3U3RhdHNGb3JUcmFjayA9IGFzeW5jIChcbiAgICBraW5kOiAnc3Vic2NyaWJlcicgfCAncHVibGlzaGVyJyxcbiAgICBzZWxlY3Rvcj86IE1lZGlhU3RyZWFtVHJhY2ssXG4gICkgPT4ge1xuICAgIGlmIChraW5kID09PSAnc3Vic2NyaWJlcicgJiYgc3Vic2NyaWJlcikge1xuICAgICAgcmV0dXJuIHN1YnNjcmliZXIuZ2V0U3RhdHMoc2VsZWN0b3IpO1xuICAgIH0gZWxzZSBpZiAoa2luZCA9PT0gJ3B1Ymxpc2hlcicgJiYgcHVibGlzaGVyKSB7XG4gICAgICByZXR1cm4gcHVibGlzaGVyLmdldFN0YXRzKHNlbGVjdG9yKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgZ2V0U3RhdHNGb3JTdHJlYW0gPSBhc3luYyAoXG4gICAga2luZDogJ3N1YnNjcmliZXInIHwgJ3B1Ymxpc2hlcicsXG4gICAgbWVkaWFTdHJlYW06IE1lZGlhU3RyZWFtLFxuICApID0+IHtcbiAgICBjb25zdCBwYyA9IGtpbmQgPT09ICdzdWJzY3JpYmVyJyA/IHN1YnNjcmliZXIgOiBwdWJsaXNoZXI7XG4gICAgaWYgKCFwYykgcmV0dXJuIFtdO1xuICAgIGNvbnN0IHN0YXRzRm9yU3RyZWFtOiBTdGF0c1JlcG9ydFtdID0gW107XG4gICAgZm9yIChsZXQgdHJhY2sgb2YgbWVkaWFTdHJlYW0uZ2V0VHJhY2tzKCkpIHtcbiAgICAgIGNvbnN0IHJlcG9ydCA9IGF3YWl0IHBjLmdldFN0YXRzKHRyYWNrKTtcbiAgICAgIGNvbnN0IHN0YXRzID0gdHJhbnNmb3JtKHJlcG9ydCwge1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIHRyYWNrS2luZDogdHJhY2sua2luZCxcbiAgICAgICAga2luZCxcbiAgICAgIH0pO1xuICAgICAgc3RhdHNGb3JTdHJlYW0ucHVzaChzdGF0cyk7XG4gICAgfVxuICAgIHJldHVybiBzdGF0c0ZvclN0cmVhbTtcbiAgfTtcblxuICBjb25zdCBzdGFydFJlcG9ydGluZ1N0YXRzRm9yID0gKHNlc3Npb25JZDogc3RyaW5nKSA9PiB7XG4gICAgc2Vzc2lvbklkc1RvVHJhY2suYWRkKHNlc3Npb25JZCk7XG4gICAgdm9pZCBydW4oKTtcbiAgfTtcblxuICBjb25zdCBzdG9wUmVwb3J0aW5nU3RhdHNGb3IgPSAoc2Vzc2lvbklkOiBzdHJpbmcpID0+IHtcbiAgICBzZXNzaW9uSWRzVG9UcmFjay5kZWxldGUoc2Vzc2lvbklkKTtcbiAgICB2b2lkIHJ1bigpO1xuICB9O1xuXG4gIGNvbnN0IHNlc3Npb25JZHNUb1RyYWNrID0gbmV3IFNldDxzdHJpbmc+KCk7XG5cbiAgLyoqXG4gICAqIFRoZSBtYWluIHN0YXRzIHJlcG9ydGluZyBsb29wLlxuICAgKi9cbiAgY29uc3QgcnVuID0gYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHBhcnRpY2lwYW50U3RhdHM6IFBhcnRpY2lwYW50c1N0YXRzUmVwb3J0ID0ge307XG4gICAgY29uc3Qgc2Vzc2lvbklkcyA9IG5ldyBTZXQoc2Vzc2lvbklkc1RvVHJhY2spO1xuICAgIGlmIChzZXNzaW9uSWRzLnNpemUgPiAwKSB7XG4gICAgICBmb3IgKGxldCBwYXJ0aWNpcGFudCBvZiBzdGF0ZS5wYXJ0aWNpcGFudHMpIHtcbiAgICAgICAgaWYgKCFzZXNzaW9uSWRzLmhhcyhwYXJ0aWNpcGFudC5zZXNzaW9uSWQpKSBjb250aW51ZTtcbiAgICAgICAgY29uc3Qga2luZCA9IHBhcnRpY2lwYW50LmlzTG9jYWxQYXJ0aWNpcGFudFxuICAgICAgICAgID8gJ3B1Ymxpc2hlcidcbiAgICAgICAgICA6ICdzdWJzY3JpYmVyJztcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBtZXJnZWRTdHJlYW0gPSBuZXcgTWVkaWFTdHJlYW0oW1xuICAgICAgICAgICAgLi4uKHBhcnRpY2lwYW50LnZpZGVvU3RyZWFtPy5nZXRWaWRlb1RyYWNrcygpIHx8IFtdKSxcbiAgICAgICAgICAgIC4uLihwYXJ0aWNpcGFudC5hdWRpb1N0cmVhbT8uZ2V0QXVkaW9UcmFja3MoKSB8fCBbXSksXG4gICAgICAgICAgXSk7XG4gICAgICAgICAgcGFydGljaXBhbnRTdGF0c1twYXJ0aWNpcGFudC5zZXNzaW9uSWRdID0gYXdhaXQgZ2V0U3RhdHNGb3JTdHJlYW0oXG4gICAgICAgICAgICBraW5kLFxuICAgICAgICAgICAgbWVyZ2VkU3RyZWFtLFxuICAgICAgICAgICk7XG4gICAgICAgICAgbWVyZ2VkU3RyZWFtLmdldFRyYWNrcygpLmZvckVhY2goKHQpID0+IHtcbiAgICAgICAgICAgIG1lcmdlZFN0cmVhbS5yZW1vdmVUcmFjayh0KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIGxvZ2dlcihcbiAgICAgICAgICAgICdlcnJvcicsXG4gICAgICAgICAgICBgRmFpbGVkIHRvIGNvbGxlY3Qgc3RhdHMgZm9yICR7a2luZH0gb2YgJHtwYXJ0aWNpcGFudC51c2VySWR9YCxcbiAgICAgICAgICAgIGUsXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IFtzdWJzY3JpYmVyU3RhdHMsIHB1Ymxpc2hlclN0YXRzXSA9IGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgIHN1YnNjcmliZXJcbiAgICAgICAgLmdldFN0YXRzKClcbiAgICAgICAgLnRoZW4oKHJlcG9ydCkgPT5cbiAgICAgICAgICB0cmFuc2Zvcm0ocmVwb3J0LCB7XG4gICAgICAgICAgICBraW5kOiAnc3Vic2NyaWJlcicsXG4gICAgICAgICAgICB0cmFja0tpbmQ6ICd2aWRlbycsXG4gICAgICAgICAgfSksXG4gICAgICAgIClcbiAgICAgICAgLnRoZW4oYWdncmVnYXRlKSxcbiAgICAgIHB1Ymxpc2hlclxuICAgICAgICA/IHB1Ymxpc2hlclxuICAgICAgICAgICAgLmdldFN0YXRzKClcbiAgICAgICAgICAgIC50aGVuKChyZXBvcnQpID0+XG4gICAgICAgICAgICAgIHRyYW5zZm9ybShyZXBvcnQsIHtcbiAgICAgICAgICAgICAgICBraW5kOiAncHVibGlzaGVyJyxcbiAgICAgICAgICAgICAgICB0cmFja0tpbmQ6ICd2aWRlbycsXG4gICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgLnRoZW4oYWdncmVnYXRlKVxuICAgICAgICA6IGdldEVtcHR5U3RhdHMoKSxcbiAgICBdKTtcblxuICAgIGNvbnN0IFtzdWJzY3JpYmVyUmF3U3RhdHMsIHB1Ymxpc2hlclJhd1N0YXRzXSA9IGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgIGdldFJhd1N0YXRzRm9yVHJhY2soJ3N1YnNjcmliZXInKSxcbiAgICAgIHB1Ymxpc2hlciA/IGdldFJhd1N0YXRzRm9yVHJhY2soJ3B1Ymxpc2hlcicpIDogdW5kZWZpbmVkLFxuICAgIF0pO1xuXG4gICAgc3RhdGUuc2V0Q2FsbFN0YXRzUmVwb3J0KHtcbiAgICAgIGRhdGFjZW50ZXIsXG4gICAgICBwdWJsaXNoZXJTdGF0cyxcbiAgICAgIHN1YnNjcmliZXJTdGF0cyxcbiAgICAgIHN1YnNjcmliZXJSYXdTdGF0cyxcbiAgICAgIHB1Ymxpc2hlclJhd1N0YXRzLFxuICAgICAgcGFydGljaXBhbnRzOiBwYXJ0aWNpcGFudFN0YXRzLFxuICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgIH0pO1xuICB9O1xuXG4gIGxldCB0aW1lb3V0SWQ6IE5vZGVKUy5UaW1lb3V0IHwgdW5kZWZpbmVkO1xuICBpZiAocG9sbGluZ0ludGVydmFsSW5NcyA+IDApIHtcbiAgICBjb25zdCBsb29wID0gYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgcnVuKCkuY2F0Y2goKGUpID0+IHtcbiAgICAgICAgbG9nZ2VyKCdkZWJ1ZycsICdGYWlsZWQgdG8gY29sbGVjdCBzdGF0cycsIGUpO1xuICAgICAgfSk7XG4gICAgICB0aW1lb3V0SWQgPSBzZXRUaW1lb3V0KGxvb3AsIHBvbGxpbmdJbnRlcnZhbEluTXMpO1xuICAgIH07XG4gICAgdm9pZCBsb29wKCk7XG4gIH1cblxuICBjb25zdCBzdG9wID0gKCkgPT4ge1xuICAgIGlmICh0aW1lb3V0SWQpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4ge1xuICAgIGdldFJhd1N0YXRzRm9yVHJhY2ssXG4gICAgZ2V0U3RhdHNGb3JTdHJlYW0sXG4gICAgc3RhcnRSZXBvcnRpbmdTdGF0c0ZvcixcbiAgICBzdG9wUmVwb3J0aW5nU3RhdHNGb3IsXG4gICAgc3RvcCxcbiAgfTtcbn07XG5cbmV4cG9ydCB0eXBlIFN0YXRzVHJhbnNmb3JtT3B0cyA9IHtcbiAgLyoqXG4gICAqIFRoZSBraW5kIG9mIHRyYWNrIHdlIGFyZSB0cmFuc2Zvcm1pbmcgc3RhdHMgZm9yLlxuICAgKi9cbiAgdHJhY2tLaW5kOiAnYXVkaW8nIHwgJ3ZpZGVvJztcblxuICAvKipcbiAgICogVGhlIGtpbmQgb2YgcGVlciBjb25uZWN0aW9uIHdlIGFyZSB0cmFuc2Zvcm1pbmcgc3RhdHMgZm9yLlxuICAgKi9cbiAga2luZDogJ3N1YnNjcmliZXInIHwgJ3B1Ymxpc2hlcic7XG59O1xuXG4vKipcbiAqIFRyYW5zZm9ybXMgcmF3IFJUQyBzdGF0cyBpbnRvIGEgc2xpbW1lciBhbmQgdW5pZm9ybSBhY3Jvc3MgYnJvd3NlcnMgZm9ybWF0LlxuICpcbiAqIEBwYXJhbSByZXBvcnQgdGhlIHJlcG9ydCB0byB0cmFuc2Zvcm0uXG4gKiBAcGFyYW0gb3B0cyB0aGUgdHJhbnNmb3JtIG9wdGlvbnMuXG4gKi9cbmNvbnN0IHRyYW5zZm9ybSA9IChcbiAgcmVwb3J0OiBSVENTdGF0c1JlcG9ydCxcbiAgb3B0czogU3RhdHNUcmFuc2Zvcm1PcHRzLFxuKTogU3RhdHNSZXBvcnQgPT4ge1xuICBjb25zdCB7IHRyYWNrS2luZCwga2luZCB9ID0gb3B0cztcbiAgY29uc3QgZGlyZWN0aW9uID0ga2luZCA9PT0gJ3N1YnNjcmliZXInID8gJ2luYm91bmQtcnRwJyA6ICdvdXRib3VuZC1ydHAnO1xuICBjb25zdCBzdGF0cyA9IGZsYXR0ZW4ocmVwb3J0KTtcbiAgY29uc3Qgc3RyZWFtcyA9IHN0YXRzXG4gICAgLmZpbHRlcihcbiAgICAgIChzdGF0KSA9PlxuICAgICAgICBzdGF0LnR5cGUgPT09IGRpcmVjdGlvbiAmJlxuICAgICAgICAoc3RhdCBhcyBSVENSdHBTdHJlYW1TdGF0cykua2luZCA9PT0gdHJhY2tLaW5kLFxuICAgIClcbiAgICAubWFwKChzdGF0KTogQmFzZVN0YXRzID0+IHtcbiAgICAgIGNvbnN0IHJ0Y1N0cmVhbVN0YXRzID0gc3RhdCBhcyBSVENJbmJvdW5kUnRwU3RyZWFtU3RhdHMgJlxuICAgICAgICBSVENPdXRib3VuZFJ0cFN0cmVhbVN0YXRzO1xuXG4gICAgICBjb25zdCBjb2RlYyA9IHN0YXRzLmZpbmQoXG4gICAgICAgIChzKSA9PiBzLnR5cGUgPT09ICdjb2RlYycgJiYgcy5pZCA9PT0gcnRjU3RyZWFtU3RhdHMuY29kZWNJZCxcbiAgICAgICkgYXMgUlRDUnRwQ29kZWMgfCB1bmRlZmluZWQ7XG5cbiAgICAgIGNvbnN0IHRyYW5zcG9ydCA9IHN0YXRzLmZpbmQoXG4gICAgICAgIChzKSA9PiBzLnR5cGUgPT09ICd0cmFuc3BvcnQnICYmIHMuaWQgPT09IHJ0Y1N0cmVhbVN0YXRzLnRyYW5zcG9ydElkLFxuICAgICAgKSBhcyBSVENUcmFuc3BvcnRTdGF0cyB8IHVuZGVmaW5lZDtcblxuICAgICAgbGV0IHJvdW5kVHJpcFRpbWU6IG51bWJlciB8IHVuZGVmaW5lZDtcbiAgICAgIGlmICh0cmFuc3BvcnQgJiYgdHJhbnNwb3J0LmR0bHNTdGF0ZSA9PT0gJ2Nvbm5lY3RlZCcpIHtcbiAgICAgICAgY29uc3QgY2FuZGlkYXRlUGFpciA9IHN0YXRzLmZpbmQoXG4gICAgICAgICAgKHMpID0+XG4gICAgICAgICAgICBzLnR5cGUgPT09ICdjYW5kaWRhdGUtcGFpcicgJiZcbiAgICAgICAgICAgIHMuaWQgPT09IHRyYW5zcG9ydC5zZWxlY3RlZENhbmRpZGF0ZVBhaXJJZCxcbiAgICAgICAgKSBhcyBSVENJY2VDYW5kaWRhdGVQYWlyU3RhdHMgfCB1bmRlZmluZWQ7XG4gICAgICAgIHJvdW5kVHJpcFRpbWUgPSBjYW5kaWRhdGVQYWlyPy5jdXJyZW50Um91bmRUcmlwVGltZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgYnl0ZXNTZW50OiBydGNTdHJlYW1TdGF0cy5ieXRlc1NlbnQsXG4gICAgICAgIGJ5dGVzUmVjZWl2ZWQ6IHJ0Y1N0cmVhbVN0YXRzLmJ5dGVzUmVjZWl2ZWQsXG4gICAgICAgIGNvZGVjOiBjb2RlYz8ubWltZVR5cGUsXG4gICAgICAgIGN1cnJlbnRSb3VuZFRyaXBUaW1lOiByb3VuZFRyaXBUaW1lLFxuICAgICAgICBmcmFtZUhlaWdodDogcnRjU3RyZWFtU3RhdHMuZnJhbWVIZWlnaHQsXG4gICAgICAgIGZyYW1lV2lkdGg6IHJ0Y1N0cmVhbVN0YXRzLmZyYW1lV2lkdGgsXG4gICAgICAgIGZyYW1lc1BlclNlY29uZDogcnRjU3RyZWFtU3RhdHMuZnJhbWVzUGVyU2Vjb25kLFxuICAgICAgICBqaXR0ZXI6IHJ0Y1N0cmVhbVN0YXRzLmppdHRlcixcbiAgICAgICAga2luZDogcnRjU3RyZWFtU3RhdHMua2luZCxcbiAgICAgICAgLy8gQHRzLWlnbm9yZTogYXZhaWxhYmxlIGluIENocm9tZSBvbmx5LCBUUyBkb2Vzbid0IHJlY29nbml6ZSB0aGlzXG4gICAgICAgIHF1YWxpdHlMaW1pdGF0aW9uUmVhc29uOiBydGNTdHJlYW1TdGF0cy5xdWFsaXR5TGltaXRhdGlvblJlYXNvbixcbiAgICAgICAgcmlkOiBydGNTdHJlYW1TdGF0cy5yaWQsXG4gICAgICAgIHNzcmM6IHJ0Y1N0cmVhbVN0YXRzLnNzcmMsXG4gICAgICB9O1xuICAgIH0pO1xuXG4gIHJldHVybiB7XG4gICAgcmF3U3RhdHM6IHJlcG9ydCxcbiAgICBzdHJlYW1zLFxuICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgfTtcbn07XG5cbmNvbnN0IGdldEVtcHR5U3RhdHMgPSAoc3RhdHM/OiBTdGF0c1JlcG9ydCk6IEFnZ3JlZ2F0ZWRTdGF0c1JlcG9ydCA9PiB7XG4gIHJldHVybiB7XG4gICAgcmF3UmVwb3J0OiBzdGF0cyA/PyB7IHN0cmVhbXM6IFtdLCB0aW1lc3RhbXA6IERhdGUubm93KCkgfSxcbiAgICB0b3RhbEJ5dGVzU2VudDogMCxcbiAgICB0b3RhbEJ5dGVzUmVjZWl2ZWQ6IDAsXG4gICAgYXZlcmFnZUppdHRlckluTXM6IDAsXG4gICAgYXZlcmFnZVJvdW5kVHJpcFRpbWVJbk1zOiAwLFxuICAgIHF1YWxpdHlMaW1pdGF0aW9uUmVhc29uczogJ25vbmUnLFxuICAgIGhpZ2hlc3RGcmFtZVdpZHRoOiAwLFxuICAgIGhpZ2hlc3RGcmFtZUhlaWdodDogMCxcbiAgICBoaWdoZXN0RnJhbWVzUGVyU2Vjb25kOiAwLFxuICAgIGNvZGVjOiAnJyxcbiAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gIH07XG59O1xuXG4vKipcbiAqIEFnZ3JlZ2F0ZXMgZ2VuZXJpYyBzdGF0cy5cbiAqXG4gKiBAcGFyYW0gc3RhdHMgdGhlIHN0YXRzIHRvIGFnZ3JlZ2F0ZS5cbiAqL1xuY29uc3QgYWdncmVnYXRlID0gKHN0YXRzOiBTdGF0c1JlcG9ydCk6IEFnZ3JlZ2F0ZWRTdGF0c1JlcG9ydCA9PiB7XG4gIGNvbnN0IGFnZ3JlZ2F0ZWRTdGF0cyA9IGdldEVtcHR5U3RhdHMoc3RhdHMpO1xuXG4gIGxldCBtYXhBcmVhID0gLTE7XG4gIGNvbnN0IGFyZWEgPSAodzogbnVtYmVyLCBoOiBudW1iZXIpID0+IHcgKiBoO1xuXG4gIGNvbnN0IHF1YWxpdHlMaW1pdGF0aW9uUmVhc29ucyA9IG5ldyBTZXQ8c3RyaW5nPigpO1xuICBjb25zdCBzdHJlYW1zID0gc3RhdHMuc3RyZWFtcztcbiAgY29uc3QgcmVwb3J0ID0gc3RyZWFtcy5yZWR1Y2UoKGFjYywgc3RyZWFtKSA9PiB7XG4gICAgYWNjLnRvdGFsQnl0ZXNTZW50ICs9IHN0cmVhbS5ieXRlc1NlbnQgfHwgMDtcbiAgICBhY2MudG90YWxCeXRlc1JlY2VpdmVkICs9IHN0cmVhbS5ieXRlc1JlY2VpdmVkIHx8IDA7XG4gICAgYWNjLmF2ZXJhZ2VKaXR0ZXJJbk1zICs9IHN0cmVhbS5qaXR0ZXIgfHwgMDtcbiAgICBhY2MuYXZlcmFnZVJvdW5kVHJpcFRpbWVJbk1zICs9IHN0cmVhbS5jdXJyZW50Um91bmRUcmlwVGltZSB8fCAwO1xuXG4gICAgLy8gbmFpdmUgY2FsY3VsYXRpb24gb2YgdGhlIGhpZ2hlc3QgcmVzb2x1dGlvblxuICAgIGNvbnN0IHN0cmVhbUFyZWEgPSBhcmVhKHN0cmVhbS5mcmFtZVdpZHRoIHx8IDAsIHN0cmVhbS5mcmFtZUhlaWdodCB8fCAwKTtcbiAgICBpZiAoc3RyZWFtQXJlYSA+IG1heEFyZWEpIHtcbiAgICAgIGFjYy5oaWdoZXN0RnJhbWVXaWR0aCA9IHN0cmVhbS5mcmFtZVdpZHRoIHx8IDA7XG4gICAgICBhY2MuaGlnaGVzdEZyYW1lSGVpZ2h0ID0gc3RyZWFtLmZyYW1lSGVpZ2h0IHx8IDA7XG4gICAgICBhY2MuaGlnaGVzdEZyYW1lc1BlclNlY29uZCA9IHN0cmVhbS5mcmFtZXNQZXJTZWNvbmQgfHwgMDtcbiAgICAgIG1heEFyZWEgPSBzdHJlYW1BcmVhO1xuICAgIH1cblxuICAgIHF1YWxpdHlMaW1pdGF0aW9uUmVhc29ucy5hZGQoc3RyZWFtLnF1YWxpdHlMaW1pdGF0aW9uUmVhc29uIHx8ICcnKTtcbiAgICByZXR1cm4gYWNjO1xuICB9LCBhZ2dyZWdhdGVkU3RhdHMpO1xuXG4gIGlmIChzdHJlYW1zLmxlbmd0aCA+IDApIHtcbiAgICByZXBvcnQuYXZlcmFnZUppdHRlckluTXMgPSBNYXRoLnJvdW5kKFxuICAgICAgKHJlcG9ydC5hdmVyYWdlSml0dGVySW5NcyAvIHN0cmVhbXMubGVuZ3RoKSAqIDEwMDAsXG4gICAgKTtcbiAgICByZXBvcnQuYXZlcmFnZVJvdW5kVHJpcFRpbWVJbk1zID0gTWF0aC5yb3VuZChcbiAgICAgIChyZXBvcnQuYXZlcmFnZVJvdW5kVHJpcFRpbWVJbk1zIC8gc3RyZWFtcy5sZW5ndGgpICogMTAwMCxcbiAgICApO1xuICAgIC8vIHdlIHRha2UgdGhlIGZpcnN0IGNvZGVjIHdlIGZpbmQsIGFzIGl0IHNob3VsZCBiZSB0aGUgc2FtZSBmb3IgYWxsIHN0cmVhbXNcbiAgICByZXBvcnQuY29kZWMgPSBzdHJlYW1zWzBdLmNvZGVjIHx8ICcnO1xuICB9XG5cbiAgY29uc3QgcXVhbGl0eUxpbWl0YXRpb25SZWFzb24gPSBbXG4gICAgcXVhbGl0eUxpbWl0YXRpb25SZWFzb25zLmhhcygnY3B1JykgJiYgJ2NwdScsXG4gICAgcXVhbGl0eUxpbWl0YXRpb25SZWFzb25zLmhhcygnYmFuZHdpZHRoJykgJiYgJ2JhbmR3aWR0aCcsXG4gICAgcXVhbGl0eUxpbWl0YXRpb25SZWFzb25zLmhhcygnb3RoZXInKSAmJiAnb3RoZXInLFxuICBdXG4gICAgLmZpbHRlcihCb29sZWFuKVxuICAgIC5qb2luKCcsICcpO1xuICBpZiAocXVhbGl0eUxpbWl0YXRpb25SZWFzb24pIHtcbiAgICByZXBvcnQucXVhbGl0eUxpbWl0YXRpb25SZWFzb25zID0gcXVhbGl0eUxpbWl0YXRpb25SZWFzb247XG4gIH1cblxuICByZXR1cm4gcmVwb3J0O1xufTtcbiIsImltcG9ydCB7IGNvbWJpbmVMYXRlc3QgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IFN0cmVhbVNmdUNsaWVudCB9IGZyb20gJy4uL1N0cmVhbVNmdUNsaWVudCc7XG5pbXBvcnQgeyBPd25DYXBhYmlsaXR5LCBTdGF0c09wdGlvbnMgfSBmcm9tICcuLi9nZW4vY29vcmRpbmF0b3InO1xuaW1wb3J0IHsgZ2V0TG9nZ2VyIH0gZnJvbSAnLi4vbG9nZ2VyJztcbmltcG9ydCB7IFB1Ymxpc2hlciwgU3Vic2NyaWJlciB9IGZyb20gJy4uL3J0Yyc7XG5pbXBvcnQgeyBmbGF0dGVuLCBnZXRTZGtOYW1lLCBnZXRTZGtWZXJzaW9uIH0gZnJvbSAnLi91dGlscyc7XG5pbXBvcnQge1xuICBnZXREZXZpY2VTdGF0ZSxcbiAgZ2V0V2ViUlRDSW5mbyxcbiAgTG9jYWxDbGllbnREZXRhaWxzVHlwZSxcbn0gZnJvbSAnLi4vY2xpZW50LWRldGFpbHMnO1xuaW1wb3J0IHsgSW5wdXREZXZpY2VzIH0gZnJvbSAnLi4vZ2VuL3ZpZGVvL3NmdS9tb2RlbHMvbW9kZWxzJztcbmltcG9ydCB7IENhbWVyYU1hbmFnZXIsIE1pY3JvcGhvbmVNYW5hZ2VyIH0gZnJvbSAnLi4vZGV2aWNlcyc7XG5pbXBvcnQgeyBjcmVhdGVTdWJzY3JpcHRpb24gfSBmcm9tICcuLi9zdG9yZS9yeFV0aWxzJztcbmltcG9ydCB7IENhbGxTdGF0ZSB9IGZyb20gJy4uL3N0b3JlJztcbmltcG9ydCB7IFRlbGVtZXRyeSB9IGZyb20gJy4uL2dlbi92aWRlby9zZnUvc2lnbmFsX3JwYy9zaWduYWwnO1xuXG5leHBvcnQgdHlwZSBTZnVTdGF0c1JlcG9ydGVyT3B0aW9ucyA9IHtcbiAgb3B0aW9uczogU3RhdHNPcHRpb25zO1xuICBjbGllbnREZXRhaWxzOiBMb2NhbENsaWVudERldGFpbHNUeXBlO1xuICBzdWJzY3JpYmVyOiBTdWJzY3JpYmVyO1xuICBwdWJsaXNoZXI/OiBQdWJsaXNoZXI7XG4gIG1pY3JvcGhvbmU6IE1pY3JvcGhvbmVNYW5hZ2VyO1xuICBjYW1lcmE6IENhbWVyYU1hbmFnZXI7XG4gIHN0YXRlOiBDYWxsU3RhdGU7XG59O1xuXG5leHBvcnQgY2xhc3MgU2Z1U3RhdHNSZXBvcnRlciB7XG4gIHByaXZhdGUgcmVhZG9ubHkgbG9nZ2VyID0gZ2V0TG9nZ2VyKFsnU2Z1U3RhdHNSZXBvcnRlciddKTtcblxuICByZWFkb25seSBvcHRpb25zOiBTdGF0c09wdGlvbnM7XG5cbiAgcHJpdmF0ZSByZWFkb25seSBzZnVDbGllbnQ6IFN0cmVhbVNmdUNsaWVudDtcbiAgcHJpdmF0ZSByZWFkb25seSBzdWJzY3JpYmVyOiBTdWJzY3JpYmVyO1xuICBwcml2YXRlIHJlYWRvbmx5IHB1Ymxpc2hlcj86IFB1Ymxpc2hlcjtcbiAgcHJpdmF0ZSByZWFkb25seSBtaWNyb3Bob25lOiBNaWNyb3Bob25lTWFuYWdlcjtcbiAgcHJpdmF0ZSByZWFkb25seSBjYW1lcmE6IENhbWVyYU1hbmFnZXI7XG4gIHByaXZhdGUgcmVhZG9ubHkgc3RhdGU6IENhbGxTdGF0ZTtcblxuICBwcml2YXRlIGludGVydmFsSWQ6IE5vZGVKUy5UaW1lb3V0IHwgdW5kZWZpbmVkO1xuICBwcml2YXRlIHVuc3Vic2NyaWJlRGV2aWNlUGVybWlzc2lvbnNTdWJzY3JpcHRpb24/OiAoKSA9PiB2b2lkO1xuICBwcml2YXRlIHVuc3Vic2NyaWJlTGlzdERldmljZXNTdWJzY3JpcHRpb24/OiAoKSA9PiB2b2lkO1xuICBwcml2YXRlIHJlYWRvbmx5IHNka05hbWU6IHN0cmluZztcbiAgcHJpdmF0ZSByZWFkb25seSBzZGtWZXJzaW9uOiBzdHJpbmc7XG4gIHByaXZhdGUgcmVhZG9ubHkgd2ViUlRDVmVyc2lvbjogc3RyaW5nO1xuICBwcml2YXRlIHJlYWRvbmx5IGlucHV0RGV2aWNlcyA9IG5ldyBNYXA8J21pYycgfCAnY2FtZXJhJywgSW5wdXREZXZpY2VzPigpO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHNmdUNsaWVudDogU3RyZWFtU2Z1Q2xpZW50LFxuICAgIHtcbiAgICAgIG9wdGlvbnMsXG4gICAgICBjbGllbnREZXRhaWxzLFxuICAgICAgc3Vic2NyaWJlcixcbiAgICAgIHB1Ymxpc2hlcixcbiAgICAgIG1pY3JvcGhvbmUsXG4gICAgICBjYW1lcmEsXG4gICAgICBzdGF0ZSxcbiAgICB9OiBTZnVTdGF0c1JlcG9ydGVyT3B0aW9ucyxcbiAgKSB7XG4gICAgdGhpcy5zZnVDbGllbnQgPSBzZnVDbGllbnQ7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICB0aGlzLnN1YnNjcmliZXIgPSBzdWJzY3JpYmVyO1xuICAgIHRoaXMucHVibGlzaGVyID0gcHVibGlzaGVyO1xuICAgIHRoaXMubWljcm9waG9uZSA9IG1pY3JvcGhvbmU7XG4gICAgdGhpcy5jYW1lcmEgPSBjYW1lcmE7XG4gICAgdGhpcy5zdGF0ZSA9IHN0YXRlO1xuXG4gICAgY29uc3QgeyBzZGssIGJyb3dzZXIgfSA9IGNsaWVudERldGFpbHM7XG4gICAgdGhpcy5zZGtOYW1lID0gZ2V0U2RrTmFtZShzZGspO1xuICAgIHRoaXMuc2RrVmVyc2lvbiA9IGdldFNka1ZlcnNpb24oc2RrKTtcblxuICAgIC8vIHVzZSB0aGUgV2ViUlRDIHZlcnNpb24gaWYgc2V0IGJ5IHRoZSBTREsgKFJlYWN0IE5hdGl2ZSkgb3RoZXJ3aXNlLFxuICAgIC8vIHVzZSB0aGUgYnJvd3NlciB2ZXJzaW9uIGFzIGEgZmFsbGJhY2tcbiAgICBjb25zdCB3ZWJSVENJbmZvID0gZ2V0V2ViUlRDSW5mbygpO1xuICAgIHRoaXMud2ViUlRDVmVyc2lvbiA9XG4gICAgICB3ZWJSVENJbmZvPy52ZXJzaW9uIHx8XG4gICAgICBgJHticm93c2VyPy5uYW1lIHx8ICcnfS0ke2Jyb3dzZXI/LnZlcnNpb24gfHwgJyd9YCB8fFxuICAgICAgJ04vQSc7XG4gIH1cblxuICBwcml2YXRlIG9ic2VydmVEZXZpY2UgPSAoXG4gICAgZGV2aWNlOiBDYW1lcmFNYW5hZ2VyIHwgTWljcm9waG9uZU1hbmFnZXIsXG4gICAga2luZDogJ21pYycgfCAnY2FtZXJhJyxcbiAgKSA9PiB7XG4gICAgY29uc3QgeyBoYXNCcm93c2VyUGVybWlzc2lvbiQgfSA9IGRldmljZS5zdGF0ZTtcbiAgICB0aGlzLnVuc3Vic2NyaWJlRGV2aWNlUGVybWlzc2lvbnNTdWJzY3JpcHRpb24/LigpO1xuICAgIHRoaXMudW5zdWJzY3JpYmVEZXZpY2VQZXJtaXNzaW9uc1N1YnNjcmlwdGlvbiA9IGNyZWF0ZVN1YnNjcmlwdGlvbihcbiAgICAgIGNvbWJpbmVMYXRlc3QoW2hhc0Jyb3dzZXJQZXJtaXNzaW9uJCwgdGhpcy5zdGF0ZS5vd25DYXBhYmlsaXRpZXMkXSksXG4gICAgICAoW2hhc1Blcm1pc3Npb24sIG93bkNhcGFiaWxpdGllc10pID0+IHtcbiAgICAgICAgLy8gY2xlYW51cCB0aGUgcHJldmlvdXMgbGlzdERldmljZXMoKSBzdWJzY3JpcHRpb24gaW4gY2FzZVxuICAgICAgICAvLyBwZXJtaXNzaW9ucyBvciBjYXBhYmlsaXRpZXMgaGF2ZSBjaGFuZ2VkLlxuICAgICAgICAvLyB3ZSB3aWxsIHN1YnNjcmliZSBhZ2FpbiBpZiBldmVyeXRoaW5nIGlzIGluIG9yZGVyLlxuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlTGlzdERldmljZXNTdWJzY3JpcHRpb24/LigpO1xuICAgICAgICBjb25zdCBoYXNDYXBhYmlsaXR5ID1cbiAgICAgICAgICBraW5kID09PSAnbWljJ1xuICAgICAgICAgICAgPyBvd25DYXBhYmlsaXRpZXMuaW5jbHVkZXMoT3duQ2FwYWJpbGl0eS5TRU5EX0FVRElPKVxuICAgICAgICAgICAgOiBvd25DYXBhYmlsaXRpZXMuaW5jbHVkZXMoT3duQ2FwYWJpbGl0eS5TRU5EX1ZJREVPKTtcbiAgICAgICAgaWYgKCFoYXNQZXJtaXNzaW9uIHx8ICFoYXNDYXBhYmlsaXR5KSB7XG4gICAgICAgICAgdGhpcy5pbnB1dERldmljZXMuc2V0KGtpbmQsIHtcbiAgICAgICAgICAgIGN1cnJlbnREZXZpY2U6ICcnLFxuICAgICAgICAgICAgYXZhaWxhYmxlRGV2aWNlczogW10sXG4gICAgICAgICAgICBpc1Blcm1pdHRlZDogZmFsc2UsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmVMaXN0RGV2aWNlc1N1YnNjcmlwdGlvbiA9IGNyZWF0ZVN1YnNjcmlwdGlvbihcbiAgICAgICAgICBjb21iaW5lTGF0ZXN0KFtkZXZpY2UubGlzdERldmljZXMoKSwgZGV2aWNlLnN0YXRlLnNlbGVjdGVkRGV2aWNlJF0pLFxuICAgICAgICAgIChbZGV2aWNlcywgZGV2aWNlSWRdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzZWxlY3RlZCA9IGRldmljZXMuZmluZCgoZCkgPT4gZC5kZXZpY2VJZCA9PT0gZGV2aWNlSWQpO1xuICAgICAgICAgICAgdGhpcy5pbnB1dERldmljZXMuc2V0KGtpbmQsIHtcbiAgICAgICAgICAgICAgY3VycmVudERldmljZTogc2VsZWN0ZWQ/LmxhYmVsIHx8IGRldmljZUlkIHx8ICcnLFxuICAgICAgICAgICAgICBhdmFpbGFibGVEZXZpY2VzOiBkZXZpY2VzLm1hcCgoZCkgPT4gZC5sYWJlbCksXG4gICAgICAgICAgICAgIGlzUGVybWl0dGVkOiB0cnVlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgKTtcbiAgICAgIH0sXG4gICAgKTtcbiAgfTtcblxuICBzZW5kVGVsZW1ldHJ5RGF0YSA9IGFzeW5jICh0ZWxlbWV0cnlEYXRhOiBUZWxlbWV0cnkpID0+IHtcbiAgICByZXR1cm4gdGhpcy5ydW4odGVsZW1ldHJ5RGF0YSk7XG4gIH07XG5cbiAgcHJpdmF0ZSBydW4gPSBhc3luYyAodGVsZW1ldHJ5RGF0YT86IFRlbGVtZXRyeSkgPT4ge1xuICAgIGNvbnN0IFtzdWJzY3JpYmVyU3RhdHMsIHB1Ymxpc2hlclN0YXRzXSA9IGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgIHRoaXMuc3Vic2NyaWJlci5nZXRTdGF0cygpLnRoZW4oZmxhdHRlbikudGhlbihKU09OLnN0cmluZ2lmeSksXG4gICAgICB0aGlzLnB1Ymxpc2hlcj8uZ2V0U3RhdHMoKS50aGVuKGZsYXR0ZW4pLnRoZW4oSlNPTi5zdHJpbmdpZnkpID8/ICdbXScsXG4gICAgXSk7XG5cbiAgICBhd2FpdCB0aGlzLnNmdUNsaWVudC5zZW5kU3RhdHMoe1xuICAgICAgc2RrOiB0aGlzLnNka05hbWUsXG4gICAgICBzZGtWZXJzaW9uOiB0aGlzLnNka1ZlcnNpb24sXG4gICAgICB3ZWJydGNWZXJzaW9uOiB0aGlzLndlYlJUQ1ZlcnNpb24sXG4gICAgICBzdWJzY3JpYmVyU3RhdHMsXG4gICAgICBwdWJsaXNoZXJTdGF0cyxcbiAgICAgIGF1ZGlvRGV2aWNlczogdGhpcy5pbnB1dERldmljZXMuZ2V0KCdtaWMnKSxcbiAgICAgIHZpZGVvRGV2aWNlczogdGhpcy5pbnB1dERldmljZXMuZ2V0KCdjYW1lcmEnKSxcbiAgICAgIGRldmljZVN0YXRlOiBnZXREZXZpY2VTdGF0ZSgpLFxuICAgICAgdGVsZW1ldHJ5OiB0ZWxlbWV0cnlEYXRhLFxuICAgIH0pO1xuICB9O1xuXG4gIHN0YXJ0ID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLm9wdGlvbnMucmVwb3J0aW5nX2ludGVydmFsX21zIDw9IDApIHJldHVybjtcblxuICAgIHRoaXMub2JzZXJ2ZURldmljZSh0aGlzLm1pY3JvcGhvbmUsICdtaWMnKTtcbiAgICB0aGlzLm9ic2VydmVEZXZpY2UodGhpcy5jYW1lcmEsICdjYW1lcmEnKTtcblxuICAgIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbElkKTtcbiAgICB0aGlzLmludGVydmFsSWQgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICB0aGlzLnJ1bigpLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgdGhpcy5sb2dnZXIoJ3dhcm4nLCAnRmFpbGVkIHRvIHJlcG9ydCBzdGF0cycsIGVycik7XG4gICAgICB9KTtcbiAgICB9LCB0aGlzLm9wdGlvbnMucmVwb3J0aW5nX2ludGVydmFsX21zKTtcbiAgfTtcblxuICBzdG9wID0gKCkgPT4ge1xuICAgIHRoaXMudW5zdWJzY3JpYmVEZXZpY2VQZXJtaXNzaW9uc1N1YnNjcmlwdGlvbj8uKCk7XG4gICAgdGhpcy51bnN1YnNjcmliZURldmljZVBlcm1pc3Npb25zU3Vic2NyaXB0aW9uID0gdW5kZWZpbmVkO1xuICAgIHRoaXMudW5zdWJzY3JpYmVMaXN0RGV2aWNlc1N1YnNjcmlwdGlvbj8uKCk7XG4gICAgdGhpcy51bnN1YnNjcmliZUxpc3REZXZpY2VzU3Vic2NyaXB0aW9uID0gdW5kZWZpbmVkO1xuXG4gICAgdGhpcy5pbnB1dERldmljZXMuY2xlYXIoKTtcbiAgICBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWxJZCk7XG4gICAgdGhpcy5pbnRlcnZhbElkID0gdW5kZWZpbmVkO1xuICB9O1xufVxuIiwiY29uc3QgREVGQVVMVF9USFJFU0hPTEQgPSAwLjM1O1xuXG5leHBvcnQgdHlwZSBFbnRyeUhhbmRsZXIgPSAoZW50cnk6IEludGVyc2VjdGlvbk9ic2VydmVyRW50cnkpID0+IHZvaWQ7XG5cbmV4cG9ydCB0eXBlIFVub2JzZXJ2ZSA9ICgpID0+IHZvaWQ7XG5cbmV4cG9ydCB0eXBlIE9ic2VydmUgPSAoXG4gIGVsZW1lbnQ6IEhUTUxFbGVtZW50LFxuICBlbnRyeUhhbmRsZXI6IEVudHJ5SGFuZGxlcixcbikgPT4gVW5vYnNlcnZlO1xuXG5leHBvcnQgY2xhc3MgVmlld3BvcnRUcmFja2VyIHtcbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBwcml2YXRlIGVsZW1lbnRIYW5kbGVyTWFwOiBNYXA8XG4gICAgSFRNTEVsZW1lbnQsXG4gICAgKGVudHJ5OiBJbnRlcnNlY3Rpb25PYnNlcnZlckVudHJ5KSA9PiB2b2lkXG4gID4gPSBuZXcgTWFwKCk7XG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgcHJpdmF0ZSBvYnNlcnZlcjogSW50ZXJzZWN0aW9uT2JzZXJ2ZXIgfCBudWxsID0gbnVsbDtcbiAgLy8gaW4gUmVhY3QgY2hpbGRyZW4gcmVuZGVyIGJlZm9yZSB2aWV3cG9ydCBpcyBzZXQsIGFkZFxuICAvLyB0aGVtIHRvIHRoZSBxdWV1ZSBhbmQgb2JzZXJ2ZSB0aGVtIG9uY2UgdGhlIG9ic2VydmVyIGlzIHJlYWR5XG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgcHJpdmF0ZSBxdWV1ZVNldDogU2V0PHJlYWRvbmx5IFtIVE1MRWxlbWVudCwgRW50cnlIYW5kbGVyXT4gPSBuZXcgU2V0KCk7XG5cbiAgLyoqXG4gICAqIE1ldGhvZCB0byBzZXQgc2Nyb2xsYWJsZSB2aWV3cG9ydCBhcyByb290IGZvciB0aGUgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIsIHJldHVybnNcbiAgICogY2xlYW51cCBmdW5jdGlvbiB0byBiZSBpbnZva2VkIHVwb24gZGlzcG9zaW5nIG9mIHRoZSBET00gZWxlbWVudCB0byBwcmV2ZW50IG1lbW9yeSBsZWFrc1xuICAgKlxuICAgKiBAcGFyYW0gdmlld3BvcnRFbGVtZW50XG4gICAqIEBwYXJhbSBvcHRpb25zXG4gICAqIEByZXR1cm5zIFVub2JzZXJ2ZVxuICAgKi9cbiAgcHVibGljIHNldFZpZXdwb3J0ID0gKFxuICAgIHZpZXdwb3J0RWxlbWVudDogSFRNTEVsZW1lbnQsXG4gICAgb3B0aW9ucz86IFBpY2s8SW50ZXJzZWN0aW9uT2JzZXJ2ZXJJbml0LCAndGhyZXNob2xkJyB8ICdyb290TWFyZ2luJz4sXG4gICkgPT4ge1xuICAgIGNvbnN0IGNsZWFudXAgPSAoKSA9PiB7XG4gICAgICB0aGlzLm9ic2VydmVyPy5kaXNjb25uZWN0KCk7XG4gICAgICB0aGlzLm9ic2VydmVyID0gbnVsbDtcbiAgICAgIHRoaXMuZWxlbWVudEhhbmRsZXJNYXAuY2xlYXIoKTtcbiAgICB9O1xuXG4gICAgdGhpcy5vYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihcbiAgICAgIChlbnRyaWVzKSA9PiB7XG4gICAgICAgIGVudHJpZXMuZm9yRWFjaCgoZW50cnkpID0+IHtcbiAgICAgICAgICBjb25zdCBoYW5kbGVyID0gdGhpcy5lbGVtZW50SGFuZGxlck1hcC5nZXQoXG4gICAgICAgICAgICBlbnRyeS50YXJnZXQgYXMgSFRNTEVsZW1lbnQsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBoYW5kbGVyPy4oZW50cnkpO1xuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHJvb3Q6IHZpZXdwb3J0RWxlbWVudCxcbiAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgdGhyZXNob2xkOiBvcHRpb25zPy50aHJlc2hvbGQgPz8gREVGQVVMVF9USFJFU0hPTEQsXG4gICAgICB9LFxuICAgICk7XG5cbiAgICBpZiAodGhpcy5xdWV1ZVNldC5zaXplKSB7XG4gICAgICB0aGlzLnF1ZXVlU2V0LmZvckVhY2goKFtxdWV1ZUVsZW1lbnQsIHF1ZXVlSGFuZGxlcl0pID0+IHtcbiAgICAgICAgLy8gY2hlY2sgaWYgZWxlbWVudCB3aGljaCByZXF1ZXN0ZWQgb2JzZXJ2YXRpb24gaXNcbiAgICAgICAgLy8gYSBjaGlsZCBvZiBhIHZpZXdwb3J0IGVsZW1lbnQsIHNraXAgaWYgaXNuJ3RcbiAgICAgICAgaWYgKCF2aWV3cG9ydEVsZW1lbnQuY29udGFpbnMocXVldWVFbGVtZW50KSkgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMub2JzZXJ2ZXIhLm9ic2VydmUocXVldWVFbGVtZW50KTtcbiAgICAgICAgdGhpcy5lbGVtZW50SGFuZGxlck1hcC5zZXQocXVldWVFbGVtZW50LCBxdWV1ZUhhbmRsZXIpO1xuICAgICAgfSk7XG4gICAgICB0aGlzLnF1ZXVlU2V0LmNsZWFyKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNsZWFudXA7XG4gIH07XG5cbiAgLyoqXG4gICAqIE1ldGhvZCB0byBzZXQgZWxlbWVudCB0byBvYnNlcnZlIGFuZCBoYW5kbGVyIHRvIGJlIHRyaWdnZXJlZCB3aGVuZXZlciBJbnRlcnNlY3Rpb25PYnNlcnZlclxuICAgKiBkZXRlY3RzIGEgcG9zc2libGUgY2hhbmdlIGluIGVsZW1lbnQncyB2aXNpYmlsaXR5IHdpdGhpbiBzcGVjaWZpZWQgdmlld3BvcnQsIHJldHVybnNcbiAgICogY2xlYW51cCBmdW5jdGlvbiB0byBiZSBpbnZva2VkIHVwb24gZGlzcG9zaW5nIG9mIHRoZSBET00gZWxlbWVudCB0byBwcmV2ZW50IG1lbW9yeSBsZWFrc1xuICAgKlxuICAgKiBAcGFyYW0gZWxlbWVudFxuICAgKiBAcGFyYW0gaGFuZGxlclxuICAgKiBAcmV0dXJucyBVbm9ic2VydmVcbiAgICovXG4gIHB1YmxpYyBvYnNlcnZlOiBPYnNlcnZlID0gKGVsZW1lbnQsIGhhbmRsZXIpID0+IHtcbiAgICBjb25zdCBxdWV1ZUl0ZW0gPSBbZWxlbWVudCwgaGFuZGxlcl0gYXMgY29uc3Q7XG5cbiAgICBjb25zdCBjbGVhbnVwID0gKCkgPT4ge1xuICAgICAgdGhpcy5lbGVtZW50SGFuZGxlck1hcC5kZWxldGUoZWxlbWVudCk7XG4gICAgICB0aGlzLm9ic2VydmVyPy51bm9ic2VydmUoZWxlbWVudCk7XG4gICAgICB0aGlzLnF1ZXVlU2V0LmRlbGV0ZShxdWV1ZUl0ZW0pO1xuICAgIH07XG5cbiAgICBpZiAodGhpcy5lbGVtZW50SGFuZGxlck1hcC5oYXMoZWxlbWVudCkpIHJldHVybiBjbGVhbnVwO1xuXG4gICAgaWYgKCF0aGlzLm9ic2VydmVyKSB7XG4gICAgICB0aGlzLnF1ZXVlU2V0LmFkZChxdWV1ZUl0ZW0pO1xuICAgICAgcmV0dXJuIGNsZWFudXA7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMub2JzZXJ2ZXIucm9vdCEuY29udGFpbnMoZWxlbWVudCkpIHtcbiAgICAgIHRoaXMuZWxlbWVudEhhbmRsZXJNYXAuc2V0KGVsZW1lbnQsIGhhbmRsZXIpO1xuICAgICAgdGhpcy5vYnNlcnZlci5vYnNlcnZlKGVsZW1lbnQpO1xuICAgIH1cblxuICAgIHJldHVybiBjbGVhbnVwO1xuICB9O1xufVxuIiwiaW1wb3J0IHtcbiAgQXVkaW9UcmFja1R5cGUsXG4gIERlYm91bmNlVHlwZSxcbiAgU3RyZWFtVmlkZW9QYXJ0aWNpcGFudCxcbiAgVmlkZW9UcmFja1R5cGUsXG4gIFZpc2liaWxpdHlTdGF0ZSxcbn0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgVHJhY2tUeXBlLCBWaWRlb0RpbWVuc2lvbiB9IGZyb20gJy4uL2dlbi92aWRlby9zZnUvbW9kZWxzL21vZGVscyc7XG5pbXBvcnQge1xuICBCZWhhdmlvclN1YmplY3QsXG4gIGNvbWJpbmVMYXRlc3QsXG4gIGRpc3RpbmN0VW50aWxDaGFuZ2VkLFxuICBkaXN0aW5jdFVudGlsS2V5Q2hhbmdlZCxcbiAgbWFwLFxuICBzaGFyZVJlcGxheSxcbiAgdGFrZVdoaWxlLFxufSBmcm9tICdyeGpzJztcbmltcG9ydCB7IFZpZXdwb3J0VHJhY2tlciB9IGZyb20gJy4vVmlld3BvcnRUcmFja2VyJztcbmltcG9ydCB7IGdldExvZ2dlciB9IGZyb20gJy4uL2xvZ2dlcic7XG5pbXBvcnQgeyBpc0ZpcmVmb3gsIGlzU2FmYXJpIH0gZnJvbSAnLi9icm93c2Vycyc7XG5pbXBvcnQge1xuICBoYXNTY3JlZW5TaGFyZSxcbiAgaGFzU2NyZWVuU2hhcmVBdWRpbyxcbiAgaGFzVmlkZW8sXG59IGZyb20gJy4vcGFydGljaXBhbnRVdGlscyc7XG5pbXBvcnQgdHlwZSB7IFRyYWNrU3Vic2NyaXB0aW9uRGV0YWlscyB9IGZyb20gJy4uL2dlbi92aWRlby9zZnUvc2lnbmFsX3JwYy9zaWduYWwnO1xuaW1wb3J0IHR5cGUgeyBDYWxsU3RhdGUgfSBmcm9tICcuLi9zdG9yZSc7XG5pbXBvcnQgdHlwZSB7IFN0cmVhbVNmdUNsaWVudCB9IGZyb20gJy4uL1N0cmVhbVNmdUNsaWVudCc7XG5pbXBvcnQgeyBTcGVha2VyTWFuYWdlciB9IGZyb20gJy4uL2RldmljZXMnO1xuaW1wb3J0IHsgZ2V0Q3VycmVudFZhbHVlLCBzZXRDdXJyZW50VmFsdWUgfSBmcm9tICcuLi9zdG9yZS9yeFV0aWxzJztcblxuY29uc3QgREVGQVVMVF9WSUVXUE9SVF9WSVNJQklMSVRZX1NUQVRFOiBSZWNvcmQ8XG4gIFZpZGVvVHJhY2tUeXBlLFxuICBWaXNpYmlsaXR5U3RhdGVcbj4gPSB7XG4gIHZpZGVvVHJhY2s6IFZpc2liaWxpdHlTdGF0ZS5VTktOT1dOLFxuICBzY3JlZW5TaGFyZVRyYWNrOiBWaXNpYmlsaXR5U3RhdGUuVU5LTk9XTixcbn0gYXMgY29uc3Q7XG5cbnR5cGUgVmlkZW9UcmFja1N1YnNjcmlwdGlvbk92ZXJyaWRlID1cbiAgfCB7XG4gICAgICBlbmFibGVkOiB0cnVlO1xuICAgICAgZGltZW5zaW9uOiBWaWRlb0RpbWVuc2lvbjtcbiAgICB9XG4gIHwgeyBlbmFibGVkOiBmYWxzZSB9O1xuXG5jb25zdCBnbG9iYWxPdmVycmlkZUtleSA9IFN5bWJvbCgnZ2xvYmFsT3ZlcnJpZGVLZXknKTtcblxuaW50ZXJmYWNlIFZpZGVvVHJhY2tTdWJzY3JpcHRpb25PdmVycmlkZXMge1xuICBbc2Vzc2lvbklkOiBzdHJpbmddOiBWaWRlb1RyYWNrU3Vic2NyaXB0aW9uT3ZlcnJpZGUgfCB1bmRlZmluZWQ7XG4gIFtnbG9iYWxPdmVycmlkZUtleV0/OiBWaWRlb1RyYWNrU3Vic2NyaXB0aW9uT3ZlcnJpZGU7XG59XG5cbi8qKlxuICogQSBtYW5hZ2VyIGNsYXNzIHRoYXQgaGFuZGxlcyBkeW5hc2NhbGUgcmVsYXRlZCB0YXNrcyBsaWtlOlxuICpcbiAqIC0gYmluZGluZyB2aWRlbyBlbGVtZW50cyB0byBzZXNzaW9uIGlkc1xuICogLSBiaW5kaW5nIGF1ZGlvIGVsZW1lbnRzIHRvIHNlc3Npb24gaWRzXG4gKiAtIHRyYWNraW5nIGVsZW1lbnQgdmlzaWJpbGl0eVxuICogLSB1cGRhdGluZyBzdWJzY3JpcHRpb25zIGJhc2VkIG9uIHZpZXdwb3J0IHZpc2liaWxpdHlcbiAqIC0gdXBkYXRpbmcgc3Vic2NyaXB0aW9ucyBiYXNlZCBvbiB2aWRlbyBlbGVtZW50IGRpbWVuc2lvbnNcbiAqIC0gdXBkYXRpbmcgc3Vic2NyaXB0aW9ucyBiYXNlZCBvbiBwdWJsaXNoZWQgdHJhY2tzXG4gKi9cbmV4cG9ydCBjbGFzcyBEeW5hc2NhbGVNYW5hZ2VyIHtcbiAgLyoqXG4gICAqIFRoZSB2aWV3cG9ydCB0cmFja2VyIGluc3RhbmNlLlxuICAgKi9cbiAgcmVhZG9ubHkgdmlld3BvcnRUcmFja2VyID0gbmV3IFZpZXdwb3J0VHJhY2tlcigpO1xuXG4gIHByaXZhdGUgbG9nZ2VyID0gZ2V0TG9nZ2VyKFsnRHluYXNjYWxlTWFuYWdlciddKTtcbiAgcHJpdmF0ZSBjYWxsU3RhdGU6IENhbGxTdGF0ZTtcbiAgcHJpdmF0ZSBzcGVha2VyOiBTcGVha2VyTWFuYWdlcjtcbiAgcHJpdmF0ZSBzZnVDbGllbnQ6IFN0cmVhbVNmdUNsaWVudCB8IHVuZGVmaW5lZDtcbiAgcHJpdmF0ZSBwZW5kaW5nU3Vic2NyaXB0aW9uc1VwZGF0ZTogTm9kZUpTLlRpbWVvdXQgfCBudWxsID0gbnVsbDtcblxuICBwcml2YXRlIHZpZGVvVHJhY2tTdWJzY3JpcHRpb25PdmVycmlkZXNTdWJqZWN0ID1cbiAgICBuZXcgQmVoYXZpb3JTdWJqZWN0PFZpZGVvVHJhY2tTdWJzY3JpcHRpb25PdmVycmlkZXM+KHt9KTtcblxuICB2aWRlb1RyYWNrU3Vic2NyaXB0aW9uT3ZlcnJpZGVzJCA9XG4gICAgdGhpcy52aWRlb1RyYWNrU3Vic2NyaXB0aW9uT3ZlcnJpZGVzU3ViamVjdC5hc09ic2VydmFibGUoKTtcblxuICBpbmNvbWluZ1ZpZGVvU2V0dGluZ3MkID0gdGhpcy52aWRlb1RyYWNrU3Vic2NyaXB0aW9uT3ZlcnJpZGVzJC5waXBlKFxuICAgIG1hcCgob3ZlcnJpZGVzKSA9PiB7XG4gICAgICBjb25zdCB7IFtnbG9iYWxPdmVycmlkZUtleV06IGdsb2JhbFNldHRpbmdzLCAuLi5wYXJ0aWNpcGFudHMgfSA9XG4gICAgICAgIG92ZXJyaWRlcztcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGVuYWJsZWQ6IGdsb2JhbFNldHRpbmdzPy5lbmFibGVkICE9PSBmYWxzZSxcbiAgICAgICAgcHJlZmVycmVkUmVzb2x1dGlvbjogZ2xvYmFsU2V0dGluZ3M/LmVuYWJsZWRcbiAgICAgICAgICA/IGdsb2JhbFNldHRpbmdzLmRpbWVuc2lvblxuICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICBwYXJ0aWNpcGFudHM6IE9iamVjdC5mcm9tRW50cmllcyhcbiAgICAgICAgICBPYmplY3QuZW50cmllcyhwYXJ0aWNpcGFudHMpLm1hcChcbiAgICAgICAgICAgIChbc2Vzc2lvbklkLCBwYXJ0aWNpcGFudE92ZXJyaWRlXSkgPT4gW1xuICAgICAgICAgICAgICBzZXNzaW9uSWQsXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBlbmFibGVkOiBwYXJ0aWNpcGFudE92ZXJyaWRlPy5lbmFibGVkICE9PSBmYWxzZSxcbiAgICAgICAgICAgICAgICBwcmVmZXJyZWRSZXNvbHV0aW9uOiBwYXJ0aWNpcGFudE92ZXJyaWRlPy5lbmFibGVkXG4gICAgICAgICAgICAgICAgICA/IHBhcnRpY2lwYW50T3ZlcnJpZGUuZGltZW5zaW9uXG4gICAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgKSxcbiAgICAgICAgKSxcbiAgICAgICAgaXNQYXJ0aWNpcGFudFZpZGVvRW5hYmxlZDogKHNlc3Npb25JZDogc3RyaW5nKSA9PlxuICAgICAgICAgIG92ZXJyaWRlc1tzZXNzaW9uSWRdPy5lbmFibGVkID8/XG4gICAgICAgICAgb3ZlcnJpZGVzW2dsb2JhbE92ZXJyaWRlS2V5XT8uZW5hYmxlZCA/P1xuICAgICAgICAgIHRydWUsXG4gICAgICB9O1xuICAgIH0pLFxuICAgIHNoYXJlUmVwbGF5KDEpLFxuICApO1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IER5bmFzY2FsZU1hbmFnZXIgaW5zdGFuY2UuXG4gICAqXG4gICAqIEBwYXJhbSBjYWxsIHRoZSBjYWxsIHRvIG1hbmFnZS5cbiAgICovXG4gIGNvbnN0cnVjdG9yKGNhbGxTdGF0ZTogQ2FsbFN0YXRlLCBzcGVha2VyOiBTcGVha2VyTWFuYWdlcikge1xuICAgIHRoaXMuY2FsbFN0YXRlID0gY2FsbFN0YXRlO1xuICAgIHRoaXMuc3BlYWtlciA9IHNwZWFrZXI7XG4gIH1cblxuICBzZXRTZnVDbGllbnQoc2Z1Q2xpZW50OiBTdHJlYW1TZnVDbGllbnQgfCB1bmRlZmluZWQpIHtcbiAgICB0aGlzLnNmdUNsaWVudCA9IHNmdUNsaWVudDtcbiAgfVxuXG4gIGdldCB0cmFja1N1YnNjcmlwdGlvbnMoKSB7XG4gICAgY29uc3Qgc3Vic2NyaXB0aW9uczogVHJhY2tTdWJzY3JpcHRpb25EZXRhaWxzW10gPSBbXTtcbiAgICBmb3IgKGNvbnN0IHAgb2YgdGhpcy5jYWxsU3RhdGUucmVtb3RlUGFydGljaXBhbnRzKSB7XG4gICAgICAvLyBOT1RFOiBhdWRpbyB0cmFja3MgZG9uJ3QgaGF2ZSB0byBiZSByZXF1ZXN0ZWQgZXhwbGljaXRseVxuICAgICAgLy8gYXMgdGhlIFNGVSB3aWxsIGltcGxpY2l0bHkgc3Vic2NyaWJlIHVzIHRvIGFsbCBvZiB0aGVtLFxuICAgICAgLy8gb25jZSB0aGV5IGJlY29tZSBhdmFpbGFibGUuXG4gICAgICBpZiAocC52aWRlb0RpbWVuc2lvbiAmJiBoYXNWaWRlbyhwKSkge1xuICAgICAgICBjb25zdCBvdmVycmlkZSA9XG4gICAgICAgICAgdGhpcy52aWRlb1RyYWNrU3Vic2NyaXB0aW9uT3ZlcnJpZGVzW3Auc2Vzc2lvbklkXSA/P1xuICAgICAgICAgIHRoaXMudmlkZW9UcmFja1N1YnNjcmlwdGlvbk92ZXJyaWRlc1tnbG9iYWxPdmVycmlkZUtleV07XG5cbiAgICAgICAgaWYgKG92ZXJyaWRlPy5lbmFibGVkICE9PSBmYWxzZSkge1xuICAgICAgICAgIHN1YnNjcmlwdGlvbnMucHVzaCh7XG4gICAgICAgICAgICB1c2VySWQ6IHAudXNlcklkLFxuICAgICAgICAgICAgc2Vzc2lvbklkOiBwLnNlc3Npb25JZCxcbiAgICAgICAgICAgIHRyYWNrVHlwZTogVHJhY2tUeXBlLlZJREVPLFxuICAgICAgICAgICAgZGltZW5zaW9uOiBvdmVycmlkZT8uZGltZW5zaW9uID8/IHAudmlkZW9EaW1lbnNpb24sXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChwLnNjcmVlblNoYXJlRGltZW5zaW9uICYmIGhhc1NjcmVlblNoYXJlKHApKSB7XG4gICAgICAgIHN1YnNjcmlwdGlvbnMucHVzaCh7XG4gICAgICAgICAgdXNlcklkOiBwLnVzZXJJZCxcbiAgICAgICAgICBzZXNzaW9uSWQ6IHAuc2Vzc2lvbklkLFxuICAgICAgICAgIHRyYWNrVHlwZTogVHJhY2tUeXBlLlNDUkVFTl9TSEFSRSxcbiAgICAgICAgICBkaW1lbnNpb246IHAuc2NyZWVuU2hhcmVEaW1lbnNpb24sXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgaWYgKGhhc1NjcmVlblNoYXJlQXVkaW8ocCkpIHtcbiAgICAgICAgc3Vic2NyaXB0aW9ucy5wdXNoKHtcbiAgICAgICAgICB1c2VySWQ6IHAudXNlcklkLFxuICAgICAgICAgIHNlc3Npb25JZDogcC5zZXNzaW9uSWQsXG4gICAgICAgICAgdHJhY2tUeXBlOiBUcmFja1R5cGUuU0NSRUVOX1NIQVJFX0FVRElPLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHN1YnNjcmlwdGlvbnM7XG4gIH1cblxuICBnZXQgdmlkZW9UcmFja1N1YnNjcmlwdGlvbk92ZXJyaWRlcygpIHtcbiAgICByZXR1cm4gZ2V0Q3VycmVudFZhbHVlKHRoaXMudmlkZW9UcmFja1N1YnNjcmlwdGlvbk92ZXJyaWRlcyQpO1xuICB9XG5cbiAgc2V0VmlkZW9UcmFja1N1YnNjcmlwdGlvbk92ZXJyaWRlcyA9IChcbiAgICBvdmVycmlkZTogVmlkZW9UcmFja1N1YnNjcmlwdGlvbk92ZXJyaWRlIHwgdW5kZWZpbmVkLFxuICAgIHNlc3Npb25JZHM/OiBzdHJpbmdbXSxcbiAgKSA9PiB7XG4gICAgaWYgKCFzZXNzaW9uSWRzKSB7XG4gICAgICByZXR1cm4gc2V0Q3VycmVudFZhbHVlKFxuICAgICAgICB0aGlzLnZpZGVvVHJhY2tTdWJzY3JpcHRpb25PdmVycmlkZXNTdWJqZWN0LFxuICAgICAgICBvdmVycmlkZSA/IHsgW2dsb2JhbE92ZXJyaWRlS2V5XTogb3ZlcnJpZGUgfSA6IHt9LFxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gc2V0Q3VycmVudFZhbHVlKFxuICAgICAgdGhpcy52aWRlb1RyYWNrU3Vic2NyaXB0aW9uT3ZlcnJpZGVzU3ViamVjdCxcbiAgICAgIChvdmVycmlkZXMpID0+ICh7XG4gICAgICAgIC4uLm92ZXJyaWRlcyxcbiAgICAgICAgLi4uT2JqZWN0LmZyb21FbnRyaWVzKHNlc3Npb25JZHMubWFwKChpZCkgPT4gW2lkLCBvdmVycmlkZV0pKSxcbiAgICAgIH0pLFxuICAgICk7XG4gIH07XG5cbiAgYXBwbHlUcmFja1N1YnNjcmlwdGlvbnMgPSAoXG4gICAgZGVib3VuY2VUeXBlOiBEZWJvdW5jZVR5cGUgPSBEZWJvdW5jZVR5cGUuU0xPVyxcbiAgKSA9PiB7XG4gICAgaWYgKHRoaXMucGVuZGluZ1N1YnNjcmlwdGlvbnNVcGRhdGUpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLnBlbmRpbmdTdWJzY3JpcHRpb25zVXBkYXRlKTtcbiAgICB9XG5cbiAgICBjb25zdCB1cGRhdGVTdWJzY3JpcHRpb25zID0gKCkgPT4ge1xuICAgICAgdGhpcy5wZW5kaW5nU3Vic2NyaXB0aW9uc1VwZGF0ZSA9IG51bGw7XG4gICAgICB0aGlzLnNmdUNsaWVudFxuICAgICAgICA/LnVwZGF0ZVN1YnNjcmlwdGlvbnModGhpcy50cmFja1N1YnNjcmlwdGlvbnMpXG4gICAgICAgIC5jYXRjaCgoZXJyOiB1bmtub3duKSA9PiB7XG4gICAgICAgICAgdGhpcy5sb2dnZXIoJ2RlYnVnJywgYEZhaWxlZCB0byB1cGRhdGUgdHJhY2sgc3Vic2NyaXB0aW9uc2AsIGVycik7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBpZiAoZGVib3VuY2VUeXBlKSB7XG4gICAgICB0aGlzLnBlbmRpbmdTdWJzY3JpcHRpb25zVXBkYXRlID0gc2V0VGltZW91dChcbiAgICAgICAgdXBkYXRlU3Vic2NyaXB0aW9ucyxcbiAgICAgICAgZGVib3VuY2VUeXBlLFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdXBkYXRlU3Vic2NyaXB0aW9ucygpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogV2lsbCBiZWdpbiB0cmFja2luZyB0aGUgZ2l2ZW4gZWxlbWVudCBmb3IgdmlzaWJpbGl0eSBjaGFuZ2VzIHdpdGhpbiB0aGVcbiAgICogY29uZmlndXJlZCB2aWV3cG9ydCBlbGVtZW50IChgY2FsbC5zZXRWaWV3cG9ydGApLlxuICAgKlxuICAgKiBAcGFyYW0gZWxlbWVudCB0aGUgZWxlbWVudCB0byB0cmFjay5cbiAgICogQHBhcmFtIHNlc3Npb25JZCB0aGUgc2Vzc2lvbiBpZC5cbiAgICogQHBhcmFtIHRyYWNrVHlwZSB0aGUga2luZCBvZiB2aWRlby5cbiAgICogQHJldHVybnMgVW50cmFjay5cbiAgICovXG4gIHRyYWNrRWxlbWVudFZpc2liaWxpdHkgPSA8VCBleHRlbmRzIEhUTUxFbGVtZW50PihcbiAgICBlbGVtZW50OiBULFxuICAgIHNlc3Npb25JZDogc3RyaW5nLFxuICAgIHRyYWNrVHlwZTogVmlkZW9UcmFja1R5cGUsXG4gICkgPT4ge1xuICAgIGNvbnN0IGNsZWFudXAgPSB0aGlzLnZpZXdwb3J0VHJhY2tlci5vYnNlcnZlKGVsZW1lbnQsIChlbnRyeSkgPT4ge1xuICAgICAgdGhpcy5jYWxsU3RhdGUudXBkYXRlUGFydGljaXBhbnQoc2Vzc2lvbklkLCAocGFydGljaXBhbnQpID0+IHtcbiAgICAgICAgY29uc3QgcHJldmlvdXNWaXNpYmlsaXR5U3RhdGUgPVxuICAgICAgICAgIHBhcnRpY2lwYW50LnZpZXdwb3J0VmlzaWJpbGl0eVN0YXRlID8/XG4gICAgICAgICAgREVGQVVMVF9WSUVXUE9SVF9WSVNJQklMSVRZX1NUQVRFO1xuXG4gICAgICAgIC8vIG9ic2VydmVyIHRyaWdnZXJzIHdoZW4gdGhlIGVsZW1lbnQgaXMgXCJtb3ZlZFwiIHRvIGJlIGEgZnVsbHNjcmVlbiBlbGVtZW50XG4gICAgICAgIC8vIGtlZXAgaXQgVklTSUJMRSBpZiB0aGF0IGhhcHBlbnMgdG8gcHJldmVudCBmdWxsc2NyZWVuIHdpdGggcGxhY2Vob2xkZXJcbiAgICAgICAgY29uc3QgaXNWaXNpYmxlID1cbiAgICAgICAgICBlbnRyeS5pc0ludGVyc2VjdGluZyB8fCBkb2N1bWVudC5mdWxsc2NyZWVuRWxlbWVudCA9PT0gZWxlbWVudFxuICAgICAgICAgICAgPyBWaXNpYmlsaXR5U3RhdGUuVklTSUJMRVxuICAgICAgICAgICAgOiBWaXNpYmlsaXR5U3RhdGUuSU5WSVNJQkxFO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIC4uLnBhcnRpY2lwYW50LFxuICAgICAgICAgIHZpZXdwb3J0VmlzaWJpbGl0eVN0YXRlOiB7XG4gICAgICAgICAgICAuLi5wcmV2aW91c1Zpc2liaWxpdHlTdGF0ZSxcbiAgICAgICAgICAgIFt0cmFja1R5cGVdOiBpc1Zpc2libGUsXG4gICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGNsZWFudXAoKTtcbiAgICAgIC8vIHJlc2V0IHZpc2liaWxpdHkgc3RhdGUgdG8gVU5LTk9XTiB1cG9uIGNsZWFudXBcbiAgICAgIC8vIHNvIHRoYXQgdGhlIGxheW91dHMgdGhhdCBhcmUgbm90IGFjdGl2ZWx5IG9ic2VydmVkXG4gICAgICAvLyBjYW4gc3RpbGwgZnVuY3Rpb24gbm9ybWFsbHkgKHJ1bnRpbWUgbGF5b3V0IHN3aXRjaGluZylcbiAgICAgIHRoaXMuY2FsbFN0YXRlLnVwZGF0ZVBhcnRpY2lwYW50KHNlc3Npb25JZCwgKHBhcnRpY2lwYW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHByZXZpb3VzVmlzaWJpbGl0eVN0YXRlID1cbiAgICAgICAgICBwYXJ0aWNpcGFudC52aWV3cG9ydFZpc2liaWxpdHlTdGF0ZSA/P1xuICAgICAgICAgIERFRkFVTFRfVklFV1BPUlRfVklTSUJJTElUWV9TVEFURTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAuLi5wYXJ0aWNpcGFudCxcbiAgICAgICAgICB2aWV3cG9ydFZpc2liaWxpdHlTdGF0ZToge1xuICAgICAgICAgICAgLi4ucHJldmlvdXNWaXNpYmlsaXR5U3RhdGUsXG4gICAgICAgICAgICBbdHJhY2tUeXBlXTogVmlzaWJpbGl0eVN0YXRlLlVOS05PV04sXG4gICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIH07XG4gIH07XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIHZpZXdwb3J0IGVsZW1lbnQgdG8gdHJhY2sgYm91bmQgdmlkZW8gZWxlbWVudHMgZm9yIHZpc2liaWxpdHkuXG4gICAqXG4gICAqIEBwYXJhbSBlbGVtZW50IHRoZSB2aWV3cG9ydCBlbGVtZW50LlxuICAgKi9cbiAgc2V0Vmlld3BvcnQgPSA8VCBleHRlbmRzIEhUTUxFbGVtZW50PihlbGVtZW50OiBUKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMudmlld3BvcnRUcmFja2VyLnNldFZpZXdwb3J0KGVsZW1lbnQpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBCaW5kcyBhIERPTSA8dmlkZW8+IGVsZW1lbnQgdG8gdGhlIGdpdmVuIHNlc3Npb24gaWQuXG4gICAqIFRoaXMgbWV0aG9kIHdpbGwgbWFrZSBzdXJlIHRoYXQgdGhlIHZpZGVvIGVsZW1lbnQgd2lsbCBwbGF5XG4gICAqIHRoZSBjb3JyZWN0IHZpZGVvIHN0cmVhbSBmb3IgdGhlIGdpdmVuIHNlc3Npb24gaWQuXG4gICAqXG4gICAqIFVuZGVyIHRoZSBob29kLCBpdCB3b3VsZCBhbHNvIGtlZXAgdHJhY2sgb2YgdGhlIHZpZGVvIGVsZW1lbnQgZGltZW5zaW9uc1xuICAgKiBhbmQgdXBkYXRlIHRoZSBzdWJzY3JpcHRpb24gYWNjb3JkaW5nbHkgaW4gb3JkZXIgdG8gb3B0aW1pemUgdGhlIGJhbmR3aWR0aC5cbiAgICpcbiAgICogSWYgYSBcInZpZXdwb3J0XCIgaXMgY29uZmlndXJlZCwgdGhlIHZpZGVvIGVsZW1lbnQgd2lsbCBiZSBhdXRvbWF0aWNhbGx5XG4gICAqIHRyYWNrZWQgZm9yIHZpc2liaWxpdHkgYW5kIHRoZSBzdWJzY3JpcHRpb24gd2lsbCBiZSB1cGRhdGVkIGFjY29yZGluZ2x5LlxuICAgKlxuICAgKiBAcGFyYW0gdmlkZW9FbGVtZW50IHRoZSB2aWRlbyBlbGVtZW50IHRvIGJpbmQgdG8uXG4gICAqIEBwYXJhbSBzZXNzaW9uSWQgdGhlIHNlc3Npb24gaWQuXG4gICAqIEBwYXJhbSB0cmFja1R5cGUgdGhlIGtpbmQgb2YgdmlkZW8uXG4gICAqL1xuICBiaW5kVmlkZW9FbGVtZW50ID0gKFxuICAgIHZpZGVvRWxlbWVudDogSFRNTFZpZGVvRWxlbWVudCxcbiAgICBzZXNzaW9uSWQ6IHN0cmluZyxcbiAgICB0cmFja1R5cGU6IFZpZGVvVHJhY2tUeXBlLFxuICApID0+IHtcbiAgICBjb25zdCBib3VuZFBhcnRpY2lwYW50ID1cbiAgICAgIHRoaXMuY2FsbFN0YXRlLmZpbmRQYXJ0aWNpcGFudEJ5U2Vzc2lvbklkKHNlc3Npb25JZCk7XG4gICAgaWYgKCFib3VuZFBhcnRpY2lwYW50KSByZXR1cm47XG5cbiAgICBjb25zdCByZXF1ZXN0VHJhY2tXaXRoRGltZW5zaW9ucyA9IChcbiAgICAgIGRlYm91bmNlVHlwZTogRGVib3VuY2VUeXBlLFxuICAgICAgZGltZW5zaW9uOiBWaWRlb0RpbWVuc2lvbiB8IHVuZGVmaW5lZCxcbiAgICApID0+IHtcbiAgICAgIGlmIChkaW1lbnNpb24gJiYgKGRpbWVuc2lvbi53aWR0aCA9PT0gMCB8fCBkaW1lbnNpb24uaGVpZ2h0ID09PSAwKSkge1xuICAgICAgICAvLyBpZ25vcmUgMHgwIGRpbWVuc2lvbnMuIHRoaXMgY2FuIGhhcHBlbiB3aGVuIHRoZSB2aWRlbyBlbGVtZW50XG4gICAgICAgIC8vIGlzIG5vdCB2aXNpYmxlIChlLmcuLCBoYXMgZGlzcGxheTogbm9uZSkuXG4gICAgICAgIC8vIHdlIHRyZWF0IHRoaXMgYXMgXCJ1bnN1YnNjcmlwdGlvblwiIGFzIHdlIGRvbid0IHdhbnQgdG8ga2VlcFxuICAgICAgICAvLyBjb25zdW1pbmcgYmFuZHdpZHRoIGZvciBhIHZpZGVvIHRoYXQgaXMgbm90IHZpc2libGUgb24gdGhlIHNjcmVlbi5cbiAgICAgICAgdGhpcy5sb2dnZXIoJ2RlYnVnJywgYElnbm9yaW5nIDB4MCBkaW1lbnNpb25gLCBib3VuZFBhcnRpY2lwYW50KTtcbiAgICAgICAgZGltZW5zaW9uID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgdGhpcy5jYWxsU3RhdGUudXBkYXRlUGFydGljaXBhbnRUcmFja3ModHJhY2tUeXBlLCB7XG4gICAgICAgIFtzZXNzaW9uSWRdOiB7IGRpbWVuc2lvbiB9LFxuICAgICAgfSk7XG4gICAgICB0aGlzLmFwcGx5VHJhY2tTdWJzY3JpcHRpb25zKGRlYm91bmNlVHlwZSk7XG4gICAgfTtcblxuICAgIGNvbnN0IHBhcnRpY2lwYW50JCA9IHRoaXMuY2FsbFN0YXRlLnBhcnRpY2lwYW50cyQucGlwZShcbiAgICAgIG1hcChcbiAgICAgICAgKHBhcnRpY2lwYW50cykgPT5cbiAgICAgICAgICBwYXJ0aWNpcGFudHMuZmluZChcbiAgICAgICAgICAgIChwYXJ0aWNpcGFudCkgPT4gcGFydGljaXBhbnQuc2Vzc2lvbklkID09PSBzZXNzaW9uSWQsXG4gICAgICAgICAgKSBhcyBTdHJlYW1WaWRlb1BhcnRpY2lwYW50LFxuICAgICAgKSxcbiAgICAgIHRha2VXaGlsZSgocGFydGljaXBhbnQpID0+ICEhcGFydGljaXBhbnQpLFxuICAgICAgZGlzdGluY3RVbnRpbENoYW5nZWQoKSxcbiAgICAgIHNoYXJlUmVwbGF5KHsgYnVmZmVyU2l6ZTogMSwgcmVmQ291bnQ6IHRydWUgfSksXG4gICAgKTtcblxuICAgIC8qKlxuICAgICAqIFNpbmNlIHRoZSB2aWRlbyBlbGVtZW50cyBhcmUgbm93IGJlaW5nIHJlbW92ZWQgZnJvbSB0aGUgRE9NIChSZWFjdCBTREspIHVwb25cbiAgICAgKiB2aXNpYmlsaXR5IGNoYW5nZSwgdGhpcyBzdWJzY3JpcHRpb24gaXMgbm90IGluIHVzZSBhbiBzdGF5cyBoZXJlIG9ubHkgZm9yIHRoZVxuICAgICAqIHBsYWluIEpTIGludGVncmF0aW9ucyB3aGVyZSBpbnRlZ3JhdG9ycyBtaWdodCBjaG9vc2Ugbm90IHRvIHJlbW92ZSB0aGUgdmlkZW9cbiAgICAgKiBlbGVtZW50cyBmcm9tIHRoZSBET00uXG4gICAgICovXG4gICAgLy8ga2VlcCBjb3B5IGZvciByZXNpemUgb2JzZXJ2ZXIgaGFuZGxlclxuICAgIGxldCB2aWV3cG9ydFZpc2liaWxpdHlTdGF0ZTogVmlzaWJpbGl0eVN0YXRlIHwgdW5kZWZpbmVkO1xuICAgIGNvbnN0IHZpZXdwb3J0VmlzaWJpbGl0eVN0YXRlU3Vic2NyaXB0aW9uID1cbiAgICAgIGJvdW5kUGFydGljaXBhbnQuaXNMb2NhbFBhcnRpY2lwYW50XG4gICAgICAgID8gbnVsbFxuICAgICAgICA6IHBhcnRpY2lwYW50JFxuICAgICAgICAgICAgLnBpcGUoXG4gICAgICAgICAgICAgIG1hcCgocCkgPT4gcC52aWV3cG9ydFZpc2liaWxpdHlTdGF0ZT8uW3RyYWNrVHlwZV0pLFxuICAgICAgICAgICAgICBkaXN0aW5jdFVudGlsQ2hhbmdlZCgpLFxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgLnN1YnNjcmliZSgobmV4dFZpZXdwb3J0VmlzaWJpbGl0eVN0YXRlKSA9PiB7XG4gICAgICAgICAgICAgIC8vIHNraXAgaW5pdGlhbCB0cmlnZ2VyXG4gICAgICAgICAgICAgIGlmICghdmlld3BvcnRWaXNpYmlsaXR5U3RhdGUpIHtcbiAgICAgICAgICAgICAgICB2aWV3cG9ydFZpc2liaWxpdHlTdGF0ZSA9XG4gICAgICAgICAgICAgICAgICBuZXh0Vmlld3BvcnRWaXNpYmlsaXR5U3RhdGUgPz8gVmlzaWJpbGl0eVN0YXRlLlVOS05PV047XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHZpZXdwb3J0VmlzaWJpbGl0eVN0YXRlID1cbiAgICAgICAgICAgICAgICBuZXh0Vmlld3BvcnRWaXNpYmlsaXR5U3RhdGUgPz8gVmlzaWJpbGl0eVN0YXRlLlVOS05PV047XG5cbiAgICAgICAgICAgICAgaWYgKG5leHRWaWV3cG9ydFZpc2liaWxpdHlTdGF0ZSA9PT0gVmlzaWJpbGl0eVN0YXRlLklOVklTSUJMRSkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXF1ZXN0VHJhY2tXaXRoRGltZW5zaW9ucyhcbiAgICAgICAgICAgICAgICAgIERlYm91bmNlVHlwZS5NRURJVU0sXG4gICAgICAgICAgICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHJlcXVlc3RUcmFja1dpdGhEaW1lbnNpb25zKERlYm91bmNlVHlwZS5NRURJVU0sIHtcbiAgICAgICAgICAgICAgICB3aWR0aDogdmlkZW9FbGVtZW50LmNsaWVudFdpZHRoLFxuICAgICAgICAgICAgICAgIGhlaWdodDogdmlkZW9FbGVtZW50LmNsaWVudEhlaWdodCxcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcblxuICAgIGxldCBsYXN0RGltZW5zaW9uczogVmlkZW9EaW1lbnNpb24gfCB1bmRlZmluZWQ7XG4gICAgY29uc3QgcmVzaXplT2JzZXJ2ZXIgPSBib3VuZFBhcnRpY2lwYW50LmlzTG9jYWxQYXJ0aWNpcGFudFxuICAgICAgPyBudWxsXG4gICAgICA6IG5ldyBSZXNpemVPYnNlcnZlcigoKSA9PiB7XG4gICAgICAgICAgY29uc3QgY3VycmVudERpbWVuc2lvbnMgPSB7XG4gICAgICAgICAgICB3aWR0aDogdmlkZW9FbGVtZW50LmNsaWVudFdpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiB2aWRlb0VsZW1lbnQuY2xpZW50SGVpZ2h0LFxuICAgICAgICAgIH07XG5cbiAgICAgICAgICAvLyBza2lwIGluaXRpYWwgdHJpZ2dlclxuICAgICAgICAgIGlmICghbGFzdERpbWVuc2lvbnMpIHtcbiAgICAgICAgICAgIGxhc3REaW1lbnNpb25zID0gY3VycmVudERpbWVuc2lvbnM7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgKGxhc3REaW1lbnNpb25zLndpZHRoID09PSBjdXJyZW50RGltZW5zaW9ucy53aWR0aCAmJlxuICAgICAgICAgICAgICBsYXN0RGltZW5zaW9ucy5oZWlnaHQgPT09IGN1cnJlbnREaW1lbnNpb25zLmhlaWdodCkgfHxcbiAgICAgICAgICAgIHZpZXdwb3J0VmlzaWJpbGl0eVN0YXRlID09PSBWaXNpYmlsaXR5U3RhdGUuSU5WSVNJQkxFXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3QgcmVsYXRpdmVEZWx0YSA9IE1hdGgubWF4KFxuICAgICAgICAgICAgY3VycmVudERpbWVuc2lvbnMud2lkdGggLyBsYXN0RGltZW5zaW9ucy53aWR0aCxcbiAgICAgICAgICAgIGN1cnJlbnREaW1lbnNpb25zLmhlaWdodCAvIGxhc3REaW1lbnNpb25zLmhlaWdodCxcbiAgICAgICAgICApO1xuICAgICAgICAgIC8vIExvdyBxdWFsaXR5IHZpZGVvIGluIGFuIHVwc2NhbGVkIHZpZGVvIGVsZW1lbnQgaXMgdmVyeSBub3RpY2FibGUuXG4gICAgICAgICAgLy8gV2UgdHJ5IHRvIHVwc2NhbGUgZmFzdGVyLCBhbmQgZG93bnNjYWxlIHNsb3dlci4gV2UgYWxzbyB1cGRhdGUgZGVib3VuY2VcbiAgICAgICAgICAvLyBtb3JlIGlmIHRoZSBzaXplIGNoYW5nZSBpcyBub3Qgc2lnbmlmaWNhbnQsIGd1cmFkaW5nIGFnYWluc3QgZmFzdC1maXJpbmdcbiAgICAgICAgICAvLyByZXNpemUgZXZlbnRzLlxuICAgICAgICAgIGNvbnN0IGRlYm91bmNlVHlwZSA9XG4gICAgICAgICAgICByZWxhdGl2ZURlbHRhID4gMS4yID8gRGVib3VuY2VUeXBlLklNTUVESUFURSA6IERlYm91bmNlVHlwZS5NRURJVU07XG4gICAgICAgICAgcmVxdWVzdFRyYWNrV2l0aERpbWVuc2lvbnMoZGVib3VuY2VUeXBlLCB7XG4gICAgICAgICAgICB3aWR0aDogdmlkZW9FbGVtZW50LmNsaWVudFdpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiB2aWRlb0VsZW1lbnQuY2xpZW50SGVpZ2h0LFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGxhc3REaW1lbnNpb25zID0gY3VycmVudERpbWVuc2lvbnM7XG4gICAgICAgIH0pO1xuICAgIHJlc2l6ZU9ic2VydmVyPy5vYnNlcnZlKHZpZGVvRWxlbWVudCk7XG5cbiAgICAvLyBlbGVtZW50IHJlbmRlcnMgYW5kIGdldHMgYm91bmQgLSB0cmFjayBzdWJzY3JpcHRpb24gZ2V0c1xuICAgIC8vIHRyaWdnZXJlZCBmaXJzdCBvdGhlciBvbmVzIGdldCBza2lwcGVkIG9uIGluaXRpYWwgc3Vic2NyaXB0aW9uc1xuICAgIGNvbnN0IHB1Ymxpc2hlZFRyYWNrc1N1YnNjcmlwdGlvbiA9IGJvdW5kUGFydGljaXBhbnQuaXNMb2NhbFBhcnRpY2lwYW50XG4gICAgICA/IG51bGxcbiAgICAgIDogcGFydGljaXBhbnQkXG4gICAgICAgICAgLnBpcGUoXG4gICAgICAgICAgICBkaXN0aW5jdFVudGlsS2V5Q2hhbmdlZCgncHVibGlzaGVkVHJhY2tzJyksXG4gICAgICAgICAgICBtYXAoKHApID0+XG4gICAgICAgICAgICAgIHRyYWNrVHlwZSA9PT0gJ3ZpZGVvVHJhY2snID8gaGFzVmlkZW8ocCkgOiBoYXNTY3JlZW5TaGFyZShwKSxcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBkaXN0aW5jdFVudGlsQ2hhbmdlZCgpLFxuICAgICAgICAgIClcbiAgICAgICAgICAuc3Vic2NyaWJlKChpc1B1Ymxpc2hpbmcpID0+IHtcbiAgICAgICAgICAgIGlmIChpc1B1Ymxpc2hpbmcpIHtcbiAgICAgICAgICAgICAgLy8gdGhlIHBhcnRpY2lwYW50IGp1c3Qgc3RhcnRlZCB0byBwdWJsaXNoIGEgdHJhY2tcbiAgICAgICAgICAgICAgcmVxdWVzdFRyYWNrV2l0aERpbWVuc2lvbnMoRGVib3VuY2VUeXBlLklNTUVESUFURSwge1xuICAgICAgICAgICAgICAgIHdpZHRoOiB2aWRlb0VsZW1lbnQuY2xpZW50V2lkdGgsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiB2aWRlb0VsZW1lbnQuY2xpZW50SGVpZ2h0LFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIHRoZSBwYXJ0aWNpcGFudCBqdXN0IHN0b3BwZWQgcHVibGlzaGluZyBhIHRyYWNrXG4gICAgICAgICAgICAgIHJlcXVlc3RUcmFja1dpdGhEaW1lbnNpb25zKERlYm91bmNlVHlwZS5GQVNULCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuXG4gICAgdmlkZW9FbGVtZW50LmF1dG9wbGF5ID0gdHJ1ZTtcbiAgICB2aWRlb0VsZW1lbnQucGxheXNJbmxpbmUgPSB0cnVlO1xuXG4gICAgLy8gZXhwbGljaXRseSBtYXJraW5nIHRoZSBlbGVtZW50IGFzIG11dGVkIHdpbGwgYWxsb3cgYXV0b3BsYXkgdG8gd29ya1xuICAgIC8vIHdpdGhvdXQgcHJpb3IgdXNlciBpbnRlcmFjdGlvbjpcbiAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9NZWRpYS9BdXRvcGxheV9ndWlkZVxuICAgIHZpZGVvRWxlbWVudC5tdXRlZCA9IHRydWU7XG5cbiAgICBjb25zdCBzdHJlYW1TdWJzY3JpcHRpb24gPSBwYXJ0aWNpcGFudCRcbiAgICAgIC5waXBlKFxuICAgICAgICBkaXN0aW5jdFVudGlsS2V5Q2hhbmdlZChcbiAgICAgICAgICB0cmFja1R5cGUgPT09ICd2aWRlb1RyYWNrJyA/ICd2aWRlb1N0cmVhbScgOiAnc2NyZWVuU2hhcmVTdHJlYW0nLFxuICAgICAgICApLFxuICAgICAgKVxuICAgICAgLnN1YnNjcmliZSgocCkgPT4ge1xuICAgICAgICBjb25zdCBzb3VyY2UgPVxuICAgICAgICAgIHRyYWNrVHlwZSA9PT0gJ3ZpZGVvVHJhY2snID8gcC52aWRlb1N0cmVhbSA6IHAuc2NyZWVuU2hhcmVTdHJlYW07XG4gICAgICAgIGlmICh2aWRlb0VsZW1lbnQuc3JjT2JqZWN0ID09PSBzb3VyY2UpIHJldHVybjtcbiAgICAgICAgdmlkZW9FbGVtZW50LnNyY09iamVjdCA9IHNvdXJjZSA/PyBudWxsO1xuICAgICAgICBpZiAoaXNTYWZhcmkoKSB8fCBpc0ZpcmVmb3goKSkge1xuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdmlkZW9FbGVtZW50LnNyY09iamVjdCA9IHNvdXJjZSA/PyBudWxsO1xuICAgICAgICAgICAgdmlkZW9FbGVtZW50LnBsYXkoKS5jYXRjaCgoZSkgPT4ge1xuICAgICAgICAgICAgICB0aGlzLmxvZ2dlcignd2FybicsIGBGYWlsZWQgdG8gcGxheSBzdHJlYW1gLCBlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gd2UgYWRkIGV4dHJhIGRlbGF5IHVudGlsIHdlIGF0dGVtcHQgdG8gZm9yY2UtcGxheVxuICAgICAgICAgICAgLy8gdGhlIHBhcnRpY2lwYW50J3MgbWVkaWEgc3RyZWFtIGluIEZpcmVmb3ggYW5kIFNhZmFyaSxcbiAgICAgICAgICAgIC8vIGFzIHRoZXkgc2VlbSB0byBoYXZlIHNvbWUgdGltaW5nIGlzc3Vlc1xuICAgICAgICAgIH0sIDI1KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgcmVxdWVzdFRyYWNrV2l0aERpbWVuc2lvbnMoRGVib3VuY2VUeXBlLkZBU1QsIHVuZGVmaW5lZCk7XG4gICAgICB2aWV3cG9ydFZpc2liaWxpdHlTdGF0ZVN1YnNjcmlwdGlvbj8udW5zdWJzY3JpYmUoKTtcbiAgICAgIHB1Ymxpc2hlZFRyYWNrc1N1YnNjcmlwdGlvbj8udW5zdWJzY3JpYmUoKTtcbiAgICAgIHN0cmVhbVN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgcmVzaXplT2JzZXJ2ZXI/LmRpc2Nvbm5lY3QoKTtcbiAgICB9O1xuICB9O1xuXG4gIC8qKlxuICAgKiBCaW5kcyBhIERPTSA8YXVkaW8+IGVsZW1lbnQgdG8gdGhlIGdpdmVuIHNlc3Npb24gaWQuXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIHdpbGwgbWFrZSBzdXJlIHRoYXQgdGhlIGF1ZGlvIGVsZW1lbnQgd2lsbFxuICAgKiBwbGF5IHRoZSBjb3JyZWN0IGF1ZGlvIHN0cmVhbSBmb3IgdGhlIGdpdmVuIHNlc3Npb24gaWQuXG4gICAqXG4gICAqIEBwYXJhbSBhdWRpb0VsZW1lbnQgdGhlIGF1ZGlvIGVsZW1lbnQgdG8gYmluZCB0by5cbiAgICogQHBhcmFtIHNlc3Npb25JZCB0aGUgc2Vzc2lvbiBpZC5cbiAgICogQHBhcmFtIHRyYWNrVHlwZSB0aGUga2luZCBvZiBhdWRpby5cbiAgICogQHJldHVybnMgYSBjbGVhbnVwIGZ1bmN0aW9uIHRoYXQgd2lsbCB1bmJpbmQgdGhlIGF1ZGlvIGVsZW1lbnQuXG4gICAqL1xuICBiaW5kQXVkaW9FbGVtZW50ID0gKFxuICAgIGF1ZGlvRWxlbWVudDogSFRNTEF1ZGlvRWxlbWVudCxcbiAgICBzZXNzaW9uSWQ6IHN0cmluZyxcbiAgICB0cmFja1R5cGU6IEF1ZGlvVHJhY2tUeXBlLFxuICApID0+IHtcbiAgICBjb25zdCBwYXJ0aWNpcGFudCA9IHRoaXMuY2FsbFN0YXRlLmZpbmRQYXJ0aWNpcGFudEJ5U2Vzc2lvbklkKHNlc3Npb25JZCk7XG4gICAgaWYgKCFwYXJ0aWNpcGFudCB8fCBwYXJ0aWNpcGFudC5pc0xvY2FsUGFydGljaXBhbnQpIHJldHVybjtcblxuICAgIGNvbnN0IHBhcnRpY2lwYW50JCA9IHRoaXMuY2FsbFN0YXRlLnBhcnRpY2lwYW50cyQucGlwZShcbiAgICAgIG1hcChcbiAgICAgICAgKHBhcnRpY2lwYW50cykgPT5cbiAgICAgICAgICBwYXJ0aWNpcGFudHMuZmluZChcbiAgICAgICAgICAgIChwKSA9PiBwLnNlc3Npb25JZCA9PT0gc2Vzc2lvbklkLFxuICAgICAgICAgICkgYXMgU3RyZWFtVmlkZW9QYXJ0aWNpcGFudCxcbiAgICAgICksXG4gICAgICB0YWtlV2hpbGUoKHApID0+ICEhcCksXG4gICAgICBkaXN0aW5jdFVudGlsQ2hhbmdlZCgpLFxuICAgICAgc2hhcmVSZXBsYXkoeyBidWZmZXJTaXplOiAxLCByZWZDb3VudDogdHJ1ZSB9KSxcbiAgICApO1xuXG4gICAgY29uc3QgdXBkYXRlTWVkaWFTdHJlYW1TdWJzY3JpcHRpb24gPSBwYXJ0aWNpcGFudCRcbiAgICAgIC5waXBlKFxuICAgICAgICBkaXN0aW5jdFVudGlsS2V5Q2hhbmdlZChcbiAgICAgICAgICB0cmFja1R5cGUgPT09ICdzY3JlZW5TaGFyZUF1ZGlvVHJhY2snXG4gICAgICAgICAgICA/ICdzY3JlZW5TaGFyZUF1ZGlvU3RyZWFtJ1xuICAgICAgICAgICAgOiAnYXVkaW9TdHJlYW0nLFxuICAgICAgICApLFxuICAgICAgKVxuICAgICAgLnN1YnNjcmliZSgocCkgPT4ge1xuICAgICAgICBjb25zdCBzb3VyY2UgPVxuICAgICAgICAgIHRyYWNrVHlwZSA9PT0gJ3NjcmVlblNoYXJlQXVkaW9UcmFjaydcbiAgICAgICAgICAgID8gcC5zY3JlZW5TaGFyZUF1ZGlvU3RyZWFtXG4gICAgICAgICAgICA6IHAuYXVkaW9TdHJlYW07XG4gICAgICAgIGlmIChhdWRpb0VsZW1lbnQuc3JjT2JqZWN0ID09PSBzb3VyY2UpIHJldHVybjtcblxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICBhdWRpb0VsZW1lbnQuc3JjT2JqZWN0ID0gc291cmNlID8/IG51bGw7XG4gICAgICAgICAgaWYgKGF1ZGlvRWxlbWVudC5zcmNPYmplY3QpIHtcbiAgICAgICAgICAgIGF1ZGlvRWxlbWVudC5wbGF5KCkuY2F0Y2goKGUpID0+IHtcbiAgICAgICAgICAgICAgdGhpcy5sb2dnZXIoJ3dhcm4nLCBgRmFpbGVkIHRvIHBsYXkgc3RyZWFtYCwgZSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gYXVkaW8gb3V0cHV0IGRldmljZSBzaGFsbCBiZSBzZXQgYWZ0ZXIgdGhlIGF1ZGlvIGVsZW1lbnQgaXMgcGxheWVkXG4gICAgICAgICAgICAvLyBvdGhlcndpc2UsIHRoZSBicm93c2VyIHdpbGwgbm90IHBpY2sgaXQgdXAsIGFuZCB3aWxsIGFsd2F5c1xuICAgICAgICAgICAgLy8gcGxheSBhdWRpbyB0aHJvdWdoIHRoZSBzeXN0ZW0ncyBkZWZhdWx0IGRldmljZVxuICAgICAgICAgICAgY29uc3QgeyBzZWxlY3RlZERldmljZSB9ID0gdGhpcy5zcGVha2VyLnN0YXRlO1xuICAgICAgICAgICAgaWYgKHNlbGVjdGVkRGV2aWNlICYmICdzZXRTaW5rSWQnIGluIGF1ZGlvRWxlbWVudCkge1xuICAgICAgICAgICAgICBhdWRpb0VsZW1lbnQuc2V0U2lua0lkKHNlbGVjdGVkRGV2aWNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICBjb25zdCBzaW5rSWRTdWJzY3JpcHRpb24gPSAhKCdzZXRTaW5rSWQnIGluIGF1ZGlvRWxlbWVudClcbiAgICAgID8gbnVsbFxuICAgICAgOiB0aGlzLnNwZWFrZXIuc3RhdGUuc2VsZWN0ZWREZXZpY2UkLnN1YnNjcmliZSgoZGV2aWNlSWQpID0+IHtcbiAgICAgICAgICBpZiAoZGV2aWNlSWQpIHtcbiAgICAgICAgICAgIGF1ZGlvRWxlbWVudC5zZXRTaW5rSWQoZGV2aWNlSWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICBjb25zdCB2b2x1bWVTdWJzY3JpcHRpb24gPSBjb21iaW5lTGF0ZXN0KFtcbiAgICAgIHRoaXMuc3BlYWtlci5zdGF0ZS52b2x1bWUkLFxuICAgICAgcGFydGljaXBhbnQkLnBpcGUoZGlzdGluY3RVbnRpbEtleUNoYW5nZWQoJ2F1ZGlvVm9sdW1lJykpLFxuICAgIF0pLnN1YnNjcmliZSgoW3ZvbHVtZSwgcF0pID0+IHtcbiAgICAgIGF1ZGlvRWxlbWVudC52b2x1bWUgPSBwLmF1ZGlvVm9sdW1lID8/IHZvbHVtZTtcbiAgICB9KTtcblxuICAgIGF1ZGlvRWxlbWVudC5hdXRvcGxheSA9IHRydWU7XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgc2lua0lkU3Vic2NyaXB0aW9uPy51bnN1YnNjcmliZSgpO1xuICAgICAgdm9sdW1lU3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICB1cGRhdGVNZWRpYVN0cmVhbVN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgIH07XG4gIH07XG59XG4iLCJpbXBvcnQgeyBDYWxsU2V0dGluZ3NSZXNwb25zZSwgT3duQ2FwYWJpbGl0eSB9IGZyb20gJy4uL2dlbi9jb29yZGluYXRvcic7XG5cbi8qKlxuICogU3RvcmVzIHRoZSBwZXJtaXNzaW9ucyBmb3IgdGhlIGN1cnJlbnQgdXNlciBhbmQgZXhwb3Nlc1xuICogYSBmZXcgaGVscGVyIG1ldGhvZHMgd2hpY2ggbWFrZSBpdCBlYXNpZXIgdG8gd29yayB3aXRoIHBlcm1pc3Npb25zLlxuICpcbiAqIFRoaXMgaXMgYW4gaW50ZXJuYWwgY2xhc3MgbWVhbnQgdG8gYmUgdXNlZCBpbiBjb21iaW5hdGlvbiB3aXRoXG4gKiBhIHtAbGluayBDYWxsfSBpbnN0YW5jZS5cbiAqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNsYXNzIFBlcm1pc3Npb25zQ29udGV4dCB7XG4gIHByaXZhdGUgcGVybWlzc2lvbnM6IE93bkNhcGFiaWxpdHlbXSA9IFtdO1xuICBwcml2YXRlIHNldHRpbmdzPzogQ2FsbFNldHRpbmdzUmVzcG9uc2U7XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIHBlcm1pc3Npb25zIGZvciB0aGUgY3VycmVudCB1c2VyLlxuICAgKlxuICAgKiBAcGFyYW0gcGVybWlzc2lvbnMgdGhlIHBlcm1pc3Npb25zIHRvIHNldC5cbiAgICovXG4gIHNldFBlcm1pc3Npb25zID0gKHBlcm1pc3Npb25zOiBPd25DYXBhYmlsaXR5W10pID0+IHtcbiAgICB0aGlzLnBlcm1pc3Npb25zID0gcGVybWlzc2lvbnMgfHwgW107XG4gIH07XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIHNldHRpbmdzIGZvciB0aGUgYm91bmQgY2FsbC5cbiAgICogQHBhcmFtIHNldHRpbmdzXG4gICAqL1xuICBzZXRDYWxsU2V0dGluZ3MgPSAoc2V0dGluZ3M6IENhbGxTZXR0aW5nc1Jlc3BvbnNlKSA9PiB7XG4gICAgdGhpcy5zZXR0aW5ncyA9IHNldHRpbmdzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgdGhlIGN1cnJlbnQgdXNlciBoYXMgYSBzcGVjaWZpYyBwZXJtaXNzaW9uLlxuICAgKlxuICAgKiBAcGFyYW0gcGVybWlzc2lvbiB0aGUgcGVybWlzc2lvbiB0byBjaGVjayBmb3IuXG4gICAqL1xuICBoYXNQZXJtaXNzaW9uID0gKHBlcm1pc3Npb246IE93bkNhcGFiaWxpdHkpID0+IHtcbiAgICByZXR1cm4gdGhpcy5wZXJtaXNzaW9ucy5pbmNsdWRlcyhwZXJtaXNzaW9uKTtcbiAgfTtcblxuICAvKipcbiAgICogQ2hlY2tzIGlmIHRoZSBjdXJyZW50IHVzZXIgY2FuIHJlcXVlc3QgYSBzcGVjaWZpYyBwZXJtaXNzaW9uXG4gICAqIHdpdGhpbiB0aGUgY2FsbC5cbiAgICpcbiAgICogQHBhcmFtIHBlcm1pc3Npb24gdGhlIHBlcm1pc3Npb24gdG8gY2hlY2sgZm9yLlxuICAgKiBAcGFyYW0gc2V0dGluZ3MgdGhlIGNhbGwgc2V0dGluZ3MgdG8gY2hlY2sgYWdhaW5zdCAob3B0aW9uYWwpLlxuICAgKi9cbiAgY2FuUmVxdWVzdCA9IChcbiAgICBwZXJtaXNzaW9uOiBPd25DYXBhYmlsaXR5LFxuICAgIHNldHRpbmdzOiBDYWxsU2V0dGluZ3NSZXNwb25zZSB8IHVuZGVmaW5lZCA9IHRoaXMuc2V0dGluZ3MsXG4gICkgPT4ge1xuICAgIGlmICghc2V0dGluZ3MpIHJldHVybiBmYWxzZTtcblxuICAgIGNvbnN0IHsgYXVkaW8sIHZpZGVvLCBzY3JlZW5zaGFyaW5nIH0gPSBzZXR0aW5ncztcbiAgICBzd2l0Y2ggKHBlcm1pc3Npb24pIHtcbiAgICAgIGNhc2UgT3duQ2FwYWJpbGl0eS5TRU5EX0FVRElPOlxuICAgICAgICByZXR1cm4gYXVkaW8uYWNjZXNzX3JlcXVlc3RfZW5hYmxlZDtcbiAgICAgIGNhc2UgT3duQ2FwYWJpbGl0eS5TRU5EX1ZJREVPOlxuICAgICAgICByZXR1cm4gdmlkZW8uYWNjZXNzX3JlcXVlc3RfZW5hYmxlZDtcbiAgICAgIGNhc2UgT3duQ2FwYWJpbGl0eS5TQ1JFRU5TSEFSRTpcbiAgICAgICAgcmV0dXJuIHNjcmVlbnNoYXJpbmcuYWNjZXNzX3JlcXVlc3RfZW5hYmxlZDtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH07XG59XG4iLCJpbXBvcnQgeyBTdHJlYW1WaWRlb1BhcnRpY2lwYW50IH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQge1xuICBDb21wYXJhdG9yLFxuICBkZWZhdWx0U29ydFByZXNldCxcbiAgbGl2ZXN0cmVhbU9yQXVkaW9Sb29tU29ydFByZXNldCxcbn0gZnJvbSAnLi9zb3J0aW5nJztcblxuLyoqXG4gKiBUaGUgb3B0aW9ucyBmb3IgYSB7QGxpbmsgQ2FsbFR5cGV9LlxuICovXG5leHBvcnQgdHlwZSBDYWxsVHlwZU9wdGlvbnMgPSB7XG4gIC8qKlxuICAgKiBUaGUge0BsaW5rIENvbXBhcmF0b3J9IHRvIHVzZSB0byBzb3J0aW5nIHRoZSBwYXJ0aWNpcGFudHMgaW4gdGhlIGNhbGwuXG4gICAqL1xuICBzb3J0UGFydGljaXBhbnRzQnk/OiBDb21wYXJhdG9yPFN0cmVhbVZpZGVvUGFydGljaXBhbnQ+O1xufTtcblxuLyoqXG4gKiBSZXByZXNlbnRzIGEgY2FsbCB0eXBlLlxuICovXG5leHBvcnQgY2xhc3MgQ2FsbFR5cGUge1xuICAvKipcbiAgICogVGhlIG5hbWUgb2YgdGhlIGNhbGwgdHlwZS5cbiAgICovXG4gIG5hbWU6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIG9wdGlvbnMgZm9yIHRoZSBjYWxsIHR5cGUuXG4gICAqL1xuICBvcHRpb25zOiBDYWxsVHlwZU9wdGlvbnM7XG5cbiAgLyoqXG4gICAqIENvbnN0cnVjdHMgYSBuZXcgQ2FsbFR5cGUuXG4gICAqXG4gICAqIEBwYXJhbSBuYW1lIHRoZSBuYW1lIG9mIHRoZSBjYWxsIHR5cGUuXG4gICAqIEBwYXJhbSBvcHRpb25zIHRoZSBvcHRpb25zIGZvciB0aGUgY2FsbCB0eXBlLlxuICAgKi9cbiAgY29uc3RydWN0b3IoXG4gICAgbmFtZTogc3RyaW5nLFxuICAgIG9wdGlvbnM6IENhbGxUeXBlT3B0aW9ucyA9IHtcbiAgICAgIHNvcnRQYXJ0aWNpcGFudHNCeTogZGVmYXVsdFNvcnRQcmVzZXQsXG4gICAgfSxcbiAgKSB7XG4gICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICB9XG59XG5cbi8qKlxuICogQSByZWdpc3RyeSBvZiB7QGxpbmsgQ2FsbFR5cGV9cy5cbiAqIFlvdSBjYW4gcmVnaXN0ZXIgYW5kIHVucmVnaXN0ZXIgY2FsbCB0eXBlcy5cbiAqL1xuY2xhc3MgQ2FsbFR5cGVzUmVnaXN0cnkge1xuICAvKipcbiAgICogVGhlIGNhbGwgdHlwZXMgcmVnaXN0ZXJlZCBpbiB0aGlzIHJlZ2lzdHJ5LlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgcHJpdmF0ZSByZWFkb25seSBjYWxsVHlwZXM6IHsgW2tleTogc3RyaW5nXTogQ2FsbFR5cGUgfTtcblxuICAvKipcbiAgICogQ29uc3RydWN0cyBhIG5ldyBDYWxsVHlwZXNSZWdpc3RyeS5cbiAgICpcbiAgICogQHBhcmFtIGNhbGxUeXBlcyB0aGUgaW5pdGlhbCBjYWxsIHR5cGVzIHRvIHJlZ2lzdGVyLlxuICAgKi9cbiAgY29uc3RydWN0b3IoY2FsbFR5cGVzOiBDYWxsVHlwZVtdKSB7XG4gICAgdGhpcy5jYWxsVHlwZXMgPSBjYWxsVHlwZXMucmVkdWNlPHsgW2tleTogc3RyaW5nXTogQ2FsbFR5cGUgfT4oXG4gICAgICAoYWNjLCBjYWxsVHlwZSkgPT4ge1xuICAgICAgICBhY2NbY2FsbFR5cGUubmFtZV0gPSBjYWxsVHlwZTtcbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgIH0sXG4gICAgICB7fSxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlZ2lzdGVycyBhIG5ldyBjYWxsIHR5cGUuXG4gICAqXG4gICAqIEBwYXJhbSBjYWxsVHlwZSB0aGUgY2FsbCB0eXBlIHRvIHJlZ2lzdGVyLlxuICAgKi9cbiAgcmVnaXN0ZXIgPSAoY2FsbFR5cGU6IENhbGxUeXBlKSA9PiB7XG4gICAgdGhpcy5jYWxsVHlwZXNbY2FsbFR5cGUubmFtZV0gPSBjYWxsVHlwZTtcbiAgfTtcblxuICAvKipcbiAgICogVW5yZWdpc3RlcnMgYSBjYWxsIHR5cGUuXG4gICAqXG4gICAqIEBwYXJhbSBuYW1lIHRoZSBuYW1lIG9mIHRoZSBjYWxsIHR5cGUgdG8gdW5yZWdpc3Rlci5cbiAgICovXG4gIHVucmVnaXN0ZXIgPSAobmFtZTogc3RyaW5nKSA9PiB7XG4gICAgZGVsZXRlIHRoaXMuY2FsbFR5cGVzW25hbWVdO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXRzIGEgY2FsbCB0eXBlIGJ5IG5hbWUuXG4gICAqXG4gICAqIEBwYXJhbSBuYW1lIHRoZSBuYW1lIG9mIHRoZSBjYWxsIHR5cGUgdG8gZ2V0LlxuICAgKi9cbiAgZ2V0ID0gKG5hbWU6IHN0cmluZyk6IENhbGxUeXBlID0+IHtcbiAgICBpZiAoIXRoaXMuY2FsbFR5cGVzW25hbWVdKSB7XG4gICAgICB0aGlzLnJlZ2lzdGVyKG5ldyBDYWxsVHlwZShuYW1lKSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmNhbGxUeXBlc1tuYW1lXTtcbiAgfTtcbn1cblxuLyoqXG4gKiBUaGUgZGVmYXVsdCBjYWxsIHR5cGVzIHJlZ2lzdHJ5LlxuICogWW91IGNhbiB1c2UgdGhpcyBpbnN0YW5jZSB0byBkeW5hbWljYWxseSByZWdpc3RlciBhbmQgdW5yZWdpc3RlciBjYWxsIHR5cGVzLlxuICovXG5leHBvcnQgY29uc3QgQ2FsbFR5cGVzID0gbmV3IENhbGxUeXBlc1JlZ2lzdHJ5KFtcbiAgbmV3IENhbGxUeXBlKCdkZWZhdWx0Jywge1xuICAgIHNvcnRQYXJ0aWNpcGFudHNCeTogZGVmYXVsdFNvcnRQcmVzZXQsXG4gIH0pLFxuICBuZXcgQ2FsbFR5cGUoJ2RldmVsb3BtZW50Jywge1xuICAgIHNvcnRQYXJ0aWNpcGFudHNCeTogZGVmYXVsdFNvcnRQcmVzZXQsXG4gIH0pLFxuICBuZXcgQ2FsbFR5cGUoJ2xpdmVzdHJlYW0nLCB7XG4gICAgc29ydFBhcnRpY2lwYW50c0J5OiBsaXZlc3RyZWFtT3JBdWRpb1Jvb21Tb3J0UHJlc2V0LFxuICB9KSxcbiAgbmV3IENhbGxUeXBlKCdhdWRpb19yb29tJywge1xuICAgIHNvcnRQYXJ0aWNpcGFudHNCeTogbGl2ZXN0cmVhbU9yQXVkaW9Sb29tU29ydFByZXNldCxcbiAgfSksXG5dKTtcbiIsImltcG9ydCB7IGZyb21FdmVudFBhdHRlcm4sIG1hcCB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgaXNSZWFjdE5hdGl2ZSB9IGZyb20gJy4uL2hlbHBlcnMvcGxhdGZvcm1zJztcbmltcG9ydCB7IGdldExvZ2dlciB9IGZyb20gJy4uL2xvZ2dlcic7XG5pbXBvcnQgeyBkaXNwb3NlT2ZNZWRpYVN0cmVhbSB9IGZyb20gJy4vZGV2aWNlcyc7XG5pbXBvcnQgeyB3aXRob3V0Q29uY3VycmVuY3kgfSBmcm9tICcuLi9oZWxwZXJzL2NvbmN1cnJlbmN5JztcblxuaW50ZXJmYWNlIEJyb3dzZXJQZXJtaXNzaW9uQ29uZmlnIHtcbiAgY29uc3RyYWludHM6IERpc3BsYXlNZWRpYVN0cmVhbU9wdGlvbnM7XG4gIHF1ZXJ5TmFtZTogUGVybWlzc2lvbk5hbWU7XG59XG5cbmV4cG9ydCBjbGFzcyBCcm93c2VyUGVybWlzc2lvbiB7XG4gIHByaXZhdGUgcmVhZHk6IFByb21pc2U8dm9pZD47XG4gIHByaXZhdGUgZGlzcG9zZUNvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gIHByaXZhdGUgc3RhdGU6IFBlcm1pc3Npb25TdGF0ZSB8IHVuZGVmaW5lZDtcbiAgcHJpdmF0ZSB3YXNQcm9tcHRlZDogYm9vbGVhbiA9IGZhbHNlO1xuICBwcml2YXRlIGxpc3RlbmVycyA9IG5ldyBTZXQ8KHN0YXRlOiBQZXJtaXNzaW9uU3RhdGUpID0+IHZvaWQ+KCk7XG4gIHByaXZhdGUgbG9nZ2VyID0gZ2V0TG9nZ2VyKFsncGVybWlzc2lvbnMnXSk7XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSBwZXJtaXNzaW9uOiBCcm93c2VyUGVybWlzc2lvbkNvbmZpZykge1xuICAgIGNvbnN0IHNpZ25hbCA9IHRoaXMuZGlzcG9zZUNvbnRyb2xsZXIuc2lnbmFsO1xuXG4gICAgdGhpcy5yZWFkeSA9IChhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBhc3N1bWVHcmFudGVkID0gKGVycm9yPzogdW5rbm93bikgPT4ge1xuICAgICAgICB0aGlzLnNldFN0YXRlKCdwcm9tcHQnKTtcbiAgICAgIH07XG5cbiAgICAgIGlmICghY2FuUXVlcnlQZXJtaXNzaW9ucygpKSB7XG4gICAgICAgIHJldHVybiBhc3N1bWVHcmFudGVkKCk7XG4gICAgICB9XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHN0YXR1cyA9IGF3YWl0IG5hdmlnYXRvci5wZXJtaXNzaW9ucy5xdWVyeSh7XG4gICAgICAgICAgbmFtZTogcGVybWlzc2lvbi5xdWVyeU5hbWUsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICghc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHN0YXR1cy5zdGF0ZSk7XG4gICAgICAgICAgc3RhdHVzLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHRoaXMuc2V0U3RhdGUoc3RhdHVzLnN0YXRlKSwge1xuICAgICAgICAgICAgc2lnbmFsLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgYXNzdW1lR3JhbnRlZChlcnIpO1xuICAgICAgfVxuICAgIH0pKCk7XG4gIH1cblxuICBkaXNwb3NlKCkge1xuICAgIHRoaXMuc3RhdGUgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5kaXNwb3NlQ29udHJvbGxlci5hYm9ydCgpO1xuICB9XG5cbiAgYXN5bmMgZ2V0U3RhdGUoKSB7XG4gICAgYXdhaXQgdGhpcy5yZWFkeTtcbiAgICBpZiAoIXRoaXMuc3RhdGUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQnJvd3NlclBlcm1pc3Npb24gaW5zdGFuY2UgcG9zc2libHkgZGlzcG9zZWQnKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc3RhdGU7XG4gIH1cblxuICBhc3luYyBwcm9tcHQoe1xuICAgIGZvcmNlUHJvbXB0ID0gZmFsc2UsXG4gICAgdGhyb3dPbk5vdEFsbG93ZWQgPSBmYWxzZSxcbiAgfTogeyBmb3JjZVByb21wdD86IGJvb2xlYW47IHRocm93T25Ob3RBbGxvd2VkPzogYm9vbGVhbiB9ID0ge30pIHtcbiAgICByZXR1cm4gYXdhaXQgd2l0aG91dENvbmN1cnJlbmN5KFxuICAgICAgYHBlcm1pc3Npb24tcHJvbXB0LSR7dGhpcy5wZXJtaXNzaW9uLnF1ZXJ5TmFtZX1gLFxuICAgICAgYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgKGF3YWl0IHRoaXMuZ2V0U3RhdGUoKSkgIT09ICdwcm9tcHQnIHx8XG4gICAgICAgICAgKHRoaXMud2FzUHJvbXB0ZWQgJiYgIWZvcmNlUHJvbXB0KVxuICAgICAgICApIHtcbiAgICAgICAgICBjb25zdCBpc0dyYW50ZWQgPSB0aGlzLnN0YXRlID09PSAnZ3JhbnRlZCc7XG5cbiAgICAgICAgICBpZiAoIWlzR3JhbnRlZCAmJiB0aHJvd09uTm90QWxsb3dlZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgICAnUGVybWlzc2lvbiB3YXMgbm90IGdyYW50ZWQgcHJldmlvdXNseSwgYW5kIHByb21wdGluZyBhZ2FpbiBpcyBub3QgYWxsb3dlZCcsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBpc0dyYW50ZWQ7XG4gICAgICAgIH1cblxuICAgICAgICB0cnkge1xuICAgICAgICAgIHRoaXMud2FzUHJvbXB0ZWQgPSB0cnVlO1xuICAgICAgICAgIGNvbnN0IHN0cmVhbSA9IGF3YWl0IG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKFxuICAgICAgICAgICAgdGhpcy5wZXJtaXNzaW9uLmNvbnN0cmFpbnRzLFxuICAgICAgICAgICk7XG4gICAgICAgICAgZGlzcG9zZU9mTWVkaWFTdHJlYW0oc3RyZWFtKTtcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKCdncmFudGVkJyk7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBlICYmXG4gICAgICAgICAgICB0eXBlb2YgZSA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgICAgICduYW1lJyBpbiBlICYmXG4gICAgICAgICAgICAoZS5uYW1lID09PSAnTm90QWxsb3dlZEVycm9yJyB8fCBlLm5hbWUgPT09ICdTZWN1cml0eUVycm9yJylcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyKCdpbmZvJywgJ0Jyb3dzZXIgcGVybWlzc2lvbiB3YXMgbm90IGdyYW50ZWQnLCB7XG4gICAgICAgICAgICAgIHBlcm1pc3Npb246IHRoaXMucGVybWlzc2lvbixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSgnZGVuaWVkJyk7XG5cbiAgICAgICAgICAgIGlmICh0aHJvd09uTm90QWxsb3dlZCkge1xuICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdGhpcy5sb2dnZXIoJ2Vycm9yJywgYEZhaWxlZCB0byBnZXRVc2VyTWVkaWFgLCB7XG4gICAgICAgICAgICBlcnJvcjogZSxcbiAgICAgICAgICAgIHBlcm1pc3Npb246IHRoaXMucGVybWlzc2lvbixcbiAgICAgICAgICB9KTtcbiAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICk7XG4gIH1cblxuICBsaXN0ZW4oY2I6IChzdGF0ZTogUGVybWlzc2lvblN0YXRlKSA9PiB2b2lkKSB7XG4gICAgdGhpcy5saXN0ZW5lcnMuYWRkKGNiKTtcbiAgICBpZiAodGhpcy5zdGF0ZSkgY2IodGhpcy5zdGF0ZSk7XG4gICAgcmV0dXJuICgpID0+IHRoaXMubGlzdGVuZXJzLmRlbGV0ZShjYik7XG4gIH1cblxuICBhc09ic2VydmFibGUoKSB7XG4gICAgcmV0dXJuIGZyb21FdmVudFBhdHRlcm48UGVybWlzc2lvblN0YXRlPihcbiAgICAgIChoYW5kbGVyKSA9PiB0aGlzLmxpc3RlbihoYW5kbGVyKSxcbiAgICAgIChoYW5kbGVyLCB1bmxpc3RlbikgPT4gdW5saXN0ZW4oKSxcbiAgICApLnBpcGUoXG4gICAgICAvLyBJbiBzb21lIGJyb3dzZXJzLCB0aGUgJ2NoYW5nZScgZXZlbnQgZG9lc24ndCByZWxpYWJseSBlbWl0IGFuZCBoZW5jZSxcbiAgICAgIC8vIHBlcm1pc3Npb25TdGF0ZSBzdGF5cyBpbiAncHJvbXB0JyBzdGF0ZSBmb3JldmVyLlxuICAgICAgLy8gVHlwaWNhbGx5LCB0aGlzIGhhcHBlbnMgd2hlbiBhIHVzZXIgZ3JhbnRzIG9uZS10aW1lIHBlcm1pc3Npb24uXG4gICAgICAvLyBJbnN0ZWFkIG9mIGNoZWNraW5nIGlmIGEgcGVybWlzc2lvbiBpcyBncmFudGVkLCB3ZSBjaGVjayBpZiBpdCBpc24ndCBkZW5pZWRcbiAgICAgIG1hcCgoc3RhdGUpID0+IHN0YXRlICE9PSAnZGVuaWVkJyksXG4gICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgc2V0U3RhdGUoc3RhdGU6IFBlcm1pc3Npb25TdGF0ZSkge1xuICAgIGlmICh0aGlzLnN0YXRlICE9PSBzdGF0ZSkge1xuICAgICAgdGhpcy5zdGF0ZSA9IHN0YXRlO1xuICAgICAgdGhpcy5saXN0ZW5lcnMuZm9yRWFjaCgobGlzdGVuZXIpID0+IGxpc3RlbmVyKHN0YXRlKSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGNhblF1ZXJ5UGVybWlzc2lvbnMoKSB7XG4gIHJldHVybiAoXG4gICAgIWlzUmVhY3ROYXRpdmUoKSAmJlxuICAgIHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmXG4gICAgISFuYXZpZ2F0b3IucGVybWlzc2lvbnM/LnF1ZXJ5XG4gICk7XG59XG4iLCJpbXBvcnQge1xuICBjb25jYXRNYXAsXG4gIGRlYm91bmNlVGltZSxcbiAgZnJvbSxcbiAgZnJvbUV2ZW50LFxuICBtYXAsXG4gIG1lcmdlLFxuICBzaGFyZVJlcGxheSxcbiAgc3RhcnRXaXRoLFxufSBmcm9tICdyeGpzJztcbmltcG9ydCB7IGdldExvZ2dlciB9IGZyb20gJy4uL2xvZ2dlcic7XG5pbXBvcnQgeyBCcm93c2VyUGVybWlzc2lvbiB9IGZyb20gJy4vQnJvd3NlclBlcm1pc3Npb24nO1xuaW1wb3J0IHsgbGF6eSB9IGZyb20gJy4uL2hlbHBlcnMvbGF6eSc7XG5pbXBvcnQgeyBpc0ZpcmVmb3ggfSBmcm9tICcuLi9oZWxwZXJzL2Jyb3dzZXJzJztcblxuLyoqXG4gKiBSZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCBlbWl0cyB0aGUgbGlzdCBvZiBhdmFpbGFibGUgZGV2aWNlc1xuICogdGhhdCBtZWV0IHRoZSBnaXZlbiBjb25zdHJhaW50cy5cbiAqXG4gKiBAcGFyYW0gcGVybWlzc2lvbiBhIEJyb3dzZXJQZXJtaXNzaW9uIGluc3RhbmNlLlxuICogQHBhcmFtIGtpbmQgdGhlIGtpbmQgb2YgZGV2aWNlcyB0byBlbnVtZXJhdGUuXG4gKi9cbmNvbnN0IGdldERldmljZXMgPSAocGVybWlzc2lvbjogQnJvd3NlclBlcm1pc3Npb24sIGtpbmQ6IE1lZGlhRGV2aWNlS2luZCkgPT4ge1xuICByZXR1cm4gZnJvbShcbiAgICAoYXN5bmMgKCkgPT4ge1xuICAgICAgbGV0IGRldmljZXMgPSBhd2FpdCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmVudW1lcmF0ZURldmljZXMoKTtcbiAgICAgIC8vIGZvciBwcml2YWN5IHJlYXNvbnMsIG1vc3QgYnJvd3NlcnMgZG9uJ3QgZ2l2ZSB5b3UgZGV2aWNlIGxhYmVsc1xuICAgICAgLy8gdW5sZXNzIHlvdSBoYXZlIGEgY29ycmVzcG9uZGluZyBjYW1lcmEgb3IgbWljcm9waG9uZSBwZXJtaXNzaW9uXG4gICAgICBjb25zdCBzaG91bGRQcm9tcHRGb3JCcm93c2VyUGVybWlzc2lvbiA9IGRldmljZXMuc29tZShcbiAgICAgICAgKGRldmljZSkgPT4gZGV2aWNlLmtpbmQgPT09IGtpbmQgJiYgZGV2aWNlLmxhYmVsID09PSAnJyxcbiAgICAgICk7XG4gICAgICBpZiAoc2hvdWxkUHJvbXB0Rm9yQnJvd3NlclBlcm1pc3Npb24gJiYgKGF3YWl0IHBlcm1pc3Npb24ucHJvbXB0KCkpKSB7XG4gICAgICAgIGRldmljZXMgPSBhd2FpdCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmVudW1lcmF0ZURldmljZXMoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBkZXZpY2VzLmZpbHRlcihcbiAgICAgICAgKGRldmljZSkgPT5cbiAgICAgICAgICBkZXZpY2Uua2luZCA9PT0ga2luZCAmJlxuICAgICAgICAgIGRldmljZS5sYWJlbCAhPT0gJycgJiZcbiAgICAgICAgICBkZXZpY2UuZGV2aWNlSWQgIT09ICdkZWZhdWx0JyxcbiAgICAgICk7XG4gICAgfSkoKSxcbiAgKTtcbn07XG5cbi8qKlxuICogVGVsbHMgaWYgdGhlIGJyb3dzZXIgc3VwcG9ydHMgYXVkaW8gb3V0cHV0IGNoYW5nZSBvbiAnYXVkaW8nIGVsZW1lbnRzLFxuICogc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9IVE1MTWVkaWFFbGVtZW50L3NldFNpbmtJZC5cbiAqL1xuZXhwb3J0IGNvbnN0IGNoZWNrSWZBdWRpb091dHB1dENoYW5nZVN1cHBvcnRlZCA9ICgpID0+IHtcbiAgaWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybiBmYWxzZTtcbiAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2F1ZGlvJyk7XG4gIHJldHVybiAnc2V0U2lua0lkJyBpbiBlbGVtZW50O1xufTtcblxuLyoqXG4gKiBUaGUgZGVmYXVsdCBjb25zdHJhaW50cyB1c2VkIHRvIHJlcXVlc3QgYXVkaW8gZGV2aWNlcy5cbiAqL1xuY29uc3QgYXVkaW9EZXZpY2VDb25zdHJhaW50cyA9IHtcbiAgYXVkaW86IHtcbiAgICBhdXRvR2FpbkNvbnRyb2w6IHRydWUsXG4gICAgbm9pc2VTdXBwcmVzc2lvbjogdHJ1ZSxcbiAgICBlY2hvQ2FuY2VsbGF0aW9uOiB0cnVlLFxuICB9LFxufSBzYXRpc2ZpZXMgTWVkaWFTdHJlYW1Db25zdHJhaW50cztcblxuLyoqXG4gKiBUaGUgZGVmYXVsdCBjb25zdHJhaW50cyB1c2VkIHRvIHJlcXVlc3QgdmlkZW8gZGV2aWNlcy5cbiAqL1xuY29uc3QgdmlkZW9EZXZpY2VDb25zdHJhaW50cyA9IHtcbiAgdmlkZW86IHtcbiAgICB3aWR0aDogMTI4MCxcbiAgICBoZWlnaHQ6IDcyMCxcbiAgfSxcbn0gc2F0aXNmaWVzIE1lZGlhU3RyZWFtQ29uc3RyYWludHM7XG5cbi8qKlxuICogS2VlcHMgdHJhY2sgb2YgdGhlIGJyb3dzZXIgcGVybWlzc2lvbiB0byB1c2UgbWljcm9waG9uZS4gVGhpcyBwZXJtaXNzaW9uIGFsc29cbiAqIGFmZmVjdHMgYW4gYWJpbGl0eSB0byBlbnVtZXJhdGUgYXVkaW8gZGV2aWNlcy5cbiAqL1xuZXhwb3J0IGNvbnN0IGdldEF1ZGlvQnJvd3NlclBlcm1pc3Npb24gPSBsYXp5KFxuICAoKSA9PlxuICAgIG5ldyBCcm93c2VyUGVybWlzc2lvbih7XG4gICAgICBjb25zdHJhaW50czogYXVkaW9EZXZpY2VDb25zdHJhaW50cyxcbiAgICAgIHF1ZXJ5TmFtZTogJ21pY3JvcGhvbmUnIGFzIFBlcm1pc3Npb25OYW1lLFxuICAgIH0pLFxuKTtcblxuLyoqXG4gKiBLZWVwcyB0cmFjayBvZiB0aGUgYnJvd3NlciBwZXJtaXNzaW9uIHRvIHVzZSBjYW1lcmEuIFRoaXMgcGVybWlzc2lvbiBhbHNvXG4gKiBhZmZlY3RzIGFuIGFiaWxpdHkgdG8gZW51bWVyYXRlIHZpZGVvIGRldmljZXMuXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRWaWRlb0Jyb3dzZXJQZXJtaXNzaW9uID0gbGF6eShcbiAgKCkgPT5cbiAgICBuZXcgQnJvd3NlclBlcm1pc3Npb24oe1xuICAgICAgY29uc3RyYWludHM6IHZpZGVvRGV2aWNlQ29uc3RyYWludHMsXG4gICAgICBxdWVyeU5hbWU6ICdjYW1lcmEnIGFzIFBlcm1pc3Npb25OYW1lLFxuICAgIH0pLFxuKTtcblxuY29uc3QgZ2V0RGV2aWNlQ2hhbmdlT2JzZXJ2ZXIgPSBsYXp5KCgpID0+IHtcbiAgLy8gJ2FkZEV2ZW50TGlzdGVuZXInIGlzIG5vdCBhdmFpbGFibGUgaW4gUmVhY3QgTmF0aXZlLCByZXR1cm5pbmdcbiAgLy8gYW4gb2JzZXJ2YWJsZSB0aGF0IHdpbGwgbmV2ZXIgZmlyZVxuICBpZiAoIW5hdmlnYXRvci5tZWRpYURldmljZXMuYWRkRXZlbnRMaXN0ZW5lcikgcmV0dXJuIGZyb20oW10pO1xuICByZXR1cm4gZnJvbUV2ZW50KG5hdmlnYXRvci5tZWRpYURldmljZXMsICdkZXZpY2VjaGFuZ2UnKS5waXBlKFxuICAgIG1hcCgoKSA9PiB1bmRlZmluZWQpLFxuICAgIGRlYm91bmNlVGltZSg1MDApLFxuICApO1xufSk7XG5cbi8qKlxuICogUHJvbXB0cyB0aGUgdXNlciBmb3IgYSBwZXJtaXNzaW9uIHRvIHVzZSBhdWRpbyBkZXZpY2VzIChpZiBub3QgYWxyZWFkeSBncmFudGVkXG4gKiBhbmQgd2FzIG5vdCBwcm9tcHRlZCBiZWZvcmUpIGFuZCBsaXN0cyB0aGUgYXZhaWxhYmxlICdhdWRpb2lucHV0JyBkZXZpY2VzLFxuICogaWYgZGV2aWNlcyBhcmUgYWRkZWQvcmVtb3ZlZCB0aGUgbGlzdCBpcyB1cGRhdGVkLCBhbmQgaWYgdGhlIHBlcm1pc3Npb24gaXMgcmV2b2tlZCxcbiAqIHRoZSBvYnNlcnZhYmxlIGVycm9ycy5cbiAqL1xuZXhwb3J0IGNvbnN0IGdldEF1ZGlvRGV2aWNlcyA9IGxhenkoKCkgPT4ge1xuICByZXR1cm4gbWVyZ2UoXG4gICAgZ2V0RGV2aWNlQ2hhbmdlT2JzZXJ2ZXIoKSxcbiAgICBnZXRBdWRpb0Jyb3dzZXJQZXJtaXNzaW9uKCkuYXNPYnNlcnZhYmxlKCksXG4gICkucGlwZShcbiAgICBzdGFydFdpdGgodW5kZWZpbmVkKSxcbiAgICBjb25jYXRNYXAoKCkgPT4gZ2V0RGV2aWNlcyhnZXRBdWRpb0Jyb3dzZXJQZXJtaXNzaW9uKCksICdhdWRpb2lucHV0JykpLFxuICAgIHNoYXJlUmVwbGF5KDEpLFxuICApO1xufSk7XG5cbi8qKlxuICogUHJvbXB0cyB0aGUgdXNlciBmb3IgYSBwZXJtaXNzaW9uIHRvIHVzZSB2aWRlbyBkZXZpY2VzIChpZiBub3QgYWxyZWFkeSBncmFudGVkXG4gKiBhbmQgd2FzIG5vdCBwcm9tcHRlZCBiZWZvcmUpIGFuZCBsaXN0cyB0aGUgYXZhaWxhYmxlICd2aWRlb2lucHV0JyBkZXZpY2VzLFxuICogaWYgZGV2aWNlcyBhcmUgYWRkZWQvcmVtb3ZlZCB0aGUgbGlzdCBpcyB1cGRhdGVkLCBhbmQgaWYgdGhlIHBlcm1pc3Npb24gaXMgcmV2b2tlZCxcbiAqIHRoZSBvYnNlcnZhYmxlIGVycm9ycy5cbiAqL1xuZXhwb3J0IGNvbnN0IGdldFZpZGVvRGV2aWNlcyA9IGxhenkoKCkgPT4ge1xuICByZXR1cm4gbWVyZ2UoXG4gICAgZ2V0RGV2aWNlQ2hhbmdlT2JzZXJ2ZXIoKSxcbiAgICBnZXRWaWRlb0Jyb3dzZXJQZXJtaXNzaW9uKCkuYXNPYnNlcnZhYmxlKCksXG4gICkucGlwZShcbiAgICBzdGFydFdpdGgodW5kZWZpbmVkKSxcbiAgICBjb25jYXRNYXAoKCkgPT4gZ2V0RGV2aWNlcyhnZXRWaWRlb0Jyb3dzZXJQZXJtaXNzaW9uKCksICd2aWRlb2lucHV0JykpLFxuICAgIHNoYXJlUmVwbGF5KDEpLFxuICApO1xufSk7XG5cbi8qKlxuICogUHJvbXB0cyB0aGUgdXNlciBmb3IgYSBwZXJtaXNzaW9uIHRvIHVzZSB2aWRlbyBkZXZpY2VzIChpZiBub3QgYWxyZWFkeSBncmFudGVkXG4gKiBhbmQgd2FzIG5vdCBwcm9tcHRlZCBiZWZvcmUpIGFuZCBsaXN0cyB0aGUgYXZhaWxhYmxlICdhdWRpb291dHB1dCcgZGV2aWNlcyxcbiAqIGlmIGRldmljZXMgYXJlIGFkZGVkL3JlbW92ZWQgdGhlIGxpc3QgaXMgdXBkYXRlZCwgYW5kIGlmIHRoZSBwZXJtaXNzaW9uIGlzIHJldm9rZWQsXG4gKiB0aGUgb2JzZXJ2YWJsZSBlcnJvcnMuXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRBdWRpb091dHB1dERldmljZXMgPSBsYXp5KCgpID0+IHtcbiAgcmV0dXJuIG1lcmdlKFxuICAgIGdldERldmljZUNoYW5nZU9ic2VydmVyKCksXG4gICAgZ2V0QXVkaW9Ccm93c2VyUGVybWlzc2lvbigpLmFzT2JzZXJ2YWJsZSgpLFxuICApLnBpcGUoXG4gICAgc3RhcnRXaXRoKHVuZGVmaW5lZCksXG4gICAgY29uY2F0TWFwKCgpID0+IGdldERldmljZXMoZ2V0QXVkaW9Ccm93c2VyUGVybWlzc2lvbigpLCAnYXVkaW9vdXRwdXQnKSksXG4gICAgc2hhcmVSZXBsYXkoMSksXG4gICk7XG59KTtcblxuY29uc3QgZ2V0U3RyZWFtID0gYXN5bmMgKGNvbnN0cmFpbnRzOiBNZWRpYVN0cmVhbUNvbnN0cmFpbnRzKSA9PiB7XG4gIGNvbnN0IHN0cmVhbSA9IGF3YWl0IG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKGNvbnN0cmFpbnRzKTtcbiAgaWYgKGlzRmlyZWZveCgpKSB7XG4gICAgLy8gV2hlbiBlbnVtZXJhdGluZyBkZXZpY2VzLCBGaXJlZm94IHdpbGwgaGlkZSBkZXZpY2UgbGFiZWxzIHVubGVzcyB0aGVyZSdzIGJlZW5cbiAgICAvLyBhbiBhY3RpdmUgdXNlciBtZWRpYSBzdHJlYW0gb24gdGhlIHBhZ2UuIFNvIHdlIGZvcmNlIGRldmljZSBsaXN0IHVwZGF0ZXMgYWZ0ZXJcbiAgICAvLyBldmVyeSBzdWNjZXNzZnVsIGdldFVzZXJNZWRpYSBjYWxsLlxuICAgIG5hdmlnYXRvci5tZWRpYURldmljZXMuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ2RldmljZWNoYW5nZScpKTtcbiAgfVxuICByZXR1cm4gc3RyZWFtO1xufTtcblxuZnVuY3Rpb24gaXNPdmVyY29uc3RyYWluZWRFcnJvcihlcnJvcjogdW5rbm93bikge1xuICByZXR1cm4gKFxuICAgIGVycm9yICYmXG4gICAgdHlwZW9mIGVycm9yID09PSAnb2JqZWN0JyAmJlxuICAgICgoJ25hbWUnIGluIGVycm9yICYmIGVycm9yLm5hbWUgPT09ICdPdmVyY29uc3RyYWluZWRFcnJvcicpIHx8XG4gICAgICAoJ21lc3NhZ2UnIGluIGVycm9yICYmXG4gICAgICAgIHR5cGVvZiBlcnJvci5tZXNzYWdlID09PSAnc3RyaW5nJyAmJlxuICAgICAgICBlcnJvci5tZXNzYWdlLnN0YXJ0c1dpdGgoJ092ZXJjb25zdHJhaW5lZEVycm9yJykpKVxuICApO1xufVxuXG4vKipcbiAqIFJldHVybnMgYW4gYXVkaW8gbWVkaWEgc3RyZWFtIHRoYXQgZnVsZmlsbHMgdGhlIGdpdmVuIGNvbnN0cmFpbnRzLlxuICogSWYgbm8gY29uc3RyYWludHMgYXJlIHByb3ZpZGVkLCBpdCB1c2VzIHRoZSBicm93c2VyJ3MgZGVmYXVsdCBvbmVzLlxuICpcbiAqIEBhbmd1bGFyIEl0J3MgcmVjb21tZW5kZWQgdG8gdXNlIHRoZSBbYERldmljZU1hbmFnZXJTZXJ2aWNlYF0oLi9EZXZpY2VNYW5hZ2VyU2VydmljZS5tZCkgZm9yIGEgaGlnaGVyIGxldmVsIEFQSSwgdXNlIHRoaXMgbG93LWxldmVsIG1ldGhvZCBvbmx5IGlmIHRoZSBgRGV2aWNlTWFuYWdlclNlcnZpY2VgIGRvZXNuJ3Qgc3VpdCB5b3VyIHJlcXVpcmVtZW50cy5cbiAqIEBwYXJhbSB0cmFja0NvbnN0cmFpbnRzIHRoZSBjb25zdHJhaW50cyB0byB1c2Ugd2hlbiByZXF1ZXN0aW5nIHRoZSBzdHJlYW0uXG4gKiBAcmV0dXJucyB0aGUgbmV3IGBNZWRpYVN0cmVhbWAgZnVsZmlsbGluZyB0aGUgZ2l2ZW4gY29uc3RyYWludHMuXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRBdWRpb1N0cmVhbSA9IGFzeW5jIChcbiAgdHJhY2tDb25zdHJhaW50cz86IE1lZGlhVHJhY2tDb25zdHJhaW50cyxcbik6IFByb21pc2U8TWVkaWFTdHJlYW0+ID0+IHtcbiAgY29uc3QgY29uc3RyYWludHM6IE1lZGlhU3RyZWFtQ29uc3RyYWludHMgPSB7XG4gICAgYXVkaW86IHtcbiAgICAgIC4uLmF1ZGlvRGV2aWNlQ29uc3RyYWludHMuYXVkaW8sXG4gICAgICAuLi50cmFja0NvbnN0cmFpbnRzLFxuICAgIH0sXG4gIH07XG5cbiAgdHJ5IHtcbiAgICBhd2FpdCBnZXRBdWRpb0Jyb3dzZXJQZXJtaXNzaW9uKCkucHJvbXB0KHtcbiAgICAgIHRocm93T25Ob3RBbGxvd2VkOiB0cnVlLFxuICAgICAgZm9yY2VQcm9tcHQ6IHRydWUsXG4gICAgfSk7XG4gICAgcmV0dXJuIGF3YWl0IGdldFN0cmVhbShjb25zdHJhaW50cyk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgaWYgKGlzT3ZlcmNvbnN0cmFpbmVkRXJyb3IoZXJyb3IpICYmIHRyYWNrQ29uc3RyYWludHM/LmRldmljZUlkKSB7XG4gICAgICBjb25zdCB7IGRldmljZUlkLCAuLi5yZWxheGVkQ29uc3RyYWludHMgfSA9IHRyYWNrQ29uc3RyYWludHM7XG4gICAgICBnZXRMb2dnZXIoWydkZXZpY2VzJ10pKFxuICAgICAgICAnd2FybicsXG4gICAgICAgICdGYWlsZWQgdG8gZ2V0IGF1ZGlvIHN0cmVhbSwgd2lsbCB0cnkgYWdhaW4gd2l0aCByZWxheGVkIGNvbnN0cmFpbnRzJyxcbiAgICAgICAgeyBlcnJvciwgY29uc3RyYWludHMsIHJlbGF4ZWRDb25zdHJhaW50cyB9LFxuICAgICAgKTtcbiAgICAgIHJldHVybiBnZXRBdWRpb1N0cmVhbShyZWxheGVkQ29uc3RyYWludHMpO1xuICAgIH1cblxuICAgIGdldExvZ2dlcihbJ2RldmljZXMnXSkoJ2Vycm9yJywgJ0ZhaWxlZCB0byBnZXQgYXVkaW8gc3RyZWFtJywge1xuICAgICAgZXJyb3IsXG4gICAgICBjb25zdHJhaW50cyxcbiAgICB9KTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufTtcblxuLyoqXG4gKiBSZXR1cm5zIGEgdmlkZW8gbWVkaWEgc3RyZWFtIHRoYXQgZnVsZmlsbHMgdGhlIGdpdmVuIGNvbnN0cmFpbnRzLlxuICogSWYgbm8gY29uc3RyYWludHMgYXJlIHByb3ZpZGVkLCBpdCB1c2VzIHRoZSBicm93c2VyJ3MgZGVmYXVsdCBvbmVzLlxuICpcbiAqIEBhbmd1bGFyIEl0J3MgcmVjb21tZW5kZWQgdG8gdXNlIHRoZSBbYERldmljZU1hbmFnZXJTZXJ2aWNlYF0oLi9EZXZpY2VNYW5hZ2VyU2VydmljZS5tZCkgZm9yIGEgaGlnaGVyIGxldmVsIEFQSSwgdXNlIHRoaXMgbG93LWxldmVsIG1ldGhvZCBvbmx5IGlmIHRoZSBgRGV2aWNlTWFuYWdlclNlcnZpY2VgIGRvZXNuJ3Qgc3VpdCB5b3VyIHJlcXVpcmVtZW50cy5cbiAqIEBwYXJhbSB0cmFja0NvbnN0cmFpbnRzIHRoZSBjb25zdHJhaW50cyB0byB1c2Ugd2hlbiByZXF1ZXN0aW5nIHRoZSBzdHJlYW0uXG4gKiBAcmV0dXJucyBhIG5ldyBgTWVkaWFTdHJlYW1gIGZ1bGZpbGxpbmcgdGhlIGdpdmVuIGNvbnN0cmFpbnRzLlxuICovXG5leHBvcnQgY29uc3QgZ2V0VmlkZW9TdHJlYW0gPSBhc3luYyAoXG4gIHRyYWNrQ29uc3RyYWludHM/OiBNZWRpYVRyYWNrQ29uc3RyYWludHMsXG4pOiBQcm9taXNlPE1lZGlhU3RyZWFtPiA9PiB7XG4gIGNvbnN0IGNvbnN0cmFpbnRzOiBNZWRpYVN0cmVhbUNvbnN0cmFpbnRzID0ge1xuICAgIHZpZGVvOiB7XG4gICAgICAuLi52aWRlb0RldmljZUNvbnN0cmFpbnRzLnZpZGVvLFxuICAgICAgLi4udHJhY2tDb25zdHJhaW50cyxcbiAgICB9LFxuICB9O1xuICB0cnkge1xuICAgIGF3YWl0IGdldFZpZGVvQnJvd3NlclBlcm1pc3Npb24oKS5wcm9tcHQoe1xuICAgICAgdGhyb3dPbk5vdEFsbG93ZWQ6IHRydWUsXG4gICAgICBmb3JjZVByb21wdDogdHJ1ZSxcbiAgICB9KTtcbiAgICByZXR1cm4gYXdhaXQgZ2V0U3RyZWFtKGNvbnN0cmFpbnRzKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBpZiAoaXNPdmVyY29uc3RyYWluZWRFcnJvcihlcnJvcikgJiYgdHJhY2tDb25zdHJhaW50cz8uZGV2aWNlSWQpIHtcbiAgICAgIGNvbnN0IHsgZGV2aWNlSWQsIC4uLnJlbGF4ZWRDb25zdHJhaW50cyB9ID0gdHJhY2tDb25zdHJhaW50cztcbiAgICAgIGdldExvZ2dlcihbJ2RldmljZXMnXSkoXG4gICAgICAgICd3YXJuJyxcbiAgICAgICAgJ0ZhaWxlZCB0byBnZXQgdmlkZW8gc3RyZWFtLCB3aWxsIHRyeSBhZ2FpbiB3aXRoIHJlbGF4ZWQgY29uc3RyYWludHMnLFxuICAgICAgICB7IGVycm9yLCBjb25zdHJhaW50cywgcmVsYXhlZENvbnN0cmFpbnRzIH0sXG4gICAgICApO1xuICAgICAgcmV0dXJuIGdldFZpZGVvU3RyZWFtKHJlbGF4ZWRDb25zdHJhaW50cyk7XG4gICAgfVxuXG4gICAgZ2V0TG9nZ2VyKFsnZGV2aWNlcyddKSgnZXJyb3InLCAnRmFpbGVkIHRvIGdldCB2aWRlbyBzdHJlYW0nLCB7XG4gICAgICBlcnJvcixcbiAgICAgIGNvbnN0cmFpbnRzLFxuICAgIH0pO1xuICAgIHRocm93IGVycm9yO1xuICB9XG59O1xuXG4vKipcbiAqIFByb21wdHMgdGhlIHVzZXIgZm9yIGEgcGVybWlzc2lvbiB0byBzaGFyZSBhIHNjcmVlbi5cbiAqIElmIHRoZSB1c2VyIGdyYW50cyB0aGUgcGVybWlzc2lvbiwgYSBzY3JlZW4gc2hhcmluZyBzdHJlYW0gaXMgcmV0dXJuZWQuIFRocm93cyBvdGhlcndpc2UuXG4gKlxuICogVGhlIGNhbGxlcnMgb2YgdGhpcyBBUEkgYXJlIHJlc3BvbnNpYmxlIHRvIGhhbmRsZSB0aGUgcG9zc2libGUgZXJyb3JzLlxuICpcbiAqIEBhbmd1bGFyIEl0J3MgcmVjb21tZW5kZWQgdG8gdXNlIHRoZSBbYERldmljZU1hbmFnZXJTZXJ2aWNlYF0oLi9EZXZpY2VNYW5hZ2VyU2VydmljZS5tZCkgZm9yIGEgaGlnaGVyIGxldmVsIEFQSSwgdXNlIHRoaXMgbG93LWxldmVsIG1ldGhvZCBvbmx5IGlmIHRoZSBgRGV2aWNlTWFuYWdlclNlcnZpY2VgIGRvZXNuJ3Qgc3VpdCB5b3VyIHJlcXVpcmVtZW50cy5cbiAqXG4gKiBAcGFyYW0gb3B0aW9ucyBhbnkgYWRkaXRpb25hbCBvcHRpb25zIHRvIHBhc3MgdG8gdGhlIFtgZ2V0RGlzcGxheU1lZGlhYF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL01lZGlhRGV2aWNlcy9nZXREaXNwbGF5TWVkaWEpIEFQSS5cbiAqL1xuZXhwb3J0IGNvbnN0IGdldFNjcmVlblNoYXJlU3RyZWFtID0gYXN5bmMgKFxuICBvcHRpb25zPzogRGlzcGxheU1lZGlhU3RyZWFtT3B0aW9ucyxcbikgPT4ge1xuICB0cnkge1xuICAgIHJldHVybiBhd2FpdCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldERpc3BsYXlNZWRpYSh7XG4gICAgICB2aWRlbzogdHJ1ZSxcbiAgICAgIGF1ZGlvOiB7XG4gICAgICAgIGNoYW5uZWxDb3VudDoge1xuICAgICAgICAgIGlkZWFsOiAyLFxuICAgICAgICB9LFxuICAgICAgICBlY2hvQ2FuY2VsbGF0aW9uOiBmYWxzZSxcbiAgICAgICAgYXV0b0dhaW5Db250cm9sOiBmYWxzZSxcbiAgICAgICAgbm9pc2VTdXBwcmVzc2lvbjogZmFsc2UsXG4gICAgICB9LFxuICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIG5vdCBwcmVzZW50IGluIHR5cGVzIHlldFxuICAgICAgc3lzdGVtQXVkaW86ICdpbmNsdWRlJyxcbiAgICAgIC4uLm9wdGlvbnMsXG4gICAgfSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBnZXRMb2dnZXIoWydkZXZpY2VzJ10pKCdlcnJvcicsICdGYWlsZWQgdG8gZ2V0IHNjcmVlbiBzaGFyZSBzdHJlYW0nLCBlKTtcbiAgICB0aHJvdyBlO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgZGV2aWNlSWRzJCA9XG4gIHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmXG4gIHR5cGVvZiBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzICE9PSAndW5kZWZpbmVkJ1xuICAgID8gZ2V0RGV2aWNlQ2hhbmdlT2JzZXJ2ZXIoKS5waXBlKFxuICAgICAgICBzdGFydFdpdGgodW5kZWZpbmVkKSxcbiAgICAgICAgY29uY2F0TWFwKCgpID0+IG5hdmlnYXRvci5tZWRpYURldmljZXMuZW51bWVyYXRlRGV2aWNlcygpKSxcbiAgICAgICAgc2hhcmVSZXBsYXkoMSksXG4gICAgICApXG4gICAgOiB1bmRlZmluZWQ7XG5cbi8qKlxuICogRGVhY3RpdmF0ZXMgTWVkaWFTdHJlYW0gKHN0b3BzIGFuZCByZW1vdmVzIHRyYWNrcykgdG8gYmUgbGF0ZXIgZ2FyYmFnZSBjb2xsZWN0ZWRcbiAqXG4gKiBAcGFyYW0gc3RyZWFtIE1lZGlhU3RyZWFtXG4gKiBAcmV0dXJucyB2b2lkXG4gKi9cbmV4cG9ydCBjb25zdCBkaXNwb3NlT2ZNZWRpYVN0cmVhbSA9IChzdHJlYW06IE1lZGlhU3RyZWFtKSA9PiB7XG4gIGlmICghc3RyZWFtLmFjdGl2ZSkgcmV0dXJuO1xuICBzdHJlYW0uZ2V0VHJhY2tzKCkuZm9yRWFjaCgodHJhY2spID0+IHtcbiAgICB0cmFjay5zdG9wKCk7XG4gIH0pO1xuICAvLyBAdHMtZXhwZWN0LWVycm9yIHJlbGVhc2UoKSBpcyBwcmVzZW50IGluIHJlYWN0LW5hdGl2ZS13ZWJydGMgYW5kIG11c3QgYmUgY2FsbGVkIHRvIGRpc3Bvc2UgdGhlIHN0cmVhbVxuICBpZiAodHlwZW9mIHN0cmVhbS5yZWxlYXNlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvclxuICAgIHN0cmVhbS5yZWxlYXNlKCk7XG4gIH1cbn07XG4iLCJpbXBvcnQgeyBjb21iaW5lTGF0ZXN0LCBPYnNlcnZhYmxlLCBwYWlyd2lzZSB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgQ2FsbCB9IGZyb20gJy4uL0NhbGwnO1xuaW1wb3J0IHsgQ2FsbGluZ1N0YXRlIH0gZnJvbSAnLi4vc3RvcmUnO1xuaW1wb3J0IHsgY3JlYXRlU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi4vc3RvcmUvcnhVdGlscyc7XG5pbXBvcnQgeyBJbnB1dE1lZGlhRGV2aWNlTWFuYWdlclN0YXRlIH0gZnJvbSAnLi9JbnB1dE1lZGlhRGV2aWNlTWFuYWdlclN0YXRlJztcbmltcG9ydCB7IGlzUmVhY3ROYXRpdmUgfSBmcm9tICcuLi9oZWxwZXJzL3BsYXRmb3Jtcyc7XG5pbXBvcnQgeyBMb2dnZXIgfSBmcm9tICcuLi9jb29yZGluYXRvci9jb25uZWN0aW9uL3R5cGVzJztcbmltcG9ydCB7IGdldExvZ2dlciB9IGZyb20gJy4uL2xvZ2dlcic7XG5pbXBvcnQgeyBUcmFja1R5cGUgfSBmcm9tICcuLi9nZW4vdmlkZW8vc2Z1L21vZGVscy9tb2RlbHMnO1xuaW1wb3J0IHsgZGV2aWNlSWRzJCB9IGZyb20gJy4vZGV2aWNlcyc7XG5pbXBvcnQge1xuICBzZXR0bGVkLFxuICB3aXRoQ2FuY2VsbGF0aW9uLFxuICB3aXRob3V0Q29uY3VycmVuY3ksXG59IGZyb20gJy4uL2hlbHBlcnMvY29uY3VycmVuY3knO1xuaW1wb3J0IHtcbiAgTWVkaWFTdHJlYW1GaWx0ZXIsXG4gIE1lZGlhU3RyZWFtRmlsdGVyRW50cnksXG4gIE1lZGlhU3RyZWFtRmlsdGVyUmVnaXN0cmF0aW9uUmVzdWx0LFxufSBmcm9tICcuL2ZpbHRlcnMnO1xuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgSW5wdXRNZWRpYURldmljZU1hbmFnZXI8XG4gIFQgZXh0ZW5kcyBJbnB1dE1lZGlhRGV2aWNlTWFuYWdlclN0YXRlPEM+LFxuICBDID0gTWVkaWFUcmFja0NvbnN0cmFpbnRzLFxuPiB7XG4gIC8qKlxuICAgKiBpZiB0cnVlLCBzdG9wcyB0aGUgbWVkaWEgc3RyZWFtIHdoZW4gY2FsbCBpcyBsZWZ0XG4gICAqL1xuICBzdG9wT25MZWF2ZSA9IHRydWU7XG4gIGxvZ2dlcjogTG9nZ2VyO1xuXG4gIHByb3RlY3RlZCBzdWJzY3JpcHRpb25zOiBGdW5jdGlvbltdID0gW107XG4gIHByaXZhdGUgaXNUcmFja1N0b3BwZWREdWVUb1RyYWNrRW5kID0gZmFsc2U7XG4gIHByaXZhdGUgZmlsdGVyczogTWVkaWFTdHJlYW1GaWx0ZXJFbnRyeVtdID0gW107XG4gIHByaXZhdGUgc3RhdHVzQ2hhbmdlQ29uY3VycmVuY3lUYWcgPSBTeW1ib2woJ3N0YXR1c0NoYW5nZUNvbmN1cnJlbmN5VGFnJyk7XG4gIHByaXZhdGUgZmlsdGVyUmVnaXN0cmF0aW9uQ29uY3VycmVuY3lUYWcgPSBTeW1ib2woXG4gICAgJ2ZpbHRlclJlZ2lzdHJhdGlvbkNvbmN1cnJlbmN5VGFnJyxcbiAgKTtcblxuICBwcm90ZWN0ZWQgY29uc3RydWN0b3IoXG4gICAgcHJvdGVjdGVkIHJlYWRvbmx5IGNhbGw6IENhbGwsXG4gICAgcHVibGljIHJlYWRvbmx5IHN0YXRlOiBULFxuICAgIHByb3RlY3RlZCByZWFkb25seSB0cmFja1R5cGU6IFRyYWNrVHlwZSxcbiAgKSB7XG4gICAgdGhpcy5sb2dnZXIgPSBnZXRMb2dnZXIoW2Ake1RyYWNrVHlwZVt0cmFja1R5cGVdLnRvTG93ZXJDYXNlKCl9IG1hbmFnZXJgXSk7XG4gICAgaWYgKFxuICAgICAgZGV2aWNlSWRzJCAmJlxuICAgICAgIWlzUmVhY3ROYXRpdmUoKSAmJlxuICAgICAgKHRoaXMudHJhY2tUeXBlID09PSBUcmFja1R5cGUuQVVESU8gfHwgdGhpcy50cmFja1R5cGUgPT09IFRyYWNrVHlwZS5WSURFTylcbiAgICApIHtcbiAgICAgIHRoaXMuaGFuZGxlRGlzY29ubmVjdGVkT3JSZXBsYWNlZERldmljZXMoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogTGlzdHMgdGhlIGF2YWlsYWJsZSBhdWRpby92aWRlbyBkZXZpY2VzXG4gICAqXG4gICAqIE5vdGU6IEl0IHByb21wdHMgdGhlIHVzZXIgZm9yIGEgcGVybWlzc2lvbiB0byB1c2UgZGV2aWNlcyAoaWYgbm90IGFscmVhZHkgZ3JhbnRlZClcbiAgICpcbiAgICogQHJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IHdpbGwgYmUgdXBkYXRlZCBpZiBhIGRldmljZSBpcyBjb25uZWN0ZWQgb3IgZGlzY29ubmVjdGVkXG4gICAqL1xuICBsaXN0RGV2aWNlcygpIHtcbiAgICByZXR1cm4gdGhpcy5nZXREZXZpY2VzKCk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBgdHJ1ZWAgd2hlbiB0aGlzIGRldmljZSBpcyBpbiBlbmFibGVkIHN0YXRlLlxuICAgKi9cbiAgZ2V0IGVuYWJsZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUuc3RhdHVzID09PSAnZW5hYmxlZCc7XG4gIH1cblxuICAvKipcbiAgICogU3RhcnRzIHN0cmVhbS5cbiAgICovXG4gIGFzeW5jIGVuYWJsZSgpIHtcbiAgICB0aGlzLnN0YXRlLnByZXZTdGF0dXMgPSB0aGlzLnN0YXRlLm9wdGltaXN0aWNTdGF0dXM7XG4gICAgaWYgKHRoaXMuc3RhdGUub3B0aW1pc3RpY1N0YXR1cyA9PT0gJ2VuYWJsZWQnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuc3RhdGUuc2V0UGVuZGluZ1N0YXR1cygnZW5hYmxlZCcpO1xuXG4gICAgYXdhaXQgd2l0aENhbmNlbGxhdGlvbih0aGlzLnN0YXR1c0NoYW5nZUNvbmN1cnJlbmN5VGFnLCBhc3luYyAoc2lnbmFsKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCB0aGlzLnVubXV0ZVN0cmVhbSgpO1xuICAgICAgICB0aGlzLnN0YXRlLnNldFN0YXR1cygnZW5hYmxlZCcpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKCFzaWduYWwuYWJvcnRlZCkge1xuICAgICAgICAgIHRoaXMuc3RhdGUuc2V0UGVuZGluZ1N0YXR1cyh0aGlzLnN0YXRlLnN0YXR1cyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdG9wcyBvciBwYXVzZXMgdGhlIHN0cmVhbSBiYXNlZCBvbiBzdGF0ZS5kaXNhYmxlTW9kZVxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmb3JjZVN0b3A9ZmFsc2VdIHdoZW4gdHJ1ZSwgc3RvcHMgdGhlIHRyYWNrcyByZWdhcmRsZXNzIG9mIHRoZSBzdGF0ZS5kaXNhYmxlTW9kZVxuICAgKi9cbiAgYXN5bmMgZGlzYWJsZShmb3JjZVN0b3A6IGJvb2xlYW4gPSBmYWxzZSkge1xuICAgIHRoaXMuc3RhdGUucHJldlN0YXR1cyA9IHRoaXMuc3RhdGUub3B0aW1pc3RpY1N0YXR1cztcbiAgICBpZiAoIWZvcmNlU3RvcCAmJiB0aGlzLnN0YXRlLm9wdGltaXN0aWNTdGF0dXMgPT09ICdkaXNhYmxlZCcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLnN0YXRlLnNldFBlbmRpbmdTdGF0dXMoJ2Rpc2FibGVkJyk7XG5cbiAgICBhd2FpdCB3aXRoQ2FuY2VsbGF0aW9uKHRoaXMuc3RhdHVzQ2hhbmdlQ29uY3VycmVuY3lUYWcsIGFzeW5jIChzaWduYWwpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHN0b3BUcmFja3MgPVxuICAgICAgICAgIGZvcmNlU3RvcCB8fCB0aGlzLnN0YXRlLmRpc2FibGVNb2RlID09PSAnc3RvcC10cmFja3MnO1xuICAgICAgICBhd2FpdCB0aGlzLm11dGVTdHJlYW0oc3RvcFRyYWNrcyk7XG4gICAgICAgIHRoaXMuc3RhdGUuc2V0U3RhdHVzKCdkaXNhYmxlZCcpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKCFzaWduYWwuYWJvcnRlZCkge1xuICAgICAgICAgIHRoaXMuc3RhdGUuc2V0UGVuZGluZ1N0YXR1cyh0aGlzLnN0YXRlLnN0YXR1cyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gYWxsIHBlXG4gICAqL1xuICBhc3luYyBzdGF0dXNDaGFuZ2VTZXR0bGVkKCkge1xuICAgIGF3YWl0IHNldHRsZWQodGhpcy5zdGF0dXNDaGFuZ2VDb25jdXJyZW5jeVRhZyk7XG4gIH1cblxuICAvKipcbiAgICogSWYgc3RhdHVzIHdhcyBwcmV2aW91c2x5IGVuYWJsZWQsIGl0IHdpbGwgcmUtZW5hYmxlIHRoZSBkZXZpY2UuXG4gICAqL1xuICBhc3luYyByZXN1bWUoKSB7XG4gICAgaWYgKFxuICAgICAgdGhpcy5zdGF0ZS5wcmV2U3RhdHVzID09PSAnZW5hYmxlZCcgJiZcbiAgICAgIHRoaXMuc3RhdGUuc3RhdHVzICE9PSAnZW5hYmxlZCdcbiAgICApIHtcbiAgICAgIGF3YWl0IHRoaXMuZW5hYmxlKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIElmIHRoZSBjdXJyZW50IGRldmljZSBzdGF0dXMgaXMgZGlzYWJsZWQsIGl0IHdpbGwgZW5hYmxlIHRoZSBkZXZpY2UsXG4gICAqIGVsc2UgaXQgd2lsbCBkaXNhYmxlIGl0LlxuICAgKi9cbiAgYXN5bmMgdG9nZ2xlKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLm9wdGltaXN0aWNTdGF0dXMgPT09ICdlbmFibGVkJykge1xuICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZGlzYWJsZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gYXdhaXQgdGhpcy5lbmFibGUoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVnaXN0ZXJzIGEgZmlsdGVyIHRoYXQgd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBzdHJlYW0uXG4gICAqXG4gICAqIFRoZSByZWdpc3RlcmVkIGZpbHRlciB3aWxsIGdldCB0aGUgZXhpc3Rpbmcgc3RyZWFtLCBhbmQgaXQgc2hvdWxkIHJldHVyblxuICAgKiBhIG5ldyBzdHJlYW0gd2l0aCB0aGUgYXBwbGllZCBmaWx0ZXIuXG4gICAqXG4gICAqIEBwYXJhbSBmaWx0ZXIgdGhlIGZpbHRlciB0byByZWdpc3Rlci5cbiAgICogQHJldHVybnMgTWVkaWFTdHJlYW1GaWx0ZXJSZWdpc3RyYXRpb25SZXN1bHRcbiAgICovXG4gIHJlZ2lzdGVyRmlsdGVyKFxuICAgIGZpbHRlcjogTWVkaWFTdHJlYW1GaWx0ZXIsXG4gICk6IE1lZGlhU3RyZWFtRmlsdGVyUmVnaXN0cmF0aW9uUmVzdWx0IHtcbiAgICBjb25zdCBlbnRyeTogTWVkaWFTdHJlYW1GaWx0ZXJFbnRyeSA9IHtcbiAgICAgIHN0YXJ0OiBmaWx0ZXIsXG4gICAgICBzdG9wOiB1bmRlZmluZWQsXG4gICAgfTtcblxuICAgIGNvbnN0IHJlZ2lzdGVyZWQgPSB3aXRob3V0Q29uY3VycmVuY3koXG4gICAgICB0aGlzLmZpbHRlclJlZ2lzdHJhdGlvbkNvbmN1cnJlbmN5VGFnLFxuICAgICAgYXN5bmMgKCkgPT4ge1xuICAgICAgICB0aGlzLmZpbHRlcnMucHVzaChlbnRyeSk7XG4gICAgICAgIGF3YWl0IHRoaXMuYXBwbHlTZXR0aW5nc1RvU3RyZWFtKCk7XG4gICAgICB9LFxuICAgICk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgcmVnaXN0ZXJlZCxcbiAgICAgIHVucmVnaXN0ZXI6ICgpID0+XG4gICAgICAgIHdpdGhvdXRDb25jdXJyZW5jeSh0aGlzLmZpbHRlclJlZ2lzdHJhdGlvbkNvbmN1cnJlbmN5VGFnLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgZW50cnkuc3RvcD8uKCk7XG4gICAgICAgICAgdGhpcy5maWx0ZXJzID0gdGhpcy5maWx0ZXJzLmZpbHRlcigoZikgPT4gZiAhPT0gZW50cnkpO1xuICAgICAgICAgIGF3YWl0IHRoaXMuYXBwbHlTZXR0aW5nc1RvU3RyZWFtKCk7XG4gICAgICAgIH0pLFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogV2lsbCBzZXQgdGhlIGRlZmF1bHQgY29uc3RyYWludHMgZm9yIHRoZSBkZXZpY2UuXG4gICAqXG4gICAqIEBwYXJhbSBjb25zdHJhaW50cyB0aGUgY29uc3RyYWludHMgdG8gc2V0LlxuICAgKi9cbiAgc2V0RGVmYXVsdENvbnN0cmFpbnRzKGNvbnN0cmFpbnRzOiBDKSB7XG4gICAgdGhpcy5zdGF0ZS5zZXREZWZhdWx0Q29uc3RyYWludHMoY29uc3RyYWludHMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNlbGVjdHMgYSBkZXZpY2UuXG4gICAqXG4gICAqIE5vdGU6IFRoaXMgbWV0aG9kIGlzIG5vdCBzdXBwb3J0ZWQgaW4gUmVhY3QgTmF0aXZlXG4gICAqIEBwYXJhbSBkZXZpY2VJZCB0aGUgZGV2aWNlIGlkIHRvIHNlbGVjdC5cbiAgICovXG4gIGFzeW5jIHNlbGVjdChkZXZpY2VJZDogc3RyaW5nIHwgdW5kZWZpbmVkKSB7XG4gICAgaWYgKGlzUmVhY3ROYXRpdmUoKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnVGhpcyBtZXRob2QgaXMgbm90IHN1cHBvcnRlZCBpbiBSZWFjdCBOYXRpdmUuIFBsZWFzZSB2aXNpdCBodHRwczovL2dldHN0cmVhbS5pby92aWRlby9kb2NzL3JlYWN0bmF0aXZlL2NvcmUvY2FtZXJhLWFuZC1taWNyb3Bob25lLyNzcGVha2VyLW1hbmFnZW1lbnQgZm9yIHJlZmVyZW5jZS4nLFxuICAgICAgKTtcbiAgICB9XG4gICAgY29uc3QgcHJldkRldmljZUlkID0gdGhpcy5zdGF0ZS5zZWxlY3RlZERldmljZTtcbiAgICBpZiAoZGV2aWNlSWQgPT09IHByZXZEZXZpY2VJZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgdGhpcy5zdGF0ZS5zZXREZXZpY2UoZGV2aWNlSWQpO1xuICAgICAgYXdhaXQgdGhpcy5hcHBseVNldHRpbmdzVG9TdHJlYW0oKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhpcy5zdGF0ZS5zZXREZXZpY2UocHJldkRldmljZUlkKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBEaXNwb3NlcyB0aGUgbWFuYWdlci5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqL1xuICBkaXNwb3NlID0gKCkgPT4ge1xuICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5mb3JFYWNoKChzKSA9PiBzKCkpO1xuICB9O1xuXG4gIHByb3RlY3RlZCBhc3luYyBhcHBseVNldHRpbmdzVG9TdHJlYW0oKSB7XG4gICAgYXdhaXQgd2l0aENhbmNlbGxhdGlvbih0aGlzLnN0YXR1c0NoYW5nZUNvbmN1cnJlbmN5VGFnLCBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAodGhpcy5lbmFibGVkKSB7XG4gICAgICAgIGF3YWl0IHRoaXMubXV0ZVN0cmVhbSgpO1xuICAgICAgICBhd2FpdCB0aGlzLnVubXV0ZVN0cmVhbSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgcHJvdGVjdGVkIGFic3RyYWN0IGdldERldmljZXMoKTogT2JzZXJ2YWJsZTxNZWRpYURldmljZUluZm9bXT47XG5cbiAgcHJvdGVjdGVkIGFic3RyYWN0IGdldFN0cmVhbShjb25zdHJhaW50czogQyk6IFByb21pc2U8TWVkaWFTdHJlYW0+O1xuXG4gIHByb3RlY3RlZCBhYnN0cmFjdCBwdWJsaXNoU3RyZWFtKHN0cmVhbTogTWVkaWFTdHJlYW0pOiBQcm9taXNlPHZvaWQ+O1xuXG4gIHByb3RlY3RlZCBhYnN0cmFjdCBzdG9wUHVibGlzaFN0cmVhbShzdG9wVHJhY2tzOiBib29sZWFuKTogUHJvbWlzZTx2b2lkPjtcblxuICBwcm90ZWN0ZWQgZ2V0VHJhY2tzKCk6IE1lZGlhU3RyZWFtVHJhY2tbXSB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUubWVkaWFTdHJlYW0/LmdldFRyYWNrcygpID8/IFtdO1xuICB9XG5cbiAgcHJvdGVjdGVkIGFzeW5jIG11dGVTdHJlYW0oc3RvcFRyYWNrczogYm9vbGVhbiA9IHRydWUpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUubWVkaWFTdHJlYW0pIHJldHVybjtcbiAgICB0aGlzLmxvZ2dlcignZGVidWcnLCBgJHtzdG9wVHJhY2tzID8gJ1N0b3BwaW5nJyA6ICdEaXNhYmxpbmcnfSBzdHJlYW1gKTtcbiAgICBpZiAodGhpcy5jYWxsLnN0YXRlLmNhbGxpbmdTdGF0ZSA9PT0gQ2FsbGluZ1N0YXRlLkpPSU5FRCkge1xuICAgICAgYXdhaXQgdGhpcy5zdG9wUHVibGlzaFN0cmVhbShzdG9wVHJhY2tzKTtcbiAgICB9XG4gICAgdGhpcy5tdXRlTG9jYWxTdHJlYW0oc3RvcFRyYWNrcyk7XG4gICAgY29uc3QgYWxsRW5kZWQgPSB0aGlzLmdldFRyYWNrcygpLmV2ZXJ5KCh0KSA9PiB0LnJlYWR5U3RhdGUgPT09ICdlbmRlZCcpO1xuICAgIGlmIChhbGxFbmRlZCkge1xuICAgICAgaWYgKFxuICAgICAgICB0aGlzLnN0YXRlLm1lZGlhU3RyZWFtICYmXG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgcmVsZWFzZSgpIGlzIHByZXNlbnQgaW4gcmVhY3QtbmF0aXZlLXdlYnJ0Y1xuICAgICAgICB0eXBlb2YgdGhpcy5zdGF0ZS5tZWRpYVN0cmVhbS5yZWxlYXNlID09PSAnZnVuY3Rpb24nXG4gICAgICApIHtcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBjYWxsZWQgdG8gZGlzcG9zZSB0aGUgc3RyZWFtIGluIFJOXG4gICAgICAgIHRoaXMuc3RhdGUubWVkaWFTdHJlYW0ucmVsZWFzZSgpO1xuICAgICAgfVxuICAgICAgdGhpcy5zdGF0ZS5zZXRNZWRpYVN0cmVhbSh1bmRlZmluZWQsIHVuZGVmaW5lZCk7XG4gICAgICB0aGlzLmZpbHRlcnMuZm9yRWFjaCgoZW50cnkpID0+IGVudHJ5LnN0b3A/LigpKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIG11dGVUcmFja3MoKSB7XG4gICAgdGhpcy5nZXRUcmFja3MoKS5mb3JFYWNoKCh0cmFjaykgPT4ge1xuICAgICAgaWYgKHRyYWNrLmVuYWJsZWQpIHRyYWNrLmVuYWJsZWQgPSBmYWxzZTtcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgdW5tdXRlVHJhY2tzKCkge1xuICAgIHRoaXMuZ2V0VHJhY2tzKCkuZm9yRWFjaCgodHJhY2spID0+IHtcbiAgICAgIGlmICghdHJhY2suZW5hYmxlZCkgdHJhY2suZW5hYmxlZCA9IHRydWU7XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIHN0b3BUcmFja3MoKSB7XG4gICAgdGhpcy5nZXRUcmFja3MoKS5mb3JFYWNoKCh0cmFjaykgPT4ge1xuICAgICAgaWYgKHRyYWNrLnJlYWR5U3RhdGUgPT09ICdsaXZlJykgdHJhY2suc3RvcCgpO1xuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBtdXRlTG9jYWxTdHJlYW0oc3RvcFRyYWNrczogYm9vbGVhbikge1xuICAgIGlmICghdGhpcy5zdGF0ZS5tZWRpYVN0cmVhbSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoc3RvcFRyYWNrcykge1xuICAgICAgdGhpcy5zdG9wVHJhY2tzKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMubXV0ZVRyYWNrcygpO1xuICAgIH1cbiAgfVxuXG4gIHByb3RlY3RlZCBhc3luYyB1bm11dGVTdHJlYW0oKSB7XG4gICAgdGhpcy5sb2dnZXIoJ2RlYnVnJywgJ1N0YXJ0aW5nIHN0cmVhbScpO1xuICAgIGxldCBzdHJlYW06IE1lZGlhU3RyZWFtO1xuICAgIGxldCByb290U3RyZWFtOiBQcm9taXNlPE1lZGlhU3RyZWFtPiB8IHVuZGVmaW5lZDtcbiAgICBpZiAoXG4gICAgICB0aGlzLnN0YXRlLm1lZGlhU3RyZWFtICYmXG4gICAgICB0aGlzLmdldFRyYWNrcygpLmV2ZXJ5KCh0KSA9PiB0LnJlYWR5U3RhdGUgPT09ICdsaXZlJylcbiAgICApIHtcbiAgICAgIHN0cmVhbSA9IHRoaXMuc3RhdGUubWVkaWFTdHJlYW07XG4gICAgICB0aGlzLnVubXV0ZVRyYWNrcygpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBkZWZhdWx0Q29uc3RyYWludHMgPSB0aGlzLnN0YXRlLmRlZmF1bHRDb25zdHJhaW50cztcbiAgICAgIGNvbnN0IGNvbnN0cmFpbnRzOiBNZWRpYVRyYWNrQ29uc3RyYWludHMgPSB7XG4gICAgICAgIC4uLmRlZmF1bHRDb25zdHJhaW50cyxcbiAgICAgICAgZGV2aWNlSWQ6IHRoaXMuc3RhdGUuc2VsZWN0ZWREZXZpY2VcbiAgICAgICAgICA/IHsgZXhhY3Q6IHRoaXMuc3RhdGUuc2VsZWN0ZWREZXZpY2UgfVxuICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgfTtcblxuICAgICAgLyoqXG4gICAgICAgKiBDaGFpbnMgdHdvIG1lZGlhIHN0cmVhbXMgdG9nZXRoZXIuXG4gICAgICAgKlxuICAgICAgICogSW4gb3VyIGNhc2UsIGZpbHRlcnMgTWVkaWFTdHJlYW1zIGFyZSBkZXJpdmVkIGZyb20gdGhlaXIgcGFyZW50IE1lZGlhU3RyZWFtLlxuICAgICAgICogSG93ZXZlciwgb25jZSBhIGNoaWxkIGZpbHRlcidzIHRyYWNrIGlzIHN0b3BwZWQsXG4gICAgICAgKiB0aGUgdHJhY2tzIG9mIHRoZSBwYXJlbnQgTWVkaWFTdHJlYW0gYXJlbid0IGF1dG9tYXRpY2FsbHkgc3RvcHBlZC5cbiAgICAgICAqIFRoaXMgbGVhZHMgdG8gYSBzaXR1YXRpb24gd2hlcmUgdGhlIGNhbWVyYSBpbmRpY2F0b3IgbGlnaHQgaXMgc3RpbGwgb25cbiAgICAgICAqIGV2ZW4gdGhvdWdoIHRoZSB1c2VyIHN0b3BwZWQgcHVibGlzaGluZyB2aWRlby5cbiAgICAgICAqXG4gICAgICAgKiBUaGlzIGZ1bmN0aW9uIHdvcmtzIGFyb3VuZCB0aGlzIGlzc3VlIGJ5IHN0b3BwaW5nIHRoZSBwYXJlbnQgTWVkaWFTdHJlYW0ncyB0cmFja3NcbiAgICAgICAqIGFzIHdlbGwgb25jZSB0aGUgY2hpbGQgZmlsdGVyJ3MgdHJhY2tzIGFyZSBzdG9wcGVkLlxuICAgICAgICpcbiAgICAgICAqIEl0IHdvcmtzIGJ5IHBhdGNoaW5nIHRoZSBzdG9wKCkgbWV0aG9kIG9mIHRoZSBjaGlsZCBmaWx0ZXIncyB0cmFja3MgdG8gYWxzbyBzdG9wXG4gICAgICAgKiB0aGUgcGFyZW50IE1lZGlhU3RyZWFtJ3MgdHJhY2tzIG9mIHRoZSBzYW1lIHR5cGUuIEhlcmUgd2UgYXNzdW1lIHRoYXRcbiAgICAgICAqIHRoZSBwYXJlbnQgTWVkaWFTdHJlYW0gaGFzIG9ubHkgb25lIHRyYWNrIG9mIGVhY2ggdHlwZS5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0gcGFyZW50U3RyZWFtIHRoZSBwYXJlbnQgTWVkaWFTdHJlYW0uIE9taXQgZm9yIHRoZSByb290IHN0cmVhbS5cbiAgICAgICAqL1xuICAgICAgY29uc3QgY2hhaW5XaXRoID1cbiAgICAgICAgKHBhcmVudFN0cmVhbT86IFByb21pc2U8TWVkaWFTdHJlYW0+KSA9PlxuICAgICAgICBhc3luYyAoZmlsdGVyU3RyZWFtOiBNZWRpYVN0cmVhbSk6IFByb21pc2U8TWVkaWFTdHJlYW0+ID0+IHtcbiAgICAgICAgICBpZiAoIXBhcmVudFN0cmVhbSkgcmV0dXJuIGZpbHRlclN0cmVhbTtcbiAgICAgICAgICAvLyBUT0RPIE9MOiB0YWtlIGNhcmUgb2YgdHJhY2suZW5hYmxlZCBwcm9wZXJ0eSBhcyB3ZWxsXG4gICAgICAgICAgY29uc3QgcGFyZW50ID0gYXdhaXQgcGFyZW50U3RyZWFtO1xuICAgICAgICAgIGZpbHRlclN0cmVhbS5nZXRUcmFja3MoKS5mb3JFYWNoKCh0cmFjaykgPT4ge1xuICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxTdG9wID0gdHJhY2suc3RvcDtcbiAgICAgICAgICAgIHRyYWNrLnN0b3AgPSBmdW5jdGlvbiBzdG9wKCkge1xuICAgICAgICAgICAgICBvcmlnaW5hbFN0b3AuY2FsbCh0cmFjayk7XG4gICAgICAgICAgICAgIHBhcmVudC5nZXRUcmFja3MoKS5mb3JFYWNoKChwYXJlbnRUcmFjaykgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChwYXJlbnRUcmFjay5raW5kID09PSB0cmFjay5raW5kKSB7XG4gICAgICAgICAgICAgICAgICBwYXJlbnRUcmFjay5zdG9wKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBwYXJlbnQuZ2V0VHJhY2tzKCkuZm9yRWFjaCgocGFyZW50VHJhY2spID0+IHtcbiAgICAgICAgICAgIC8vIFdoZW4gdGhlIHBhcmVudCBzdHJlYW0gYWJydXB0bHkgZW5kcywgd2UgcHJvcGFnYXRlIHRoZSBldmVudFxuICAgICAgICAgICAgLy8gdG8gdGhlIGZpbHRlciBzdHJlYW0uXG4gICAgICAgICAgICAvLyBUaGlzIHVzdWFsbHkgaGFwcGVucyB3aGVuIHRoZSBjYW1lcmEvbWljcm9waG9uZSBwZXJtaXNzaW9uc1xuICAgICAgICAgICAgLy8gYXJlIHJldm9rZWQgb3Igd2hlbiB0aGUgZGV2aWNlIGlzIGRpc2Nvbm5lY3RlZC5cbiAgICAgICAgICAgIGNvbnN0IGhhbmRsZVBhcmVudFRyYWNrRW5kZWQgPSAoKSA9PiB7XG4gICAgICAgICAgICAgIGZpbHRlclN0cmVhbS5nZXRUcmFja3MoKS5mb3JFYWNoKCh0cmFjaykgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChwYXJlbnRUcmFjay5raW5kICE9PSB0cmFjay5raW5kKSByZXR1cm47XG4gICAgICAgICAgICAgICAgdHJhY2suc3RvcCgpO1xuICAgICAgICAgICAgICAgIHRyYWNrLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdlbmRlZCcpKTsgLy8gcHJvcGFnYXRlIHRoZSBldmVudFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBwYXJlbnRUcmFjay5hZGRFdmVudExpc3RlbmVyKCdlbmRlZCcsIGhhbmRsZVBhcmVudFRyYWNrRW5kZWQpO1xuICAgICAgICAgICAgdGhpcy5zdWJzY3JpcHRpb25zLnB1c2goKCkgPT4ge1xuICAgICAgICAgICAgICBwYXJlbnRUcmFjay5yZW1vdmVFdmVudExpc3RlbmVyKCdlbmRlZCcsIGhhbmRsZVBhcmVudFRyYWNrRW5kZWQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICByZXR1cm4gZmlsdGVyU3RyZWFtO1xuICAgICAgICB9O1xuXG4gICAgICAvLyB0aGUgcm9vdFN0cmVhbSByZXByZXNlbnRzIHRoZSBzdHJlYW0gY29taW5nIGZyb20gdGhlIGFjdHVhbCBkZXZpY2VcbiAgICAgIC8vIGUuZy4gY2FtZXJhIG9yIG1pY3JvcGhvbmUgc3RyZWFtXG4gICAgICByb290U3RyZWFtID0gdGhpcy5nZXRTdHJlYW0oY29uc3RyYWludHMgYXMgQyk7XG4gICAgICAvLyB3ZSBwdWJsaXNoIHRoZSBsYXN0IE1lZGlhU3RyZWFtIG9mIHRoZSBjaGFpblxuICAgICAgc3RyZWFtID0gYXdhaXQgdGhpcy5maWx0ZXJzLnJlZHVjZShcbiAgICAgICAgKHBhcmVudCwgZW50cnkpID0+XG4gICAgICAgICAgcGFyZW50XG4gICAgICAgICAgICAudGhlbigoaW5wdXRTdHJlYW0pID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgeyBzdG9wLCBvdXRwdXQgfSA9IGVudHJ5LnN0YXJ0KGlucHV0U3RyZWFtKTtcbiAgICAgICAgICAgICAgZW50cnkuc3RvcCA9IHN0b3A7XG4gICAgICAgICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4oY2hhaW5XaXRoKHBhcmVudCksIChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICB0aGlzLmxvZ2dlcihcbiAgICAgICAgICAgICAgICAnd2FybicsXG4gICAgICAgICAgICAgICAgJ0ZpbHRlciBmYWlsZWQgdG8gc3RhcnQgYW5kIHdpbGwgYmUgaWdub3JlZCcsXG4gICAgICAgICAgICAgICAgZXJyb3IsXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIHJldHVybiBwYXJlbnQ7XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgcm9vdFN0cmVhbSxcbiAgICAgICk7XG4gICAgfVxuICAgIGlmICh0aGlzLmNhbGwuc3RhdGUuY2FsbGluZ1N0YXRlID09PSBDYWxsaW5nU3RhdGUuSk9JTkVEKSB7XG4gICAgICBhd2FpdCB0aGlzLnB1Ymxpc2hTdHJlYW0oc3RyZWFtKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuc3RhdGUubWVkaWFTdHJlYW0gIT09IHN0cmVhbSkge1xuICAgICAgdGhpcy5zdGF0ZS5zZXRNZWRpYVN0cmVhbShzdHJlYW0sIGF3YWl0IHJvb3RTdHJlYW0pO1xuICAgICAgY29uc3QgaGFuZGxlVHJhY2tFbmRlZCA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgYXdhaXQgdGhpcy5zdGF0dXNDaGFuZ2VTZXR0bGVkKCk7XG4gICAgICAgIGlmICh0aGlzLmVuYWJsZWQpIHtcbiAgICAgICAgICB0aGlzLmlzVHJhY2tTdG9wcGVkRHVlVG9UcmFja0VuZCA9IHRydWU7XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmlzVHJhY2tTdG9wcGVkRHVlVG9UcmFja0VuZCA9IGZhbHNlO1xuICAgICAgICAgIH0sIDIwMDApO1xuICAgICAgICAgIGF3YWl0IHRoaXMuZGlzYWJsZSgpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgdGhpcy5nZXRUcmFja3MoKS5mb3JFYWNoKCh0cmFjaykgPT4ge1xuICAgICAgICB0cmFjay5hZGRFdmVudExpc3RlbmVyKCdlbmRlZCcsIGhhbmRsZVRyYWNrRW5kZWQpO1xuICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbnMucHVzaCgoKSA9PlxuICAgICAgICAgIHRyYWNrLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgaGFuZGxlVHJhY2tFbmRlZCksXG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGdldCBtZWRpYURldmljZUtpbmQoKSB7XG4gICAgaWYgKHRoaXMudHJhY2tUeXBlID09PSBUcmFja1R5cGUuQVVESU8pIHtcbiAgICAgIHJldHVybiAnYXVkaW9pbnB1dCc7XG4gICAgfVxuICAgIGlmICh0aGlzLnRyYWNrVHlwZSA9PT0gVHJhY2tUeXBlLlZJREVPKSB7XG4gICAgICByZXR1cm4gJ3ZpZGVvaW5wdXQnO1xuICAgIH1cbiAgICByZXR1cm4gJyc7XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZURpc2Nvbm5lY3RlZE9yUmVwbGFjZWREZXZpY2VzKCkge1xuICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5wdXNoKFxuICAgICAgY3JlYXRlU3Vic2NyaXB0aW9uKFxuICAgICAgICBjb21iaW5lTGF0ZXN0KFtcbiAgICAgICAgICBkZXZpY2VJZHMkIS5waXBlKHBhaXJ3aXNlKCkpLFxuICAgICAgICAgIHRoaXMuc3RhdGUuc2VsZWN0ZWREZXZpY2UkLFxuICAgICAgICBdKSxcbiAgICAgICAgYXN5bmMgKFtbcHJldkRldmljZXMsIGN1cnJlbnREZXZpY2VzXSwgZGV2aWNlSWRdKSA9PiB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmICghZGV2aWNlSWQpIHJldHVybjtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuc3RhdHVzQ2hhbmdlU2V0dGxlZCgpO1xuXG4gICAgICAgICAgICBsZXQgaXNEZXZpY2VEaXNjb25uZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGxldCBpc0RldmljZVJlcGxhY2VkID0gZmFsc2U7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50RGV2aWNlID0gdGhpcy5maW5kRGV2aWNlSW5MaXN0KFxuICAgICAgICAgICAgICBjdXJyZW50RGV2aWNlcyxcbiAgICAgICAgICAgICAgZGV2aWNlSWQsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgY29uc3QgcHJldkRldmljZSA9IHRoaXMuZmluZERldmljZUluTGlzdChwcmV2RGV2aWNlcywgZGV2aWNlSWQpO1xuICAgICAgICAgICAgaWYgKCFjdXJyZW50RGV2aWNlICYmIHByZXZEZXZpY2UpIHtcbiAgICAgICAgICAgICAgaXNEZXZpY2VEaXNjb25uZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgY3VycmVudERldmljZSAmJlxuICAgICAgICAgICAgICBwcmV2RGV2aWNlICYmXG4gICAgICAgICAgICAgIGN1cnJlbnREZXZpY2UuZGV2aWNlSWQgPT09IHByZXZEZXZpY2UuZGV2aWNlSWQgJiZcbiAgICAgICAgICAgICAgY3VycmVudERldmljZS5ncm91cElkICE9PSBwcmV2RGV2aWNlLmdyb3VwSWRcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBpc0RldmljZVJlcGxhY2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGlzRGV2aWNlRGlzY29ubmVjdGVkKSB7XG4gICAgICAgICAgICAgIGF3YWl0IHRoaXMuZGlzYWJsZSgpO1xuICAgICAgICAgICAgICBhd2FpdCB0aGlzLnNlbGVjdCh1bmRlZmluZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlzRGV2aWNlUmVwbGFjZWQpIHtcbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIHRoaXMuaXNUcmFja1N0b3BwZWREdWVUb1RyYWNrRW5kICYmXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5zdGF0dXMgPT09ICdkaXNhYmxlZCdcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5lbmFibGUoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmlzVHJhY2tTdG9wcGVkRHVlVG9UcmFja0VuZCA9IGZhbHNlO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuYXBwbHlTZXR0aW5nc1RvU3RyZWFtKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyKFxuICAgICAgICAgICAgICAnd2FybicsXG4gICAgICAgICAgICAgICdVbmV4cGVjdGVkIGVycm9yIHdoaWxlIGhhbmRsaW5nIGRpc2Nvbm5lY3RlZCBvciByZXBsYWNlZCBkZXZpY2UnLFxuICAgICAgICAgICAgICBlcnIsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICksXG4gICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgZmluZERldmljZUluTGlzdChkZXZpY2VzOiBNZWRpYURldmljZUluZm9bXSwgZGV2aWNlSWQ6IHN0cmluZykge1xuICAgIHJldHVybiBkZXZpY2VzLmZpbmQoXG4gICAgICAoZCkgPT4gZC5kZXZpY2VJZCA9PT0gZGV2aWNlSWQgJiYgZC5raW5kID09PSB0aGlzLm1lZGlhRGV2aWNlS2luZCxcbiAgICApO1xuICB9XG59XG4iLCJpbXBvcnQge1xuICBCZWhhdmlvclN1YmplY3QsXG4gIGRpc3RpbmN0VW50aWxDaGFuZ2VkLFxuICBPYnNlcnZhYmxlLFxuICBvZixcbiAgc2hhcmVSZXBsYXksXG59IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgUnhVdGlscyB9IGZyb20gJy4uL3N0b3JlJztcbmltcG9ydCB7IEJyb3dzZXJQZXJtaXNzaW9uIH0gZnJvbSAnLi9Ccm93c2VyUGVybWlzc2lvbic7XG5cbmV4cG9ydCB0eXBlIElucHV0RGV2aWNlU3RhdHVzID0gJ2VuYWJsZWQnIHwgJ2Rpc2FibGVkJyB8IHVuZGVmaW5lZDtcbmV4cG9ydCB0eXBlIFRyYWNrRGlzYWJsZU1vZGUgPSAnc3RvcC10cmFja3MnIHwgJ2Rpc2FibGUtdHJhY2tzJztcblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIElucHV0TWVkaWFEZXZpY2VNYW5hZ2VyU3RhdGU8QyA9IE1lZGlhVHJhY2tDb25zdHJhaW50cz4ge1xuICBwcm90ZWN0ZWQgc3RhdHVzU3ViamVjdCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8SW5wdXREZXZpY2VTdGF0dXM+KHVuZGVmaW5lZCk7XG4gIHByb3RlY3RlZCBvcHRpbWlzdGljU3RhdHVzU3ViamVjdCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8SW5wdXREZXZpY2VTdGF0dXM+KFxuICAgIHVuZGVmaW5lZCxcbiAgKTtcbiAgcHJvdGVjdGVkIG1lZGlhU3RyZWFtU3ViamVjdCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8TWVkaWFTdHJlYW0gfCB1bmRlZmluZWQ+KFxuICAgIHVuZGVmaW5lZCxcbiAgKTtcbiAgcHJvdGVjdGVkIHNlbGVjdGVkRGV2aWNlU3ViamVjdCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8c3RyaW5nIHwgdW5kZWZpbmVkPihcbiAgICB1bmRlZmluZWQsXG4gICk7XG4gIHByb3RlY3RlZCBkZWZhdWx0Q29uc3RyYWludHNTdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxDIHwgdW5kZWZpbmVkPihcbiAgICB1bmRlZmluZWQsXG4gICk7XG5cbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgcHJldlN0YXR1czogSW5wdXREZXZpY2VTdGF0dXM7XG5cbiAgLyoqXG4gICAqIEFuIE9ic2VydmFibGUgdGhhdCBlbWl0cyB0aGUgY3VycmVudCBtZWRpYSBzdHJlYW0sIG9yIGB1bmRlZmluZWRgIGlmIHRoZSBkZXZpY2UgaXMgY3VycmVudGx5IGRpc2FibGVkLlxuICAgKlxuICAgKi9cbiAgbWVkaWFTdHJlYW0kID0gdGhpcy5tZWRpYVN0cmVhbVN1YmplY3QuYXNPYnNlcnZhYmxlKCk7XG5cbiAgLyoqXG4gICAqIEFuIE9ic2VydmFibGUgdGhhdCBlbWl0cyB0aGUgY3VycmVudGx5IHNlbGVjdGVkIGRldmljZVxuICAgKi9cbiAgc2VsZWN0ZWREZXZpY2UkID0gdGhpcy5zZWxlY3RlZERldmljZVN1YmplY3RcbiAgICAuYXNPYnNlcnZhYmxlKClcbiAgICAucGlwZShkaXN0aW5jdFVudGlsQ2hhbmdlZCgpKTtcblxuICAvKipcbiAgICogQW4gT2JzZXJ2YWJsZSB0aGF0IGVtaXRzIHRoZSBkZXZpY2Ugc3RhdHVzXG4gICAqL1xuICBzdGF0dXMkID0gdGhpcy5zdGF0dXNTdWJqZWN0LmFzT2JzZXJ2YWJsZSgpLnBpcGUoZGlzdGluY3RVbnRpbENoYW5nZWQoKSk7XG5cbiAgLyoqXG4gICAqIEFuIE9ic2VydmFibGUgdGhlIHJlZmxlY3RzIHRoZSByZXF1ZXN0ZWQgZGV2aWNlIHN0YXR1cy4gVXNlZnVsIGZvciBvcHRpbWlzdGljIFVJc1xuICAgKi9cbiAgb3B0aW1pc3RpY1N0YXR1cyQgPSB0aGlzLm9wdGltaXN0aWNTdGF0dXNTdWJqZWN0XG4gICAgLmFzT2JzZXJ2YWJsZSgpXG4gICAgLnBpcGUoZGlzdGluY3RVbnRpbENoYW5nZWQoKSk7XG5cbiAgLyoqXG4gICAqIFRoZSBkZWZhdWx0IGNvbnN0cmFpbnRzIGZvciB0aGUgZGV2aWNlLlxuICAgKi9cbiAgZGVmYXVsdENvbnN0cmFpbnRzJCA9IHRoaXMuZGVmYXVsdENvbnN0cmFpbnRzU3ViamVjdC5hc09ic2VydmFibGUoKTtcblxuICAvKipcbiAgICogQW4gb2JzZXJ2YWJsZSB0aGF0IHdpbGwgZW1pdCBgdHJ1ZWAgaWYgYnJvd3Nlci9zeXN0ZW0gcGVybWlzc2lvblxuICAgKiBpcyBncmFudGVkLCBgZmFsc2VgIG90aGVyd2lzZS5cbiAgICovXG4gIGhhc0Jyb3dzZXJQZXJtaXNzaW9uJDogT2JzZXJ2YWJsZTxib29sZWFuPjtcblxuICAvKipcbiAgICogQ29uc3RydWN0cyBuZXcgSW5wdXRNZWRpYURldmljZU1hbmFnZXJTdGF0ZSBpbnN0YW5jZS5cbiAgICpcbiAgICogQHBhcmFtIGRpc2FibGVNb2RlIHRoZSBkaXNhYmxlIG1vZGUgdG8gdXNlLlxuICAgKiBAcGFyYW0gcGVybWlzc2lvbiB0aGUgQnJvd3NlclBlcm1pc3Npb24gdG8gdXNlIGZvciBxdWVyeWluZy5cbiAgICogYHVuZGVmaW5lZGAgbWVhbnMgbm8gcGVybWlzc2lvbiBpcyByZXF1aXJlZC5cbiAgICovXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSBkaXNhYmxlTW9kZTogVHJhY2tEaXNhYmxlTW9kZSA9ICdzdG9wLXRyYWNrcycsXG4gICAgcGVybWlzc2lvbj86IEJyb3dzZXJQZXJtaXNzaW9uLFxuICApIHtcbiAgICB0aGlzLmhhc0Jyb3dzZXJQZXJtaXNzaW9uJCA9IHBlcm1pc3Npb25cbiAgICAgID8gcGVybWlzc2lvbi5hc09ic2VydmFibGUoKS5waXBlKHNoYXJlUmVwbGF5KDEpKVxuICAgICAgOiBvZih0cnVlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgZGV2aWNlIHN0YXR1c1xuICAgKi9cbiAgZ2V0IHN0YXR1cygpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50VmFsdWUodGhpcy5zdGF0dXMkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgcmVxdWVzdGVkIGRldmljZSBzdGF0dXMuIFVzZWZ1bCBmb3Igb3B0aW1pc3RpYyBVSXNcbiAgICovXG4gIGdldCBvcHRpbWlzdGljU3RhdHVzKCkge1xuICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRWYWx1ZSh0aGlzLm9wdGltaXN0aWNTdGF0dXMkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgY3VycmVudGx5IHNlbGVjdGVkIGRldmljZVxuICAgKi9cbiAgZ2V0IHNlbGVjdGVkRGV2aWNlKCkge1xuICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRWYWx1ZSh0aGlzLnNlbGVjdGVkRGV2aWNlJCk7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGN1cnJlbnQgbWVkaWEgc3RyZWFtLCBvciBgdW5kZWZpbmVkYCBpZiB0aGUgZGV2aWNlIGlzIGN1cnJlbnRseSBkaXNhYmxlZC5cbiAgICovXG4gIGdldCBtZWRpYVN0cmVhbSgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50VmFsdWUodGhpcy5tZWRpYVN0cmVhbSQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGN1cnJlbnQgdmFsdWUgb2YgYW4gb2JzZXJ2YWJsZSwgb3IgdW5kZWZpbmVkIGlmIHRoZSBvYnNlcnZhYmxlIGhhc1xuICAgKiBub3QgZW1pdHRlZCBhIHZhbHVlIHlldC5cbiAgICpcbiAgICogQHBhcmFtIG9ic2VydmFibGUkIHRoZSBvYnNlcnZhYmxlIHRvIGdldCB0aGUgdmFsdWUgZnJvbS5cbiAgICovXG4gIGdldEN1cnJlbnRWYWx1ZSA9IFJ4VXRpbHMuZ2V0Q3VycmVudFZhbHVlO1xuXG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICogQHBhcmFtIHN0YXR1c1xuICAgKi9cbiAgc2V0U3RhdHVzKHN0YXR1czogSW5wdXREZXZpY2VTdGF0dXMpIHtcbiAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLnN0YXR1c1N1YmplY3QsIHN0YXR1cyk7XG4gIH1cblxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqIEBwYXJhbSBwZW5kaW5nU3RhdHVzXG4gICAqL1xuICBzZXRQZW5kaW5nU3RhdHVzKHBlbmRpbmdTdGF0dXM6IElucHV0RGV2aWNlU3RhdHVzKSB7XG4gICAgdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5vcHRpbWlzdGljU3RhdHVzU3ViamVjdCwgcGVuZGluZ1N0YXR1cyk7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgYG1lZGlhU3RyZWFtYCBzdGF0ZSB2YXJpYWJsZS5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqIEBwYXJhbSBzdHJlYW0gdGhlIHN0cmVhbSB0byBzZXQuXG4gICAqIEBwYXJhbSByb290U3RyZWFtIHRoZSByb290IHN0cmVhbSwgYXBwbGljYWJsZSB3aGVuIGZpbHRlcnMgYXJlIHVzZWRcbiAgICogYXMgdGhpcyBpcyB0aGUgc3RyZWFtIHRoYXQgaG9sZHMgdGhlIGFjdHVhbCBkZXZpY2VJZCBpbmZvcm1hdGlvbi5cbiAgICovXG4gIHNldE1lZGlhU3RyZWFtKFxuICAgIHN0cmVhbTogTWVkaWFTdHJlYW0gfCB1bmRlZmluZWQsXG4gICAgcm9vdFN0cmVhbTogTWVkaWFTdHJlYW0gfCB1bmRlZmluZWQsXG4gICkge1xuICAgIHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMubWVkaWFTdHJlYW1TdWJqZWN0LCBzdHJlYW0pO1xuICAgIGlmIChyb290U3RyZWFtKSB7XG4gICAgICB0aGlzLnNldERldmljZSh0aGlzLmdldERldmljZUlkRnJvbVN0cmVhbShyb290U3RyZWFtKSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKiBAcGFyYW0gZGV2aWNlSWQgdGhlIGRldmljZSBpZCB0byBzZXQuXG4gICAqL1xuICBzZXREZXZpY2UoZGV2aWNlSWQ6IHN0cmluZyB8IHVuZGVmaW5lZCkge1xuICAgIHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMuc2VsZWN0ZWREZXZpY2VTdWJqZWN0LCBkZXZpY2VJZCk7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgZGVmYXVsdCBjb25zdHJhaW50cyBmb3IgdGhlIGRldmljZS5cbiAgICovXG4gIGdldCBkZWZhdWx0Q29uc3RyYWludHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFZhbHVlKHRoaXMuZGVmYXVsdENvbnN0cmFpbnRzJCk7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgZGVmYXVsdCBjb25zdHJhaW50cyBmb3IgdGhlIGRldmljZS5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqIEBwYXJhbSBjb25zdHJhaW50cyB0aGUgY29uc3RyYWludHMgdG8gc2V0LlxuICAgKi9cbiAgc2V0RGVmYXVsdENvbnN0cmFpbnRzKGNvbnN0cmFpbnRzOiBDIHwgdW5kZWZpbmVkKSB7XG4gICAgdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5kZWZhdWx0Q29uc3RyYWludHNTdWJqZWN0LCBjb25zdHJhaW50cyk7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgdmFsdWUgb2YgdGhlIHByb3ZpZGVkIFN1YmplY3QuXG4gICAqIEFuIGB1cGRhdGVgIGNhbiBlaXRoZXIgYmUgYSBuZXcgdmFsdWUgb3IgYSBmdW5jdGlvbiB3aGljaCB0YWtlc1xuICAgKiB0aGUgY3VycmVudCB2YWx1ZSBhbmQgcmV0dXJucyBhIG5ldyB2YWx1ZS5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqXG4gICAqIEBwYXJhbSBzdWJqZWN0IHRoZSBzdWJqZWN0IHRvIHVwZGF0ZS5cbiAgICogQHBhcmFtIHVwZGF0ZSB0aGUgdXBkYXRlIHRvIGFwcGx5IHRvIHRoZSBzdWJqZWN0LlxuICAgKiBAcmV0dXJuIHRoZSB1cGRhdGVkIHZhbHVlLlxuICAgKi9cbiAgcHJvdGVjdGVkIHNldEN1cnJlbnRWYWx1ZSA9IFJ4VXRpbHMuc2V0Q3VycmVudFZhbHVlO1xuXG4gIHByb3RlY3RlZCBhYnN0cmFjdCBnZXREZXZpY2VJZEZyb21TdHJlYW0oXG4gICAgc3RyZWFtOiBNZWRpYVN0cmVhbSxcbiAgKTogc3RyaW5nIHwgdW5kZWZpbmVkO1xufVxuIiwiaW1wb3J0IHsgQmVoYXZpb3JTdWJqZWN0LCBkaXN0aW5jdFVudGlsQ2hhbmdlZCwgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgSW5wdXRNZWRpYURldmljZU1hbmFnZXJTdGF0ZSB9IGZyb20gJy4vSW5wdXRNZWRpYURldmljZU1hbmFnZXJTdGF0ZSc7XG5pbXBvcnQgeyBpc1JlYWN0TmF0aXZlIH0gZnJvbSAnLi4vaGVscGVycy9wbGF0Zm9ybXMnO1xuaW1wb3J0IHsgZ2V0VmlkZW9Ccm93c2VyUGVybWlzc2lvbiB9IGZyb20gJy4vZGV2aWNlcyc7XG5cbmV4cG9ydCB0eXBlIENhbWVyYURpcmVjdGlvbiA9ICdmcm9udCcgfCAnYmFjaycgfCB1bmRlZmluZWQ7XG5cbmV4cG9ydCBjbGFzcyBDYW1lcmFNYW5hZ2VyU3RhdGUgZXh0ZW5kcyBJbnB1dE1lZGlhRGV2aWNlTWFuYWdlclN0YXRlIHtcbiAgcHJpdmF0ZSBkaXJlY3Rpb25TdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxDYW1lcmFEaXJlY3Rpb24+KHVuZGVmaW5lZCk7XG5cbiAgLyoqXG4gICAqIE9ic2VydmFibGUgdGhhdCBlbWl0cyB0aGUgcHJlZmVycmVkIGNhbWVyYSBkaXJlY3Rpb25cbiAgICogZnJvbnQgLSBtZWFucyB0aGUgY2FtZXJhIGZhY2luZyB0aGUgdXNlclxuICAgKiBiYWNrIC0gbWVhbnMgdGhlIGNhbWVyYSBmYWNpbmcgdGhlIGVudmlyb25tZW50XG4gICAqL1xuICBkaXJlY3Rpb24kOiBPYnNlcnZhYmxlPENhbWVyYURpcmVjdGlvbj47XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0b3AtdHJhY2tzJywgZ2V0VmlkZW9Ccm93c2VyUGVybWlzc2lvbigpKTtcbiAgICB0aGlzLmRpcmVjdGlvbiQgPSB0aGlzLmRpcmVjdGlvblN1YmplY3RcbiAgICAgIC5hc09ic2VydmFibGUoKVxuICAgICAgLnBpcGUoZGlzdGluY3RVbnRpbENoYW5nZWQoKSk7XG4gIH1cblxuICAvKipcbiAgICogVGhlIHByZWZlcnJlZCBjYW1lcmEgZGlyZWN0aW9uXG4gICAqIGZyb250IC0gbWVhbnMgdGhlIGNhbWVyYSBmYWNpbmcgdGhlIHVzZXJcbiAgICogYmFjayAtIG1lYW5zIHRoZSBjYW1lcmEgZmFjaW5nIHRoZSBlbnZpcm9ubWVudFxuICAgKi9cbiAgZ2V0IGRpcmVjdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50VmFsdWUodGhpcy5kaXJlY3Rpb24kKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIHNldERpcmVjdGlvbihkaXJlY3Rpb246IENhbWVyYURpcmVjdGlvbikge1xuICAgIHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMuZGlyZWN0aW9uU3ViamVjdCwgZGlyZWN0aW9uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIHNldE1lZGlhU3RyZWFtKFxuICAgIHN0cmVhbTogTWVkaWFTdHJlYW0gfCB1bmRlZmluZWQsXG4gICAgcm9vdFN0cmVhbTogTWVkaWFTdHJlYW0gfCB1bmRlZmluZWQsXG4gICk6IHZvaWQge1xuICAgIHN1cGVyLnNldE1lZGlhU3RyZWFtKHN0cmVhbSwgcm9vdFN0cmVhbSk7XG4gICAgaWYgKHN0cmVhbSkge1xuICAgICAgLy8gUk4gZ2V0U2V0dGluZ3MoKSBkb2Vzbid0IHJldHVybiBmYWNpbmdNb2RlLCBzbyB3ZSBkb24ndCB2ZXJpZnkgY2FtZXJhIGRpcmVjdGlvblxuICAgICAgY29uc3QgZGlyZWN0aW9uID0gaXNSZWFjdE5hdGl2ZSgpXG4gICAgICAgID8gdGhpcy5kaXJlY3Rpb25cbiAgICAgICAgOiBzdHJlYW0uZ2V0VmlkZW9UcmFja3MoKVswXT8uZ2V0U2V0dGluZ3MoKS5mYWNpbmdNb2RlID09PSAnZW52aXJvbm1lbnQnXG4gICAgICAgICAgPyAnYmFjaydcbiAgICAgICAgICA6ICdmcm9udCc7XG4gICAgICB0aGlzLnNldERpcmVjdGlvbihkaXJlY3Rpb24pO1xuICAgIH1cbiAgfVxuXG4gIHByb3RlY3RlZCBnZXREZXZpY2VJZEZyb21TdHJlYW0oc3RyZWFtOiBNZWRpYVN0cmVhbSk6IHN0cmluZyB8IHVuZGVmaW5lZCB7XG4gICAgY29uc3QgW3RyYWNrXSA9IHN0cmVhbS5nZXRWaWRlb1RyYWNrcygpO1xuICAgIHJldHVybiB0cmFjaz8uZ2V0U2V0dGluZ3MoKS5kZXZpY2VJZDtcbiAgfVxufVxuIiwiLyoqXG4gKiBDaGVja3MgaWYgdGhlIGN1cnJlbnQgcGxhdGZvcm0gaXMgYSBtb2JpbGUgZGV2aWNlLlxuICpcbiAqIFNlZTpcbiAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0hUVFAvQnJvd3Nlcl9kZXRlY3Rpb25fdXNpbmdfdGhlX3VzZXJfYWdlbnRcbiAqL1xuZXhwb3J0IGNvbnN0IGlzTW9iaWxlID0gKCkgPT4gL01vYmkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xuIiwiaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgQ2FsbCB9IGZyb20gJy4uL0NhbGwnO1xuaW1wb3J0IHsgQ2FtZXJhRGlyZWN0aW9uLCBDYW1lcmFNYW5hZ2VyU3RhdGUgfSBmcm9tICcuL0NhbWVyYU1hbmFnZXJTdGF0ZSc7XG5pbXBvcnQgeyBJbnB1dE1lZGlhRGV2aWNlTWFuYWdlciB9IGZyb20gJy4vSW5wdXRNZWRpYURldmljZU1hbmFnZXInO1xuaW1wb3J0IHsgZ2V0VmlkZW9EZXZpY2VzLCBnZXRWaWRlb1N0cmVhbSB9IGZyb20gJy4vZGV2aWNlcyc7XG5pbXBvcnQgeyBUcmFja1R5cGUgfSBmcm9tICcuLi9nZW4vdmlkZW8vc2Z1L21vZGVscy9tb2RlbHMnO1xuaW1wb3J0IHsgUHJlZmVycmVkQ29kZWMgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBpc01vYmlsZSB9IGZyb20gJy4uL2NvbXBhdGliaWxpdHknO1xuaW1wb3J0IHsgaXNSZWFjdE5hdGl2ZSB9IGZyb20gJy4uL2hlbHBlcnMvcGxhdGZvcm1zJztcblxuZXhwb3J0IGNsYXNzIENhbWVyYU1hbmFnZXIgZXh0ZW5kcyBJbnB1dE1lZGlhRGV2aWNlTWFuYWdlcjxDYW1lcmFNYW5hZ2VyU3RhdGU+IHtcbiAgcHJpdmF0ZSB0YXJnZXRSZXNvbHV0aW9uID0ge1xuICAgIHdpZHRoOiAxMjgwLFxuICAgIGhlaWdodDogNzIwLFxuICB9O1xuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RzIGEgbmV3IENhbWVyYU1hbmFnZXIuXG4gICAqXG4gICAqIEBwYXJhbSBjYWxsIHRoZSBjYWxsIGluc3RhbmNlLlxuICAgKi9cbiAgY29uc3RydWN0b3IoY2FsbDogQ2FsbCkge1xuICAgIHN1cGVyKGNhbGwsIG5ldyBDYW1lcmFNYW5hZ2VyU3RhdGUoKSwgVHJhY2tUeXBlLlZJREVPKTtcbiAgfVxuXG4gIHByaXZhdGUgaXNEaXJlY3Rpb25TdXBwb3J0ZWRCeURldmljZSgpIHtcbiAgICByZXR1cm4gaXNSZWFjdE5hdGl2ZSgpIHx8IGlzTW9iaWxlKCk7XG4gIH1cblxuICAvKipcbiAgICogU2VsZWN0IHRoZSBjYW1lcmEgZGlyZWN0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gZGlyZWN0aW9uIHRoZSBkaXJlY3Rpb24gb2YgdGhlIGNhbWVyYSB0byBzZWxlY3QuXG4gICAqL1xuICBhc3luYyBzZWxlY3REaXJlY3Rpb24oZGlyZWN0aW9uOiBFeGNsdWRlPENhbWVyYURpcmVjdGlvbiwgdW5kZWZpbmVkPikge1xuICAgIGlmICh0aGlzLmlzRGlyZWN0aW9uU3VwcG9ydGVkQnlEZXZpY2UoKSkge1xuICAgICAgdGhpcy5zdGF0ZS5zZXREaXJlY3Rpb24oZGlyZWN0aW9uKTtcbiAgICAgIC8vIFByb3ZpZGluZyBib3RoIGRldmljZSBpZCBhbmQgZGlyZWN0aW9uIGRvZXNuJ3Qgd29yaywgc28gd2UgZGVzZWxlY3QgdGhlIGRldmljZVxuICAgICAgdGhpcy5zdGF0ZS5zZXREZXZpY2UodW5kZWZpbmVkKTtcbiAgICAgIGF3YWl0IHRoaXMuYXBwbHlTZXR0aW5nc1RvU3RyZWFtKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMubG9nZ2VyKCd3YXJuJywgJ0NhbWVyYSBkaXJlY3Rpb24gaWdub3JlZCBmb3IgZGVza3RvcCBkZXZpY2VzJyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEZsaXBzIHRoZSBjYW1lcmEgZGlyZWN0aW9uOiBpZiBpdCdzIGZyb250IGl0IHdpbGwgY2hhbmdlIHRvIGJhY2ssIGlmIGl0J3MgYmFjaywgaXQgd2lsbCBjaGFuZ2UgdG8gZnJvbnQuXG4gICAqXG4gICAqIE5vdGU6IGlmIHRoZXJlIGlzIG5vIGF2YWlsYWJsZSBjYW1lcmEgd2l0aCB0aGUgZGVzaXJlZCBkaXJlY3Rpb24sIHRoaXMgbWV0aG9kIHdpbGwgZG8gbm90aGluZy5cbiAgICogQHJldHVybnNcbiAgICovXG4gIGFzeW5jIGZsaXAoKSB7XG4gICAgY29uc3QgbmV3RGlyZWN0aW9uID0gdGhpcy5zdGF0ZS5kaXJlY3Rpb24gPT09ICdmcm9udCcgPyAnYmFjaycgOiAnZnJvbnQnO1xuICAgIGF3YWl0IHRoaXMuc2VsZWN0RGlyZWN0aW9uKG5ld0RpcmVjdGlvbik7XG4gIH1cblxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqL1xuICBhc3luYyBzZWxlY3RUYXJnZXRSZXNvbHV0aW9uKHJlc29sdXRpb246IHsgd2lkdGg6IG51bWJlcjsgaGVpZ2h0OiBudW1iZXIgfSkge1xuICAgIHRoaXMudGFyZ2V0UmVzb2x1dGlvbi5oZWlnaHQgPSByZXNvbHV0aW9uLmhlaWdodDtcbiAgICB0aGlzLnRhcmdldFJlc29sdXRpb24ud2lkdGggPSByZXNvbHV0aW9uLndpZHRoO1xuICAgIGlmICh0aGlzLnN0YXRlLm9wdGltaXN0aWNTdGF0dXMgPT09ICdlbmFibGVkJykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgdGhpcy5zdGF0dXNDaGFuZ2VTZXR0bGVkKCk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAvLyBjb3VsZG4ndCBlbmFibGUgZGV2aWNlLCB0YXJnZXQgcmVzb2x1dGlvbiB3aWxsIGJlIGFwcGxpZWQgdGhlIG5leHQgdGltZSB1c2VyIGF0dGVtcHRzIHRvIHN0YXJ0IHRoZSBkZXZpY2VcbiAgICAgICAgdGhpcy5sb2dnZXIoJ3dhcm4nLCAnY291bGQgbm90IGFwcGx5IHRhcmdldCByZXNvbHV0aW9uJywgZXJyb3IpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodGhpcy5lbmFibGVkICYmIHRoaXMuc3RhdGUubWVkaWFTdHJlYW0pIHtcbiAgICAgIGNvbnN0IFt2aWRlb1RyYWNrXSA9IHRoaXMuc3RhdGUubWVkaWFTdHJlYW0uZ2V0VmlkZW9UcmFja3MoKTtcbiAgICAgIGlmICghdmlkZW9UcmFjaykgcmV0dXJuO1xuICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSB2aWRlb1RyYWNrLmdldFNldHRpbmdzKCk7XG4gICAgICBpZiAoXG4gICAgICAgIHdpZHRoICE9PSB0aGlzLnRhcmdldFJlc29sdXRpb24ud2lkdGggfHxcbiAgICAgICAgaGVpZ2h0ICE9PSB0aGlzLnRhcmdldFJlc29sdXRpb24uaGVpZ2h0XG4gICAgICApIHtcbiAgICAgICAgYXdhaXQgdGhpcy5hcHBseVNldHRpbmdzVG9TdHJlYW0oKTtcbiAgICAgICAgdGhpcy5sb2dnZXIoXG4gICAgICAgICAgJ2RlYnVnJyxcbiAgICAgICAgICBgJHt3aWR0aH14JHtoZWlnaHR9IHRhcmdldCByZXNvbHV0aW9uIGFwcGxpZWQgdG8gbWVkaWEgc3RyZWFtYCxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgcHJlZmVycmVkIGNvZGVjIGZvciBlbmNvZGluZyB0aGUgdmlkZW8uXG4gICAqXG4gICAqIEBpbnRlcm5hbCBpbnRlcm5hbCB1c2Ugb25seSwgbm90IHBhcnQgb2YgdGhlIHB1YmxpYyBBUEkuXG4gICAqIEBkZXByZWNhdGVkIHVzZSB7QGxpbmsgY2FsbC51cGRhdGVQdWJsaXNoT3B0aW9uc30gaW5zdGVhZC5cbiAgICogQHBhcmFtIGNvZGVjIHRoZSBjb2RlYyB0byB1c2UgZm9yIGVuY29kaW5nIHRoZSB2aWRlby5cbiAgICovXG4gIHNldFByZWZlcnJlZENvZGVjKGNvZGVjOiBQcmVmZXJyZWRDb2RlYyB8IHVuZGVmaW5lZCkge1xuICAgIHRoaXMuY2FsbC51cGRhdGVQdWJsaXNoT3B0aW9ucyh7IHByZWZlcnJlZENvZGVjOiBjb2RlYyB9KTtcbiAgfVxuXG4gIHByb3RlY3RlZCBnZXREZXZpY2VzKCk6IE9ic2VydmFibGU8TWVkaWFEZXZpY2VJbmZvW10+IHtcbiAgICByZXR1cm4gZ2V0VmlkZW9EZXZpY2VzKCk7XG4gIH1cblxuICBwcm90ZWN0ZWQgZ2V0U3RyZWFtKFxuICAgIGNvbnN0cmFpbnRzOiBNZWRpYVRyYWNrQ29uc3RyYWludHMsXG4gICk6IFByb21pc2U8TWVkaWFTdHJlYW0+IHtcbiAgICBjb25zdHJhaW50cy53aWR0aCA9IHRoaXMudGFyZ2V0UmVzb2x1dGlvbi53aWR0aDtcbiAgICBjb25zdHJhaW50cy5oZWlnaHQgPSB0aGlzLnRhcmdldFJlc29sdXRpb24uaGVpZ2h0O1xuICAgIC8vIFdlIGNhbid0IHNldCBib3RoIGRldmljZSBpZCBhbmQgZmFjaW5nIG1vZGVcbiAgICAvLyBEZXZpY2UgaWQgaGFzIGhpZ2hlciBwcmlvcml0eVxuXG4gICAgaWYgKFxuICAgICAgIWNvbnN0cmFpbnRzLmRldmljZUlkICYmXG4gICAgICB0aGlzLnN0YXRlLmRpcmVjdGlvbiAmJlxuICAgICAgdGhpcy5pc0RpcmVjdGlvblN1cHBvcnRlZEJ5RGV2aWNlKClcbiAgICApIHtcbiAgICAgIGNvbnN0cmFpbnRzLmZhY2luZ01vZGUgPVxuICAgICAgICB0aGlzLnN0YXRlLmRpcmVjdGlvbiA9PT0gJ2Zyb250JyA/ICd1c2VyJyA6ICdlbnZpcm9ubWVudCc7XG4gICAgfVxuICAgIHJldHVybiBnZXRWaWRlb1N0cmVhbShjb25zdHJhaW50cyk7XG4gIH1cblxuICBwcm90ZWN0ZWQgcHVibGlzaFN0cmVhbShzdHJlYW06IE1lZGlhU3RyZWFtKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcmV0dXJuIHRoaXMuY2FsbC5wdWJsaXNoVmlkZW9TdHJlYW0oc3RyZWFtKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBzdG9wUHVibGlzaFN0cmVhbShzdG9wVHJhY2tzOiBib29sZWFuKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcmV0dXJuIHRoaXMuY2FsbC5zdG9wUHVibGlzaChUcmFja1R5cGUuVklERU8sIHN0b3BUcmFja3MpO1xuICB9XG59XG4iLCJpbXBvcnQgeyBCZWhhdmlvclN1YmplY3QsIGRpc3RpbmN0VW50aWxDaGFuZ2VkLCBPYnNlcnZhYmxlIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQge1xuICBJbnB1dE1lZGlhRGV2aWNlTWFuYWdlclN0YXRlLFxuICBUcmFja0Rpc2FibGVNb2RlLFxufSBmcm9tICcuL0lucHV0TWVkaWFEZXZpY2VNYW5hZ2VyU3RhdGUnO1xuaW1wb3J0IHsgZ2V0QXVkaW9Ccm93c2VyUGVybWlzc2lvbiB9IGZyb20gJy4vZGV2aWNlcyc7XG5cbmV4cG9ydCBjbGFzcyBNaWNyb3Bob25lTWFuYWdlclN0YXRlIGV4dGVuZHMgSW5wdXRNZWRpYURldmljZU1hbmFnZXJTdGF0ZSB7XG4gIHByaXZhdGUgc3BlYWtpbmdXaGlsZU11dGVkU3ViamVjdCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8Ym9vbGVhbj4oZmFsc2UpO1xuXG4gIC8qKlxuICAgKiBBbiBPYnNlcnZhYmxlIHRoYXQgZW1pdHMgYHRydWVgIGlmIHRoZSB1c2VyJ3MgbWljcm9waG9uZSBpcyBtdXRlZCBidXQgdGhleSdhcmUgc3BlYWtpbmcuXG4gICAqXG4gICAqIFRoaXMgZmVhdHVyZSBpcyBub3QgYXZhaWxhYmxlIGluIHRoZSBSZWFjdCBOYXRpdmUgU0RLLlxuICAgKi9cbiAgc3BlYWtpbmdXaGlsZU11dGVkJDogT2JzZXJ2YWJsZTxib29sZWFuPjtcblxuICBjb25zdHJ1Y3RvcihkaXNhYmxlTW9kZTogVHJhY2tEaXNhYmxlTW9kZSkge1xuICAgIHN1cGVyKGRpc2FibGVNb2RlLCBnZXRBdWRpb0Jyb3dzZXJQZXJtaXNzaW9uKCkpO1xuXG4gICAgdGhpcy5zcGVha2luZ1doaWxlTXV0ZWQkID0gdGhpcy5zcGVha2luZ1doaWxlTXV0ZWRTdWJqZWN0XG4gICAgICAuYXNPYnNlcnZhYmxlKClcbiAgICAgIC5waXBlKGRpc3RpbmN0VW50aWxDaGFuZ2VkKCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIGB0cnVlYCBpZiB0aGUgdXNlcidzIG1pY3JvcGhvbmUgaXMgbXV0ZWQgYnV0IHRoZXknYXJlIHNwZWFraW5nLlxuICAgKlxuICAgKiBUaGlzIGZlYXR1cmUgaXMgbm90IGF2YWlsYWJsZSBpbiB0aGUgUmVhY3QgTmF0aXZlIFNESy5cbiAgICovXG4gIGdldCBzcGVha2luZ1doaWxlTXV0ZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFZhbHVlKHRoaXMuc3BlYWtpbmdXaGlsZU11dGVkJCk7XG4gIH1cblxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqL1xuICBzZXRTcGVha2luZ1doaWxlTXV0ZWQoaXNTcGVha2luZzogYm9vbGVhbikge1xuICAgIHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMuc3BlYWtpbmdXaGlsZU11dGVkU3ViamVjdCwgaXNTcGVha2luZyk7XG4gIH1cblxuICBwcm90ZWN0ZWQgZ2V0RGV2aWNlSWRGcm9tU3RyZWFtKHN0cmVhbTogTWVkaWFTdHJlYW0pOiBzdHJpbmcgfCB1bmRlZmluZWQge1xuICAgIGNvbnN0IFt0cmFja10gPSBzdHJlYW0uZ2V0QXVkaW9UcmFja3MoKTtcbiAgICByZXR1cm4gdHJhY2s/LmdldFNldHRpbmdzKCkuZGV2aWNlSWQ7XG4gIH1cbn1cbiIsImV4cG9ydCB0eXBlIFNvdW5kRGV0ZWN0b3JPcHRpb25zID0ge1xuICAvKipcbiAgICogRGVmaW5lcyBob3cgb2Z0ZW4gdGhlIGRldGVjdG9yIHNob3VsZCBjaGVjayB3aGV0aGVyIGEgc291bmQgaXMgcHJlc2VudC5cbiAgICogRGVmYXVsdHMgdG8gNTAwbXMuXG4gICAqL1xuICBkZXRlY3Rpb25GcmVxdWVuY3lJbk1zPzogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBEZWZpbmVzIHRoZSBhdWRpbyBsZXZlbCB0aHJlc2hvbGQgYmVmb3JlIGEgXCJjaGFuZ2VcIiBpcyBlbWl0dGVkLlxuICAgKiBEZWZhdWx0cyB0byAxNTAuIFRoaXMgdmFsdWUgc2hvdWxkIGJlIGluIHRoZSByYW5nZSBvZiAwLTI1NS5cbiAgICovXG4gIGF1ZGlvTGV2ZWxUaHJlc2hvbGQ/OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL3dlYi9hcGkvYW5hbHlzZXJub2RlL2ZmdHNpemVcbiAgICpcbiAgICogRGVmYXVsdHMgdG8gMTI4LlxuICAgKi9cbiAgZmZ0U2l6ZT86IG51bWJlcjtcblxuICAvKipcbiAgICogRGVmaW5lcyB3aGV0aGVyIHRoZSBwcm92aWRlZCBhdWRpbyBzdHJlYW0gc2hvdWxkIGJlIHN0b3BwZWQgKGRlc3Ryb3llZClcbiAgICogd2hlbiB0aGUgc291bmQgZGV0ZWN0b3IgaXMgc3RvcHBlZC5cbiAgICpcbiAgICogRGVmYXVsdHMgdG8gYHRydWVgLlxuICAgKi9cbiAgZGVzdHJveVN0cmVhbU9uU3RvcD86IGJvb2xlYW47XG59O1xuXG5leHBvcnQgdHlwZSBTb3VuZERldGVjdG9yU3RhdGUgPSB7XG4gIGlzU291bmREZXRlY3RlZDogYm9vbGVhbjtcbiAgLyoqXG4gICAqIFJlcHJlc2VudGVkIGFzIHBlcmNlbnRhZ2UgKDAtMTAwKSB3aGVyZSAxMDAlIGlzIGRlZmluZWQgYnkgYGF1ZGlvTGV2ZWxUaHJlc2hvbGRgIHByb3BlcnR5LlxuICAgKiBEZWNyZWFzZSB0aW1lIGJldHdlZW4gc2FtcGxlcyAodG8gNTAtMTAwbXMpIHdpdGggYGRldGVjdGlvbkZyZXF1ZW5jeUluTXNgIHByb3BlcnR5LlxuICAgKi9cbiAgYXVkaW9MZXZlbDogbnVtYmVyO1xufTtcblxuZXhwb3J0IHR5cGUgU291bmRTdGF0ZUNoYW5nZUhhbmRsZXIgPSAoc3RhdGU6IFNvdW5kRGV0ZWN0b3JTdGF0ZSkgPT4gdm9pZDtcblxuY29uc3QgREVURUNUSU9OX0ZSRVFVRU5DWV9JTl9NUyA9IDUwMDtcbmNvbnN0IEFVRElPX0xFVkVMX1RIUkVTSE9MRCA9IDE1MDtcbmNvbnN0IEZGVF9TSVpFID0gMTI4O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgc291bmQgZGV0ZWN0b3IuXG4gKlxuICogQHBhcmFtIGF1ZGlvU3RyZWFtIHRoZSBhdWRpbyBzdHJlYW0gdG8gb2JzZXJ2ZS4gRGVwZW5kaW5nIG9uIHRoZSBwcm92aWRlZCBjb25maWd1cmF0aW9uLCB0aGlzIHN0cmVhbSBtaWdodCBiZSBkZXN0cm95ZWQgd2hlbiB0aGUgc291bmQgZGV0ZWN0b3IgaXMgc3RvcHBlZC5cbiAqIEBwYXJhbSBvblNvdW5kRGV0ZWN0ZWRTdGF0ZUNoYW5nZWQgYSBjYWxsYmFjayB3aGljaCBpcyBjYWxsZWQgd2hlbiB0aGUgc291bmQgc3RhdGUgY2hhbmdlcy5cbiAqIEBwYXJhbSBvcHRpb25zIGN1c3RvbSBvcHRpb25zIGZvciB0aGUgc291bmQgZGV0ZWN0b3IuXG4gKiBAcmV0dXJucyBhIGNsZWFuLXVwIGZ1bmN0aW9uIHdoaWNoIG9uY2UgaW52b2tlZCBzdG9wcyB0aGUgc291bmQgZGV0ZWN0b3IuXG4gKi9cbmV4cG9ydCBjb25zdCBjcmVhdGVTb3VuZERldGVjdG9yID0gKFxuICBhdWRpb1N0cmVhbTogTWVkaWFTdHJlYW0sXG4gIG9uU291bmREZXRlY3RlZFN0YXRlQ2hhbmdlZDogU291bmRTdGF0ZUNoYW5nZUhhbmRsZXIsXG4gIG9wdGlvbnM6IFNvdW5kRGV0ZWN0b3JPcHRpb25zID0ge30sXG4pID0+IHtcbiAgY29uc3Qge1xuICAgIGRldGVjdGlvbkZyZXF1ZW5jeUluTXMgPSBERVRFQ1RJT05fRlJFUVVFTkNZX0lOX01TLFxuICAgIGF1ZGlvTGV2ZWxUaHJlc2hvbGQgPSBBVURJT19MRVZFTF9USFJFU0hPTEQsXG4gICAgZmZ0U2l6ZSA9IEZGVF9TSVpFLFxuICAgIGRlc3Ryb3lTdHJlYW1PblN0b3AgPSB0cnVlLFxuICB9ID0gb3B0aW9ucztcblxuICBjb25zdCBhdWRpb0NvbnRleHQgPSBuZXcgQXVkaW9Db250ZXh0KCk7XG4gIGNvbnN0IGFuYWx5c2VyID0gYXVkaW9Db250ZXh0LmNyZWF0ZUFuYWx5c2VyKCk7XG4gIGFuYWx5c2VyLmZmdFNpemUgPSBmZnRTaXplO1xuXG4gIGNvbnN0IG1pY3JvcGhvbmUgPSBhdWRpb0NvbnRleHQuY3JlYXRlTWVkaWFTdHJlYW1Tb3VyY2UoYXVkaW9TdHJlYW0pO1xuICBtaWNyb3Bob25lLmNvbm5lY3QoYW5hbHlzZXIpO1xuXG4gIGNvbnN0IGludGVydmFsSWQgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgY29uc3QgZGF0YSA9IG5ldyBVaW50OEFycmF5KGFuYWx5c2VyLmZyZXF1ZW5jeUJpbkNvdW50KTtcbiAgICBhbmFseXNlci5nZXRCeXRlRnJlcXVlbmN5RGF0YShkYXRhKTtcblxuICAgIGNvbnN0IGlzU291bmREZXRlY3RlZCA9IGRhdGEuc29tZSgodmFsdWUpID0+IHZhbHVlID49IGF1ZGlvTGV2ZWxUaHJlc2hvbGQpO1xuXG4gICAgY29uc3QgYXZlcmFnZWREYXRhVmFsdWUgPSBkYXRhLnJlZHVjZSgocHYsIGN2KSA9PiBwdiArIGN2LCAwKSAvIGRhdGEubGVuZ3RoO1xuXG4gICAgY29uc3QgcGVyY2VudGFnZSA9XG4gICAgICBhdmVyYWdlZERhdGFWYWx1ZSA+IGF1ZGlvTGV2ZWxUaHJlc2hvbGRcbiAgICAgICAgPyAxMDBcbiAgICAgICAgOiBNYXRoLnJvdW5kKChhdmVyYWdlZERhdGFWYWx1ZSAvIGF1ZGlvTGV2ZWxUaHJlc2hvbGQpICogMTAwKTtcblxuICAgIC8vIFdoZW4gdGhlIHRyYWNrIGlzIGRpc2FibGVkLCBpdCB0YWtlcyB0aW1lIGZvciB0aGUgYnVmZmVyIHRvIGVtcHR5XG4gICAgLy8gVGhpcyBjaGVjayB3aWxsIGVuc3VyZSB0aGF0IHdlIGRvbid0IHNlbmQgYW55dGhpbmcgaWYgdGhlIHRyYWNrIGlzIGRpc2FibGVkXG4gICAgaWYgKGF1ZGlvU3RyZWFtLmdldEF1ZGlvVHJhY2tzKClbMF0/LmVuYWJsZWQpIHtcbiAgICAgIG9uU291bmREZXRlY3RlZFN0YXRlQ2hhbmdlZCh7IGlzU291bmREZXRlY3RlZCwgYXVkaW9MZXZlbDogcGVyY2VudGFnZSB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgb25Tb3VuZERldGVjdGVkU3RhdGVDaGFuZ2VkKHsgaXNTb3VuZERldGVjdGVkOiBmYWxzZSwgYXVkaW9MZXZlbDogMCB9KTtcbiAgICB9XG4gIH0sIGRldGVjdGlvbkZyZXF1ZW5jeUluTXMpO1xuXG4gIHJldHVybiBhc3luYyBmdW5jdGlvbiBzdG9wKCkge1xuICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxJZCk7XG5cbiAgICAvLyBjbGVhbi11cCB0aGUgQXVkaW9Db250ZXh0IGVsZW1lbnRzXG4gICAgbWljcm9waG9uZS5kaXNjb25uZWN0KCk7XG4gICAgYW5hbHlzZXIuZGlzY29ubmVjdCgpO1xuICAgIGlmIChhdWRpb0NvbnRleHQuc3RhdGUgIT09ICdjbG9zZWQnKSB7XG4gICAgICBhd2FpdCBhdWRpb0NvbnRleHQuY2xvc2UoKTtcbiAgICB9XG5cbiAgICAvLyBzdG9wIHRoZSBzdHJlYW1cbiAgICBpZiAoZGVzdHJveVN0cmVhbU9uU3RvcCkge1xuICAgICAgYXVkaW9TdHJlYW0uZ2V0VHJhY2tzKCkuZm9yRWFjaCgodHJhY2spID0+IHtcbiAgICAgICAgdHJhY2suc3RvcCgpO1xuICAgICAgICBhdWRpb1N0cmVhbS5yZW1vdmVUcmFjayh0cmFjayk7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG59O1xuIiwiaW1wb3J0IHsgQmFzZVN0YXRzIH0gZnJvbSAnLi4vc3RhdHMnO1xuaW1wb3J0IHsgU291bmRTdGF0ZUNoYW5nZUhhbmRsZXIgfSBmcm9tICcuL3NvdW5kLWRldGVjdG9yJztcbmltcG9ydCB7IGZsYXR0ZW4gfSBmcm9tICcuLi9zdGF0cy91dGlscyc7XG5cbmNvbnN0IEFVRElPX0xFVkVMX1RIUkVTSE9MRCA9IDAuMjtcblxuZXhwb3J0IGNsYXNzIFJOU3BlZWNoRGV0ZWN0b3Ige1xuICBwcml2YXRlIHBjMSA9IG5ldyBSVENQZWVyQ29ubmVjdGlvbih7fSk7XG4gIHByaXZhdGUgcGMyID0gbmV3IFJUQ1BlZXJDb25uZWN0aW9uKHt9KTtcbiAgcHJpdmF0ZSBpbnRlcnZhbElkOiBOb2RlSlMuVGltZW91dCB8IHVuZGVmaW5lZDtcbiAgcHJpdmF0ZSBhdWRpb1N0cmVhbTogTWVkaWFTdHJlYW0gfCB1bmRlZmluZWQ7XG5cbiAgLyoqXG4gICAqIFN0YXJ0cyB0aGUgc3BlZWNoIGRldGVjdGlvbi5cbiAgICovXG4gIHB1YmxpYyBhc3luYyBzdGFydCgpIHtcbiAgICB0cnkge1xuICAgICAgdGhpcy5jbGVhbnVwQXVkaW9TdHJlYW0oKTtcbiAgICAgIGNvbnN0IGF1ZGlvU3RyZWFtID0gYXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoe1xuICAgICAgICBhdWRpbzogdHJ1ZSxcbiAgICAgIH0pO1xuICAgICAgdGhpcy5hdWRpb1N0cmVhbSA9IGF1ZGlvU3RyZWFtO1xuXG4gICAgICB0aGlzLnBjMS5hZGRFdmVudExpc3RlbmVyKCdpY2VjYW5kaWRhdGUnLCBhc3luYyAoZSkgPT4ge1xuICAgICAgICBhd2FpdCB0aGlzLnBjMi5hZGRJY2VDYW5kaWRhdGUoXG4gICAgICAgICAgZS5jYW5kaWRhdGUgYXMgUlRDSWNlQ2FuZGlkYXRlSW5pdCB8IHVuZGVmaW5lZCxcbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5wYzIuYWRkRXZlbnRMaXN0ZW5lcignaWNlY2FuZGlkYXRlJywgYXN5bmMgKGUpID0+IHtcbiAgICAgICAgYXdhaXQgdGhpcy5wYzEuYWRkSWNlQ2FuZGlkYXRlKFxuICAgICAgICAgIGUuY2FuZGlkYXRlIGFzIFJUQ0ljZUNhbmRpZGF0ZUluaXQgfCB1bmRlZmluZWQsXG4gICAgICAgICk7XG4gICAgICB9KTtcblxuICAgICAgYXVkaW9TdHJlYW1cbiAgICAgICAgLmdldFRyYWNrcygpXG4gICAgICAgIC5mb3JFYWNoKCh0cmFjaykgPT4gdGhpcy5wYzEuYWRkVHJhY2sodHJhY2ssIGF1ZGlvU3RyZWFtKSk7XG4gICAgICBjb25zdCBvZmZlciA9IGF3YWl0IHRoaXMucGMxLmNyZWF0ZU9mZmVyKHt9KTtcbiAgICAgIGF3YWl0IHRoaXMucGMyLnNldFJlbW90ZURlc2NyaXB0aW9uKG9mZmVyKTtcbiAgICAgIGF3YWl0IHRoaXMucGMxLnNldExvY2FsRGVzY3JpcHRpb24ob2ZmZXIpO1xuICAgICAgY29uc3QgYW5zd2VyID0gYXdhaXQgdGhpcy5wYzIuY3JlYXRlQW5zd2VyKCk7XG4gICAgICBhd2FpdCB0aGlzLnBjMS5zZXRSZW1vdGVEZXNjcmlwdGlvbihhbnN3ZXIpO1xuICAgICAgYXdhaXQgdGhpcy5wYzIuc2V0TG9jYWxEZXNjcmlwdGlvbihhbnN3ZXIpO1xuICAgICAgY29uc3QgYXVkaW9UcmFja3MgPSBhdWRpb1N0cmVhbS5nZXRBdWRpb1RyYWNrcygpO1xuICAgICAgLy8gV2UgbmVlZCB0byBtdXRlIHRoZSBhdWRpbyB0cmFjayBmb3IgdGhpcyB0ZW1wb3Jhcnkgc3RyZWFtLCBvciBlbHNlIHlvdSB3aWxsIGhlYXIgeW91cnNlbGYgdHdpY2Ugd2hpbGUgaW4gdGhlIGNhbGwuXG4gICAgICBhdWRpb1RyYWNrcy5mb3JFYWNoKCh0cmFjaykgPT4gKHRyYWNrLmVuYWJsZWQgPSBmYWxzZSkpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAnRXJyb3IgY29ubmVjdGluZyBhbmQgbmVnb3RpYXRpbmcgYmV0d2VlbiBQZWVyQ29ubmVjdGlvbnM6JyxcbiAgICAgICAgZXJyb3IsXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTdG9wcyB0aGUgc3BlZWNoIGRldGVjdGlvbiBhbmQgcmVsZWFzZXMgYWxsIGFsbG9jYXRlZCByZXNvdXJjZXMuXG4gICAqL1xuICBwdWJsaWMgc3RvcCgpIHtcbiAgICB0aGlzLnBjMS5jbG9zZSgpO1xuICAgIHRoaXMucGMyLmNsb3NlKCk7XG4gICAgdGhpcy5jbGVhbnVwQXVkaW9TdHJlYW0oKTtcbiAgICBpZiAodGhpcy5pbnRlcnZhbElkKSB7XG4gICAgICBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWxJZCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFB1YmxpYyBtZXRob2QgdGhhdCBkZXRlY3RzIHRoZSBhdWRpbyBsZXZlbHMgYW5kIHJldHVybnMgdGhlIHN0YXR1cy5cbiAgICovXG4gIHB1YmxpYyBvblNwZWFraW5nRGV0ZWN0ZWRTdGF0ZUNoYW5nZShcbiAgICBvblNvdW5kRGV0ZWN0ZWRTdGF0ZUNoYW5nZWQ6IFNvdW5kU3RhdGVDaGFuZ2VIYW5kbGVyLFxuICApIHtcbiAgICB0aGlzLmludGVydmFsSWQgPSBzZXRJbnRlcnZhbChhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBzdGF0cyA9IChhd2FpdCB0aGlzLnBjMS5nZXRTdGF0cygpKSBhcyBSVENTdGF0c1JlcG9ydDtcbiAgICAgIGNvbnN0IHJlcG9ydCA9IGZsYXR0ZW4oc3RhdHMpO1xuICAgICAgLy8gQXVkaW8gbGV2ZWxzIGFyZSBwcmVzZW50IGluc2lkZSBzdGF0cyBvZiB0eXBlIGBtZWRpYS1zb3VyY2VgIGFuZCBvZiBraW5kIGBhdWRpb2BcbiAgICAgIGNvbnN0IGF1ZGlvTWVkaWFTb3VyY2VTdGF0cyA9IHJlcG9ydC5maW5kKFxuICAgICAgICAoc3RhdCkgPT5cbiAgICAgICAgICBzdGF0LnR5cGUgPT09ICdtZWRpYS1zb3VyY2UnICYmXG4gICAgICAgICAgKHN0YXQgYXMgUlRDUnRwU3RyZWFtU3RhdHMpLmtpbmQgPT09ICdhdWRpbycsXG4gICAgICApIGFzIEJhc2VTdGF0cztcbiAgICAgIGlmIChhdWRpb01lZGlhU291cmNlU3RhdHMpIHtcbiAgICAgICAgY29uc3QgeyBhdWRpb0xldmVsIH0gPSBhdWRpb01lZGlhU291cmNlU3RhdHM7XG4gICAgICAgIGlmIChhdWRpb0xldmVsKSB7XG4gICAgICAgICAgaWYgKGF1ZGlvTGV2ZWwgPj0gQVVESU9fTEVWRUxfVEhSRVNIT0xEKSB7XG4gICAgICAgICAgICBvblNvdW5kRGV0ZWN0ZWRTdGF0ZUNoYW5nZWQoe1xuICAgICAgICAgICAgICBpc1NvdW5kRGV0ZWN0ZWQ6IHRydWUsXG4gICAgICAgICAgICAgIGF1ZGlvTGV2ZWwsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb25Tb3VuZERldGVjdGVkU3RhdGVDaGFuZ2VkKHtcbiAgICAgICAgICAgICAgaXNTb3VuZERldGVjdGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgYXVkaW9MZXZlbDogMCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIDEwMDApO1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbElkKTtcbiAgICB9O1xuICB9XG5cbiAgcHJpdmF0ZSBjbGVhbnVwQXVkaW9TdHJlYW0oKSB7XG4gICAgaWYgKCF0aGlzLmF1ZGlvU3RyZWFtKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuYXVkaW9TdHJlYW0uZ2V0VHJhY2tzKCkuZm9yRWFjaCgodHJhY2spID0+IHRyYWNrLnN0b3AoKSk7XG4gICAgaWYgKFxuICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciByZWxlYXNlKCkgaXMgcHJlc2VudCBpbiByZWFjdC1uYXRpdmUtd2VicnRjXG4gICAgICB0eXBlb2YgdGhpcy5hdWRpb1N0cmVhbS5yZWxlYXNlID09PSAnZnVuY3Rpb24nXG4gICAgKSB7XG4gICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIGNhbGxlZCB0byBkaXNwb3NlIHRoZSBzdHJlYW0gaW4gUk5cbiAgICAgIHRoaXMuYXVkaW9TdHJlYW0ucmVsZWFzZSgpO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgY29tYmluZUxhdGVzdCwgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHR5cGUgeyBJTm9pc2VDYW5jZWxsYXRpb24gfSBmcm9tICdAc3RyZWFtLWlvL2F1ZGlvLWZpbHRlcnMtd2ViJztcbmltcG9ydCB7IENhbGwgfSBmcm9tICcuLi9DYWxsJztcbmltcG9ydCB7IElucHV0TWVkaWFEZXZpY2VNYW5hZ2VyIH0gZnJvbSAnLi9JbnB1dE1lZGlhRGV2aWNlTWFuYWdlcic7XG5pbXBvcnQgeyBNaWNyb3Bob25lTWFuYWdlclN0YXRlIH0gZnJvbSAnLi9NaWNyb3Bob25lTWFuYWdlclN0YXRlJztcbmltcG9ydCB7IFRyYWNrRGlzYWJsZU1vZGUgfSBmcm9tICcuL0lucHV0TWVkaWFEZXZpY2VNYW5hZ2VyU3RhdGUnO1xuaW1wb3J0IHsgZ2V0QXVkaW9EZXZpY2VzLCBnZXRBdWRpb1N0cmVhbSB9IGZyb20gJy4vZGV2aWNlcyc7XG5pbXBvcnQgeyBUcmFja1R5cGUgfSBmcm9tICcuLi9nZW4vdmlkZW8vc2Z1L21vZGVscy9tb2RlbHMnO1xuaW1wb3J0IHsgY3JlYXRlU291bmREZXRlY3RvciB9IGZyb20gJy4uL2hlbHBlcnMvc291bmQtZGV0ZWN0b3InO1xuaW1wb3J0IHsgaXNSZWFjdE5hdGl2ZSB9IGZyb20gJy4uL2hlbHBlcnMvcGxhdGZvcm1zJztcbmltcG9ydCB7XG4gIE5vaXNlQ2FuY2VsbGF0aW9uU2V0dGluZ3NNb2RlRW51bSxcbiAgT3duQ2FwYWJpbGl0eSxcbn0gZnJvbSAnLi4vZ2VuL2Nvb3JkaW5hdG9yJztcbmltcG9ydCB7IENhbGxpbmdTdGF0ZSB9IGZyb20gJy4uL3N0b3JlJztcbmltcG9ydCB7IGNyZWF0ZVN1YnNjcmlwdGlvbiB9IGZyb20gJy4uL3N0b3JlL3J4VXRpbHMnO1xuaW1wb3J0IHsgUk5TcGVlY2hEZXRlY3RvciB9IGZyb20gJy4uL2hlbHBlcnMvUk5TcGVlY2hEZXRlY3Rvcic7XG5pbXBvcnQgeyB3aXRob3V0Q29uY3VycmVuY3kgfSBmcm9tICcuLi9oZWxwZXJzL2NvbmN1cnJlbmN5JztcblxuZXhwb3J0IGNsYXNzIE1pY3JvcGhvbmVNYW5hZ2VyIGV4dGVuZHMgSW5wdXRNZWRpYURldmljZU1hbmFnZXI8TWljcm9waG9uZU1hbmFnZXJTdGF0ZT4ge1xuICBwcml2YXRlIHNwZWFraW5nV2hpbGVNdXRlZE5vdGlmaWNhdGlvbkVuYWJsZWQgPSB0cnVlO1xuICBwcml2YXRlIHNvdW5kRGV0ZWN0b3JDb25jdXJyZW5jeVRhZyA9IFN5bWJvbCgnc291bmREZXRlY3RvckNvbmN1cnJlbmN5VGFnJyk7XG4gIHByaXZhdGUgc291bmREZXRlY3RvckNsZWFudXA/OiBGdW5jdGlvbjtcbiAgcHJpdmF0ZSByblNwZWVjaERldGVjdG9yOiBSTlNwZWVjaERldGVjdG9yIHwgdW5kZWZpbmVkO1xuICBwcml2YXRlIG5vaXNlQ2FuY2VsbGF0aW9uOiBJTm9pc2VDYW5jZWxsYXRpb24gfCB1bmRlZmluZWQ7XG4gIHByaXZhdGUgbm9pc2VDYW5jZWxsYXRpb25DaGFuZ2VVbnN1YnNjcmliZTogKCgpID0+IHZvaWQpIHwgdW5kZWZpbmVkO1xuICBwcml2YXRlIG5vaXNlQ2FuY2VsbGF0aW9uUmVnaXN0cmF0aW9uPzogUHJvbWlzZTx2b2lkPjtcbiAgcHJpdmF0ZSB1bnJlZ2lzdGVyTm9pc2VDYW5jZWxsYXRpb24/OiAoKSA9PiBQcm9taXNlPHZvaWQ+O1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIGNhbGw6IENhbGwsXG4gICAgZGlzYWJsZU1vZGU6IFRyYWNrRGlzYWJsZU1vZGUgPSBpc1JlYWN0TmF0aXZlKClcbiAgICAgID8gJ2Rpc2FibGUtdHJhY2tzJ1xuICAgICAgOiAnc3RvcC10cmFja3MnLFxuICApIHtcbiAgICBzdXBlcihjYWxsLCBuZXcgTWljcm9waG9uZU1hbmFnZXJTdGF0ZShkaXNhYmxlTW9kZSksIFRyYWNrVHlwZS5BVURJTyk7XG5cbiAgICB0aGlzLnN1YnNjcmlwdGlvbnMucHVzaChcbiAgICAgIGNyZWF0ZVN1YnNjcmlwdGlvbihcbiAgICAgICAgY29tYmluZUxhdGVzdChbXG4gICAgICAgICAgdGhpcy5jYWxsLnN0YXRlLmNhbGxpbmdTdGF0ZSQsXG4gICAgICAgICAgdGhpcy5jYWxsLnN0YXRlLm93bkNhcGFiaWxpdGllcyQsXG4gICAgICAgICAgdGhpcy5zdGF0ZS5zZWxlY3RlZERldmljZSQsXG4gICAgICAgICAgdGhpcy5zdGF0ZS5zdGF0dXMkLFxuICAgICAgICBdKSxcbiAgICAgICAgYXN5bmMgKFtjYWxsaW5nU3RhdGUsIG93bkNhcGFiaWxpdGllcywgZGV2aWNlSWQsIHN0YXR1c10pID0+IHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKGNhbGxpbmdTdGF0ZSA9PT0gQ2FsbGluZ1N0YXRlLkxFRlQpIHtcbiAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zdG9wU3BlYWtpbmdXaGlsZU11dGVkRGV0ZWN0aW9uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY2FsbGluZ1N0YXRlICE9PSBDYWxsaW5nU3RhdGUuSk9JTkVEKSByZXR1cm47XG4gICAgICAgICAgICBpZiAoIXRoaXMuc3BlYWtpbmdXaGlsZU11dGVkTm90aWZpY2F0aW9uRW5hYmxlZCkgcmV0dXJuO1xuXG4gICAgICAgICAgICBpZiAob3duQ2FwYWJpbGl0aWVzLmluY2x1ZGVzKE93bkNhcGFiaWxpdHkuU0VORF9BVURJTykpIHtcbiAgICAgICAgICAgICAgaWYgKHN0YXR1cyA9PT0gJ2Rpc2FibGVkJykge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuc3RhcnRTcGVha2luZ1doaWxlTXV0ZWREZXRlY3Rpb24oZGV2aWNlSWQpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuc3RvcFNwZWFraW5nV2hpbGVNdXRlZERldGVjdGlvbigpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBhd2FpdCB0aGlzLnN0b3BTcGVha2luZ1doaWxlTXV0ZWREZXRlY3Rpb24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyKCd3YXJuJywgJ0NvdWxkIG5vdCBlbmFibGUgc3BlYWtpbmcgd2hpbGUgbXV0ZWQnLCBlcnIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICksXG4gICAgKTtcblxuICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5wdXNoKFxuICAgICAgY3JlYXRlU3Vic2NyaXB0aW9uKHRoaXMuY2FsbC5zdGF0ZS5jYWxsaW5nU3RhdGUkLCAoY2FsbGluZ1N0YXRlKSA9PiB7XG4gICAgICAgIC8vIGRvIG5vdGhpbmcgd2hlbiBub2lzZSBmaWx0ZXJpbmcgaXNuJ3QgdHVybmVkIG9uXG4gICAgICAgIGlmICghdGhpcy5ub2lzZUNhbmNlbGxhdGlvblJlZ2lzdHJhdGlvbiB8fCAhdGhpcy5ub2lzZUNhbmNlbGxhdGlvbilcbiAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgY29uc3QgYXV0b09uID1cbiAgICAgICAgICB0aGlzLmNhbGwuc3RhdGUuc2V0dGluZ3M/LmF1ZGlvLm5vaXNlX2NhbmNlbGxhdGlvbj8ubW9kZSA9PT1cbiAgICAgICAgICBOb2lzZUNhbmNlbGxhdGlvblNldHRpbmdzTW9kZUVudW0uQVVUT19PTjtcblxuICAgICAgICBpZiAoYXV0b09uICYmIGNhbGxpbmdTdGF0ZSA9PT0gQ2FsbGluZ1N0YXRlLkpPSU5FRCkge1xuICAgICAgICAgIHRoaXMubm9pc2VDYW5jZWxsYXRpb25SZWdpc3RyYXRpb25cbiAgICAgICAgICAgIC50aGVuKCgpID0+IHRoaXMubm9pc2VDYW5jZWxsYXRpb24/LmVuYWJsZSgpKVxuICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgICAgdGhpcy5sb2dnZXIoJ3dhcm4nLCBgRmFpbGVkIHRvIGVuYWJsZSBub2lzZSBjYW5jZWxsYXRpb25gLCBlcnIpO1xuICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jYWxsLm5vdGlmeU5vaXNlQ2FuY2VsbGF0aW9uU3RvcHBlZCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSBpZiAoY2FsbGluZ1N0YXRlID09PSBDYWxsaW5nU3RhdGUuTEVGVCkge1xuICAgICAgICAgIHRoaXMubm9pc2VDYW5jZWxsYXRpb25SZWdpc3RyYXRpb25cbiAgICAgICAgICAgIC50aGVuKCgpID0+IHRoaXMubm9pc2VDYW5jZWxsYXRpb24/LmRpc2FibGUoKSlcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICAgIHRoaXMubG9nZ2VyKCd3YXJuJywgYEZhaWxlZCB0byBkaXNhYmxlIG5vaXNlIGNhbmNlbGxhdGlvbmAsIGVycik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSksXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFbmFibGVzIG5vaXNlIGNhbmNlbGxhdGlvbiBmb3IgdGhlIG1pY3JvcGhvbmUuXG4gICAqXG4gICAqIE5vdGU6IG5vdCBzdXBwb3J0ZWQgaW4gUmVhY3QgTmF0aXZlLlxuICAgKiBAcGFyYW0gbm9pc2VDYW5jZWxsYXRpb24gLSBhIG5vaXNlIGNhbmNlbGxhdGlvbiBpbnN0YW5jZSB0byB1c2UuXG4gICAqL1xuICBhc3luYyBlbmFibGVOb2lzZUNhbmNlbGxhdGlvbihub2lzZUNhbmNlbGxhdGlvbjogSU5vaXNlQ2FuY2VsbGF0aW9uKSB7XG4gICAgaWYgKGlzUmVhY3ROYXRpdmUoKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdOb2lzZSBjYW5jZWxsYXRpb24gaXMgbm90IHN1cHBvcnRlZCBpbiBSZWFjdCBOYXRpdmUnKTtcbiAgICB9XG5cbiAgICBjb25zdCB7IG93bkNhcGFiaWxpdGllcywgc2V0dGluZ3MgfSA9IHRoaXMuY2FsbC5zdGF0ZTtcbiAgICBjb25zdCBoYXNOb2lzZUNhbmNlbGxhdGlvbkNhcGFiaWxpdHkgPSBvd25DYXBhYmlsaXRpZXMuaW5jbHVkZXMoXG4gICAgICBPd25DYXBhYmlsaXR5LkVOQUJMRV9OT0lTRV9DQU5DRUxMQVRJT04sXG4gICAgKTtcbiAgICBpZiAoIWhhc05vaXNlQ2FuY2VsbGF0aW9uQ2FwYWJpbGl0eSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdOb2lzZSBjYW5jZWxsYXRpb24gaXMgbm90IGF2YWlsYWJsZS4nKTtcbiAgICB9XG4gICAgY29uc3Qgbm9pc2VDYW5jZWxsYXRpb25TZXR0aW5ncyA9IHNldHRpbmdzPy5hdWRpby5ub2lzZV9jYW5jZWxsYXRpb247XG4gICAgaWYgKFxuICAgICAgIW5vaXNlQ2FuY2VsbGF0aW9uU2V0dGluZ3MgfHxcbiAgICAgIG5vaXNlQ2FuY2VsbGF0aW9uU2V0dGluZ3MubW9kZSA9PT1cbiAgICAgICAgTm9pc2VDYW5jZWxsYXRpb25TZXR0aW5nc01vZGVFbnVtLkRJU0FCTEVEXG4gICAgKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vaXNlIGNhbmNlbGxhdGlvbiBpcyBkaXNhYmxlZCBmb3IgdGhpcyBjYWxsIHR5cGUuJyk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICB0aGlzLm5vaXNlQ2FuY2VsbGF0aW9uID0gbm9pc2VDYW5jZWxsYXRpb247XG5cbiAgICAgIC8vIGxpc3RlbiBmb3IgY2hhbmdlIGV2ZW50cyBhbmQgbm90aWZ5IHRoZSBTRlVcbiAgICAgIHRoaXMubm9pc2VDYW5jZWxsYXRpb25DaGFuZ2VVbnN1YnNjcmliZSA9IHRoaXMubm9pc2VDYW5jZWxsYXRpb24ub24oXG4gICAgICAgICdjaGFuZ2UnLFxuICAgICAgICAoZW5hYmxlZDogYm9vbGVhbikgPT4ge1xuICAgICAgICAgIGlmIChlbmFibGVkKSB7XG4gICAgICAgICAgICB0aGlzLmNhbGwubm90aWZ5Tm9pc2VDYW5jZWxsYXRpb25TdGFydGluZygpLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgICAgdGhpcy5sb2dnZXIoJ3dhcm4nLCBgbm90aWZ5Tm9pc2VDYW5jZWxsYXRpb25TdGFydCBmYWlsZWRgLCBlcnIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY2FsbC5ub3RpZnlOb2lzZUNhbmNlbGxhdGlvblN0b3BwZWQoKS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICAgIHRoaXMubG9nZ2VyKCd3YXJuJywgYG5vdGlmeU5vaXNlQ2FuY2VsbGF0aW9uU3RvcCBmYWlsZWRgLCBlcnIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgKTtcblxuICAgICAgY29uc3QgcmVnaXN0cmF0aW9uUmVzdWx0ID0gdGhpcy5yZWdpc3RlckZpbHRlcihcbiAgICAgICAgbm9pc2VDYW5jZWxsYXRpb24udG9GaWx0ZXIoKSxcbiAgICAgICk7XG4gICAgICB0aGlzLm5vaXNlQ2FuY2VsbGF0aW9uUmVnaXN0cmF0aW9uID0gcmVnaXN0cmF0aW9uUmVzdWx0LnJlZ2lzdGVyZWQ7XG4gICAgICB0aGlzLnVucmVnaXN0ZXJOb2lzZUNhbmNlbGxhdGlvbiA9IHJlZ2lzdHJhdGlvblJlc3VsdC51bnJlZ2lzdGVyO1xuICAgICAgYXdhaXQgdGhpcy5ub2lzZUNhbmNlbGxhdGlvblJlZ2lzdHJhdGlvbjtcblxuICAgICAgLy8gaGFuZGxlcyBhbiBlZGdlIGNhc2Ugd2hlcmUgYSBub2lzZSBjYW5jZWxsYXRpb24gaXMgZW5hYmxlZCBhZnRlclxuICAgICAgLy8gdGhlIHBhcnRpY2lwYW50IGFzIGpvaW5lZCB0aGUgY2FsbCAtPiB3ZSBpbW1lZGlhdGVseSBlbmFibGUgTkNcbiAgICAgIGlmIChcbiAgICAgICAgbm9pc2VDYW5jZWxsYXRpb25TZXR0aW5ncy5tb2RlID09PVxuICAgICAgICAgIE5vaXNlQ2FuY2VsbGF0aW9uU2V0dGluZ3NNb2RlRW51bS5BVVRPX09OICYmXG4gICAgICAgIHRoaXMuY2FsbC5zdGF0ZS5jYWxsaW5nU3RhdGUgPT09IENhbGxpbmdTdGF0ZS5KT0lORURcbiAgICAgICkge1xuICAgICAgICBub2lzZUNhbmNlbGxhdGlvbi5lbmFibGUoKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICB0aGlzLmxvZ2dlcignd2FybicsICdGYWlsZWQgdG8gZW5hYmxlIG5vaXNlIGNhbmNlbGxhdGlvbicsIGUpO1xuICAgICAgYXdhaXQgdGhpcy5kaXNhYmxlTm9pc2VDYW5jZWxsYXRpb24oKS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIHRoaXMubG9nZ2VyKCd3YXJuJywgJ0ZhaWxlZCB0byBkaXNhYmxlIG5vaXNlIGNhbmNlbGxhdGlvbicsIGVycik7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRGlzYWJsZXMgbm9pc2UgY2FuY2VsbGF0aW9uIGZvciB0aGUgbWljcm9waG9uZS5cbiAgICpcbiAgICogTm90ZTogbm90IHN1cHBvcnRlZCBpbiBSZWFjdCBOYXRpdmUuXG4gICAqL1xuICBhc3luYyBkaXNhYmxlTm9pc2VDYW5jZWxsYXRpb24oKSB7XG4gICAgaWYgKGlzUmVhY3ROYXRpdmUoKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdOb2lzZSBjYW5jZWxsYXRpb24gaXMgbm90IHN1cHBvcnRlZCBpbiBSZWFjdCBOYXRpdmUnKTtcbiAgICB9XG4gICAgYXdhaXQgKHRoaXMudW5yZWdpc3Rlck5vaXNlQ2FuY2VsbGF0aW9uPy4oKSA/PyBQcm9taXNlLnJlc29sdmUoKSlcbiAgICAgIC50aGVuKCgpID0+IHRoaXMubm9pc2VDYW5jZWxsYXRpb24/LmRpc2FibGUoKSlcbiAgICAgIC50aGVuKCgpID0+IHRoaXMubm9pc2VDYW5jZWxsYXRpb25DaGFuZ2VVbnN1YnNjcmliZT8uKCkpXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICB0aGlzLmxvZ2dlcignd2FybicsICdGYWlsZWQgdG8gdW5yZWdpc3RlciBub2lzZSBjYW5jZWxsYXRpb24nLCBlcnIpO1xuICAgICAgfSk7XG5cbiAgICBhd2FpdCB0aGlzLmNhbGwubm90aWZ5Tm9pc2VDYW5jZWxsYXRpb25TdG9wcGVkKCk7XG4gIH1cblxuICAvKipcbiAgICogRW5hYmxlcyBzcGVha2luZyB3aGlsZSBtdXRlZCBub3RpZmljYXRpb24uXG4gICAqL1xuICBhc3luYyBlbmFibGVTcGVha2luZ1doaWxlTXV0ZWROb3RpZmljYXRpb24oKSB7XG4gICAgdGhpcy5zcGVha2luZ1doaWxlTXV0ZWROb3RpZmljYXRpb25FbmFibGVkID0gdHJ1ZTtcbiAgICBpZiAodGhpcy5zdGF0ZS5zdGF0dXMgPT09ICdkaXNhYmxlZCcpIHtcbiAgICAgIGF3YWl0IHRoaXMuc3RhcnRTcGVha2luZ1doaWxlTXV0ZWREZXRlY3Rpb24odGhpcy5zdGF0ZS5zZWxlY3RlZERldmljZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIERpc2FibGVzIHNwZWFraW5nIHdoaWxlIG11dGVkIG5vdGlmaWNhdGlvbi5cbiAgICovXG4gIGFzeW5jIGRpc2FibGVTcGVha2luZ1doaWxlTXV0ZWROb3RpZmljYXRpb24oKSB7XG4gICAgdGhpcy5zcGVha2luZ1doaWxlTXV0ZWROb3RpZmljYXRpb25FbmFibGVkID0gZmFsc2U7XG4gICAgYXdhaXQgdGhpcy5zdG9wU3BlYWtpbmdXaGlsZU11dGVkRGV0ZWN0aW9uKCk7XG4gIH1cblxuICBwcm90ZWN0ZWQgZ2V0RGV2aWNlcygpOiBPYnNlcnZhYmxlPE1lZGlhRGV2aWNlSW5mb1tdPiB7XG4gICAgcmV0dXJuIGdldEF1ZGlvRGV2aWNlcygpO1xuICB9XG5cbiAgcHJvdGVjdGVkIGdldFN0cmVhbShcbiAgICBjb25zdHJhaW50czogTWVkaWFUcmFja0NvbnN0cmFpbnRzLFxuICApOiBQcm9taXNlPE1lZGlhU3RyZWFtPiB7XG4gICAgcmV0dXJuIGdldEF1ZGlvU3RyZWFtKGNvbnN0cmFpbnRzKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBwdWJsaXNoU3RyZWFtKHN0cmVhbTogTWVkaWFTdHJlYW0pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm4gdGhpcy5jYWxsLnB1Ymxpc2hBdWRpb1N0cmVhbShzdHJlYW0pO1xuICB9XG5cbiAgcHJvdGVjdGVkIHN0b3BQdWJsaXNoU3RyZWFtKHN0b3BUcmFja3M6IGJvb2xlYW4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm4gdGhpcy5jYWxsLnN0b3BQdWJsaXNoKFRyYWNrVHlwZS5BVURJTywgc3RvcFRyYWNrcyk7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIHN0YXJ0U3BlYWtpbmdXaGlsZU11dGVkRGV0ZWN0aW9uKGRldmljZUlkPzogc3RyaW5nKSB7XG4gICAgYXdhaXQgd2l0aG91dENvbmN1cnJlbmN5KHRoaXMuc291bmREZXRlY3RvckNvbmN1cnJlbmN5VGFnLCBhc3luYyAoKSA9PiB7XG4gICAgICBhd2FpdCB0aGlzLnN0b3BTcGVha2luZ1doaWxlTXV0ZWREZXRlY3Rpb24oKTtcbiAgICAgIGlmIChpc1JlYWN0TmF0aXZlKCkpIHtcbiAgICAgICAgdGhpcy5yblNwZWVjaERldGVjdG9yID0gbmV3IFJOU3BlZWNoRGV0ZWN0b3IoKTtcbiAgICAgICAgYXdhaXQgdGhpcy5yblNwZWVjaERldGVjdG9yLnN0YXJ0KCk7XG4gICAgICAgIGNvbnN0IHVuc3Vic2NyaWJlID1cbiAgICAgICAgICB0aGlzLnJuU3BlZWNoRGV0ZWN0b3I/Lm9uU3BlYWtpbmdEZXRlY3RlZFN0YXRlQ2hhbmdlKChldmVudCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZS5zZXRTcGVha2luZ1doaWxlTXV0ZWQoZXZlbnQuaXNTb3VuZERldGVjdGVkKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zb3VuZERldGVjdG9yQ2xlYW51cCA9ICgpID0+IHtcbiAgICAgICAgICB1bnN1YnNjcmliZSgpO1xuICAgICAgICAgIHRoaXMucm5TcGVlY2hEZXRlY3Rvcj8uc3RvcCgpO1xuICAgICAgICAgIHRoaXMucm5TcGVlY2hEZXRlY3RvciA9IHVuZGVmaW5lZDtcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIE5lZWQgdG8gc3RhcnQgYSBuZXcgc3RyZWFtIHRoYXQncyBub3QgY29ubmVjdGVkIHRvIHB1Ymxpc2hlclxuICAgICAgICBjb25zdCBzdHJlYW0gPSBhd2FpdCB0aGlzLmdldFN0cmVhbSh7XG4gICAgICAgICAgZGV2aWNlSWQsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnNvdW5kRGV0ZWN0b3JDbGVhbnVwID0gY3JlYXRlU291bmREZXRlY3RvcihzdHJlYW0sIChldmVudCkgPT4ge1xuICAgICAgICAgIHRoaXMuc3RhdGUuc2V0U3BlYWtpbmdXaGlsZU11dGVkKGV2ZW50LmlzU291bmREZXRlY3RlZCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBzdG9wU3BlYWtpbmdXaGlsZU11dGVkRGV0ZWN0aW9uKCkge1xuICAgIGF3YWl0IHdpdGhvdXRDb25jdXJyZW5jeSh0aGlzLnNvdW5kRGV0ZWN0b3JDb25jdXJyZW5jeVRhZywgYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCF0aGlzLnNvdW5kRGV0ZWN0b3JDbGVhbnVwKSByZXR1cm47XG4gICAgICBjb25zdCBzb3VuZERldGVjdG9yQ2xlYW51cCA9IHRoaXMuc291bmREZXRlY3RvckNsZWFudXA7XG4gICAgICB0aGlzLnNvdW5kRGV0ZWN0b3JDbGVhbnVwID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy5zdGF0ZS5zZXRTcGVha2luZ1doaWxlTXV0ZWQoZmFsc2UpO1xuICAgICAgYXdhaXQgc291bmREZXRlY3RvckNsZWFudXAoKTtcbiAgICB9KTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgQmVoYXZpb3JTdWJqZWN0LCBkaXN0aW5jdFVudGlsQ2hhbmdlZCB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgSW5wdXRNZWRpYURldmljZU1hbmFnZXJTdGF0ZSB9IGZyb20gJy4vSW5wdXRNZWRpYURldmljZU1hbmFnZXJTdGF0ZSc7XG5pbXBvcnQgeyBTY3JlZW5TaGFyZVNldHRpbmdzIH0gZnJvbSAnLi4vdHlwZXMnO1xuXG5leHBvcnQgY2xhc3MgU2NyZWVuU2hhcmVTdGF0ZSBleHRlbmRzIElucHV0TWVkaWFEZXZpY2VNYW5hZ2VyU3RhdGU8RGlzcGxheU1lZGlhU3RyZWFtT3B0aW9ucz4ge1xuICBwcml2YXRlIGF1ZGlvRW5hYmxlZFN1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PGJvb2xlYW4+KHRydWUpO1xuICBwcml2YXRlIHNldHRpbmdzU3ViamVjdCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8XG4gICAgU2NyZWVuU2hhcmVTZXR0aW5ncyB8IHVuZGVmaW5lZFxuICA+KHVuZGVmaW5lZCk7XG5cbiAgLyoqXG4gICAqIEFuIE9ic2VydmFibGUgdGhhdCBlbWl0cyB0aGUgY3VycmVudCBzY3JlZW4gc2hhcmUgYXVkaW8gc3RhdHVzLlxuICAgKi9cbiAgYXVkaW9FbmFibGVkJCA9IHRoaXMuYXVkaW9FbmFibGVkU3ViamVjdFxuICAgIC5hc09ic2VydmFibGUoKVxuICAgIC5waXBlKGRpc3RpbmN0VW50aWxDaGFuZ2VkKCkpO1xuXG4gIC8qKlxuICAgKiBBbiBPYnNlcnZhYmxlIHRoYXQgZW1pdHMgdGhlIGN1cnJlbnQgc2NyZWVuIHNoYXJlIHNldHRpbmdzLlxuICAgKi9cbiAgc2V0dGluZ3MkID0gdGhpcy5zZXR0aW5nc1N1YmplY3QuYXNPYnNlcnZhYmxlKCk7XG5cbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgcHJvdGVjdGVkIGdldERldmljZUlkRnJvbVN0cmVhbSA9IChcbiAgICBzdHJlYW06IE1lZGlhU3RyZWFtLFxuICApOiBzdHJpbmcgfCB1bmRlZmluZWQgPT4ge1xuICAgIGNvbnN0IFt0cmFja10gPSBzdHJlYW0uZ2V0VHJhY2tzKCk7XG4gICAgcmV0dXJuIHRyYWNrPy5nZXRTZXR0aW5ncygpLmRldmljZUlkO1xuICB9O1xuXG4gIC8qKlxuICAgKiBUaGUgY3VycmVudCBzY3JlZW4gc2hhcmUgYXVkaW8gc3RhdHVzLlxuICAgKi9cbiAgZ2V0IGF1ZGlvRW5hYmxlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50VmFsdWUodGhpcy5hdWRpb0VuYWJsZWQkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGN1cnJlbnQgc2NyZWVuIHNoYXJlIGF1ZGlvIHN0YXR1cy5cbiAgICovXG4gIHNldEF1ZGlvRW5hYmxlZChpc0VuYWJsZWQ6IGJvb2xlYW4pIHtcbiAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLmF1ZGlvRW5hYmxlZFN1YmplY3QsIGlzRW5hYmxlZCk7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGN1cnJlbnQgc2NyZWVuIHNoYXJlIHNldHRpbmdzLlxuICAgKi9cbiAgZ2V0IHNldHRpbmdzKCkge1xuICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRWYWx1ZSh0aGlzLnNldHRpbmdzJCk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBjdXJyZW50IHNjcmVlbiBzaGFyZSBzZXR0aW5ncy5cbiAgICpcbiAgICogQHBhcmFtIHNldHRpbmdzIHRoZSBzY3JlZW4gc2hhcmUgc2V0dGluZ3MgdG8gc2V0LlxuICAgKi9cbiAgc2V0U2V0dGluZ3Moc2V0dGluZ3M6IFNjcmVlblNoYXJlU2V0dGluZ3MgfCB1bmRlZmluZWQpIHtcbiAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLnNldHRpbmdzU3ViamVjdCwgc2V0dGluZ3MpO1xuICB9XG59XG4iLCJpbXBvcnQgeyBPYnNlcnZhYmxlLCBvZiB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgSW5wdXRNZWRpYURldmljZU1hbmFnZXIgfSBmcm9tICcuL0lucHV0TWVkaWFEZXZpY2VNYW5hZ2VyJztcbmltcG9ydCB7IFNjcmVlblNoYXJlU3RhdGUgfSBmcm9tICcuL1NjcmVlblNoYXJlU3RhdGUnO1xuaW1wb3J0IHsgQ2FsbCB9IGZyb20gJy4uL0NhbGwnO1xuaW1wb3J0IHsgVHJhY2tUeXBlIH0gZnJvbSAnLi4vZ2VuL3ZpZGVvL3NmdS9tb2RlbHMvbW9kZWxzJztcbmltcG9ydCB7IGdldFNjcmVlblNoYXJlU3RyZWFtIH0gZnJvbSAnLi9kZXZpY2VzJztcbmltcG9ydCB7IFNjcmVlblNoYXJlU2V0dGluZ3MgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBjcmVhdGVTdWJzY3JpcHRpb24gfSBmcm9tICcuLi9zdG9yZS9yeFV0aWxzJztcblxuZXhwb3J0IGNsYXNzIFNjcmVlblNoYXJlTWFuYWdlciBleHRlbmRzIElucHV0TWVkaWFEZXZpY2VNYW5hZ2VyPFxuICBTY3JlZW5TaGFyZVN0YXRlLFxuICBEaXNwbGF5TWVkaWFTdHJlYW1PcHRpb25zXG4+IHtcbiAgY29uc3RydWN0b3IoY2FsbDogQ2FsbCkge1xuICAgIHN1cGVyKGNhbGwsIG5ldyBTY3JlZW5TaGFyZVN0YXRlKCksIFRyYWNrVHlwZS5TQ1JFRU5fU0hBUkUpO1xuXG4gICAgdGhpcy5zdWJzY3JpcHRpb25zLnB1c2goXG4gICAgICBjcmVhdGVTdWJzY3JpcHRpb24oY2FsbC5zdGF0ZS5zZXR0aW5ncyQsIChzZXR0aW5ncykgPT4ge1xuICAgICAgICBjb25zdCBtYXliZVRhcmdldFJlc29sdXRpb24gPSBzZXR0aW5ncz8uc2NyZWVuc2hhcmluZy50YXJnZXRfcmVzb2x1dGlvbjtcblxuICAgICAgICBpZiAobWF5YmVUYXJnZXRSZXNvbHV0aW9uKSB7XG4gICAgICAgICAgdGhpcy5zZXREZWZhdWx0Q29uc3RyYWludHMoe1xuICAgICAgICAgICAgdmlkZW86IHtcbiAgICAgICAgICAgICAgd2lkdGg6IG1heWJlVGFyZ2V0UmVzb2x1dGlvbi53aWR0aCxcbiAgICAgICAgICAgICAgaGVpZ2h0OiBtYXliZVRhcmdldFJlc29sdXRpb24uaGVpZ2h0LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSksXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXaWxsIGVuYWJsZSBzY3JlZW4gc2hhcmUgYXVkaW8gb3B0aW9ucyBvbiBzdXBwb3J0ZWQgcGxhdGZvcm1zLlxuICAgKlxuICAgKiBOb3RlOiBmb3Igb25nb2luZyBzY3JlZW4gc2hhcmUsIGF1ZGlvIHdvbid0IGJlIGVuYWJsZWQgdW50aWwgeW91XG4gICAqIHJlLXB1Ymxpc2ggdGhlIHNjcmVlbiBzaGFyZSBzdHJlYW0uXG4gICAqL1xuICBlbmFibGVTY3JlZW5TaGFyZUF1ZGlvKCk6IHZvaWQge1xuICAgIHRoaXMuc3RhdGUuc2V0QXVkaW9FbmFibGVkKHRydWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIFdpbGwgZGlzYWJsZSBzY3JlZW4gc2hhcmUgYXVkaW8gb3B0aW9ucyBvbiBzdXBwb3J0ZWQgcGxhdGZvcm1zLlxuICAgKi9cbiAgYXN5bmMgZGlzYWJsZVNjcmVlblNoYXJlQXVkaW8oKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdGhpcy5zdGF0ZS5zZXRBdWRpb0VuYWJsZWQoZmFsc2UpO1xuICAgIGlmICh0aGlzLmNhbGwucHVibGlzaGVyPy5pc1B1Ymxpc2hpbmcoVHJhY2tUeXBlLlNDUkVFTl9TSEFSRV9BVURJTykpIHtcbiAgICAgIGF3YWl0IHRoaXMuY2FsbC5zdG9wUHVibGlzaChUcmFja1R5cGUuU0NSRUVOX1NIQVJFX0FVRElPLCB0cnVlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgY3VycmVudCBzY3JlZW4gc2hhcmUgc2V0dGluZ3MuXG4gICAqL1xuICBnZXRTZXR0aW5ncygpOiBTY3JlZW5TaGFyZVNldHRpbmdzIHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5zZXR0aW5ncztcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBjdXJyZW50IHNjcmVlbiBzaGFyZSBzZXR0aW5ncy5cbiAgICpcbiAgICogQHBhcmFtIHNldHRpbmdzIHRoZSBzZXR0aW5ncyB0byBzZXQuXG4gICAqL1xuICBzZXRTZXR0aW5ncyhzZXR0aW5nczogU2NyZWVuU2hhcmVTZXR0aW5ncyB8IHVuZGVmaW5lZCk6IHZvaWQge1xuICAgIHRoaXMuc3RhdGUuc2V0U2V0dGluZ3Moc2V0dGluZ3MpO1xuICB9XG5cbiAgcHJvdGVjdGVkIGdldERldmljZXMoKTogT2JzZXJ2YWJsZTxNZWRpYURldmljZUluZm9bXT4ge1xuICAgIHJldHVybiBvZihbXSk7IC8vIHRoZXJlIGFyZSBubyBkZXZpY2VzIHRvIGJlIGxpc3RlZCBmb3IgU2NyZWVuIFNoYXJlXG4gIH1cblxuICBwcm90ZWN0ZWQgZ2V0U3RyZWFtKFxuICAgIGNvbnN0cmFpbnRzOiBEaXNwbGF5TWVkaWFTdHJlYW1PcHRpb25zLFxuICApOiBQcm9taXNlPE1lZGlhU3RyZWFtPiB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLmF1ZGlvRW5hYmxlZCkge1xuICAgICAgY29uc3RyYWludHMuYXVkaW8gPSBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIGdldFNjcmVlblNoYXJlU3RyZWFtKGNvbnN0cmFpbnRzKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBwdWJsaXNoU3RyZWFtKHN0cmVhbTogTWVkaWFTdHJlYW0pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm4gdGhpcy5jYWxsLnB1Ymxpc2hTY3JlZW5TaGFyZVN0cmVhbShzdHJlYW0pO1xuICB9XG5cbiAgcHJvdGVjdGVkIGFzeW5jIHN0b3BQdWJsaXNoU3RyZWFtKHN0b3BUcmFja3M6IGJvb2xlYW4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBhd2FpdCB0aGlzLmNhbGwuc3RvcFB1Ymxpc2goVHJhY2tUeXBlLlNDUkVFTl9TSEFSRSwgc3RvcFRyYWNrcyk7XG4gICAgYXdhaXQgdGhpcy5jYWxsLnN0b3BQdWJsaXNoKFRyYWNrVHlwZS5TQ1JFRU5fU0hBUkVfQVVESU8sIHN0b3BUcmFja3MpO1xuICB9XG5cbiAgLyoqXG4gICAqIE92ZXJyaWRlcyB0aGUgZGVmYXVsdCBgc2VsZWN0YCBtZXRob2QgdG8gdGhyb3cgYW4gZXJyb3IuXG4gICAqXG4gICAqIEBwYXJhbSBkZXZpY2VJZCBpZ25vcmVkLlxuICAgKi9cbiAgYXN5bmMgc2VsZWN0KGRldmljZUlkOiBzdHJpbmcgfCB1bmRlZmluZWQpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoaXMgbWV0aG9kIGlzIG5vdCBzdXBwb3J0ZWQgaW4gZm9yIFNjcmVlbiBTaGFyZScpO1xuICB9XG59XG4iLCJpbXBvcnQgeyBCZWhhdmlvclN1YmplY3QsIE9ic2VydmFibGUsIGRpc3RpbmN0VW50aWxDaGFuZ2VkIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBSeFV0aWxzIH0gZnJvbSAnLi4vc3RvcmUnO1xuaW1wb3J0IHsgY2hlY2tJZkF1ZGlvT3V0cHV0Q2hhbmdlU3VwcG9ydGVkIH0gZnJvbSAnLi9kZXZpY2VzJztcblxuZXhwb3J0IGNsYXNzIFNwZWFrZXJTdGF0ZSB7XG4gIHByb3RlY3RlZCBzZWxlY3RlZERldmljZVN1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PHN0cmluZz4oJycpO1xuICBwcm90ZWN0ZWQgdm9sdW1lU3ViamVjdCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8bnVtYmVyPigxKTtcbiAgLyoqXG4gICAqIFtUZWxscyBpZiB0aGUgYnJvd3NlciBzdXBwb3J0cyBhdWRpbyBvdXRwdXQgY2hhbmdlIG9uICdhdWRpbycgZWxlbWVudHNdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9IVE1MTWVkaWFFbGVtZW50L3NldFNpbmtJZCkuXG4gICAqL1xuICByZWFkb25seSBpc0RldmljZVNlbGVjdGlvblN1cHBvcnRlZCA9IGNoZWNrSWZBdWRpb091dHB1dENoYW5nZVN1cHBvcnRlZCgpO1xuXG4gIC8qKlxuICAgKiBBbiBPYnNlcnZhYmxlIHRoYXQgZW1pdHMgdGhlIGN1cnJlbnRseSBzZWxlY3RlZCBkZXZpY2VcbiAgICpcbiAgICogTm90ZTogdGhpcyBmZWF0dXJlIGlzIG5vdCBzdXBwb3J0ZWQgaW4gUmVhY3QgTmF0aXZlXG4gICAqL1xuICBzZWxlY3RlZERldmljZSQ6IE9ic2VydmFibGU8c3RyaW5nPjtcblxuICAvKipcbiAgICogQW4gT2JzZXJ2YWJsZSB0aGF0IGVtaXRzIHRoZSBjdXJyZW50bHkgc2VsZWN0ZWQgdm9sdW1lXG4gICAqXG4gICAqIE5vdGU6IHRoaXMgZmVhdHVyZSBpcyBub3Qgc3VwcG9ydGVkIGluIFJlYWN0IE5hdGl2ZVxuICAgKi9cbiAgdm9sdW1lJDogT2JzZXJ2YWJsZTxudW1iZXI+O1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuc2VsZWN0ZWREZXZpY2UkID0gdGhpcy5zZWxlY3RlZERldmljZVN1YmplY3RcbiAgICAgIC5hc09ic2VydmFibGUoKVxuICAgICAgLnBpcGUoZGlzdGluY3RVbnRpbENoYW5nZWQoKSk7XG4gICAgdGhpcy52b2x1bWUkID0gdGhpcy52b2x1bWVTdWJqZWN0XG4gICAgICAuYXNPYnNlcnZhYmxlKClcbiAgICAgIC5waXBlKGRpc3RpbmN0VW50aWxDaGFuZ2VkKCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBjdXJyZW50bHkgc2VsZWN0ZWQgZGV2aWNlXG4gICAqXG4gICAqIE5vdGU6IHRoaXMgZmVhdHVyZSBpcyBub3Qgc3VwcG9ydGVkIGluIFJlYWN0IE5hdGl2ZVxuICAgKi9cbiAgZ2V0IHNlbGVjdGVkRGV2aWNlKCkge1xuICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRWYWx1ZSh0aGlzLnNlbGVjdGVkRGV2aWNlJCk7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGN1cnJlbnRseSBzZWxlY3RlZCB2b2x1bWVcbiAgICpcbiAgICogTm90ZTogdGhpcyBmZWF0dXJlIGlzIG5vdCBzdXBwb3J0ZWQgaW4gUmVhY3QgTmF0aXZlXG4gICAqL1xuICBnZXQgdm9sdW1lKCkge1xuICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRWYWx1ZSh0aGlzLnZvbHVtZSQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGN1cnJlbnQgdmFsdWUgb2YgYW4gb2JzZXJ2YWJsZSwgb3IgdW5kZWZpbmVkIGlmIHRoZSBvYnNlcnZhYmxlIGhhc1xuICAgKiBub3QgZW1pdHRlZCBhIHZhbHVlIHlldC5cbiAgICpcbiAgICogQHBhcmFtIG9ic2VydmFibGUkIHRoZSBvYnNlcnZhYmxlIHRvIGdldCB0aGUgdmFsdWUgZnJvbS5cbiAgICovXG4gIGdldEN1cnJlbnRWYWx1ZSA9IFJ4VXRpbHMuZ2V0Q3VycmVudFZhbHVlO1xuXG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICogQHBhcmFtIGRldmljZUlkXG4gICAqL1xuICBzZXREZXZpY2UoZGV2aWNlSWQ6IHN0cmluZykge1xuICAgIHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMuc2VsZWN0ZWREZXZpY2VTdWJqZWN0LCBkZXZpY2VJZCk7XG4gIH1cblxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqIEBwYXJhbSB2b2x1bWVcbiAgICovXG4gIHNldFZvbHVtZSh2b2x1bWU6IG51bWJlcikge1xuICAgIHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMudm9sdW1lU3ViamVjdCwgdm9sdW1lKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSB2YWx1ZSBvZiB0aGUgcHJvdmlkZWQgU3ViamVjdC5cbiAgICogQW4gYHVwZGF0ZWAgY2FuIGVpdGhlciBiZSBhIG5ldyB2YWx1ZSBvciBhIGZ1bmN0aW9uIHdoaWNoIHRha2VzXG4gICAqIHRoZSBjdXJyZW50IHZhbHVlIGFuZCByZXR1cm5zIGEgbmV3IHZhbHVlLlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICpcbiAgICogQHBhcmFtIHN1YmplY3QgdGhlIHN1YmplY3QgdG8gdXBkYXRlLlxuICAgKiBAcGFyYW0gdXBkYXRlIHRoZSB1cGRhdGUgdG8gYXBwbHkgdG8gdGhlIHN1YmplY3QuXG4gICAqIEByZXR1cm4gdGhlIHVwZGF0ZWQgdmFsdWUuXG4gICAqL1xuICBwcm90ZWN0ZWQgc2V0Q3VycmVudFZhbHVlID0gUnhVdGlscy5zZXRDdXJyZW50VmFsdWU7XG59XG4iLCJpbXBvcnQgeyBjb21iaW5lTGF0ZXN0LCBTdWJzY3JpcHRpb24gfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IENhbGwgfSBmcm9tICcuLi9DYWxsJztcbmltcG9ydCB7IGlzUmVhY3ROYXRpdmUgfSBmcm9tICcuLi9oZWxwZXJzL3BsYXRmb3Jtcyc7XG5pbXBvcnQgeyBTcGVha2VyU3RhdGUgfSBmcm9tICcuL1NwZWFrZXJTdGF0ZSc7XG5pbXBvcnQgeyBkZXZpY2VJZHMkLCBnZXRBdWRpb091dHB1dERldmljZXMgfSBmcm9tICcuL2RldmljZXMnO1xuXG5leHBvcnQgY2xhc3MgU3BlYWtlck1hbmFnZXIge1xuICBwdWJsaWMgcmVhZG9ubHkgc3RhdGUgPSBuZXcgU3BlYWtlclN0YXRlKCk7XG4gIHByaXZhdGUgc3Vic2NyaXB0aW9uczogU3Vic2NyaXB0aW9uW10gPSBbXTtcbiAgcHJpdmF0ZSByZWFkb25seSBjYWxsOiBDYWxsO1xuXG4gIGNvbnN0cnVjdG9yKGNhbGw6IENhbGwpIHtcbiAgICB0aGlzLmNhbGwgPSBjYWxsO1xuICAgIGlmIChkZXZpY2VJZHMkICYmICFpc1JlYWN0TmF0aXZlKCkpIHtcbiAgICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5wdXNoKFxuICAgICAgICBjb21iaW5lTGF0ZXN0KFtkZXZpY2VJZHMkISwgdGhpcy5zdGF0ZS5zZWxlY3RlZERldmljZSRdKS5zdWJzY3JpYmUoXG4gICAgICAgICAgKFtkZXZpY2VzLCBkZXZpY2VJZF0pID0+IHtcbiAgICAgICAgICAgIGlmICghZGV2aWNlSWQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZGV2aWNlID0gZGV2aWNlcy5maW5kKFxuICAgICAgICAgICAgICAoZCkgPT4gZC5kZXZpY2VJZCA9PT0gZGV2aWNlSWQgJiYgZC5raW5kID09PSAnYXVkaW9vdXRwdXQnLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGlmICghZGV2aWNlKSB7XG4gICAgICAgICAgICAgIHRoaXMuc2VsZWN0KCcnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICApLFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogTGlzdHMgdGhlIGF2YWlsYWJsZSBhdWRpbyBvdXRwdXQgZGV2aWNlc1xuICAgKlxuICAgKiBOb3RlOiBJdCBwcm9tcHRzIHRoZSB1c2VyIGZvciBhIHBlcm1pc3Npb24gdG8gdXNlIGRldmljZXMgKGlmIG5vdCBhbHJlYWR5IGdyYW50ZWQpXG4gICAqIE5vdGU6IFRoaXMgbWV0aG9kIGlzIG5vdCBzdXBwb3J0ZWQgaW4gUmVhY3QgTmF0aXZlXG4gICAqXG4gICAqIEByZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCB3aWxsIGJlIHVwZGF0ZWQgaWYgYSBkZXZpY2UgaXMgY29ubmVjdGVkIG9yIGRpc2Nvbm5lY3RlZFxuICAgKi9cbiAgbGlzdERldmljZXMoKSB7XG4gICAgaWYgKGlzUmVhY3ROYXRpdmUoKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnVGhpcyBmZWF0dXJlIGlzIG5vdCBzdXBwb3J0ZWQgaW4gUmVhY3QgTmF0aXZlLiBQbGVhc2UgdmlzaXQgaHR0cHM6Ly9nZXRzdHJlYW0uaW8vdmlkZW8vZG9jcy9yZWFjdG5hdGl2ZS9jb3JlL2NhbWVyYS1hbmQtbWljcm9waG9uZS8jc3BlYWtlci1tYW5hZ2VtZW50IGZvciBtb3JlIGRldGFpbHMnLFxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIGdldEF1ZGlvT3V0cHV0RGV2aWNlcygpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNlbGVjdCBhIGRldmljZS5cbiAgICpcbiAgICogTm90ZTogVGhpcyBtZXRob2QgaXMgbm90IHN1cHBvcnRlZCBpbiBSZWFjdCBOYXRpdmVcbiAgICpcbiAgICogQHBhcmFtIGRldmljZUlkIGVtcHR5IHN0cmluZyBtZWFucyB0aGUgc3lzdGVtIGRlZmF1bHRcbiAgICovXG4gIHNlbGVjdChkZXZpY2VJZDogc3RyaW5nKSB7XG4gICAgaWYgKGlzUmVhY3ROYXRpdmUoKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnVGhpcyBmZWF0dXJlIGlzIG5vdCBzdXBwb3J0ZWQgaW4gUmVhY3QgTmF0aXZlLiBQbGVhc2UgdmlzaXQgaHR0cHM6Ly9nZXRzdHJlYW0uaW8vdmlkZW8vZG9jcy9yZWFjdG5hdGl2ZS9jb3JlL2NhbWVyYS1hbmQtbWljcm9waG9uZS8jc3BlYWtlci1tYW5hZ2VtZW50IGZvciBtb3JlIGRldGFpbHMnLFxuICAgICAgKTtcbiAgICB9XG4gICAgdGhpcy5zdGF0ZS5zZXREZXZpY2UoZGV2aWNlSWQpO1xuICB9XG5cbiAgLyoqXG4gICAqIERpc3Bvc2VzIHRoZSBtYW5hZ2VyLlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGRpc3Bvc2UgPSAoKSA9PiB7XG4gICAgdGhpcy5zdWJzY3JpcHRpb25zLmZvckVhY2goKHMpID0+IHMudW5zdWJzY3JpYmUoKSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgdm9sdW1lIG9mIHRoZSBhdWRpbyBlbGVtZW50c1xuICAgKiBAcGFyYW0gdm9sdW1lIGEgbnVtYmVyIGJldHdlZW4gMCBhbmQgMS5cbiAgICpcbiAgICogTm90ZTogVGhpcyBtZXRob2QgaXMgbm90IHN1cHBvcnRlZCBpbiBSZWFjdCBOYXRpdmVcbiAgICovXG4gIHNldFZvbHVtZSh2b2x1bWU6IG51bWJlcikge1xuICAgIGlmIChpc1JlYWN0TmF0aXZlKCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ1RoaXMgZmVhdHVyZSBpcyBub3Qgc3VwcG9ydGVkIGluIFJlYWN0IE5hdGl2ZS4gUGxlYXNlIHZpc2l0IGh0dHBzOi8vZ2V0c3RyZWFtLmlvL3ZpZGVvL2RvY3MvcmVhY3RuYXRpdmUvY29yZS9jYW1lcmEtYW5kLW1pY3JvcGhvbmUvI3NwZWFrZXItbWFuYWdlbWVudCBmb3IgbW9yZSBkZXRhaWxzJyxcbiAgICAgICk7XG4gICAgfVxuICAgIGlmICh2b2x1bWUgJiYgKHZvbHVtZSA8IDAgfHwgdm9sdW1lID4gMSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVm9sdW1lIG11c3QgYmUgYmV0d2VlbiAwIGFuZCAxJyk7XG4gICAgfVxuICAgIHRoaXMuc3RhdGUuc2V0Vm9sdW1lKHZvbHVtZSk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSB2b2x1bWUgb2YgYSBwYXJ0aWNpcGFudC5cbiAgICpcbiAgICogTm90ZTogVGhpcyBtZXRob2QgaXMgbm90IHN1cHBvcnRlZCBpbiBSZWFjdCBOYXRpdmUuXG4gICAqXG4gICAqIEBwYXJhbSBzZXNzaW9uSWQgdGhlIHBhcnRpY2lwYW50J3Mgc2Vzc2lvbiBpZC5cbiAgICogQHBhcmFtIHZvbHVtZSBhIG51bWJlciBiZXR3ZWVuIDAgYW5kIDEuIFNldCBpdCB0byBgdW5kZWZpbmVkYCB0byB1c2UgdGhlIGRlZmF1bHQgdm9sdW1lLlxuICAgKi9cbiAgc2V0UGFydGljaXBhbnRWb2x1bWUoc2Vzc2lvbklkOiBzdHJpbmcsIHZvbHVtZTogbnVtYmVyIHwgdW5kZWZpbmVkKSB7XG4gICAgaWYgKGlzUmVhY3ROYXRpdmUoKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnVGhpcyBmZWF0dXJlIGlzIG5vdCBzdXBwb3J0ZWQgaW4gUmVhY3QgTmF0aXZlLiBQbGVhc2UgdmlzaXQgaHR0cHM6Ly9nZXRzdHJlYW0uaW8vdmlkZW8vZG9jcy9yZWFjdG5hdGl2ZS9jb3JlL2NhbWVyYS1hbmQtbWljcm9waG9uZS8jc3BlYWtlci1tYW5hZ2VtZW50IGZvciBtb3JlIGRldGFpbHMnLFxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKHZvbHVtZSAmJiAodm9sdW1lIDwgMCB8fCB2b2x1bWUgPiAxKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdWb2x1bWUgbXVzdCBiZSBiZXR3ZWVuIDAgYW5kIDEsIG9yIHVuZGVmaW5lZCcpO1xuICAgIH1cbiAgICB0aGlzLmNhbGwuc3RhdGUudXBkYXRlUGFydGljaXBhbnQoc2Vzc2lvbklkLCB7IGF1ZGlvVm9sdW1lOiB2b2x1bWUgfSk7XG4gIH1cbn1cbiIsImltcG9ydCB7IFN0cmVhbVNmdUNsaWVudCB9IGZyb20gJy4vU3RyZWFtU2Z1Q2xpZW50JztcbmltcG9ydCB7XG4gIERpc3BhdGNoZXIsXG4gIGdldEdlbmVyaWNTZHAsXG4gIGlzU2Z1RXZlbnQsXG4gIFB1Ymxpc2hlcixcbiAgU3Vic2NyaWJlcixcbn0gZnJvbSAnLi9ydGMnO1xuaW1wb3J0IHsgbXV0ZVR5cGVUb1RyYWNrVHlwZSB9IGZyb20gJy4vcnRjL2hlbHBlcnMvdHJhY2tzJztcbmltcG9ydCB7IHRvUnRjQ29uZmlndXJhdGlvbiB9IGZyb20gJy4vcnRjL2hlbHBlcnMvcnRjQ29uZmlndXJhdGlvbic7XG5pbXBvcnQge1xuICByZWdpc3RlckV2ZW50SGFuZGxlcnMsXG4gIHJlZ2lzdGVyUmluZ2luZ0NhbGxFdmVudEhhbmRsZXJzLFxufSBmcm9tICcuL2V2ZW50cy9jYWxsRXZlbnRIYW5kbGVycyc7XG5pbXBvcnQge1xuICBDYWxsaW5nU3RhdGUsXG4gIENhbGxTdGF0ZSxcbiAgU3RyZWFtVmlkZW9Xcml0ZWFibGVTdGF0ZVN0b3JlLFxufSBmcm9tICcuL3N0b3JlJztcbmltcG9ydCB7XG4gIGNyZWF0ZVNhZmVBc3luY1N1YnNjcmlwdGlvbixcbiAgY3JlYXRlU3Vic2NyaXB0aW9uLFxuICBnZXRDdXJyZW50VmFsdWUsXG59IGZyb20gJy4vc3RvcmUvcnhVdGlscyc7XG5pbXBvcnQgdHlwZSB7XG4gIEFjY2VwdENhbGxSZXNwb25zZSxcbiAgQmxvY2tVc2VyUmVxdWVzdCxcbiAgQmxvY2tVc2VyUmVzcG9uc2UsXG4gIENhbGxSaW5nRXZlbnQsXG4gIENvbGxlY3RVc2VyRmVlZGJhY2tSZXF1ZXN0LFxuICBDb2xsZWN0VXNlckZlZWRiYWNrUmVzcG9uc2UsXG4gIENyZWRlbnRpYWxzLFxuICBFbmRDYWxsUmVzcG9uc2UsXG4gIEdldENhbGxSZXNwb25zZSxcbiAgR2V0Q2FsbFN0YXRzUmVzcG9uc2UsXG4gIEdldE9yQ3JlYXRlQ2FsbFJlcXVlc3QsXG4gIEdldE9yQ3JlYXRlQ2FsbFJlc3BvbnNlLFxuICBHb0xpdmVSZXF1ZXN0LFxuICBHb0xpdmVSZXNwb25zZSxcbiAgSm9pbkNhbGxSZXF1ZXN0LFxuICBKb2luQ2FsbFJlc3BvbnNlLFxuICBMaXN0UmVjb3JkaW5nc1Jlc3BvbnNlLFxuICBMaXN0VHJhbnNjcmlwdGlvbnNSZXNwb25zZSxcbiAgTXV0ZVVzZXJzUmVxdWVzdCxcbiAgTXV0ZVVzZXJzUmVzcG9uc2UsXG4gIFBpblJlcXVlc3QsXG4gIFBpblJlc3BvbnNlLFxuICBRdWVyeUNhbGxNZW1iZXJzUmVxdWVzdCxcbiAgUXVlcnlDYWxsTWVtYmVyc1Jlc3BvbnNlLFxuICBSZWplY3RDYWxsUmVxdWVzdCxcbiAgUmVqZWN0Q2FsbFJlc3BvbnNlLFxuICBSZXF1ZXN0UGVybWlzc2lvblJlcXVlc3QsXG4gIFJlcXVlc3RQZXJtaXNzaW9uUmVzcG9uc2UsXG4gIFNlbmRDYWxsRXZlbnRSZXF1ZXN0LFxuICBTZW5kQ2FsbEV2ZW50UmVzcG9uc2UsXG4gIFNlbmRSZWFjdGlvblJlcXVlc3QsXG4gIFNlbmRSZWFjdGlvblJlc3BvbnNlLFxuICBTdGFydEhMU0Jyb2FkY2FzdGluZ1Jlc3BvbnNlLFxuICBTdGFydFJlY29yZGluZ1JlcXVlc3QsXG4gIFN0YXJ0UmVjb3JkaW5nUmVzcG9uc2UsXG4gIFN0YXJ0VHJhbnNjcmlwdGlvblJlcXVlc3QsXG4gIFN0YXJ0VHJhbnNjcmlwdGlvblJlc3BvbnNlLFxuICBTdGF0c09wdGlvbnMsXG4gIFN0b3BITFNCcm9hZGNhc3RpbmdSZXNwb25zZSxcbiAgU3RvcExpdmVSZXNwb25zZSxcbiAgU3RvcFJlY29yZGluZ1Jlc3BvbnNlLFxuICBTdG9wVHJhbnNjcmlwdGlvblJlc3BvbnNlLFxuICBVbmJsb2NrVXNlclJlcXVlc3QsXG4gIFVuYmxvY2tVc2VyUmVzcG9uc2UsXG4gIFVucGluUmVxdWVzdCxcbiAgVW5waW5SZXNwb25zZSxcbiAgVXBkYXRlQ2FsbE1lbWJlcnNSZXF1ZXN0LFxuICBVcGRhdGVDYWxsTWVtYmVyc1Jlc3BvbnNlLFxuICBVcGRhdGVDYWxsUmVxdWVzdCxcbiAgVXBkYXRlQ2FsbFJlc3BvbnNlLFxuICBVcGRhdGVVc2VyUGVybWlzc2lvbnNSZXF1ZXN0LFxuICBVcGRhdGVVc2VyUGVybWlzc2lvbnNSZXNwb25zZSxcbiAgVmlkZW9SZXNvbHV0aW9uLFxufSBmcm9tICcuL2dlbi9jb29yZGluYXRvcic7XG5pbXBvcnQgeyBPd25DYXBhYmlsaXR5IH0gZnJvbSAnLi9nZW4vY29vcmRpbmF0b3InO1xuaW1wb3J0IHtcbiAgQXVkaW9UcmFja1R5cGUsXG4gIENhbGxDb25zdHJ1Y3RvcixcbiAgQ2FsbExlYXZlT3B0aW9ucyxcbiAgSm9pbkNhbGxEYXRhLFxuICBQdWJsaXNoT3B0aW9ucyxcbiAgVHJhY2tNdXRlVHlwZSxcbiAgVmlkZW9UcmFja1R5cGUsXG59IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHsgQmVoYXZpb3JTdWJqZWN0LCBTdWJqZWN0LCB0YWtlV2hpbGUgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IFJlY29ubmVjdERldGFpbHMgfSBmcm9tICcuL2dlbi92aWRlby9zZnUvZXZlbnQvZXZlbnRzJztcbmltcG9ydCB7XG4gIENsaWVudERldGFpbHMsXG4gIFRyYWNrVHlwZSxcbiAgV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3ksXG59IGZyb20gJy4vZ2VuL3ZpZGVvL3NmdS9tb2RlbHMvbW9kZWxzJztcbmltcG9ydCB7IGNyZWF0ZVN0YXRzUmVwb3J0ZXIsIFNmdVN0YXRzUmVwb3J0ZXIsIFN0YXRzUmVwb3J0ZXIgfSBmcm9tICcuL3N0YXRzJztcbmltcG9ydCB7IER5bmFzY2FsZU1hbmFnZXIgfSBmcm9tICcuL2hlbHBlcnMvRHluYXNjYWxlTWFuYWdlcic7XG5pbXBvcnQgeyBQZXJtaXNzaW9uc0NvbnRleHQgfSBmcm9tICcuL3Blcm1pc3Npb25zJztcbmltcG9ydCB7IENhbGxUeXBlcyB9IGZyb20gJy4vQ2FsbFR5cGUnO1xuaW1wb3J0IHsgU3RyZWFtQ2xpZW50IH0gZnJvbSAnLi9jb29yZGluYXRvci9jb25uZWN0aW9uL2NsaWVudCc7XG5pbXBvcnQgeyBzbGVlcCB9IGZyb20gJy4vY29vcmRpbmF0b3IvY29ubmVjdGlvbi91dGlscyc7XG5pbXBvcnQge1xuICBBbGxDYWxsRXZlbnRzLFxuICBDYWxsRXZlbnRMaXN0ZW5lcixcbiAgRXJyb3JGcm9tUmVzcG9uc2UsXG4gIExvZ2dlcixcbiAgUmVqZWN0UmVhc29uLFxuICBTdHJlYW1DYWxsRXZlbnQsXG59IGZyb20gJy4vY29vcmRpbmF0b3IvY29ubmVjdGlvbi90eXBlcyc7XG5pbXBvcnQgeyBnZXRDbGllbnREZXRhaWxzIH0gZnJvbSAnLi9jbGllbnQtZGV0YWlscyc7XG5pbXBvcnQgeyBnZXRMb2dnZXIgfSBmcm9tICcuL2xvZ2dlcic7XG5pbXBvcnQge1xuICBDYW1lcmFEaXJlY3Rpb24sXG4gIENhbWVyYU1hbmFnZXIsXG4gIE1pY3JvcGhvbmVNYW5hZ2VyLFxuICBTY3JlZW5TaGFyZU1hbmFnZXIsXG4gIFNwZWFrZXJNYW5hZ2VyLFxufSBmcm9tICcuL2RldmljZXMnO1xuaW1wb3J0IHsgZ2V0U2RrU2lnbmF0dXJlIH0gZnJvbSAnLi9zdGF0cy91dGlscyc7XG5pbXBvcnQgeyB3aXRob3V0Q29uY3VycmVuY3kgfSBmcm9tICcuL2hlbHBlcnMvY29uY3VycmVuY3knO1xuaW1wb3J0IHsgZW5zdXJlRXhoYXVzdGVkIH0gZnJvbSAnLi9oZWxwZXJzL2Vuc3VyZUV4aGF1c3RlZCc7XG5pbXBvcnQge1xuICBtYWtlU2FmZVByb21pc2UsXG4gIFByb21pc2VXaXRoUmVzb2x2ZXJzLFxuICBwcm9taXNlV2l0aFJlc29sdmVycyxcbn0gZnJvbSAnLi9oZWxwZXJzL3Byb21pc2UnO1xuXG4vKipcbiAqIEFuIG9iamVjdCByZXByZXNlbnRhdGlvbiBvZiBhIGBDYWxsYC5cbiAqL1xuZXhwb3J0IGNsYXNzIENhbGwge1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgdGhlIGNhbGwuXG4gICAqL1xuICByZWFkb25seSB0eXBlOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBJRCBvZiB0aGUgY2FsbC5cbiAgICovXG4gIHJlYWRvbmx5IGlkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBjYWxsIENJRC5cbiAgICovXG4gIHJlYWRvbmx5IGNpZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgc3RhdGUgb2YgdGhpcyBjYWxsLlxuICAgKi9cbiAgcmVhZG9ubHkgc3RhdGUgPSBuZXcgQ2FsbFN0YXRlKCk7XG5cbiAgLyoqXG4gICAqIEZsYWcgaW5kaWNhdGluZyB3aGV0aGVyIHRoaXMgY2FsbCBpcyBcIndhdGNoZWRcIiBhbmQgcmVjZWl2ZXNcbiAgICogdXBkYXRlcyBmcm9tIHRoZSBiYWNrZW5kLlxuICAgKi9cbiAgd2F0Y2hpbmc6IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIERldmljZSBtYW5hZ2VyIGZvciB0aGUgY2FtZXJhXG4gICAqL1xuICByZWFkb25seSBjYW1lcmE6IENhbWVyYU1hbmFnZXI7XG5cbiAgLyoqXG4gICAqIERldmljZSBtYW5hZ2VyIGZvciB0aGUgbWljcm9waG9uZS5cbiAgICovXG4gIHJlYWRvbmx5IG1pY3JvcGhvbmU6IE1pY3JvcGhvbmVNYW5hZ2VyO1xuXG4gIC8qKlxuICAgKiBEZXZpY2UgbWFuYWdlciBmb3IgdGhlIHNwZWFrZXIuXG4gICAqL1xuICByZWFkb25seSBzcGVha2VyOiBTcGVha2VyTWFuYWdlcjtcblxuICAvKipcbiAgICogRGV2aWNlIG1hbmFnZXIgZm9yIHRoZSBzY3JlZW4uXG4gICAqL1xuICByZWFkb25seSBzY3JlZW5TaGFyZTogU2NyZWVuU2hhcmVNYW5hZ2VyO1xuXG4gIC8qKlxuICAgKiBUaGUgRHluYXNjYWxlTWFuYWdlciBpbnN0YW5jZS5cbiAgICovXG4gIHJlYWRvbmx5IGR5bmFzY2FsZU1hbmFnZXI6IER5bmFzY2FsZU1hbmFnZXI7XG5cbiAgc3Vic2NyaWJlcj86IFN1YnNjcmliZXI7XG4gIHB1Ymxpc2hlcj86IFB1Ymxpc2hlcjtcblxuICAvKipcbiAgICogRmxhZyB0ZWxsaW5nIHdoZXRoZXIgdGhpcyBjYWxsIGlzIGEgXCJyaW5naW5nXCIgY2FsbC5cbiAgICovXG4gIHByaXZhdGUgcmVhZG9ubHkgcmluZ2luZ1N1YmplY3Q6IFN1YmplY3Q8Ym9vbGVhbj47XG5cbiAgLyoqXG4gICAqIFRoZSBwZXJtaXNzaW9ucyBjb250ZXh0IG9mIHRoaXMgY2FsbC5cbiAgICovXG4gIHJlYWRvbmx5IHBlcm1pc3Npb25zQ29udGV4dCA9IG5ldyBQZXJtaXNzaW9uc0NvbnRleHQoKTtcbiAgcmVhZG9ubHkgbG9nZ2VyOiBMb2dnZXI7XG5cbiAgLyoqXG4gICAqIFRoZSBldmVudCBkaXNwYXRjaGVyIGluc3RhbmNlIGRlZGljYXRlZCB0byB0aGlzIENhbGwgaW5zdGFuY2UuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBwcml2YXRlIHJlYWRvbmx5IGRpc3BhdGNoZXIgPSBuZXcgRGlzcGF0Y2hlcigpO1xuXG4gIHByaXZhdGUgcHVibGlzaE9wdGlvbnM/OiBQdWJsaXNoT3B0aW9ucztcbiAgcHJpdmF0ZSBzdGF0c1JlcG9ydGVyPzogU3RhdHNSZXBvcnRlcjtcbiAgcHJpdmF0ZSBzZnVTdGF0c1JlcG9ydGVyPzogU2Z1U3RhdHNSZXBvcnRlcjtcbiAgcHJpdmF0ZSBkcm9wVGltZW91dDogUmV0dXJuVHlwZTx0eXBlb2Ygc2V0VGltZW91dD4gfCB1bmRlZmluZWQ7XG5cbiAgcHJpdmF0ZSByZWFkb25seSBjbGllbnRTdG9yZTogU3RyZWFtVmlkZW9Xcml0ZWFibGVTdGF0ZVN0b3JlO1xuICBwdWJsaWMgcmVhZG9ubHkgc3RyZWFtQ2xpZW50OiBTdHJlYW1DbGllbnQ7XG4gIHByaXZhdGUgc2Z1Q2xpZW50PzogU3RyZWFtU2Z1Q2xpZW50O1xuICBwcml2YXRlIHNmdUNsaWVudFRhZyA9IDA7XG5cbiAgcHJpdmF0ZSByZWFkb25seSByZWNvbm5lY3RDb25jdXJyZW5jeVRhZyA9IFN5bWJvbCgncmVjb25uZWN0Q29uY3VycmVuY3lUYWcnKTtcbiAgcHJpdmF0ZSByZWNvbm5lY3RBdHRlbXB0cyA9IDA7XG4gIHByaXZhdGUgcmVjb25uZWN0U3RyYXRlZ3kgPSBXZWJzb2NrZXRSZWNvbm5lY3RTdHJhdGVneS5VTlNQRUNJRklFRDtcbiAgcHJpdmF0ZSBmYXN0UmVjb25uZWN0RGVhZGxpbmVTZWNvbmRzOiBudW1iZXIgPSAwO1xuICBwcml2YXRlIGRpc2Nvbm5lY3Rpb25UaW1lb3V0U2Vjb25kczogbnVtYmVyID0gMDtcbiAgcHJpdmF0ZSBsYXN0T2ZmbGluZVRpbWVzdGFtcDogbnVtYmVyID0gMDtcbiAgcHJpdmF0ZSBuZXR3b3JrQXZhaWxhYmxlVGFzazogUHJvbWlzZVdpdGhSZXNvbHZlcnM8dm9pZD4gfCB1bmRlZmluZWQ7XG4gIC8vIG1haW50YWluIHRoZSBvcmRlciBvZiBwdWJsaXNoaW5nIHRyYWNrcyB0byByZXN0b3JlIHRoZW0gYWZ0ZXIgYSByZWNvbm5lY3Rpb25cbiAgLy8gaXQgc2hvdWxkbid0IGNvbnRhaW4gZHVwbGljYXRlc1xuICBwcml2YXRlIHRyYWNrUHVibGlzaE9yZGVyOiBUcmFja1R5cGVbXSA9IFtdO1xuICBwcml2YXRlIGpvaW5DYWxsRGF0YT86IEpvaW5DYWxsRGF0YTtcbiAgcHJpdmF0ZSBoYXNKb2luZWRPbmNlID0gZmFsc2U7XG4gIHByaXZhdGUgZGV2aWNlU2V0dGluZ3NBcHBsaWVkT25jZSA9IGZhbHNlO1xuICBwcml2YXRlIGNyZWRlbnRpYWxzPzogQ3JlZGVudGlhbHM7XG5cbiAgcHJpdmF0ZSBpbml0aWFsaXplZCA9IGZhbHNlO1xuICBwcml2YXRlIHJlYWRvbmx5IGpvaW5MZWF2ZUNvbmN1cnJlbmN5VGFnID0gU3ltYm9sKCdqb2luTGVhdmVDb25jdXJyZW5jeVRhZycpO1xuXG4gIC8qKlxuICAgKiBBIGxpc3QgaG9va3MvZnVuY3Rpb25zIHRvIGludm9rZSB3aGVuIHRoZSBjYWxsIGlzIGxlZnQuXG4gICAqIEEgdHlwaWNhbCB1c2UgY2FzZSBpcyB0byBjbGVhbiB1cCBzb21lIGdsb2JhbCBldmVudCBoYW5kbGVycy5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHByaXZhdGUgcmVhZG9ubHkgbGVhdmVDYWxsSG9va3M6IFNldDxGdW5jdGlvbj4gPSBuZXcgU2V0KCk7XG5cbiAgcHJpdmF0ZSByZWFkb25seSBzdHJlYW1DbGllbnRCYXNlUGF0aDogc3RyaW5nO1xuICBwcml2YXRlIHN0cmVhbUNsaWVudEV2ZW50SGFuZGxlcnMgPSBuZXcgTWFwPEZ1bmN0aW9uLCAoKSA9PiB2b2lkPigpO1xuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RzIGEgbmV3IGBDYWxsYCBpbnN0YW5jZS5cbiAgICpcbiAgICogTk9URTogRG9uJ3QgY2FsbCB0aGUgY29uc3RydWN0b3IgZGlyZWN0bHksIGluc3RlYWRcbiAgICogVXNlIHRoZSBbYFN0cmVhbVZpZGVvQ2xpZW50LmNhbGxgXSguL1N0cmVhbVZpZGVvQ2xpZW50Lm1kLyNjYWxsKVxuICAgKiBtZXRob2QgdG8gY29uc3RydWN0IGEgYENhbGxgIGluc3RhbmNlLlxuICAgKi9cbiAgY29uc3RydWN0b3Ioe1xuICAgIHR5cGUsXG4gICAgaWQsXG4gICAgc3RyZWFtQ2xpZW50LFxuICAgIG1lbWJlcnMsXG4gICAgb3duQ2FwYWJpbGl0aWVzLFxuICAgIHNvcnRQYXJ0aWNpcGFudHNCeSxcbiAgICBjbGllbnRTdG9yZSxcbiAgICByaW5naW5nID0gZmFsc2UsXG4gICAgd2F0Y2hpbmcgPSBmYWxzZSxcbiAgfTogQ2FsbENvbnN0cnVjdG9yKSB7XG4gICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICB0aGlzLmlkID0gaWQ7XG4gICAgdGhpcy5jaWQgPSBgJHt0eXBlfToke2lkfWA7XG4gICAgdGhpcy5yaW5naW5nU3ViamVjdCA9IG5ldyBCZWhhdmlvclN1YmplY3QocmluZ2luZyk7XG4gICAgdGhpcy53YXRjaGluZyA9IHdhdGNoaW5nO1xuICAgIHRoaXMuc3RyZWFtQ2xpZW50ID0gc3RyZWFtQ2xpZW50O1xuICAgIHRoaXMuY2xpZW50U3RvcmUgPSBjbGllbnRTdG9yZTtcbiAgICB0aGlzLnN0cmVhbUNsaWVudEJhc2VQYXRoID0gYC9jYWxsLyR7dGhpcy50eXBlfS8ke3RoaXMuaWR9YDtcbiAgICB0aGlzLmxvZ2dlciA9IGdldExvZ2dlcihbJ0NhbGwnXSk7XG5cbiAgICBjb25zdCBjYWxsVHlwZUNvbmZpZyA9IENhbGxUeXBlcy5nZXQodHlwZSk7XG4gICAgY29uc3QgcGFydGljaXBhbnRTb3J0ZXIgPVxuICAgICAgc29ydFBhcnRpY2lwYW50c0J5IHx8IGNhbGxUeXBlQ29uZmlnLm9wdGlvbnMuc29ydFBhcnRpY2lwYW50c0J5O1xuICAgIGlmIChwYXJ0aWNpcGFudFNvcnRlcikge1xuICAgICAgdGhpcy5zdGF0ZS5zZXRTb3J0UGFydGljaXBhbnRzQnkocGFydGljaXBhbnRTb3J0ZXIpO1xuICAgIH1cblxuICAgIHRoaXMuc3RhdGUuc2V0TWVtYmVycyhtZW1iZXJzIHx8IFtdKTtcbiAgICB0aGlzLnN0YXRlLnNldE93bkNhcGFiaWxpdGllcyhvd25DYXBhYmlsaXRpZXMgfHwgW10pO1xuICAgIHRoaXMuc3RhdGUuc2V0Q2FsbGluZ1N0YXRlKFxuICAgICAgcmluZ2luZyA/IENhbGxpbmdTdGF0ZS5SSU5HSU5HIDogQ2FsbGluZ1N0YXRlLklETEUsXG4gICAgKTtcblxuICAgIHRoaXMuY2FtZXJhID0gbmV3IENhbWVyYU1hbmFnZXIodGhpcyk7XG4gICAgdGhpcy5taWNyb3Bob25lID0gbmV3IE1pY3JvcGhvbmVNYW5hZ2VyKHRoaXMpO1xuICAgIHRoaXMuc3BlYWtlciA9IG5ldyBTcGVha2VyTWFuYWdlcih0aGlzKTtcbiAgICB0aGlzLnNjcmVlblNoYXJlID0gbmV3IFNjcmVlblNoYXJlTWFuYWdlcih0aGlzKTtcbiAgICB0aGlzLmR5bmFzY2FsZU1hbmFnZXIgPSBuZXcgRHluYXNjYWxlTWFuYWdlcih0aGlzLnN0YXRlLCB0aGlzLnNwZWFrZXIpO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBzZXR1cCgpIHtcbiAgICBhd2FpdCB3aXRob3V0Q29uY3VycmVuY3kodGhpcy5qb2luTGVhdmVDb25jdXJyZW5jeVRhZywgYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKHRoaXMuaW5pdGlhbGl6ZWQpIHJldHVybjtcblxuICAgICAgdGhpcy5sZWF2ZUNhbGxIb29rcy5hZGQoXG4gICAgICAgIHRoaXMub24oJ2FsbCcsIChldmVudCkgPT4ge1xuICAgICAgICAgIC8vIHVwZGF0ZSBzdGF0ZSB3aXRoIHRoZSBsYXRlc3QgZXZlbnQgZGF0YVxuICAgICAgICAgIHRoaXMuc3RhdGUudXBkYXRlRnJvbUV2ZW50KGV2ZW50KTtcbiAgICAgICAgfSksXG4gICAgICApO1xuXG4gICAgICB0aGlzLmxlYXZlQ2FsbEhvb2tzLmFkZChyZWdpc3RlckV2ZW50SGFuZGxlcnModGhpcywgdGhpcy5kaXNwYXRjaGVyKSk7XG4gICAgICB0aGlzLnJlZ2lzdGVyRWZmZWN0cygpO1xuICAgICAgdGhpcy5yZWdpc3RlclJlY29ubmVjdEhhbmRsZXJzKCk7XG5cbiAgICAgIGlmICh0aGlzLnN0YXRlLmNhbGxpbmdTdGF0ZSA9PT0gQ2FsbGluZ1N0YXRlLkxFRlQpIHtcbiAgICAgICAgdGhpcy5zdGF0ZS5zZXRDYWxsaW5nU3RhdGUoQ2FsbGluZ1N0YXRlLklETEUpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmluaXRpYWxpemVkID0gdHJ1ZTtcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgcmVnaXN0ZXJFZmZlY3RzKCkge1xuICAgIHRoaXMubGVhdmVDYWxsSG9va3MuYWRkKFxuICAgICAgLy8gaGFuZGxlcyB1cGRhdGluZyB0aGUgcGVybWlzc2lvbnMgY29udGV4dCB3aGVuIHRoZSBzZXR0aW5ncyBjaGFuZ2UuXG4gICAgICBjcmVhdGVTdWJzY3JpcHRpb24odGhpcy5zdGF0ZS5zZXR0aW5ncyQsIChzZXR0aW5ncykgPT4ge1xuICAgICAgICBpZiAoIXNldHRpbmdzKSByZXR1cm47XG4gICAgICAgIHRoaXMucGVybWlzc2lvbnNDb250ZXh0LnNldENhbGxTZXR0aW5ncyhzZXR0aW5ncyk7XG4gICAgICB9KSxcbiAgICApO1xuXG4gICAgdGhpcy5sZWF2ZUNhbGxIb29rcy5hZGQoXG4gICAgICAvLyBoYW5kbGUgdGhlIGNhc2Ugd2hlbiB0aGUgdXNlciBwZXJtaXNzaW9ucyBhcmUgbW9kaWZpZWQuXG4gICAgICBjcmVhdGVTYWZlQXN5bmNTdWJzY3JpcHRpb24oXG4gICAgICAgIHRoaXMuc3RhdGUub3duQ2FwYWJpbGl0aWVzJCxcbiAgICAgICAgdGhpcy5oYW5kbGVPd25DYXBhYmlsaXRpZXNVcGRhdGVkLFxuICAgICAgKSxcbiAgICApO1xuXG4gICAgdGhpcy5sZWF2ZUNhbGxIb29rcy5hZGQoXG4gICAgICAvLyBoYW5kbGVzIHRoZSBjYXNlIHdoZW4gdGhlIHVzZXIgaXMgYmxvY2tlZCBieSB0aGUgY2FsbCBvd25lci5cbiAgICAgIGNyZWF0ZVN1YnNjcmlwdGlvbih0aGlzLnN0YXRlLmJsb2NrZWRVc2VySWRzJCwgYXN5bmMgKGJsb2NrZWRVc2VySWRzKSA9PiB7XG4gICAgICAgIGlmICghYmxvY2tlZFVzZXJJZHMgfHwgYmxvY2tlZFVzZXJJZHMubGVuZ3RoID09PSAwKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGN1cnJlbnRVc2VySWQgPSB0aGlzLmN1cnJlbnRVc2VySWQ7XG4gICAgICAgIGlmIChjdXJyZW50VXNlcklkICYmIGJsb2NrZWRVc2VySWRzLmluY2x1ZGVzKGN1cnJlbnRVc2VySWQpKSB7XG4gICAgICAgICAgdGhpcy5sb2dnZXIoJ2luZm8nLCAnTGVhdmluZyBjYWxsIGJlY2F1c2Ugb2YgYmVpbmcgYmxvY2tlZCcpO1xuICAgICAgICAgIGF3YWl0IHRoaXMubGVhdmUoeyByZWFzb246ICd1c2VyIGJsb2NrZWQnIH0pLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyKCdlcnJvcicsICdFcnJvciBsZWF2aW5nIGNhbGwgYWZ0ZXIgYmVpbmcgYmxvY2tlZCcsIGVycik7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pLFxuICAgICk7XG5cbiAgICB0aGlzLmxlYXZlQ2FsbEhvb2tzLmFkZChcbiAgICAgIC8vIGNhbmNlbCBhdXRvLWRyb3Agd2hlbiBjYWxsIGlzXG4gICAgICBjcmVhdGVTdWJzY3JpcHRpb24odGhpcy5zdGF0ZS5zZXNzaW9uJCwgKHNlc3Npb24pID0+IHtcbiAgICAgICAgaWYgKCF0aGlzLnJpbmdpbmcpIHJldHVybjtcblxuICAgICAgICBjb25zdCByZWNlaXZlcklkID0gdGhpcy5jbGllbnRTdG9yZS5jb25uZWN0ZWRVc2VyPy5pZDtcbiAgICAgICAgaWYgKCFyZWNlaXZlcklkKSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgaXNBY2NlcHRlZEJ5TWUgPSBCb29sZWFuKHNlc3Npb24/LmFjY2VwdGVkX2J5W3JlY2VpdmVySWRdKTtcbiAgICAgICAgY29uc3QgaXNSZWplY3RlZEJ5TWUgPSBCb29sZWFuKHNlc3Npb24/LnJlamVjdGVkX2J5W3JlY2VpdmVySWRdKTtcblxuICAgICAgICBpZiAoaXNBY2NlcHRlZEJ5TWUgfHwgaXNSZWplY3RlZEJ5TWUpIHtcbiAgICAgICAgICB0aGlzLmNhbmNlbEF1dG9Ecm9wKCk7XG4gICAgICAgIH1cbiAgICAgIH0pLFxuICAgICk7XG5cbiAgICB0aGlzLmxlYXZlQ2FsbEhvb2tzLmFkZChcbiAgICAgIC8vIFwicmluZ2luZ1wiIG1vZGUgZWZmZWN0cyBhbmQgZXZlbnQgaGFuZGxlcnNcbiAgICAgIGNyZWF0ZVN1YnNjcmlwdGlvbih0aGlzLnJpbmdpbmdTdWJqZWN0LCAoaXNSaW5naW5nKSA9PiB7XG4gICAgICAgIGlmICghaXNSaW5naW5nKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGNhbGxTZXNzaW9uID0gdGhpcy5zdGF0ZS5zZXNzaW9uO1xuICAgICAgICBjb25zdCByZWNlaXZlcl9pZCA9IHRoaXMuY2xpZW50U3RvcmUuY29ubmVjdGVkVXNlcj8uaWQ7XG4gICAgICAgIGNvbnN0IGVuZGVkX2F0ID0gY2FsbFNlc3Npb24/LmVuZGVkX2F0O1xuICAgICAgICBjb25zdCBjcmVhdGVkX2J5X2lkID0gdGhpcy5zdGF0ZS5jcmVhdGVkQnk/LmlkO1xuICAgICAgICBjb25zdCByZWplY3RlZF9ieSA9IGNhbGxTZXNzaW9uPy5yZWplY3RlZF9ieTtcbiAgICAgICAgY29uc3QgYWNjZXB0ZWRfYnkgPSBjYWxsU2Vzc2lvbj8uYWNjZXB0ZWRfYnk7XG4gICAgICAgIGxldCBsZWF2ZUNhbGxJZGxlID0gZmFsc2U7XG4gICAgICAgIGlmIChlbmRlZF9hdCkge1xuICAgICAgICAgIC8vIGNhbGwgd2FzIGVuZGVkIGJlZm9yZSBpdCB3YXMgYWNjZXB0ZWQgb3IgcmVqZWN0ZWQgc28gd2Ugc2hvdWxkIGxlYXZlIGl0IHRvIGlkbGVcbiAgICAgICAgICBsZWF2ZUNhbGxJZGxlID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIGlmIChjcmVhdGVkX2J5X2lkICYmIHJlamVjdGVkX2J5KSB7XG4gICAgICAgICAgaWYgKHJlamVjdGVkX2J5W2NyZWF0ZWRfYnlfaWRdKSB7XG4gICAgICAgICAgICAvLyBjYWxsIHdhcyBjYW5jZWxsZWQgYnkgdGhlIGNhbGxlclxuICAgICAgICAgICAgbGVhdmVDYWxsSWRsZSA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHJlY2VpdmVyX2lkICYmIHJlamVjdGVkX2J5KSB7XG4gICAgICAgICAgaWYgKHJlamVjdGVkX2J5W3JlY2VpdmVyX2lkXSkge1xuICAgICAgICAgICAgLy8gY2FsbCB3YXMgcmVqZWN0ZWQgYnkgdGhlIHJlY2VpdmVyIGluIHNvbWUgb3RoZXIgZGV2aWNlXG4gICAgICAgICAgICBsZWF2ZUNhbGxJZGxlID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAocmVjZWl2ZXJfaWQgJiYgYWNjZXB0ZWRfYnkpIHtcbiAgICAgICAgICBpZiAoYWNjZXB0ZWRfYnlbcmVjZWl2ZXJfaWRdKSB7XG4gICAgICAgICAgICAvLyBjYWxsIHdhcyBhY2NlcHRlZCBieSB0aGUgcmVjZWl2ZXIgaW4gc29tZSBvdGhlciBkZXZpY2VcbiAgICAgICAgICAgIGxlYXZlQ2FsbElkbGUgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAobGVhdmVDYWxsSWRsZSkge1xuICAgICAgICAgIGlmICh0aGlzLnN0YXRlLmNhbGxpbmdTdGF0ZSAhPT0gQ2FsbGluZ1N0YXRlLklETEUpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUuc2V0Q2FsbGluZ1N0YXRlKENhbGxpbmdTdGF0ZS5JRExFKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKHRoaXMuc3RhdGUuY2FsbGluZ1N0YXRlID09PSBDYWxsaW5nU3RhdGUuSURMRSkge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZS5zZXRDYWxsaW5nU3RhdGUoQ2FsbGluZ1N0YXRlLlJJTkdJTkcpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLnNjaGVkdWxlQXV0b0Ryb3AoKTtcbiAgICAgICAgICB0aGlzLmxlYXZlQ2FsbEhvb2tzLmFkZChyZWdpc3RlclJpbmdpbmdDYWxsRXZlbnRIYW5kbGVycyh0aGlzKSk7XG4gICAgICAgIH1cbiAgICAgIH0pLFxuICAgICk7XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZU93bkNhcGFiaWxpdGllc1VwZGF0ZWQgPSBhc3luYyAoXG4gICAgb3duQ2FwYWJpbGl0aWVzOiBPd25DYXBhYmlsaXR5W10sXG4gICkgPT4ge1xuICAgIC8vIHVwZGF0ZSB0aGUgcGVybWlzc2lvbiBjb250ZXh0LlxuICAgIHRoaXMucGVybWlzc2lvbnNDb250ZXh0LnNldFBlcm1pc3Npb25zKG93bkNhcGFiaWxpdGllcyk7XG5cbiAgICBpZiAoIXRoaXMucHVibGlzaGVyKSByZXR1cm47XG5cbiAgICAvLyBjaGVjayBpZiB0aGUgdXNlciBzdGlsbCBoYXMgcHVibGlzaGluZyBwZXJtaXNzaW9ucyBhbmQgc3RvcCBwdWJsaXNoaW5nIGlmIG5vdC5cbiAgICBjb25zdCBwZXJtaXNzaW9uVG9UcmFja1R5cGUgPSB7XG4gICAgICBbT3duQ2FwYWJpbGl0eS5TRU5EX0FVRElPXTogVHJhY2tUeXBlLkFVRElPLFxuICAgICAgW093bkNhcGFiaWxpdHkuU0VORF9WSURFT106IFRyYWNrVHlwZS5WSURFTyxcbiAgICAgIFtPd25DYXBhYmlsaXR5LlNDUkVFTlNIQVJFXTogVHJhY2tUeXBlLlNDUkVFTl9TSEFSRSxcbiAgICB9O1xuICAgIGZvciAoY29uc3QgW3Blcm1pc3Npb24sIHRyYWNrVHlwZV0gb2YgT2JqZWN0LmVudHJpZXMoXG4gICAgICBwZXJtaXNzaW9uVG9UcmFja1R5cGUsXG4gICAgKSkge1xuICAgICAgY29uc3QgaGFzUGVybWlzc2lvbiA9IHRoaXMucGVybWlzc2lvbnNDb250ZXh0Lmhhc1Blcm1pc3Npb24oXG4gICAgICAgIHBlcm1pc3Npb24gYXMgT3duQ2FwYWJpbGl0eSxcbiAgICAgICk7XG4gICAgICBpZiAoaGFzUGVybWlzc2lvbikgY29udGludWU7XG4gICAgICB0cnkge1xuICAgICAgICBzd2l0Y2ggKHRyYWNrVHlwZSkge1xuICAgICAgICAgIGNhc2UgVHJhY2tUeXBlLkFVRElPOlxuICAgICAgICAgICAgaWYgKHRoaXMubWljcm9waG9uZS5lbmFibGVkKSBhd2FpdCB0aGlzLm1pY3JvcGhvbmUuZGlzYWJsZSgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBUcmFja1R5cGUuVklERU86XG4gICAgICAgICAgICBpZiAodGhpcy5jYW1lcmEuZW5hYmxlZCkgYXdhaXQgdGhpcy5jYW1lcmEuZGlzYWJsZSgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBUcmFja1R5cGUuU0NSRUVOX1NIQVJFOlxuICAgICAgICAgICAgaWYgKHRoaXMuc2NyZWVuU2hhcmUuZW5hYmxlZCkgYXdhaXQgdGhpcy5zY3JlZW5TaGFyZS5kaXNhYmxlKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHRoaXMubG9nZ2VyKFxuICAgICAgICAgICdlcnJvcicsXG4gICAgICAgICAgYENhbid0IGRpc2FibGUgbWljL2NhbWVyYS9zY3JlZW5zaGFyZSBhZnRlciByZXZva2VkIHBlcm1pc3Npb25zYCxcbiAgICAgICAgICBlcnIsXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBZb3UgY2FuIHN1YnNjcmliZSB0byBXZWJTb2NrZXQgZXZlbnRzIHByb3ZpZGVkIGJ5IHRoZSBBUEkuIFRvIHJlbW92ZSBhIHN1YnNjcmlwdGlvbiwgY2FsbCB0aGUgYG9mZmAgbWV0aG9kLlxuICAgKiBQbGVhc2Ugbm90ZSB0aGF0IHN1YnNjcmliaW5nIHRvIFdlYlNvY2tldCBldmVudHMgaXMgYW4gYWR2YW5jZWQgdXNlLWNhc2UuXG4gICAqIEZvciBtb3N0IHVzZS1jYXNlcywgaXQgc2hvdWxkIGJlIGVub3VnaCB0byB3YXRjaCBmb3Igc3RhdGUgY2hhbmdlcy5cbiAgICpcbiAgICogQHBhcmFtIGV2ZW50TmFtZSB0aGUgZXZlbnQgbmFtZS5cbiAgICogQHBhcmFtIGZuIHRoZSBldmVudCBoYW5kbGVyLlxuICAgKi9cbiAgb24gPSA8RSBleHRlbmRzIGtleW9mIEFsbENhbGxFdmVudHM+KFxuICAgIGV2ZW50TmFtZTogRSxcbiAgICBmbjogQ2FsbEV2ZW50TGlzdGVuZXI8RT4sXG4gICkgPT4ge1xuICAgIGlmIChpc1NmdUV2ZW50KGV2ZW50TmFtZSkpIHtcbiAgICAgIHJldHVybiB0aGlzLmRpc3BhdGNoZXIub24oZXZlbnROYW1lLCBmbik7XG4gICAgfVxuXG4gICAgY29uc3Qgb2ZmSGFuZGxlciA9IHRoaXMuc3RyZWFtQ2xpZW50Lm9uKGV2ZW50TmFtZSwgKGUpID0+IHtcbiAgICAgIGNvbnN0IGV2ZW50ID0gZSBhcyBTdHJlYW1DYWxsRXZlbnQ7XG4gICAgICBpZiAoZXZlbnQuY2FsbF9jaWQgJiYgZXZlbnQuY2FsbF9jaWQgPT09IHRoaXMuY2lkKSB7XG4gICAgICAgIGZuKGV2ZW50IGFzIEFsbENhbGxFdmVudHNbRV0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8ga2VlcCB0aGUgJ29mZicgcmVmZXJlbmNlIHJldHVybmVkIGJ5IHRoZSBzdHJlYW0gY2xpZW50XG4gICAgdGhpcy5zdHJlYW1DbGllbnRFdmVudEhhbmRsZXJzLnNldChmbiwgb2ZmSGFuZGxlcik7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHRoaXMub2ZmKGV2ZW50TmFtZSwgZm4pO1xuICAgIH07XG4gIH07XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBzdWJzY3JpcHRpb24gZm9yIFdlYlNvY2tldCBldmVudHMgdGhhdCB3ZXJlIGNyZWF0ZWQgYnkgdGhlIGBvbmAgbWV0aG9kLlxuICAgKlxuICAgKiBAcGFyYW0gZXZlbnROYW1lIHRoZSBldmVudCBuYW1lLlxuICAgKiBAcGFyYW0gZm4gdGhlIGV2ZW50IGhhbmRsZXIuXG4gICAqL1xuICBvZmYgPSA8RSBleHRlbmRzIGtleW9mIEFsbENhbGxFdmVudHM+KFxuICAgIGV2ZW50TmFtZTogRSxcbiAgICBmbjogQ2FsbEV2ZW50TGlzdGVuZXI8RT4sXG4gICkgPT4ge1xuICAgIGlmIChpc1NmdUV2ZW50KGV2ZW50TmFtZSkpIHtcbiAgICAgIHJldHVybiB0aGlzLmRpc3BhdGNoZXIub2ZmKGV2ZW50TmFtZSwgZm4pO1xuICAgIH1cblxuICAgIC8vIHVuc3Vic2NyaWJlIGZyb20gdGhlIHN0cmVhbSBjbGllbnQgZXZlbnQgYnkgdXNpbmcgdGhlICdvZmYnIHJlZmVyZW5jZVxuICAgIGNvbnN0IHJlZ2lzdGVyZWRPZmZIYW5kbGVyID0gdGhpcy5zdHJlYW1DbGllbnRFdmVudEhhbmRsZXJzLmdldChmbik7XG4gICAgaWYgKHJlZ2lzdGVyZWRPZmZIYW5kbGVyKSB7XG4gICAgICByZWdpc3RlcmVkT2ZmSGFuZGxlcigpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogTGVhdmUgdGhlIGNhbGwgYW5kIHN0b3AgdGhlIG1lZGlhIHN0cmVhbXMgdGhhdCB3ZXJlIHB1Ymxpc2hlZCBieSB0aGUgY2FsbC5cbiAgICovXG4gIGxlYXZlID0gYXN5bmMgKHtcbiAgICByZWplY3QsXG4gICAgcmVhc29uID0gJ3VzZXIgaXMgbGVhdmluZyB0aGUgY2FsbCcsXG4gIH06IENhbGxMZWF2ZU9wdGlvbnMgPSB7fSkgPT4ge1xuICAgIGF3YWl0IHdpdGhvdXRDb25jdXJyZW5jeSh0aGlzLmpvaW5MZWF2ZUNvbmN1cnJlbmN5VGFnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBjYWxsaW5nU3RhdGUgPSB0aGlzLnN0YXRlLmNhbGxpbmdTdGF0ZTtcbiAgICAgIGlmIChjYWxsaW5nU3RhdGUgPT09IENhbGxpbmdTdGF0ZS5MRUZUKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGxlYXZlIGNhbGwgdGhhdCBoYXMgYWxyZWFkeSBiZWVuIGxlZnQuJyk7XG4gICAgICB9XG5cbiAgICAgIGlmIChjYWxsaW5nU3RhdGUgPT09IENhbGxpbmdTdGF0ZS5KT0lOSU5HKSB7XG4gICAgICAgIGNvbnN0IHdhaXRVbnRpbENhbGxKb2luZWQgPSAoKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlPHZvaWQ+KChyZXNvbHZlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlLmNhbGxpbmdTdGF0ZSRcbiAgICAgICAgICAgICAgLnBpcGUodGFrZVdoaWxlKChzdGF0ZSkgPT4gc3RhdGUgIT09IENhbGxpbmdTdGF0ZS5KT0lORUQsIHRydWUpKVxuICAgICAgICAgICAgICAuc3Vic2NyaWJlKCgpID0+IHJlc29sdmUoKSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIGF3YWl0IHdhaXRVbnRpbENhbGxKb2luZWQoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGNhbGxpbmdTdGF0ZSA9PT0gQ2FsbGluZ1N0YXRlLlJJTkdJTkcgJiYgcmVqZWN0ICE9PSBmYWxzZSkge1xuICAgICAgICBpZiAocmVqZWN0KSB7XG4gICAgICAgICAgYXdhaXQgdGhpcy5yZWplY3QocmVhc29uKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBpZiByZWplY3Qgd2FzIHVuZGVmaW5lZCwgd2Ugc3RpbGwgaGF2ZSB0byBjYW5jZWwgdGhlIGNhbGwgYXV0b21hdGljYWxseVxuICAgICAgICAgIC8vIHdoZW4gSSBhbSB0aGUgY3JlYXRvciBhbmQgZXZlcnlvbmUgZWxzZSBsZWZ0IHRoZSBjYWxsXG4gICAgICAgICAgY29uc3QgaGFzT3RoZXJQYXJ0aWNpcGFudHMgPSB0aGlzLnN0YXRlLnJlbW90ZVBhcnRpY2lwYW50cy5sZW5ndGggPiAwO1xuICAgICAgICAgIGlmICh0aGlzLmlzQ3JlYXRlZEJ5TWUgJiYgIWhhc090aGVyUGFydGljaXBhbnRzKSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnJlamVjdCgnY2FuY2VsJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMuc3RhdHNSZXBvcnRlcj8uc3RvcCgpO1xuICAgICAgdGhpcy5zdGF0c1JlcG9ydGVyID0gdW5kZWZpbmVkO1xuXG4gICAgICB0aGlzLnNmdVN0YXRzUmVwb3J0ZXI/LnN0b3AoKTtcbiAgICAgIHRoaXMuc2Z1U3RhdHNSZXBvcnRlciA9IHVuZGVmaW5lZDtcblxuICAgICAgdGhpcy5zdWJzY3JpYmVyPy5jbG9zZSgpO1xuICAgICAgdGhpcy5zdWJzY3JpYmVyID0gdW5kZWZpbmVkO1xuXG4gICAgICB0aGlzLnB1Ymxpc2hlcj8uY2xvc2UoeyBzdG9wVHJhY2tzOiB0cnVlIH0pO1xuICAgICAgdGhpcy5wdWJsaXNoZXIgPSB1bmRlZmluZWQ7XG5cbiAgICAgIGF3YWl0IHRoaXMuc2Z1Q2xpZW50Py5sZWF2ZUFuZENsb3NlKHJlYXNvbik7XG4gICAgICB0aGlzLnNmdUNsaWVudCA9IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMuZHluYXNjYWxlTWFuYWdlci5zZXRTZnVDbGllbnQodW5kZWZpbmVkKTtcblxuICAgICAgdGhpcy5zdGF0ZS5zZXRDYWxsaW5nU3RhdGUoQ2FsbGluZ1N0YXRlLkxFRlQpO1xuXG4gICAgICAvLyBDYWxsIGFsbCBsZWF2ZSBjYWxsIGhvb2tzLCBlLmcuIHRvIGNsZWFuIHVwIGdsb2JhbCBldmVudCBoYW5kbGVyc1xuICAgICAgdGhpcy5sZWF2ZUNhbGxIb29rcy5mb3JFYWNoKChob29rKSA9PiBob29rKCkpO1xuICAgICAgdGhpcy5pbml0aWFsaXplZCA9IGZhbHNlO1xuICAgICAgdGhpcy5oYXNKb2luZWRPbmNlID0gZmFsc2U7XG4gICAgICB0aGlzLmNsaWVudFN0b3JlLnVucmVnaXN0ZXJDYWxsKHRoaXMpO1xuXG4gICAgICB0aGlzLmNhbWVyYS5kaXNwb3NlKCk7XG4gICAgICB0aGlzLm1pY3JvcGhvbmUuZGlzcG9zZSgpO1xuICAgICAgdGhpcy5zY3JlZW5TaGFyZS5kaXNwb3NlKCk7XG4gICAgICB0aGlzLnNwZWFrZXIuZGlzcG9zZSgpO1xuXG4gICAgICBjb25zdCBzdG9wT25MZWF2ZVByb21pc2VzOiBQcm9taXNlPHZvaWQ+W10gPSBbXTtcbiAgICAgIGlmICh0aGlzLmNhbWVyYS5zdG9wT25MZWF2ZSkge1xuICAgICAgICBzdG9wT25MZWF2ZVByb21pc2VzLnB1c2godGhpcy5jYW1lcmEuZGlzYWJsZSh0cnVlKSk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5taWNyb3Bob25lLnN0b3BPbkxlYXZlKSB7XG4gICAgICAgIHN0b3BPbkxlYXZlUHJvbWlzZXMucHVzaCh0aGlzLm1pY3JvcGhvbmUuZGlzYWJsZSh0cnVlKSk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5zY3JlZW5TaGFyZS5zdG9wT25MZWF2ZSkge1xuICAgICAgICBzdG9wT25MZWF2ZVByb21pc2VzLnB1c2godGhpcy5zY3JlZW5TaGFyZS5kaXNhYmxlKHRydWUpKTtcbiAgICAgIH1cbiAgICAgIGF3YWl0IFByb21pc2UuYWxsKHN0b3BPbkxlYXZlUHJvbWlzZXMpO1xuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBBIGZsYWcgaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBjYWxsIGlzIFwicmluZ2luZ1wiIHR5cGUgb2YgY2FsbC5cbiAgICovXG4gIGdldCByaW5naW5nKCkge1xuICAgIHJldHVybiBnZXRDdXJyZW50VmFsdWUodGhpcy5yaW5naW5nU3ViamVjdCk7XG4gIH1cblxuICAvKipcbiAgICogUmV0cmlldmVzIHRoZSBjdXJyZW50IHVzZXIgSUQuXG4gICAqL1xuICBnZXQgY3VycmVudFVzZXJJZCgpIHtcbiAgICByZXR1cm4gdGhpcy5jbGllbnRTdG9yZS5jb25uZWN0ZWRVc2VyPy5pZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIGZsYWcgaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBjYWxsIHdhcyBjcmVhdGVkIGJ5IHRoZSBjdXJyZW50IHVzZXIuXG4gICAqL1xuICBnZXQgaXNDcmVhdGVkQnlNZSgpIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5jcmVhdGVkQnk/LmlkID09PSB0aGlzLmN1cnJlbnRVc2VySWQ7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIGZyb20gdGhlIGNhbGwgcmVzcG9uc2UgZnJvbSB0aGUgXCJjYWxsLnJpbmdcIiBldmVudFxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIHVwZGF0ZUZyb21SaW5naW5nRXZlbnQgPSBhc3luYyAoZXZlbnQ6IENhbGxSaW5nRXZlbnQpID0+IHtcbiAgICBhd2FpdCB0aGlzLnNldHVwKCk7XG4gICAgLy8gY2FsbC5yaW5nIGV2ZW50IGV4Y2x1ZGVzIHRoZSBjYWxsIGNyZWF0b3IgaW4gdGhlIG1lbWJlcnMgbGlzdFxuICAgIC8vIGFzIHRoZSBjcmVhdG9yIGRvZXMgbm90IGdldCB0aGUgcmluZyBldmVudFxuICAgIC8vIHNvIHVwZGF0ZSB0aGUgbWVtYmVyIGxpc3QgYWNjb3JkaW5nbHlcbiAgICBjb25zdCBjcmVhdG9yID0gdGhpcy5zdGF0ZS5tZW1iZXJzLmZpbmQoXG4gICAgICAobSkgPT4gbS51c2VyLmlkID09PSBldmVudC5jYWxsLmNyZWF0ZWRfYnkuaWQsXG4gICAgKTtcbiAgICBpZiAoIWNyZWF0b3IpIHtcbiAgICAgIHRoaXMuc3RhdGUuc2V0TWVtYmVycyhldmVudC5tZW1iZXJzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zdGF0ZS5zZXRNZW1iZXJzKFtjcmVhdG9yLCAuLi5ldmVudC5tZW1iZXJzXSk7XG4gICAgfVxuICAgIC8vIHVwZGF0ZSB0aGUgY2FsbCBzdGF0ZSB3aXRoIHRoZSBsYXRlc3QgZXZlbnQgZGF0YVxuICAgIHRoaXMuc3RhdGUudXBkYXRlRnJvbUNhbGxSZXNwb25zZShldmVudC5jYWxsKTtcbiAgICB0aGlzLndhdGNoaW5nID0gdHJ1ZTtcbiAgICB0aGlzLnJpbmdpbmdTdWJqZWN0Lm5leHQodHJ1ZSk7XG4gICAgLy8gd2UgcmVtb3ZlIHRoZSBpbnN0YW5jZSBmcm9tIHRoZSBjYWxscyBsaXN0IHRvIGVuYWJsZSB0aGUgZm9sbG93aW5nIGZpbHRlciBpbiB1c2VDYWxscyBob29rXG4gICAgLy8gY29uc3QgY2FsbHMgPSB1c2VDYWxscygpLmZpbHRlcigoYykgPT4gYy5yaW5naW5nKTtcbiAgICBjb25zdCBjYWxscyA9IHRoaXMuY2xpZW50U3RvcmUuY2FsbHMuZmlsdGVyKChjKSA9PiBjLmNpZCAhPT0gdGhpcy5jaWQpO1xuICAgIHRoaXMuY2xpZW50U3RvcmUuc2V0Q2FsbHMoW3RoaXMsIC4uLmNhbGxzXSk7XG4gICAgYXdhaXQgdGhpcy5hcHBseURldmljZUNvbmZpZyhmYWxzZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIExvYWRzIHRoZSBpbmZvcm1hdGlvbiBhYm91dCB0aGUgY2FsbC5cbiAgICpcbiAgICogQHBhcmFtIHBhcmFtcy5yaW5nIGlmIHNldCB0byB0cnVlLCBhIGBjYWxsLnJpbmdgIGV2ZW50IHdpbGwgYmUgc2VudCB0byB0aGUgY2FsbCBtZW1iZXJzLlxuICAgKiBAcGFyYW0gcGFyYW1zLm5vdGlmeSBpZiBzZXQgdG8gdHJ1ZSwgYSBgY2FsbC5ub3RpZmljYXRpb25gIGV2ZW50IHdpbGwgYmUgc2VudCB0byB0aGUgY2FsbCBtZW1iZXJzLlxuICAgKiBAcGFyYW0gcGFyYW1zLm1lbWJlcnNfbGltaXQgdGhlIHRvdGFsIG51bWJlciBvZiBtZW1iZXJzIHRvIHJldHVybiBhcyBwYXJ0IG9mIHRoZSByZXNwb25zZS5cbiAgICovXG4gIGdldCA9IGFzeW5jIChwYXJhbXM/OiB7XG4gICAgcmluZz86IGJvb2xlYW47XG4gICAgbm90aWZ5PzogYm9vbGVhbjtcbiAgICBtZW1iZXJzX2xpbWl0PzogbnVtYmVyO1xuICB9KSA9PiB7XG4gICAgYXdhaXQgdGhpcy5zZXR1cCgpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zdHJlYW1DbGllbnQuZ2V0PEdldENhbGxSZXNwb25zZT4oXG4gICAgICB0aGlzLnN0cmVhbUNsaWVudEJhc2VQYXRoLFxuICAgICAgcGFyYW1zLFxuICAgICk7XG5cbiAgICB0aGlzLnN0YXRlLnVwZGF0ZUZyb21DYWxsUmVzcG9uc2UocmVzcG9uc2UuY2FsbCk7XG4gICAgdGhpcy5zdGF0ZS5zZXRNZW1iZXJzKHJlc3BvbnNlLm1lbWJlcnMpO1xuICAgIHRoaXMuc3RhdGUuc2V0T3duQ2FwYWJpbGl0aWVzKHJlc3BvbnNlLm93bl9jYXBhYmlsaXRpZXMpO1xuXG4gICAgaWYgKHBhcmFtcz8ucmluZyB8fCB0aGlzLnJpbmdpbmcpIHtcbiAgICAgIC8vIHRoZSBjYWxsIHJlc3BvbnNlIGNhbiBpbmRpY2F0ZSB3aGVyZSB0aGUgY2FsbCBpcyBzdGlsbCByaW5naW5nIG9yIG5vdFxuICAgICAgdGhpcy5yaW5naW5nU3ViamVjdC5uZXh0KHRydWUpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnN0cmVhbUNsaWVudC5faGFzQ29ubmVjdGlvbklEKCkpIHtcbiAgICAgIHRoaXMud2F0Y2hpbmcgPSB0cnVlO1xuICAgICAgdGhpcy5jbGllbnRTdG9yZS5yZWdpc3RlckNhbGwodGhpcyk7XG4gICAgfVxuXG4gICAgYXdhaXQgdGhpcy5hcHBseURldmljZUNvbmZpZyhmYWxzZSk7XG5cbiAgICByZXR1cm4gcmVzcG9uc2U7XG4gIH07XG5cbiAgLyoqXG4gICAqIExvYWRzIHRoZSBpbmZvcm1hdGlvbiBhYm91dCB0aGUgY2FsbCBhbmQgY3JlYXRlcyBpdCBpZiBpdCBkb2Vzbid0IGV4aXN0LlxuICAgKlxuICAgKiBAcGFyYW0gZGF0YSB0aGUgZGF0YSB0byBjcmVhdGUgdGhlIGNhbGwgd2l0aC5cbiAgICovXG4gIGdldE9yQ3JlYXRlID0gYXN5bmMgKGRhdGE/OiBHZXRPckNyZWF0ZUNhbGxSZXF1ZXN0KSA9PiB7XG4gICAgYXdhaXQgdGhpcy5zZXR1cCgpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zdHJlYW1DbGllbnQucG9zdDxcbiAgICAgIEdldE9yQ3JlYXRlQ2FsbFJlc3BvbnNlLFxuICAgICAgR2V0T3JDcmVhdGVDYWxsUmVxdWVzdFxuICAgID4odGhpcy5zdHJlYW1DbGllbnRCYXNlUGF0aCwgZGF0YSk7XG5cbiAgICB0aGlzLnN0YXRlLnVwZGF0ZUZyb21DYWxsUmVzcG9uc2UocmVzcG9uc2UuY2FsbCk7XG4gICAgdGhpcy5zdGF0ZS5zZXRNZW1iZXJzKHJlc3BvbnNlLm1lbWJlcnMpO1xuICAgIHRoaXMuc3RhdGUuc2V0T3duQ2FwYWJpbGl0aWVzKHJlc3BvbnNlLm93bl9jYXBhYmlsaXRpZXMpO1xuXG4gICAgaWYgKGRhdGE/LnJpbmcgfHwgdGhpcy5yaW5naW5nKSB7XG4gICAgICAvLyB0aGUgY2FsbCByZXNwb25zZSBjYW4gaW5kaWNhdGUgd2hlcmUgdGhlIGNhbGwgaXMgc3RpbGwgcmluZ2luZyBvciBub3RcbiAgICAgIHRoaXMucmluZ2luZ1N1YmplY3QubmV4dCh0cnVlKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5zdHJlYW1DbGllbnQuX2hhc0Nvbm5lY3Rpb25JRCgpKSB7XG4gICAgICB0aGlzLndhdGNoaW5nID0gdHJ1ZTtcbiAgICAgIHRoaXMuY2xpZW50U3RvcmUucmVnaXN0ZXJDYWxsKHRoaXMpO1xuICAgIH1cblxuICAgIGF3YWl0IHRoaXMuYXBwbHlEZXZpY2VDb25maWcoZmFsc2UpO1xuXG4gICAgcmV0dXJuIHJlc3BvbnNlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgY2FsbFxuICAgKlxuICAgKiBAcGFyYW0gZGF0YSB0aGUgZGF0YSB0byBjcmVhdGUgdGhlIGNhbGwgd2l0aC5cbiAgICovXG4gIGNyZWF0ZSA9IGFzeW5jIChkYXRhPzogR2V0T3JDcmVhdGVDYWxsUmVxdWVzdCkgPT4ge1xuICAgIHJldHVybiB0aGlzLmdldE9yQ3JlYXRlKGRhdGEpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBBIHNob3J0Y3V0IGZvciB7QGxpbmsgQ2FsbC5nZXR9IHdpdGggYHJpbmdgIHBhcmFtZXRlciBzZXQgdG8gYHRydWVgLlxuICAgKiBXaWxsIHNlbmQgYSBgY2FsbC5yaW5nYCBldmVudCB0byB0aGUgY2FsbCBtZW1iZXJzLlxuICAgKi9cbiAgcmluZyA9IGFzeW5jICgpOiBQcm9taXNlPEdldENhbGxSZXNwb25zZT4gPT4ge1xuICAgIHJldHVybiBhd2FpdCB0aGlzLmdldCh7IHJpbmc6IHRydWUgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEEgc2hvcnRjdXQgZm9yIHtAbGluayBDYWxsLmdldH0gd2l0aCBgbm90aWZ5YCBwYXJhbWV0ZXIgc2V0IHRvIGB0cnVlYC5cbiAgICogV2lsbCBzZW5kIGEgYGNhbGwubm90aWZpY2F0aW9uYCBldmVudCB0byB0aGUgY2FsbCBtZW1iZXJzLlxuICAgKi9cbiAgbm90aWZ5ID0gYXN5bmMgKCk6IFByb21pc2U8R2V0Q2FsbFJlc3BvbnNlPiA9PiB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuZ2V0KHsgbm90aWZ5OiB0cnVlIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBNYXJrcyB0aGUgaW5jb21pbmcgY2FsbCBhcyBhY2NlcHRlZC5cbiAgICpcbiAgICogVGhpcyBtZXRob2Qgc2hvdWxkIGJlIHVzZWQgb25seSBmb3IgXCJyaW5naW5nXCIgY2FsbCBmbG93cy5cbiAgICoge0BsaW5rIENhbGwuam9pbn0gaW52b2tlcyB0aGlzIG1ldGhvZCBhdXRvbWF0aWNhbGx5IGZvciB5b3Ugd2hlbiBqb2luaW5nIGEgY2FsbC5cbiAgICogVW5sZXNzIHlvdSBhcmUgaW1wbGVtZW50aW5nIGEgY3VzdG9tIFwicmluZ2luZ1wiIGZsb3csIHlvdSBzaG91bGQgbm90IHVzZSB0aGlzIG1ldGhvZC5cbiAgICovXG4gIGFjY2VwdCA9IGFzeW5jICgpID0+IHtcbiAgICByZXR1cm4gdGhpcy5zdHJlYW1DbGllbnQucG9zdDxBY2NlcHRDYWxsUmVzcG9uc2U+KFxuICAgICAgYCR7dGhpcy5zdHJlYW1DbGllbnRCYXNlUGF0aH0vYWNjZXB0YCxcbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBNYXJrcyB0aGUgaW5jb21pbmcgY2FsbCBhcyByZWplY3RlZC5cbiAgICpcbiAgICogVGhpcyBtZXRob2Qgc2hvdWxkIGJlIHVzZWQgb25seSBmb3IgXCJyaW5naW5nXCIgY2FsbCBmbG93cy5cbiAgICoge0BsaW5rIENhbGwubGVhdmV9IGludm9rZXMgdGhpcyBtZXRob2QgYXV0b21hdGljYWxseSBmb3IgeW91IHdoZW4geW91IGxlYXZlIG9yIHJlamVjdCB0aGlzIGNhbGwuXG4gICAqIFVubGVzcyB5b3UgYXJlIGltcGxlbWVudGluZyBhIGN1c3RvbSBcInJpbmdpbmdcIiBmbG93LCB5b3Ugc2hvdWxkIG5vdCB1c2UgdGhpcyBtZXRob2QuXG4gICAqXG4gICAqIEBwYXJhbSByZWFzb24gdGhlIHJlYXNvbiBmb3IgcmVqZWN0aW5nIHRoZSBjYWxsLlxuICAgKi9cbiAgcmVqZWN0ID0gYXN5bmMgKHJlYXNvbj86IFJlamVjdFJlYXNvbik6IFByb21pc2U8UmVqZWN0Q2FsbFJlc3BvbnNlPiA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RyZWFtQ2xpZW50LnBvc3Q8UmVqZWN0Q2FsbFJlc3BvbnNlLCBSZWplY3RDYWxsUmVxdWVzdD4oXG4gICAgICBgJHt0aGlzLnN0cmVhbUNsaWVudEJhc2VQYXRofS9yZWplY3RgLFxuICAgICAgeyByZWFzb246IHJlYXNvbiB9LFxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFdpbGwgc3RhcnQgdG8gd2F0Y2ggZm9yIGNhbGwgcmVsYXRlZCBXZWJTb2NrZXQgZXZlbnRzIGFuZCBpbml0aWF0ZSBhIGNhbGwgc2Vzc2lvbiB3aXRoIHRoZSBzZXJ2ZXIuXG4gICAqXG4gICAqIEByZXR1cm5zIGEgcHJvbWlzZSB3aGljaCByZXNvbHZlcyBvbmNlIHRoZSBjYWxsIGpvaW4tZmxvdyBoYXMgZmluaXNoZWQuXG4gICAqL1xuICBqb2luID0gYXN5bmMgKGRhdGE/OiBKb2luQ2FsbERhdGEpOiBQcm9taXNlPHZvaWQ+ID0+IHtcbiAgICBjb25zdCBjb25uZWN0U3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICBhd2FpdCB0aGlzLnNldHVwKCk7XG4gICAgY29uc3QgY2FsbGluZ1N0YXRlID0gdGhpcy5zdGF0ZS5jYWxsaW5nU3RhdGU7XG4gICAgaWYgKFtDYWxsaW5nU3RhdGUuSk9JTkVELCBDYWxsaW5nU3RhdGUuSk9JTklOR10uaW5jbHVkZXMoY2FsbGluZ1N0YXRlKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbGxlZ2FsIFN0YXRlOiBjYWxsLmpvaW4oKSBzaGFsbCBiZSBjYWxsZWQgb25seSBvbmNlYCk7XG4gICAgfVxuXG4gICAgdGhpcy5qb2luQ2FsbERhdGEgPSBkYXRhO1xuXG4gICAgdGhpcy5sb2dnZXIoJ2RlYnVnJywgJ1N0YXJ0aW5nIGpvaW4gZmxvdycpO1xuICAgIHRoaXMuc3RhdGUuc2V0Q2FsbGluZ1N0YXRlKENhbGxpbmdTdGF0ZS5KT0lOSU5HKTtcblxuICAgIGNvbnN0IHBlcmZvcm1pbmdNaWdyYXRpb24gPVxuICAgICAgdGhpcy5yZWNvbm5lY3RTdHJhdGVneSA9PT0gV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3kuTUlHUkFURTtcbiAgICBjb25zdCBwZXJmb3JtaW5nUmVqb2luID1cbiAgICAgIHRoaXMucmVjb25uZWN0U3RyYXRlZ3kgPT09IFdlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5LlJFSk9JTjtcbiAgICBjb25zdCBwZXJmb3JtaW5nRmFzdFJlY29ubmVjdCA9XG4gICAgICB0aGlzLnJlY29ubmVjdFN0cmF0ZWd5ID09PSBXZWJzb2NrZXRSZWNvbm5lY3RTdHJhdGVneS5GQVNUO1xuXG4gICAgbGV0IHN0YXRzT3B0aW9ucyA9IHRoaXMuc2Z1U3RhdHNSZXBvcnRlcj8ub3B0aW9ucztcbiAgICBpZiAoXG4gICAgICAhdGhpcy5jcmVkZW50aWFscyB8fFxuICAgICAgIXN0YXRzT3B0aW9ucyB8fFxuICAgICAgcGVyZm9ybWluZ1Jlam9pbiB8fFxuICAgICAgcGVyZm9ybWluZ01pZ3JhdGlvblxuICAgICkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgam9pblJlc3BvbnNlID0gYXdhaXQgdGhpcy5kb0pvaW5SZXF1ZXN0KGRhdGEpO1xuICAgICAgICB0aGlzLmNyZWRlbnRpYWxzID0gam9pblJlc3BvbnNlLmNyZWRlbnRpYWxzO1xuICAgICAgICBzdGF0c09wdGlvbnMgPSBqb2luUmVzcG9uc2Uuc3RhdHNfb3B0aW9ucztcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIC8vIHJlc3RvcmUgdGhlIHByZXZpb3VzIGNhbGwgc3RhdGUgaWYgdGhlIGpvaW4tZmxvdyBmYWlsc1xuICAgICAgICB0aGlzLnN0YXRlLnNldENhbGxpbmdTdGF0ZShjYWxsaW5nU3RhdGUpO1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBwcmV2aW91c1NmdUNsaWVudCA9IHRoaXMuc2Z1Q2xpZW50O1xuICAgIGNvbnN0IHByZXZpb3VzU2Vzc2lvbklkID0gcHJldmlvdXNTZnVDbGllbnQ/LnNlc3Npb25JZDtcbiAgICBjb25zdCBpc1dzSGVhbHRoeSA9ICEhcHJldmlvdXNTZnVDbGllbnQ/LmlzSGVhbHRoeTtcbiAgICBjb25zdCBzZnVDbGllbnQgPVxuICAgICAgcGVyZm9ybWluZ1Jlam9pbiB8fCBwZXJmb3JtaW5nTWlncmF0aW9uIHx8ICFpc1dzSGVhbHRoeVxuICAgICAgICA/IG5ldyBTdHJlYW1TZnVDbGllbnQoe1xuICAgICAgICAgICAgbG9nVGFnOiBTdHJpbmcodGhpcy5zZnVDbGllbnRUYWcrKyksXG4gICAgICAgICAgICBkaXNwYXRjaGVyOiB0aGlzLmRpc3BhdGNoZXIsXG4gICAgICAgICAgICBjcmVkZW50aWFsczogdGhpcy5jcmVkZW50aWFscyxcbiAgICAgICAgICAgIHN0cmVhbUNsaWVudDogdGhpcy5zdHJlYW1DbGllbnQsXG4gICAgICAgICAgICAvLyBhIG5ldyBzZXNzaW9uX2lkIGlzIG5lY2Vzc2FyeSBmb3IgdGhlIFJFSk9JTiBzdHJhdGVneS5cbiAgICAgICAgICAgIC8vIHdlIHVzZSB0aGUgcHJldmlvdXMgc2Vzc2lvbl9pZCBpZiBhdmFpbGFibGVcbiAgICAgICAgICAgIHNlc3Npb25JZDogcGVyZm9ybWluZ1Jlam9pbiA/IHVuZGVmaW5lZCA6IHByZXZpb3VzU2Vzc2lvbklkLFxuICAgICAgICAgICAgb25TaWduYWxDbG9zZTogKCkgPT4gdGhpcy5oYW5kbGVTZnVTaWduYWxDbG9zZShzZnVDbGllbnQpLFxuICAgICAgICAgIH0pXG4gICAgICAgIDogcHJldmlvdXNTZnVDbGllbnQ7XG4gICAgdGhpcy5zZnVDbGllbnQgPSBzZnVDbGllbnQ7XG4gICAgdGhpcy5keW5hc2NhbGVNYW5hZ2VyLnNldFNmdUNsaWVudChzZnVDbGllbnQpO1xuXG4gICAgY29uc3QgY2xpZW50RGV0YWlscyA9IGdldENsaWVudERldGFpbHMoKTtcbiAgICAvLyB3ZSBkb24ndCBuZWVkIHRvIHNlbmQgSm9pblJlcXVlc3QgaWYgd2UgYXJlIHJlLXVzaW5nIGFuIGV4aXN0aW5nIGhlYWx0aHkgU0ZVIGNsaWVudFxuICAgIGlmIChwcmV2aW91c1NmdUNsaWVudCAhPT0gc2Z1Q2xpZW50KSB7XG4gICAgICAvLyBwcmVwYXJlIGEgZ2VuZXJpYyBTRFAgYW5kIHNlbmQgaXQgdG8gdGhlIFNGVS5cbiAgICAgIC8vIHRoaXMgaXMgYSB0aHJvdy1hd2F5IFNEUCB0aGF0IHRoZSBTRlUgd2lsbCB1c2UgdG8gZGV0ZXJtaW5lXG4gICAgICAvLyB0aGUgY2FwYWJpbGl0aWVzIG9mIHRoZSBjbGllbnQgKGNvZGVjIHN1cHBvcnQsIGV0Yy4pXG4gICAgICBjb25zdCByZWNlaXZpbmdDYXBhYmlsaXRpZXNTZHAgPSBhd2FpdCBnZXRHZW5lcmljU2RwKCdyZWN2b25seScpO1xuICAgICAgY29uc3QgcmVjb25uZWN0RGV0YWlscyA9XG4gICAgICAgIHRoaXMucmVjb25uZWN0U3RyYXRlZ3kgIT09IFdlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5LlVOU1BFQ0lGSUVEXG4gICAgICAgICAgPyB0aGlzLmdldFJlY29ubmVjdERldGFpbHMoZGF0YT8ubWlncmF0aW5nX2Zyb20sIHByZXZpb3VzU2Vzc2lvbklkKVxuICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgY29uc3QgeyBjYWxsU3RhdGUsIGZhc3RSZWNvbm5lY3REZWFkbGluZVNlY29uZHMgfSA9IGF3YWl0IHNmdUNsaWVudC5qb2luKHtcbiAgICAgICAgc3Vic2NyaWJlclNkcDogcmVjZWl2aW5nQ2FwYWJpbGl0aWVzU2RwLFxuICAgICAgICBwdWJsaXNoZXJTZHA6ICcnLFxuICAgICAgICBjbGllbnREZXRhaWxzLFxuICAgICAgICBmYXN0UmVjb25uZWN0OiBwZXJmb3JtaW5nRmFzdFJlY29ubmVjdCxcbiAgICAgICAgcmVjb25uZWN0RGV0YWlscyxcbiAgICAgIH0pO1xuICAgICAgdGhpcy5mYXN0UmVjb25uZWN0RGVhZGxpbmVTZWNvbmRzID0gZmFzdFJlY29ubmVjdERlYWRsaW5lU2Vjb25kcztcbiAgICAgIGlmIChjYWxsU3RhdGUpIHtcbiAgICAgICAgdGhpcy5zdGF0ZS51cGRhdGVGcm9tU2Z1Q2FsbFN0YXRlKFxuICAgICAgICAgIGNhbGxTdGF0ZSxcbiAgICAgICAgICBzZnVDbGllbnQuc2Vzc2lvbklkLFxuICAgICAgICAgIHJlY29ubmVjdERldGFpbHMsXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCFwZXJmb3JtaW5nTWlncmF0aW9uKSB7XG4gICAgICAvLyBpbiBNSUdSQVRJT04sIGBKT0lORURgIHN0YXRlIGlzIHNldCBpbiBgdGhpcy5yZWNvbm5lY3RNaWdyYXRlKClgXG4gICAgICB0aGlzLnN0YXRlLnNldENhbGxpbmdTdGF0ZShDYWxsaW5nU3RhdGUuSk9JTkVEKTtcbiAgICB9XG4gICAgdGhpcy5oYXNKb2luZWRPbmNlID0gdHJ1ZTtcblxuICAgIC8vIHdoZW4gcGVyZm9ybWluZyBmYXN0IHJlY29ubmVjdCwgb3Igd2hlbiB3ZSByZXVzZSB0aGUgc2FtZSBTRlUgY2xpZW50LFxuICAgIC8vICh3cyByZW1haW5lZCBoZWFsdGh5KSwgd2UganVzdCBuZWVkIHRvIHJlc3RvcmUgdGhlIElDRSBjb25uZWN0aW9uXG4gICAgaWYgKHBlcmZvcm1pbmdGYXN0UmVjb25uZWN0KSB7XG4gICAgICAvLyB0aGUgU0ZVIGF1dG9tYXRpY2FsbHkgaXNzdWVzIGFuIElDRSByZXN0YXJ0IG9uIHRoZSBzdWJzY3JpYmVyXG4gICAgICAvLyB3ZSBkb24ndCBoYXZlIHRvIGRvIGl0IG91cnNlbHZlc1xuICAgICAgYXdhaXQgdGhpcy5yZXN0b3JlSUNFKHNmdUNsaWVudCwgeyBpbmNsdWRlU3Vic2NyaWJlcjogZmFsc2UgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGNvbm5lY3Rpb25Db25maWcgPSB0b1J0Y0NvbmZpZ3VyYXRpb24odGhpcy5jcmVkZW50aWFscy5pY2Vfc2VydmVycyk7XG4gICAgICB0aGlzLmluaXRQdWJsaXNoZXJBbmRTdWJzY3JpYmVyKHtcbiAgICAgICAgc2Z1Q2xpZW50LFxuICAgICAgICBjb25uZWN0aW9uQ29uZmlnLFxuICAgICAgICBjbGllbnREZXRhaWxzLFxuICAgICAgICBzdGF0c09wdGlvbnMsXG4gICAgICAgIGNsb3NlUHJldmlvdXNJbnN0YW5jZXM6ICFwZXJmb3JtaW5nTWlncmF0aW9uLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gbWFrZSBzdXJlIHdlIG9ubHkgdHJhY2sgY29ubmVjdGlvbiB0aW1pbmcgaWYgd2UgYXJlIG5vdCBjYWxsaW5nIHRoaXMgbWV0aG9kIGFzIHBhcnQgb2YgYSByZWNvbm5lY3Rpb24gZmxvd1xuICAgIGlmICghcGVyZm9ybWluZ1Jlam9pbiAmJiAhcGVyZm9ybWluZ0Zhc3RSZWNvbm5lY3QgJiYgIXBlcmZvcm1pbmdNaWdyYXRpb24pIHtcbiAgICAgIHRoaXMuc2Z1U3RhdHNSZXBvcnRlcj8uc2VuZFRlbGVtZXRyeURhdGEoe1xuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgb25lb2ZLaW5kOiAnY29ubmVjdGlvblRpbWVTZWNvbmRzJyxcbiAgICAgICAgICBjb25uZWN0aW9uVGltZVNlY29uZHM6IChEYXRlLm5vdygpIC0gY29ubmVjdFN0YXJ0VGltZSkgLyAxMDAwLFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKHBlcmZvcm1pbmdSZWpvaW4pIHtcbiAgICAgIGNvbnN0IHN0cmF0ZWd5ID0gV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3lbdGhpcy5yZWNvbm5lY3RTdHJhdGVneV07XG4gICAgICBhd2FpdCBwcmV2aW91c1NmdUNsaWVudD8ubGVhdmVBbmRDbG9zZShcbiAgICAgICAgYENsb3NpbmcgcHJldmlvdXMgV1MgYWZ0ZXIgcmVjb25uZWN0IHdpdGggc3RyYXRlZ3k6ICR7c3RyYXRlZ3l9YCxcbiAgICAgICk7XG4gICAgfSBlbHNlIGlmICghaXNXc0hlYWx0aHkpIHtcbiAgICAgIHByZXZpb3VzU2Z1Q2xpZW50Py5jbG9zZShcbiAgICAgICAgU3RyZWFtU2Z1Q2xpZW50LkRJU1BPU0VfT0xEX1NPQ0tFVCxcbiAgICAgICAgJ0Nsb3NpbmcgdW5oZWFsdGh5IFdTIGFmdGVyIHJlY29ubmVjdCcsXG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIGRldmljZSBzZXR0aW5ncyBzaG91bGQgYmUgYXBwbGllZCBvbmx5IG9uY2UsIHdlIGRvbid0IGhhdmUgdG9cbiAgICAvLyByZS1hcHBseSB0aGVtIG9uIGxhdGVyIHJlY29ubmVjdGlvbnMgb3Igc2VydmVyLXNpZGUgZGF0YSBmZXRjaGVzXG4gICAgaWYgKCF0aGlzLmRldmljZVNldHRpbmdzQXBwbGllZE9uY2UpIHtcbiAgICAgIGF3YWl0IHRoaXMuYXBwbHlEZXZpY2VDb25maWcodHJ1ZSk7XG4gICAgICB0aGlzLmRldmljZVNldHRpbmdzQXBwbGllZE9uY2UgPSB0cnVlO1xuICAgIH1cblxuICAgIC8vIFdlIHNob3VsZG4ndCBwZXJzaXN0IHRoZSBgcmluZ2AgYW5kIGBub3RpZnlgIHN0YXRlIGFmdGVyIGpvaW5pbmcgdGhlIGNhbGxcbiAgICAvLyBhcyBpdCdzIGEgb25lLXRpbWUgZXZlbnQgYW5kIGNsYXNoZXMgd2l0aCB0aGUgcG90ZW50aWFsIHJlY29ubmVjdGlvbiBhdHRlbXB0cy5cbiAgICAvLyBXaGVuIHJlY29ubmVjdGluZywgaWYgcHJvdmlkZWQgd2l0aCBgcmluZzogdHJ1ZWAgb3IgYG5vdGlmeTogdHJ1ZWAsXG4gICAgLy8gd2Ugd2lsbCBzcGFtIHRoZSBvdGhlciBwYXJ0aWNpcGFudHMgd2l0aCBwdXNoIG5vdGlmaWNhdGlvbnMgYW5kIGBjYWxsLnJpbmdgIGV2ZW50cy5cbiAgICBkZWxldGUgdGhpcy5qb2luQ2FsbERhdGE/LnJpbmc7XG4gICAgZGVsZXRlIHRoaXMuam9pbkNhbGxEYXRhPy5ub3RpZnk7XG5cbiAgICB0aGlzLmxvZ2dlcignaW5mbycsIGBKb2luZWQgY2FsbCAke3RoaXMuY2lkfWApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBQcmVwYXJlcyBSZWNvbm5lY3QgRGV0YWlscyBvYmplY3QuXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgcHJpdmF0ZSBnZXRSZWNvbm5lY3REZXRhaWxzID0gKFxuICAgIG1pZ3JhdGluZ0Zyb21TZnVJZDogc3RyaW5nIHwgdW5kZWZpbmVkLFxuICAgIHByZXZpb3VzU2Vzc2lvbklkOiBzdHJpbmcgfCB1bmRlZmluZWQsXG4gICk6IFJlY29ubmVjdERldGFpbHMgPT4ge1xuICAgIGNvbnN0IHN0cmF0ZWd5ID0gdGhpcy5yZWNvbm5lY3RTdHJhdGVneTtcbiAgICBjb25zdCBwZXJmb3JtaW5nUmVqb2luID0gc3RyYXRlZ3kgPT09IFdlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5LlJFSk9JTjtcbiAgICBjb25zdCBhbm5vdW5jZWRUcmFja3MgPSB0aGlzLnB1Ymxpc2hlcj8uZ2V0QW5ub3VuY2VkVHJhY2tzKCkgfHwgW107XG4gICAgcmV0dXJuIHtcbiAgICAgIHN0cmF0ZWd5LFxuICAgICAgYW5ub3VuY2VkVHJhY2tzLFxuICAgICAgc3Vic2NyaXB0aW9uczogdGhpcy5keW5hc2NhbGVNYW5hZ2VyLnRyYWNrU3Vic2NyaXB0aW9ucyxcbiAgICAgIHJlY29ubmVjdEF0dGVtcHQ6IHRoaXMucmVjb25uZWN0QXR0ZW1wdHMsXG4gICAgICBmcm9tU2Z1SWQ6IG1pZ3JhdGluZ0Zyb21TZnVJZCB8fCAnJyxcbiAgICAgIHByZXZpb3VzU2Vzc2lvbklkOiBwZXJmb3JtaW5nUmVqb2luID8gcHJldmlvdXNTZXNzaW9uSWQgfHwgJycgOiAnJyxcbiAgICB9O1xuICB9O1xuXG4gIC8qKlxuICAgKiBQZXJmb3JtcyBhbiBJQ0UgcmVzdGFydCBvbiBib3RoIHRoZSBQdWJsaXNoZXIgYW5kIFN1YnNjcmliZXIgUGVlciBDb25uZWN0aW9ucy5cbiAgICogVXNlcyB0aGUgcHJvdmlkZWQgU0ZVIGNsaWVudCB0byByZXN0b3JlIHRoZSBJQ0UgY29ubmVjdGlvbi5cbiAgICpcbiAgICogVGhpcyBtZXRob2QgY2FuIHRocm93IGFuIGVycm9yIGlmIHRoZSBJQ0UgcmVzdGFydCBmYWlscy5cbiAgICogVGhpcyBlcnJvciBzaG91bGQgYmUgaGFuZGxlZCBieSB0aGUgcmVjb25uZWN0IGxvb3AsXG4gICAqIGFuZCBhIG5ldyByZWNvbm5lY3Rpb24gc2hhbGwgYmUgYXR0ZW1wdGVkLlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIHByaXZhdGUgcmVzdG9yZUlDRSA9IGFzeW5jIChcbiAgICBuZXh0U2Z1Q2xpZW50OiBTdHJlYW1TZnVDbGllbnQsXG4gICAgb3B0czogeyBpbmNsdWRlU3Vic2NyaWJlcj86IGJvb2xlYW47IGluY2x1ZGVQdWJsaXNoZXI/OiBib29sZWFuIH0gPSB7fSxcbiAgKSA9PiB7XG4gICAgY29uc3QgeyBpbmNsdWRlU3Vic2NyaWJlciA9IHRydWUsIGluY2x1ZGVQdWJsaXNoZXIgPSB0cnVlIH0gPSBvcHRzO1xuICAgIGlmICh0aGlzLnN1YnNjcmliZXIpIHtcbiAgICAgIHRoaXMuc3Vic2NyaWJlci5zZXRTZnVDbGllbnQobmV4dFNmdUNsaWVudCk7XG4gICAgICBpZiAoaW5jbHVkZVN1YnNjcmliZXIpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5zdWJzY3JpYmVyLnJlc3RhcnRJY2UoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRoaXMucHVibGlzaGVyKSB7XG4gICAgICB0aGlzLnB1Ymxpc2hlci5zZXRTZnVDbGllbnQobmV4dFNmdUNsaWVudCk7XG4gICAgICBpZiAoaW5jbHVkZVB1Ymxpc2hlcikge1xuICAgICAgICBhd2FpdCB0aGlzLnB1Ymxpc2hlci5yZXN0YXJ0SWNlKCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyB0aGUgUHVibGlzaGVyIGFuZCBTdWJzY3JpYmVyIFBlZXIgQ29ubmVjdGlvbnMuXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgcHJpdmF0ZSBpbml0UHVibGlzaGVyQW5kU3Vic2NyaWJlciA9IChvcHRzOiB7XG4gICAgc2Z1Q2xpZW50OiBTdHJlYW1TZnVDbGllbnQ7XG4gICAgY29ubmVjdGlvbkNvbmZpZzogUlRDQ29uZmlndXJhdGlvbjtcbiAgICBzdGF0c09wdGlvbnM6IFN0YXRzT3B0aW9ucztcbiAgICBjbGllbnREZXRhaWxzOiBDbGllbnREZXRhaWxzO1xuICAgIGNsb3NlUHJldmlvdXNJbnN0YW5jZXM6IGJvb2xlYW47XG4gIH0pID0+IHtcbiAgICBjb25zdCB7XG4gICAgICBzZnVDbGllbnQsXG4gICAgICBjb25uZWN0aW9uQ29uZmlnLFxuICAgICAgY2xpZW50RGV0YWlscyxcbiAgICAgIHN0YXRzT3B0aW9ucyxcbiAgICAgIGNsb3NlUHJldmlvdXNJbnN0YW5jZXMsXG4gICAgfSA9IG9wdHM7XG4gICAgaWYgKGNsb3NlUHJldmlvdXNJbnN0YW5jZXMgJiYgdGhpcy5zdWJzY3JpYmVyKSB7XG4gICAgICB0aGlzLnN1YnNjcmliZXIuY2xvc2UoKTtcbiAgICB9XG4gICAgdGhpcy5zdWJzY3JpYmVyID0gbmV3IFN1YnNjcmliZXIoe1xuICAgICAgc2Z1Q2xpZW50LFxuICAgICAgZGlzcGF0Y2hlcjogdGhpcy5kaXNwYXRjaGVyLFxuICAgICAgc3RhdGU6IHRoaXMuc3RhdGUsXG4gICAgICBjb25uZWN0aW9uQ29uZmlnLFxuICAgICAgbG9nVGFnOiBTdHJpbmcodGhpcy5zZnVDbGllbnRUYWcpLFxuICAgICAgb25VbnJlY292ZXJhYmxlRXJyb3I6ICgpID0+IHtcbiAgICAgICAgdGhpcy5yZWNvbm5lY3QoV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3kuUkVKT0lOKS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgdGhpcy5sb2dnZXIoXG4gICAgICAgICAgICAnd2FybicsXG4gICAgICAgICAgICAnW1JlY29ubmVjdF0gRXJyb3IgcmVjb25uZWN0aW5nIGFmdGVyIGEgc3Vic2NyaWJlciBlcnJvcicsXG4gICAgICAgICAgICBlcnIsXG4gICAgICAgICAgKTtcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgLy8gYW5vbnltb3VzIHVzZXJzIGNhbid0IHB1Ymxpc2ggYW55dGhpbmcgaGVuY2UsIHRoZXJlIGlzIG5vIG5lZWRcbiAgICAvLyB0byBjcmVhdGUgUHVibGlzaGVyIFBlZXIgQ29ubmVjdGlvbiBmb3IgdGhlbVxuICAgIGNvbnN0IGlzQW5vbnltb3VzID0gdGhpcy5zdHJlYW1DbGllbnQudXNlcj8udHlwZSA9PT0gJ2Fub255bW91cyc7XG4gICAgaWYgKCFpc0Fub255bW91cykge1xuICAgICAgaWYgKGNsb3NlUHJldmlvdXNJbnN0YW5jZXMgJiYgdGhpcy5wdWJsaXNoZXIpIHtcbiAgICAgICAgdGhpcy5wdWJsaXNoZXIuY2xvc2UoeyBzdG9wVHJhY2tzOiBmYWxzZSB9KTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGF1ZGlvU2V0dGluZ3MgPSB0aGlzLnN0YXRlLnNldHRpbmdzPy5hdWRpbztcbiAgICAgIGNvbnN0IGlzRHR4RW5hYmxlZCA9ICEhYXVkaW9TZXR0aW5ncz8ub3B1c19kdHhfZW5hYmxlZDtcbiAgICAgIGNvbnN0IGlzUmVkRW5hYmxlZCA9ICEhYXVkaW9TZXR0aW5ncz8ucmVkdW5kYW50X2NvZGluZ19lbmFibGVkO1xuICAgICAgdGhpcy5wdWJsaXNoZXIgPSBuZXcgUHVibGlzaGVyKHtcbiAgICAgICAgc2Z1Q2xpZW50LFxuICAgICAgICBkaXNwYXRjaGVyOiB0aGlzLmRpc3BhdGNoZXIsXG4gICAgICAgIHN0YXRlOiB0aGlzLnN0YXRlLFxuICAgICAgICBjb25uZWN0aW9uQ29uZmlnLFxuICAgICAgICBpc0R0eEVuYWJsZWQsXG4gICAgICAgIGlzUmVkRW5hYmxlZCxcbiAgICAgICAgbG9nVGFnOiBTdHJpbmcodGhpcy5zZnVDbGllbnRUYWcpLFxuICAgICAgICBvblVucmVjb3ZlcmFibGVFcnJvcjogKCkgPT4ge1xuICAgICAgICAgIHRoaXMucmVjb25uZWN0KFdlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5LlJFSk9JTikuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIoXG4gICAgICAgICAgICAgICd3YXJuJyxcbiAgICAgICAgICAgICAgJ1tSZWNvbm5lY3RdIEVycm9yIHJlY29ubmVjdGluZyBhZnRlciBhIHB1Ymxpc2hlciBlcnJvcicsXG4gICAgICAgICAgICAgIGVycixcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB0aGlzLnN0YXRzUmVwb3J0ZXI/LnN0b3AoKTtcbiAgICB0aGlzLnN0YXRzUmVwb3J0ZXIgPSBjcmVhdGVTdGF0c1JlcG9ydGVyKHtcbiAgICAgIHN1YnNjcmliZXI6IHRoaXMuc3Vic2NyaWJlcixcbiAgICAgIHB1Ymxpc2hlcjogdGhpcy5wdWJsaXNoZXIsXG4gICAgICBzdGF0ZTogdGhpcy5zdGF0ZSxcbiAgICAgIGRhdGFjZW50ZXI6IHNmdUNsaWVudC5lZGdlTmFtZSxcbiAgICB9KTtcblxuICAgIHRoaXMuc2Z1U3RhdHNSZXBvcnRlcj8uc3RvcCgpO1xuICAgIGlmIChzdGF0c09wdGlvbnM/LnJlcG9ydGluZ19pbnRlcnZhbF9tcyA+IDApIHtcbiAgICAgIHRoaXMuc2Z1U3RhdHNSZXBvcnRlciA9IG5ldyBTZnVTdGF0c1JlcG9ydGVyKHNmdUNsaWVudCwge1xuICAgICAgICBjbGllbnREZXRhaWxzLFxuICAgICAgICBvcHRpb25zOiBzdGF0c09wdGlvbnMsXG4gICAgICAgIHN1YnNjcmliZXI6IHRoaXMuc3Vic2NyaWJlcixcbiAgICAgICAgcHVibGlzaGVyOiB0aGlzLnB1Ymxpc2hlcixcbiAgICAgICAgbWljcm9waG9uZTogdGhpcy5taWNyb3Bob25lLFxuICAgICAgICBjYW1lcmE6IHRoaXMuY2FtZXJhLFxuICAgICAgICBzdGF0ZTogdGhpcy5zdGF0ZSxcbiAgICAgIH0pO1xuICAgICAgdGhpcy5zZnVTdGF0c1JlcG9ydGVyLnN0YXJ0KCk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZXMgY3JlZGVudGlhbHMgZm9yIGpvaW5pbmcgdGhlIGNhbGwuXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKlxuICAgKiBAcGFyYW0gZGF0YSB0aGUgam9pbiBjYWxsIGRhdGEuXG4gICAqL1xuICBkb0pvaW5SZXF1ZXN0ID0gYXN5bmMgKGRhdGE/OiBKb2luQ2FsbERhdGEpOiBQcm9taXNlPEpvaW5DYWxsUmVzcG9uc2U+ID0+IHtcbiAgICBjb25zdCBsb2NhdGlvbiA9IGF3YWl0IHRoaXMuc3RyZWFtQ2xpZW50LmdldExvY2F0aW9uSGludCgpO1xuICAgIGNvbnN0IHJlcXVlc3Q6IEpvaW5DYWxsUmVxdWVzdCA9IHsgLi4uZGF0YSwgbG9jYXRpb24gfTtcbiAgICBjb25zdCBqb2luUmVzcG9uc2UgPSBhd2FpdCB0aGlzLnN0cmVhbUNsaWVudC5wb3N0PFxuICAgICAgSm9pbkNhbGxSZXNwb25zZSxcbiAgICAgIEpvaW5DYWxsUmVxdWVzdFxuICAgID4oYCR7dGhpcy5zdHJlYW1DbGllbnRCYXNlUGF0aH0vam9pbmAsIHJlcXVlc3QpO1xuICAgIHRoaXMuc3RhdGUudXBkYXRlRnJvbUNhbGxSZXNwb25zZShqb2luUmVzcG9uc2UuY2FsbCk7XG4gICAgdGhpcy5zdGF0ZS5zZXRNZW1iZXJzKGpvaW5SZXNwb25zZS5tZW1iZXJzKTtcbiAgICB0aGlzLnN0YXRlLnNldE93bkNhcGFiaWxpdGllcyhqb2luUmVzcG9uc2Uub3duX2NhcGFiaWxpdGllcyk7XG5cbiAgICBpZiAoZGF0YT8ucmluZyAmJiAhdGhpcy5yaW5naW5nKSB7XG4gICAgICB0aGlzLnJpbmdpbmdTdWJqZWN0Lm5leHQodHJ1ZSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMucmluZ2luZyAmJiAhdGhpcy5pc0NyZWF0ZWRCeU1lKSB7XG4gICAgICAvLyBzaWduYWxzIG90aGVyIHVzZXJzIHRoYXQgSSBoYXZlIGFjY2VwdGVkIHRoZSBpbmNvbWluZyBjYWxsLlxuICAgICAgYXdhaXQgdGhpcy5hY2NlcHQoKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5zdHJlYW1DbGllbnQuX2hhc0Nvbm5lY3Rpb25JRCgpKSB7XG4gICAgICB0aGlzLndhdGNoaW5nID0gdHJ1ZTtcbiAgICAgIHRoaXMuY2xpZW50U3RvcmUucmVnaXN0ZXJDYWxsKHRoaXMpO1xuICAgIH1cblxuICAgIHJldHVybiBqb2luUmVzcG9uc2U7XG4gIH07XG5cbiAgLyoqXG4gICAqIEhhbmRsZXMgdGhlIGNsb3Npbmcgb2YgdGhlIFNGVSBzaWduYWwgY29ubmVjdGlvbi5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqIEBwYXJhbSBzZnVDbGllbnQgdGhlIFNGVSBjbGllbnQgaW5zdGFuY2UgdGhhdCB3YXMgY2xvc2VkLlxuICAgKi9cbiAgcHJpdmF0ZSBoYW5kbGVTZnVTaWduYWxDbG9zZSA9IChzZnVDbGllbnQ6IFN0cmVhbVNmdUNsaWVudCkgPT4ge1xuICAgIHRoaXMubG9nZ2VyKCdkZWJ1ZycsICdbUmVjb25uZWN0XSBTRlUgc2lnbmFsIGNvbm5lY3Rpb24gY2xvc2VkJyk7XG4gICAgLy8gU0ZVIFdTIGNsb3NlZCBiZWZvcmUgd2UgZmluaXNoZWQgY3VycmVudCBqb2luLCBubyBuZWVkIHRvIHNjaGVkdWxlIHJlY29ubmVjdFxuICAgIC8vIGJlY2F1c2Ugam9pbiBvcGVyYXRpb24gd2lsbCBmYWlsXG4gICAgaWYgKHRoaXMuc3RhdGUuY2FsbGluZ1N0YXRlID09PSBDYWxsaW5nU3RhdGUuSk9JTklORykgcmV0dXJuO1xuICAgIC8vIG5vcm1hbCBjbG9zZSwgbm8gbmVlZCB0byByZWNvbm5lY3RcbiAgICBpZiAoc2Z1Q2xpZW50LmlzTGVhdmluZykgcmV0dXJuO1xuICAgIHRoaXMucmVjb25uZWN0KFdlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5LlJFSk9JTikuY2F0Y2goKGVycikgPT4ge1xuICAgICAgdGhpcy5sb2dnZXIoJ3dhcm4nLCAnW1JlY29ubmVjdF0gRXJyb3IgcmVjb25uZWN0aW5nJywgZXJyKTtcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogSGFuZGxlcyB0aGUgcmVjb25uZWN0aW9uIGZsb3cuXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKlxuICAgKiBAcGFyYW0gc3RyYXRlZ3kgdGhlIHJlY29ubmVjdGlvbiBzdHJhdGVneSB0byB1c2UuXG4gICAqL1xuICBwcml2YXRlIHJlY29ubmVjdCA9IGFzeW5jIChcbiAgICBzdHJhdGVneTogV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3ksXG4gICk6IFByb21pc2U8dm9pZD4gPT4ge1xuICAgIGlmIChcbiAgICAgIHRoaXMuc3RhdGUuY2FsbGluZ1N0YXRlID09PSBDYWxsaW5nU3RhdGUuUkVDT05ORUNUSU5HIHx8XG4gICAgICB0aGlzLnN0YXRlLmNhbGxpbmdTdGF0ZSA9PT0gQ2FsbGluZ1N0YXRlLlJFQ09OTkVDVElOR19GQUlMRURcbiAgICApXG4gICAgICByZXR1cm47XG5cbiAgICByZXR1cm4gd2l0aG91dENvbmN1cnJlbmN5KHRoaXMucmVjb25uZWN0Q29uY3VycmVuY3lUYWcsIGFzeW5jICgpID0+IHtcbiAgICAgIHRoaXMubG9nZ2VyKFxuICAgICAgICAnaW5mbycsXG4gICAgICAgIGBbUmVjb25uZWN0XSBSZWNvbm5lY3Rpbmcgd2l0aCBzdHJhdGVneSAke1dlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5W3N0cmF0ZWd5XX1gLFxuICAgICAgKTtcblxuICAgICAgbGV0IHJlY29ubmVjdFN0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgICB0aGlzLnJlY29ubmVjdFN0cmF0ZWd5ID0gc3RyYXRlZ3k7XG5cbiAgICAgIGRvIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIHRoaXMuZGlzY29ubmVjdGlvblRpbWVvdXRTZWNvbmRzID4gMCAmJlxuICAgICAgICAgIChEYXRlLm5vdygpIC0gcmVjb25uZWN0U3RhcnRUaW1lKSAvIDEwMDAgPlxuICAgICAgICAgICAgdGhpcy5kaXNjb25uZWN0aW9uVGltZW91dFNlY29uZHNcbiAgICAgICAgKSB7XG4gICAgICAgICAgdGhpcy5sb2dnZXIoXG4gICAgICAgICAgICAnd2FybicsXG4gICAgICAgICAgICAnW1JlY29ubmVjdF0gU3RvcHBpbmcgcmVjb25uZWN0aW9uIGF0dGVtcHRzIGFmdGVyIHJlYWNoaW5nIGRpc2Nvbm5lY3Rpb24gdGltZW91dCcsXG4gICAgICAgICAgKTtcbiAgICAgICAgICB0aGlzLnN0YXRlLnNldENhbGxpbmdTdGF0ZShDYWxsaW5nU3RhdGUuUkVDT05ORUNUSU5HX0ZBSUxFRCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gd2UgZG9uJ3QgaW5jcmVtZW50IHJlY29ubmVjdCBhdHRlbXB0cyBmb3IgdGhlIEZBU1Qgc3RyYXRlZ3kuXG4gICAgICAgIGlmICh0aGlzLnJlY29ubmVjdFN0cmF0ZWd5ICE9PSBXZWJzb2NrZXRSZWNvbm5lY3RTdHJhdGVneS5GQVNUKSB7XG4gICAgICAgICAgdGhpcy5yZWNvbm5lY3RBdHRlbXB0cysrO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGN1cnJlbnQgPSBXZWJzb2NrZXRSZWNvbm5lY3RTdHJhdGVneVt0aGlzLnJlY29ubmVjdFN0cmF0ZWd5XTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyB3YWl0IHVudGlsIHRoZSBuZXR3b3JrIGlzIGF2YWlsYWJsZVxuICAgICAgICAgIGF3YWl0IHRoaXMubmV0d29ya0F2YWlsYWJsZVRhc2s/LnByb21pc2U7XG4gICAgICAgICAgc3dpdGNoICh0aGlzLnJlY29ubmVjdFN0cmF0ZWd5KSB7XG4gICAgICAgICAgICBjYXNlIFdlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5LlVOU1BFQ0lGSUVEOlxuICAgICAgICAgICAgY2FzZSBXZWJzb2NrZXRSZWNvbm5lY3RTdHJhdGVneS5ESVNDT05ORUNUOlxuICAgICAgICAgICAgICB0aGlzLmxvZ2dlcignZGVidWcnLCBgW1JlY29ubmVjdF0gTm8tb3Agc3RyYXRlZ3kgJHtjdXJyZW50fWApO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3kuRkFTVDpcbiAgICAgICAgICAgICAgYXdhaXQgdGhpcy5yZWNvbm5lY3RGYXN0KCk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBXZWJzb2NrZXRSZWNvbm5lY3RTdHJhdGVneS5SRUpPSU46XG4gICAgICAgICAgICAgIGF3YWl0IHRoaXMucmVjb25uZWN0UmVqb2luKCk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBXZWJzb2NrZXRSZWNvbm5lY3RTdHJhdGVneS5NSUdSQVRFOlxuICAgICAgICAgICAgICBhd2FpdCB0aGlzLnJlY29ubmVjdE1pZ3JhdGUoKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICBlbnN1cmVFeGhhdXN0ZWQoXG4gICAgICAgICAgICAgICAgdGhpcy5yZWNvbm5lY3RTdHJhdGVneSxcbiAgICAgICAgICAgICAgICAnVW5rbm93biByZWNvbm5lY3Rpb24gc3RyYXRlZ3knLFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7IC8vIGRvLXdoaWxlIGxvb3AsIHJlY29ubmVjdGlvbiB3b3JrZWQsIGV4aXQgdGhlIGxvb3BcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvckZyb21SZXNwb25zZSAmJiBlcnJvci51bnJlY292ZXJhYmxlKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlcihcbiAgICAgICAgICAgICAgJ3dhcm4nLFxuICAgICAgICAgICAgICBgW1JlY29ubmVjdF0gQ2FuJ3QgcmVjb25uZWN0IGR1ZSB0byBjb29yZGluYXRvciB1bnJlY292ZXJhYmxlIGVycm9yYCxcbiAgICAgICAgICAgICAgZXJyb3IsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgdGhpcy5zdGF0ZS5zZXRDYWxsaW5nU3RhdGUoQ2FsbGluZ1N0YXRlLlJFQ09OTkVDVElOR19GQUlMRUQpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLmxvZ2dlcihcbiAgICAgICAgICAgICd3YXJuJyxcbiAgICAgICAgICAgIGBbUmVjb25uZWN0XSAke2N1cnJlbnR9ICgke3RoaXMucmVjb25uZWN0QXR0ZW1wdHN9KSBmYWlsZWQuIEF0dGVtcHRpbmcgd2l0aCBSRUpPSU5gLFxuICAgICAgICAgICAgZXJyb3IsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBhd2FpdCBzbGVlcCg1MDApO1xuICAgICAgICAgIHRoaXMucmVjb25uZWN0U3RyYXRlZ3kgPSBXZWJzb2NrZXRSZWNvbm5lY3RTdHJhdGVneS5SRUpPSU47XG4gICAgICAgIH1cbiAgICAgIH0gd2hpbGUgKFxuICAgICAgICB0aGlzLnN0YXRlLmNhbGxpbmdTdGF0ZSAhPT0gQ2FsbGluZ1N0YXRlLkpPSU5FRCAmJlxuICAgICAgICB0aGlzLnN0YXRlLmNhbGxpbmdTdGF0ZSAhPT0gQ2FsbGluZ1N0YXRlLlJFQ09OTkVDVElOR19GQUlMRUQgJiZcbiAgICAgICAgdGhpcy5zdGF0ZS5jYWxsaW5nU3RhdGUgIT09IENhbGxpbmdTdGF0ZS5MRUZUXG4gICAgICApO1xuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBJbml0aWF0ZXMgdGhlIHJlY29ubmVjdGlvbiBmbG93IHdpdGggdGhlIFwiZmFzdFwiIHN0cmF0ZWd5LlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIHByaXZhdGUgcmVjb25uZWN0RmFzdCA9IGFzeW5jICgpID0+IHtcbiAgICBsZXQgcmVjb25uZWN0U3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICB0aGlzLnJlY29ubmVjdFN0cmF0ZWd5ID0gV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3kuRkFTVDtcbiAgICB0aGlzLnN0YXRlLnNldENhbGxpbmdTdGF0ZShDYWxsaW5nU3RhdGUuUkVDT05ORUNUSU5HKTtcbiAgICBhd2FpdCB0aGlzLmpvaW4odGhpcy5qb2luQ2FsbERhdGEpO1xuICAgIHRoaXMuc2Z1U3RhdHNSZXBvcnRlcj8uc2VuZFRlbGVtZXRyeURhdGEoe1xuICAgICAgZGF0YToge1xuICAgICAgICBvbmVvZktpbmQ6ICdyZWNvbm5lY3Rpb24nLFxuICAgICAgICByZWNvbm5lY3Rpb246IHtcbiAgICAgICAgICB0aW1lU2Vjb25kczogKERhdGUubm93KCkgLSByZWNvbm5lY3RTdGFydFRpbWUpIC8gMTAwMCxcbiAgICAgICAgICBzdHJhdGVneTogV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3kuRkFTVCxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEluaXRpYXRlcyB0aGUgcmVjb25uZWN0aW9uIGZsb3cgd2l0aCB0aGUgXCJyZWpvaW5cIiBzdHJhdGVneS5cbiAgICogQGludGVybmFsXG4gICAqL1xuICBwcml2YXRlIHJlY29ubmVjdFJlam9pbiA9IGFzeW5jICgpID0+IHtcbiAgICBsZXQgcmVjb25uZWN0U3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICB0aGlzLnJlY29ubmVjdFN0cmF0ZWd5ID0gV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3kuUkVKT0lOO1xuICAgIHRoaXMuc3RhdGUuc2V0Q2FsbGluZ1N0YXRlKENhbGxpbmdTdGF0ZS5SRUNPTk5FQ1RJTkcpO1xuICAgIGF3YWl0IHRoaXMuam9pbih0aGlzLmpvaW5DYWxsRGF0YSk7XG4gICAgYXdhaXQgdGhpcy5yZXN0b3JlUHVibGlzaGVkVHJhY2tzKCk7XG4gICAgdGhpcy5yZXN0b3JlU3Vic2NyaWJlZFRyYWNrcygpO1xuICAgIHRoaXMuc2Z1U3RhdHNSZXBvcnRlcj8uc2VuZFRlbGVtZXRyeURhdGEoe1xuICAgICAgZGF0YToge1xuICAgICAgICBvbmVvZktpbmQ6ICdyZWNvbm5lY3Rpb24nLFxuICAgICAgICByZWNvbm5lY3Rpb246IHtcbiAgICAgICAgICB0aW1lU2Vjb25kczogKERhdGUubm93KCkgLSByZWNvbm5lY3RTdGFydFRpbWUpIC8gMTAwMCxcbiAgICAgICAgICBzdHJhdGVneTogV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3kuUkVKT0lOLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogSW5pdGlhdGVzIHRoZSByZWNvbm5lY3Rpb24gZmxvdyB3aXRoIHRoZSBcIm1pZ3JhdGVcIiBzdHJhdGVneS5cbiAgICogQGludGVybmFsXG4gICAqL1xuICBwcml2YXRlIHJlY29ubmVjdE1pZ3JhdGUgPSBhc3luYyAoKSA9PiB7XG4gICAgbGV0IHJlY29ubmVjdFN0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgY29uc3QgY3VycmVudFNmdUNsaWVudCA9IHRoaXMuc2Z1Q2xpZW50O1xuICAgIGlmICghY3VycmVudFNmdUNsaWVudCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgbWlncmF0ZSB3aXRob3V0IGFuIGFjdGl2ZSBTRlUgY2xpZW50Jyk7XG4gICAgfVxuXG4gICAgdGhpcy5yZWNvbm5lY3RTdHJhdGVneSA9IFdlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5Lk1JR1JBVEU7XG4gICAgdGhpcy5zdGF0ZS5zZXRDYWxsaW5nU3RhdGUoQ2FsbGluZ1N0YXRlLk1JR1JBVElORyk7XG4gICAgY29uc3QgY3VycmVudFN1YnNjcmliZXIgPSB0aGlzLnN1YnNjcmliZXI7XG4gICAgY29uc3QgY3VycmVudFB1Ymxpc2hlciA9IHRoaXMucHVibGlzaGVyO1xuXG4gICAgY3VycmVudFN1YnNjcmliZXI/LmRldGFjaEV2ZW50SGFuZGxlcnMoKTtcbiAgICBjdXJyZW50UHVibGlzaGVyPy5kZXRhY2hFdmVudEhhbmRsZXJzKCk7XG5cbiAgICBjb25zdCBtaWdyYXRpb25UYXNrID0gbWFrZVNhZmVQcm9taXNlKGN1cnJlbnRTZnVDbGllbnQuZW50ZXJNaWdyYXRpb24oKSk7XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgY3VycmVudFNmdSA9IGN1cnJlbnRTZnVDbGllbnQuZWRnZU5hbWU7XG4gICAgICBhd2FpdCB0aGlzLmpvaW4oeyAuLi50aGlzLmpvaW5DYWxsRGF0YSwgbWlncmF0aW5nX2Zyb206IGN1cnJlbnRTZnUgfSk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIC8vIGNsZWFudXAgdGhlIG1pZ3JhdGlvbl9mcm9tIGZpZWxkIGFmdGVyIHRoZSBtaWdyYXRpb24gaXMgY29tcGxldGUgb3IgZmFpbGVkXG4gICAgICAvLyBhcyB3ZSBkb24ndCB3YW50IHRvIGtlZXAgZGlydHkgZGF0YSBpbiB0aGUgam9pbiBjYWxsIGRhdGFcbiAgICAgIGRlbGV0ZSB0aGlzLmpvaW5DYWxsRGF0YT8ubWlncmF0aW5nX2Zyb207XG4gICAgfVxuXG4gICAgYXdhaXQgdGhpcy5yZXN0b3JlUHVibGlzaGVkVHJhY2tzKCk7XG4gICAgdGhpcy5yZXN0b3JlU3Vic2NyaWJlZFRyYWNrcygpO1xuXG4gICAgdHJ5IHtcbiAgICAgIC8vIFdhaXQgZm9yIHRoZSBtaWdyYXRpb24gdG8gY29tcGxldGUsIHRoZW4gY2xvc2UgdGhlIHByZXZpb3VzIFNGVSBjbGllbnRcbiAgICAgIC8vIGFuZCB0aGUgcGVlciBjb25uZWN0aW9uIGluc3RhbmNlcy4gSW4gY2FzZSBvZiBmYWlsdXJlLCB0aGUgbWlncmF0aW9uXG4gICAgICAvLyB0YXNrIHdvdWxkIHRocm93IGFuIGVycm9yIGFuZCBSRUpPSU4gd291bGQgYmUgYXR0ZW1wdGVkLlxuICAgICAgYXdhaXQgbWlncmF0aW9uVGFzaygpO1xuXG4gICAgICAvLyBpbiBNSUdSQVRFLCB3ZSBjYW4gY29uc2lkZXIgdGhlIGNhbGwgYXMgam9pbmVkIG9ubHkgYWZ0ZXJcbiAgICAgIC8vIGBwYXJ0aWNpcGFudE1pZ3JhdGlvbkNvbXBsZXRlYCBldmVudCBpcyByZWNlaXZlZCwgc2lnbmFsZWQgYnlcbiAgICAgIC8vIHRoZSBgbWlncmF0aW9uVGFza2BcbiAgICAgIHRoaXMuc3RhdGUuc2V0Q2FsbGluZ1N0YXRlKENhbGxpbmdTdGF0ZS5KT0lORUQpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBjdXJyZW50U3Vic2NyaWJlcj8uY2xvc2UoKTtcbiAgICAgIGN1cnJlbnRQdWJsaXNoZXI/LmNsb3NlKHsgc3RvcFRyYWNrczogZmFsc2UgfSk7XG5cbiAgICAgIC8vIGFuZCBjbG9zZSB0aGUgcHJldmlvdXMgU0ZVIGNsaWVudCwgd2l0aG91dCBzcGVjaWZ5aW5nIGNsb3NlIGNvZGVcbiAgICAgIGN1cnJlbnRTZnVDbGllbnQuY2xvc2UoKTtcbiAgICB9XG4gICAgdGhpcy5zZnVTdGF0c1JlcG9ydGVyPy5zZW5kVGVsZW1ldHJ5RGF0YSh7XG4gICAgICBkYXRhOiB7XG4gICAgICAgIG9uZW9mS2luZDogJ3JlY29ubmVjdGlvbicsXG4gICAgICAgIHJlY29ubmVjdGlvbjoge1xuICAgICAgICAgIHRpbWVTZWNvbmRzOiAoRGF0ZS5ub3coKSAtIHJlY29ubmVjdFN0YXJ0VGltZSkgLyAxMDAwLFxuICAgICAgICAgIHN0cmF0ZWd5OiBXZWJzb2NrZXRSZWNvbm5lY3RTdHJhdGVneS5NSUdSQVRFLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogUmVnaXN0ZXJzIHRoZSB2YXJpb3VzIGV2ZW50IGhhbmRsZXJzIGZvciByZWNvbm5lY3Rpb24uXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgcHJpdmF0ZSByZWdpc3RlclJlY29ubmVjdEhhbmRsZXJzID0gKCkgPT4ge1xuICAgIC8vIGhhbmRsZXMgdGhlIGxlZ2FjeSBcImdvQXdheVwiIGV2ZW50XG4gICAgY29uc3QgdW5yZWdpc3RlckdvQXdheSA9IHRoaXMub24oJ2dvQXdheScsICgpID0+IHtcbiAgICAgIHRoaXMucmVjb25uZWN0KFdlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5Lk1JR1JBVEUpLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgdGhpcy5sb2dnZXIoJ3dhcm4nLCAnW1JlY29ubmVjdF0gRXJyb3IgcmVjb25uZWN0aW5nJywgZXJyKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgLy8gaGFuZGxlcyB0aGUgXCJlcnJvclwiIGV2ZW50LCB0aHJvdWdoIHdoaWNoIHRoZSBTRlUgY2FuIHJlcXVlc3QgYSByZWNvbm5lY3RcbiAgICBjb25zdCB1bnJlZ2lzdGVyT25FcnJvciA9IHRoaXMub24oJ2Vycm9yJywgKGUpID0+IHtcbiAgICAgIGNvbnN0IHsgcmVjb25uZWN0U3RyYXRlZ3k6IHN0cmF0ZWd5IH0gPSBlO1xuICAgICAgaWYgKHN0cmF0ZWd5ID09PSBXZWJzb2NrZXRSZWNvbm5lY3RTdHJhdGVneS5VTlNQRUNJRklFRCkgcmV0dXJuO1xuICAgICAgaWYgKHN0cmF0ZWd5ID09PSBXZWJzb2NrZXRSZWNvbm5lY3RTdHJhdGVneS5ESVNDT05ORUNUKSB7XG4gICAgICAgIHRoaXMubGVhdmUoeyByZWFzb246ICdTRlUgaW5zdHJ1Y3RlZCB0byBkaXNjb25uZWN0JyB9KS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgdGhpcy5sb2dnZXIoJ3dhcm4nLCBgQ2FuJ3QgbGVhdmUgY2FsbCBhZnRlciBkaXNjb25uZWN0IHJlcXVlc3RgLCBlcnIpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucmVjb25uZWN0KHN0cmF0ZWd5KS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgdGhpcy5sb2dnZXIoJ3dhcm4nLCAnW1JlY29ubmVjdF0gRXJyb3IgcmVjb25uZWN0aW5nJywgZXJyKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBjb25zdCB1bnJlZ2lzdGVyTmV0d29ya0NoYW5nZWQgPSB0aGlzLnN0cmVhbUNsaWVudC5vbihcbiAgICAgICduZXR3b3JrLmNoYW5nZWQnLFxuICAgICAgKGUpID0+IHtcbiAgICAgICAgaWYgKCFlLm9ubGluZSkge1xuICAgICAgICAgIHRoaXMubG9nZ2VyKCdkZWJ1ZycsICdbUmVjb25uZWN0XSBHb2luZyBvZmZsaW5lJyk7XG4gICAgICAgICAgaWYgKCF0aGlzLmhhc0pvaW5lZE9uY2UpIHJldHVybjtcbiAgICAgICAgICB0aGlzLmxhc3RPZmZsaW5lVGltZXN0YW1wID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAvLyBjcmVhdGUgYSBuZXcgdGFzayB0aGF0IHdvdWxkIHJlc29sdmUgd2hlbiB0aGUgbmV0d29yayBpcyBhdmFpbGFibGVcbiAgICAgICAgICBjb25zdCBuZXR3b3JrQXZhaWxhYmxlVGFzayA9IHByb21pc2VXaXRoUmVzb2x2ZXJzKCk7XG4gICAgICAgICAgbmV0d29ya0F2YWlsYWJsZVRhc2sucHJvbWlzZS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIGxldCBzdHJhdGVneSA9IFdlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5LkZBU1Q7XG4gICAgICAgICAgICBpZiAodGhpcy5sYXN0T2ZmbGluZVRpbWVzdGFtcCkge1xuICAgICAgICAgICAgICBjb25zdCBvZmZsaW5lID0gKERhdGUubm93KCkgLSB0aGlzLmxhc3RPZmZsaW5lVGltZXN0YW1wKSAvIDEwMDA7XG4gICAgICAgICAgICAgIGlmIChvZmZsaW5lID4gdGhpcy5mYXN0UmVjb25uZWN0RGVhZGxpbmVTZWNvbmRzKSB7XG4gICAgICAgICAgICAgICAgLy8gV2Ugc2hvdWxkbid0IGF0dGVtcHQgRkFTVCBpZiB3ZSBoYXZlIGV4Y2VlZGVkIHRoZSBkZWFkbGluZS5cbiAgICAgICAgICAgICAgICAvLyBUaGUgU0ZVIHdvdWxkIGhhdmUgYWxyZWFkeSB3aXBlZCBvdXQgdGhlIHNlc3Npb24uXG4gICAgICAgICAgICAgICAgc3RyYXRlZ3kgPSBXZWJzb2NrZXRSZWNvbm5lY3RTdHJhdGVneS5SRUpPSU47XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5yZWNvbm5lY3Qoc3RyYXRlZ3kpLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgICAgdGhpcy5sb2dnZXIoXG4gICAgICAgICAgICAgICAgJ3dhcm4nLFxuICAgICAgICAgICAgICAgICdbUmVjb25uZWN0XSBFcnJvciByZWNvbm5lY3RpbmcgYWZ0ZXIgZ29pbmcgb25saW5lJyxcbiAgICAgICAgICAgICAgICBlcnIsXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICB0aGlzLm5ldHdvcmtBdmFpbGFibGVUYXNrID0gbmV0d29ya0F2YWlsYWJsZVRhc2s7XG4gICAgICAgICAgdGhpcy5zZnVTdGF0c1JlcG9ydGVyPy5zdG9wKCk7XG4gICAgICAgICAgdGhpcy5zdGF0ZS5zZXRDYWxsaW5nU3RhdGUoQ2FsbGluZ1N0YXRlLk9GRkxJTkUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMubG9nZ2VyKCdkZWJ1ZycsICdbUmVjb25uZWN0XSBHb2luZyBvbmxpbmUnKTtcbiAgICAgICAgICB0aGlzLnNmdUNsaWVudD8uY2xvc2UoXG4gICAgICAgICAgICBTdHJlYW1TZnVDbGllbnQuRElTUE9TRV9PTERfU09DS0VULFxuICAgICAgICAgICAgJ0Nsb3NpbmcgV1MgdG8gcmVjb25uZWN0IGFmdGVyIGdvaW5nIG9ubGluZScsXG4gICAgICAgICAgKTtcbiAgICAgICAgICAvLyB3ZSB3ZW50IG9ubGluZSwgcmVsZWFzZSB0aGUgcHJldmlvdXMgd2FpdGVycyBhbmQgcmVzZXQgdGhlIHN0YXRlXG4gICAgICAgICAgdGhpcy5uZXR3b3JrQXZhaWxhYmxlVGFzaz8ucmVzb2x2ZSgpO1xuICAgICAgICAgIHRoaXMubmV0d29ya0F2YWlsYWJsZVRhc2sgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgdGhpcy5zZnVTdGF0c1JlcG9ydGVyPy5zdGFydCgpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICk7XG5cbiAgICB0aGlzLmxlYXZlQ2FsbEhvb2tzLmFkZCh1bnJlZ2lzdGVyR29Bd2F5KTtcbiAgICB0aGlzLmxlYXZlQ2FsbEhvb2tzLmFkZCh1bnJlZ2lzdGVyT25FcnJvcik7XG4gICAgdGhpcy5sZWF2ZUNhbGxIb29rcy5hZGQodW5yZWdpc3Rlck5ldHdvcmtDaGFuZ2VkKTtcbiAgfTtcblxuICAvKipcbiAgICogUmVzdG9yZXMgdGhlIHB1Ymxpc2hlZCB0cmFja3MgYWZ0ZXIgYSByZWNvbm5lY3Rpb24uXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgcHJpdmF0ZSByZXN0b3JlUHVibGlzaGVkVHJhY2tzID0gYXN5bmMgKCkgPT4ge1xuICAgIC8vIHRoZSB0cmFja3MgbmVlZCB0byBiZSByZXN0b3JlZCBpbiB0aGVpciBvcmlnaW5hbCBvcmRlciBvZiBwdWJsaXNoaW5nXG4gICAgLy8gb3RoZXJ3aXNlLCB3ZSBtaWdodCBnZXQgYG0tbGluZXMgb3JkZXIgbWlzbWF0Y2hgIGVycm9yc1xuICAgIGZvciAoY29uc3QgdHJhY2tUeXBlIG9mIHRoaXMudHJhY2tQdWJsaXNoT3JkZXIpIHtcbiAgICAgIHN3aXRjaCAodHJhY2tUeXBlKSB7XG4gICAgICAgIGNhc2UgVHJhY2tUeXBlLkFVRElPOlxuICAgICAgICAgIGNvbnN0IGF1ZGlvU3RyZWFtID0gdGhpcy5taWNyb3Bob25lLnN0YXRlLm1lZGlhU3RyZWFtO1xuICAgICAgICAgIGlmIChhdWRpb1N0cmVhbSkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5wdWJsaXNoQXVkaW9TdHJlYW0oYXVkaW9TdHJlYW0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBUcmFja1R5cGUuVklERU86XG4gICAgICAgICAgY29uc3QgdmlkZW9TdHJlYW0gPSB0aGlzLmNhbWVyYS5zdGF0ZS5tZWRpYVN0cmVhbTtcbiAgICAgICAgICBpZiAodmlkZW9TdHJlYW0pIGF3YWl0IHRoaXMucHVibGlzaFZpZGVvU3RyZWFtKHZpZGVvU3RyZWFtKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBUcmFja1R5cGUuU0NSRUVOX1NIQVJFOlxuICAgICAgICAgIGNvbnN0IHNjcmVlblNoYXJlU3RyZWFtID0gdGhpcy5zY3JlZW5TaGFyZS5zdGF0ZS5tZWRpYVN0cmVhbTtcbiAgICAgICAgICBpZiAoc2NyZWVuU2hhcmVTdHJlYW0pIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucHVibGlzaFNjcmVlblNoYXJlU3RyZWFtKHNjcmVlblNoYXJlU3RyZWFtKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIC8vIHNjcmVlbiBzaGFyZSBhdWRpbyBjYW4ndCBleGlzdCB3aXRob3V0IGEgc2NyZWVuIHNoYXJlLCBzbyB3ZSBoYW5kbGUgaXQgdGhlcmVcbiAgICAgICAgY2FzZSBUcmFja1R5cGUuU0NSRUVOX1NIQVJFX0FVRElPOlxuICAgICAgICBjYXNlIFRyYWNrVHlwZS5VTlNQRUNJRklFRDpcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBlbnN1cmVFeGhhdXN0ZWQodHJhY2tUeXBlLCAnVW5rbm93biB0cmFjayB0eXBlJyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBSZXN0b3JlcyB0aGUgc3Vic2NyaWJlZCB0cmFja3MgYWZ0ZXIgYSByZWNvbm5lY3Rpb24uXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgcHJpdmF0ZSByZXN0b3JlU3Vic2NyaWJlZFRyYWNrcyA9ICgpID0+IHtcbiAgICBjb25zdCB7IHJlbW90ZVBhcnRpY2lwYW50cyB9ID0gdGhpcy5zdGF0ZTtcbiAgICBpZiAocmVtb3RlUGFydGljaXBhbnRzLmxlbmd0aCA8PSAwKSByZXR1cm47XG4gICAgdGhpcy5keW5hc2NhbGVNYW5hZ2VyLmFwcGx5VHJhY2tTdWJzY3JpcHRpb25zKHVuZGVmaW5lZCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFN0YXJ0cyBwdWJsaXNoaW5nIHRoZSBnaXZlbiB2aWRlbyBzdHJlYW0gdG8gdGhlIGNhbGwuXG4gICAqIFRoZSBzdHJlYW0gd2lsbCBiZSBzdG9wcGVkIGlmIHRoZSB1c2VyIGNoYW5nZXMgYW4gaW5wdXQgZGV2aWNlLCBvciBpZiB0aGUgdXNlciBsZWF2ZXMgdGhlIGNhbGwuXG4gICAqXG4gICAqIENvbnNlY3V0aXZlIGNhbGxzIHRvIHRoaXMgbWV0aG9kIHdpbGwgcmVwbGFjZSB0aGUgcHJldmlvdXNseSBwdWJsaXNoZWQgc3RyZWFtLlxuICAgKiBUaGUgcHJldmlvdXMgdmlkZW8gc3RyZWFtIHdpbGwgYmUgc3RvcHBlZC5cbiAgICpcbiAgICogQHBhcmFtIHZpZGVvU3RyZWFtIHRoZSB2aWRlbyBzdHJlYW0gdG8gcHVibGlzaC5cbiAgICovXG4gIHB1Ymxpc2hWaWRlb1N0cmVhbSA9IGFzeW5jICh2aWRlb1N0cmVhbTogTWVkaWFTdHJlYW0pID0+IHtcbiAgICBpZiAoIXRoaXMuc2Z1Q2xpZW50KSB0aHJvdyBuZXcgRXJyb3IoYENhbGwgbm90IGpvaW5lZCB5ZXQuYCk7XG4gICAgLy8gam9pbmluZyBpcyBpbiBwcm9ncmVzcywgYW5kIHdlIHNob3VsZCB3YWl0IHVudGlsIHRoZSBjbGllbnQgaXMgcmVhZHlcbiAgICBhd2FpdCB0aGlzLnNmdUNsaWVudC5qb2luVGFzaztcblxuICAgIGlmICghdGhpcy5wZXJtaXNzaW9uc0NvbnRleHQuaGFzUGVybWlzc2lvbihPd25DYXBhYmlsaXR5LlNFTkRfVklERU8pKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIHBlcm1pc3Npb24gdG8gcHVibGlzaCB2aWRlbycpO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5wdWJsaXNoZXIpIHRocm93IG5ldyBFcnJvcignUHVibGlzaGVyIGlzIG5vdCBpbml0aWFsaXplZCcpO1xuXG4gICAgY29uc3QgW3ZpZGVvVHJhY2tdID0gdmlkZW9TdHJlYW0uZ2V0VmlkZW9UcmFja3MoKTtcbiAgICBpZiAoIXZpZGVvVHJhY2spIHRocm93IG5ldyBFcnJvcignVGhlcmUgaXMgbm8gdmlkZW8gdHJhY2sgaW4gdGhlIHN0cmVhbScpO1xuXG4gICAgaWYgKCF0aGlzLnRyYWNrUHVibGlzaE9yZGVyLmluY2x1ZGVzKFRyYWNrVHlwZS5WSURFTykpIHtcbiAgICAgIHRoaXMudHJhY2tQdWJsaXNoT3JkZXIucHVzaChUcmFja1R5cGUuVklERU8pO1xuICAgIH1cblxuICAgIGF3YWl0IHRoaXMucHVibGlzaGVyLnB1Ymxpc2hTdHJlYW0oXG4gICAgICB2aWRlb1N0cmVhbSxcbiAgICAgIHZpZGVvVHJhY2ssXG4gICAgICBUcmFja1R5cGUuVklERU8sXG4gICAgICB0aGlzLnB1Ymxpc2hPcHRpb25zLFxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFN0YXJ0cyBwdWJsaXNoaW5nIHRoZSBnaXZlbiBhdWRpbyBzdHJlYW0gdG8gdGhlIGNhbGwuXG4gICAqIFRoZSBzdHJlYW0gd2lsbCBiZSBzdG9wcGVkIGlmIHRoZSB1c2VyIGNoYW5nZXMgYW4gaW5wdXQgZGV2aWNlLCBvciBpZiB0aGUgdXNlciBsZWF2ZXMgdGhlIGNhbGwuXG4gICAqXG4gICAqIENvbnNlY3V0aXZlIGNhbGxzIHRvIHRoaXMgbWV0aG9kIHdpbGwgcmVwbGFjZSB0aGUgYXVkaW8gc3RyZWFtIHRoYXQgaXMgY3VycmVudGx5IGJlaW5nIHB1Ymxpc2hlZC5cbiAgICogVGhlIHByZXZpb3VzIGF1ZGlvIHN0cmVhbSB3aWxsIGJlIHN0b3BwZWQuXG4gICAqXG4gICAqIEBwYXJhbSBhdWRpb1N0cmVhbSB0aGUgYXVkaW8gc3RyZWFtIHRvIHB1Ymxpc2guXG4gICAqL1xuICBwdWJsaXNoQXVkaW9TdHJlYW0gPSBhc3luYyAoYXVkaW9TdHJlYW06IE1lZGlhU3RyZWFtKSA9PiB7XG4gICAgaWYgKCF0aGlzLnNmdUNsaWVudCkgdGhyb3cgbmV3IEVycm9yKGBDYWxsIG5vdCBqb2luZWQgeWV0LmApO1xuICAgIC8vIGpvaW5pbmcgaXMgaW4gcHJvZ3Jlc3MsIGFuZCB3ZSBzaG91bGQgd2FpdCB1bnRpbCB0aGUgY2xpZW50IGlzIHJlYWR5XG4gICAgYXdhaXQgdGhpcy5zZnVDbGllbnQuam9pblRhc2s7XG5cbiAgICBpZiAoIXRoaXMucGVybWlzc2lvbnNDb250ZXh0Lmhhc1Blcm1pc3Npb24oT3duQ2FwYWJpbGl0eS5TRU5EX0FVRElPKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBwZXJtaXNzaW9uIHRvIHB1Ymxpc2ggYXVkaW8nKTtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMucHVibGlzaGVyKSB0aHJvdyBuZXcgRXJyb3IoJ1B1Ymxpc2hlciBpcyBub3QgaW5pdGlhbGl6ZWQnKTtcblxuICAgIGNvbnN0IFthdWRpb1RyYWNrXSA9IGF1ZGlvU3RyZWFtLmdldEF1ZGlvVHJhY2tzKCk7XG4gICAgaWYgKCFhdWRpb1RyYWNrKSB0aHJvdyBuZXcgRXJyb3IoJ1RoZXJlIGlzIG5vIGF1ZGlvIHRyYWNrIGluIHRoZSBzdHJlYW0nKTtcblxuICAgIGlmICghdGhpcy50cmFja1B1Ymxpc2hPcmRlci5pbmNsdWRlcyhUcmFja1R5cGUuQVVESU8pKSB7XG4gICAgICB0aGlzLnRyYWNrUHVibGlzaE9yZGVyLnB1c2goVHJhY2tUeXBlLkFVRElPKTtcbiAgICB9XG4gICAgYXdhaXQgdGhpcy5wdWJsaXNoZXIucHVibGlzaFN0cmVhbShcbiAgICAgIGF1ZGlvU3RyZWFtLFxuICAgICAgYXVkaW9UcmFjayxcbiAgICAgIFRyYWNrVHlwZS5BVURJTyxcbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTdGFydHMgcHVibGlzaGluZyB0aGUgZ2l2ZW4gc2NyZWVuLXNoYXJlIHN0cmVhbSB0byB0aGUgY2FsbC5cbiAgICpcbiAgICogQ29uc2VjdXRpdmUgY2FsbHMgdG8gdGhpcyBtZXRob2Qgd2lsbCByZXBsYWNlIHRoZSBwcmV2aW91cyBzY3JlZW4tc2hhcmUgc3RyZWFtLlxuICAgKiBUaGUgcHJldmlvdXMgc2NyZWVuLXNoYXJlIHN0cmVhbSB3aWxsIGJlIHN0b3BwZWQuXG4gICAqXG4gICAqIEBwYXJhbSBzY3JlZW5TaGFyZVN0cmVhbSB0aGUgc2NyZWVuLXNoYXJlIHN0cmVhbSB0byBwdWJsaXNoLlxuICAgKi9cbiAgcHVibGlzaFNjcmVlblNoYXJlU3RyZWFtID0gYXN5bmMgKHNjcmVlblNoYXJlU3RyZWFtOiBNZWRpYVN0cmVhbSkgPT4ge1xuICAgIGlmICghdGhpcy5zZnVDbGllbnQpIHRocm93IG5ldyBFcnJvcihgQ2FsbCBub3Qgam9pbmVkIHlldC5gKTtcbiAgICAvLyBqb2luaW5nIGlzIGluIHByb2dyZXNzLCBhbmQgd2Ugc2hvdWxkIHdhaXQgdW50aWwgdGhlIGNsaWVudCBpcyByZWFkeVxuICAgIGF3YWl0IHRoaXMuc2Z1Q2xpZW50LmpvaW5UYXNrO1xuXG4gICAgaWYgKCF0aGlzLnBlcm1pc3Npb25zQ29udGV4dC5oYXNQZXJtaXNzaW9uKE93bkNhcGFiaWxpdHkuU0NSRUVOU0hBUkUpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIHBlcm1pc3Npb24gdG8gcHVibGlzaCBzY3JlZW4gc2hhcmUnKTtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMucHVibGlzaGVyKSB0aHJvdyBuZXcgRXJyb3IoJ1B1Ymxpc2hlciBpcyBub3QgaW5pdGlhbGl6ZWQnKTtcblxuICAgIGNvbnN0IFtzY3JlZW5TaGFyZVRyYWNrXSA9IHNjcmVlblNoYXJlU3RyZWFtLmdldFZpZGVvVHJhY2tzKCk7XG4gICAgaWYgKCFzY3JlZW5TaGFyZVRyYWNrKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZXJlIGlzIG5vIHNjcmVlbiBzaGFyZSB0cmFjayBpbiB0aGUgc3RyZWFtJyk7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLnRyYWNrUHVibGlzaE9yZGVyLmluY2x1ZGVzKFRyYWNrVHlwZS5TQ1JFRU5fU0hBUkUpKSB7XG4gICAgICB0aGlzLnRyYWNrUHVibGlzaE9yZGVyLnB1c2goVHJhY2tUeXBlLlNDUkVFTl9TSEFSRSk7XG4gICAgfVxuICAgIGNvbnN0IG9wdHM6IFB1Ymxpc2hPcHRpb25zID0ge1xuICAgICAgc2NyZWVuU2hhcmVTZXR0aW5nczogdGhpcy5zY3JlZW5TaGFyZS5nZXRTZXR0aW5ncygpLFxuICAgIH07XG4gICAgYXdhaXQgdGhpcy5wdWJsaXNoZXIucHVibGlzaFN0cmVhbShcbiAgICAgIHNjcmVlblNoYXJlU3RyZWFtLFxuICAgICAgc2NyZWVuU2hhcmVUcmFjayxcbiAgICAgIFRyYWNrVHlwZS5TQ1JFRU5fU0hBUkUsXG4gICAgICBvcHRzLFxuICAgICk7XG5cbiAgICBjb25zdCBbc2NyZWVuU2hhcmVBdWRpb1RyYWNrXSA9IHNjcmVlblNoYXJlU3RyZWFtLmdldEF1ZGlvVHJhY2tzKCk7XG4gICAgaWYgKHNjcmVlblNoYXJlQXVkaW9UcmFjaykge1xuICAgICAgaWYgKCF0aGlzLnRyYWNrUHVibGlzaE9yZGVyLmluY2x1ZGVzKFRyYWNrVHlwZS5TQ1JFRU5fU0hBUkVfQVVESU8pKSB7XG4gICAgICAgIHRoaXMudHJhY2tQdWJsaXNoT3JkZXIucHVzaChUcmFja1R5cGUuU0NSRUVOX1NIQVJFX0FVRElPKTtcbiAgICAgIH1cbiAgICAgIGF3YWl0IHRoaXMucHVibGlzaGVyLnB1Ymxpc2hTdHJlYW0oXG4gICAgICAgIHNjcmVlblNoYXJlU3RyZWFtLFxuICAgICAgICBzY3JlZW5TaGFyZUF1ZGlvVHJhY2ssXG4gICAgICAgIFRyYWNrVHlwZS5TQ1JFRU5fU0hBUkVfQVVESU8sXG4gICAgICAgIG9wdHMsXG4gICAgICApO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogU3RvcHMgcHVibGlzaGluZyB0aGUgZ2l2ZW4gdHJhY2sgdHlwZSB0byB0aGUgY2FsbCwgaWYgaXQgaXMgY3VycmVudGx5IGJlaW5nIHB1Ymxpc2hlZC5cbiAgICogVW5kZXJseWluZyB0cmFjayB3aWxsIGJlIHN0b3BwZWQgYW5kIHJlbW92ZWQgZnJvbSB0aGUgcHVibGlzaGVyLlxuICAgKlxuICAgKiBAcGFyYW0gdHJhY2tUeXBlIHRoZSB0cmFjayB0eXBlIHRvIHN0b3AgcHVibGlzaGluZy5cbiAgICogQHBhcmFtIHN0b3BUcmFjayBpZiBgdHJ1ZWAgdGhlIHRyYWNrIHdpbGwgYmUgc3RvcHBlZCwgZWxzZSBpdCB3aWxsIGJlIGp1c3QgZGlzYWJsZWRcbiAgICovXG4gIHN0b3BQdWJsaXNoID0gYXN5bmMgKHRyYWNrVHlwZTogVHJhY2tUeXBlLCBzdG9wVHJhY2s6IGJvb2xlYW4gPSB0cnVlKSA9PiB7XG4gICAgdGhpcy5sb2dnZXIoXG4gICAgICAnaW5mbycsXG4gICAgICBgc3RvcFB1Ymxpc2ggJHtUcmFja1R5cGVbdHJhY2tUeXBlXX0sIHN0b3AgdHJhY2tzOiAke3N0b3BUcmFja31gLFxuICAgICk7XG4gICAgYXdhaXQgdGhpcy5wdWJsaXNoZXI/LnVucHVibGlzaFN0cmVhbSh0cmFja1R5cGUsIHN0b3BUcmFjayk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIHByZWZlcnJlZCBwdWJsaXNoaW5nIG9wdGlvbnNcbiAgICpcbiAgICogQGludGVybmFsXG4gICAqIEBwYXJhbSBvcHRpb25zIHRoZSBvcHRpb25zIHRvIHVzZS5cbiAgICovXG4gIHVwZGF0ZVB1Ymxpc2hPcHRpb25zKG9wdGlvbnM6IFB1Ymxpc2hPcHRpb25zKSB7XG4gICAgdGhpcy5wdWJsaXNoT3B0aW9ucyA9IHsgLi4udGhpcy5wdWJsaXNoT3B0aW9ucywgLi4ub3B0aW9ucyB9O1xuICB9XG5cbiAgLyoqXG4gICAqIE5vdGlmaWVzIHRoZSBTRlUgdGhhdCBhIG5vaXNlIGNhbmNlbGxhdGlvbiBwcm9jZXNzIGhhcyBzdGFydGVkLlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIG5vdGlmeU5vaXNlQ2FuY2VsbGF0aW9uU3RhcnRpbmcgPSBhc3luYyAoKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc2Z1Q2xpZW50Py5zdGFydE5vaXNlQ2FuY2VsbGF0aW9uKCkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgdGhpcy5sb2dnZXIoJ3dhcm4nLCAnRmFpbGVkIHRvIG5vdGlmeSBzdGFydCBvZiBub2lzZSBjYW5jZWxsYXRpb24nLCBlcnIpO1xuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBOb3RpZmllcyB0aGUgU0ZVIHRoYXQgYSBub2lzZSBjYW5jZWxsYXRpb24gcHJvY2VzcyBoYXMgc3RvcHBlZC5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqL1xuICBub3RpZnlOb2lzZUNhbmNlbGxhdGlvblN0b3BwZWQgPSBhc3luYyAoKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc2Z1Q2xpZW50Py5zdG9wTm9pc2VDYW5jZWxsYXRpb24oKS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICB0aGlzLmxvZ2dlcignd2FybicsICdGYWlsZWQgdG8gbm90aWZ5IHN0b3Agb2Ygbm9pc2UgY2FuY2VsbGF0aW9uJywgZXJyKTtcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogV2lsbCBlbmhhbmNlIHRoZSByZXBvcnRlZCBzdGF0cyB3aXRoIGFkZGl0aW9uYWwgcGFydGljaXBhbnQtc3BlY2lmaWMgaW5mb3JtYXRpb24gKGBjYWxsU3RhdHNSZXBvcnQkYCBzdGF0ZSBbc3RvcmUgdmFyaWFibGVdKC4vU3RyZWFtVmlkZW9DbGllbnQubWQvI3JlYWRvbmx5c3RhdGVzdG9yZSkpLlxuICAgKiBUaGlzIGlzIHVzdWFsbHkgaGVscGZ1bCB3aGVuIGRldGFpbGVkIHN0YXRzIGZvciBhIHNwZWNpZmljIHBhcnRpY2lwYW50IGFyZSBuZWVkZWQuXG4gICAqXG4gICAqIEBwYXJhbSBzZXNzaW9uSWQgdGhlIHNlc3Npb25JZCB0byBzdGFydCByZXBvcnRpbmcgZm9yLlxuICAgKi9cbiAgc3RhcnRSZXBvcnRpbmdTdGF0c0ZvciA9IChzZXNzaW9uSWQ6IHN0cmluZykgPT4ge1xuICAgIHJldHVybiB0aGlzLnN0YXRzUmVwb3J0ZXI/LnN0YXJ0UmVwb3J0aW5nU3RhdHNGb3Ioc2Vzc2lvbklkKTtcbiAgfTtcblxuICAvKipcbiAgICogT3Bwb3NpdGUgb2YgYHN0YXJ0UmVwb3J0aW5nU3RhdHNGb3JgLlxuICAgKiBXaWxsIHR1cm4gb2ZmIHN0YXRzIHJlcG9ydGluZyBmb3IgYSBzcGVjaWZpYyBwYXJ0aWNpcGFudC5cbiAgICpcbiAgICogQHBhcmFtIHNlc3Npb25JZCB0aGUgc2Vzc2lvbklkIHRvIHN0b3AgcmVwb3J0aW5nIGZvci5cbiAgICovXG4gIHN0b3BSZXBvcnRpbmdTdGF0c0ZvciA9IChzZXNzaW9uSWQ6IHN0cmluZykgPT4ge1xuICAgIHJldHVybiB0aGlzLnN0YXRzUmVwb3J0ZXI/LnN0b3BSZXBvcnRpbmdTdGF0c0ZvcihzZXNzaW9uSWQpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXNldHMgdGhlIGxhc3Qgc2VudCByZWFjdGlvbiBmb3IgdGhlIHVzZXIgaG9sZGluZyB0aGUgZ2l2ZW4gYHNlc3Npb25JZGAuIFRoaXMgaXMgYSBsb2NhbCBhY3Rpb24sIGl0IHdvbid0IHJlc2V0IHRoZSByZWFjdGlvbiBvbiB0aGUgYmFja2VuZC5cbiAgICpcbiAgICogQHBhcmFtIHNlc3Npb25JZCB0aGUgc2Vzc2lvbiBpZC5cbiAgICovXG4gIHJlc2V0UmVhY3Rpb24gPSAoc2Vzc2lvbklkOiBzdHJpbmcpID0+IHtcbiAgICB0aGlzLnN0YXRlLnVwZGF0ZVBhcnRpY2lwYW50KHNlc3Npb25JZCwge1xuICAgICAgcmVhY3Rpb246IHVuZGVmaW5lZCxcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogU2V0cyB0aGUgbGlzdCBvZiBjcml0ZXJpYSB0byBzb3J0IHRoZSBwYXJ0aWNpcGFudHMgYnkuXG4gICAqXG4gICAqIEBwYXJhbSBjcml0ZXJpYSB0aGUgbGlzdCBvZiBjcml0ZXJpYSB0byBzb3J0IHRoZSBwYXJ0aWNpcGFudHMgYnkuXG4gICAqL1xuICBzZXRTb3J0UGFydGljaXBhbnRzQnk6IENhbGxTdGF0ZVsnc2V0U29ydFBhcnRpY2lwYW50c0J5J10gPSAoY3JpdGVyaWEpID0+IHtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5zZXRTb3J0UGFydGljaXBhbnRzQnkoY3JpdGVyaWEpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTZW5kcyBhIHJlYWN0aW9uIHRvIHRoZSBvdGhlciBjYWxsIHBhcnRpY2lwYW50cy5cbiAgICpcbiAgICogQHBhcmFtIHJlYWN0aW9uIHRoZSByZWFjdGlvbiB0byBzZW5kLlxuICAgKi9cbiAgc2VuZFJlYWN0aW9uID0gYXN5bmMgKFxuICAgIHJlYWN0aW9uOiBTZW5kUmVhY3Rpb25SZXF1ZXN0LFxuICApOiBQcm9taXNlPFNlbmRSZWFjdGlvblJlc3BvbnNlPiA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RyZWFtQ2xpZW50LnBvc3Q8U2VuZFJlYWN0aW9uUmVzcG9uc2UsIFNlbmRSZWFjdGlvblJlcXVlc3Q+KFxuICAgICAgYCR7dGhpcy5zdHJlYW1DbGllbnRCYXNlUGF0aH0vcmVhY3Rpb25gLFxuICAgICAgcmVhY3Rpb24sXG4gICAgKTtcbiAgfTtcblxuICAvKipcbiAgICogQmxvY2tzIHRoZSB1c2VyIHdpdGggdGhlIGdpdmVuIGB1c2VySWRgLlxuICAgKlxuICAgKiBAcGFyYW0gdXNlcklkIHRoZSBpZCBvZiB0aGUgdXNlciB0byBibG9jay5cbiAgICovXG4gIGJsb2NrVXNlciA9IGFzeW5jICh1c2VySWQ6IHN0cmluZykgPT4ge1xuICAgIHJldHVybiB0aGlzLnN0cmVhbUNsaWVudC5wb3N0PEJsb2NrVXNlclJlc3BvbnNlLCBCbG9ja1VzZXJSZXF1ZXN0PihcbiAgICAgIGAke3RoaXMuc3RyZWFtQ2xpZW50QmFzZVBhdGh9L2Jsb2NrYCxcbiAgICAgIHtcbiAgICAgICAgdXNlcl9pZDogdXNlcklkLFxuICAgICAgfSxcbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBVbmJsb2NrcyB0aGUgdXNlciB3aXRoIHRoZSBnaXZlbiBgdXNlcklkYC5cbiAgICpcbiAgICogQHBhcmFtIHVzZXJJZCB0aGUgaWQgb2YgdGhlIHVzZXIgdG8gdW5ibG9jay5cbiAgICovXG4gIHVuYmxvY2tVc2VyID0gYXN5bmMgKHVzZXJJZDogc3RyaW5nKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RyZWFtQ2xpZW50LnBvc3Q8VW5ibG9ja1VzZXJSZXNwb25zZSwgVW5ibG9ja1VzZXJSZXF1ZXN0PihcbiAgICAgIGAke3RoaXMuc3RyZWFtQ2xpZW50QmFzZVBhdGh9L3VuYmxvY2tgLFxuICAgICAge1xuICAgICAgICB1c2VyX2lkOiB1c2VySWQsXG4gICAgICB9LFxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIE11dGVzIHRoZSBjdXJyZW50IHVzZXIuXG4gICAqXG4gICAqIEBwYXJhbSB0eXBlIHRoZSB0eXBlIG9mIHRoZSBtdXRlIG9wZXJhdGlvbi5cbiAgICovXG4gIG11dGVTZWxmID0gKHR5cGU6IFRyYWNrTXV0ZVR5cGUpID0+IHtcbiAgICBjb25zdCBteVVzZXJJZCA9IHRoaXMuY3VycmVudFVzZXJJZDtcbiAgICBpZiAobXlVc2VySWQpIHtcbiAgICAgIHJldHVybiB0aGlzLm11dGVVc2VyKG15VXNlcklkLCB0eXBlKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIE11dGVzIGFsbCB0aGUgb3RoZXIgcGFydGljaXBhbnRzLlxuICAgKlxuICAgKiBAcGFyYW0gdHlwZSB0aGUgdHlwZSBvZiB0aGUgbXV0ZSBvcGVyYXRpb24uXG4gICAqL1xuICBtdXRlT3RoZXJzID0gKHR5cGU6IFRyYWNrTXV0ZVR5cGUpID0+IHtcbiAgICBjb25zdCB0cmFja1R5cGUgPSBtdXRlVHlwZVRvVHJhY2tUeXBlKHR5cGUpO1xuICAgIGlmICghdHJhY2tUeXBlKSByZXR1cm47XG4gICAgY29uc3QgdXNlcklkc1RvTXV0ZTogc3RyaW5nW10gPSBbXTtcbiAgICBmb3IgKGNvbnN0IHBhcnRpY2lwYW50IG9mIHRoaXMuc3RhdGUucmVtb3RlUGFydGljaXBhbnRzKSB7XG4gICAgICBpZiAocGFydGljaXBhbnQucHVibGlzaGVkVHJhY2tzLmluY2x1ZGVzKHRyYWNrVHlwZSkpIHtcbiAgICAgICAgdXNlcklkc1RvTXV0ZS5wdXNoKHBhcnRpY2lwYW50LnVzZXJJZCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHVzZXJJZHNUb011dGUubGVuZ3RoID4gMCkge1xuICAgICAgcmV0dXJuIHRoaXMubXV0ZVVzZXIodXNlcklkc1RvTXV0ZSwgdHlwZSk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBNdXRlcyB0aGUgdXNlciB3aXRoIHRoZSBnaXZlbiBgdXNlcklkYC5cbiAgICpcbiAgICogQHBhcmFtIHVzZXJJZCB0aGUgaWQgb2YgdGhlIHVzZXIgdG8gbXV0ZS5cbiAgICogQHBhcmFtIHR5cGUgdGhlIHR5cGUgb2YgdGhlIG11dGUgb3BlcmF0aW9uLlxuICAgKi9cbiAgbXV0ZVVzZXIgPSAodXNlcklkOiBzdHJpbmcgfCBzdHJpbmdbXSwgdHlwZTogVHJhY2tNdXRlVHlwZSkgPT4ge1xuICAgIHJldHVybiB0aGlzLnN0cmVhbUNsaWVudC5wb3N0PE11dGVVc2Vyc1Jlc3BvbnNlLCBNdXRlVXNlcnNSZXF1ZXN0PihcbiAgICAgIGAke3RoaXMuc3RyZWFtQ2xpZW50QmFzZVBhdGh9L211dGVfdXNlcnNgLFxuICAgICAge1xuICAgICAgICB1c2VyX2lkczogQXJyYXkuaXNBcnJheSh1c2VySWQpID8gdXNlcklkIDogW3VzZXJJZF0sXG4gICAgICAgIFt0eXBlXTogdHJ1ZSxcbiAgICAgIH0sXG4gICAgKTtcbiAgfTtcblxuICAvKipcbiAgICogV2lsbCBtdXRlIGFsbCB1c2VycyBpbiB0aGUgY2FsbC5cbiAgICpcbiAgICogQHBhcmFtIHR5cGUgdGhlIHR5cGUgb2YgdGhlIG11dGUgb3BlcmF0aW9uLlxuICAgKi9cbiAgbXV0ZUFsbFVzZXJzID0gKHR5cGU6IFRyYWNrTXV0ZVR5cGUpID0+IHtcbiAgICByZXR1cm4gdGhpcy5zdHJlYW1DbGllbnQucG9zdDxNdXRlVXNlcnNSZXNwb25zZSwgTXV0ZVVzZXJzUmVxdWVzdD4oXG4gICAgICBgJHt0aGlzLnN0cmVhbUNsaWVudEJhc2VQYXRofS9tdXRlX3VzZXJzYCxcbiAgICAgIHtcbiAgICAgICAgbXV0ZV9hbGxfdXNlcnM6IHRydWUsXG4gICAgICAgIFt0eXBlXTogdHJ1ZSxcbiAgICAgIH0sXG4gICAgKTtcbiAgfTtcblxuICAvKipcbiAgICogU3RhcnRzIHJlY29yZGluZyB0aGUgY2FsbFxuICAgKi9cbiAgc3RhcnRSZWNvcmRpbmcgPSBhc3luYyAocmVxdWVzdD86IFN0YXJ0UmVjb3JkaW5nUmVxdWVzdCkgPT4ge1xuICAgIHJldHVybiB0aGlzLnN0cmVhbUNsaWVudC5wb3N0PFxuICAgICAgU3RhcnRSZWNvcmRpbmdSZXNwb25zZSxcbiAgICAgIFN0YXJ0UmVjb3JkaW5nUmVxdWVzdFxuICAgID4oYCR7dGhpcy5zdHJlYW1DbGllbnRCYXNlUGF0aH0vc3RhcnRfcmVjb3JkaW5nYCwgcmVxdWVzdCA/IHJlcXVlc3QgOiB7fSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFN0b3BzIHJlY29yZGluZyB0aGUgY2FsbFxuICAgKi9cbiAgc3RvcFJlY29yZGluZyA9IGFzeW5jICgpID0+IHtcbiAgICByZXR1cm4gdGhpcy5zdHJlYW1DbGllbnQucG9zdDxTdG9wUmVjb3JkaW5nUmVzcG9uc2U+KFxuICAgICAgYCR7dGhpcy5zdHJlYW1DbGllbnRCYXNlUGF0aH0vc3RvcF9yZWNvcmRpbmdgLFxuICAgICAge30sXG4gICAgKTtcbiAgfTtcblxuICAvKipcbiAgICogU3RhcnRzIHRoZSB0cmFuc2NyaXB0aW9uIG9mIHRoZSBjYWxsLlxuICAgKlxuICAgKiBAcGFyYW0gcmVxdWVzdCB0aGUgcmVxdWVzdCBkYXRhLlxuICAgKi9cbiAgc3RhcnRUcmFuc2NyaXB0aW9uID0gYXN5bmMgKFxuICAgIHJlcXVlc3Q/OiBTdGFydFRyYW5zY3JpcHRpb25SZXF1ZXN0LFxuICApOiBQcm9taXNlPFN0YXJ0VHJhbnNjcmlwdGlvblJlc3BvbnNlPiA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RyZWFtQ2xpZW50LnBvc3Q8XG4gICAgICBTdGFydFRyYW5zY3JpcHRpb25SZXNwb25zZSxcbiAgICAgIFN0YXJ0VHJhbnNjcmlwdGlvblJlcXVlc3RcbiAgICA+KGAke3RoaXMuc3RyZWFtQ2xpZW50QmFzZVBhdGh9L3N0YXJ0X3RyYW5zY3JpcHRpb25gLCByZXF1ZXN0KTtcbiAgfTtcblxuICAvKipcbiAgICogU3RvcHMgdGhlIHRyYW5zY3JpcHRpb24gb2YgdGhlIGNhbGwuXG4gICAqL1xuICBzdG9wVHJhbnNjcmlwdGlvbiA9IGFzeW5jICgpOiBQcm9taXNlPFN0b3BUcmFuc2NyaXB0aW9uUmVzcG9uc2U+ID0+IHtcbiAgICByZXR1cm4gdGhpcy5zdHJlYW1DbGllbnQucG9zdDxTdG9wVHJhbnNjcmlwdGlvblJlc3BvbnNlPihcbiAgICAgIGAke3RoaXMuc3RyZWFtQ2xpZW50QmFzZVBhdGh9L3N0b3BfdHJhbnNjcmlwdGlvbmAsXG4gICAgKTtcbiAgfTtcblxuICAvKipcbiAgICogU2VuZHMgYSBgY2FsbC5wZXJtaXNzaW9uX3JlcXVlc3RgIGV2ZW50IHRvIGFsbCB1c2VycyBjb25uZWN0ZWQgdG8gdGhlIGNhbGwuIFRoZSBjYWxsIHNldHRpbmdzIG9iamVjdCBjb250YWlucyBpbmZvbXJhdGlvbiBhYm91dCB3aGljaCBwZXJtaXNzaW9ucyBjYW4gYmUgcmVxdWVzdGVkIGR1cmluZyBhIGNhbGwgKGZvciBleGFtcGxlIGEgdXNlciBtaWdodCBiZSBhbGxvd2VkIHRvIHJlcXVlc3QgcGVybWlzc2lvbiB0byBwdWJsaXNoIGF1ZGlvLCBidXQgbm90IHZpZGVvKS5cbiAgICovXG4gIHJlcXVlc3RQZXJtaXNzaW9ucyA9IGFzeW5jIChcbiAgICBkYXRhOiBSZXF1ZXN0UGVybWlzc2lvblJlcXVlc3QsXG4gICk6IFByb21pc2U8UmVxdWVzdFBlcm1pc3Npb25SZXNwb25zZT4gPT4ge1xuICAgIGNvbnN0IHsgcGVybWlzc2lvbnMgfSA9IGRhdGE7XG4gICAgY29uc3QgY2FuUmVxdWVzdFBlcm1pc3Npb25zID0gcGVybWlzc2lvbnMuZXZlcnkoKHBlcm1pc3Npb24pID0+XG4gICAgICB0aGlzLnBlcm1pc3Npb25zQ29udGV4dC5jYW5SZXF1ZXN0KHBlcm1pc3Npb24gYXMgT3duQ2FwYWJpbGl0eSksXG4gICAgKTtcbiAgICBpZiAoIWNhblJlcXVlc3RQZXJtaXNzaW9ucykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgWW91IGFyZSBub3QgYWxsb3dlZCB0byByZXF1ZXN0IHBlcm1pc3Npb25zOiAke3Blcm1pc3Npb25zLmpvaW4oJywgJyl9YCxcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnN0cmVhbUNsaWVudC5wb3N0PFxuICAgICAgUmVxdWVzdFBlcm1pc3Npb25SZXNwb25zZSxcbiAgICAgIFJlcXVlc3RQZXJtaXNzaW9uUmVxdWVzdFxuICAgID4oYCR7dGhpcy5zdHJlYW1DbGllbnRCYXNlUGF0aH0vcmVxdWVzdF9wZXJtaXNzaW9uYCwgZGF0YSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEFsbG93cyB5b3UgdG8gZ3JhbnQgY2VydGFpbiBwZXJtaXNzaW9ucyB0byBhIHVzZXIgaW4gYSBjYWxsLlxuICAgKiBUaGUgcGVybWlzc2lvbnMgYXJlIHNwZWNpZmljIHRvIHRoZSBjYWxsIGV4cGVyaWVuY2UgYW5kIGRvIG5vdCBzdXJ2aXZlIHRoZSBjYWxsIGl0c2VsZi5cbiAgICpcbiAgICogU3VwcG9ydGVkIHBlcm1pc3Npb25zIHRoYXQgY2FuIGJlIGdyYW50ZWQgYXJlOlxuICAgKiAtIGBzZW5kLWF1ZGlvYFxuICAgKiAtIGBzZW5kLXZpZGVvYFxuICAgKiAtIGBzY3JlZW5zaGFyZWBcbiAgICpcbiAgICogQHBhcmFtIHVzZXJJZCB0aGUgaWQgb2YgdGhlIHVzZXIgdG8gZ3JhbnQgcGVybWlzc2lvbnMgdG8uXG4gICAqIEBwYXJhbSBwZXJtaXNzaW9ucyB0aGUgcGVybWlzc2lvbnMgdG8gZ3JhbnQuXG4gICAqL1xuICBncmFudFBlcm1pc3Npb25zID0gYXN5bmMgKHVzZXJJZDogc3RyaW5nLCBwZXJtaXNzaW9uczogc3RyaW5nW10pID0+IHtcbiAgICByZXR1cm4gdGhpcy51cGRhdGVVc2VyUGVybWlzc2lvbnMoe1xuICAgICAgdXNlcl9pZDogdXNlcklkLFxuICAgICAgZ3JhbnRfcGVybWlzc2lvbnM6IHBlcm1pc3Npb25zLFxuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBBbGxvd3MgeW91IHRvIHJldm9rZSBjZXJ0YWluIHBlcm1pc3Npb25zIGZyb20gYSB1c2VyIGluIGEgY2FsbC5cbiAgICogVGhlIHBlcm1pc3Npb25zIGFyZSBzcGVjaWZpYyB0byB0aGUgY2FsbCBleHBlcmllbmNlIGFuZCBkbyBub3Qgc3Vydml2ZSB0aGUgY2FsbCBpdHNlbGYuXG4gICAqXG4gICAqIFN1cHBvcnRlZCBwZXJtaXNzaW9ucyB0aGF0IGNhbiBiZSByZXZva2VkIGFyZTpcbiAgICogLSBgc2VuZC1hdWRpb2BcbiAgICogLSBgc2VuZC12aWRlb2BcbiAgICogLSBgc2NyZWVuc2hhcmVgXG4gICAqXG4gICAqIEBwYXJhbSB1c2VySWQgdGhlIGlkIG9mIHRoZSB1c2VyIHRvIHJldm9rZSBwZXJtaXNzaW9ucyBmcm9tLlxuICAgKiBAcGFyYW0gcGVybWlzc2lvbnMgdGhlIHBlcm1pc3Npb25zIHRvIHJldm9rZS5cbiAgICovXG4gIHJldm9rZVBlcm1pc3Npb25zID0gYXN5bmMgKHVzZXJJZDogc3RyaW5nLCBwZXJtaXNzaW9uczogc3RyaW5nW10pID0+IHtcbiAgICByZXR1cm4gdGhpcy51cGRhdGVVc2VyUGVybWlzc2lvbnMoe1xuICAgICAgdXNlcl9pZDogdXNlcklkLFxuICAgICAgcmV2b2tlX3Blcm1pc3Npb25zOiBwZXJtaXNzaW9ucyxcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogQWxsb3dzIHlvdSB0byBncmFudCBvciByZXZva2UgYSBzcGVjaWZpYyBwZXJtaXNzaW9uIHRvIGEgdXNlciBpbiBhIGNhbGwuIFRoZSBwZXJtaXNzaW9ucyBhcmUgc3BlY2lmaWMgdG8gdGhlIGNhbGwgZXhwZXJpZW5jZSBhbmQgZG8gbm90IHN1cnZpdmUgdGhlIGNhbGwgaXRzZWxmLlxuICAgKlxuICAgKiBXaGVuIHJldm9raW5nIGEgcGVybWlzc2lvbiwgdGhpcyBlbmRwb2ludCB3aWxsIGFsc28gbXV0ZSB0aGUgcmVsZXZhbnQgdHJhY2sgZnJvbSB0aGUgdXNlci4gVGhpcyBpcyBzaW1pbGFyIHRvIG11dGluZyBhIHVzZXIgd2l0aCB0aGUgZGlmZmVyZW5jZSB0aGF0IHRoZSB1c2VyIHdpbGwgbm90IGJlIGFibGUgdG8gdW5tdXRlIGFmdGVyd2FyZHMuXG4gICAqXG4gICAqIFN1cHBvcnRlZCBwZXJtaXNzaW9ucyB0aGF0IGNhbiBiZSBncmFudGVkIG9yIHJldm9rZWQ6IGBzZW5kLWF1ZGlvYCwgYHNlbmQtdmlkZW9gIGFuZCBgc2NyZWVuc2hhcmVgLlxuICAgKlxuICAgKiBgY2FsbC5wZXJtaXNzaW9uc191cGRhdGVkYCBldmVudCBpcyBzZW50IHRvIGFsbCBtZW1iZXJzIG9mIHRoZSBjYWxsLlxuICAgKlxuICAgKi9cbiAgdXBkYXRlVXNlclBlcm1pc3Npb25zID0gYXN5bmMgKGRhdGE6IFVwZGF0ZVVzZXJQZXJtaXNzaW9uc1JlcXVlc3QpID0+IHtcbiAgICByZXR1cm4gdGhpcy5zdHJlYW1DbGllbnQucG9zdDxcbiAgICAgIFVwZGF0ZVVzZXJQZXJtaXNzaW9uc1Jlc3BvbnNlLFxuICAgICAgVXBkYXRlVXNlclBlcm1pc3Npb25zUmVxdWVzdFxuICAgID4oYCR7dGhpcy5zdHJlYW1DbGllbnRCYXNlUGF0aH0vdXNlcl9wZXJtaXNzaW9uc2AsIGRhdGEpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTdGFydHMgdGhlIGxpdmVzdHJlYW1pbmcgb2YgdGhlIGNhbGwuXG4gICAqXG4gICAqIEBwYXJhbSBkYXRhIHRoZSByZXF1ZXN0IGRhdGEuXG4gICAqIEBwYXJhbSBwYXJhbXMgdGhlIHJlcXVlc3QgcGFyYW1zLlxuICAgKi9cbiAgZ29MaXZlID0gYXN5bmMgKGRhdGE6IEdvTGl2ZVJlcXVlc3QgPSB7fSwgcGFyYW1zPzogeyBub3RpZnk/OiBib29sZWFuIH0pID0+IHtcbiAgICByZXR1cm4gdGhpcy5zdHJlYW1DbGllbnQucG9zdDxHb0xpdmVSZXNwb25zZSwgR29MaXZlUmVxdWVzdD4oXG4gICAgICBgJHt0aGlzLnN0cmVhbUNsaWVudEJhc2VQYXRofS9nb19saXZlYCxcbiAgICAgIGRhdGEsXG4gICAgICBwYXJhbXMsXG4gICAgKTtcbiAgfTtcblxuICAvKipcbiAgICogU3RvcHMgdGhlIGxpdmVzdHJlYW1pbmcgb2YgdGhlIGNhbGwuXG4gICAqL1xuICBzdG9wTGl2ZSA9IGFzeW5jICgpID0+IHtcbiAgICByZXR1cm4gdGhpcy5zdHJlYW1DbGllbnQucG9zdDxTdG9wTGl2ZVJlc3BvbnNlPihcbiAgICAgIGAke3RoaXMuc3RyZWFtQ2xpZW50QmFzZVBhdGh9L3N0b3BfbGl2ZWAsXG4gICAgICB7fSxcbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTdGFydHMgdGhlIGJyb2FkY2FzdGluZyBvZiB0aGUgY2FsbC5cbiAgICovXG4gIHN0YXJ0SExTID0gYXN5bmMgKCkgPT4ge1xuICAgIHJldHVybiB0aGlzLnN0cmVhbUNsaWVudC5wb3N0PFN0YXJ0SExTQnJvYWRjYXN0aW5nUmVzcG9uc2U+KFxuICAgICAgYCR7dGhpcy5zdHJlYW1DbGllbnRCYXNlUGF0aH0vc3RhcnRfYnJvYWRjYXN0aW5nYCxcbiAgICAgIHt9LFxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFN0b3BzIHRoZSBicm9hZGNhc3Rpbmcgb2YgdGhlIGNhbGwuXG4gICAqL1xuICBzdG9wSExTID0gYXN5bmMgKCkgPT4ge1xuICAgIHJldHVybiB0aGlzLnN0cmVhbUNsaWVudC5wb3N0PFN0b3BITFNCcm9hZGNhc3RpbmdSZXNwb25zZT4oXG4gICAgICBgJHt0aGlzLnN0cmVhbUNsaWVudEJhc2VQYXRofS9zdG9wX2Jyb2FkY2FzdGluZ2AsXG4gICAgICB7fSxcbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSBjYWxsIHNldHRpbmdzIG9yIGN1c3RvbSBkYXRhLlxuICAgKlxuICAgKiBAcGFyYW0gdXBkYXRlcyB0aGUgdXBkYXRlcyB0byBhcHBseSB0byB0aGUgY2FsbC5cbiAgICovXG4gIHVwZGF0ZSA9IGFzeW5jICh1cGRhdGVzOiBVcGRhdGVDYWxsUmVxdWVzdCkgPT4ge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zdHJlYW1DbGllbnQucGF0Y2g8XG4gICAgICBVcGRhdGVDYWxsUmVzcG9uc2UsXG4gICAgICBVcGRhdGVDYWxsUmVxdWVzdFxuICAgID4oYCR7dGhpcy5zdHJlYW1DbGllbnRCYXNlUGF0aH1gLCB1cGRhdGVzKTtcblxuICAgIGNvbnN0IHsgY2FsbCwgbWVtYmVycywgb3duX2NhcGFiaWxpdGllcyB9ID0gcmVzcG9uc2U7XG4gICAgdGhpcy5zdGF0ZS51cGRhdGVGcm9tQ2FsbFJlc3BvbnNlKGNhbGwpO1xuICAgIHRoaXMuc3RhdGUuc2V0TWVtYmVycyhtZW1iZXJzKTtcbiAgICB0aGlzLnN0YXRlLnNldE93bkNhcGFiaWxpdGllcyhvd25fY2FwYWJpbGl0aWVzKTtcblxuICAgIHJldHVybiByZXNwb25zZTtcbiAgfTtcblxuICAvKipcbiAgICogRW5kcyB0aGUgY2FsbC4gT25jZSB0aGUgY2FsbCBpcyBlbmRlZCwgaXQgY2Fubm90IGJlIHJlLWpvaW5lZC5cbiAgICovXG4gIGVuZENhbGwgPSBhc3luYyAoKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RyZWFtQ2xpZW50LnBvc3Q8RW5kQ2FsbFJlc3BvbnNlPihcbiAgICAgIGAke3RoaXMuc3RyZWFtQ2xpZW50QmFzZVBhdGh9L21hcmtfZW5kZWRgLFxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFBpbnMgdGhlIGdpdmVuIHNlc3Npb24gdG8gdGhlIHRvcCBvZiB0aGUgcGFydGljaXBhbnRzIGxpc3QuXG4gICAqXG4gICAqIEBwYXJhbSBzZXNzaW9uSWQgdGhlIHNlc3Npb25JZCB0byBwaW4uXG4gICAqL1xuICBwaW4gPSAoc2Vzc2lvbklkOiBzdHJpbmcpID0+IHtcbiAgICB0aGlzLnN0YXRlLnVwZGF0ZVBhcnRpY2lwYW50KHNlc3Npb25JZCwge1xuICAgICAgcGluOiB7XG4gICAgICAgIGlzTG9jYWxQaW46IHRydWUsXG4gICAgICAgIHBpbm5lZEF0OiBEYXRlLm5vdygpLFxuICAgICAgfSxcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogVW5waW5zIHRoZSBnaXZlbiBzZXNzaW9uIGZyb20gdGhlIHRvcCBvZiB0aGUgcGFydGljaXBhbnRzIGxpc3QuXG4gICAqXG4gICAqIEBwYXJhbSBzZXNzaW9uSWQgdGhlIHNlc3Npb25JZCB0byB1bnBpbi5cbiAgICovXG4gIHVucGluID0gKHNlc3Npb25JZDogc3RyaW5nKSA9PiB7XG4gICAgdGhpcy5zdGF0ZS51cGRhdGVQYXJ0aWNpcGFudChzZXNzaW9uSWQsIHtcbiAgICAgIHBpbjogdW5kZWZpbmVkLFxuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBQaW5zIHRoZSBnaXZlbiBzZXNzaW9uIHRvIHRoZSB0b3Agb2YgdGhlIHBhcnRpY2lwYW50cyBsaXN0IGZvciBldmVyeW9uZVxuICAgKiBpbiB0aGUgY2FsbC5cbiAgICogWW91IGNhbiBleGVjdXRlIHRoaXMgbWV0aG9kIG9ubHkgaWYgeW91IGhhdmUgdGhlIGBwaW4tZm9yLWV2ZXJ5b25lYCBjYXBhYmlsaXR5LlxuICAgKlxuICAgKiBAcGFyYW0gcmVxdWVzdCB0aGUgcmVxdWVzdCBvYmplY3QuXG4gICAqL1xuICBwaW5Gb3JFdmVyeW9uZSA9IGFzeW5jIChyZXF1ZXN0OiBQaW5SZXF1ZXN0KSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RyZWFtQ2xpZW50LnBvc3Q8UGluUmVzcG9uc2UsIFBpblJlcXVlc3Q+KFxuICAgICAgYCR7dGhpcy5zdHJlYW1DbGllbnRCYXNlUGF0aH0vcGluYCxcbiAgICAgIHJlcXVlc3QsXG4gICAgKTtcbiAgfTtcblxuICAvKipcbiAgICogVW5waW5zIHRoZSBnaXZlbiBzZXNzaW9uIGZyb20gdGhlIHRvcCBvZiB0aGUgcGFydGljaXBhbnRzIGxpc3QgZm9yIGV2ZXJ5b25lXG4gICAqIGluIHRoZSBjYWxsLlxuICAgKiBZb3UgY2FuIGV4ZWN1dGUgdGhpcyBtZXRob2Qgb25seSBpZiB5b3UgaGF2ZSB0aGUgYHBpbi1mb3ItZXZlcnlvbmVgIGNhcGFiaWxpdHkuXG4gICAqXG4gICAqIEBwYXJhbSByZXF1ZXN0IHRoZSByZXF1ZXN0IG9iamVjdC5cbiAgICovXG4gIHVucGluRm9yRXZlcnlvbmUgPSBhc3luYyAocmVxdWVzdDogVW5waW5SZXF1ZXN0KSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RyZWFtQ2xpZW50LnBvc3Q8VW5waW5SZXNwb25zZSwgVW5waW5SZXF1ZXN0PihcbiAgICAgIGAke3RoaXMuc3RyZWFtQ2xpZW50QmFzZVBhdGh9L3VucGluYCxcbiAgICAgIHJlcXVlc3QsXG4gICAgKTtcbiAgfTtcblxuICAvKipcbiAgICogUXVlcnkgY2FsbCBtZW1iZXJzIHdpdGggZmlsdGVyIHF1ZXJ5LiBUaGUgcmVzdWx0IHdvbid0IGJlIHN0b3JlZCBpbiBjYWxsIHN0YXRlLlxuICAgKiBAcGFyYW0gcmVxdWVzdFxuICAgKiBAcmV0dXJuc1xuICAgKi9cbiAgcXVlcnlNZW1iZXJzID0gKHJlcXVlc3Q/OiBPbWl0PFF1ZXJ5Q2FsbE1lbWJlcnNSZXF1ZXN0LCAndHlwZScgfCAnaWQnPikgPT4ge1xuICAgIHJldHVybiB0aGlzLnN0cmVhbUNsaWVudC5wb3N0PFxuICAgICAgUXVlcnlDYWxsTWVtYmVyc1Jlc3BvbnNlLFxuICAgICAgUXVlcnlDYWxsTWVtYmVyc1JlcXVlc3RcbiAgICA+KCcvY2FsbC9tZW1iZXJzJywge1xuICAgICAgLi4uKHJlcXVlc3QgfHwge30pLFxuICAgICAgaWQ6IHRoaXMuaWQsXG4gICAgICB0eXBlOiB0aGlzLnR5cGUsXG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFdpbGwgdXBkYXRlIHRoZSBjYWxsIG1lbWJlcnMuXG4gICAqXG4gICAqIEBwYXJhbSBkYXRhIHRoZSByZXF1ZXN0IGRhdGEuXG4gICAqL1xuICB1cGRhdGVDYWxsTWVtYmVycyA9IGFzeW5jIChcbiAgICBkYXRhOiBVcGRhdGVDYWxsTWVtYmVyc1JlcXVlc3QsXG4gICk6IFByb21pc2U8VXBkYXRlQ2FsbE1lbWJlcnNSZXNwb25zZT4gPT4ge1xuICAgIHJldHVybiB0aGlzLnN0cmVhbUNsaWVudC5wb3N0PFxuICAgICAgVXBkYXRlQ2FsbE1lbWJlcnNSZXNwb25zZSxcbiAgICAgIFVwZGF0ZUNhbGxNZW1iZXJzUmVxdWVzdFxuICAgID4oYCR7dGhpcy5zdHJlYW1DbGllbnRCYXNlUGF0aH0vbWVtYmVyc2AsIGRhdGEpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTY2hlZHVsZXMgYW4gYXV0by1kcm9wIHRpbWVvdXQgYmFzZWQgb24gdGhlIGNhbGwgc2V0dGluZ3MuXG4gICAqIEFwcGxpY2FibGUgb25seSBmb3IgcmluZ2luZyBjYWxscy5cbiAgICovXG4gIHByaXZhdGUgc2NoZWR1bGVBdXRvRHJvcCA9ICgpID0+IHtcbiAgICB0aGlzLmNhbmNlbEF1dG9Ecm9wKCk7XG5cbiAgICBjb25zdCBzZXR0aW5ncyA9IHRoaXMuc3RhdGUuc2V0dGluZ3M7XG4gICAgaWYgKCFzZXR0aW5ncykgcmV0dXJuO1xuICAgIC8vIGlnbm9yZSBpZiB0aGUgY2FsbCBpcyBub3QgcmluZ2luZ1xuICAgIGlmICh0aGlzLnN0YXRlLmNhbGxpbmdTdGF0ZSAhPT0gQ2FsbGluZ1N0YXRlLlJJTkdJTkcpIHJldHVybjtcblxuICAgIGNvbnN0IHRpbWVvdXRJbk1zID0gdGhpcy5pc0NyZWF0ZWRCeU1lXG4gICAgICA/IHNldHRpbmdzLnJpbmcuYXV0b19jYW5jZWxfdGltZW91dF9tc1xuICAgICAgOiBzZXR0aW5ncy5yaW5nLmluY29taW5nX2NhbGxfdGltZW91dF9tcztcblxuICAgIC8vIDAgbWVhbnMgbm8gYXV0by1kcm9wXG4gICAgaWYgKHRpbWVvdXRJbk1zIDw9IDApIHJldHVybjtcblxuICAgIHRoaXMuZHJvcFRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIC8vIHRoZSBjYWxsIG1pZ2h0IGhhdmUgc3RvcHBlZCByaW5naW5nIGJ5IHRoaXMgcG9pbnQsXG4gICAgICAvLyBlLmcuIGl0IHdhcyBhbHJlYWR5IGFjY2VwdGVkIGFuZCBqb2luZWRcbiAgICAgIGlmICh0aGlzLnN0YXRlLmNhbGxpbmdTdGF0ZSAhPT0gQ2FsbGluZ1N0YXRlLlJJTkdJTkcpIHJldHVybjtcbiAgICAgIHRoaXMubGVhdmUoeyByZWplY3Q6IHRydWUsIHJlYXNvbjogJ3RpbWVvdXQnIH0pLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgdGhpcy5sb2dnZXIoJ2Vycm9yJywgJ0ZhaWxlZCB0byBkcm9wIGNhbGwnLCBlcnIpO1xuICAgICAgfSk7XG4gICAgfSwgdGltZW91dEluTXMpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDYW5jZWxzIGEgc2NoZWR1bGVkIGF1dG8tZHJvcCB0aW1lb3V0LlxuICAgKi9cbiAgcHJpdmF0ZSBjYW5jZWxBdXRvRHJvcCA9ICgpID0+IHtcbiAgICBjbGVhclRpbWVvdXQodGhpcy5kcm9wVGltZW91dCk7XG4gICAgdGhpcy5kcm9wVGltZW91dCA9IHVuZGVmaW5lZDtcbiAgfTtcblxuICAvKipcbiAgICogUmV0cmlldmVzIHRoZSBsaXN0IG9mIHJlY29yZGluZ3MgZm9yIHRoZSBjdXJyZW50IGNhbGwgb3IgY2FsbCBzZXNzaW9uLlxuICAgKlxuICAgKiBJZiBgY2FsbFNlc3Npb25JZGAgaXMgcHJvdmlkZWQsIGl0IHdpbGwgcmV0dXJuIHRoZSByZWNvcmRpbmdzIGZvciB0aGF0IGNhbGwgc2Vzc2lvbi5cbiAgICogT3RoZXJ3aXNlLCBhbGwgcmVjb3JkaW5ncyBmb3IgdGhlIGN1cnJlbnQgY2FsbCB3aWxsIGJlIHJldHVybmVkLlxuICAgKlxuICAgKiBAcGFyYW0gY2FsbFNlc3Npb25JZCB0aGUgY2FsbCBzZXNzaW9uIGlkIHRvIHJldHJpZXZlIHJlY29yZGluZ3MgZm9yLlxuICAgKi9cbiAgcXVlcnlSZWNvcmRpbmdzID0gYXN5bmMgKFxuICAgIGNhbGxTZXNzaW9uSWQ/OiBzdHJpbmcsXG4gICk6IFByb21pc2U8TGlzdFJlY29yZGluZ3NSZXNwb25zZT4gPT4ge1xuICAgIGxldCBlbmRwb2ludCA9IHRoaXMuc3RyZWFtQ2xpZW50QmFzZVBhdGg7XG4gICAgaWYgKGNhbGxTZXNzaW9uSWQpIHtcbiAgICAgIGVuZHBvaW50ID0gYCR7ZW5kcG9pbnR9LyR7Y2FsbFNlc3Npb25JZH1gO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zdHJlYW1DbGllbnQuZ2V0PExpc3RSZWNvcmRpbmdzUmVzcG9uc2U+KFxuICAgICAgYCR7ZW5kcG9pbnR9L3JlY29yZGluZ3NgLFxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHJpZXZlcyB0aGUgbGlzdCBvZiB0cmFuc2NyaXB0aW9ucyBmb3IgdGhlIGN1cnJlbnQgY2FsbC5cbiAgICpcbiAgICogQHJldHVybnMgdGhlIGxpc3Qgb2YgdHJhbnNjcmlwdGlvbnMuXG4gICAqL1xuICBxdWVyeVRyYW5zY3JpcHRpb25zID0gYXN5bmMgKCk6IFByb21pc2U8TGlzdFRyYW5zY3JpcHRpb25zUmVzcG9uc2U+ID0+IHtcbiAgICByZXR1cm4gdGhpcy5zdHJlYW1DbGllbnQuZ2V0PExpc3RUcmFuc2NyaXB0aW9uc1Jlc3BvbnNlPihcbiAgICAgIGAke3RoaXMuc3RyZWFtQ2xpZW50QmFzZVBhdGh9L3RyYW5zY3JpcHRpb25zYCxcbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZSBjYWxsIHN0YXRpc3RpY3MgZm9yIGEgcGFydGljdWxhciBjYWxsIHNlc3Npb24gKGhpc3RvcmljYWwpLlxuICAgKiBIZXJlIGBjYWxsU2Vzc2lvbklEYCBpcyBtYW5kYXRvcnkuXG4gICAqXG4gICAqIEBwYXJhbSBjYWxsU2Vzc2lvbklEIHRoZSBjYWxsIHNlc3Npb24gSUQgdG8gcmV0cmlldmUgc3RhdGlzdGljcyBmb3IuXG4gICAqIEByZXR1cm5zIFRoZSBjYWxsIHN0YXRzLlxuICAgKi9cbiAgZ2V0Q2FsbFN0YXRzID0gYXN5bmMgKGNhbGxTZXNzaW9uSUQ6IHN0cmluZykgPT4ge1xuICAgIGNvbnN0IGVuZHBvaW50ID0gYCR7dGhpcy5zdHJlYW1DbGllbnRCYXNlUGF0aH0vc3RhdHMvJHtjYWxsU2Vzc2lvbklEfWA7XG4gICAgcmV0dXJuIHRoaXMuc3RyZWFtQ2xpZW50LmdldDxHZXRDYWxsU3RhdHNSZXNwb25zZT4oZW5kcG9pbnQpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTdWJtaXQgdXNlciBmZWVkYmFjayBmb3IgdGhlIGNhbGxcbiAgICpcbiAgICogQHBhcmFtIHJhdGluZyBSYXRpbmcgYmV0d2VlbiAxIGFuZCA1IGRlbm90aW5nIHRoZSBleHBlcmllbmNlIG9mIHRoZSB1c2VyIGluIHRoZSBjYWxsXG4gICAqIEBwYXJhbSByZWFzb24gVGhlIHJlYXNvbi9kZXNjcmlwdGlvbiBmb3IgdGhlIHJhdGluZ1xuICAgKiBAcGFyYW0gY3VzdG9tIEN1c3RvbSBkYXRhXG4gICAqIEByZXR1cm5zXG4gICAqL1xuICBzdWJtaXRGZWVkYmFjayA9IGFzeW5jIChcbiAgICByYXRpbmc6IG51bWJlcixcbiAgICB7XG4gICAgICByZWFzb24sXG4gICAgICBjdXN0b20sXG4gICAgfToge1xuICAgICAgcmVhc29uPzogc3RyaW5nO1xuICAgICAgY3VzdG9tPzogUmVjb3JkPHN0cmluZywgYW55PjtcbiAgICB9ID0ge30sXG4gICkgPT4ge1xuICAgIGlmIChyYXRpbmcgPCAxIHx8IHJhdGluZyA+IDUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignUmF0aW5nIG11c3QgYmUgYmV0d2VlbiAxIGFuZCA1Jyk7XG4gICAgfVxuICAgIGNvbnN0IGNhbGxTZXNzaW9uSWQgPSB0aGlzLnN0YXRlLnNlc3Npb24/LmlkO1xuICAgIGlmICghY2FsbFNlc3Npb25JZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnRmVlZGJhY2sgY2FuIGJlIHN1Ym1pdHRlZCBvbmx5IGluIHRoZSBjb250ZXh0IG9mIGEgY2FsbCBzZXNzaW9uJyxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgY29uc3QgeyBzZGtOYW1lLCBzZGtWZXJzaW9uLCAuLi5wbGF0Zm9ybSB9ID1cbiAgICAgIGdldFNka1NpZ25hdHVyZShnZXRDbGllbnREZXRhaWxzKCkpO1xuXG4gICAgLy8gdXNlciBzZXNzaW9uSWQgaXMgbm90IGF2YWlsYWJsZSBvbmNlIHRoZSBjYWxsIGhhcyBiZWVuIGxlZnRcbiAgICAvLyB1bnRpbCB3ZSByZWxheCB0aGUgYmFja2VuZCB2YWxpZGF0aW9uLCB3ZSdsbCBzZW5kIE4vQVxuICAgIGNvbnN0IHVzZXJTZXNzaW9uSWQgPSB0aGlzLnNmdUNsaWVudD8uc2Vzc2lvbklkID8/ICdOL0EnO1xuICAgIGNvbnN0IGVuZHBvaW50ID0gYCR7dGhpcy5zdHJlYW1DbGllbnRCYXNlUGF0aH0vZmVlZGJhY2svJHtjYWxsU2Vzc2lvbklkfWA7XG4gICAgcmV0dXJuIHRoaXMuc3RyZWFtQ2xpZW50LnBvc3Q8XG4gICAgICBDb2xsZWN0VXNlckZlZWRiYWNrUmVzcG9uc2UsXG4gICAgICBDb2xsZWN0VXNlckZlZWRiYWNrUmVxdWVzdFxuICAgID4oZW5kcG9pbnQsIHtcbiAgICAgIHJhdGluZyxcbiAgICAgIHJlYXNvbixcbiAgICAgIHVzZXJfc2Vzc2lvbl9pZDogdXNlclNlc3Npb25JZCxcbiAgICAgIHNkazogc2RrTmFtZSxcbiAgICAgIHNka192ZXJzaW9uOiBzZGtWZXJzaW9uLFxuICAgICAgY3VzdG9tOiB7XG4gICAgICAgIC4uLmN1c3RvbSxcbiAgICAgICAgJ3gtc3RyZWFtLXBsYXRmb3JtLWRhdGEnOiBwbGF0Zm9ybSxcbiAgICAgIH0sXG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNlbmRzIGEgY3VzdG9tIGV2ZW50IHRvIGFsbCBjYWxsIHBhcnRpY2lwYW50cy5cbiAgICpcbiAgICogQHBhcmFtIHBheWxvYWQgdGhlIHBheWxvYWQgdG8gc2VuZC5cbiAgICovXG4gIHNlbmRDdXN0b21FdmVudCA9IGFzeW5jIChwYXlsb2FkOiB7IFtrZXk6IHN0cmluZ106IGFueSB9KSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RyZWFtQ2xpZW50LnBvc3Q8U2VuZENhbGxFdmVudFJlc3BvbnNlLCBTZW5kQ2FsbEV2ZW50UmVxdWVzdD4oXG4gICAgICBgJHt0aGlzLnN0cmVhbUNsaWVudEJhc2VQYXRofS9ldmVudGAsXG4gICAgICB7IGN1c3RvbTogcGF5bG9hZCB9LFxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEFwcGxpZXMgdGhlIGRldmljZSBjb25maWd1cmF0aW9uIGZyb20gdGhlIGJhY2tlbmQuXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgYXBwbHlEZXZpY2VDb25maWcgPSBhc3luYyAoc3RhdHVzOiBib29sZWFuKSA9PiB7XG4gICAgYXdhaXQgdGhpcy5pbml0Q2FtZXJhKHsgc2V0U3RhdHVzOiBzdGF0dXMgfSkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgdGhpcy5sb2dnZXIoJ3dhcm4nLCAnQ2FtZXJhIGluaXQgZmFpbGVkJywgZXJyKTtcbiAgICB9KTtcbiAgICBhd2FpdCB0aGlzLmluaXRNaWMoeyBzZXRTdGF0dXM6IHN0YXR1cyB9KS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICB0aGlzLmxvZ2dlcignd2FybicsICdNaWMgaW5pdCBmYWlsZWQnLCBlcnIpO1xuICAgIH0pO1xuICB9O1xuXG4gIHByaXZhdGUgaW5pdENhbWVyYSA9IGFzeW5jIChvcHRpb25zOiB7IHNldFN0YXR1czogYm9vbGVhbiB9KSA9PiB7XG4gICAgLy8gV2FpdCBmb3IgYW55IGluIHByb2dyZXNzIGNhbWVyYSBvcGVyYXRpb25cbiAgICBhd2FpdCB0aGlzLmNhbWVyYS5zdGF0dXNDaGFuZ2VTZXR0bGVkKCk7XG5cbiAgICBpZiAoXG4gICAgICB0aGlzLnN0YXRlLmxvY2FsUGFydGljaXBhbnQ/LnZpZGVvU3RyZWFtIHx8XG4gICAgICAhdGhpcy5wZXJtaXNzaW9uc0NvbnRleHQuaGFzUGVybWlzc2lvbignc2VuZC12aWRlbycpXG4gICAgKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gU2V0IGNhbWVyYSBkaXJlY3Rpb24gaWYgaXQncyBub3QgeWV0IHNldFxuICAgIGlmICghdGhpcy5jYW1lcmEuc3RhdGUuZGlyZWN0aW9uICYmICF0aGlzLmNhbWVyYS5zdGF0ZS5zZWxlY3RlZERldmljZSkge1xuICAgICAgbGV0IGRlZmF1bHREaXJlY3Rpb246IENhbWVyYURpcmVjdGlvbiA9ICdmcm9udCc7XG4gICAgICBjb25zdCBiYWNrZW5kU2V0dGluZyA9IHRoaXMuc3RhdGUuc2V0dGluZ3M/LnZpZGVvLmNhbWVyYV9mYWNpbmc7XG4gICAgICBpZiAoYmFja2VuZFNldHRpbmcpIHtcbiAgICAgICAgZGVmYXVsdERpcmVjdGlvbiA9IGJhY2tlbmRTZXR0aW5nID09PSAnZnJvbnQnID8gJ2Zyb250JyA6ICdiYWNrJztcbiAgICAgIH1cbiAgICAgIHRoaXMuY2FtZXJhLnN0YXRlLnNldERpcmVjdGlvbihkZWZhdWx0RGlyZWN0aW9uKTtcbiAgICB9XG5cbiAgICAvLyBTZXQgdGFyZ2V0IHJlc29sdXRpb25cbiAgICBjb25zdCB0YXJnZXRSZXNvbHV0aW9uID0gdGhpcy5zdGF0ZS5zZXR0aW5ncz8udmlkZW8udGFyZ2V0X3Jlc29sdXRpb247XG4gICAgaWYgKHRhcmdldFJlc29sdXRpb24pIHtcbiAgICAgIGF3YWl0IHRoaXMuY2FtZXJhLnNlbGVjdFRhcmdldFJlc29sdXRpb24odGFyZ2V0UmVzb2x1dGlvbik7XG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMuc2V0U3RhdHVzKSB7XG4gICAgICAvLyBQdWJsaXNoIGFscmVhZHkgdGhhdCB3YXMgc2V0IGJlZm9yZSB3ZSBqb2luZWRcbiAgICAgIGlmIChcbiAgICAgICAgdGhpcy5jYW1lcmEuZW5hYmxlZCAmJlxuICAgICAgICB0aGlzLmNhbWVyYS5zdGF0ZS5tZWRpYVN0cmVhbSAmJlxuICAgICAgICAhdGhpcy5wdWJsaXNoZXI/LmlzUHVibGlzaGluZyhUcmFja1R5cGUuVklERU8pXG4gICAgICApIHtcbiAgICAgICAgYXdhaXQgdGhpcy5wdWJsaXNoVmlkZW9TdHJlYW0odGhpcy5jYW1lcmEuc3RhdGUubWVkaWFTdHJlYW0pO1xuICAgICAgfVxuXG4gICAgICAvLyBTdGFydCBjYW1lcmEgaWYgYmFja2VuZCBjb25maWcgc3BlY2lmaWVzLCBhbmQgdGhlcmUgaXMgbm8gbG9jYWwgc2V0dGluZ1xuICAgICAgaWYgKFxuICAgICAgICB0aGlzLmNhbWVyYS5zdGF0ZS5zdGF0dXMgPT09IHVuZGVmaW5lZCAmJlxuICAgICAgICB0aGlzLnN0YXRlLnNldHRpbmdzPy52aWRlby5jYW1lcmFfZGVmYXVsdF9vblxuICAgICAgKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuY2FtZXJhLmVuYWJsZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBwcml2YXRlIGluaXRNaWMgPSBhc3luYyAob3B0aW9uczogeyBzZXRTdGF0dXM6IGJvb2xlYW4gfSkgPT4ge1xuICAgIC8vIFdhaXQgZm9yIGFueSBpbiBwcm9ncmVzcyBtaWMgb3BlcmF0aW9uXG4gICAgYXdhaXQgdGhpcy5taWNyb3Bob25lLnN0YXR1c0NoYW5nZVNldHRsZWQoKTtcblxuICAgIGlmIChcbiAgICAgIHRoaXMuc3RhdGUubG9jYWxQYXJ0aWNpcGFudD8uYXVkaW9TdHJlYW0gfHxcbiAgICAgICF0aGlzLnBlcm1pc3Npb25zQ29udGV4dC5oYXNQZXJtaXNzaW9uKCdzZW5kLWF1ZGlvJylcbiAgICApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucy5zZXRTdGF0dXMpIHtcbiAgICAgIC8vIFB1Ymxpc2ggbWVkaWEgc3RyZWFtIHRoYXQgd2FzIHNldCBiZWZvcmUgd2Ugam9pbmVkXG4gICAgICBpZiAoXG4gICAgICAgIHRoaXMubWljcm9waG9uZS5lbmFibGVkICYmXG4gICAgICAgIHRoaXMubWljcm9waG9uZS5zdGF0ZS5tZWRpYVN0cmVhbSAmJlxuICAgICAgICAhdGhpcy5wdWJsaXNoZXI/LmlzUHVibGlzaGluZyhUcmFja1R5cGUuQVVESU8pXG4gICAgICApIHtcbiAgICAgICAgYXdhaXQgdGhpcy5wdWJsaXNoQXVkaW9TdHJlYW0odGhpcy5taWNyb3Bob25lLnN0YXRlLm1lZGlhU3RyZWFtKTtcbiAgICAgIH1cblxuICAgICAgLy8gU3RhcnQgbWljIGlmIGJhY2tlbmQgY29uZmlnIHNwZWNpZmllcywgYW5kIHRoZXJlIGlzIG5vIGxvY2FsIHNldHRpbmdcbiAgICAgIGlmIChcbiAgICAgICAgdGhpcy5taWNyb3Bob25lLnN0YXRlLnN0YXR1cyA9PT0gdW5kZWZpbmVkICYmXG4gICAgICAgIHRoaXMuc3RhdGUuc2V0dGluZ3M/LmF1ZGlvLm1pY19kZWZhdWx0X29uXG4gICAgICApIHtcbiAgICAgICAgYXdhaXQgdGhpcy5taWNyb3Bob25lLmVuYWJsZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogV2lsbCBiZWdpbiB0cmFja2luZyB0aGUgZ2l2ZW4gZWxlbWVudCBmb3IgdmlzaWJpbGl0eSBjaGFuZ2VzIHdpdGhpbiB0aGVcbiAgICogY29uZmlndXJlZCB2aWV3cG9ydCBlbGVtZW50IChgY2FsbC5zZXRWaWV3cG9ydGApLlxuICAgKlxuICAgKiBAcGFyYW0gZWxlbWVudCB0aGUgZWxlbWVudCB0byB0cmFjay5cbiAgICogQHBhcmFtIHNlc3Npb25JZCB0aGUgc2Vzc2lvbiBpZC5cbiAgICogQHBhcmFtIHRyYWNrVHlwZSB0aGUgdmlkZW8gbW9kZS5cbiAgICovXG4gIHRyYWNrRWxlbWVudFZpc2liaWxpdHkgPSA8VCBleHRlbmRzIEhUTUxFbGVtZW50PihcbiAgICBlbGVtZW50OiBULFxuICAgIHNlc3Npb25JZDogc3RyaW5nLFxuICAgIHRyYWNrVHlwZTogVmlkZW9UcmFja1R5cGUsXG4gICkgPT4ge1xuICAgIHJldHVybiB0aGlzLmR5bmFzY2FsZU1hbmFnZXIudHJhY2tFbGVtZW50VmlzaWJpbGl0eShcbiAgICAgIGVsZW1lbnQsXG4gICAgICBzZXNzaW9uSWQsXG4gICAgICB0cmFja1R5cGUsXG4gICAgKTtcbiAgfTtcblxuICAvKipcbiAgICogU2V0cyB0aGUgdmlld3BvcnQgZWxlbWVudCB0byB0cmFjayBib3VuZCB2aWRlbyBlbGVtZW50cyBmb3IgdmlzaWJpbGl0eS5cbiAgICpcbiAgICogQHBhcmFtIGVsZW1lbnQgdGhlIHZpZXdwb3J0IGVsZW1lbnQuXG4gICAqL1xuICBzZXRWaWV3cG9ydCA9IDxUIGV4dGVuZHMgSFRNTEVsZW1lbnQ+KGVsZW1lbnQ6IFQpID0+IHtcbiAgICByZXR1cm4gdGhpcy5keW5hc2NhbGVNYW5hZ2VyLnNldFZpZXdwb3J0KGVsZW1lbnQpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBCaW5kcyBhIERPTSA8dmlkZW8+IGVsZW1lbnQgdG8gdGhlIGdpdmVuIHNlc3Npb24gaWQuXG4gICAqIFRoaXMgbWV0aG9kIHdpbGwgbWFrZSBzdXJlIHRoYXQgdGhlIHZpZGVvIGVsZW1lbnQgd2lsbCBwbGF5XG4gICAqIHRoZSBjb3JyZWN0IHZpZGVvIHN0cmVhbSBmb3IgdGhlIGdpdmVuIHNlc3Npb24gaWQuXG4gICAqXG4gICAqIFVuZGVyIHRoZSBob29kLCBpdCB3b3VsZCBhbHNvIGtlZXAgdHJhY2sgb2YgdGhlIHZpZGVvIGVsZW1lbnQgZGltZW5zaW9uc1xuICAgKiBhbmQgdXBkYXRlIHRoZSBzdWJzY3JpcHRpb24gYWNjb3JkaW5nbHkgaW4gb3JkZXIgdG8gb3B0aW1pemUgdGhlIGJhbmR3aWR0aC5cbiAgICpcbiAgICogSWYgYSBcInZpZXdwb3J0XCIgaXMgY29uZmlndXJlZCwgdGhlIHZpZGVvIGVsZW1lbnQgd2lsbCBiZSBhdXRvbWF0aWNhbGx5XG4gICAqIHRyYWNrZWQgZm9yIHZpc2liaWxpdHkgYW5kIHRoZSBzdWJzY3JpcHRpb24gd2lsbCBiZSB1cGRhdGVkIGFjY29yZGluZ2x5LlxuICAgKlxuICAgKiBAcGFyYW0gdmlkZW9FbGVtZW50IHRoZSB2aWRlbyBlbGVtZW50IHRvIGJpbmQgdG8uXG4gICAqIEBwYXJhbSBzZXNzaW9uSWQgdGhlIHNlc3Npb24gaWQuXG4gICAqIEBwYXJhbSB0cmFja1R5cGUgdGhlIGtpbmQgb2YgdmlkZW8uXG4gICAqL1xuICBiaW5kVmlkZW9FbGVtZW50ID0gKFxuICAgIHZpZGVvRWxlbWVudDogSFRNTFZpZGVvRWxlbWVudCxcbiAgICBzZXNzaW9uSWQ6IHN0cmluZyxcbiAgICB0cmFja1R5cGU6IFZpZGVvVHJhY2tUeXBlLFxuICApID0+IHtcbiAgICBjb25zdCB1bmJpbmQgPSB0aGlzLmR5bmFzY2FsZU1hbmFnZXIuYmluZFZpZGVvRWxlbWVudChcbiAgICAgIHZpZGVvRWxlbWVudCxcbiAgICAgIHNlc3Npb25JZCxcbiAgICAgIHRyYWNrVHlwZSxcbiAgICApO1xuXG4gICAgaWYgKCF1bmJpbmQpIHJldHVybjtcbiAgICB0aGlzLmxlYXZlQ2FsbEhvb2tzLmFkZCh1bmJpbmQpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICB0aGlzLmxlYXZlQ2FsbEhvb2tzLmRlbGV0ZSh1bmJpbmQpO1xuICAgICAgdW5iaW5kKCk7XG4gICAgfTtcbiAgfTtcblxuICAvKipcbiAgICogQmluZHMgYSBET00gPGF1ZGlvPiBlbGVtZW50IHRvIHRoZSBnaXZlbiBzZXNzaW9uIGlkLlxuICAgKlxuICAgKiBUaGlzIG1ldGhvZCB3aWxsIG1ha2Ugc3VyZSB0aGF0IHRoZSBhdWRpbyBlbGVtZW50IHdpbGxcbiAgICogcGxheSB0aGUgY29ycmVjdCBhdWRpbyBzdHJlYW0gZm9yIHRoZSBnaXZlbiBzZXNzaW9uIGlkLlxuICAgKlxuICAgKiBAcGFyYW0gYXVkaW9FbGVtZW50IHRoZSBhdWRpbyBlbGVtZW50IHRvIGJpbmQgdG8uXG4gICAqIEBwYXJhbSBzZXNzaW9uSWQgdGhlIHNlc3Npb24gaWQuXG4gICAqIEBwYXJhbSB0cmFja1R5cGUgdGhlIGtpbmQgb2YgYXVkaW8uXG4gICAqL1xuICBiaW5kQXVkaW9FbGVtZW50ID0gKFxuICAgIGF1ZGlvRWxlbWVudDogSFRNTEF1ZGlvRWxlbWVudCxcbiAgICBzZXNzaW9uSWQ6IHN0cmluZyxcbiAgICB0cmFja1R5cGU6IEF1ZGlvVHJhY2tUeXBlID0gJ2F1ZGlvVHJhY2snLFxuICApID0+IHtcbiAgICBjb25zdCB1bmJpbmQgPSB0aGlzLmR5bmFzY2FsZU1hbmFnZXIuYmluZEF1ZGlvRWxlbWVudChcbiAgICAgIGF1ZGlvRWxlbWVudCxcbiAgICAgIHNlc3Npb25JZCxcbiAgICAgIHRyYWNrVHlwZSxcbiAgICApO1xuXG4gICAgaWYgKCF1bmJpbmQpIHJldHVybjtcbiAgICB0aGlzLmxlYXZlQ2FsbEhvb2tzLmFkZCh1bmJpbmQpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICB0aGlzLmxlYXZlQ2FsbEhvb2tzLmRlbGV0ZSh1bmJpbmQpO1xuICAgICAgdW5iaW5kKCk7XG4gICAgfTtcbiAgfTtcblxuICAvKipcbiAgICogQmluZHMgYSBET00gPGltZz4gZWxlbWVudCB0byB0aGlzIGNhbGwncyB0aHVtYm5haWwgKGlmIGVuYWJsZWQgaW4gc2V0dGluZ3MpLlxuICAgKlxuICAgKiBAcGFyYW0gaW1hZ2VFbGVtZW50IHRoZSBpbWFnZSBlbGVtZW50IHRvIGJpbmQgdG8uXG4gICAqIEBwYXJhbSBvcHRzIG9wdGlvbnMgZm9yIHRoZSBiaW5kaW5nLlxuICAgKi9cbiAgYmluZENhbGxUaHVtYm5haWxFbGVtZW50ID0gKFxuICAgIGltYWdlRWxlbWVudDogSFRNTEltYWdlRWxlbWVudCxcbiAgICBvcHRzOiB7XG4gICAgICBmYWxsYmFja0ltYWdlU291cmNlPzogc3RyaW5nO1xuICAgIH0gPSB7fSxcbiAgKSA9PiB7XG4gICAgY29uc3QgaGFuZGxlRXJyb3IgPSAoKSA9PiB7XG4gICAgICBpbWFnZUVsZW1lbnQuc3JjID1cbiAgICAgICAgb3B0cy5mYWxsYmFja0ltYWdlU291cmNlIHx8XG4gICAgICAgICdodHRwczovL2dldHN0cmVhbS5pby9yYW5kb21fc3ZnLz9uYW1lPXgmaWQ9eCc7XG4gICAgfTtcblxuICAgIGNvbnN0IHVuc3Vic2NyaWJlID0gY3JlYXRlU3Vic2NyaXB0aW9uKFxuICAgICAgdGhpcy5zdGF0ZS50aHVtYm5haWxzJCxcbiAgICAgICh0aHVtYm5haWxzKSA9PiB7XG4gICAgICAgIGlmICghdGh1bWJuYWlscykgcmV0dXJuO1xuICAgICAgICBpbWFnZUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCBoYW5kbGVFcnJvcik7XG5cbiAgICAgICAgY29uc3QgdGh1bWJuYWlsVXJsID0gbmV3IFVSTCh0aHVtYm5haWxzLmltYWdlX3VybCk7XG4gICAgICAgIHRodW1ibmFpbFVybC5zZWFyY2hQYXJhbXMuc2V0KCd3JywgU3RyaW5nKGltYWdlRWxlbWVudC5jbGllbnRXaWR0aCkpO1xuICAgICAgICB0aHVtYm5haWxVcmwuc2VhcmNoUGFyYW1zLnNldCgnaCcsIFN0cmluZyhpbWFnZUVsZW1lbnQuY2xpZW50SGVpZ2h0KSk7XG5cbiAgICAgICAgaW1hZ2VFbGVtZW50LnNyYyA9IHRodW1ibmFpbFVybC50b1N0cmluZygpO1xuICAgICAgfSxcbiAgICApO1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHVuc3Vic2NyaWJlKCk7XG4gICAgICBpbWFnZUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXJyb3InLCBoYW5kbGVFcnJvcik7XG4gICAgfTtcbiAgfTtcblxuICAvKipcbiAgICogU3BlY2lmeSBwcmVmZXJlbmNlIGZvciBpbmNvbWluZyB2aWRlbyByZXNvbHV0aW9uLiBUaGUgcHJlZmVyZW5jZSB3aWxsXG4gICAqIGJlIG1hdGNoZWQgYXMgY2xvc2UgYXMgcG9zc2libGUsIGJ1dCBhY3R1YWwgcmVzb2x1dGlvbiB3aWxsIGRlcGVuZFxuICAgKiBvbiB0aGUgdmlkZW8gc291cmNlIHF1YWxpdHkgYW5kIGNsaWVudCBuZXR3b3JrIGNvbmRpdGlvbnMuIFdpbGwgZW5hYmxlXG4gICAqIGluY29taW5nIHZpZGVvLCBpZiBwcmV2aW91c2x5IGRpc2FibGVkLlxuICAgKlxuICAgKiBAcGFyYW0gcmVzb2x1dGlvbiBwcmVmZXJyZWQgcmVzb2x1dGlvbiwgb3IgYHVuZGVmaW5lZGAgdG8gY2xlYXIgcHJlZmVyZW5jZVxuICAgKiBAcGFyYW0gc2Vzc2lvbklkcyBvcHRpb25hbGx5IHNwZWNpZnkgc2Vzc2lvbiBpZHMgb2YgdGhlIHBhcnRpY2lwYW50cyB0aGlzXG4gICAqIHByZWZlcmVuY2UgaGFzIGVmZmVjdCBvbi4gQWZmZWN0cyBhbGwgcGFydGljaXBhbnRzIGJ5IGRlZmF1bHQuXG4gICAqL1xuICBzZXRQcmVmZXJyZWRJbmNvbWluZ1ZpZGVvUmVzb2x1dGlvbiA9IChcbiAgICByZXNvbHV0aW9uOiBWaWRlb1Jlc29sdXRpb24gfCB1bmRlZmluZWQsXG4gICAgc2Vzc2lvbklkcz86IHN0cmluZ1tdLFxuICApID0+IHtcbiAgICB0aGlzLmR5bmFzY2FsZU1hbmFnZXIuc2V0VmlkZW9UcmFja1N1YnNjcmlwdGlvbk92ZXJyaWRlcyhcbiAgICAgIHJlc29sdXRpb25cbiAgICAgICAgPyB7XG4gICAgICAgICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgICAgICAgZGltZW5zaW9uOiByZXNvbHV0aW9uLFxuICAgICAgICAgIH1cbiAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICBzZXNzaW9uSWRzLFxuICAgICk7XG4gICAgdGhpcy5keW5hc2NhbGVNYW5hZ2VyLmFwcGx5VHJhY2tTdWJzY3JpcHRpb25zKCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEVuYWJsZXMgb3IgZGlzYWJsZXMgaW5jb21pbmcgdmlkZW8gZnJvbSBhbGwgcmVtb3RlIGNhbGwgcGFydGljaXBhbnRzLFxuICAgKiBhbmQgcmVtb3ZlcyBhbnkgcHJlZmVyZW5jZSBmb3IgcHJlZmVycmVkIHJlc29sdXRpb24uXG4gICAqL1xuICBzZXRJbmNvbWluZ1ZpZGVvRW5hYmxlZCA9IChlbmFibGVkOiBib29sZWFuKSA9PiB7XG4gICAgdGhpcy5keW5hc2NhbGVNYW5hZ2VyLnNldFZpZGVvVHJhY2tTdWJzY3JpcHRpb25PdmVycmlkZXMoXG4gICAgICBlbmFibGVkID8gdW5kZWZpbmVkIDogeyBlbmFibGVkOiBmYWxzZSB9LFxuICAgICk7XG4gICAgdGhpcy5keW5hc2NhbGVNYW5hZ2VyLmFwcGx5VHJhY2tTdWJzY3JpcHRpb25zKCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIG1heGltdW0gYW1vdW50IG9mIHRpbWUgYSB1c2VyIGNhbiByZW1haW4gd2FpdGluZyBmb3IgYSByZWNvbm5lY3RcbiAgICogYWZ0ZXIgYSBuZXR3b3JrIGRpc3J1cHRpb25cbiAgICogQHBhcmFtIHRpbWVvdXRTZWNvbmRzIFRpbWVvdXQgaW4gc2Vjb25kcywgb3IgMCB0byBrZWVwIHJlY29ubmVjdGluZyBpbmRlZmluZXRlbHlcbiAgICovXG4gIHNldERpc2Nvbm5lY3Rpb25UaW1lb3V0ID0gKHRpbWVvdXRTZWNvbmRzOiBudW1iZXIpID0+IHtcbiAgICB0aGlzLmRpc2Nvbm5lY3Rpb25UaW1lb3V0U2Vjb25kcyA9IHRpbWVvdXRTZWNvbmRzO1xuICB9O1xufVxuIiwiaW1wb3J0IHsgU3RyZWFtQ2xpZW50IH0gZnJvbSAnLi9jbGllbnQnO1xuaW1wb3J0IHtcbiAgYWRkQ29ubmVjdGlvbkV2ZW50TGlzdGVuZXJzLFxuICBpc0Nsb3NlRXZlbnQsXG4gIEtub3duQ29kZXMsXG4gIHJhbmRvbUlkLFxuICByZW1vdmVDb25uZWN0aW9uRXZlbnRMaXN0ZW5lcnMsXG4gIHJldHJ5SW50ZXJ2YWwsXG4gIHNsZWVwLFxufSBmcm9tICcuL3V0aWxzJztcbmltcG9ydCB0eXBlIHsgTG9nTGV2ZWwsIFN0cmVhbVZpZGVvRXZlbnQsIFVSIH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgdHlwZSB7XG4gIENvbm5lY3RlZEV2ZW50LFxuICBDb25uZWN0aW9uRXJyb3JFdmVudCxcbiAgV1NBdXRoTWVzc2FnZSxcbn0gZnJvbSAnLi4vLi4vZ2VuL2Nvb3JkaW5hdG9yJztcbmltcG9ydCB7IG1ha2VTYWZlUHJvbWlzZSwgdHlwZSBTYWZlUHJvbWlzZSB9IGZyb20gJy4uLy4uL2hlbHBlcnMvcHJvbWlzZSc7XG5pbXBvcnQgeyBnZXRUaW1lcnMgfSBmcm9tICcuLi8uLi90aW1lcnMnO1xuXG4vKipcbiAqIFN0YWJsZVdTQ29ubmVjdGlvbiAtIEEgV1MgY29ubmVjdGlvbiB0aGF0IHJlY29ubmVjdHMgdXBvbiBmYWlsdXJlLlxuICogLSB0aGUgYnJvd3NlciB3aWxsIHNvbWV0aW1lcyByZXBvcnQgdGhhdCB5b3UncmUgb25saW5lIG9yIG9mZmxpbmVcbiAqIC0gdGhlIFdTIGNvbm5lY3Rpb24gY2FuIGJyZWFrIGFuZCBmYWlsICh0aGVyZSBpcyBhIDMwcyBoZWFsdGggY2hlY2spXG4gKiAtIHNvbWV0aW1lcyB5b3VyIFdTIGNvbm5lY3Rpb24gd2lsbCBzZWVtIHRvIHdvcmsgd2hpbGUgdGhlIHVzZXIgaXMgaW4gZmFjdCBvZmZsaW5lXG4gKiAtIHRvIHNwZWVkIHVwIG9ubGluZS9vZmZsaW5lIGRldGVjdGlvbiB5b3UgY2FuIHVzZSB0aGUgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ29mZmxpbmUnKTtcbiAqXG4gKiBUaGVyZSBhcmUgNCB3YXlzIGluIHdoaWNoIGEgY29ubmVjdGlvbiBjYW4gYmVjb21lIHVuaGVhbHRoeTpcbiAqIC0gd2Vic29ja2V0Lm9uZXJyb3IgaXMgY2FsbGVkXG4gKiAtIHdlYnNvY2tldC5vbmNsb3NlIGlzIGNhbGxlZFxuICogLSB0aGUgaGVhbHRoIGNoZWNrIGZhaWxzIGFuZCBubyBldmVudCBpcyByZWNlaXZlZCBmb3IgfjQwIHNlY29uZHNcbiAqIC0gdGhlIGJyb3dzZXIgaW5kaWNhdGVzIHRoZSBjb25uZWN0aW9uIGlzIG5vdyBvZmZsaW5lXG4gKlxuICogVGhlcmUgYXJlIDIgYXNzdW1wdGlvbnMgd2UgbWFrZSBhYm91dCB0aGUgc2VydmVyOlxuICogLSBzdGF0ZSBjYW4gYmUgcmVjb3ZlcmVkIGJ5IHF1ZXJ5aW5nIHRoZSBjaGFubmVsIGFnYWluXG4gKiAtIGlmIHRoZSBzZXJ2ZXJzIGZhaWxzIHRvIHB1Ymxpc2ggYSBtZXNzYWdlIHRvIHRoZSBjbGllbnQsIHRoZSBXUyBjb25uZWN0aW9uIGlzIGRlc3Ryb3llZFxuICovXG5leHBvcnQgY2xhc3MgU3RhYmxlV1NDb25uZWN0aW9uIHtcbiAgLy8gbG9jYWwgdmFyc1xuICBjb25uZWN0aW9uSUQ/OiBzdHJpbmc7XG4gIHByaXZhdGUgY29ubmVjdGlvbk9wZW5TYWZlPzogU2FmZVByb21pc2U8Q29ubmVjdGVkRXZlbnQ+O1xuICBjb25zZWN1dGl2ZUZhaWx1cmVzOiBudW1iZXI7XG4gIHBpbmdJbnRlcnZhbDogbnVtYmVyO1xuICBoZWFsdGhDaGVja1RpbWVvdXRSZWY/OiBudW1iZXI7XG4gIGlzQ29ubmVjdGluZzogYm9vbGVhbjtcbiAgaXNEaXNjb25uZWN0ZWQ6IGJvb2xlYW47XG4gIGlzSGVhbHRoeTogYm9vbGVhbjtcbiAgaXNSZXNvbHZlZD86IGJvb2xlYW47XG4gIGxhc3RFdmVudDogRGF0ZSB8IG51bGw7XG4gIGNvbm5lY3Rpb25DaGVja1RpbWVvdXQ6IG51bWJlcjtcbiAgY29ubmVjdGlvbkNoZWNrVGltZW91dFJlZj86IE5vZGVKUy5UaW1lb3V0O1xuICByZWplY3RQcm9taXNlPzogKFxuICAgIHJlYXNvbj86IEVycm9yICYge1xuICAgICAgY29kZT86IHN0cmluZyB8IG51bWJlcjtcbiAgICAgIGlzV1NGYWlsdXJlPzogYm9vbGVhbjtcbiAgICAgIFN0YXR1c0NvZGU/OiBzdHJpbmcgfCBudW1iZXI7XG4gICAgfSxcbiAgKSA9PiB2b2lkO1xuICByZXF1ZXN0SUQ6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgcmVzb2x2ZVByb21pc2U/OiAodmFsdWU6IENvbm5lY3RlZEV2ZW50KSA9PiB2b2lkO1xuICB0b3RhbEZhaWx1cmVzOiBudW1iZXI7XG4gIHdzPzogV2ViU29ja2V0O1xuICB3c0lEOiBudW1iZXI7XG5cbiAgY2xpZW50OiBTdHJlYW1DbGllbnQ7XG5cbiAgY29uc3RydWN0b3IoY2xpZW50OiBTdHJlYW1DbGllbnQpIHtcbiAgICB0aGlzLmNsaWVudCA9IGNsaWVudDtcbiAgICAvKiogY29uc2VjdXRpdmUgZmFpbHVyZXMgaW5mbHVlbmNlIHRoZSBkdXJhdGlvbiBvZiB0aGUgdGltZW91dCAqL1xuICAgIHRoaXMuY29uc2VjdXRpdmVGYWlsdXJlcyA9IDA7XG4gICAgLyoqIGtlZXAgdHJhY2sgb2YgdGhlIHRvdGFsIG51bWJlciBvZiBmYWlsdXJlcyAqL1xuICAgIHRoaXMudG90YWxGYWlsdXJlcyA9IDA7XG4gICAgLyoqIFdlIG9ubHkgbWFrZSAxIGF0dGVtcHQgdG8gcmVjb25uZWN0IGF0IHRoZSBzYW1lIHRpbWUuLiAqL1xuICAgIHRoaXMuaXNDb25uZWN0aW5nID0gZmFsc2U7XG4gICAgLyoqIFRvIGF2b2lkIHJlY29ubmVjdCBpZiBjbGllbnQgaXMgZGlzY29ubmVjdGVkICovXG4gICAgdGhpcy5pc0Rpc2Nvbm5lY3RlZCA9IGZhbHNlO1xuICAgIC8qKiBCb29sZWFuIHRoYXQgaW5kaWNhdGVzIGlmIHRoZSBjb25uZWN0aW9uIHByb21pc2UgaXMgcmVzb2x2ZWQgKi9cbiAgICB0aGlzLmlzUmVzb2x2ZWQgPSBmYWxzZTtcbiAgICAvKiogQm9vbGVhbiB0aGF0IGluZGljYXRlcyBpZiB3ZSBoYXZlIGEgd29ya2luZyBjb25uZWN0aW9uIHRvIHRoZSBzZXJ2ZXIgKi9cbiAgICB0aGlzLmlzSGVhbHRoeSA9IGZhbHNlO1xuICAgIC8qKiBJbmNyZW1lbnRlZCB3aGVuIGEgbmV3IFdTIGNvbm5lY3Rpb24gaXMgbWFkZSAqL1xuICAgIHRoaXMud3NJRCA9IDE7XG4gICAgLyoqIFN0b3JlIHRoZSBsYXN0IGV2ZW50IHRpbWUgZm9yIGhlYWx0aCBjaGVja3MgKi9cbiAgICB0aGlzLmxhc3RFdmVudCA9IG51bGw7XG4gICAgLyoqIFNlbmQgYSBoZWFsdGggY2hlY2sgbWVzc2FnZSBldmVyeSAyNSBzZWNvbmRzICovXG4gICAgdGhpcy5waW5nSW50ZXJ2YWwgPSAyNSAqIDEwMDA7XG4gICAgdGhpcy5jb25uZWN0aW9uQ2hlY2tUaW1lb3V0ID0gdGhpcy5waW5nSW50ZXJ2YWwgKyAxMCAqIDEwMDA7XG5cbiAgICBhZGRDb25uZWN0aW9uRXZlbnRMaXN0ZW5lcnModGhpcy5vbmxpbmVTdGF0dXNDaGFuZ2VkKTtcbiAgfVxuXG4gIF9sb2cgPSAobXNnOiBzdHJpbmcsIGV4dHJhOiBVUiA9IHt9LCBsZXZlbDogTG9nTGV2ZWwgPSAnaW5mbycpID0+IHtcbiAgICB0aGlzLmNsaWVudC5sb2dnZXIobGV2ZWwsICdjb25uZWN0aW9uOicgKyBtc2csIHtcbiAgICAgIC4uLmV4dHJhLFxuICAgIH0pO1xuICB9O1xuXG4gIHNldENsaWVudCA9IChjbGllbnQ6IFN0cmVhbUNsaWVudCkgPT4ge1xuICAgIHRoaXMuY2xpZW50ID0gY2xpZW50O1xuICB9O1xuXG4gIC8qKlxuICAgKiBjb25uZWN0IC0gQ29ubmVjdCB0byB0aGUgV1MgVVJMXG4gICAqIHRoZSBkZWZhdWx0IDE1cyB0aW1lb3V0IGFsbG93cyBiZXR3ZWVuIDJ+MyB0cmllc1xuICAgKiBAcmV0dXJuIHtDb25uZWN0QVBJUmVzcG9uc2U8Q29ubmVjdGVkRXZlbnQ+fSBQcm9taXNlIHRoYXQgY29tcGxldGVzIG9uY2UgdGhlIGZpcnN0IGhlYWx0aCBjaGVjayBtZXNzYWdlIGlzIHJlY2VpdmVkXG4gICAqL1xuICBhc3luYyBjb25uZWN0KHRpbWVvdXQgPSAxNTAwMCkge1xuICAgIGlmICh0aGlzLmlzQ29ubmVjdGluZykge1xuICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgIGBZb3UndmUgY2FsbGVkIGNvbm5lY3QgdHdpY2UsIGNhbiBvbmx5IGF0dGVtcHQgMSBjb25uZWN0aW9uIGF0IHRoZSB0aW1lYCxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgdGhpcy5pc0Rpc2Nvbm5lY3RlZCA9IGZhbHNlO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGhlYWx0aENoZWNrID0gYXdhaXQgdGhpcy5fY29ubmVjdCgpO1xuICAgICAgdGhpcy5jb25zZWN1dGl2ZUZhaWx1cmVzID0gMDtcblxuICAgICAgdGhpcy5fbG9nKFxuICAgICAgICBgY29ubmVjdCgpIC0gRXN0YWJsaXNoZWQgd3MgY29ubmVjdGlvbiB3aXRoIGhlYWx0aGNoZWNrOiAke2hlYWx0aENoZWNrfWAsXG4gICAgICApO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aGlzLmlzSGVhbHRoeSA9IGZhbHNlO1xuICAgICAgdGhpcy5jb25zZWN1dGl2ZUZhaWx1cmVzICs9IDE7XG5cbiAgICAgIGlmIChcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBlcnJvci5jb2RlID09PSBLbm93bkNvZGVzLlRPS0VOX0VYUElSRUQgJiZcbiAgICAgICAgIXRoaXMuY2xpZW50LnRva2VuTWFuYWdlci5pc1N0YXRpYygpXG4gICAgICApIHtcbiAgICAgICAgdGhpcy5fbG9nKFxuICAgICAgICAgICdjb25uZWN0KCkgLSBXUyBmYWlsdXJlIGR1ZSB0byBleHBpcmVkIHRva2VuLCBzbyBnb2luZyB0byB0cnkgdG8gcmVsb2FkIHRva2VuIGFuZCByZWNvbm5lY3QnLFxuICAgICAgICApO1xuICAgICAgICB0aGlzLl9yZWNvbm5lY3QoeyByZWZyZXNoVG9rZW46IHRydWUgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGlmICghZXJyb3IuaXNXU0ZhaWx1cmUpIHtcbiAgICAgICAgICAvLyBBUEkgcmVqZWN0ZWQgdGhlIGNvbm5lY3Rpb24gYW5kIHdlIHNob3VsZCBub3QgcmV0cnlcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgICAgY29kZTogZXJyb3IuY29kZSxcbiAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgICBTdGF0dXNDb2RlOiBlcnJvci5TdGF0dXNDb2RlLFxuICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsXG4gICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgICAgaXNXU0ZhaWx1cmU6IGVycm9yLmlzV1NGYWlsdXJlLFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBhd2FpdCB0aGlzLl93YWl0Rm9ySGVhbHRoeSh0aW1lb3V0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBfd2FpdEZvckhlYWx0aHkgcG9sbHMgdGhlIHByb21pc2UgY29ubmVjdGlvbiB0byBzZWUgaWYgaXRzIHJlc29sdmVkIHVudGlsIGl0IHRpbWVzIG91dFxuICAgKiB0aGUgZGVmYXVsdCAxNXMgdGltZW91dCBhbGxvd3MgYmV0d2VlbiAyfjMgdHJpZXNcbiAgICogQHBhcmFtIHRpbWVvdXQgZHVyYXRpb24obXMpXG4gICAqL1xuICBhc3luYyBfd2FpdEZvckhlYWx0aHkodGltZW91dCA9IDE1MDAwKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmFjZShbXG4gICAgICAoYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBpbnRlcnZhbCA9IDUwOyAvLyBtc1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8PSB0aW1lb3V0OyBpICs9IGludGVydmFsKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmNvbm5lY3Rpb25PcGVuO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgICAgICAgIGlmIChpID09PSB0aW1lb3V0KSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgICBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgICBjb2RlOiBlcnJvci5jb2RlLFxuICAgICAgICAgICAgICAgICAgU3RhdHVzQ29kZTogZXJyb3IuU3RhdHVzQ29kZSxcbiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICBpc1dTRmFpbHVyZTogZXJyb3IuaXNXU0ZhaWx1cmUsXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhd2FpdCBzbGVlcChpbnRlcnZhbCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KSgpLFxuICAgICAgKGFzeW5jICgpID0+IHtcbiAgICAgICAgYXdhaXQgc2xlZXAodGltZW91dCk7XG4gICAgICAgIHRoaXMuaXNDb25uZWN0aW5nID0gZmFsc2U7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICBjb2RlOiAnJyxcbiAgICAgICAgICAgIFN0YXR1c0NvZGU6ICcnLFxuICAgICAgICAgICAgbWVzc2FnZTogJ2luaXRpYWwgV1MgY29ubmVjdGlvbiBjb3VsZCBub3QgYmUgZXN0YWJsaXNoZWQnLFxuICAgICAgICAgICAgaXNXU0ZhaWx1cmU6IHRydWUsXG4gICAgICAgICAgfSksXG4gICAgICAgICk7XG4gICAgICB9KSgpLFxuICAgIF0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEJ1aWxkcyBhbmQgcmV0dXJucyB0aGUgdXJsIGZvciB3ZWJzb2NrZXQuXG4gICAqIEBwcml2YXRlXG4gICAqIEByZXR1cm5zIHVybCBzdHJpbmdcbiAgICovXG4gIF9idWlsZFVybCA9ICgpID0+IHtcbiAgICBjb25zdCBwYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgcGFyYW1zLnNldCgnYXBpX2tleScsIHRoaXMuY2xpZW50LmtleSk7XG4gICAgcGFyYW1zLnNldCgnc3RyZWFtLWF1dGgtdHlwZScsIHRoaXMuY2xpZW50LmdldEF1dGhUeXBlKCkpO1xuICAgIHBhcmFtcy5zZXQoJ1gtU3RyZWFtLUNsaWVudCcsIHRoaXMuY2xpZW50LmdldFVzZXJBZ2VudCgpKTtcblxuICAgIHJldHVybiBgJHt0aGlzLmNsaWVudC53c0Jhc2VVUkx9L2Nvbm5lY3Q/JHtwYXJhbXMudG9TdHJpbmcoKX1gO1xuICB9O1xuXG4gIC8qKlxuICAgKiBkaXNjb25uZWN0IC0gRGlzY29ubmVjdCB0aGUgY29ubmVjdGlvbiBhbmQgZG9lc24ndCByZWNvdmVyLi4uXG4gICAqXG4gICAqL1xuICBkaXNjb25uZWN0KHRpbWVvdXQ/OiBudW1iZXIpIHtcbiAgICB0aGlzLl9sb2coXG4gICAgICBgZGlzY29ubmVjdCgpIC0gQ2xvc2luZyB0aGUgd2Vic29ja2V0IGNvbm5lY3Rpb24gZm9yIHdzSUQgJHt0aGlzLndzSUR9YCxcbiAgICApO1xuXG4gICAgdGhpcy53c0lEICs9IDE7XG4gICAgdGhpcy5pc0Nvbm5lY3RpbmcgPSBmYWxzZTtcbiAgICB0aGlzLmlzRGlzY29ubmVjdGVkID0gdHJ1ZTtcblxuICAgIC8vIHN0YXJ0IGJ5IHJlbW92aW5nIGFsbCB0aGUgbGlzdGVuZXJzXG4gICAgaWYgKHRoaXMuaGVhbHRoQ2hlY2tUaW1lb3V0UmVmKSB7XG4gICAgICBnZXRUaW1lcnMoKS5jbGVhckludGVydmFsKHRoaXMuaGVhbHRoQ2hlY2tUaW1lb3V0UmVmKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuY29ubmVjdGlvbkNoZWNrVGltZW91dFJlZikge1xuICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmNvbm5lY3Rpb25DaGVja1RpbWVvdXRSZWYpO1xuICAgIH1cblxuICAgIHJlbW92ZUNvbm5lY3Rpb25FdmVudExpc3RlbmVycyh0aGlzLm9ubGluZVN0YXR1c0NoYW5nZWQpO1xuXG4gICAgdGhpcy5pc0hlYWx0aHkgPSBmYWxzZTtcblxuICAgIGxldCBpc0Nsb3NlZFByb21pc2U6IFByb21pc2U8dm9pZD47XG4gICAgLy8gYW5kIGZpbmFsbHkgY2xvc2UuLi5cbiAgICAvLyBBc3NpZ25pbmcgdG8gbG9jYWwgaGVyZSBiZWNhdXNlIHdlIHdpbGwgcmVtb3ZlIGl0IGZyb20gdGhpcyBiZWZvcmUgdGhlXG4gICAgLy8gcHJvbWlzZSByZXNvbHZlcy5cbiAgICBjb25zdCB7IHdzIH0gPSB0aGlzO1xuICAgIGlmICh3cyAmJiB3cy5jbG9zZSAmJiB3cy5yZWFkeVN0YXRlID09PSB3cy5PUEVOKSB7XG4gICAgICBpc0Nsb3NlZFByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICBjb25zdCBvbmNsb3NlID0gKGV2ZW50OiBDbG9zZUV2ZW50KSA9PiB7XG4gICAgICAgICAgdGhpcy5fbG9nKFxuICAgICAgICAgICAgYGRpc2Nvbm5lY3QoKSAtIHJlc29sdmluZyBpc0Nsb3NlZFByb21pc2UgJHtcbiAgICAgICAgICAgICAgZXZlbnQgPyAnd2l0aCcgOiAnd2l0aG91dCdcbiAgICAgICAgICAgIH0gY2xvc2UgZnJhbWVgLFxuICAgICAgICAgICAgeyBldmVudCB9LFxuICAgICAgICAgICk7XG4gICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHdzLm9uY2xvc2UgPSBvbmNsb3NlO1xuICAgICAgICAvLyBJbiBjYXNlIHdlIGRvbid0IHJlY2VpdmUgY2xvc2UgZnJhbWUgd2Vic29ja2V0IHNlcnZlciBpbiB0aW1lLFxuICAgICAgICAvLyBsZXRzIG5vdCB3YWl0IGZvciBtb3JlIHRoYW4gMSBzZWNvbmQuXG4gICAgICAgIHNldFRpbWVvdXQob25jbG9zZSwgdGltZW91dCAhPSBudWxsID8gdGltZW91dCA6IDEwMDApO1xuICAgICAgfSk7XG5cbiAgICAgIHRoaXMuX2xvZyhcbiAgICAgICAgYGRpc2Nvbm5lY3QoKSAtIE1hbnVhbGx5IGNsb3NlZCBjb25uZWN0aW9uIGJ5IGNhbGxpbmcgY2xpZW50LmRpc2Nvbm5lY3QoKWAsXG4gICAgICApO1xuXG4gICAgICB3cy5jbG9zZShcbiAgICAgICAgS25vd25Db2Rlcy5XU19DTE9TRURfU1VDQ0VTUyxcbiAgICAgICAgJ01hbnVhbGx5IGNsb3NlZCBjb25uZWN0aW9uIGJ5IGNhbGxpbmcgY2xpZW50LmRpc2Nvbm5lY3QoKScsXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9sb2coXG4gICAgICAgIGBkaXNjb25uZWN0KCkgLSB3cyBjb25uZWN0aW9uIGRvZXNuJ3QgZXhpc3Qgb3IgaXQgaXMgYWxyZWFkeSBjbG9zZWQuYCxcbiAgICAgICk7XG4gICAgICBpc0Nsb3NlZFByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG5cbiAgICBkZWxldGUgdGhpcy53cztcblxuICAgIHJldHVybiBpc0Nsb3NlZFByb21pc2U7XG4gIH1cblxuICAvKipcbiAgICogX2Nvbm5lY3QgLSBDb25uZWN0IHRvIHRoZSBXUyBlbmRwb2ludFxuICAgKlxuICAgKiBAcmV0dXJuIHtDb25uZWN0QVBJUmVzcG9uc2U8Q29ubmVjdGVkRXZlbnQ+fSBQcm9taXNlIHRoYXQgY29tcGxldGVzIG9uY2UgdGhlIGZpcnN0IGhlYWx0aCBjaGVjayBtZXNzYWdlIGlzIHJlY2VpdmVkXG4gICAqL1xuICBhc3luYyBfY29ubmVjdCgpIHtcbiAgICBpZiAodGhpcy5pc0Nvbm5lY3RpbmcpIHJldHVybjsgLy8gc2ltcGx5IGlnbm9yZSBfY29ubmVjdCBpZiBpdCdzIGN1cnJlbnRseSB0cnlpbmcgdG8gY29ubmVjdFxuICAgIHRoaXMuaXNDb25uZWN0aW5nID0gdHJ1ZTtcbiAgICB0aGlzLnJlcXVlc3RJRCA9IHJhbmRvbUlkKCk7XG4gICAgbGV0IGlzVG9rZW5SZWFkeSA9IGZhbHNlO1xuICAgIHRyeSB7XG4gICAgICB0aGlzLl9sb2coYF9jb25uZWN0KCkgLSB3YWl0aW5nIGZvciB0b2tlbmApO1xuICAgICAgYXdhaXQgdGhpcy5jbGllbnQudG9rZW5NYW5hZ2VyLnRva2VuUmVhZHkoKTtcbiAgICAgIGlzVG9rZW5SZWFkeSA9IHRydWU7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgLy8gdG9rZW4gcHJvdmlkZXIgaGFzIGZhaWxlZCBiZWZvcmUsIHNvIHRyeSBhZ2FpblxuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBpZiAoIWlzVG9rZW5SZWFkeSkge1xuICAgICAgICB0aGlzLl9sb2coXG4gICAgICAgICAgYF9jb25uZWN0KCkgLSB0b2tlblByb3ZpZGVyIGZhaWxlZCBiZWZvcmUsIHNvIGdvaW5nIHRvIHJldHJ5YCxcbiAgICAgICAgKTtcbiAgICAgICAgYXdhaXQgdGhpcy5jbGllbnQudG9rZW5NYW5hZ2VyLmxvYWRUb2tlbigpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXRoaXMuY2xpZW50LmlzQ29ubmVjdGlvbklzUHJvbWlzZVBlbmRpbmcpIHtcbiAgICAgICAgdGhpcy5jbGllbnQuX3NldHVwQ29ubmVjdGlvbklkUHJvbWlzZSgpO1xuICAgICAgfVxuICAgICAgdGhpcy5fc2V0dXBDb25uZWN0aW9uUHJvbWlzZSgpO1xuICAgICAgY29uc3Qgd3NVUkwgPSB0aGlzLl9idWlsZFVybCgpO1xuICAgICAgdGhpcy5fbG9nKGBfY29ubmVjdCgpIC0gQ29ubmVjdGluZyB0byAke3dzVVJMfWAsIHtcbiAgICAgICAgd3NVUkwsXG4gICAgICAgIHJlcXVlc3RJRDogdGhpcy5yZXF1ZXN0SUQsXG4gICAgICB9KTtcbiAgICAgIGNvbnN0IFdTID0gdGhpcy5jbGllbnQub3B0aW9ucy5XZWJTb2NrZXRJbXBsID8/IFdlYlNvY2tldDtcbiAgICAgIHRoaXMud3MgPSBuZXcgV1Mod3NVUkwpO1xuICAgICAgdGhpcy53cy5vbm9wZW4gPSB0aGlzLm9ub3Blbi5iaW5kKHRoaXMsIHRoaXMud3NJRCk7XG4gICAgICB0aGlzLndzLm9uY2xvc2UgPSB0aGlzLm9uY2xvc2UuYmluZCh0aGlzLCB0aGlzLndzSUQpO1xuICAgICAgdGhpcy53cy5vbmVycm9yID0gdGhpcy5vbmVycm9yLmJpbmQodGhpcywgdGhpcy53c0lEKTtcbiAgICAgIHRoaXMud3Mub25tZXNzYWdlID0gdGhpcy5vbm1lc3NhZ2UuYmluZCh0aGlzLCB0aGlzLndzSUQpO1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmNvbm5lY3Rpb25PcGVuO1xuICAgICAgdGhpcy5pc0Nvbm5lY3RpbmcgPSBmYWxzZTtcblxuICAgICAgaWYgKHJlc3BvbnNlKSB7XG4gICAgICAgIHRoaXMuY29ubmVjdGlvbklEID0gcmVzcG9uc2UuY29ubmVjdGlvbl9pZDtcbiAgICAgICAgdGhpcy5jbGllbnQucmVzb2x2ZUNvbm5lY3Rpb25JZD8uKHRoaXMuY29ubmVjdGlvbklEKTtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgYXdhaXQgdGhpcy5jbGllbnQuX3NldHVwQ29ubmVjdGlvbklkUHJvbWlzZSgpO1xuICAgICAgdGhpcy5pc0Nvbm5lY3RpbmcgPSBmYWxzZTtcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIHRoaXMuX2xvZyhgX2Nvbm5lY3QoKSAtIEVycm9yIC0gYCwgZXJyKTtcbiAgICAgIHRoaXMuY2xpZW50LnJlamVjdENvbm5lY3Rpb25JZD8uKGVycik7XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIF9yZWNvbm5lY3QgLSBSZXRyeSB0aGUgY29ubmVjdGlvbiB0byBXUyBlbmRwb2ludFxuICAgKlxuICAgKiBAcGFyYW0ge3sgaW50ZXJ2YWw/OiBudW1iZXI7IHJlZnJlc2hUb2tlbj86IGJvb2xlYW4gfX0gb3B0aW9ucyBGb2xsb3dpbmcgb3B0aW9ucyBhcmUgYXZhaWxhYmxlXG4gICAqXG4gICAqIC0gYGludGVydmFsYFx0e2ludH1cdFx0XHRudW1iZXIgb2YgbXMgdGhhdCBmdW5jdGlvbiBzaG91bGQgd2FpdCBiZWZvcmUgcmVjb25uZWN0aW5nXG4gICAqIC0gYHJlZnJlc2hUb2tlbmAge2Jvb2xlYW59XHRyZWxvYWQvcmVmcmVzaCB1c2VyIHRva2VuIGJlIHJlZnJlc2hlZCBiZWZvcmUgYXR0ZW1wdGluZyByZWNvbm5lY3Rpb24uXG4gICAqL1xuICBhc3luYyBfcmVjb25uZWN0KFxuICAgIG9wdGlvbnM6IHsgaW50ZXJ2YWw/OiBudW1iZXI7IHJlZnJlc2hUb2tlbj86IGJvb2xlYW4gfSA9IHt9LFxuICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0aGlzLl9sb2coJ19yZWNvbm5lY3QoKSAtIEluaXRpYXRpbmcgdGhlIHJlY29ubmVjdCcpO1xuXG4gICAgLy8gb25seSBhbGxvdyAxIGNvbm5lY3Rpb24gYXQgdGhlIHRpbWVcbiAgICBpZiAodGhpcy5pc0Nvbm5lY3RpbmcgfHwgdGhpcy5pc0hlYWx0aHkpIHtcbiAgICAgIHRoaXMuX2xvZygnX3JlY29ubmVjdCgpIC0gQWJvcnQgKDEpIHNpbmNlIGFscmVhZHkgY29ubmVjdGluZyBvciBoZWFsdGh5Jyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gcmVjb25uZWN0IGluIGNhc2Ugb2Ygb24gZXJyb3Igb3Igb24gY2xvc2VcbiAgICAvLyBhbHNvIHJlY29ubmVjdCBpZiB0aGUgaGVhbHRoIGNoZWNrIGN5Y2xlIGZhaWxzXG4gICAgbGV0IGludGVydmFsID0gb3B0aW9ucy5pbnRlcnZhbDtcbiAgICBpZiAoIWludGVydmFsKSB7XG4gICAgICBpbnRlcnZhbCA9IHJldHJ5SW50ZXJ2YWwodGhpcy5jb25zZWN1dGl2ZUZhaWx1cmVzKTtcbiAgICB9XG4gICAgLy8gcmVjb25uZWN0LCBvciB0cnkgYWdhaW4gYWZ0ZXIgYSBsaXR0bGUgd2hpbGUuLi5cbiAgICBhd2FpdCBzbGVlcChpbnRlcnZhbCk7XG5cbiAgICAvLyBDaGVjayBvbmNlIGFnYWluIGlmIGJ5IHNvbWUgb3RoZXIgY2FsbCB0byBfcmVjb25uZWN0IGlzIGFjdGl2ZSBvciBjb25uZWN0aW9uIGlzXG4gICAgLy8gYWxyZWFkeSByZXN0b3JlZCwgdGhlbiBubyBuZWVkIHRvIHByb2NlZWQuXG4gICAgaWYgKHRoaXMuaXNDb25uZWN0aW5nIHx8IHRoaXMuaXNIZWFsdGh5KSB7XG4gICAgICB0aGlzLl9sb2coJ19yZWNvbm5lY3QoKSAtIEFib3J0ICgyKSBzaW5jZSBhbHJlYWR5IGNvbm5lY3Rpbmcgb3IgaGVhbHRoeScpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmlzRGlzY29ubmVjdGVkKSB7XG4gICAgICB0aGlzLl9sb2coJ19yZWNvbm5lY3QoKSAtIEFib3J0ICgzKSBzaW5jZSBkaXNjb25uZWN0KCkgaXMgY2FsbGVkJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fbG9nKCdfcmVjb25uZWN0KCkgLSBEZXN0cm95aW5nIGN1cnJlbnQgV1MgY29ubmVjdGlvbicpO1xuXG4gICAgLy8gY2xlYW51cCB0aGUgb2xkIGNvbm5lY3Rpb25cbiAgICB0aGlzLl9kZXN0cm95Q3VycmVudFdTQ29ubmVjdGlvbigpO1xuXG4gICAgaWYgKG9wdGlvbnMucmVmcmVzaFRva2VuKSB7XG4gICAgICBhd2FpdCB0aGlzLmNsaWVudC50b2tlbk1hbmFnZXIubG9hZFRva2VuKCk7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IHRoaXMuX2Nvbm5lY3QoKTtcbiAgICAgIHRoaXMuX2xvZygnX3JlY29ubmVjdCgpIC0gV2FpdGluZyBmb3IgcmVjb3ZlckNhbGxCYWNrJyk7XG4gICAgICAvLyBhd2FpdCB0aGlzLmNsaWVudC5yZWNvdmVyU3RhdGUoKTtcbiAgICAgIHRoaXMuX2xvZygnX3JlY29ubmVjdCgpIC0gRmluaXNoZWQgcmVjb3ZlckNhbGxCYWNrJyk7XG5cbiAgICAgIHRoaXMuY29uc2VjdXRpdmVGYWlsdXJlcyA9IDA7XG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgdGhpcy5pc0hlYWx0aHkgPSBmYWxzZTtcbiAgICAgIHRoaXMuY29uc2VjdXRpdmVGYWlsdXJlcyArPSAxO1xuICAgICAgaWYgKFxuICAgICAgICBlcnJvci5jb2RlID09PSBLbm93bkNvZGVzLlRPS0VOX0VYUElSRUQgJiZcbiAgICAgICAgIXRoaXMuY2xpZW50LnRva2VuTWFuYWdlci5pc1N0YXRpYygpXG4gICAgICApIHtcbiAgICAgICAgdGhpcy5fbG9nKFxuICAgICAgICAgICdfcmVjb25uZWN0KCkgLSBXUyBmYWlsdXJlIGR1ZSB0byBleHBpcmVkIHRva2VuLCBzbyBnb2luZyB0byB0cnkgdG8gcmVsb2FkIHRva2VuIGFuZCByZWNvbm5lY3QnLFxuICAgICAgICApO1xuXG4gICAgICAgIHJldHVybiB0aGlzLl9yZWNvbm5lY3QoeyByZWZyZXNoVG9rZW46IHRydWUgfSk7XG4gICAgICB9XG5cbiAgICAgIC8vIHJlY29ubmVjdCBvbiBXUyBmYWlsdXJlcywgZG9uJ3QgcmVjb25uZWN0IGlmIHRoZXJlIGlzIGEgY29kZSBidWdcbiAgICAgIGlmIChlcnJvci5pc1dTRmFpbHVyZSkge1xuICAgICAgICB0aGlzLl9sb2coJ19yZWNvbm5lY3QoKSAtIFdTIGZhaWx1cmUsIHNvIGdvaW5nIHRvIHRyeSB0byByZWNvbm5lY3QnKTtcblxuICAgICAgICB0aGlzLl9yZWNvbm5lY3QoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5fbG9nKCdfcmVjb25uZWN0KCkgLSA9PSBFTkQgPT0nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBvbmxpbmVTdGF0dXNDaGFuZ2VkIC0gdGhpcyBmdW5jdGlvbiBpcyBjYWxsZWQgd2hlbiB0aGUgYnJvd3NlciBjb25uZWN0cyBvciBkaXNjb25uZWN0cyBmcm9tIHRoZSBpbnRlcm5ldC5cbiAgICpcbiAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQgRXZlbnQgd2l0aCB0eXBlIG9ubGluZSBvciBvZmZsaW5lXG4gICAqXG4gICAqL1xuICBvbmxpbmVTdGF0dXNDaGFuZ2VkID0gKGV2ZW50OiBFdmVudCkgPT4ge1xuICAgIGlmIChldmVudC50eXBlID09PSAnb2ZmbGluZScpIHtcbiAgICAgIC8vIG1hcmsgdGhlIGNvbm5lY3Rpb24gYXMgZG93blxuICAgICAgdGhpcy5fbG9nKCdvbmxpbmVTdGF0dXNDaGFuZ2VkKCkgLSBTdGF0dXMgY2hhbmdpbmcgdG8gb2ZmbGluZScpO1xuICAgICAgLy8gd2Uga25vdyB0aGF0IHRoZSBhcHAgaXMgb2ZmbGluZSBzbyBkaXNwYXRjaCB0aGUgdW5oZWFsdGh5IGNvbm5lY3Rpb24gZXZlbnQgaW1tZWRpYXRlbHlcbiAgICAgIHRoaXMuX3NldEhlYWx0aChmYWxzZSwgdHJ1ZSk7XG4gICAgfSBlbHNlIGlmIChldmVudC50eXBlID09PSAnb25saW5lJykge1xuICAgICAgLy8gcmV0cnkgcmlnaHQgbm93Li4uXG4gICAgICAvLyBXZSBjaGVjayB0aGlzLmlzSGVhbHRoeSwgbm90IHN1cmUgaWYgaXQncyBhbHdheXNcbiAgICAgIC8vIHNtYXJ0IHRvIGNyZWF0ZSBhIG5ldyBXUyBjb25uZWN0aW9uIGlmIHRoZSBvbGQgb25lIGlzIHN0aWxsIHVwIGFuZCBydW5uaW5nLlxuICAgICAgLy8gaXQncyBwb3NzaWJsZSB3ZSBkaWRuJ3QgbWlzcyBhbnkgbWVzc2FnZXMsIHNvIHRoaXMgcHJvY2VzcyBpcyBqdXN0IGV4cGVuc2l2ZSBhbmQgbm90IG5lZWRlZC5cbiAgICAgIHRoaXMuX2xvZyhcbiAgICAgICAgYG9ubGluZVN0YXR1c0NoYW5nZWQoKSAtIFN0YXR1cyBjaGFuZ2luZyB0byBvbmxpbmUuIGlzSGVhbHRoeTogJHt0aGlzLmlzSGVhbHRoeX1gLFxuICAgICAgKTtcbiAgICAgIGlmICghdGhpcy5pc0hlYWx0aHkpIHtcbiAgICAgICAgdGhpcy5fcmVjb25uZWN0KHsgaW50ZXJ2YWw6IDEwIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBvbm9wZW4gPSAod3NJRDogbnVtYmVyKSA9PiB7XG4gICAgaWYgKHRoaXMud3NJRCAhPT0gd3NJRCkgcmV0dXJuO1xuXG4gICAgY29uc3QgdXNlciA9IHRoaXMuY2xpZW50LnVzZXI7XG4gICAgaWYgKCF1c2VyKSB7XG4gICAgICB0aGlzLmNsaWVudC5sb2dnZXIoJ2Vycm9yJywgYFVzZXIgbm90IHNldCwgY2FuJ3QgY29ubmVjdCB0byBXU2ApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHRva2VuID0gdGhpcy5jbGllbnQuX2dldFRva2VuKCk7XG4gICAgaWYgKCF0b2tlbikge1xuICAgICAgdGhpcy5jbGllbnQubG9nZ2VyKCdlcnJvcicsIGBUb2tlbiBub3Qgc2V0LCBjYW4ndCBjb25uZWN0IGF1dGhlbnRpY2F0ZWApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGF1dGhNZXNzYWdlOiBXU0F1dGhNZXNzYWdlID0ge1xuICAgICAgdG9rZW4sXG4gICAgICB1c2VyX2RldGFpbHM6IHtcbiAgICAgICAgaWQ6IHVzZXIuaWQsXG4gICAgICAgIG5hbWU6IHVzZXIubmFtZSxcbiAgICAgICAgaW1hZ2U6IHVzZXIuaW1hZ2UsXG4gICAgICAgIGN1c3RvbTogdXNlci5jdXN0b20sXG4gICAgICB9LFxuICAgIH07XG5cbiAgICB0aGlzLndzPy5zZW5kKEpTT04uc3RyaW5naWZ5KGF1dGhNZXNzYWdlKSk7XG4gICAgdGhpcy5fbG9nKCdvbm9wZW4oKSAtIG9ub3BlbiBjYWxsYmFjaycsIHsgd3NJRCB9KTtcbiAgfTtcblxuICBvbm1lc3NhZ2UgPSAod3NJRDogbnVtYmVyLCBldmVudDogTWVzc2FnZUV2ZW50KSA9PiB7XG4gICAgaWYgKHRoaXMud3NJRCAhPT0gd3NJRCkgcmV0dXJuO1xuXG4gICAgdGhpcy5fbG9nKCdvbm1lc3NhZ2UoKSAtIG9ubWVzc2FnZSBjYWxsYmFjaycsIHsgZXZlbnQsIHdzSUQgfSk7XG4gICAgY29uc3QgZGF0YSA9XG4gICAgICB0eXBlb2YgZXZlbnQuZGF0YSA9PT0gJ3N0cmluZydcbiAgICAgICAgPyAoSlNPTi5wYXJzZShldmVudC5kYXRhKSBhcyBTdHJlYW1WaWRlb0V2ZW50KVxuICAgICAgICA6IG51bGw7XG5cbiAgICAvLyB3ZSB3YWl0IHRpbGwgdGhlIGZpcnN0IG1lc3NhZ2UgYmVmb3JlIHdlIGNvbnNpZGVyIHRoZSBjb25uZWN0aW9uIG9wZW4uXG4gICAgLy8gdGhlIHJlYXNvbiBmb3IgdGhpcyBpcyB0aGF0IGF1dGggZXJyb3JzIGFuZCBzaW1pbGFyIGVycm9ycyB0cmlnZ2VyIGEgd3Mub25vcGVuIGFuZCBpbW1lZGlhdGVseVxuICAgIC8vIGFmdGVyIHRoYXQgYSB3cy5vbmNsb3NlLlxuICAgIGlmICghdGhpcy5pc1Jlc29sdmVkICYmIGRhdGEgJiYgZGF0YS50eXBlID09PSAnY29ubmVjdGlvbi5lcnJvcicpIHtcbiAgICAgIHRoaXMuaXNSZXNvbHZlZCA9IHRydWU7XG4gICAgICBpZiAoZGF0YS5lcnJvcikge1xuICAgICAgICB0aGlzLnJlamVjdFByb21pc2U/Lih0aGlzLl9lcnJvckZyb21XU0V2ZW50KGRhdGEsIGZhbHNlKSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyB0cmlnZ2VyIHRoZSBldmVudC4uXG4gICAgdGhpcy5sYXN0RXZlbnQgPSBuZXcgRGF0ZSgpO1xuXG4gICAgaWYgKFxuICAgICAgZGF0YSAmJlxuICAgICAgKGRhdGEudHlwZSA9PT0gJ2hlYWx0aC5jaGVjaycgfHwgZGF0YS50eXBlID09PSAnY29ubmVjdGlvbi5vaycpXG4gICAgKSB7XG4gICAgICAvLyB0aGUgaW5pdGlhbCBoZWFsdGgtY2hlY2sgc2hvdWxkIGNvbWUgZnJvbSB0aGUgY2xpZW50XG4gICAgICB0aGlzLnNjaGVkdWxlTmV4dFBpbmcoKTtcbiAgICB9XG5cbiAgICBpZiAoZGF0YSAmJiBkYXRhLnR5cGUgPT09ICdjb25uZWN0aW9uLm9rJykge1xuICAgICAgdGhpcy5yZXNvbHZlUHJvbWlzZT8uKGRhdGEpO1xuICAgICAgdGhpcy5fc2V0SGVhbHRoKHRydWUpO1xuICAgIH1cblxuICAgIGlmIChkYXRhICYmIGRhdGEudHlwZSA9PT0gJ2Nvbm5lY3Rpb24uZXJyb3InICYmIGRhdGEuZXJyb3IpIHtcbiAgICAgIGNvbnN0IHsgY29kZSB9ID0gZGF0YS5lcnJvcjtcbiAgICAgIHRoaXMuaXNIZWFsdGh5ID0gZmFsc2U7XG4gICAgICB0aGlzLmlzQ29ubmVjdGluZyA9IGZhbHNlO1xuICAgICAgdGhpcy5jb25zZWN1dGl2ZUZhaWx1cmVzICs9IDE7XG4gICAgICBpZiAoXG4gICAgICAgIGNvZGUgPT09IEtub3duQ29kZXMuVE9LRU5fRVhQSVJFRCAmJlxuICAgICAgICAhdGhpcy5jbGllbnQudG9rZW5NYW5hZ2VyLmlzU3RhdGljKClcbiAgICAgICkge1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5jb25uZWN0aW9uQ2hlY2tUaW1lb3V0UmVmKTtcbiAgICAgICAgdGhpcy5fbG9nKFxuICAgICAgICAgICdjb25uZWN0KCkgLSBXUyBmYWlsdXJlIGR1ZSB0byBleHBpcmVkIHRva2VuLCBzbyBnb2luZyB0byB0cnkgdG8gcmVsb2FkIHRva2VuIGFuZCByZWNvbm5lY3QnLFxuICAgICAgICApO1xuICAgICAgICB0aGlzLl9yZWNvbm5lY3QoeyByZWZyZXNoVG9rZW46IHRydWUgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGRhdGEpIHtcbiAgICAgIGRhdGEucmVjZWl2ZWRfYXQgPSBuZXcgRGF0ZSgpO1xuICAgICAgdGhpcy5jbGllbnQuZGlzcGF0Y2hFdmVudChkYXRhKTtcbiAgICB9XG4gICAgdGhpcy5zY2hlZHVsZUNvbm5lY3Rpb25DaGVjaygpO1xuICB9O1xuXG4gIG9uY2xvc2UgPSAod3NJRDogbnVtYmVyLCBldmVudDogQ2xvc2VFdmVudCkgPT4ge1xuICAgIGlmICh0aGlzLndzSUQgIT09IHdzSUQpIHJldHVybjtcblxuICAgIHRoaXMuX2xvZygnb25jbG9zZSgpIC0gb25jbG9zZSBjYWxsYmFjayAtICcgKyBldmVudC5jb2RlLCB7IGV2ZW50LCB3c0lEIH0pO1xuXG4gICAgaWYgKGV2ZW50LmNvZGUgPT09IEtub3duQ29kZXMuV1NfQ0xPU0VEX1NVQ0NFU1MpIHtcbiAgICAgIC8vIHRoaXMgaXMgYSBwZXJtYW5lbnQgZXJyb3IgcmFpc2VkIGJ5IHN0cmVhbS4uXG4gICAgICAvLyB1c3VhbGx5IGNhdXNlZCBieSBpbnZhbGlkIGF1dGggZGV0YWlsc1xuICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoXG4gICAgICAgIGBXUyBjb25uZWN0aW9uIHJlamVjdCB3aXRoIGVycm9yICR7ZXZlbnQucmVhc29ufWAsXG4gICAgICApO1xuXG4gICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgICBlcnJvci5yZWFzb24gPSBldmVudC5yZWFzb247XG4gICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgICBlcnJvci5jb2RlID0gZXZlbnQuY29kZTtcbiAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICAgIGVycm9yLndhc0NsZWFuID0gZXZlbnQud2FzQ2xlYW47XG4gICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgICBlcnJvci50YXJnZXQgPSBldmVudC50YXJnZXQ7XG5cbiAgICAgIHRoaXMucmVqZWN0UHJvbWlzZT8uKGVycm9yKTtcbiAgICAgIHRoaXMuX2xvZyhgb25jbG9zZSgpIC0gV1MgY29ubmVjdGlvbiByZWplY3Qgd2l0aCBlcnJvciAke2V2ZW50LnJlYXNvbn1gLCB7XG4gICAgICAgIGV2ZW50LFxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY29uc2VjdXRpdmVGYWlsdXJlcyArPSAxO1xuICAgICAgdGhpcy50b3RhbEZhaWx1cmVzICs9IDE7XG4gICAgICB0aGlzLl9zZXRIZWFsdGgoZmFsc2UpO1xuICAgICAgdGhpcy5pc0Nvbm5lY3RpbmcgPSBmYWxzZTtcblxuICAgICAgdGhpcy5yZWplY3RQcm9taXNlPy4odGhpcy5fZXJyb3JGcm9tV1NFdmVudChldmVudCkpO1xuXG4gICAgICB0aGlzLl9sb2coYG9uY2xvc2UoKSAtIFdTIGNvbm5lY3Rpb24gY2xvc2VkLiBDYWxsaW5nIHJlY29ubmVjdCAuLi5gLCB7XG4gICAgICAgIGV2ZW50LFxuICAgICAgfSk7XG5cbiAgICAgIC8vIHJlY29ubmVjdCBpZiBpdHMgYW4gYWJub3JtYWwgZmFpbHVyZVxuICAgICAgdGhpcy5fcmVjb25uZWN0KCk7XG4gICAgfVxuICB9O1xuXG4gIG9uZXJyb3IgPSAod3NJRDogbnVtYmVyLCBldmVudDogRXZlbnQpID0+IHtcbiAgICBpZiAodGhpcy53c0lEICE9PSB3c0lEKSByZXR1cm47XG5cbiAgICB0aGlzLmNvbnNlY3V0aXZlRmFpbHVyZXMgKz0gMTtcbiAgICB0aGlzLnRvdGFsRmFpbHVyZXMgKz0gMTtcbiAgICB0aGlzLl9zZXRIZWFsdGgoZmFsc2UpO1xuICAgIHRoaXMuaXNDb25uZWN0aW5nID0gZmFsc2U7XG4gICAgdGhpcy5yZWplY3RQcm9taXNlPy4obmV3IEVycm9yKGBXZWJTb2NrZXQgZXJyb3I6ICR7ZXZlbnR9YCkpO1xuICAgIHRoaXMuX2xvZyhgb25lcnJvcigpIC0gV1MgY29ubmVjdGlvbiByZXN1bHRlZCBpbnRvIGVycm9yYCwgeyBldmVudCB9KTtcblxuICAgIHRoaXMuX3JlY29ubmVjdCgpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBfc2V0SGVhbHRoIC0gU2V0cyB0aGUgY29ubmVjdGlvbiB0byBoZWFsdGh5IG9yIHVuaGVhbHRoeS5cbiAgICogQnJvYWRjYXN0cyBhbiBldmVudCBpbiBjYXNlIHRoZSBjb25uZWN0aW9uIHN0YXR1cyBjaGFuZ2VkLlxuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGhlYWx0aHkgYm9vbGVhbiBpbmRpY2F0aW5nIGlmIHRoZSBjb25uZWN0aW9uIGlzIGhlYWx0aHkgb3Igbm90XG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gZGlzcGF0Y2hJbW1lZGlhdGVseSBib29sZWFuIGluZGljYXRpbmcgdG8gZGlzcGF0Y2ggZXZlbnQgaW1tZWRpYXRlbHkgZXZlbiBpZiB0aGUgY29ubmVjdGlvbiBpcyB1bmhlYWx0aHlcbiAgICovXG4gIF9zZXRIZWFsdGggPSAoaGVhbHRoeTogYm9vbGVhbiwgZGlzcGF0Y2hJbW1lZGlhdGVseSA9IGZhbHNlKSA9PiB7XG4gICAgaWYgKGhlYWx0aHkgPT09IHRoaXMuaXNIZWFsdGh5KSByZXR1cm47XG5cbiAgICB0aGlzLmlzSGVhbHRoeSA9IGhlYWx0aHk7XG5cbiAgICBpZiAodGhpcy5pc0hlYWx0aHkgfHwgZGlzcGF0Y2hJbW1lZGlhdGVseSkge1xuICAgICAgdGhpcy5jbGllbnQuZGlzcGF0Y2hFdmVudCh7XG4gICAgICAgIHR5cGU6ICdjb25uZWN0aW9uLmNoYW5nZWQnLFxuICAgICAgICBvbmxpbmU6IHRoaXMuaXNIZWFsdGh5LFxuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gd2UncmUgb2ZmbGluZSwgd2FpdCBmZXcgc2Vjb25kcyBhbmQgZmlyZSBhbmQgZXZlbnQgaWYgc3RpbGwgb2ZmbGluZVxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgaWYgKHRoaXMuaXNIZWFsdGh5KSByZXR1cm47XG4gICAgICB0aGlzLmNsaWVudC5kaXNwYXRjaEV2ZW50KHtcbiAgICAgICAgdHlwZTogJ2Nvbm5lY3Rpb24uY2hhbmdlZCcsXG4gICAgICAgIG9ubGluZTogdGhpcy5pc0hlYWx0aHksXG4gICAgICB9KTtcbiAgICB9LCA1MDAwKTtcbiAgfTtcblxuICAvKipcbiAgICogX2Vycm9yRnJvbVdTRXZlbnQgLSBDcmVhdGVzIGFuIGVycm9yIG9iamVjdCBmb3IgdGhlIFdTIGV2ZW50XG4gICAqL1xuICBwcml2YXRlIF9lcnJvckZyb21XU0V2ZW50ID0gKFxuICAgIGV2ZW50OiBDbG9zZUV2ZW50IHwgQ29ubmVjdGlvbkVycm9yRXZlbnQsXG4gICAgaXNXU0ZhaWx1cmUgPSB0cnVlLFxuICApID0+IHtcbiAgICBsZXQgY29kZTogbnVtYmVyO1xuICAgIGxldCBzdGF0dXNDb2RlOiBudW1iZXI7XG4gICAgbGV0IG1lc3NhZ2U6IHN0cmluZztcbiAgICBpZiAoaXNDbG9zZUV2ZW50KGV2ZW50KSkge1xuICAgICAgY29kZSA9IGV2ZW50LmNvZGU7XG4gICAgICBtZXNzYWdlID0gZXZlbnQucmVhc29uO1xuICAgICAgc3RhdHVzQ29kZSA9IDA7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHsgZXJyb3IgfSA9IGV2ZW50O1xuICAgICAgY29kZSA9IGVycm9yLmNvZGU7XG4gICAgICBtZXNzYWdlID0gZXJyb3IubWVzc2FnZTtcbiAgICAgIHN0YXR1c0NvZGUgPSBlcnJvci5TdGF0dXNDb2RlO1xuICAgIH1cblxuICAgIGNvbnN0IG1zZyA9IGBXUyBmYWlsZWQgd2l0aCBjb2RlOiAke2NvZGV9IGFuZCByZWFzb246ICR7bWVzc2FnZX1gO1xuICAgIHRoaXMuX2xvZyhtc2csIHsgZXZlbnQgfSwgJ3dhcm4nKTtcbiAgICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcihtc2cpIGFzIEVycm9yICYge1xuICAgICAgY29kZT86IG51bWJlcjtcbiAgICAgIGlzV1NGYWlsdXJlPzogYm9vbGVhbjtcbiAgICAgIFN0YXR1c0NvZGU/OiBudW1iZXI7XG4gICAgfTtcbiAgICBlcnJvci5jb2RlID0gY29kZTtcbiAgICAvKipcbiAgICAgKiBTdGF0dXNDb2RlIGRvZXMgbm90IGV4aXN0IG9uIGFueSBldmVudCB0eXBlcyBidXQgaGFzIGJlZW4gbGVmdFxuICAgICAqIGFzIGlzIHRvIHByZXNlcnZlIEpTIGZ1bmN0aW9uYWxpdHkgZHVyaW5nIHRoZSBUUyBpbXBsZW1lbnRhdGlvblxuICAgICAqL1xuICAgIGVycm9yLlN0YXR1c0NvZGUgPSBzdGF0dXNDb2RlO1xuICAgIGVycm9yLmlzV1NGYWlsdXJlID0gaXNXU0ZhaWx1cmU7XG4gICAgcmV0dXJuIGVycm9yO1xuICB9O1xuXG4gIC8qKlxuICAgKiBfZGVzdHJveUN1cnJlbnRXU0Nvbm5lY3Rpb24gLSBSZW1vdmVzIHRoZSBjdXJyZW50IFdTIGNvbm5lY3Rpb25cbiAgICpcbiAgICovXG4gIF9kZXN0cm95Q3VycmVudFdTQ29ubmVjdGlvbigpIHtcbiAgICAvLyBpbmNyZW1lbnQgdGhlIElELCBtZWFuaW5nIHdlIHdpbGwgaWdub3JlIGFsbCBtZXNzYWdlcyBmcm9tIHRoZSBvbGRcbiAgICAvLyB3cyBjb25uZWN0aW9uIGZyb20gbm93IG9uLlxuICAgIHRoaXMud3NJRCArPSAxO1xuXG4gICAgdHJ5IHtcbiAgICAgIHRoaXM/LndzPy5jbG9zZSgpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIC8vIHdlIGRvbid0IGNhcmVcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogX3NldHVwUHJvbWlzZSAtIHNldHMgdXAgdGhlIHRoaXMuY29ubmVjdE9wZW4gcHJvbWlzZVxuICAgKi9cbiAgX3NldHVwQ29ubmVjdGlvblByb21pc2UgPSAoKSA9PiB7XG4gICAgdGhpcy5pc1Jlc29sdmVkID0gZmFsc2U7XG4gICAgLyoqIGEgcHJvbWlzZSB0aGF0IGlzIHJlc29sdmVkIG9uY2Ugd3Mub3BlbiBpcyBjYWxsZWQgKi9cbiAgICB0aGlzLmNvbm5lY3Rpb25PcGVuU2FmZSA9IG1ha2VTYWZlUHJvbWlzZShcbiAgICAgIG5ldyBQcm9taXNlPENvbm5lY3RlZEV2ZW50PigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIHRoaXMucmVzb2x2ZVByb21pc2UgPSByZXNvbHZlO1xuICAgICAgICB0aGlzLnJlamVjdFByb21pc2UgPSByZWplY3Q7XG4gICAgICB9KSxcbiAgICApO1xuICB9O1xuXG4gIGdldCBjb25uZWN0aW9uT3BlbigpIHtcbiAgICByZXR1cm4gdGhpcy5jb25uZWN0aW9uT3BlblNhZmU/LigpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNjaGVkdWxlcyBhIG5leHQgaGVhbHRoIGNoZWNrIHBpbmcgZm9yIHdlYnNvY2tldC5cbiAgICovXG4gIHNjaGVkdWxlTmV4dFBpbmcgPSAoKSA9PiB7XG4gICAgY29uc3QgdGltZXJzID0gZ2V0VGltZXJzKCk7XG4gICAgaWYgKHRoaXMuaGVhbHRoQ2hlY2tUaW1lb3V0UmVmKSB7XG4gICAgICB0aW1lcnMuY2xlYXJUaW1lb3V0KHRoaXMuaGVhbHRoQ2hlY2tUaW1lb3V0UmVmKTtcbiAgICB9XG5cbiAgICAvLyAzMCBzZWNvbmRzIGlzIHRoZSByZWNvbW1lbmRlZCBpbnRlcnZhbCAobWVzc2VuZ2VyIHVzZXMgdGhpcylcbiAgICB0aGlzLmhlYWx0aENoZWNrVGltZW91dFJlZiA9IHRpbWVycy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIC8vIHNlbmQgdGhlIGhlYWx0aGNoZWNrLi4uLCBzZXJ2ZXIgcmVwbGllcyB3aXRoIGEgaGVhbHRoIGNoZWNrIGV2ZW50XG4gICAgICBjb25zdCBkYXRhID0gW3sgdHlwZTogJ2hlYWx0aC5jaGVjaycsIGNsaWVudF9pZDogdGhpcy5jbGllbnQuY2xpZW50SUQgfV07XG4gICAgICAvLyB0cnkgdG8gc2VuZCBvbiB0aGUgY29ubmVjdGlvblxuICAgICAgdHJ5IHtcbiAgICAgICAgdGhpcy53cz8uc2VuZChKU09OLnN0cmluZ2lmeShkYXRhKSk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIC8vIGVycm9yIHdpbGwgYWxyZWFkeSBiZSBkZXRlY3RlZCBlbHNld2hlcmVcbiAgICAgIH1cbiAgICB9LCB0aGlzLnBpbmdJbnRlcnZhbCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIHNjaGVkdWxlQ29ubmVjdGlvbkNoZWNrIC0gc2NoZWR1bGVzIGEgY2hlY2sgZm9yIHRpbWUgZGlmZmVyZW5jZSBiZXR3ZWVuIGxhc3QgcmVjZWl2ZWQgZXZlbnQgYW5kIG5vdy5cbiAgICogSWYgdGhlIGRpZmZlcmVuY2UgaXMgbW9yZSB0aGFuIDM1IHNlY29uZHMsIGl0IG1lYW5zIG91ciBoZWFsdGggY2hlY2sgbG9naWMgaGFzIGZhaWxlZCBhbmQgd2Vic29ja2V0IG5lZWRzXG4gICAqIHRvIGJlIHJlY29ubmVjdGVkLlxuICAgKi9cbiAgc2NoZWR1bGVDb25uZWN0aW9uQ2hlY2sgPSAoKSA9PiB7XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMuY29ubmVjdGlvbkNoZWNrVGltZW91dFJlZik7XG4gICAgdGhpcy5jb25uZWN0aW9uQ2hlY2tUaW1lb3V0UmVmID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgICAgaWYgKFxuICAgICAgICB0aGlzLmxhc3RFdmVudCAmJlxuICAgICAgICBub3cuZ2V0VGltZSgpIC0gdGhpcy5sYXN0RXZlbnQuZ2V0VGltZSgpID4gdGhpcy5jb25uZWN0aW9uQ2hlY2tUaW1lb3V0XG4gICAgICApIHtcbiAgICAgICAgdGhpcy5fbG9nKCdzY2hlZHVsZUNvbm5lY3Rpb25DaGVjayAtIGdvaW5nIHRvIHJlY29ubmVjdCcpO1xuICAgICAgICB0aGlzLl9zZXRIZWFsdGgoZmFsc2UpO1xuICAgICAgICB0aGlzLl9yZWNvbm5lY3QoKTtcbiAgICAgIH1cbiAgICB9LCB0aGlzLmNvbm5lY3Rpb25DaGVja1RpbWVvdXQpO1xuICB9O1xufVxuIiwiZXhwb3J0IGZ1bmN0aW9uIGdldFVzZXJGcm9tVG9rZW4odG9rZW46IHN0cmluZykge1xuICBjb25zdCBmcmFnbWVudHMgPSB0b2tlbi5zcGxpdCgnLicpO1xuICBpZiAoZnJhZ21lbnRzLmxlbmd0aCAhPT0gMykge1xuICAgIHJldHVybiAnJztcbiAgfVxuICBjb25zdCBiNjRQYXlsb2FkID0gZnJhZ21lbnRzWzFdO1xuICBjb25zdCBwYXlsb2FkID0gZGVjb2RlQmFzZTY0KGI2NFBheWxvYWQpO1xuICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShwYXlsb2FkKTtcbiAgcmV0dXJuIGRhdGEudXNlcl9pZCBhcyBzdHJpbmcgfCB1bmRlZmluZWQ7XG59XG5cbi8vIGJhc2UtNjQgZGVjb2RlciB0aHJvd3MgZXhjZXB0aW9uIGlmIGVuY29kZWQgc3RyaW5nIGlzIG5vdCBwYWRkZWQgYnkgJz0nIHRvIG1ha2Ugc3RyaW5nIGxlbmd0aFxuLy8gaW4gbXVsdGlwbGVzIG9mIDQuIFNvIGdvbm5hIHVzZSBvdXIgb3duIG1ldGhvZCBmb3IgdGhpcyBwdXJwb3NlIHRvIGtlZXAgYmFja3dhcmRzIGNvbXBhdGliaWxpdHlcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9iZWF0Z2FtbWl0L2Jhc2U2NC1qcy9ibG9iL21hc3Rlci9pbmRleC5qcyNMMjZcbmNvbnN0IGRlY29kZUJhc2U2NCA9IChzOiBzdHJpbmcpOiBzdHJpbmcgPT4ge1xuICBjb25zdCBlID0ge30gYXMgeyBba2V5OiBzdHJpbmddOiBudW1iZXIgfSxcbiAgICB3ID0gU3RyaW5nLmZyb21DaGFyQ29kZSxcbiAgICBMID0gcy5sZW5ndGg7XG4gIGxldCBpLFxuICAgIGIgPSAwLFxuICAgIGMsXG4gICAgeCxcbiAgICBsID0gMCxcbiAgICBhLFxuICAgIHIgPSAnJztcbiAgY29uc3QgQSA9ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvJztcbiAgZm9yIChpID0gMDsgaSA8IDY0OyBpKyspIHtcbiAgICBlW0EuY2hhckF0KGkpXSA9IGk7XG4gIH1cbiAgZm9yICh4ID0gMDsgeCA8IEw7IHgrKykge1xuICAgIGMgPSBlW3MuY2hhckF0KHgpXTtcbiAgICBiID0gKGIgPDwgNikgKyBjO1xuICAgIGwgKz0gNjtcbiAgICB3aGlsZSAobCA+PSA4KSB7XG4gICAgICAoKGEgPSAoYiA+Pj4gKGwgLT0gOCkpICYgMHhmZikgfHwgeCA8IEwgLSAyKSAmJiAociArPSB3KGEpKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHI7XG59O1xuIiwiaW1wb3J0IHsgZ2V0VXNlckZyb21Ub2tlbiB9IGZyb20gJy4vc2lnbmluZyc7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi91dGlscyc7XG5pbXBvcnQgdHlwZSB7IFRva2VuT3JQcm92aWRlciwgVXNlcldpdGhJZCB9IGZyb20gJy4vdHlwZXMnO1xuXG4vKipcbiAqIFRva2VuTWFuYWdlclxuICpcbiAqIEhhbmRsZXMgYWxsIHRoZSBvcGVyYXRpb25zIGFyb3VuZCB1c2VyIHRva2VuLlxuICovXG5leHBvcnQgY2xhc3MgVG9rZW5NYW5hZ2VyIHtcbiAgbG9hZFRva2VuUHJvbWlzZTogUHJvbWlzZTxzdHJpbmc+IHwgbnVsbDtcbiAgdHlwZTogJ3N0YXRpYycgfCAncHJvdmlkZXInO1xuICBzZWNyZXQ/OiBzdHJpbmc7XG4gIHRva2VuPzogc3RyaW5nO1xuICB0b2tlblByb3ZpZGVyPzogVG9rZW5PclByb3ZpZGVyO1xuICB1c2VyPzogVXNlcldpdGhJZDtcbiAgLyoqXG4gICAqIENvbnN0cnVjdG9yXG4gICAqL1xuICBjb25zdHJ1Y3RvcihzZWNyZXQ/OiBzdHJpbmcpIHtcbiAgICB0aGlzLmxvYWRUb2tlblByb21pc2UgPSBudWxsO1xuICAgIHRoaXMuc2VjcmV0ID0gc2VjcmV0O1xuICAgIHRoaXMudHlwZSA9ICdzdGF0aWMnO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgc3RhdGljIHN0cmluZyB0b2tlbiBvciB0b2tlbiBwcm92aWRlci5cbiAgICogVG9rZW4gcHJvdmlkZXIgc2hvdWxkIHJldHVybiBhIHRva2VuIHN0cmluZyBvciBhIHByb21pc2Ugd2hpY2ggcmVzb2x2ZXMgdG8gc3RyaW5nIHRva2VuLlxuICAgKlxuICAgKiBAcGFyYW0ge1Rva2VuT3JQcm92aWRlcn0gdG9rZW5PclByb3ZpZGVyIC0gdGhlIHRva2VuIG9yIHRva2VuIHByb3ZpZGVyLlxuICAgKiBAcGFyYW0ge1VzZXJSZXNwb25zZX0gdXNlciAtIHRoZSB1c2VyIG9iamVjdC5cbiAgICogQHBhcmFtIHtib29sZWFufSBpc0Fub255bW91cyAtIHdoZXRoZXIgdGhlIHVzZXIgaXMgYW5vbnltb3VzIG9yIG5vdC5cbiAgICovXG4gIHNldFRva2VuT3JQcm92aWRlciA9IGFzeW5jIChcbiAgICB0b2tlbk9yUHJvdmlkZXI6IFRva2VuT3JQcm92aWRlcixcbiAgICB1c2VyOiBVc2VyV2l0aElkLFxuICAgIGlzQW5vbnltb3VzOiBib29sZWFuLFxuICApID0+IHtcbiAgICB0aGlzLnZhbGlkYXRlVG9rZW4odG9rZW5PclByb3ZpZGVyLCB1c2VyLCBpc0Fub255bW91cyk7XG4gICAgdGhpcy51c2VyID0gdXNlcjtcblxuICAgIGlmIChpc0Z1bmN0aW9uKHRva2VuT3JQcm92aWRlcikpIHtcbiAgICAgIHRoaXMudG9rZW5Qcm92aWRlciA9IHRva2VuT3JQcm92aWRlcjtcbiAgICAgIHRoaXMudHlwZSA9ICdwcm92aWRlcic7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiB0b2tlbk9yUHJvdmlkZXIgPT09ICdzdHJpbmcnKSB7XG4gICAgICB0aGlzLnRva2VuID0gdG9rZW5PclByb3ZpZGVyO1xuICAgICAgdGhpcy50eXBlID0gJ3N0YXRpYyc7XG4gICAgfVxuXG4gICAgYXdhaXQgdGhpcy5sb2FkVG9rZW4oKTtcbiAgfTtcblxuICAvKipcbiAgICogUmVzZXRzIHRoZSB0b2tlbiBtYW5hZ2VyLlxuICAgKiBVc2VmdWwgZm9yIGNsaWVudCBkaXNjb25uZWN0aW9uIG9yIHN3aXRjaGluZyB1c2VyLlxuICAgKi9cbiAgcmVzZXQgPSAoKSA9PiB7XG4gICAgdGhpcy50b2tlbiA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLnRva2VuUHJvdmlkZXIgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy50eXBlID0gJ3N0YXRpYyc7XG4gICAgdGhpcy51c2VyID0gdW5kZWZpbmVkO1xuICAgIHRoaXMubG9hZFRva2VuUHJvbWlzZSA9IG51bGw7XG4gIH07XG5cbiAgLy8gVmFsaWRhdGVzIHRoZSB1c2VyIHRva2VuLlxuICB2YWxpZGF0ZVRva2VuID0gKFxuICAgIHRva2VuT3JQcm92aWRlcjogVG9rZW5PclByb3ZpZGVyLFxuICAgIHVzZXI6IFVzZXJXaXRoSWQsXG4gICAgaXNBbm9ueW1vdXM6IGJvb2xlYW4sXG4gICkgPT4ge1xuICAgIC8vIGFsbG93IGVtcHR5IHRva2VuIGZvciBhbm9uIHVzZXJcbiAgICBpZiAodXNlciAmJiBpc0Fub255bW91cyAmJiAhdG9rZW5PclByb3ZpZGVyKSByZXR1cm47XG5cbiAgICAvLyBEb24ndCBhbGxvdyBlbXB0eSB0b2tlbiBmb3Igbm9uLXNlcnZlciBzaWRlIGNsaWVudC5cbiAgICBpZiAoIXRoaXMuc2VjcmV0ICYmICF0b2tlbk9yUHJvdmlkZXIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVXNlcldpdGhJZCB0b2tlbiBjYW4gbm90IGJlIGVtcHR5Jyk7XG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgdG9rZW5PclByb3ZpZGVyICYmXG4gICAgICB0eXBlb2YgdG9rZW5PclByb3ZpZGVyICE9PSAnc3RyaW5nJyAmJlxuICAgICAgIWlzRnVuY3Rpb24odG9rZW5PclByb3ZpZGVyKVxuICAgICkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCd1c2VyIHRva2VuIHNob3VsZCBlaXRoZXIgYmUgYSBzdHJpbmcgb3IgYSBmdW5jdGlvbicpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgdG9rZW5PclByb3ZpZGVyID09PSAnc3RyaW5nJykge1xuICAgICAgLy8gQWxsb3cgZW1wdHkgdG9rZW4gZm9yIGFub255bW91cyB1c2Vyc1xuICAgICAgaWYgKGlzQW5vbnltb3VzICYmIHRva2VuT3JQcm92aWRlciA9PT0gJycpIHJldHVybjtcblxuICAgICAgY29uc3QgdG9rZW5Vc2VySWQgPSBnZXRVc2VyRnJvbVRva2VuKHRva2VuT3JQcm92aWRlcik7XG4gICAgICBpZiAoXG4gICAgICAgIHRva2VuT3JQcm92aWRlciAhPSBudWxsICYmXG4gICAgICAgICh0b2tlblVzZXJJZCA9PSBudWxsIHx8XG4gICAgICAgICAgdG9rZW5Vc2VySWQgPT09ICcnIHx8XG4gICAgICAgICAgKCFpc0Fub255bW91cyAmJiB0b2tlblVzZXJJZCAhPT0gdXNlci5pZCkpXG4gICAgICApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICd1c2VyVG9rZW4gZG9lcyBub3QgaGF2ZSBhIHVzZXJfaWQgb3IgaXMgbm90IG1hdGNoaW5nIHdpdGggdXNlci5pZCcsXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8vIFJlc29sdmVzIHdoZW4gdG9rZW4gaXMgcmVhZHkuIFRoaXMgZnVuY3Rpb24gaXMgc2ltcGx5IHRvIGNoZWNrIGlmIGxvYWRUb2tlbiBpcyBpbiBwcm9ncmVzcywgaW4gd2hpY2hcbiAgLy8gY2FzZSBhIGZ1bmN0aW9uIHNob3VsZCB3YWl0LlxuICB0b2tlblJlYWR5ID0gKCkgPT4gdGhpcy5sb2FkVG9rZW5Qcm9taXNlO1xuXG4gIC8vIEZldGNoZXMgYSB0b2tlbiBmcm9tIHRva2VuUHJvdmlkZXIgZnVuY3Rpb24gYW5kIHNldHMgaW4gdG9rZW5NYW5hZ2VyLlxuICAvLyBJbiBjYXNlIG9mIHN0YXRpYyB0b2tlbiwgaXQgd2lsbCBzaW1wbHkgcmVzb2x2ZSB0byBzdGF0aWMgdG9rZW4uXG4gIGxvYWRUb2tlbiA9ICgpID0+IHtcbiAgICB0aGlzLmxvYWRUb2tlblByb21pc2UgPSBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBpZiAodGhpcy50eXBlID09PSAnc3RhdGljJykge1xuICAgICAgICByZXR1cm4gcmVzb2x2ZSh0aGlzLnRva2VuIGFzIHN0cmluZyk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLnRva2VuUHJvdmlkZXIgJiYgdHlwZW9mIHRoaXMudG9rZW5Qcm92aWRlciAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB0aGlzLnRva2VuID0gYXdhaXQgdGhpcy50b2tlblByb3ZpZGVyKCk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICByZXR1cm4gcmVqZWN0KFxuICAgICAgICAgICAgbmV3IEVycm9yKGBDYWxsIHRvIHRva2VuUHJvdmlkZXIgZmFpbGVkIHdpdGggbWVzc2FnZTogJHtlfWApLFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgcmVzb2x2ZSh0aGlzLnRva2VuKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiB0aGlzLmxvYWRUb2tlblByb21pc2U7XG4gIH07XG5cbiAgLy8gUmV0dXJucyBhIGN1cnJlbnQgdG9rZW5cbiAgZ2V0VG9rZW4gPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMudG9rZW4pIHtcbiAgICAgIHJldHVybiB0aGlzLnRva2VuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnVzZXIgJiYgIXRoaXMudG9rZW4pIHtcbiAgICAgIHJldHVybiB0aGlzLnRva2VuO1xuICAgIH1cblxuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGBVc2VyIHRva2VuIGlzIG5vdCBzZXQuIEVpdGhlciBjbGllbnQuY29ubmVjdFVzZXIgd2Fzbid0IGNhbGxlZCBvciBjbGllbnQuZGlzY29ubmVjdCB3YXMgY2FsbGVkYCxcbiAgICApO1xuICB9O1xuXG4gIGlzU3RhdGljID0gKCkgPT4gdGhpcy50eXBlID09PSAnc3RhdGljJztcbn1cbiIsImltcG9ydCB7IGdldExvZ2dlciB9IGZyb20gJy4uLy4uL2xvZ2dlcic7XG5cbmV4cG9ydCBjb25zdCBnZXRMb2NhdGlvbkhpbnQgPSBhc3luYyAoXG4gIGhpbnRVcmwgPSBgaHR0cHM6Ly9oaW50LnN0cmVhbS1pby12aWRlby5jb20vYCxcbiAgdGltZW91dCA9IDIwMDAsXG4gIG1heEF0dGVtcHRzID0gMyxcbik6IFByb21pc2U8c3RyaW5nPiA9PiB7XG4gIGNvbnN0IGxvZ2dlciA9IGdldExvZ2dlcihbJ2xvY2F0aW9uLWhpbnQnXSk7XG5cbiAgbGV0IGF0dGVtcHQgPSAwO1xuICBsZXQgbG9jYXRpb25IaW50ID0gJ0VSUic7XG4gIGRvIHtcbiAgICBjb25zdCBhYm9ydENvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgY29uc3QgdGltZW91dElkID0gc2V0VGltZW91dCgoKSA9PiBhYm9ydENvbnRyb2xsZXIuYWJvcnQoKSwgdGltZW91dCk7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goaGludFVybCwge1xuICAgICAgICBtZXRob2Q6ICdIRUFEJyxcbiAgICAgICAgc2lnbmFsOiBhYm9ydENvbnRyb2xsZXIuc2lnbmFsLFxuICAgICAgfSk7XG4gICAgICBjb25zdCBhd3NQb3AgPSByZXNwb25zZS5oZWFkZXJzLmdldCgneC1hbXotY2YtcG9wJykgfHwgJ0VSUic7XG4gICAgICBsb2dnZXIoJ2RlYnVnJywgYExvY2F0aW9uIGhlYWRlcjogJHthd3NQb3B9YCk7XG4gICAgICBsb2NhdGlvbkhpbnQgPSBhd3NQb3Auc3Vic3RyaW5nKDAsIDMpOyAvLyBBTVMxLVAyIC0+IEFNU1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGxvZ2dlcignd2FybicsIGBGYWlsZWQgdG8gZ2V0IGxvY2F0aW9uIGhpbnQgZnJvbSAke2hpbnRVcmx9YCwgZSk7XG4gICAgICBsb2NhdGlvbkhpbnQgPSAnRVJSJztcbiAgICB9IGZpbmFsbHkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG4gICAgfVxuICB9IHdoaWxlIChsb2NhdGlvbkhpbnQgPT09ICdFUlInICYmICsrYXR0ZW1wdCA8IG1heEF0dGVtcHRzKTtcblxuICByZXR1cm4gbG9jYXRpb25IaW50O1xufTtcbiIsImltcG9ydCBheGlvcywge1xuICBBeGlvc0Vycm9yLFxuICBBeGlvc0luc3RhbmNlLFxuICBBeGlvc1JlcXVlc3RDb25maWcsXG4gIEF4aW9zUmVzcG9uc2UsXG59IGZyb20gJ2F4aW9zJztcbmltcG9ydCBodHRwcyBmcm9tICdodHRwcyc7XG5pbXBvcnQgeyBTdGFibGVXU0Nvbm5lY3Rpb24gfSBmcm9tICcuL2Nvbm5lY3Rpb24nO1xuaW1wb3J0IHsgVG9rZW5NYW5hZ2VyIH0gZnJvbSAnLi90b2tlbl9tYW5hZ2VyJztcbmltcG9ydCB7XG4gIGFkZENvbm5lY3Rpb25FdmVudExpc3RlbmVycyxcbiAgaXNFcnJvclJlc3BvbnNlLFxuICBpc0Z1bmN0aW9uLFxuICBLbm93bkNvZGVzLFxuICByYW5kb21JZCxcbiAgcmVtb3ZlQ29ubmVjdGlvbkV2ZW50TGlzdGVuZXJzLFxuICByZXRyeUludGVydmFsLFxuICBzbGVlcCxcbn0gZnJvbSAnLi91dGlscyc7XG5pbXBvcnQge1xuICBBbGxDbGllbnRFdmVudHMsXG4gIEFsbENsaWVudEV2ZW50VHlwZXMsXG4gIEFQSUVycm9yUmVzcG9uc2UsXG4gIENsaWVudEV2ZW50TGlzdGVuZXIsXG4gIENvbm5lY3RBUElSZXNwb25zZSxcbiAgRXJyb3JGcm9tUmVzcG9uc2UsXG4gIExvZ2dlcixcbiAgU3RyZWFtQ2xpZW50T3B0aW9ucyxcbiAgU3RyZWFtVmlkZW9FdmVudCxcbiAgVG9rZW5PclByb3ZpZGVyLFxuICBVc2VyLFxuICBVc2VyV2l0aElkLFxufSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7IGdldExvY2F0aW9uSGludCB9IGZyb20gJy4vbG9jYXRpb24nO1xuaW1wb3J0IHtcbiAgQ29ubmVjdGVkRXZlbnQsXG4gIENyZWF0ZUd1ZXN0UmVxdWVzdCxcbiAgQ3JlYXRlR3Vlc3RSZXNwb25zZSxcbn0gZnJvbSAnLi4vLi4vZ2VuL2Nvb3JkaW5hdG9yJztcbmltcG9ydCB7IG1ha2VTYWZlUHJvbWlzZSwgdHlwZSBTYWZlUHJvbWlzZSB9IGZyb20gJy4uLy4uL2hlbHBlcnMvcHJvbWlzZSc7XG5cbmV4cG9ydCBjbGFzcyBTdHJlYW1DbGllbnQge1xuICBfdXNlcj86IFVzZXJXaXRoSWQ7XG4gIGFub255bW91czogYm9vbGVhbjtcbiAgcGVyc2lzdFVzZXJPbkNvbm5lY3Rpb25GYWlsdXJlPzogYm9vbGVhbjtcbiAgYXhpb3NJbnN0YW5jZTogQXhpb3NJbnN0YW5jZTtcbiAgYmFzZVVSTD86IHN0cmluZztcbiAgYnJvd3NlcjogYm9vbGVhbjtcbiAgY2xpZW50SUQ/OiBzdHJpbmc7XG4gIGtleTogc3RyaW5nO1xuICBsaXN0ZW5lcnM6IFBhcnRpYWw8XG4gICAgUmVjb3JkPEFsbENsaWVudEV2ZW50VHlwZXMsIENsaWVudEV2ZW50TGlzdGVuZXI8YW55PltdIHwgdW5kZWZpbmVkPlxuICA+ID0ge307XG4gIGxvZ2dlcjogTG9nZ2VyO1xuXG4gIHByaXZhdGUgbG9jYXRpb25IaW50OiBQcm9taXNlPHN0cmluZz4gfCB1bmRlZmluZWQ7XG5cbiAgbm9kZTogYm9vbGVhbjtcbiAgb3B0aW9uczogU3RyZWFtQ2xpZW50T3B0aW9ucztcbiAgc2VjcmV0Pzogc3RyaW5nO1xuICBzZXRVc2VyUHJvbWlzZTogQ29ubmVjdEFQSVJlc3BvbnNlIHwgbnVsbDtcbiAgdG9rZW5NYW5hZ2VyOiBUb2tlbk1hbmFnZXI7XG4gIHVzZXI/OiBVc2VyV2l0aElkO1xuICB1c2VyQWdlbnQ/OiBzdHJpbmc7XG4gIHVzZXJJRD86IHN0cmluZztcbiAgd3NCYXNlVVJMPzogc3RyaW5nO1xuICB3c0Nvbm5lY3Rpb246IFN0YWJsZVdTQ29ubmVjdGlvbiB8IG51bGw7XG4gIHByaXZhdGUgd3NQcm9taXNlU2FmZTogU2FmZVByb21pc2U8Q29ubmVjdGVkRXZlbnQgfCB1bmRlZmluZWQ+IHwgbnVsbDtcbiAgY29uc2VjdXRpdmVGYWlsdXJlczogbnVtYmVyO1xuICBkZWZhdWx0V1NUaW1lb3V0OiBudW1iZXI7XG4gIHJlc29sdmVDb25uZWN0aW9uSWQ/OiBGdW5jdGlvbjtcbiAgcmVqZWN0Q29ubmVjdGlvbklkPzogRnVuY3Rpb247XG4gIHByaXZhdGUgY29ubmVjdGlvbklkUHJvbWlzZVNhZmU/OiBTYWZlUHJvbWlzZTxzdHJpbmcgfCB1bmRlZmluZWQ+O1xuICBndWVzdFVzZXJDcmVhdGVQcm9taXNlPzogUHJvbWlzZTxDcmVhdGVHdWVzdFJlc3BvbnNlPjtcblxuICAvKipcbiAgICogSW5pdGlhbGl6ZSBhIGNsaWVudC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSAtIHRoZSBhcGkga2V5XG4gICAqIEBwYXJhbSB7U3RyZWFtQ2xpZW50T3B0aW9uc30gW29wdGlvbnNdIC0gYWRkaXRpb25hbCBvcHRpb25zLCBoZXJlIHlvdSBjYW4gcGFzcyBjdXN0b20gb3B0aW9ucyB0byBheGlvcyBpbnN0YW5jZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMuc2VjcmV0XSAtIHRoZSBhcGkgc2VjcmV0XG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYnJvd3Nlcl0gLSBlbmZvcmNlIHRoZSBjbGllbnQgdG8gYmUgaW4gYnJvd3NlciBtb2RlXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMud2FybVVwXSAtIGRlZmF1bHQgdG8gZmFsc2UsIGlmIHRydWUsIGNsaWVudCB3aWxsIG9wZW4gYSBjb25uZWN0aW9uIGFzIHNvb24gYXMgcG9zc2libGUgdG8gc3BlZWQgdXAgZm9sbG93aW5nIHJlcXVlc3RzXG4gICAqIEBwYXJhbSB7TG9nZ2VyfSBbb3B0aW9ucy5Mb2dnZXJdIC0gY3VzdG9tIGxvZ2dlclxuICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMudGltZW91dF0gLSBkZWZhdWx0IHRvIDMwMDBcbiAgICogQHBhcmFtIHtodHRwc0FnZW50fSBbb3B0aW9ucy5odHRwc0FnZW50XSAtIGN1c3RvbSBodHRwc0FnZW50LCBpbiBub2RlIGl0J3MgZGVmYXVsdCB0byBodHRwcy5hZ2VudCgpXG4gICAqL1xuICBjb25zdHJ1Y3RvcihrZXk6IHN0cmluZywgb3B0aW9ucz86IFN0cmVhbUNsaWVudE9wdGlvbnMpIHtcbiAgICAvLyBzZXQgdGhlIGtleVxuICAgIHRoaXMua2V5ID0ga2V5O1xuXG4gICAgLy8gc2V0IHRoZSBzZWNyZXRcbiAgICB0aGlzLnNlY3JldCA9IG9wdGlvbnM/LnNlY3JldDtcblxuICAgIC8vIHNldCB0aGUgb3B0aW9ucy4uLiBhbmQgZmlndXJlIG91dCBkZWZhdWx0cy4uLlxuICAgIGNvbnN0IGlucHV0T3B0aW9ucyA9IG9wdGlvbnNcbiAgICAgID8gb3B0aW9uc1xuICAgICAgOiAoe1xuICAgICAgICAgIGJyb3dzZXI6IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnLFxuICAgICAgICB9IGFzIFBhcnRpYWw8U3RyZWFtQ2xpZW50T3B0aW9ucz4pO1xuXG4gICAgdGhpcy5icm93c2VyID0gaW5wdXRPcHRpb25zLmJyb3dzZXIgfHwgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCc7XG4gICAgdGhpcy5ub2RlID0gIXRoaXMuYnJvd3NlcjtcblxuICAgIGlmICh0aGlzLmJyb3dzZXIpIHtcbiAgICAgIHRoaXMubG9jYXRpb25IaW50ID0gZ2V0TG9jYXRpb25IaW50KFxuICAgICAgICBvcHRpb25zPy5sb2NhdGlvbkhpbnRVcmwsXG4gICAgICAgIG9wdGlvbnM/LmxvY2F0aW9uSGludFRpbWVvdXQsXG4gICAgICAgIG9wdGlvbnM/LmxvY2F0aW9uSGludE1heEF0dGVtcHRzLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICB0aGlzLm9wdGlvbnMgPSB7XG4gICAgICB0aW1lb3V0OiA1MDAwLFxuICAgICAgd2l0aENyZWRlbnRpYWxzOiBmYWxzZSwgLy8gbWFraW5nIHN1cmUgY29va2llcyBhcmUgbm90IHNlbnRcbiAgICAgIC4uLmlucHV0T3B0aW9ucyxcbiAgICB9O1xuXG4gICAgaWYgKHRoaXMubm9kZSAmJiAhdGhpcy5vcHRpb25zLmh0dHBzQWdlbnQpIHtcbiAgICAgIHRoaXMub3B0aW9ucy5odHRwc0FnZW50ID0gbmV3IGh0dHBzLkFnZW50KHtcbiAgICAgICAga2VlcEFsaXZlOiB0cnVlLFxuICAgICAgICBrZWVwQWxpdmVNc2VjczogMzAwMCxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHRoaXMuc2V0QmFzZVVSTChcbiAgICAgIHRoaXMub3B0aW9ucy5iYXNlVVJMIHx8ICdodHRwczovL3ZpZGVvLnN0cmVhbS1pby1hcGkuY29tL3ZpZGVvJyxcbiAgICApO1xuXG4gICAgdGhpcy5heGlvc0luc3RhbmNlID0gYXhpb3MuY3JlYXRlKHtcbiAgICAgIC4uLnRoaXMub3B0aW9ucyxcbiAgICAgIGJhc2VVUkw6IHRoaXMuYmFzZVVSTCxcbiAgICB9KTtcblxuICAgIC8vIFdTIGNvbm5lY3Rpb24gaXMgaW5pdGlhbGl6ZWQgd2hlbiBzZXRVc2VyIGlzIGNhbGxlZFxuICAgIHRoaXMud3NDb25uZWN0aW9uID0gbnVsbDtcbiAgICB0aGlzLndzUHJvbWlzZVNhZmUgPSBudWxsO1xuICAgIHRoaXMuc2V0VXNlclByb21pc2UgPSBudWxsO1xuXG4gICAgLy8gbWFwcGluZyBiZXR3ZWVuIGNoYW5uZWwgZ3JvdXBzIGFuZCBjb25maWdzXG4gICAgdGhpcy5hbm9ueW1vdXMgPSBmYWxzZTtcbiAgICB0aGlzLnBlcnNpc3RVc2VyT25Db25uZWN0aW9uRmFpbHVyZSA9XG4gICAgICB0aGlzLm9wdGlvbnM/LnBlcnNpc3RVc2VyT25Db25uZWN0aW9uRmFpbHVyZTtcblxuICAgIC8vIElmIGl0IGlzIGEgc2VydmVyLXNpZGUgY2xpZW50LCB0aGVuIGxldHMgaW5pdGlhbGl6ZSB0aGUgdG9rZW5NYW5hZ2VyLCBzaW5jZSB0b2tlbiB3aWxsIGJlXG4gICAgLy8gZ2VuZXJhdGVkIGZyb20gc2VjcmV0LlxuICAgIHRoaXMudG9rZW5NYW5hZ2VyID0gbmV3IFRva2VuTWFuYWdlcih0aGlzLnNlY3JldCk7XG4gICAgdGhpcy5jb25zZWN1dGl2ZUZhaWx1cmVzID0gMDtcblxuICAgIHRoaXMuZGVmYXVsdFdTVGltZW91dCA9IDE1MDAwO1xuXG4gICAgdGhpcy5sb2dnZXIgPSBpc0Z1bmN0aW9uKGlucHV0T3B0aW9ucy5sb2dnZXIpXG4gICAgICA/IGlucHV0T3B0aW9ucy5sb2dnZXJcbiAgICAgIDogKCkgPT4gbnVsbDtcbiAgfVxuXG4gIGdldEF1dGhUeXBlID0gKCkgPT4ge1xuICAgIHJldHVybiB0aGlzLmFub255bW91cyA/ICdhbm9ueW1vdXMnIDogJ2p3dCc7XG4gIH07XG5cbiAgc2V0QmFzZVVSTCA9IChiYXNlVVJMOiBzdHJpbmcpID0+IHtcbiAgICB0aGlzLmJhc2VVUkwgPSBiYXNlVVJMO1xuICAgIHRoaXMud3NCYXNlVVJMID0gdGhpcy5iYXNlVVJMXG4gICAgICAucmVwbGFjZSgnaHR0cCcsICd3cycpXG4gICAgICAucmVwbGFjZSgnOjMwMzAnLCAnOjg4MDAnKTtcbiAgfTtcblxuICBnZXRMb2NhdGlvbkhpbnQgPSBhc3luYyAoXG4gICAgaGludFVybD86IHN0cmluZyxcbiAgICB0aW1lb3V0PzogbnVtYmVyLFxuICApOiBQcm9taXNlPHN0cmluZz4gPT4ge1xuICAgIGNvbnN0IGhpbnQgPSBhd2FpdCB0aGlzLmxvY2F0aW9uSGludDtcbiAgICBpZiAoIWhpbnQgfHwgaGludCA9PT0gJ0VSUicpIHtcbiAgICAgIHRoaXMubG9jYXRpb25IaW50ID0gZ2V0TG9jYXRpb25IaW50KFxuICAgICAgICBoaW50VXJsID8/IHRoaXMub3B0aW9ucy5sb2NhdGlvbkhpbnRVcmwsXG4gICAgICAgIHRpbWVvdXQgPz8gdGhpcy5vcHRpb25zLmxvY2F0aW9uSGludFRpbWVvdXQsXG4gICAgICApO1xuICAgICAgcmV0dXJuIHRoaXMubG9jYXRpb25IaW50O1xuICAgIH1cbiAgICByZXR1cm4gaGludDtcbiAgfTtcblxuICBfZ2V0Q29ubmVjdGlvbklEID0gKCkgPT4gdGhpcy53c0Nvbm5lY3Rpb24/LmNvbm5lY3Rpb25JRDtcblxuICBfaGFzQ29ubmVjdGlvbklEID0gKCkgPT4gQm9vbGVhbih0aGlzLl9nZXRDb25uZWN0aW9uSUQoKSk7XG5cbiAgLyoqXG4gICAqIGNvbm5lY3RVc2VyIC0gU2V0IHRoZSBjdXJyZW50IHVzZXIgYW5kIG9wZW4gYSBXZWJTb2NrZXQgY29ubmVjdGlvblxuICAgKlxuICAgKiBAcGFyYW0gdXNlciBEYXRhIGFib3V0IHRoaXMgdXNlci4gSUUge25hbWU6IFwiam9oblwifVxuICAgKiBAcGFyYW0ge1Rva2VuT3JQcm92aWRlcn0gdXNlclRva2VuT3JQcm92aWRlciBUb2tlbiBvciBwcm92aWRlclxuICAgKlxuICAgKiBAcmV0dXJuIHtDb25uZWN0QVBJUmVzcG9uc2V9IFJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2hlbiB0aGUgY29ubmVjdGlvbiBpcyBzZXR1cFxuICAgKi9cbiAgY29ubmVjdFVzZXIgPSBhc3luYyAoXG4gICAgdXNlcjogVXNlcldpdGhJZCxcbiAgICB1c2VyVG9rZW5PclByb3ZpZGVyOiBUb2tlbk9yUHJvdmlkZXIsXG4gICkgPT4ge1xuICAgIGlmICghdXNlci5pZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgXCJpZFwiIGZpZWxkIG9uIHRoZSB1c2VyIGlzIG1pc3NpbmcnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxsaW5nIGNvbm5lY3RVc2VyIG11bHRpcGxlIHRpbWVzIGlzIHBvdGVudGlhbGx5IHRoZSByZXN1bHQgb2YgYSAgYmFkIGludGVncmF0aW9uLCBob3dldmVyLFxuICAgICAqIElmIHRoZSB1c2VyIGlkIHJlbWFpbnMgdGhlIHNhbWUgd2UgZG9uJ3QgdGhyb3cgZXJyb3JcbiAgICAgKi9cbiAgICBpZiAodGhpcy51c2VySUQgPT09IHVzZXIuaWQgJiYgdGhpcy5zZXRVc2VyUHJvbWlzZSkge1xuICAgICAgdGhpcy5sb2dnZXIoXG4gICAgICAgICd3YXJuJyxcbiAgICAgICAgJ0NvbnNlY3V0aXZlIGNhbGxzIHRvIGNvbm5lY3RVc2VyIGlzIGRldGVjdGVkLCBpZGVhbGx5IHlvdSBzaG91bGQgb25seSBjYWxsIHRoaXMgZnVuY3Rpb24gb25jZSBpbiB5b3VyIGFwcC4nLFxuICAgICAgKTtcbiAgICAgIHJldHVybiB0aGlzLnNldFVzZXJQcm9taXNlO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnVzZXJJRCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnVXNlIGNsaWVudC5kaXNjb25uZWN0KCkgYmVmb3JlIHRyeWluZyB0byBjb25uZWN0IGFzIGEgZGlmZmVyZW50IHVzZXIuIGNvbm5lY3RVc2VyIHdhcyBjYWxsZWQgdHdpY2UuJyxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgKHRoaXMuX2lzVXNpbmdTZXJ2ZXJBdXRoKCkgfHwgdGhpcy5ub2RlKSAmJlxuICAgICAgIXRoaXMub3B0aW9ucy5hbGxvd1NlcnZlclNpZGVDb25uZWN0XG4gICAgKSB7XG4gICAgICB0aGlzLmxvZ2dlcihcbiAgICAgICAgJ3dhcm4nLFxuICAgICAgICAnUGxlYXNlIGRvIG5vdCB1c2UgY29ubmVjdFVzZXIgc2VydmVyIHNpZGUuIFVzZSBvdXIgQHN0cmVhbS1pby9ub2RlLXNkayBpbnN0ZWFkOiBodHRwczovL2dldHN0cmVhbS5pby92aWRlby9kb2NzL2FwaS8nLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyB3ZSBnZW5lcmF0ZSB0aGUgY2xpZW50IGlkIGNsaWVudCBzaWRlXG4gICAgdGhpcy51c2VySUQgPSB1c2VyLmlkO1xuICAgIHRoaXMuYW5vbnltb3VzID0gZmFsc2U7XG5cbiAgICBjb25zdCBzZXRUb2tlblByb21pc2UgPSB0aGlzLl9zZXRUb2tlbihcbiAgICAgIHVzZXIsXG4gICAgICB1c2VyVG9rZW5PclByb3ZpZGVyLFxuICAgICAgdGhpcy5hbm9ueW1vdXMsXG4gICAgKTtcbiAgICB0aGlzLl9zZXRVc2VyKHVzZXIpO1xuXG4gICAgY29uc3Qgd3NQcm9taXNlID0gdGhpcy5vcGVuQ29ubmVjdGlvbigpO1xuXG4gICAgdGhpcy5zZXRVc2VyUHJvbWlzZSA9IFByb21pc2UuYWxsKFtzZXRUb2tlblByb21pc2UsIHdzUHJvbWlzZV0pLnRoZW4oXG4gICAgICAocmVzdWx0KSA9PiByZXN1bHRbMV0sIC8vIFdlIG9ubHkgcmV0dXJuIGNvbm5lY3Rpb24gcHJvbWlzZTtcbiAgICApO1xuXG4gICAgdHJ5IHtcbiAgICAgIGFkZENvbm5lY3Rpb25FdmVudExpc3RlbmVycyh0aGlzLnVwZGF0ZU5ldHdvcmtDb25uZWN0aW9uU3RhdHVzKTtcbiAgICAgIHJldHVybiBhd2FpdCB0aGlzLnNldFVzZXJQcm9taXNlO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgaWYgKHRoaXMucGVyc2lzdFVzZXJPbkNvbm5lY3Rpb25GYWlsdXJlKSB7XG4gICAgICAgIC8vIGNsZWFudXAgY2xpZW50IHRvIGFsbG93IHRoZSB1c2VyIHRvIHJldHJ5IGNvbm5lY3RVc2VyIGFnYWluXG4gICAgICAgIHRoaXMuY2xvc2VDb25uZWN0aW9uKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmRpc2Nvbm5lY3RVc2VyKCk7XG4gICAgICB9XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfVxuICB9O1xuXG4gIF9zZXRUb2tlbiA9IChcbiAgICB1c2VyOiBVc2VyV2l0aElkLFxuICAgIHVzZXJUb2tlbk9yUHJvdmlkZXI6IFRva2VuT3JQcm92aWRlcixcbiAgICBpc0Fub255bW91czogYm9vbGVhbixcbiAgKSA9PlxuICAgIHRoaXMudG9rZW5NYW5hZ2VyLnNldFRva2VuT3JQcm92aWRlcihcbiAgICAgIHVzZXJUb2tlbk9yUHJvdmlkZXIsXG4gICAgICB1c2VyLFxuICAgICAgaXNBbm9ueW1vdXMsXG4gICAgKTtcblxuICBfc2V0VXNlciA9ICh1c2VyOiBVc2VyV2l0aElkKSA9PiB7XG4gICAgLyoqXG4gICAgICogVGhpcyBvbmUgaXMgdXNlZCBieSB0aGUgZnJvbnRlbmQuIFRoaXMgaXMgYSBjb3B5IG9mIHRoZSBjdXJyZW50IHVzZXIgb2JqZWN0IHN0b3JlZCBvbiBiYWNrZW5kLlxuICAgICAqIEl0IGNvbnRhaW5zIHJlc2VydmVkIHByb3BlcnRpZXMgYW5kIG93biB1c2VyIHByb3BlcnRpZXMgd2hpY2ggYXJlIG5vdCBwcmVzZW50IGluIGB0aGlzLl91c2VyYC5cbiAgICAgKi9cbiAgICB0aGlzLnVzZXIgPSB1c2VyO1xuICAgIHRoaXMudXNlcklEID0gdXNlci5pZDtcbiAgICAvLyB0aGlzIG9uZSBpcyBhY3R1YWxseSB1c2VkIGZvciByZXF1ZXN0cy4gVGhpcyBpcyBhIGNvcHkgb2YgY3VycmVudCB1c2VyIHByb3ZpZGVkIHRvIGBjb25uZWN0VXNlcmAgZnVuY3Rpb24uXG4gICAgdGhpcy5fdXNlciA9IHsgLi4udXNlciB9O1xuICB9O1xuXG4gIC8qKlxuICAgKiBEaXNjb25uZWN0cyB0aGUgd2Vic29ja2V0IGNvbm5lY3Rpb24sIHdpdGhvdXQgcmVtb3ZpbmcgdGhlIHVzZXIgc2V0IG9uIGNsaWVudC5cbiAgICogY2xpZW50LmNsb3NlQ29ubmVjdGlvbiB3aWxsIG5vdCB0cmlnZ2VyIGRlZmF1bHQgYXV0by1yZXRyeSBtZWNoYW5pc20gZm9yIHJlY29ubmVjdGlvbi4gWW91IG5lZWRcbiAgICogdG8gY2FsbCBjbGllbnQub3BlbkNvbm5lY3Rpb24gdG8gcmVjb25uZWN0IHRvIHdlYnNvY2tldC5cbiAgICpcbiAgICogVGhpcyBpcyBtYWlubHkgdXNlZnVsIG9uIG1vYmlsZSBzaWRlLiBZb3UgY2FuIG9ubHkgcmVjZWl2ZSBwdXNoIG5vdGlmaWNhdGlvbnNcbiAgICogaWYgeW91IGRvbid0IGhhdmUgYWN0aXZlIHdlYnNvY2tldCBjb25uZWN0aW9uLlxuICAgKiBTbyB3aGVuIHlvdXIgYXBwIGdvZXMgdG8gYmFja2dyb3VuZCwgeW91IGNhbiBjYWxsIGBjbGllbnQuY2xvc2VDb25uZWN0aW9uYC5cbiAgICogQW5kIHdoZW4gYXBwIGNvbWVzIGJhY2sgdG8gZm9yZWdyb3VuZCwgY2FsbCBgY2xpZW50Lm9wZW5Db25uZWN0aW9uYC5cbiAgICpcbiAgICogQHBhcmFtIHRpbWVvdXQgTWF4IG51bWJlciBvZiBtcywgdG8gd2FpdCBmb3IgY2xvc2UgZXZlbnQgb2Ygd2Vic29ja2V0LCBiZWZvcmUgZm9yY2VmdWxseSBhc3N1bWluZyBzdWNjZXNmdWwgZGlzY29ubmVjdGlvbi5cbiAgICogICAgICAgICAgICAgICAgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0Nsb3NlRXZlbnRcbiAgICovXG4gIGNsb3NlQ29ubmVjdGlvbiA9IGFzeW5jICh0aW1lb3V0PzogbnVtYmVyKSA9PiB7XG4gICAgYXdhaXQgdGhpcy53c0Nvbm5lY3Rpb24/LmRpc2Nvbm5lY3QodGltZW91dCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgV2ViU29ja2V0IGNvbm5lY3Rpb24gd2l0aCB0aGUgY3VycmVudCB1c2VyLiBSZXR1cm5zIGVtcHR5IHByb21pc2UsIGlmIHRoZXJlIGlzIGFuIGFjdGl2ZSBjb25uZWN0aW9uXG4gICAqL1xuICBvcGVuQ29ubmVjdGlvbiA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAoIXRoaXMudXNlcklEKSB7XG4gICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgJ1VzZXJXaXRoSWQgaXMgbm90IHNldCBvbiBjbGllbnQsIHVzZSBjbGllbnQuY29ubmVjdFVzZXIgb3IgY2xpZW50LmNvbm5lY3RBbm9ueW1vdXNVc2VyIGluc3RlYWQnLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBjb25zdCB3c1Byb21pc2UgPSB0aGlzLndzUHJvbWlzZVNhZmU/LigpO1xuICAgIGlmICh0aGlzLndzQ29ubmVjdGlvbj8uaXNDb25uZWN0aW5nICYmIHdzUHJvbWlzZSkge1xuICAgICAgdGhpcy5sb2dnZXIoXG4gICAgICAgICdpbmZvJyxcbiAgICAgICAgJ2NsaWVudDpvcGVuQ29ubmVjdGlvbigpIC0gY29ubmVjdGlvbiBhbHJlYWR5IGluIHByb2dyZXNzJyxcbiAgICAgICk7XG4gICAgICByZXR1cm4gYXdhaXQgd3NQcm9taXNlO1xuICAgIH1cblxuICAgIGlmICh0aGlzLndzQ29ubmVjdGlvbj8uaXNIZWFsdGh5ICYmIHRoaXMuX2hhc0Nvbm5lY3Rpb25JRCgpKSB7XG4gICAgICB0aGlzLmxvZ2dlcihcbiAgICAgICAgJ2luZm8nLFxuICAgICAgICAnY2xpZW50Om9wZW5Db25uZWN0aW9uKCkgLSBvcGVuQ29ubmVjdGlvbiBjYWxsZWQgdHdpY2UsIGhlYWx0aHkgY29ubmVjdGlvbiBhbHJlYWR5IGV4aXN0cycsXG4gICAgICApO1xuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgYXdhaXQgdGhpcy5fc2V0dXBDb25uZWN0aW9uSWRQcm9taXNlKCk7XG5cbiAgICB0aGlzLmNsaWVudElEID0gYCR7dGhpcy51c2VySUR9LS0ke3JhbmRvbUlkKCl9YDtcbiAgICBjb25zdCBuZXdXc1Byb21pc2UgPSB0aGlzLmNvbm5lY3QoKTtcbiAgICB0aGlzLndzUHJvbWlzZVNhZmUgPSBtYWtlU2FmZVByb21pc2UobmV3V3NQcm9taXNlKTtcbiAgICByZXR1cm4gYXdhaXQgbmV3V3NQcm9taXNlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBEaXNjb25uZWN0cyB0aGUgd2Vic29ja2V0IGFuZCByZW1vdmVzIHRoZSB1c2VyIGZyb20gY2xpZW50LlxuICAgKlxuICAgKiBAcGFyYW0gdGltZW91dCBNYXggbnVtYmVyIG9mIG1zLCB0byB3YWl0IGZvciBjbG9zZSBldmVudCBvZiB3ZWJzb2NrZXQsIGJlZm9yZSBmb3JjZWZ1bGx5IGFzc3VtaW5nIHN1Y2Nlc3NmdWwgZGlzY29ubmVjdGlvbi5cbiAgICogICAgICAgICAgICAgICAgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0Nsb3NlRXZlbnRcbiAgICovXG4gIGRpc2Nvbm5lY3RVc2VyID0gYXN5bmMgKHRpbWVvdXQ/OiBudW1iZXIpID0+IHtcbiAgICB0aGlzLmxvZ2dlcignaW5mbycsICdjbGllbnQ6ZGlzY29ubmVjdCgpIC0gRGlzY29ubmVjdGluZyB0aGUgY2xpZW50Jyk7XG5cbiAgICAvLyByZW1vdmUgdGhlIHVzZXIgc3BlY2lmaWMgZmllbGRzXG4gICAgZGVsZXRlIHRoaXMudXNlcjtcbiAgICBkZWxldGUgdGhpcy5fdXNlcjtcbiAgICBkZWxldGUgdGhpcy51c2VySUQ7XG5cbiAgICB0aGlzLmFub255bW91cyA9IGZhbHNlO1xuXG4gICAgYXdhaXQgdGhpcy5jbG9zZUNvbm5lY3Rpb24odGltZW91dCk7XG4gICAgcmVtb3ZlQ29ubmVjdGlvbkV2ZW50TGlzdGVuZXJzKHRoaXMudXBkYXRlTmV0d29ya0Nvbm5lY3Rpb25TdGF0dXMpO1xuXG4gICAgdGhpcy50b2tlbk1hbmFnZXIucmVzZXQoKTtcblxuICAgIHRoaXMuY29ubmVjdGlvbklkUHJvbWlzZVNhZmUgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5yZWplY3RDb25uZWN0aW9uSWQgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5yZXNvbHZlQ29ubmVjdGlvbklkID0gdW5kZWZpbmVkO1xuICB9O1xuXG4gIGNvbm5lY3RHdWVzdFVzZXIgPSBhc3luYyAodXNlcjogVXNlciAmIHsgdHlwZTogJ2d1ZXN0JyB9KSA9PiB7XG4gICAgdGhpcy5ndWVzdFVzZXJDcmVhdGVQcm9taXNlID0gdGhpcy5kb0F4aW9zUmVxdWVzdDxcbiAgICAgIENyZWF0ZUd1ZXN0UmVzcG9uc2UsXG4gICAgICBDcmVhdGVHdWVzdFJlcXVlc3RcbiAgICA+KCdwb3N0JywgJy9ndWVzdCcsIHsgdXNlciB9LCB7IHB1YmxpY0VuZHBvaW50OiB0cnVlIH0pO1xuXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmd1ZXN0VXNlckNyZWF0ZVByb21pc2U7XG4gICAgdGhpcy5ndWVzdFVzZXJDcmVhdGVQcm9taXNlLmZpbmFsbHkoXG4gICAgICAoKSA9PiAodGhpcy5ndWVzdFVzZXJDcmVhdGVQcm9taXNlID0gdW5kZWZpbmVkKSxcbiAgICApO1xuXG4gICAgcmV0dXJuIHRoaXMuY29ubmVjdFVzZXIocmVzcG9uc2UudXNlciwgcmVzcG9uc2UuYWNjZXNzX3Rva2VuKTtcbiAgfTtcblxuICAvKipcbiAgICogY29ubmVjdEFub255bW91c1VzZXIgLSBTZXQgYW4gYW5vbnltb3VzIHVzZXIgYW5kIG9wZW4gYSBXZWJTb2NrZXQgY29ubmVjdGlvblxuICAgKi9cbiAgY29ubmVjdEFub255bW91c1VzZXIgPSBhc3luYyAoXG4gICAgdXNlcjogVXNlcldpdGhJZCxcbiAgICB0b2tlbk9yUHJvdmlkZXI6IFRva2VuT3JQcm92aWRlcixcbiAgKSA9PiB7XG4gICAgYWRkQ29ubmVjdGlvbkV2ZW50TGlzdGVuZXJzKHRoaXMudXBkYXRlTmV0d29ya0Nvbm5lY3Rpb25TdGF0dXMpO1xuICAgIGF3YWl0IHRoaXMuX3NldHVwQ29ubmVjdGlvbklkUHJvbWlzZSgpO1xuXG4gICAgdGhpcy5hbm9ueW1vdXMgPSB0cnVlO1xuICAgIGF3YWl0IHRoaXMuX3NldFRva2VuKHVzZXIsIHRva2VuT3JQcm92aWRlciwgdGhpcy5hbm9ueW1vdXMpO1xuXG4gICAgdGhpcy5fc2V0VXNlcih1c2VyKTtcbiAgICAvLyBzb21lIGVuZHBvaW50cyByZXF1aXJlIGEgY29ubmVjdGlvbl9pZCB0byBiZSByZXNvbHZlZC5cbiAgICAvLyBhcyBhbm9ueW1vdXMgdXNlcnMgYXJlbid0IGFsbG93ZWQgdG8gb3BlbiBXUyBjb25uZWN0aW9ucywgd2UganVzdFxuICAgIC8vIHJlc29sdmUgdGhlIGNvbm5lY3Rpb25faWQgaGVyZS5cbiAgICB0aGlzLnJlc29sdmVDb25uZWN0aW9uSWQ/LigpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBvbiAtIExpc3RlbiB0byBldmVudHMgb24gYWxsIGNoYW5uZWxzIGFuZCB1c2VycyB5b3VyIHdhdGNoaW5nXG4gICAqXG4gICAqIGNsaWVudC5vbignbWVzc2FnZS5uZXcnLCBldmVudCA9PiB7Y29uc29sZS5sb2coXCJteSBuZXcgbWVzc2FnZVwiLCBldmVudCwgY2hhbm5lbC5zdGF0ZS5tZXNzYWdlcyl9KVxuICAgKlxuICAgKiBAcGFyYW0gZXZlbnROYW1lIFRoZSBldmVudCB0eXBlIHRvIGxpc3RlbiBmb3IgKG9wdGlvbmFsKVxuICAgKiBAcGFyYW0gY2FsbGJhY2sgVGhlIGNhbGxiYWNrIHRvIGNhbGxcbiAgICpcbiAgICogQHJldHVybiAgUmV0dXJucyBhIGZ1bmN0aW9uIHdoaWNoLCB3aGVuIGNhbGxlZCwgdW5zdWJzY3JpYmVzIHRoZSBldmVudCBoYW5kbGVyLlxuICAgKi9cbiAgb24gPSA8RSBleHRlbmRzIGtleW9mIEFsbENsaWVudEV2ZW50cz4oXG4gICAgZXZlbnROYW1lOiBFLFxuICAgIGNhbGxiYWNrOiBDbGllbnRFdmVudExpc3RlbmVyPEU+LFxuICApID0+IHtcbiAgICBpZiAoIXRoaXMubGlzdGVuZXJzW2V2ZW50TmFtZV0pIHtcbiAgICAgIHRoaXMubGlzdGVuZXJzW2V2ZW50TmFtZV0gPSBbXTtcbiAgICB9XG5cbiAgICB0aGlzLmxvZ2dlcignZGVidWcnLCBgQWRkaW5nIGxpc3RlbmVyIGZvciAke2V2ZW50TmFtZX0gZXZlbnRgKTtcbiAgICB0aGlzLmxpc3RlbmVyc1tldmVudE5hbWVdPy5wdXNoKGNhbGxiYWNrIGFzIENsaWVudEV2ZW50TGlzdGVuZXI8YW55Pik7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHRoaXMub2ZmKGV2ZW50TmFtZSwgY2FsbGJhY2spO1xuICAgIH07XG4gIH07XG5cbiAgLyoqXG4gICAqIG9mZiAtIFJlbW92ZSB0aGUgZXZlbnQgaGFuZGxlclxuICAgKi9cbiAgb2ZmID0gPEUgZXh0ZW5kcyBrZXlvZiBBbGxDbGllbnRFdmVudHM+KFxuICAgIGV2ZW50TmFtZTogRSxcbiAgICBjYWxsYmFjazogQ2xpZW50RXZlbnRMaXN0ZW5lcjxFPixcbiAgKSA9PiB7XG4gICAgaWYgKCF0aGlzLmxpc3RlbmVyc1tldmVudE5hbWVdKSB7XG4gICAgICB0aGlzLmxpc3RlbmVyc1tldmVudE5hbWVdID0gW107XG4gICAgfVxuXG4gICAgdGhpcy5sb2dnZXIoJ2RlYnVnJywgYFJlbW92aW5nIGxpc3RlbmVyIGZvciAke2V2ZW50TmFtZX0gZXZlbnRgKTtcbiAgICB0aGlzLmxpc3RlbmVyc1tldmVudE5hbWVdID0gdGhpcy5saXN0ZW5lcnNbZXZlbnROYW1lXT8uZmlsdGVyKFxuICAgICAgKHZhbHVlKSA9PiB2YWx1ZSAhPT0gY2FsbGJhY2ssXG4gICAgKTtcbiAgfTtcblxuICAvKipcbiAgICogc2V0cyB1cCB0aGUgdGhpcy5jb25uZWN0aW9uSWRQcm9taXNlXG4gICAqL1xuICBfc2V0dXBDb25uZWN0aW9uSWRQcm9taXNlID0gKCkgPT4ge1xuICAgIC8qKiBhIHByb21pc2UgdGhhdCBpcyByZXNvbHZlZCBvbmNlIGNvbm5lY3Rpb24gaWQgaXMgc2V0ICovXG4gICAgdGhpcy5jb25uZWN0aW9uSWRQcm9taXNlU2FmZSA9IG1ha2VTYWZlUHJvbWlzZShcbiAgICAgIG5ldyBQcm9taXNlPHN0cmluZyB8IHVuZGVmaW5lZD4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICB0aGlzLnJlc29sdmVDb25uZWN0aW9uSWQgPSByZXNvbHZlO1xuICAgICAgICB0aGlzLnJlamVjdENvbm5lY3Rpb25JZCA9IHJlamVjdDtcbiAgICAgIH0pLFxuICAgICk7XG4gIH07XG5cbiAgZ2V0IGNvbm5lY3Rpb25JZFByb21pc2UoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29ubmVjdGlvbklkUHJvbWlzZVNhZmU/LigpO1xuICB9XG5cbiAgZ2V0IGlzQ29ubmVjdGlvbklzUHJvbWlzZVBlbmRpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29ubmVjdGlvbklkUHJvbWlzZVNhZmU/LmNoZWNrUGVuZGluZygpID8/IGZhbHNlO1xuICB9XG5cbiAgZ2V0IHdzUHJvbWlzZSgpIHtcbiAgICByZXR1cm4gdGhpcy53c1Byb21pc2VTYWZlPy4oKTtcbiAgfVxuXG4gIF9sb2dBcGlSZXF1ZXN0ID0gKFxuICAgIHR5cGU6IHN0cmluZyxcbiAgICB1cmw6IHN0cmluZyxcbiAgICBkYXRhOiB1bmtub3duLFxuICAgIGNvbmZpZzogQXhpb3NSZXF1ZXN0Q29uZmlnICYge1xuICAgICAgY29uZmlnPzogQXhpb3NSZXF1ZXN0Q29uZmlnICYgeyBtYXhCb2R5TGVuZ3RoPzogbnVtYmVyIH07XG4gICAgfSxcbiAgKSA9PiB7XG4gICAgdGhpcy5sb2dnZXIoJ3RyYWNlJywgYGNsaWVudDogJHt0eXBlfSAtIFJlcXVlc3QgLSAke3VybH1gLCB7XG4gICAgICBwYXlsb2FkOiBkYXRhLFxuICAgICAgY29uZmlnLFxuICAgIH0pO1xuICB9O1xuXG4gIF9sb2dBcGlSZXNwb25zZSA9IDxUPihcbiAgICB0eXBlOiBzdHJpbmcsXG4gICAgdXJsOiBzdHJpbmcsXG4gICAgcmVzcG9uc2U6IEF4aW9zUmVzcG9uc2U8VD4sXG4gICkgPT4ge1xuICAgIHRoaXMubG9nZ2VyKFxuICAgICAgJ3RyYWNlJyxcbiAgICAgIGBjbGllbnQ6JHt0eXBlfSAtIFJlc3BvbnNlIC0gdXJsOiAke3VybH0gPiBzdGF0dXMgJHtyZXNwb25zZS5zdGF0dXN9YCxcbiAgICAgIHtcbiAgICAgICAgcmVzcG9uc2UsXG4gICAgICB9LFxuICAgICk7XG4gIH07XG5cbiAgX2xvZ0FwaUVycm9yID0gKHR5cGU6IHN0cmluZywgdXJsOiBzdHJpbmcsIGVycm9yOiB1bmtub3duKSA9PiB7XG4gICAgdGhpcy5sb2dnZXIoJ2Vycm9yJywgYGNsaWVudDoke3R5cGV9IC0gRXJyb3IgLSB1cmw6ICR7dXJsfWAsIHtcbiAgICAgIHVybCxcbiAgICAgIGVycm9yLFxuICAgIH0pO1xuICB9O1xuXG4gIGRvQXhpb3NSZXF1ZXN0ID0gYXN5bmMgPFQsIEQgPSB1bmtub3duPihcbiAgICB0eXBlOiBzdHJpbmcsXG4gICAgdXJsOiBzdHJpbmcsXG4gICAgZGF0YT86IEQsXG4gICAgb3B0aW9uczogQXhpb3NSZXF1ZXN0Q29uZmlnICYge1xuICAgICAgY29uZmlnPzogQXhpb3NSZXF1ZXN0Q29uZmlnICYgeyBtYXhCb2R5TGVuZ3RoPzogbnVtYmVyIH07XG4gICAgfSAmIHsgcHVibGljRW5kcG9pbnQ/OiBib29sZWFuIH0gPSB7fSxcbiAgKTogUHJvbWlzZTxUPiA9PiB7XG4gICAgaWYgKCFvcHRpb25zLnB1YmxpY0VuZHBvaW50KSB7XG4gICAgICBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgIHRoaXMudG9rZW5NYW5hZ2VyLnRva2VuUmVhZHkoKSxcbiAgICAgICAgdGhpcy5ndWVzdFVzZXJDcmVhdGVQcm9taXNlLFxuICAgICAgXSk7XG4gICAgICAvLyB3ZSBuZWVkIHRvIHdhaXQgZm9yIHByZXNlbmNlIG9mIGNvbm5lY3Rpb24gaWQgYmVmb3JlIG1ha2luZyByZXF1ZXN0c1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgdGhpcy5jb25uZWN0aW9uSWRQcm9taXNlO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAvLyBpbiBjYXNlIGNvbm5lY3Rpb24gaWQgd2FzIHJlamVjdGVkXG4gICAgICAgIC8vIHJlY29ubmVjdGlvbiBtYXliZSBpbiBwcm9ncmVzc1xuICAgICAgICAvLyB3ZSBjYW4gd2FpdCBmb3IgaGVhbHRoeSBjb25uZWN0aW9uIHRvIHJlc29sdmUsIHdoaWNoIHJlamVjdHMgd2hlbiAxNXMgdGltZW91dCBpcyByZWFjaGVkXG4gICAgICAgIGF3YWl0IHRoaXMud3NDb25uZWN0aW9uPy5fd2FpdEZvckhlYWx0aHkoKTtcbiAgICAgICAgYXdhaXQgdGhpcy5jb25uZWN0aW9uSWRQcm9taXNlO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCByZXF1ZXN0Q29uZmlnID0gdGhpcy5fZW5yaWNoQXhpb3NPcHRpb25zKG9wdGlvbnMpO1xuICAgIHRyeSB7XG4gICAgICBsZXQgcmVzcG9uc2U6IEF4aW9zUmVzcG9uc2U8VD47XG4gICAgICB0aGlzLl9sb2dBcGlSZXF1ZXN0KHR5cGUsIHVybCwgZGF0YSwgcmVxdWVzdENvbmZpZyk7XG4gICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSAnZ2V0JzpcbiAgICAgICAgICByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXhpb3NJbnN0YW5jZS5nZXQodXJsLCByZXF1ZXN0Q29uZmlnKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnZGVsZXRlJzpcbiAgICAgICAgICByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXhpb3NJbnN0YW5jZS5kZWxldGUodXJsLCByZXF1ZXN0Q29uZmlnKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAncG9zdCc6XG4gICAgICAgICAgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmF4aW9zSW5zdGFuY2UucG9zdCh1cmwsIGRhdGEsIHJlcXVlc3RDb25maWcpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdwdXQnOlxuICAgICAgICAgIHJlc3BvbnNlID0gYXdhaXQgdGhpcy5heGlvc0luc3RhbmNlLnB1dCh1cmwsIGRhdGEsIHJlcXVlc3RDb25maWcpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdwYXRjaCc6XG4gICAgICAgICAgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmF4aW9zSW5zdGFuY2UucGF0Y2godXJsLCBkYXRhLCByZXF1ZXN0Q29uZmlnKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnb3B0aW9ucyc6XG4gICAgICAgICAgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmF4aW9zSW5zdGFuY2Uub3B0aW9ucyh1cmwsIHJlcXVlc3RDb25maWcpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCByZXF1ZXN0IHR5cGUnKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX2xvZ0FwaVJlc3BvbnNlPFQ+KHR5cGUsIHVybCwgcmVzcG9uc2UpO1xuICAgICAgdGhpcy5jb25zZWN1dGl2ZUZhaWx1cmVzID0gMDtcbiAgICAgIHJldHVybiB0aGlzLmhhbmRsZVJlc3BvbnNlKHJlc3BvbnNlKTtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgfSBjYXRjaCAoZTogYW55IC8qKlRPRE86IGdlbmVyYWxpemUgZXJyb3IgdHlwZXMgICovKSB7XG4gICAgICBlLmNsaWVudF9yZXF1ZXN0X2lkID0gcmVxdWVzdENvbmZpZy5oZWFkZXJzPy5bJ3gtY2xpZW50LXJlcXVlc3QtaWQnXTtcbiAgICAgIHRoaXMuY29uc2VjdXRpdmVGYWlsdXJlcyArPSAxO1xuICAgICAgaWYgKGUucmVzcG9uc2UpIHtcbiAgICAgICAgdGhpcy5fbG9nQXBpRXJyb3IodHlwZSwgdXJsLCBlLnJlc3BvbnNlKTtcbiAgICAgICAgLyoqIGNvbm5lY3Rpb25fZmFsbGJhY2sgZGVwZW5kcyBvbiB0aGlzIHRva2VuIGV4cGlyYXRpb24gbG9naWMgKi9cbiAgICAgICAgaWYgKFxuICAgICAgICAgIGUucmVzcG9uc2UuZGF0YS5jb2RlID09PSBLbm93bkNvZGVzLlRPS0VOX0VYUElSRUQgJiZcbiAgICAgICAgICAhdGhpcy50b2tlbk1hbmFnZXIuaXNTdGF0aWMoKVxuICAgICAgICApIHtcbiAgICAgICAgICBpZiAodGhpcy5jb25zZWN1dGl2ZUZhaWx1cmVzID4gMSkge1xuICAgICAgICAgICAgYXdhaXQgc2xlZXAocmV0cnlJbnRlcnZhbCh0aGlzLmNvbnNlY3V0aXZlRmFpbHVyZXMpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYXdhaXQgdGhpcy50b2tlbk1hbmFnZXIubG9hZFRva2VuKCk7XG4gICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZG9BeGlvc1JlcXVlc3Q8VCwgRD4odHlwZSwgdXJsLCBkYXRhLCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5oYW5kbGVSZXNwb25zZShlLnJlc3BvbnNlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX2xvZ0FwaUVycm9yKHR5cGUsIHVybCwgZSk7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby10aHJvdy1saXRlcmFsXG4gICAgICAgIHRocm93IGUgYXMgQXhpb3NFcnJvcjxBUElFcnJvclJlc3BvbnNlPjtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgZ2V0ID0gPFQ+KHVybDogc3RyaW5nLCBwYXJhbXM/OiBBeGlvc1JlcXVlc3RDb25maWdbJ3BhcmFtcyddKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuZG9BeGlvc1JlcXVlc3Q8VCwgdW5rbm93bj4oJ2dldCcsIHVybCwgbnVsbCwge1xuICAgICAgcGFyYW1zLFxuICAgIH0pO1xuICB9O1xuXG4gIHB1dCA9IDxULCBEID0gdW5rbm93bj4oXG4gICAgdXJsOiBzdHJpbmcsXG4gICAgZGF0YT86IEQsXG4gICAgcGFyYW1zPzogQXhpb3NSZXF1ZXN0Q29uZmlnWydwYXJhbXMnXSxcbiAgKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuZG9BeGlvc1JlcXVlc3Q8VCwgRD4oJ3B1dCcsIHVybCwgZGF0YSwgeyBwYXJhbXMgfSk7XG4gIH07XG5cbiAgcG9zdCA9IDxULCBEID0gdW5rbm93bj4oXG4gICAgdXJsOiBzdHJpbmcsXG4gICAgZGF0YT86IEQsXG4gICAgcGFyYW1zPzogQXhpb3NSZXF1ZXN0Q29uZmlnWydwYXJhbXMnXSxcbiAgKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuZG9BeGlvc1JlcXVlc3Q8VCwgRD4oJ3Bvc3QnLCB1cmwsIGRhdGEsIHsgcGFyYW1zIH0pO1xuICB9O1xuXG4gIHBhdGNoID0gPFQsIEQgPSB1bmtub3duPihcbiAgICB1cmw6IHN0cmluZyxcbiAgICBkYXRhPzogRCxcbiAgICBwYXJhbXM/OiBBeGlvc1JlcXVlc3RDb25maWdbJ3BhcmFtcyddLFxuICApID0+IHtcbiAgICByZXR1cm4gdGhpcy5kb0F4aW9zUmVxdWVzdDxULCBEPigncGF0Y2gnLCB1cmwsIGRhdGEsIHsgcGFyYW1zIH0pO1xuICB9O1xuXG4gIGRlbGV0ZSA9IDxUPih1cmw6IHN0cmluZywgcGFyYW1zPzogQXhpb3NSZXF1ZXN0Q29uZmlnWydwYXJhbXMnXSkgPT4ge1xuICAgIHJldHVybiB0aGlzLmRvQXhpb3NSZXF1ZXN0PFQsIHVua25vd24+KCdkZWxldGUnLCB1cmwsIG51bGwsIHtcbiAgICAgIHBhcmFtcyxcbiAgICB9KTtcbiAgfTtcblxuICBlcnJvckZyb21SZXNwb25zZSA9IChcbiAgICByZXNwb25zZTogQXhpb3NSZXNwb25zZTxBUElFcnJvclJlc3BvbnNlPixcbiAgKTogRXJyb3JGcm9tUmVzcG9uc2U8QVBJRXJyb3JSZXNwb25zZT4gPT4ge1xuICAgIGNvbnN0IHsgZGF0YSwgc3RhdHVzIH0gPSByZXNwb25zZTtcbiAgICBjb25zdCBlcnIgPSBuZXcgRXJyb3JGcm9tUmVzcG9uc2U8QVBJRXJyb3JSZXNwb25zZT4oKTtcbiAgICBlcnIubWVzc2FnZSA9IGBTdHJlYW0gZXJyb3IgY29kZSAke2RhdGEuY29kZX06ICR7ZGF0YS5tZXNzYWdlfWA7XG4gICAgZXJyLmNvZGUgPSBkYXRhLmNvZGU7XG4gICAgZXJyLnVucmVjb3ZlcmFibGUgPSBkYXRhLnVucmVjb3ZlcmFibGU7XG4gICAgZXJyLnJlc3BvbnNlID0gcmVzcG9uc2U7XG4gICAgZXJyLnN0YXR1cyA9IHN0YXR1cztcbiAgICByZXR1cm4gZXJyO1xuICB9O1xuXG4gIGhhbmRsZVJlc3BvbnNlID0gPFQ+KHJlc3BvbnNlOiBBeGlvc1Jlc3BvbnNlPFQ+KSA9PiB7XG4gICAgY29uc3QgZGF0YSA9IHJlc3BvbnNlLmRhdGE7XG4gICAgaWYgKGlzRXJyb3JSZXNwb25zZShyZXNwb25zZSkpIHtcbiAgICAgIHRocm93IHRoaXMuZXJyb3JGcm9tUmVzcG9uc2UocmVzcG9uc2UpO1xuICAgIH1cbiAgICByZXR1cm4gZGF0YTtcbiAgfTtcblxuICBkaXNwYXRjaEV2ZW50ID0gKGV2ZW50OiBTdHJlYW1WaWRlb0V2ZW50KSA9PiB7XG4gICAgdGhpcy5sb2dnZXIoJ2RlYnVnJywgYERpc3BhdGNoaW5nIGV2ZW50OiAke2V2ZW50LnR5cGV9YCwgZXZlbnQpO1xuICAgIGlmICghdGhpcy5saXN0ZW5lcnMpIHJldHVybjtcblxuICAgIC8vIGNhbGwgZ2VuZXJpYyBsaXN0ZW5lcnNcbiAgICBmb3IgKGNvbnN0IGxpc3RlbmVyIG9mIHRoaXMubGlzdGVuZXJzLmFsbCB8fCBbXSkge1xuICAgICAgbGlzdGVuZXIoZXZlbnQpO1xuICAgIH1cblxuICAgIC8vIGNhbGwgdHlwZSBzcGVjaWZpYyBsaXN0ZW5lcnNcbiAgICBmb3IgKGNvbnN0IGxpc3RlbmVyIG9mIHRoaXMubGlzdGVuZXJzW2V2ZW50LnR5cGVdIHx8IFtdKSB7XG4gICAgICBsaXN0ZW5lcihldmVudCk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgY29ubmVjdCA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAoIXRoaXMudXNlcklEIHx8ICF0aGlzLl91c2VyKSB7XG4gICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgJ0NhbGwgY29ubmVjdFVzZXIgb3IgY29ubmVjdEFub255bW91c1VzZXIgYmVmb3JlIHN0YXJ0aW5nIHRoZSBjb25uZWN0aW9uJyxcbiAgICAgICk7XG4gICAgfVxuICAgIGlmICghdGhpcy53c0Jhc2VVUkwpIHRocm93IEVycm9yKCdXZWJzb2NrZXQgYmFzZSB1cmwgbm90IHNldCcpO1xuICAgIGlmICghdGhpcy5jbGllbnRJRCkgdGhyb3cgRXJyb3IoJ2NsaWVudElEIGlzIG5vdCBzZXQnKTtcblxuICAgIC8vIFRoZSBTdGFibGVXU0Nvbm5lY3Rpb24gaGFuZGxlcyBhbGwgdGhlIHJlY29ubmVjdGlvbiBsb2dpYy5cbiAgICB0aGlzLndzQ29ubmVjdGlvbiA9IG5ldyBTdGFibGVXU0Nvbm5lY3Rpb24odGhpcyk7XG5cbiAgICB0aGlzLmxvZ2dlcignaW5mbycsICdTdHJlYW1DbGllbnQuY29ubmVjdDogdGhpcy53c0Nvbm5lY3Rpb24uY29ubmVjdCgpJyk7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMud3NDb25uZWN0aW9uLmNvbm5lY3QodGhpcy5kZWZhdWx0V1NUaW1lb3V0KTtcbiAgfTtcblxuICBnZXRVc2VyQWdlbnQgPSAoKSA9PiB7XG4gICAgY29uc3QgdmVyc2lvbiA9IHByb2Nlc3MuZW52LlBLR19WRVJTSU9OIHx8ICcwLjAuMC1kZXZlbG9wbWVudCc7XG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMudXNlckFnZW50IHx8XG4gICAgICBgc3RyZWFtLXZpZGVvLWphdmFzY3JpcHQtY2xpZW50LSR7XG4gICAgICAgIHRoaXMubm9kZSA/ICdub2RlJyA6ICdicm93c2VyJ1xuICAgICAgfS0ke3ZlcnNpb259YFxuICAgICk7XG4gIH07XG5cbiAgc2V0VXNlckFnZW50ID0gKHVzZXJBZ2VudDogc3RyaW5nKSA9PiB7XG4gICAgdGhpcy51c2VyQWdlbnQgPSB1c2VyQWdlbnQ7XG4gIH07XG5cbiAgLyoqXG4gICAqIF9pc1VzaW5nU2VydmVyQXV0aCAtIFJldHVybnMgdHJ1ZSBpZiB3ZSdyZSB1c2luZyBzZXJ2ZXIgc2lkZSBhdXRoXG4gICAqL1xuICBfaXNVc2luZ1NlcnZlckF1dGggPSAoKSA9PiAhIXRoaXMuc2VjcmV0O1xuXG4gIF9lbnJpY2hBeGlvc09wdGlvbnMgPSAoXG4gICAgb3B0aW9uczogQXhpb3NSZXF1ZXN0Q29uZmlnICYgeyBjb25maWc/OiBBeGlvc1JlcXVlc3RDb25maWcgfSAmIHtcbiAgICAgIHB1YmxpY0VuZHBvaW50PzogYm9vbGVhbjtcbiAgICB9ID0ge1xuICAgICAgcGFyYW1zOiB7fSxcbiAgICAgIGhlYWRlcnM6IHt9LFxuICAgICAgY29uZmlnOiB7fSxcbiAgICB9LFxuICApOiBBeGlvc1JlcXVlc3RDb25maWcgPT4ge1xuICAgIGNvbnN0IHRva2VuID1cbiAgICAgIG9wdGlvbnMucHVibGljRW5kcG9pbnQgJiYgIXRoaXMudXNlciA/IHVuZGVmaW5lZCA6IHRoaXMuX2dldFRva2VuKCk7XG4gICAgY29uc3QgYXV0aG9yaXphdGlvbiA9IHRva2VuID8geyBBdXRob3JpemF0aW9uOiB0b2tlbiB9IDogdW5kZWZpbmVkO1xuXG4gICAgaWYgKCFvcHRpb25zLmhlYWRlcnM/LlsneC1jbGllbnQtcmVxdWVzdC1pZCddKSB7XG4gICAgICBvcHRpb25zLmhlYWRlcnMgPSB7XG4gICAgICAgIC4uLm9wdGlvbnMuaGVhZGVycyxcbiAgICAgICAgJ3gtY2xpZW50LXJlcXVlc3QtaWQnOiByYW5kb21JZCgpLFxuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgcGFyYW1zOiB7XG4gICAgICAgIHVzZXJfaWQ6IHRoaXMudXNlcklELFxuICAgICAgICBjb25uZWN0aW9uX2lkOiB0aGlzLl9nZXRDb25uZWN0aW9uSUQoKSxcbiAgICAgICAgYXBpX2tleTogdGhpcy5rZXksXG4gICAgICAgIC4uLm9wdGlvbnMucGFyYW1zLFxuICAgICAgfSxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgLi4uYXV0aG9yaXphdGlvbixcbiAgICAgICAgJ3N0cmVhbS1hdXRoLXR5cGUnOlxuICAgICAgICAgIG9wdGlvbnMucHVibGljRW5kcG9pbnQgJiYgIXRoaXMudXNlclxuICAgICAgICAgICAgPyAnYW5vbnltb3VzJ1xuICAgICAgICAgICAgOiB0aGlzLmdldEF1dGhUeXBlKCksXG4gICAgICAgICdYLVN0cmVhbS1DbGllbnQnOiB0aGlzLmdldFVzZXJBZ2VudCgpLFxuICAgICAgICAuLi5vcHRpb25zLmhlYWRlcnMsXG4gICAgICB9LFxuICAgICAgLi4ub3B0aW9ucy5jb25maWcsXG4gICAgICAuLi50aGlzLm9wdGlvbnMuYXhpb3NSZXF1ZXN0Q29uZmlnLFxuICAgIH07XG4gIH07XG5cbiAgX2dldFRva2VuID0gKCkgPT4ge1xuICAgIGlmICghdGhpcy50b2tlbk1hbmFnZXIpIHJldHVybiBudWxsO1xuXG4gICAgcmV0dXJuIHRoaXMudG9rZW5NYW5hZ2VyLmdldFRva2VuKCk7XG4gIH07XG5cbiAgdXBkYXRlTmV0d29ya0Nvbm5lY3Rpb25TdGF0dXMgPSAoXG4gICAgZXZlbnQ6IHsgdHlwZTogJ29ubGluZScgfCAnb2ZmbGluZScgfSB8IEV2ZW50LFxuICApID0+IHtcbiAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ29mZmxpbmUnKSB7XG4gICAgICB0aGlzLmxvZ2dlcignZGVidWcnLCAnZGV2aWNlIHdlbnQgb2ZmbGluZScpO1xuICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KHsgdHlwZTogJ25ldHdvcmsuY2hhbmdlZCcsIG9ubGluZTogZmFsc2UgfSk7XG4gICAgfSBlbHNlIGlmIChldmVudC50eXBlID09PSAnb25saW5lJykge1xuICAgICAgdGhpcy5sb2dnZXIoJ2RlYnVnJywgJ2RldmljZSB3ZW50IG9ubGluZScpO1xuICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KHsgdHlwZTogJ25ldHdvcmsuY2hhbmdlZCcsIG9ubGluZTogdHJ1ZSB9KTtcbiAgICB9XG4gIH07XG59XG4iLCJpbXBvcnQgeyBDYWxsIH0gZnJvbSAnLi9DYWxsJztcbmltcG9ydCB7IFN0cmVhbUNsaWVudCB9IGZyb20gJy4vY29vcmRpbmF0b3IvY29ubmVjdGlvbi9jbGllbnQnO1xuaW1wb3J0IHtcbiAgU3RyZWFtVmlkZW9SZWFkT25seVN0YXRlU3RvcmUsXG4gIFN0cmVhbVZpZGVvV3JpdGVhYmxlU3RhdGVTdG9yZSxcbn0gZnJvbSAnLi9zdG9yZSc7XG5pbXBvcnQgdHlwZSB7XG4gIENvbm5lY3RlZEV2ZW50LFxuICBDcmVhdGVEZXZpY2VSZXF1ZXN0LFxuICBDcmVhdGVHdWVzdFJlcXVlc3QsXG4gIENyZWF0ZUd1ZXN0UmVzcG9uc2UsXG4gIEdldEVkZ2VzUmVzcG9uc2UsXG4gIExpc3REZXZpY2VzUmVzcG9uc2UsXG4gIFF1ZXJ5QWdncmVnYXRlQ2FsbFN0YXRzUmVxdWVzdCxcbiAgUXVlcnlBZ2dyZWdhdGVDYWxsU3RhdHNSZXNwb25zZSxcbiAgUXVlcnlDYWxsc1JlcXVlc3QsXG4gIFF1ZXJ5Q2FsbHNSZXNwb25zZSxcbiAgUXVlcnlDYWxsU3RhdHNSZXF1ZXN0LFxuICBRdWVyeUNhbGxTdGF0c1Jlc3BvbnNlLFxufSBmcm9tICcuL2dlbi9jb29yZGluYXRvcic7XG5pbXBvcnQge1xuICBBbGxDbGllbnRFdmVudHMsXG4gIENsaWVudEV2ZW50TGlzdGVuZXIsXG4gIExvZ2dlcixcbiAgTG9nTGV2ZWwsXG4gIFN0cmVhbUNsaWVudE9wdGlvbnMsXG4gIFRva2VuT3JQcm92aWRlcixcbiAgVG9rZW5Qcm92aWRlcixcbiAgVXNlcixcbiAgVXNlcldpdGhJZCxcbn0gZnJvbSAnLi9jb29yZGluYXRvci9jb25uZWN0aW9uL3R5cGVzJztcbmltcG9ydCB7IGdldExvZ2dlciwgbG9nVG9Db25zb2xlLCBzZXRMb2dnZXIgfSBmcm9tICcuL2xvZ2dlcic7XG5pbXBvcnQgeyBnZXRTZGtJbmZvIH0gZnJvbSAnLi9jbGllbnQtZGV0YWlscyc7XG5pbXBvcnQgeyBTZGtUeXBlIH0gZnJvbSAnLi9nZW4vdmlkZW8vc2Z1L21vZGVscy9tb2RlbHMnO1xuaW1wb3J0IHsgd2l0aG91dENvbmN1cnJlbmN5IH0gZnJvbSAnLi9oZWxwZXJzL2NvbmN1cnJlbmN5JztcbmltcG9ydCB7IGVuYWJsZVRpbWVyV29ya2VyIH0gZnJvbSAnLi90aW1lcnMnO1xuXG4vKipcbiAqIEEgYFN0cmVhbVZpZGVvQ2xpZW50YCBpbnN0YW5jZSBsZXRzIHlvdSBjb21tdW5pY2F0ZSB3aXRoIG91ciBBUEksIGFuZCBhdXRoZW50aWNhdGUgdXNlcnMuXG4gKi9cbmV4cG9ydCBjbGFzcyBTdHJlYW1WaWRlb0NsaWVudCB7XG4gIC8qKlxuICAgKiBBIHJlYWN0aXZlIHN0b3JlIHRoYXQgZXhwb3NlcyBhbGwgdGhlIHN0YXRlIHZhcmlhYmxlcyByZWFjdGl2ZWx5LlxuICAgKiBZb3UgY2FuIHN1YnNjcmliZSB0byBjaGFuZ2VzIG9mIHRoZSBkaWZmZXJlbnQgc3RhdGUgdmFyaWFibGVzLlxuICAgKiBPdXIgbGlicmFyeSBpcyBidWlsdCBpbiBhIHdheSB0aGF0IGFsbCBzdGF0ZSBjaGFuZ2VzIGFyZSBleHBvc2VkIGluIHRoaXMgc3RvcmUsXG4gICAqIG8gYWxsIFVJIGNoYW5nZXMgaW4geW91ciBhcHBsaWNhdGlvbiBzaG91bGQgYmUgaGFuZGxlZCBieSBzdWJzY3JpYmluZyB0byB0aGVzZSB2YXJpYWJsZXMuXG4gICAqXG4gICAqIEBkZXByZWNhdGVkIHVzZSB0aGUgYGNsaWVudC5zdGF0ZWAgZ2V0dGVyLlxuICAgKi9cbiAgcmVhZG9ubHkgcmVhZE9ubHlTdGF0ZVN0b3JlOiBTdHJlYW1WaWRlb1JlYWRPbmx5U3RhdGVTdG9yZTtcbiAgcmVhZG9ubHkgbG9nTGV2ZWw6IExvZ0xldmVsID0gJ3dhcm4nO1xuICByZWFkb25seSBsb2dnZXI6IExvZ2dlcjtcblxuICBwcm90ZWN0ZWQgcmVhZG9ubHkgd3JpdGVhYmxlU3RhdGVTdG9yZTogU3RyZWFtVmlkZW9Xcml0ZWFibGVTdGF0ZVN0b3JlO1xuICBzdHJlYW1DbGllbnQ6IFN0cmVhbUNsaWVudDtcblxuICBwcm90ZWN0ZWQgZXZlbnRIYW5kbGVyc1RvVW5yZWdpc3RlcjogQXJyYXk8KCkgPT4gdm9pZD4gPSBbXTtcbiAgcHJpdmF0ZSByZWFkb25seSBjb25uZWN0aW9uQ29uY3VycmVuY3lUYWcgPSBTeW1ib2woXG4gICAgJ2Nvbm5lY3Rpb25Db25jdXJyZW5jeVRhZycsXG4gICk7XG5cbiAgcHJpdmF0ZSBzdGF0aWMgX2luc3RhbmNlTWFwOiBNYXA8c3RyaW5nLCBTdHJlYW1WaWRlb0NsaWVudD4gPSBuZXcgTWFwKCk7XG5cbiAgLyoqXG4gICAqIFlvdSBzaG91bGQgY3JlYXRlIG9ubHkgb25lIGluc3RhbmNlIG9mIGBTdHJlYW1WaWRlb0NsaWVudGAuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihhcGlLZXk6IHN0cmluZywgb3B0cz86IFN0cmVhbUNsaWVudE9wdGlvbnMpO1xuICBjb25zdHJ1Y3RvcihhcmdzOiB7XG4gICAgYXBpS2V5OiBzdHJpbmc7XG4gICAgb3B0aW9ucz86IFN0cmVhbUNsaWVudE9wdGlvbnM7XG4gICAgdXNlcj86IFVzZXI7XG4gICAgdG9rZW4/OiBzdHJpbmc7XG4gICAgdG9rZW5Qcm92aWRlcj86IFRva2VuUHJvdmlkZXI7XG4gIH0pO1xuICBjb25zdHJ1Y3RvcihcbiAgICBhcGlLZXlPckFyZ3M6XG4gICAgICB8IHN0cmluZ1xuICAgICAgfCB7XG4gICAgICAgICAgYXBpS2V5OiBzdHJpbmc7XG4gICAgICAgICAgb3B0aW9ucz86IFN0cmVhbUNsaWVudE9wdGlvbnM7XG4gICAgICAgICAgdXNlcj86IFVzZXI7XG4gICAgICAgICAgdG9rZW4/OiBzdHJpbmc7XG4gICAgICAgICAgdG9rZW5Qcm92aWRlcj86IFRva2VuUHJvdmlkZXI7XG4gICAgICAgIH0sXG4gICAgb3B0cz86IFN0cmVhbUNsaWVudE9wdGlvbnMsXG4gICkge1xuICAgIGxldCBsb2dnZXI6IExvZ2dlciA9IGxvZ1RvQ29uc29sZTtcbiAgICBsZXQgbG9nTGV2ZWw6IExvZ0xldmVsID0gJ3dhcm4nO1xuICAgIGlmICh0eXBlb2YgYXBpS2V5T3JBcmdzID09PSAnc3RyaW5nJykge1xuICAgICAgbG9nTGV2ZWwgPSBvcHRzPy5sb2dMZXZlbCB8fCBsb2dMZXZlbDtcbiAgICAgIGxvZ2dlciA9IG9wdHM/LmxvZ2dlciB8fCBsb2dnZXI7XG4gICAgICBpZiAob3B0cz8uZW5hYmxlVGltZXJXb3JrZXIpIGVuYWJsZVRpbWVyV29ya2VyKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxvZ0xldmVsID0gYXBpS2V5T3JBcmdzLm9wdGlvbnM/LmxvZ0xldmVsIHx8IGxvZ0xldmVsO1xuICAgICAgbG9nZ2VyID0gYXBpS2V5T3JBcmdzLm9wdGlvbnM/LmxvZ2dlciB8fCBsb2dnZXI7XG4gICAgICBpZiAoYXBpS2V5T3JBcmdzLm9wdGlvbnM/LmVuYWJsZVRpbWVyV29ya2VyKSBlbmFibGVUaW1lcldvcmtlcigpO1xuICAgIH1cblxuICAgIHNldExvZ2dlcihsb2dnZXIsIGxvZ0xldmVsKTtcbiAgICB0aGlzLmxvZ2dlciA9IGdldExvZ2dlcihbJ2NsaWVudCddKTtcbiAgICBjb25zdCBjb29yZGluYXRvckxvZ2dlciA9IGdldExvZ2dlcihbJ2Nvb3JkaW5hdG9yJ10pO1xuXG4gICAgaWYgKHR5cGVvZiBhcGlLZXlPckFyZ3MgPT09ICdzdHJpbmcnKSB7XG4gICAgICB0aGlzLnN0cmVhbUNsaWVudCA9IG5ldyBTdHJlYW1DbGllbnQoYXBpS2V5T3JBcmdzLCB7XG4gICAgICAgIHBlcnNpc3RVc2VyT25Db25uZWN0aW9uRmFpbHVyZTogdHJ1ZSxcbiAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgbG9nTGV2ZWwsXG4gICAgICAgIGxvZ2dlcjogY29vcmRpbmF0b3JMb2dnZXIsXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zdHJlYW1DbGllbnQgPSBuZXcgU3RyZWFtQ2xpZW50KGFwaUtleU9yQXJncy5hcGlLZXksIHtcbiAgICAgICAgcGVyc2lzdFVzZXJPbkNvbm5lY3Rpb25GYWlsdXJlOiB0cnVlLFxuICAgICAgICAuLi5hcGlLZXlPckFyZ3Mub3B0aW9ucyxcbiAgICAgICAgbG9nTGV2ZWwsXG4gICAgICAgIGxvZ2dlcjogY29vcmRpbmF0b3JMb2dnZXIsXG4gICAgICB9KTtcblxuICAgICAgY29uc3Qgc2RrSW5mbyA9IGdldFNka0luZm8oKTtcbiAgICAgIGlmIChzZGtJbmZvKSB7XG4gICAgICAgIGNvbnN0IHNka05hbWUgPSBTZGtUeXBlW3Nka0luZm8udHlwZV0udG9Mb3dlckNhc2UoKTtcbiAgICAgICAgY29uc3Qgc2RrVmVyc2lvbiA9IGAke3Nka0luZm8ubWFqb3J9LiR7c2RrSW5mby5taW5vcn0uJHtzZGtJbmZvLnBhdGNofWA7XG4gICAgICAgIGNvbnN0IHVzZXJBZ2VudCA9IHRoaXMuc3RyZWFtQ2xpZW50LmdldFVzZXJBZ2VudCgpO1xuICAgICAgICB0aGlzLnN0cmVhbUNsaWVudC5zZXRVc2VyQWdlbnQoXG4gICAgICAgICAgYCR7dXNlckFnZW50fS12aWRlby0ke3Nka05hbWV9LXNkay0ke3Nka1ZlcnNpb259YCxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLndyaXRlYWJsZVN0YXRlU3RvcmUgPSBuZXcgU3RyZWFtVmlkZW9Xcml0ZWFibGVTdGF0ZVN0b3JlKCk7XG4gICAgdGhpcy5yZWFkT25seVN0YXRlU3RvcmUgPSBuZXcgU3RyZWFtVmlkZW9SZWFkT25seVN0YXRlU3RvcmUoXG4gICAgICB0aGlzLndyaXRlYWJsZVN0YXRlU3RvcmUsXG4gICAgKTtcblxuICAgIGlmICh0eXBlb2YgYXBpS2V5T3JBcmdzICE9PSAnc3RyaW5nJykge1xuICAgICAgY29uc3QgdXNlciA9IGFwaUtleU9yQXJncy51c2VyO1xuICAgICAgY29uc3QgdG9rZW4gPSBhcGlLZXlPckFyZ3MudG9rZW4gfHwgYXBpS2V5T3JBcmdzLnRva2VuUHJvdmlkZXI7XG4gICAgICBpZiAodXNlcikge1xuICAgICAgICBsZXQgaWQgPSB1c2VyLmlkO1xuICAgICAgICBpZiAodXNlci50eXBlID09PSAnYW5vbnltb3VzJykge1xuICAgICAgICAgIGlkID0gJyFhbm9uJztcbiAgICAgICAgfVxuICAgICAgICBpZiAoaWQpIHtcbiAgICAgICAgICBpZiAoU3RyZWFtVmlkZW9DbGllbnQuX2luc3RhbmNlTWFwLmhhcyhhcGlLZXlPckFyZ3MuYXBpS2V5ICsgaWQpKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlcihcbiAgICAgICAgICAgICAgJ3dhcm4nLFxuICAgICAgICAgICAgICBgQSBTdHJlYW1WaWRlb0NsaWVudCBhbHJlYWR5IGV4aXN0cyBmb3IgJHt1c2VyLnR5cGUgPT09ICdhbm9ueW1vdXMnID8gJ2FuIGFub255bW91cyB1c2VyJyA6IGlkfTsgUHJlZmVyIHVzaW5nIGdldE9yQ3JlYXRlSW5zdGFuY2UgbWV0aG9kYCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHVzZXIuaWQgPSBpZDtcbiAgICAgICAgICBTdHJlYW1WaWRlb0NsaWVudC5faW5zdGFuY2VNYXAuc2V0KGFwaUtleU9yQXJncy5hcGlLZXkgKyBpZCwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb25uZWN0VXNlcih1c2VyLCB0b2tlbikuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgIHRoaXMubG9nZ2VyKCdlcnJvcicsICdGYWlsZWQgdG8gY29ubmVjdCcsIGVycik7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBzdGF0aWMgZ2V0T3JDcmVhdGVJbnN0YW5jZShhcmdzOiB7XG4gICAgYXBpS2V5OiBzdHJpbmc7XG4gICAgdXNlcjogVXNlcjtcbiAgICB0b2tlbj86IHN0cmluZztcbiAgICB0b2tlblByb3ZpZGVyPzogVG9rZW5Qcm92aWRlcjtcbiAgICBvcHRpb25zPzogU3RyZWFtQ2xpZW50T3B0aW9ucztcbiAgfSk6IFN0cmVhbVZpZGVvQ2xpZW50IHtcbiAgICBjb25zdCB1c2VyID0gYXJncy51c2VyO1xuICAgIGlmICghdXNlci5pZCkge1xuICAgICAgaWYgKGFyZ3MudXNlci50eXBlID09PSAnYW5vbnltb3VzJykge1xuICAgICAgICB1c2VyLmlkID0gJyFhbm9uJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVXNlciBJRCBpcyByZXF1aXJlZCBmb3IgYSBub24tYW5vbnltb3VzIHVzZXInKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFhcmdzLnRva2VuICYmICFhcmdzLnRva2VuUHJvdmlkZXIpIHtcbiAgICAgIGlmIChhcmdzLnVzZXIudHlwZSAhPT0gJ2Fub255bW91cycgJiYgYXJncy51c2VyLnR5cGUgIT09ICdndWVzdCcpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICdUb2tlblByb3ZpZGVyIG9yIHRva2VuIGlzIHJlcXVpcmVkIGZvciBhIHVzZXIgdGhhdCBpcyBub3QgYSBndWVzdCBvciBhbm9ueW1vdXMnLFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICBsZXQgaW5zdGFuY2UgPSBTdHJlYW1WaWRlb0NsaWVudC5faW5zdGFuY2VNYXAuZ2V0KGFyZ3MuYXBpS2V5ICsgdXNlci5pZCk7XG4gICAgaWYgKCFpbnN0YW5jZSkge1xuICAgICAgaW5zdGFuY2UgPSBuZXcgU3RyZWFtVmlkZW9DbGllbnQoeyAuLi5hcmdzLCB1c2VyIH0pO1xuICAgIH1cbiAgICByZXR1cm4gaW5zdGFuY2U7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIHRoZSByZWFjdGl2ZSBzdGF0ZSBzdG9yZSwgdXNlIHRoaXMgaWYgeW91IHdhbnQgdG8gYmUgbm90aWZpZWQgYWJvdXQgY2hhbmdlcyB0byB0aGUgY2xpZW50IHN0YXRlXG4gICAqL1xuICBnZXQgc3RhdGUoKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZE9ubHlTdGF0ZVN0b3JlO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbm5lY3RzIHRoZSBnaXZlbiB1c2VyIHRvIHRoZSBjbGllbnQuXG4gICAqIE9ubHkgb25lIHVzZXIgY2FuIGNvbm5lY3QgYXQgYSB0aW1lLCBpZiB5b3Ugd2FudCB0byBjaGFuZ2UgdXNlcnMsIGNhbGwgYGRpc2Nvbm5lY3RVc2VyYCBiZWZvcmUgY29ubmVjdGluZyBhIG5ldyB1c2VyLlxuICAgKiBJZiB0aGUgY29ubmVjdGlvbiBpcyBzdWNjZXNzZnVsLCB0aGUgY29ubmVjdGVkIHVzZXIgW3N0YXRlIHZhcmlhYmxlXSgjcmVhZG9ubHlzdGF0ZXN0b3JlKSB3aWxsIGJlIHVwZGF0ZWQgYWNjb3JkaW5nbHkuXG4gICAqXG4gICAqIEBwYXJhbSB1c2VyIHRoZSB1c2VyIHRvIGNvbm5lY3QuXG4gICAqIEBwYXJhbSB0b2tlbiBhIHRva2VuIG9yIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgdG9rZW4uXG4gICAqL1xuICBjb25uZWN0VXNlciA9IGFzeW5jIChcbiAgICB1c2VyOiBVc2VyLFxuICAgIHRva2VuPzogVG9rZW5PclByb3ZpZGVyLFxuICApOiBQcm9taXNlPHZvaWQgfCBDb25uZWN0ZWRFdmVudD4gPT4ge1xuICAgIGlmICh1c2VyLnR5cGUgPT09ICdhbm9ueW1vdXMnKSB7XG4gICAgICB1c2VyLmlkID0gJyFhbm9uJztcbiAgICAgIHJldHVybiB0aGlzLmNvbm5lY3RBbm9ueW1vdXNVc2VyKHVzZXIgYXMgVXNlcldpdGhJZCwgdG9rZW4pO1xuICAgIH1cbiAgICBsZXQgY29ubmVjdFVzZXIgPSAoKSA9PiB7XG4gICAgICByZXR1cm4gdGhpcy5zdHJlYW1DbGllbnQuY29ubmVjdFVzZXIodXNlciwgdG9rZW4pO1xuICAgIH07XG4gICAgaWYgKHVzZXIudHlwZSA9PT0gJ2d1ZXN0Jykge1xuICAgICAgY29ubmVjdFVzZXIgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0cmVhbUNsaWVudC5jb25uZWN0R3Vlc3RVc2VyKHVzZXIpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICBjb25zdCBjb25uZWN0VXNlclJlc3BvbnNlID0gYXdhaXQgd2l0aG91dENvbmN1cnJlbmN5KFxuICAgICAgdGhpcy5jb25uZWN0aW9uQ29uY3VycmVuY3lUYWcsXG4gICAgICAoKSA9PiBjb25uZWN0VXNlcigpLFxuICAgICk7XG4gICAgLy8gY29ubmVjdFVzZXJSZXNwb25zZSB3aWxsIGJlIHZvaWQgaWYgY29ubmVjdFVzZXIgY2FsbGVkIHR3aWNlIGZvciB0aGUgc2FtZSB1c2VyXG4gICAgaWYgKGNvbm5lY3RVc2VyUmVzcG9uc2U/Lm1lKSB7XG4gICAgICB0aGlzLndyaXRlYWJsZVN0YXRlU3RvcmUuc2V0Q29ubmVjdGVkVXNlcihjb25uZWN0VXNlclJlc3BvbnNlLm1lKTtcbiAgICB9XG5cbiAgICB0aGlzLmV2ZW50SGFuZGxlcnNUb1VucmVnaXN0ZXIucHVzaChcbiAgICAgIHRoaXMub24oJ2Nvbm5lY3Rpb24uY2hhbmdlZCcsIChldmVudCkgPT4ge1xuICAgICAgICBpZiAoZXZlbnQub25saW5lKSB7XG4gICAgICAgICAgY29uc3QgY2FsbHNUb1JlV2F0Y2ggPSB0aGlzLndyaXRlYWJsZVN0YXRlU3RvcmUuY2FsbHNcbiAgICAgICAgICAgIC5maWx0ZXIoKGNhbGwpID0+IGNhbGwud2F0Y2hpbmcpXG4gICAgICAgICAgICAubWFwKChjYWxsKSA9PiBjYWxsLmNpZCk7XG5cbiAgICAgICAgICB0aGlzLmxvZ2dlcihcbiAgICAgICAgICAgICdpbmZvJyxcbiAgICAgICAgICAgIGBSZXdhdGNoaW5nIGNhbGxzIGFmdGVyIGNvbm5lY3Rpb24gY2hhbmdlZCAke2NhbGxzVG9SZVdhdGNoLmpvaW4oXG4gICAgICAgICAgICAgICcsICcsXG4gICAgICAgICAgICApfWAsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBpZiAoY2FsbHNUb1JlV2F0Y2gubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5xdWVyeUNhbGxzKHtcbiAgICAgICAgICAgICAgd2F0Y2g6IHRydWUsXG4gICAgICAgICAgICAgIGZpbHRlcl9jb25kaXRpb25zOiB7XG4gICAgICAgICAgICAgICAgY2lkOiB7ICRpbjogY2FsbHNUb1JlV2F0Y2ggfSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgc29ydDogW3sgZmllbGQ6ICdjaWQnLCBkaXJlY3Rpb246IDEgfV0sXG4gICAgICAgICAgICB9KS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICAgIHRoaXMubG9nZ2VyKCdlcnJvcicsICdGYWlsZWQgdG8gcmUtd2F0Y2ggY2FsbHMnLCBlcnIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KSxcbiAgICApO1xuXG4gICAgdGhpcy5ldmVudEhhbmRsZXJzVG9VbnJlZ2lzdGVyLnB1c2goXG4gICAgICB0aGlzLm9uKCdjYWxsLmNyZWF0ZWQnLCAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgeyBjYWxsLCBtZW1iZXJzIH0gPSBldmVudDtcbiAgICAgICAgaWYgKHVzZXIuaWQgPT09IGNhbGwuY3JlYXRlZF9ieS5pZCkge1xuICAgICAgICAgIHRoaXMubG9nZ2VyKFxuICAgICAgICAgICAgJ3dhcm4nLFxuICAgICAgICAgICAgJ1JlY2VpdmVkIGBjYWxsLmNyZWF0ZWRgIHNlbnQgYnkgdGhlIGN1cnJlbnQgdXNlcicsXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sb2dnZXIoJ2luZm8nLCBgTmV3IGNhbGwgY3JlYXRlZCBhbmQgcmVnaXN0ZXJlZDogJHtjYWxsLmNpZH1gKTtcbiAgICAgICAgY29uc3QgbmV3Q2FsbCA9IG5ldyBDYWxsKHtcbiAgICAgICAgICBzdHJlYW1DbGllbnQ6IHRoaXMuc3RyZWFtQ2xpZW50LFxuICAgICAgICAgIHR5cGU6IGNhbGwudHlwZSxcbiAgICAgICAgICBpZDogY2FsbC5pZCxcbiAgICAgICAgICBtZW1iZXJzLFxuICAgICAgICAgIGNsaWVudFN0b3JlOiB0aGlzLndyaXRlYWJsZVN0YXRlU3RvcmUsXG4gICAgICAgIH0pO1xuICAgICAgICBuZXdDYWxsLnN0YXRlLnVwZGF0ZUZyb21DYWxsUmVzcG9uc2UoY2FsbCk7XG4gICAgICAgIHRoaXMud3JpdGVhYmxlU3RhdGVTdG9yZS5yZWdpc3RlckNhbGwobmV3Q2FsbCk7XG4gICAgICB9KSxcbiAgICApO1xuXG4gICAgdGhpcy5ldmVudEhhbmRsZXJzVG9VbnJlZ2lzdGVyLnB1c2goXG4gICAgICB0aGlzLm9uKCdjYWxsLnJpbmcnLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgeyBjYWxsLCBtZW1iZXJzIH0gPSBldmVudDtcbiAgICAgICAgaWYgKHVzZXIuaWQgPT09IGNhbGwuY3JlYXRlZF9ieS5pZCkge1xuICAgICAgICAgIHRoaXMubG9nZ2VyKFxuICAgICAgICAgICAgJ2RlYnVnJyxcbiAgICAgICAgICAgICdSZWNlaXZlZCBgY2FsbC5yaW5nYCBzZW50IGJ5IHRoZSBjdXJyZW50IHVzZXIgc28gaWdub3JpbmcgdGhlIGV2ZW50JyxcbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBpZiBgY2FsbC5jcmVhdGVkYCB3YXMgcmVjZWl2ZWQgYmVmb3JlIGBjYWxsLnJpbmdgLlxuICAgICAgICAvLyB0aGUgY2xpZW50IGFscmVhZHkgaGFzIHRoZSBjYWxsIGluc3RhbmNlIGFuZCB3ZSBqdXN0IG5lZWQgdG8gdXBkYXRlIHRoZSBzdGF0ZVxuICAgICAgICBjb25zdCB0aGVDYWxsID0gdGhpcy53cml0ZWFibGVTdGF0ZVN0b3JlLmZpbmRDYWxsKGNhbGwudHlwZSwgY2FsbC5pZCk7XG4gICAgICAgIGlmICh0aGVDYWxsKSB7XG4gICAgICAgICAgYXdhaXQgdGhlQ2FsbC51cGRhdGVGcm9tUmluZ2luZ0V2ZW50KGV2ZW50KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBpZiBjbGllbnQgZG9lc24ndCBoYXZlIHRoZSBjYWxsIGluc3RhbmNlLCBjcmVhdGUgdGhlIGluc3RhbmNlIGFuZCBmZXRjaCB0aGUgbGF0ZXN0IHN0YXRlXG4gICAgICAgICAgLy8gTm90ZTogcmVsYXRlZCAtIHdlIGFsc28gaGF2ZSBvblJpbmdpbmdDYWxsIG1ldGhvZCB0byBoYW5kbGUgdGhpcyBjYXNlIGZyb20gcHVzaCBub3RpZmljYXRpb25zXG4gICAgICAgICAgY29uc3QgbmV3Q2FsbEluc3RhbmNlID0gbmV3IENhbGwoe1xuICAgICAgICAgICAgc3RyZWFtQ2xpZW50OiB0aGlzLnN0cmVhbUNsaWVudCxcbiAgICAgICAgICAgIHR5cGU6IGNhbGwudHlwZSxcbiAgICAgICAgICAgIGlkOiBjYWxsLmlkLFxuICAgICAgICAgICAgbWVtYmVycyxcbiAgICAgICAgICAgIGNsaWVudFN0b3JlOiB0aGlzLndyaXRlYWJsZVN0YXRlU3RvcmUsXG4gICAgICAgICAgICByaW5naW5nOiB0cnVlLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGF3YWl0IG5ld0NhbGxJbnN0YW5jZS5nZXQoKTtcbiAgICAgICAgfVxuICAgICAgfSksXG4gICAgKTtcblxuICAgIHJldHVybiBjb25uZWN0VXNlclJlc3BvbnNlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBEaXNjb25uZWN0cyB0aGUgY3VycmVudGx5IGNvbm5lY3RlZCB1c2VyIGZyb20gdGhlIGNsaWVudC5cbiAgICpcbiAgICogSWYgdGhlIGNvbm5lY3Rpb24gaXMgc3VjY2Vzc2Z1bGx5IGRpc2Nvbm5lY3RlZCwgdGhlIGNvbm5lY3RlZCB1c2VyIFtzdGF0ZSB2YXJpYWJsZV0oI3JlYWRvbmx5c3RhdGVzdG9yZSkgd2lsbCBiZSB1cGRhdGVkIGFjY29yZGluZ2x5XG4gICAqXG4gICAqIEBwYXJhbSB0aW1lb3V0IE1heCBudW1iZXIgb2YgbXMsIHRvIHdhaXQgZm9yIGNsb3NlIGV2ZW50IG9mIHdlYnNvY2tldCwgYmVmb3JlIGZvcmNlZnVsbHkgYXNzdW1pbmcgc3VjY2Vzc2Z1bCBkaXNjb25uZWN0aW9uLlxuICAgKiAgICAgICAgICAgICAgICBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvQ2xvc2VFdmVudFxuICAgKi9cbiAgZGlzY29ubmVjdFVzZXIgPSBhc3luYyAodGltZW91dD86IG51bWJlcikgPT4ge1xuICAgIGlmICghdGhpcy5zdHJlYW1DbGllbnQudXNlcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB1c2VySWQgPSB0aGlzLnN0cmVhbUNsaWVudC51c2VyPy5pZDtcbiAgICBjb25zdCBhcGlLZXkgPSB0aGlzLnN0cmVhbUNsaWVudC5rZXk7XG4gICAgY29uc3QgZGlzY29ubmVjdFVzZXIgPSAoKSA9PiB0aGlzLnN0cmVhbUNsaWVudC5kaXNjb25uZWN0VXNlcih0aW1lb3V0KTtcbiAgICBhd2FpdCB3aXRob3V0Q29uY3VycmVuY3kodGhpcy5jb25uZWN0aW9uQ29uY3VycmVuY3lUYWcsICgpID0+XG4gICAgICBkaXNjb25uZWN0VXNlcigpLFxuICAgICk7XG4gICAgaWYgKHVzZXJJZCkge1xuICAgICAgU3RyZWFtVmlkZW9DbGllbnQuX2luc3RhbmNlTWFwLmRlbGV0ZShhcGlLZXkgKyB1c2VySWQpO1xuICAgIH1cbiAgICB0aGlzLmV2ZW50SGFuZGxlcnNUb1VucmVnaXN0ZXIuZm9yRWFjaCgodW5yZWdpc3RlcikgPT4gdW5yZWdpc3RlcigpKTtcbiAgICB0aGlzLmV2ZW50SGFuZGxlcnNUb1VucmVnaXN0ZXIgPSBbXTtcbiAgICB0aGlzLndyaXRlYWJsZVN0YXRlU3RvcmUuc2V0Q29ubmVjdGVkVXNlcih1bmRlZmluZWQpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBZb3UgY2FuIHN1YnNjcmliZSB0byBXZWJTb2NrZXQgZXZlbnRzIHByb3ZpZGVkIGJ5IHRoZSBBUEkuXG4gICAqIFRvIHJlbW92ZSBhIHN1YnNjcmlwdGlvbiwgY2FsbCB0aGUgYG9mZmAgbWV0aG9kIG9yLCBleGVjdXRlIHRoZSByZXR1cm5lZCB1bnN1YnNjcmliZSBmdW5jdGlvbi5cbiAgICogUGxlYXNlIG5vdGUgdGhhdCBzdWJzY3JpYmluZyB0byBXZWJTb2NrZXQgZXZlbnRzIGlzIGFuIGFkdmFuY2VkIHVzZS1jYXNlLCBmb3IgbW9zdCB1c2UtY2FzZXMgaXQgc2hvdWxkIGJlIGVub3VnaCB0byB3YXRjaCBmb3IgY2hhbmdlcyBpbiB0aGUgcmVhY3RpdmUgW3N0YXRlIHN0b3JlXSgjcmVhZG9ubHlzdGF0ZXN0b3JlKS5cbiAgICpcbiAgICogQHBhcmFtIGV2ZW50TmFtZSB0aGUgZXZlbnQgbmFtZSBvciAnYWxsJy5cbiAgICogQHBhcmFtIGNhbGxiYWNrIHRoZSBjYWxsYmFjayB3aGljaCB3aWxsIGJlIGNhbGxlZCB3aGVuIHRoZSBldmVudCBpcyBlbWl0dGVkLlxuICAgKiBAcmV0dXJucyBhbiB1bnN1YnNjcmliZSBmdW5jdGlvbi5cbiAgICovXG4gIG9uID0gPEUgZXh0ZW5kcyBrZXlvZiBBbGxDbGllbnRFdmVudHM+KFxuICAgIGV2ZW50TmFtZTogRSxcbiAgICBjYWxsYmFjazogQ2xpZW50RXZlbnRMaXN0ZW5lcjxFPixcbiAgKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RyZWFtQ2xpZW50Lm9uKGV2ZW50TmFtZSwgY2FsbGJhY2spO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZW1vdmUgc3Vic2NyaXB0aW9uIGZvciBXZWJTb2NrZXQgZXZlbnRzIHRoYXQgd2VyZSBjcmVhdGVkIGJ5IHRoZSBgb25gIG1ldGhvZC5cbiAgICpcbiAgICogQHBhcmFtIGV2ZW50TmFtZSB0aGUgZXZlbnQgbmFtZS5cbiAgICogQHBhcmFtIGNhbGxiYWNrIHRoZSBjYWxsYmFjayB3aGljaCB3YXMgcGFzc2VkIHRvIHRoZSBgb25gIG1ldGhvZC5cbiAgICovXG4gIG9mZiA9IDxFIGV4dGVuZHMga2V5b2YgQWxsQ2xpZW50RXZlbnRzPihcbiAgICBldmVudE5hbWU6IEUsXG4gICAgY2FsbGJhY2s6IENsaWVudEV2ZW50TGlzdGVuZXI8RT4sXG4gICkgPT4ge1xuICAgIHJldHVybiB0aGlzLnN0cmVhbUNsaWVudC5vZmYoZXZlbnROYW1lLCBjYWxsYmFjayk7XG4gIH07XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgY2FsbC5cbiAgICpcbiAgICogQHBhcmFtIHR5cGUgdGhlIHR5cGUgb2YgdGhlIGNhbGwuXG4gICAqIEBwYXJhbSBpZCB0aGUgaWQgb2YgdGhlIGNhbGwuXG4gICAqL1xuICBjYWxsID0gKHR5cGU6IHN0cmluZywgaWQ6IHN0cmluZykgPT4ge1xuICAgIHJldHVybiBuZXcgQ2FsbCh7XG4gICAgICBzdHJlYW1DbGllbnQ6IHRoaXMuc3RyZWFtQ2xpZW50LFxuICAgICAgaWQ6IGlkLFxuICAgICAgdHlwZTogdHlwZSxcbiAgICAgIGNsaWVudFN0b3JlOiB0aGlzLndyaXRlYWJsZVN0YXRlU3RvcmUsXG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgZ3Vlc3QgdXNlciB3aXRoIHRoZSBnaXZlbiBkYXRhLlxuICAgKlxuICAgKiBAcGFyYW0gZGF0YSB0aGUgZGF0YSBmb3IgdGhlIGd1ZXN0IHVzZXIuXG4gICAqL1xuICBjcmVhdGVHdWVzdFVzZXIgPSBhc3luYyAoZGF0YTogQ3JlYXRlR3Vlc3RSZXF1ZXN0KSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RyZWFtQ2xpZW50LmRvQXhpb3NSZXF1ZXN0PFxuICAgICAgQ3JlYXRlR3Vlc3RSZXNwb25zZSxcbiAgICAgIENyZWF0ZUd1ZXN0UmVxdWVzdFxuICAgID4oJ3Bvc3QnLCAnL2d1ZXN0JywgZGF0YSwgeyBwdWJsaWNFbmRwb2ludDogdHJ1ZSB9KTtcbiAgfTtcblxuICAvKipcbiAgICogV2lsbCBxdWVyeSB0aGUgQVBJIGZvciBjYWxscyBtYXRjaGluZyB0aGUgZ2l2ZW4gZmlsdGVycy5cbiAgICpcbiAgICogQHBhcmFtIGRhdGEgdGhlIHF1ZXJ5IGRhdGEuXG4gICAqL1xuICBxdWVyeUNhbGxzID0gYXN5bmMgKGRhdGE6IFF1ZXJ5Q2FsbHNSZXF1ZXN0ID0ge30pID0+IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc3RyZWFtQ2xpZW50LnBvc3Q8XG4gICAgICBRdWVyeUNhbGxzUmVzcG9uc2UsXG4gICAgICBRdWVyeUNhbGxzUmVxdWVzdFxuICAgID4oJy9jYWxscycsIGRhdGEpO1xuICAgIGNvbnN0IGNhbGxzID0gW107XG4gICAgZm9yIChjb25zdCBjIG9mIHJlc3BvbnNlLmNhbGxzKSB7XG4gICAgICBjb25zdCBjYWxsID0gbmV3IENhbGwoe1xuICAgICAgICBzdHJlYW1DbGllbnQ6IHRoaXMuc3RyZWFtQ2xpZW50LFxuICAgICAgICBpZDogYy5jYWxsLmlkLFxuICAgICAgICB0eXBlOiBjLmNhbGwudHlwZSxcbiAgICAgICAgbWVtYmVyczogYy5tZW1iZXJzLFxuICAgICAgICBvd25DYXBhYmlsaXRpZXM6IGMub3duX2NhcGFiaWxpdGllcyxcbiAgICAgICAgd2F0Y2hpbmc6IGRhdGEud2F0Y2gsXG4gICAgICAgIGNsaWVudFN0b3JlOiB0aGlzLndyaXRlYWJsZVN0YXRlU3RvcmUsXG4gICAgICB9KTtcbiAgICAgIGNhbGwuc3RhdGUudXBkYXRlRnJvbUNhbGxSZXNwb25zZShjLmNhbGwpO1xuICAgICAgYXdhaXQgY2FsbC5hcHBseURldmljZUNvbmZpZyhmYWxzZSk7XG4gICAgICBpZiAoZGF0YS53YXRjaCkge1xuICAgICAgICB0aGlzLndyaXRlYWJsZVN0YXRlU3RvcmUucmVnaXN0ZXJDYWxsKGNhbGwpO1xuICAgICAgfVxuICAgICAgY2FsbHMucHVzaChjYWxsKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnJlc3BvbnNlLFxuICAgICAgY2FsbHM6IGNhbGxzLFxuICAgIH07XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHJpZXZlIHRoZSBsaXN0IG9mIGF2YWlsYWJsZSBjYWxsIHN0YXRpc3RpY3MgcmVwb3J0cyBtYXRjaGluZyBhIHBhcnRpY3VsYXIgY29uZGl0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gZGF0YSBGaWx0ZXIgYW5kIHNvcnQgY29uZGl0aW9ucyBmb3IgcmV0cmlldmluZyBhdmFpbGFibGUgY2FsbCByZXBvcnQgc3VtbWFyaWVzLlxuICAgKiBAcmV0dXJucyBMaXN0IHdpdGggc3VtbWFyeSBvZiBhdmFpbGFibGUgY2FsbCByZXBvcnRzIG1hdGNoaW5nIHRoZSBjb25kaXRpb24uXG4gICAqL1xuICBxdWVyeUNhbGxTdGF0cyA9IGFzeW5jIChkYXRhOiBRdWVyeUNhbGxTdGF0c1JlcXVlc3QgPSB7fSkgPT4ge1xuICAgIHJldHVybiB0aGlzLnN0cmVhbUNsaWVudC5wb3N0PFxuICAgICAgUXVlcnlDYWxsU3RhdHNSZXNwb25zZSxcbiAgICAgIFF1ZXJ5Q2FsbFN0YXRzUmVxdWVzdFxuICAgID4oYC9jYWxsL3N0YXRzYCwgZGF0YSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHJpZXZlIHRoZSBsaXN0IG9mIGF2YWlsYWJsZSByZXBvcnRzIGFnZ3JlZ2F0ZWQgZnJvbSB0aGUgY2FsbCBzdGF0cy5cbiAgICpcbiAgICogQHBhcmFtIGRhdGEgU3BlY2lmeSBmaWx0ZXIgY29uZGl0aW9ucyBsaWtlIGZyb20gYW5kIHRvICh3aXRoaW4gbGFzdCAzMCBkYXlzKSBhbmQgdGhlIHJlcG9ydCB0eXBlc1xuICAgKiBAcmV0dXJucyBSZXF1ZXN0ZWQgcmVwb3J0cyB3aXRoIChtb3N0bHkpIHJhdyBkYWlseSBkYXRhIGZvciBlYWNoIHJlcG9ydCB0eXBlIHJlcXVlc3RlZFxuICAgKi9cbiAgcXVlcnlBZ2dyZWdhdGVDYWxsU3RhdHMgPSBhc3luYyAoXG4gICAgZGF0YTogUXVlcnlBZ2dyZWdhdGVDYWxsU3RhdHNSZXF1ZXN0ID0ge30sXG4gICkgPT4ge1xuICAgIHJldHVybiB0aGlzLnN0cmVhbUNsaWVudC5wb3N0PFxuICAgICAgUXVlcnlBZ2dyZWdhdGVDYWxsU3RhdHNSZXNwb25zZSxcbiAgICAgIFF1ZXJ5QWdncmVnYXRlQ2FsbFN0YXRzUmVxdWVzdFxuICAgID4oYC9zdGF0c2AsIGRhdGEpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgbGlzdCBvZiBhdmFpbGFibGUgZGF0YSBjZW50ZXJzIGF2YWlsYWJsZSBmb3IgaG9zdGluZyBjYWxscy5cbiAgICovXG4gIGVkZ2VzID0gYXN5bmMgKCkgPT4ge1xuICAgIHJldHVybiB0aGlzLnN0cmVhbUNsaWVudC5nZXQ8R2V0RWRnZXNSZXNwb25zZT4oYC9lZGdlc2ApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBhZGREZXZpY2UgLSBBZGRzIGEgcHVzaCBkZXZpY2UgZm9yIGEgdXNlci5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkIHRoZSBkZXZpY2UgaWRcbiAgICogQHBhcmFtIHtzdHJpbmd9IHB1c2hfcHJvdmlkZXIgdGhlIHB1c2ggcHJvdmlkZXIgbmFtZSAoZWcuIGFwbiwgZmlyZWJhc2UpXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwdXNoX3Byb3ZpZGVyX25hbWUgdXNlciBwcm92aWRlZCBwdXNoIHByb3ZpZGVyIG5hbWVcbiAgICogQHBhcmFtIHtzdHJpbmd9IFt1c2VySURdIHRoZSB1c2VyIGlkIChkZWZhdWx0cyB0byBjdXJyZW50IHVzZXIpXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3ZvaXBfdG9rZW5dIGVuYWJsZXMgdXNlIG9mIFZvSVAgdG9rZW4gZm9yIHB1c2ggbm90aWZpY2F0aW9ucyBvbiBpT1MgcGxhdGZvcm1cbiAgICovXG4gIGFkZERldmljZSA9IGFzeW5jIChcbiAgICBpZDogc3RyaW5nLFxuICAgIHB1c2hfcHJvdmlkZXI6IHN0cmluZyxcbiAgICBwdXNoX3Byb3ZpZGVyX25hbWU/OiBzdHJpbmcsXG4gICAgdXNlcklEPzogc3RyaW5nLFxuICAgIHZvaXBfdG9rZW4/OiBib29sZWFuLFxuICApID0+IHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5zdHJlYW1DbGllbnQucG9zdDxDcmVhdGVEZXZpY2VSZXF1ZXN0PignL2RldmljZXMnLCB7XG4gICAgICBpZCxcbiAgICAgIHB1c2hfcHJvdmlkZXIsXG4gICAgICB2b2lwX3Rva2VuLFxuICAgICAgLi4uKHVzZXJJRCAhPSBudWxsID8geyB1c2VyX2lkOiB1c2VySUQgfSA6IHt9KSxcbiAgICAgIC4uLihwdXNoX3Byb3ZpZGVyX25hbWUgIT0gbnVsbCA/IHsgcHVzaF9wcm92aWRlcl9uYW1lIH0gOiB7fSksXG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIGFkZERldmljZSAtIEFkZHMgYSBwdXNoIGRldmljZSBmb3IgYSB1c2VyLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgdGhlIGRldmljZSBpZFxuICAgKiBAcGFyYW0ge3N0cmluZ30gcHVzaF9wcm92aWRlciB0aGUgcHVzaCBwcm92aWRlciBuYW1lIChlZy4gYXBuLCBmaXJlYmFzZSlcbiAgICogQHBhcmFtIHtzdHJpbmd9IHB1c2hfcHJvdmlkZXJfbmFtZSB1c2VyIHByb3ZpZGVkIHB1c2ggcHJvdmlkZXIgbmFtZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gW3VzZXJJRF0gdGhlIHVzZXIgaWQgKGRlZmF1bHRzIHRvIGN1cnJlbnQgdXNlcilcbiAgICovXG4gIGFkZFZvaXBEZXZpY2UgPSBhc3luYyAoXG4gICAgaWQ6IHN0cmluZyxcbiAgICBwdXNoX3Byb3ZpZGVyOiBzdHJpbmcsXG4gICAgcHVzaF9wcm92aWRlcl9uYW1lOiBzdHJpbmcsXG4gICAgdXNlcklEPzogc3RyaW5nLFxuICApID0+IHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5hZGREZXZpY2UoXG4gICAgICBpZCxcbiAgICAgIHB1c2hfcHJvdmlkZXIsXG4gICAgICBwdXNoX3Byb3ZpZGVyX25hbWUsXG4gICAgICB1c2VySUQsXG4gICAgICB0cnVlLFxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIGdldERldmljZXMgLSBSZXR1cm5zIHRoZSBkZXZpY2VzIGFzc29jaWF0ZWQgd2l0aCBhIGN1cnJlbnQgdXNlclxuICAgKiBAcGFyYW0ge3N0cmluZ30gW3VzZXJJRF0gVXNlciBJRC4gT25seSB3b3JrcyBvbiBzZXJ2ZXJzaWRlXG4gICAqL1xuICBnZXREZXZpY2VzID0gYXN5bmMgKHVzZXJJRD86IHN0cmluZykgPT4ge1xuICAgIHJldHVybiBhd2FpdCB0aGlzLnN0cmVhbUNsaWVudC5nZXQ8TGlzdERldmljZXNSZXNwb25zZT4oXG4gICAgICAnL2RldmljZXMnLFxuICAgICAgdXNlcklEID8geyB1c2VyX2lkOiB1c2VySUQgfSA6IHt9LFxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIHJlbW92ZURldmljZSAtIFJlbW92ZXMgdGhlIGRldmljZSB3aXRoIHRoZSBnaXZlbiBpZC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkIFRoZSBkZXZpY2UgaWRcbiAgICogQHBhcmFtIHtzdHJpbmd9IFt1c2VySURdIFRoZSB1c2VyIGlkLiBPbmx5IHNwZWNpZnkgdGhpcyBmb3Igc2VydmVyc2lkZSByZXF1ZXN0c1xuICAgKi9cbiAgcmVtb3ZlRGV2aWNlID0gYXN5bmMgKGlkOiBzdHJpbmcsIHVzZXJJRD86IHN0cmluZykgPT4ge1xuICAgIHJldHVybiBhd2FpdCB0aGlzLnN0cmVhbUNsaWVudC5kZWxldGUoJy9kZXZpY2VzJywge1xuICAgICAgaWQsXG4gICAgICAuLi4odXNlcklEID8geyB1c2VyX2lkOiB1c2VySUQgfSA6IHt9KSxcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogQSBjYWxsYmFjayB0aGF0IGNhbiBiZSB1c2VkIHRvIGNyZWF0ZSByaW5naW5nIGNhbGxzIGZyb20gcHVzaCBub3RpZmljYXRpb25zLiBJZiB0aGUgY2FsbCBhbHJlYWR5IGV4aXN0cywgaXQgd2lsbCBkbyBub3RoaW5nLlxuICAgKiBAcGFyYW0gY2FsbF9jaWRcbiAgICogQHJldHVybnNcbiAgICovXG4gIG9uUmluZ2luZ0NhbGwgPSBhc3luYyAoY2FsbF9jaWQ6IHN0cmluZykgPT4ge1xuICAgIC8vIGlmIHdlIGZpbmQgdGhlIGNhbGwgYW5kIGlzIGFscmVhZHkgcmluZ2luZywgd2UgZG9uJ3QgbmVlZCB0byBjcmVhdGUgYSBuZXcgY2FsbFxuICAgIC8vIGFzIGNsaWVudCB3b3VsZCBoYXZlIHJlY2VpdmVkIHRoZSBjYWxsLnJpbmcgc3RhdGUgYmVjYXVzZSB0aGUgYXBwIGhhZCBXUyBhbGl2ZSB3aGVuIHJlY2VpdmluZyBwdXNoIG5vdGlmaWNhdGlvbnNcbiAgICBsZXQgY2FsbCA9IHRoaXMuc3RhdGUuY2FsbHMuZmluZCgoYykgPT4gYy5jaWQgPT09IGNhbGxfY2lkICYmIGMucmluZ2luZyk7XG4gICAgaWYgKCFjYWxsKSB7XG4gICAgICAvLyBpZiBub3QgaXQgbWVhbnMgdGhhdCBXUyBpcyBub3QgYWxpdmUgd2hlbiByZWNlaXZpbmcgdGhlIHB1c2ggbm90aWZpY2F0aW9ucyBhbmQgd2UgbmVlZCB0byBmZXRjaCB0aGUgY2FsbFxuICAgICAgY29uc3QgW2NhbGxUeXBlLCBjYWxsSWRdID0gY2FsbF9jaWQuc3BsaXQoJzonKTtcbiAgICAgIGNhbGwgPSBuZXcgQ2FsbCh7XG4gICAgICAgIHN0cmVhbUNsaWVudDogdGhpcy5zdHJlYW1DbGllbnQsXG4gICAgICAgIHR5cGU6IGNhbGxUeXBlLFxuICAgICAgICBpZDogY2FsbElkLFxuICAgICAgICBjbGllbnRTdG9yZTogdGhpcy53cml0ZWFibGVTdGF0ZVN0b3JlLFxuICAgICAgICByaW5naW5nOiB0cnVlLFxuICAgICAgfSk7XG4gICAgICBhd2FpdCBjYWxsLmdldCgpO1xuICAgIH1cblxuICAgIHJldHVybiBjYWxsO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDb25uZWN0cyB0aGUgZ2l2ZW4gYW5vbnltb3VzIHVzZXIgdG8gdGhlIGNsaWVudC5cbiAgICpcbiAgICogQHBhcmFtIHVzZXIgdGhlIHVzZXIgdG8gY29ubmVjdC5cbiAgICogQHBhcmFtIHRva2VuT3JQcm92aWRlciBhIHRva2VuIG9yIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgdG9rZW4uXG4gICAqL1xuICBwcm90ZWN0ZWQgY29ubmVjdEFub255bW91c1VzZXIgPSBhc3luYyAoXG4gICAgdXNlcjogVXNlcldpdGhJZCxcbiAgICB0b2tlbk9yUHJvdmlkZXI6IFRva2VuT3JQcm92aWRlcixcbiAgKSA9PiB7XG4gICAgY29uc3QgY29ubmVjdEFub255bW91c1VzZXIgPSAoKSA9PlxuICAgICAgdGhpcy5zdHJlYW1DbGllbnQuY29ubmVjdEFub255bW91c1VzZXIodXNlciwgdG9rZW5PclByb3ZpZGVyKTtcbiAgICByZXR1cm4gYXdhaXQgd2l0aG91dENvbmN1cnJlbmN5KHRoaXMuY29ubmVjdGlvbkNvbmN1cnJlbmN5VGFnLCAoKSA9PlxuICAgICAgY29ubmVjdEFub255bW91c1VzZXIoKSxcbiAgICApO1xuICB9O1xufVxuIl0sIm5hbWVzIjpbIkF1ZGlvU2V0dGluZ3NSZXF1ZXN0RGVmYXVsdERldmljZUVudW0iLCJTUEVBS0VSIiwiRUFSUElFQ0UiLCJBdWRpb1NldHRpbmdzUmVzcG9uc2VEZWZhdWx0RGV2aWNlRW51bSIsIkJsb2NrTGlzdE9wdGlvbnNCZWhhdmlvckVudW0iLCJGTEFHIiwiQkxPQ0siLCJTSEFET1dfQkxPQ0siLCJDaGFubmVsQ29uZmlnV2l0aEluZm9BdXRvbW9kRW51bSIsIkRJU0FCTEVEIiwiU0lNUExFIiwiQUkiLCJDaGFubmVsQ29uZmlnV2l0aEluZm9BdXRvbW9kQmVoYXZpb3JFbnVtIiwiQ2hhbm5lbENvbmZpZ1dpdGhJbmZvQmxvY2tsaXN0QmVoYXZpb3JFbnVtIiwiQ3JlYXRlRGV2aWNlUmVxdWVzdFB1c2hQcm92aWRlckVudW0iLCJGSVJFQkFTRSIsIkFQTiIsIkhVQVdFSSIsIlhJQU9NSSIsIk5vaXNlQ2FuY2VsbGF0aW9uU2V0dGluZ3NNb2RlRW51bSIsIkFWQUlMQUJMRSIsIkFVVE9fT04iLCJPd25DYXBhYmlsaXR5IiwiQkxPQ0tfVVNFUlMiLCJDSEFOR0VfTUFYX0RVUkFUSU9OIiwiQ1JFQVRFX0NBTEwiLCJDUkVBVEVfUkVBQ1RJT04iLCJFTkFCTEVfTk9JU0VfQ0FOQ0VMTEFUSU9OIiwiRU5EX0NBTEwiLCJKT0lOX0JBQ0tTVEFHRSIsIkpPSU5fQ0FMTCIsIkpPSU5fRU5ERURfQ0FMTCIsIk1VVEVfVVNFUlMiLCJQSU5fRk9SX0VWRVJZT05FIiwiUkVBRF9DQUxMIiwiUkVNT1ZFX0NBTExfTUVNQkVSIiwiU0NSRUVOU0hBUkUiLCJTRU5EX0FVRElPIiwiU0VORF9WSURFTyIsIlNUQVJUX0JST0FEQ0FTVF9DQUxMIiwiU1RBUlRfUkVDT1JEX0NBTEwiLCJTVEFSVF9UUkFOU0NSSVBUSU9OX0NBTEwiLCJTVE9QX0JST0FEQ0FTVF9DQUxMIiwiU1RPUF9SRUNPUkRfQ0FMTCIsIlNUT1BfVFJBTlNDUklQVElPTl9DQUxMIiwiVVBEQVRFX0NBTEwiLCJVUERBVEVfQ0FMTF9NRU1CRVIiLCJVUERBVEVfQ0FMTF9QRVJNSVNTSU9OUyIsIlVQREFURV9DQUxMX1NFVFRJTkdTIiwiUmVjb3JkU2V0dGluZ3NSZXF1ZXN0TW9kZUVudW0iLCJSZWNvcmRTZXR0aW5nc1JlcXVlc3RRdWFsaXR5RW51bSIsIl8zNjBQIiwiXzQ4MFAiLCJfNzIwUCIsIl8xMDgwUCIsIl8xNDQwUCIsIlBPUlRSQUlUXzM2MFg2NDAiLCJQT1JUUkFJVF80ODBYODU0IiwiUE9SVFJBSVRfNzIwWDEyODAiLCJQT1JUUkFJVF8xMDgwWDE5MjAiLCJQT1JUUkFJVF8xNDQwWDI1NjAiLCJUcmFuc2NyaXB0aW9uU2V0dGluZ3NSZXF1ZXN0TW9kZUVudW0iLCJUcmFuc2NyaXB0aW9uU2V0dGluZ3NSZXNwb25zZU1vZGVFbnVtIiwiVmlkZW9TZXR0aW5nc1JlcXVlc3RDYW1lcmFGYWNpbmdFbnVtIiwiRlJPTlQiLCJCQUNLIiwiRVhURVJOQUwiLCJWaWRlb1NldHRpbmdzUmVzcG9uc2VDYW1lcmFGYWNpbmdFbnVtIiwiRXJyb3JGcm9tUmVzcG9uc2UiLCJFcnJvciIsIk51bGxWYWx1ZSIsIlN0cnVjdCRUeXBlIiwiTWVzc2FnZVR5cGUiLCJjb25zdHJ1Y3RvciIsIm5vIiwibmFtZSIsImtpbmQiLCJLIiwiViIsIlQiLCJWYWx1ZSIsImludGVybmFsSnNvbldyaXRlIiwibWVzc2FnZSIsIm9wdGlvbnMiLCJqc29uIiwiayIsInYiLCJPYmplY3QiLCJlbnRyaWVzIiwiZmllbGRzIiwidG9Kc29uIiwiaW50ZXJuYWxKc29uUmVhZCIsInRhcmdldCIsImlzSnNvbk9iamVjdCIsImdsb2JhbFRoaXMiLCJ0eXBlTmFtZSIsInR5cGVvZkpzb25WYWx1ZSIsImNyZWF0ZSIsImZyb21Kc29uIiwiU3RydWN0IiwiVmFsdWUkVHlwZSIsIm9uZW9mIiwiTGlzdFZhbHVlIiwib25lb2ZLaW5kIiwidW5kZWZpbmVkIiwiYm9vbFZhbHVlIiwibnVtYmVyVmFsdWUiLCJOdW1iZXIiLCJpc0Zpbml0ZSIsInN0cmluZ1ZhbHVlIiwibGlzdFZhbHVlRmllbGQiLCJmaW5kIiwiZiIsImxpc3RWYWx1ZSIsInN0cnVjdFZhbHVlRmllbGQiLCJzdHJ1Y3RWYWx1ZSIsIm51bGxWYWx1ZSIsIk5VTExfVkFMVUUiLCJBcnJheSIsImlzQXJyYXkiLCJMaXN0VmFsdWUkVHlwZSIsInJlcGVhdCIsInZhbHVlcyIsIm1hcCIsInB1c2giLCJUaW1lc3RhbXAkVHlwZSIsIm5vdyIsIm1zZyIsIm1zIiwiRGF0ZSIsInNlY29uZHMiLCJQYkxvbmciLCJmcm9tIiwiTWF0aCIsImZsb29yIiwidG9TdHJpbmciLCJuYW5vcyIsInRvRGF0ZSIsInRvTnVtYmVyIiwiY2VpbCIsImZyb21EYXRlIiwiZGF0ZSIsImdldFRpbWUiLCJwYXJzZSIsInoiLCJuYW5vc1N0ciIsInN1YnN0cmluZyIsInRvSVNPU3RyaW5nIiwicmVwbGFjZSIsIm1hdGNoZXMiLCJtYXRjaCIsImlzTmFOIiwicGFyc2VJbnQiLCJsZW5ndGgiLCJUaW1lc3RhbXAiLCJQZWVyVHlwZSIsIkNvbm5lY3Rpb25RdWFsaXR5IiwiVmlkZW9RdWFsaXR5IiwiVHJhY2tUeXBlIiwiRXJyb3JDb2RlIiwiU2RrVHlwZSIsIlRyYWNrVW5wdWJsaXNoUmVhc29uIiwiR29Bd2F5UmVhc29uIiwiQ2FsbEVuZGVkUmVhc29uIiwiV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3kiLCJBbmRyb2lkVGhlcm1hbFN0YXRlIiwiQXBwbGVUaGVybWFsU3RhdGUiLCJDYWxsU3RhdGUkVHlwZSIsIlBhcnRpY2lwYW50IiwiUGFydGljaXBhbnRDb3VudCIsIlBpbiIsIkNhbGxTdGF0ZSIsIlBhcnRpY2lwYW50Q291bnQkVHlwZSIsIlBpbiRUeXBlIiwiUGFydGljaXBhbnQkVHlwZSIsIlN0cmVhbVF1YWxpdHkkVHlwZSIsIlN0cmVhbVF1YWxpdHkiLCJWaWRlb0RpbWVuc2lvbiRUeXBlIiwiVmlkZW9EaW1lbnNpb24iLCJWaWRlb0xheWVyJFR5cGUiLCJWaWRlb0xheWVyIiwiUHVibGlzaE9wdGlvbnMkVHlwZSIsIlB1Ymxpc2hPcHRpb24iLCJQdWJsaXNoT3B0aW9ucyIsIlB1Ymxpc2hPcHRpb24kVHlwZSIsIkNvZGVjIiwiQ29kZWMkVHlwZSIsIklDRVRyaWNrbGUkVHlwZSIsIklDRVRyaWNrbGUiLCJUcmFja0luZm8kVHlwZSIsIlRyYWNrSW5mbyIsIkVycm9yJFR5cGUiLCJDbGllbnREZXRhaWxzJFR5cGUiLCJTZGsiLCJPUyIsIkJyb3dzZXIiLCJEZXZpY2UiLCJDbGllbnREZXRhaWxzIiwiU2RrJFR5cGUiLCJPUyRUeXBlIiwiQnJvd3NlciRUeXBlIiwiRGV2aWNlJFR5cGUiLCJDYWxsJFR5cGUiLCJDYWxsIiwiQ2FsbEdyYW50cyRUeXBlIiwiQ2FsbEdyYW50cyIsIklucHV0RGV2aWNlcyRUeXBlIiwiSW5wdXREZXZpY2VzIiwiQW5kcm9pZFN0YXRlJFR5cGUiLCJBbmRyb2lkU3RhdGUiLCJBcHBsZVN0YXRlJFR5cGUiLCJBcHBsZVN0YXRlIiwiU3RhcnROb2lzZUNhbmNlbGxhdGlvblJlcXVlc3QkVHlwZSIsIlN0YXJ0Tm9pc2VDYW5jZWxsYXRpb25SZXF1ZXN0IiwiU3RhcnROb2lzZUNhbmNlbGxhdGlvblJlc3BvbnNlJFR5cGUiLCJTdGFydE5vaXNlQ2FuY2VsbGF0aW9uUmVzcG9uc2UiLCJTdG9wTm9pc2VDYW5jZWxsYXRpb25SZXF1ZXN0JFR5cGUiLCJTdG9wTm9pc2VDYW5jZWxsYXRpb25SZXF1ZXN0IiwiU3RvcE5vaXNlQ2FuY2VsbGF0aW9uUmVzcG9uc2UkVHlwZSIsIlN0b3BOb2lzZUNhbmNlbGxhdGlvblJlc3BvbnNlIiwiUmVjb25uZWN0aW9uJFR5cGUiLCJSZWNvbm5lY3Rpb24iLCJUZWxlbWV0cnkkVHlwZSIsIlRlbGVtZXRyeSIsIlNlbmRTdGF0c1JlcXVlc3QkVHlwZSIsIlNlbmRTdGF0c1JlcXVlc3QiLCJTZW5kU3RhdHNSZXNwb25zZSRUeXBlIiwiU2VuZFN0YXRzUmVzcG9uc2UiLCJJQ0VSZXN0YXJ0UmVxdWVzdCRUeXBlIiwiSUNFUmVzdGFydFJlcXVlc3QiLCJJQ0VSZXN0YXJ0UmVzcG9uc2UkVHlwZSIsIklDRVJlc3RhcnRSZXNwb25zZSIsIlVwZGF0ZU11dGVTdGF0ZXNSZXF1ZXN0JFR5cGUiLCJUcmFja011dGVTdGF0ZSIsIlVwZGF0ZU11dGVTdGF0ZXNSZXF1ZXN0IiwiVXBkYXRlTXV0ZVN0YXRlc1Jlc3BvbnNlJFR5cGUiLCJVcGRhdGVNdXRlU3RhdGVzUmVzcG9uc2UiLCJUcmFja011dGVTdGF0ZSRUeXBlIiwiQXVkaW9NdXRlQ2hhbmdlZCRUeXBlIiwiVmlkZW9NdXRlQ2hhbmdlZCRUeXBlIiwiVXBkYXRlU3Vic2NyaXB0aW9uc1JlcXVlc3QkVHlwZSIsIlRyYWNrU3Vic2NyaXB0aW9uRGV0YWlscyIsIlVwZGF0ZVN1YnNjcmlwdGlvbnNSZXF1ZXN0IiwiVXBkYXRlU3Vic2NyaXB0aW9uc1Jlc3BvbnNlJFR5cGUiLCJVcGRhdGVTdWJzY3JpcHRpb25zUmVzcG9uc2UiLCJUcmFja1N1YnNjcmlwdGlvbkRldGFpbHMkVHlwZSIsIlNlbmRBbnN3ZXJSZXF1ZXN0JFR5cGUiLCJTZW5kQW5zd2VyUmVxdWVzdCIsIlNlbmRBbnN3ZXJSZXNwb25zZSRUeXBlIiwiU2VuZEFuc3dlclJlc3BvbnNlIiwiSUNFVHJpY2tsZVJlc3BvbnNlJFR5cGUiLCJJQ0VUcmlja2xlUmVzcG9uc2UiLCJTZXRQdWJsaXNoZXJSZXF1ZXN0JFR5cGUiLCJTZXRQdWJsaXNoZXJSZXF1ZXN0IiwiU2V0UHVibGlzaGVyUmVzcG9uc2UkVHlwZSIsIlNldFB1Ymxpc2hlclJlc3BvbnNlIiwiU2lnbmFsU2VydmVyIiwiU2VydmljZVR5cGUiLCJJIiwiTyIsIlNmdUV2ZW50JFR5cGUiLCJTdWJzY3JpYmVyT2ZmZXIiLCJQdWJsaXNoZXJBbnN3ZXIiLCJDb25uZWN0aW9uUXVhbGl0eUNoYW5nZWQiLCJBdWRpb0xldmVsQ2hhbmdlZCIsIklDRVRyaWNrbGUkIiwiQ2hhbmdlUHVibGlzaFF1YWxpdHkiLCJQYXJ0aWNpcGFudEpvaW5lZCIsIlBhcnRpY2lwYW50TGVmdCIsIkRvbWluYW50U3BlYWtlckNoYW5nZWQiLCJKb2luUmVzcG9uc2UiLCJIZWFsdGhDaGVja1Jlc3BvbnNlIiwiVHJhY2tQdWJsaXNoZWQiLCJUcmFja1VucHVibGlzaGVkIiwiQ2FsbEdyYW50c1VwZGF0ZWQiLCJHb0F3YXkiLCJJQ0VSZXN0YXJ0IiwiUGluc0NoYW5nZWQiLCJDYWxsRW5kZWQiLCJQYXJ0aWNpcGFudFVwZGF0ZWQiLCJQYXJ0aWNpcGFudE1pZ3JhdGlvbkNvbXBsZXRlIiwiQ29kZWNOZWdvdGlhdGlvbkNvbXBsZXRlIiwiQ2hhbmdlUHVibGlzaE9wdGlvbnMiLCJTZnVFdmVudCIsIkNoYW5nZVB1Ymxpc2hPcHRpb25zJFR5cGUiLCJDb2RlY05lZ290aWF0aW9uQ29tcGxldGUkVHlwZSIsIlBhcnRpY2lwYW50TWlncmF0aW9uQ29tcGxldGUkVHlwZSIsIlBpbnNDaGFuZ2VkJFR5cGUiLCJFcnJvciQiLCJJQ0VSZXN0YXJ0JFR5cGUiLCJTZnVSZXF1ZXN0JFR5cGUiLCJKb2luUmVxdWVzdCIsIkhlYWx0aENoZWNrUmVxdWVzdCIsIkxlYXZlQ2FsbFJlcXVlc3QiLCJTZnVSZXF1ZXN0IiwiTGVhdmVDYWxsUmVxdWVzdCRUeXBlIiwiSGVhbHRoQ2hlY2tSZXF1ZXN0JFR5cGUiLCJIZWFsdGhDaGVja1Jlc3BvbnNlJFR5cGUiLCJUcmFja1B1Ymxpc2hlZCRUeXBlIiwiVHJhY2tVbnB1Ymxpc2hlZCRUeXBlIiwiSm9pblJlcXVlc3QkVHlwZSIsIk1pZ3JhdGlvbiIsIlJlY29ubmVjdERldGFpbHMiLCJSZWNvbm5lY3REZXRhaWxzJFR5cGUiLCJNaWdyYXRpb24kVHlwZSIsIkpvaW5SZXNwb25zZSRUeXBlIiwiUGFydGljaXBhbnRKb2luZWQkVHlwZSIsIlBhcnRpY2lwYW50TGVmdCRUeXBlIiwiUGFydGljaXBhbnRVcGRhdGVkJFR5cGUiLCJTdWJzY3JpYmVyT2ZmZXIkVHlwZSIsIlB1Ymxpc2hlckFuc3dlciRUeXBlIiwiQ29ubmVjdGlvblF1YWxpdHlDaGFuZ2VkJFR5cGUiLCJDb25uZWN0aW9uUXVhbGl0eUluZm8iLCJDb25uZWN0aW9uUXVhbGl0eUluZm8kVHlwZSIsIkRvbWluYW50U3BlYWtlckNoYW5nZWQkVHlwZSIsIkF1ZGlvTGV2ZWwkVHlwZSIsIkF1ZGlvTGV2ZWwiLCJBdWRpb0xldmVsQ2hhbmdlZCRUeXBlIiwiQXVkaW9TZW5kZXIkVHlwZSIsIkF1ZGlvU2VuZGVyIiwiVmlkZW9MYXllclNldHRpbmckVHlwZSIsIlZpZGVvTGF5ZXJTZXR0aW5nIiwiVmlkZW9TZW5kZXIkVHlwZSIsIlZpZGVvU2VuZGVyIiwiQ2hhbmdlUHVibGlzaFF1YWxpdHkkVHlwZSIsIkNhbGxHcmFudHNVcGRhdGVkJFR5cGUiLCJHb0F3YXkkVHlwZSIsIkNhbGxFbmRlZCRUeXBlIiwiVmlzaWJpbGl0eVN0YXRlIiwiRGVib3VuY2VUeXBlIiwiU2lnbmFsU2VydmVyQ2xpZW50IiwiX3RyYW5zcG9ydCIsIm1ldGhvZHMiLCJzZXRQdWJsaXNoZXIiLCJpbnB1dCIsIm1ldGhvZCIsIm9wdCIsIm1lcmdlT3B0aW9ucyIsInN0YWNrSW50ZXJjZXB0Iiwic2VuZEFuc3dlciIsImljZVRyaWNrbGUiLCJ1cGRhdGVTdWJzY3JpcHRpb25zIiwidXBkYXRlTXV0ZVN0YXRlcyIsImljZVJlc3RhcnQiLCJzZW5kU3RhdHMiLCJzdGFydE5vaXNlQ2FuY2VsbGF0aW9uIiwic3RvcE5vaXNlQ2FuY2VsbGF0aW9uIiwiZGVmYXVsdE9wdGlvbnMiLCJiYXNlVXJsIiwic2VuZEpzb24iLCJ0aW1lb3V0IiwianNvbk9wdGlvbnMiLCJpZ25vcmVVbmtub3duRmllbGRzIiwid2l0aEhlYWRlcnMiLCJoZWFkZXJzIiwiaW50ZXJjZXB0VW5hcnkiLCJuZXh0IiwibWV0YSIsIndpdGhSZXF1ZXN0TG9nZ2VyIiwibG9nZ2VyIiwibGV2ZWwiLCJjcmVhdGVTaWduYWxDbGllbnQiLCJ0cmFuc3BvcnQiLCJUd2lycEZldGNoVHJhbnNwb3J0Iiwic2xlZXAiLCJtIiwiUHJvbWlzZSIsInIiLCJzZXRUaW1lb3V0IiwiaXNGdW5jdGlvbiIsInZhbHVlIiwicHJvdG90eXBlIiwiY2FsbCIsIkZ1bmN0aW9uIiwiS25vd25Db2RlcyIsIlRPS0VOX0VYUElSRUQiLCJXU19DTE9TRURfU1VDQ0VTUyIsIldTX0NMT1NFRF9BQlJVUFRMWSIsIldTX1BPTElDWV9WSU9MQVRJT04iLCJyZXRyeUludGVydmFsIiwibnVtYmVyT2ZGYWlsdXJlcyIsIm1heCIsIm1pbiIsInJhbmRvbSIsInJhbmRvbUlkIiwiZ2VuZXJhdGVVVUlEdjQiLCJoZXgiLCJieXRlcyIsInMiLCJpIiwicGFkU3RhcnQiLCJnZXRSYW5kb21CeXRlcyIsInN1YmFycmF5IiwiZ2V0UmFuZG9tVmFsdWVzV2l0aE1hdGhSYW5kb20iLCJwb3ciLCJieXRlTGVuZ3RoIiwiZ2V0UmFuZG9tVmFsdWVzIiwiY3J5cHRvIiwiYmluZCIsIm1zQ3J5cHRvIiwiVWludDhBcnJheSIsImFkZENvbm5lY3Rpb25FdmVudExpc3RlbmVycyIsImNiIiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUNvbm5lY3Rpb25FdmVudExpc3RlbmVycyIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJpc0Vycm9yUmVzcG9uc2UiLCJyZXMiLCJzdGF0dXMiLCJpc0Nsb3NlRXZlbnQiLCJjb2RlIiwiaXNSZWFjdE5hdGl2ZSIsIm5hdmlnYXRvciIsInByb2R1Y3QiLCJ0b0xvd2VyQ2FzZSIsImxvZ0xldmVscyIsImZyZWV6ZSIsInRyYWNlIiwiZGVidWciLCJpbmZvIiwid2FybiIsImVycm9yIiwibG9nVG9Db25zb2xlIiwibG9nTGV2ZWwiLCJhcmdzIiwibG9nTWV0aG9kIiwiY29uc29sZSIsImxvZyIsInNldExvZ2dlciIsImwiLCJsdmwiLCJzZXRMb2dMZXZlbCIsImdldExvZ0xldmVsIiwiZ2V0TG9nZ2VyIiwid2l0aFRhZ3MiLCJsb2dnZXJNZXRob2QiLCJ0YWdzIiwiZmlsdGVyIiwiQm9vbGVhbiIsImpvaW4iLCJyZXN1bHQiLCJyZXRyeWFibGUiLCJycGMiLCJzaWduYWwiLCJhdHRlbXB0IiwiZXJyIiwiaXNSZXF1ZXN0Q2FuY2VsbGVkIiwiUnBjRXJyb3IiLCJUd2lycEVycm9yQ29kZSIsImNhbmNlbGxlZCIsImlzQWJvcnRlZCIsImFib3J0ZWQiLCJyZXNwb25zZSIsInNob3VsZFJldHJ5IiwidmVyc2lvbiIsIm1ham9yIiwibWlub3IiLCJwYXRjaCIsInNwbGl0Iiwic2RrSW5mbyIsInR5cGUiLCJQTEFJTl9KQVZBU0NSSVBUIiwib3NJbmZvIiwiZGV2aWNlSW5mbyIsIndlYlJ0Y0luZm8iLCJkZXZpY2VTdGF0ZSIsInNldFNka0luZm8iLCJnZXRTZGtJbmZvIiwic2V0T1NJbmZvIiwiZ2V0T1NJbmZvIiwic2V0RGV2aWNlSW5mbyIsImdldERldmljZUluZm8iLCJnZXRXZWJSVENJbmZvIiwic2V0V2ViUlRDSW5mbyIsInNldFRoZXJtYWxTdGF0ZSIsInN0YXRlIiwidGhlcm1hbFN0YXRlIiwiVU5TUEVDSUZJRUQiLCJhbmRyb2lkIiwiaXNQb3dlclNhdmVyTW9kZSIsImFwcGxlIiwiaXNMb3dQb3dlck1vZGVFbmFibGVkIiwic2V0UG93ZXJTdGF0ZSIsInBvd2VyTW9kZSIsImdldERldmljZVN0YXRlIiwiZ2V0Q2xpZW50RGV0YWlscyIsInNkayIsIm9zIiwiZGV2aWNlIiwidXNlckFnZW50IiwiVUFQYXJzZXIiLCJicm93c2VyIiwiY3B1IiwiZ2V0UmVzdWx0IiwiYXJjaGl0ZWN0dXJlIiwidmVuZG9yIiwibW9kZWwiLCJpc1NhZmFyaSIsInRlc3QiLCJpc0ZpcmVmb3giLCJpbmNsdWRlcyIsImlzQ2hyb21lIiwiZ2V0UHJlZmVycmVkQ29kZWNzIiwicHJlZmVycmVkQ29kZWMiLCJjb2RlY1RvUmVtb3ZlIiwiY29kZWNQcmVmZXJlbmNlc1NvdXJjZSIsInNvdXJjZSIsIlJUQ1J0cFJlY2VpdmVyIiwiUlRDUnRwU2VuZGVyIiwiY2FwYWJpbGl0aWVzIiwiZ2V0Q2FwYWJpbGl0aWVzIiwicHJlZmVycmVkIiwicGFydGlhbGx5UHJlZmVycmVkIiwidW5wcmVmZXJyZWQiLCJwcmVmZXJyZWRDb2RlY01pbWVUeXBlIiwiY29kZWNUb1JlbW92ZU1pbWVUeXBlIiwiY29kZWMiLCJjb2RlY3MiLCJjb2RlY01pbWVUeXBlIiwibWltZVR5cGUiLCJzaG91bGRSZW1vdmVDb2RlYyIsImlzUHJlZmVycmVkQ29kZWMiLCJzZHBGbXRwTGluZSIsInVuc2hpZnQiLCJnZXRHZW5lcmljU2RwIiwiZGlyZWN0aW9uIiwidGVtcFBjIiwiUlRDUGVlckNvbm5lY3Rpb24iLCJhZGRUcmFuc2NlaXZlciIsIm9mZmVyIiwiY3JlYXRlT2ZmZXIiLCJzZHAiLCJnZXRUcmFuc2NlaXZlcnMiLCJmb3JFYWNoIiwidCIsInN0b3AiLCJjbG9zZSIsImdldE9wdGltYWxWaWRlb0NvZGVjIiwicHJlZmVycmVkT3IiLCJzdXBwb3J0c0gyNjRCYXNlbGluZSIsImZhbGxiYWNrIiwiaXNTdmNDb2RlYyIsInNvbWUiLCJjIiwiY29kZWNPck1pbWVUeXBlIiwic2Z1RXZlbnRLaW5kcyIsInN1YnNjcmliZXJPZmZlciIsInB1Ymxpc2hlckFuc3dlciIsImNvbm5lY3Rpb25RdWFsaXR5Q2hhbmdlZCIsImF1ZGlvTGV2ZWxDaGFuZ2VkIiwiY2hhbmdlUHVibGlzaFF1YWxpdHkiLCJwYXJ0aWNpcGFudEpvaW5lZCIsInBhcnRpY2lwYW50TGVmdCIsImRvbWluYW50U3BlYWtlckNoYW5nZWQiLCJqb2luUmVzcG9uc2UiLCJoZWFsdGhDaGVja1Jlc3BvbnNlIiwidHJhY2tQdWJsaXNoZWQiLCJ0cmFja1VucHVibGlzaGVkIiwiY2FsbEdyYW50c1VwZGF0ZWQiLCJnb0F3YXkiLCJwaW5zVXBkYXRlZCIsImNhbGxFbmRlZCIsInBhcnRpY2lwYW50VXBkYXRlZCIsInBhcnRpY2lwYW50TWlncmF0aW9uQ29tcGxldGUiLCJjb2RlY05lZ290aWF0aW9uQ29tcGxldGUiLCJjaGFuZ2VQdWJsaXNoT3B0aW9ucyIsImlzU2Z1RXZlbnQiLCJldmVudE5hbWUiLCJoYXNPd25Qcm9wZXJ0eSIsIkRpc3BhdGNoZXIiLCJzdWJzY3JpYmVycyIsImRpc3BhdGNoIiwibG9nVGFnIiwiZXZlbnRLaW5kIiwiZXZlbnRQYXlsb2FkIiwicGF5bG9hZCIsImxpc3RlbmVycyIsImZuIiwiZSIsIm9uIiwiX2EiLCJvZmYiLCJvZmZBbGwiLCJJY2VUcmlja2xlQnVmZmVyIiwic3Vic2NyaWJlckNhbmRpZGF0ZXMiLCJSZXBsYXlTdWJqZWN0IiwicHVibGlzaGVyQ2FuZGlkYXRlcyIsInBlZXJUeXBlIiwiU1VCU0NSSUJFUiIsIlBVQkxJU0hFUl9VTlNQRUNJRklFRCIsImdldEljZUNhbmRpZGF0ZSIsImNhbmRpZGF0ZSIsInVzZXJuYW1lRnJhZ21lbnQiLCJzcGxpdHRlZENhbmRpZGF0ZSIsInVmcmFnSW5kZXgiLCJmaW5kSW5kZXgiLCJKU09OIiwic3RyaW5naWZ5IiwidG9KU09OIiwiYml0cmF0ZUxvb2t1cFRhYmxlIiwiaDI2NCIsImRlZmF1bHQiLCJ2cDgiLCJ2cDkiLCJhdjEiLCJnZXRPcHRpbWFsQml0cmF0ZSIsImZyYW1lSGVpZ2h0IiwiY29kZWNMb29rdXAiLCJiaXRyYXRlIiwia2V5cyIsIm5lYXJlc3QiLCJyZWR1Y2UiLCJhIiwiYiIsImFicyIsIkRFRkFVTFRfQklUUkFURSIsImRlZmF1bHRUYXJnZXRSZXNvbHV0aW9uIiwid2lkdGgiLCJoZWlnaHQiLCJkZWZhdWx0Qml0cmF0ZVBlclJpZCIsInEiLCJoIiwidG9TdmNFbmNvZGluZ3MiLCJsYXllcnMiLCJyaWQiLCJyaWRUb1ZpZGVvUXVhbGl0eSIsIkxPV19VTlNQRUNJRklFRCIsIk1JRCIsIkhJR0giLCJmaW5kT3B0aW1hbFZpZGVvTGF5ZXJzIiwidmlkZW9UcmFjayIsInRhcmdldFJlc29sdXRpb24iLCJjb2RlY0luVXNlIiwicHVibGlzaE9wdGlvbnMiLCJvcHRpbWFsVmlkZW9MYXllcnMiLCJzZXR0aW5ncyIsImdldFNldHRpbmdzIiwic2NhbGFiaWxpdHlNb2RlIiwiYml0cmF0ZURvd25zY2FsZUZhY3RvciIsIm1heFNpbXVsY2FzdExheWVycyIsIm1heEJpdHJhdGUiLCJnZXRDb21wdXRlZE1heEJpdHJhdGUiLCJkb3duc2NhbGVGYWN0b3IiLCJiaXRyYXRlRmFjdG9yIiwic3ZjQ29kZWMiLCJ0b3RhbExheWVycyIsInNsaWNlIiwibGF5ZXIiLCJhY3RpdmUiLCJyb3VuZCIsIm1heEZyYW1lcmF0ZSIsInNjYWxlUmVzb2x1dGlvbkRvd25CeSIsIndpdGhTaW11bGNhc3RDb25zdHJhaW50cyIsImN1cnJlbnRXaWR0aCIsImN1cnJlbnRIZWlnaHQiLCJ0YXJnZXRXaWR0aCIsInRhcmdldEhlaWdodCIsInRhcmdldEJpdHJhdGUiLCJwcmVmZXJyZWRCaXRyYXRlIiwiY3VycmVudFBpeGVscyIsInRhcmdldFBpeGVscyIsInJlZHVjdGlvbkZhY3RvciIsInNpemUiLCJyaWRNYXBwaW5nIiwiaW5kZXgiLCJmaW5kT3B0aW1hbFNjcmVlblNoYXJpbmdMYXllcnMiLCJkZWZhdWx0TWF4Qml0cmF0ZSIsInNjcmVlblNoYXJlU2V0dGluZ3MiLCJwcmVmZXJlbmNlcyIsImVuc3VyZUV4aGF1c3RlZCIsIngiLCJ0cmFja1R5cGVUb1BhcnRpY2lwYW50U3RyZWFtS2V5IiwidHJhY2tUeXBlIiwiU0NSRUVOX1NIQVJFIiwiU0NSRUVOX1NIQVJFX0FVRElPIiwiVklERU8iLCJBVURJTyIsIm11dGVUeXBlVG9UcmFja1R5cGUiLCJtdXRlVHlwZSIsInRvVHJhY2tUeXBlIiwid2l0aG91dENvbmN1cnJlbmN5IiwiY3JlYXRlUnVubmVyIiwid3JhcFdpdGhDb250aW51YXRpb25UcmFja2luZyIsIndpdGhDYW5jZWxsYXRpb24iLCJ3cmFwV2l0aENhbmNlbGxhdGlvbiIsInBlbmRpbmdQcm9taXNlcyIsIk1hcCIsInNldHRsZWQiLCJ0YWciLCJnZXQiLCJwcm9taXNlIiwid3JhcHBlciIsInJ1biIsIndyYXBwZWQiLCJvbkNvbnRpbnVlZCIsInBlbmRpbmciLCJ0aGVuIiwic2V0IiwiaGFzQ29udGludWF0aW9uIiwiZmluYWxseSIsImRlbGV0ZSIsImFjIiwiQWJvcnRDb250cm9sbGVyIiwicmVzb2x2ZSIsImFib3J0IiwiaXNGdW5jdGlvblBhdGNoIiwidXBkYXRlIiwiZ2V0Q3VycmVudFZhbHVlIiwib2JzZXJ2YWJsZSQiLCJjb21iaW5lTGF0ZXN0Iiwic3Vic2NyaWJlIiwidW5zdWJzY3JpYmUiLCJzZXRDdXJyZW50VmFsdWUiLCJzdWJqZWN0IiwiY3JlYXRlU3Vic2NyaXB0aW9uIiwib2JzZXJ2YWJsZSIsImhhbmRsZXIiLCJvbkVycm9yIiwic3Vic2NyaXB0aW9uIiwiY3JlYXRlU2FmZUFzeW5jU3Vic2NyaXB0aW9uIiwiU3ltYm9sIiwiQ2FsbGluZ1N0YXRlIiwiU3RyZWFtVmlkZW9Xcml0ZWFibGVTdGF0ZVN0b3JlIiwiY29ubmVjdGVkVXNlclN1YmplY3QiLCJCZWhhdmlvclN1YmplY3QiLCJjYWxsc1N1YmplY3QiLCJzZXRDb25uZWN0ZWRVc2VyIiwidXNlciIsIlJ4VXRpbHMuc2V0Q3VycmVudFZhbHVlIiwic2V0Q2FsbHMiLCJjYWxscyIsInJlZ2lzdGVyQ2FsbCIsImNpZCIsInVucmVnaXN0ZXJDYWxsIiwiZmluZENhbGwiLCJpZCIsImNhbGxpbmdTdGF0ZSIsIkxFRlQiLCJsZWF2ZSIsInJlYXNvbiIsImNhdGNoIiwiY29ubmVjdGVkVXNlciIsIlJ4VXRpbHMuZ2V0Q3VycmVudFZhbHVlIiwiU3RyZWFtVmlkZW9SZWFkT25seVN0YXRlU3RvcmUiLCJzdG9yZSIsImNvbm5lY3RlZFVzZXIkIiwiYXNPYnNlcnZhYmxlIiwiY2FsbHMkIiwiY29tYmluZUNvbXBhcmF0b3JzIiwiY29tcGFyYXRvcnMiLCJjb21wYXJhdG9yIiwiZGVzY2VuZGluZyIsImNvbmRpdGlvbmFsIiwicHJlZGljYXRlIiwibm9vcENvbXBhcmF0b3IiLCJoYXNWaWRlbyIsInAiLCJwdWJsaXNoZWRUcmFja3MiLCJoYXNBdWRpbyIsImhhc1NjcmVlblNoYXJlIiwiaGFzU2NyZWVuU2hhcmVBdWRpbyIsImlzUGlubmVkIiwicGluIiwiaXNMb2NhbFBpbiIsInBpbm5lZEF0IiwiZG9taW5hbnRTcGVha2VyIiwiaXNEb21pbmFudFNwZWFrZXIiLCJzcGVha2luZyIsImlzU3BlYWtpbmciLCJzY3JlZW5TaGFyaW5nIiwicHVibGlzaGluZ1ZpZGVvIiwicHVibGlzaGluZ0F1ZGlvIiwicGlubmVkIiwicmVhY3Rpb25UeXBlIiwicmVhY3Rpb24iLCJyb2xlIiwicm9sZXMiLCJoYXNBbnlSb2xlIiwiaWZJbnZpc2libGVCeSIsInZpZXdwb3J0VmlzaWJpbGl0eVN0YXRlIiwiSU5WSVNJQkxFIiwiaWZJbnZpc2libGVPclVua25vd25CeSIsIlVOS05PV04iLCJkZWZhdWx0U29ydFByZXNldCIsInNwZWFrZXJMYXlvdXRTb3J0UHJlc2V0IiwicGFnaW5hdGVkTGF5b3V0U29ydFByZXNldCIsImxpdmVzdHJlYW1PckF1ZGlvUm9vbVNvcnRQcmVzZXQiLCJkZWZhdWx0RWdyZXNzIiwiYnJvYWRjYXN0aW5nIiwiaGxzIiwicGxheWxpc3RfdXJsIiwicnRtcHMiLCJiYWNrc3RhZ2VTdWJqZWN0IiwiYmxvY2tlZFVzZXJJZHNTdWJqZWN0IiwiY3JlYXRlZEF0U3ViamVjdCIsImVuZGVkQXRTdWJqZWN0Iiwic3RhcnRzQXRTdWJqZWN0IiwidXBkYXRlZEF0U3ViamVjdCIsImNyZWF0ZWRCeVN1YmplY3QiLCJjdXN0b21TdWJqZWN0IiwiZWdyZXNzU3ViamVjdCIsImluZ3Jlc3NTdWJqZWN0IiwicmVjb3JkaW5nU3ViamVjdCIsInNlc3Npb25TdWJqZWN0Iiwic2V0dGluZ3NTdWJqZWN0IiwidHJhbnNjcmliaW5nU3ViamVjdCIsImVuZGVkQnlTdWJqZWN0IiwidGh1bWJuYWlsc1N1YmplY3QiLCJtZW1iZXJzU3ViamVjdCIsIm93bkNhcGFiaWxpdGllc1N1YmplY3QiLCJjYWxsaW5nU3RhdGVTdWJqZWN0Iiwic3RhcnRlZEF0U3ViamVjdCIsInBhcnRpY2lwYW50Q291bnRTdWJqZWN0IiwiYW5vbnltb3VzUGFydGljaXBhbnRDb3VudFN1YmplY3QiLCJwYXJ0aWNpcGFudHNTdWJqZWN0IiwiY2FsbFN0YXRzUmVwb3J0U3ViamVjdCIsIm9ycGhhbmVkVHJhY2tzIiwic29ydFBhcnRpY2lwYW50c0J5Iiwic2V0U29ydFBhcnRpY2lwYW50c0J5IiwicHMiLCJzZXRQYXJ0aWNpcGFudENvdW50IiwiY291bnQiLCJzZXRTdGFydGVkQXQiLCJzdGFydGVkQXQiLCJzZXRBbm9ueW1vdXNQYXJ0aWNpcGFudENvdW50Iiwic2V0UGFydGljaXBhbnRzIiwicGFydGljaXBhbnRzIiwic2V0Q2FsbGluZ1N0YXRlIiwic2V0Q2FsbFN0YXRzUmVwb3J0IiwicmVwb3J0Iiwic2V0TWVtYmVycyIsIm1lbWJlcnMiLCJzZXRPd25DYXBhYmlsaXRpZXMiLCJzZXRFbmRlZEF0IiwiZW5kZWRBdCIsImZpbmRQYXJ0aWNpcGFudEJ5U2Vzc2lvbklkIiwic2Vzc2lvbklkIiwiZ2V0UGFydGljaXBhbnRMb29rdXBCeVNlc3Npb25JZCIsImxvb2t1cFRhYmxlIiwicGFydGljaXBhbnQiLCJ1cGRhdGVQYXJ0aWNpcGFudCIsInRoZVBhdGNoIiwidXBkYXRlZFBhcnRpY2lwYW50IiwidXBkYXRlT3JBZGRQYXJ0aWNpcGFudCIsImFkZCIsIm5leHRQYXJ0aWNpcGFudHMiLCJ1cGRhdGVQYXJ0aWNpcGFudHMiLCJ1cGRhdGVQYXJ0aWNpcGFudFRyYWNrcyIsImNoYW5nZXMiLCJhY2MiLCJjaGFuZ2UiLCJkaW1lbnNpb24iLCJwcm9wIiwidXBkYXRlRnJvbUV2ZW50IiwiZXZlbnQiLCJldmVudEhhbmRsZXJzIiwic2V0U2VydmVyU2lkZVBpbnMiLCJwaW5zIiwicGluc0xvb2t1cCIsImxvb2t1cCIsInNlcnZlclNpZGVQaW5uZWRBdCIsInJlZ2lzdGVyT3JwaGFuZWRUcmFjayIsIm9ycGhhbmVkVHJhY2siLCJyZW1vdmVPcnBoYW5lZFRyYWNrIiwibyIsInRha2VPcnBoYW5lZFRyYWNrcyIsInRyYWNrTG9va3VwUHJlZml4Iiwib3JwaGFucyIsIm9ycGhhbiIsInVwZGF0ZUZyb21DYWxsUmVzcG9uc2UiLCJiYWNrc3RhZ2UiLCJibG9ja2VkX3VzZXJfaWRzIiwiY3JlYXRlZF9hdCIsInVwZGF0ZWRfYXQiLCJzdGFydHNfYXQiLCJlbmRlZF9hdCIsImNyZWF0ZWRfYnkiLCJjdXN0b20iLCJlZ3Jlc3MiLCJpbmdyZXNzIiwicmVjb3JkaW5nIiwic2Vzc2lvbiIsInVwZGF0ZVBhcnRpY2lwYW50Q291bnRGcm9tU2Vzc2lvbiIsInRyYW5zY3JpYmluZyIsInRodW1ibmFpbHMiLCJ1cGRhdGVGcm9tU2Z1Q2FsbFN0YXRlIiwiY2FsbFN0YXRlIiwiY3VycmVudFNlc3Npb25JZCIsInJlY29ubmVjdERldGFpbHMiLCJwYXJ0aWNpcGFudENvdW50IiwibG9jYWxQdWJsaXNoZWRUcmFja3MiLCJhbm5vdW5jZWRUcmFja3MiLCJwYXJ0aWNpcGFudExvb2t1cCIsImV4aXN0aW5nUGFydGljaXBhbnQiLCJpc0xvY2FsUGFydGljaXBhbnQiLCJhc3NpZ24iLCJzY3JlZW5TaGFyZVRyYWNrIiwidG90YWwiLCJhbm9ueW1vdXMiLCJ1cGRhdGVGcm9tTWVtYmVyUmVtb3ZlZCIsImluZGV4T2YiLCJ1c2VyX2lkIiwidXBkYXRlRnJvbU1lbWJlckFkZGVkIiwidXBkYXRlRnJvbUhMU0Jyb2FkY2FzdFN0b3BwZWQiLCJ1cGRhdGVGcm9tSExTQnJvYWRjYXN0aW5nRmFpbGVkIiwidXBkYXRlRnJvbUhMU0Jyb2FkY2FzdFN0YXJ0ZWQiLCJobHNfcGxheWxpc3RfdXJsIiwiSk9JTkVEIiwiYnlSb2xlQ291bnQiLCJwYXJ0aWNpcGFudHNfY291bnRfYnlfcm9sZSIsImNvdW50QnlSb2xlIiwiYW5vbnltb3VzX3BhcnRpY2lwYW50X2NvdW50IiwidXBkYXRlRnJvbVNlc3Npb25QYXJ0aWNpcGFudENvdW50VXBkYXRlIiwidXBkYXRlRnJvbVNlc3Npb25QYXJ0aWNpcGFudExlZnQiLCJ1c2VyX3Nlc3Npb25faWQiLCJ1cGRhdGVGcm9tU2Vzc2lvblBhcnRpY2lwYW50Sm9pbmVkIiwic2hvdWxkSW5zZXJ0UGFydGljaXBhbnQiLCJ1cGRhdGVkUGFydGljaXBhbnRzIiwiaW5jcmVtZW50IiwidXBkYXRlTWVtYmVycyIsIm1lbWJlciIsIm1lbWJlclVwZGF0ZSIsInVwZGF0ZVBhcnRpY2lwYW50UmVhY3Rpb24iLCJlbW9qaV9jb2RlIiwidXNlcklkIiwidW5ibG9ja1VzZXIiLCJjdXJyZW50IiwiYmxvY2tVc2VyIiwidXBkYXRlT3duQ2FwYWJpbGl0aWVzIiwibG9jYWxQYXJ0aWNpcGFudCIsIm93bl9jYXBhYmlsaXRpZXMiLCJwYXJ0aWNpcGFudHMkIiwicGlwZSIsInNvcnQiLCJzaGFyZVJlcGxheSIsImJ1ZmZlclNpemUiLCJyZWZDb3VudCIsImxvY2FsUGFydGljaXBhbnQkIiwicmVtb3RlUGFydGljaXBhbnRzJCIsInBpbm5lZFBhcnRpY2lwYW50cyQiLCJkb21pbmFudFNwZWFrZXIkIiwiaGFzT25nb2luZ1NjcmVlblNoYXJlJCIsImRpc3RpbmN0VW50aWxDaGFuZ2VkIiwiY3JlYXRlZEF0JCIsImVuZGVkQXQkIiwic3RhcnRzQXQkIiwic3RhcnRlZEF0JCIsInVwZGF0ZWRBdCQiLCJjYWxsU3RhdHNSZXBvcnQkIiwibWVtYmVycyQiLCJjcmVhdGVkQnkkIiwiY3VzdG9tJCIsImVncmVzcyQiLCJpbmdyZXNzJCIsInNlc3Npb24kIiwic2V0dGluZ3MkIiwiZW5kZWRCeSQiLCJ0aHVtYm5haWxzJCIsImlzU2hhbGxvd0VxdWFsIiwiaXRlbSIsImR1YyIsImFub255bW91c1BhcnRpY2lwYW50Q291bnQkIiwiYmxvY2tlZFVzZXJJZHMkIiwiYmFja3N0YWdlJCIsImNhbGxpbmdTdGF0ZSQiLCJvd25DYXBhYmlsaXRpZXMkIiwicGFydGljaXBhbnRDb3VudCQiLCJyZWNvcmRpbmckIiwidHJhbnNjcmliaW5nJCIsImFub255bW91c1BhcnRpY2lwYW50Q291bnQiLCJyZW1vdGVQYXJ0aWNpcGFudHMiLCJwaW5uZWRQYXJ0aWNpcGFudHMiLCJoYXNPbmdvaW5nU2NyZWVuU2hhcmUiLCJjYWxsU3RhdHNSZXBvcnQiLCJvd25DYXBhYmlsaXRpZXMiLCJibG9ja2VkVXNlcklkcyIsImNyZWF0ZWRBdCIsInN0YXJ0c0F0IiwidXBkYXRlZEF0IiwiY3JlYXRlZEJ5IiwiZW5kZWRCeSIsImdldFJ0cE1hcCIsImxpbmUiLCJydHBSZWdleCIsInJ0cE1hdGNoIiwiZXhlYyIsIm9yaWdpbmFsIiwiZ2V0Rm10cCIsImZtdHBSZWdleCIsImZtdHBNYXRjaCIsImNvbmZpZyIsImdldE1lZGlhIiwibWVkaWFUeXBlIiwicmVnZXgiLCJSZWdFeHAiLCJtZWRpYVdpdGhQb3J0cyIsImNvZGVjT3JkZXIiLCJnZXRNZWRpYVNlY3Rpb24iLCJtZWRpYSIsInJ0cE1hcCIsImZtdHAiLCJpc1RoZVJlcXVpcmVkTWVkaWFTZWN0aW9uIiwiaXNWYWxpZExpbmUiLCJfbWVkaWEiLCJydHBNYXBMaW5lIiwiZm10cExpbmUiLCJnZXRPcHVzRm10cCIsInNlY3Rpb24iLCJjb2RlY0lkIiwidG9nZ2xlRHR4IiwiZW5hYmxlIiwib3B1c0ZtdHAiLCJtYXRjaER0eCIsInJlcXVpcmVkRHR4Q29uZmlnIiwibmV3Rm10cCIsInByZXNlcnZlQ29kZWMiLCJtaWQiLCJjb2RlY05hbWUiLCJ0b1NldCIsIlNldCIsInRyaW0iLCJlcXVhbCIsImhhcyIsImNvZGVjRm10cCIsInBhcnNlZFNkcCIsIlNEUCIsIlN0cmluZyIsInBheWxvYWRzIiwicnRwIiwicHJlc2VydmVkQ29kZWNQYXlsb2FkIiwicnRjcEZiIiwid3JpdGUiLCJlbmFibGVIaWdoUXVhbGl0eUF1ZGlvIiwidHJhY2tNaWQiLCJhdWRpb01lZGlhIiwib3B1c1J0cCIsImV4dHJhY3RNaWQiLCJ0cmFuc2NlaXZlciIsInRyYW5zY2VpdmVySW5pdEluZGV4IiwidHJhY2siLCJzZW5kZXIiLCJtc2lkIiwiUHVibGlzaGVyIiwiY29ubmVjdGlvbkNvbmZpZyIsInNmdUNsaWVudCIsImRpc3BhdGNoZXIiLCJpc0R0eEVuYWJsZWQiLCJpc1JlZEVuYWJsZWQiLCJvblVucmVjb3ZlcmFibGVFcnJvciIsInRyYW5zY2VpdmVyQ2FjaGUiLCJ0cmFja0xheWVyc0NhY2hlIiwicHVibGlzaE9wdHNGb3JUcmFjayIsInRyYW5zY2VpdmVySW5pdE9yZGVyIiwiaXNJY2VSZXN0YXJ0aW5nIiwiY3JlYXRlUGVlckNvbm5lY3Rpb24iLCJwYyIsIm9uSWNlQ2FuZGlkYXRlIiwib25OZWdvdGlhdGlvbk5lZWRlZCIsIm9uSWNlQ2FuZGlkYXRlRXJyb3IiLCJvbkljZUNvbm5lY3Rpb25TdGF0ZUNoYW5nZSIsIm9uSWNlR2F0aGVyaW5nU3RhdGVDaGFuZ2UiLCJvblNpZ25hbGluZ1N0YXRlQ2hhbmdlIiwic3RvcFRyYWNrcyIsInN0b3BQdWJsaXNoaW5nIiwiY2xlYXIiLCJkZXRhY2hFdmVudEhhbmRsZXJzIiwidW5zdWJzY3JpYmVPbkljZVJlc3RhcnQiLCJ1bnN1YnNjcmliZUNoYW5nZVB1Ymxpc2hRdWFsaXR5IiwicHVibGlzaFN0cmVhbSIsIm1lZGlhU3RyZWFtIiwib3B0cyIsInJlYWR5U3RhdGUiLCJlbmFibGVkIiwiaGFuZGxlVHJhY2tFbmRlZCIsIm5vdGlmeVRyYWNrTXV0ZVN0YXRlQ2hhbmdlZCIsInVwZGF0ZVRyYW5zY2VpdmVyIiwiZm9yY2VDb2RlYyIsInZpZGVvRW5jb2RpbmdzIiwiY29tcHV0ZUxheWVycyIsInN0cmVhbXMiLCJzZW5kRW5jb2RpbmdzIiwiY29kZWNQcmVmZXJlbmNlcyIsImdldENvZGVjUHJlZmVyZW5jZXMiLCJzZXRDb2RlY1ByZWZlcmVuY2VzIiwicHJldmlvdXNUcmFjayIsInJlcGxhY2VUcmFjayIsInVucHVibGlzaFN0cmVhbSIsInN0b3BUcmFjayIsImlzUHVibGlzaGluZyIsImlzTXV0ZWQiLCJ1cGRhdGVNdXRlU3RhdGUiLCJhdWRpb09yVmlkZW9PclNjcmVlblNoYXJlU3RyZWFtIiwiZ2V0U2VuZGVycyIsInNpZ25hbGluZ1N0YXRlIiwicmVtb3ZlVHJhY2siLCJlbmFibGVkTGF5ZXJzIiwidmlkZW9TZW5kZXIiLCJwYXJhbXMiLCJnZXRQYXJhbWV0ZXJzIiwiZW5jb2RpbmdzIiwidXNlc1N2Y0NvZGVjIiwiY2hhbmdlZCIsImVuY29kZXIiLCJzaG91bGRBY3RpdmF0ZSIsImFjdGl2ZUxheWVycyIsInNldFBhcmFtZXRlcnMiLCJnZXRTdGF0cyIsInNlbGVjdG9yIiwiZGVmYXVsdEF1ZGlvQ29kZWMiLCJpY2VDYW5kaWRhdGUiLCJzZXRTZnVDbGllbnQiLCJyZXN0YXJ0SWNlIiwibmVnb3RpYXRlIiwicmVtb3ZlVW5wcmVmZXJyZWRDb2RlY3MiLCJ0cmFja0luZm9zIiwiZ2V0QW5ub3VuY2VkVHJhY2tzIiwic2V0TG9jYWxEZXNjcmlwdGlvbiIsInRyYWNrcyIsInNldFJlbW90ZURlc2NyaXB0aW9uIiwiaWNlVHJpY2tsZUJ1ZmZlciIsImFkZEljZUNhbmRpZGF0ZSIsImxvY2FsRGVzY3JpcHRpb24iLCJrZXkiLCJvcHRpbWFsTGF5ZXJzIiwiaXNUcmFja0xpdmUiLCJvcHRpbWFsTGF5ZXIiLCJmcHMiLCJxdWFsaXR5IiwidmlkZW9EaW1lbnNpb24iLCJpc0F1ZGlvVHJhY2siLCJ0cmFja1NldHRpbmdzIiwiaXNTdGVyZW8iLCJjaGFubmVsQ291bnQiLCJ0cmFja0lkIiwic3RlcmVvIiwiZHR4IiwicmVkIiwibXV0ZWQiLCJ2aWRlbyIsInRhcmdldF9yZXNvbHV0aW9uIiwic2NyZWVuU2hhcmVCaXRyYXRlIiwic2NyZWVuc2hhcmluZyIsInB1Ymxpc2hPcHRzIiwiZXJyb3JNZXNzYWdlIiwiUlRDUGVlckNvbm5lY3Rpb25JY2VFcnJvckV2ZW50IiwiZXJyb3JDb2RlIiwiZXJyb3JUZXh0IiwiaWNlU3RhdGUiLCJpY2VDb25uZWN0aW9uU3RhdGUiLCJSRUNPTk5FQ1RJTkciLCJpY2VHYXRoZXJpbmdTdGF0ZSIsInZpZGVvU2VuZGVycyIsImZvcmNlU2luZ2xlQ29kZWMiLCJvcmRlcmVkQ29kZWNzIiwiY29kZWNUb1ByZXNlcnZlIiwiU3Vic2NyaWJlciIsImhhbmRsZU9uVHJhY2siLCJ1bnJlZ2lzdGVyT25TdWJzY3JpYmVyT2ZmZXIiLCJ1bnJlZ2lzdGVyT25JY2VSZXN0YXJ0IiwiY29ubmVjdGlvblN0YXRlIiwicHJldmlvdXNJc0ljZVJlc3RhcnRpbmciLCJwcmltYXJ5U3RyZWFtIiwicmF3VHJhY2tUeXBlIiwicGFydGljaXBhbnRUb1VwZGF0ZSIsInRyYWNrRGVidWdJbmZvIiwic3RyZWFtS2luZFByb3AiLCJwcmV2aW91c1N0cmVhbSIsImdldFRyYWNrcyIsImFuc3dlciIsImNyZWF0ZUFuc3dlciIsInN1YnNjcmliZXJPZmZlckNvbmN1cnJlbmN5VGFnIiwiaWNlUmVzdGFydENvbmN1cnJlbmN5VGFnIiwiY3JlYXRlV2ViU29ja2V0U2lnbmFsQ2hhbm5lbCIsImVuZHBvaW50Iiwib25NZXNzYWdlIiwid3MiLCJXZWJTb2NrZXQiLCJiaW5hcnlUeXBlIiwiZGF0YSIsIkFycmF5QnVmZmVyIiwiZnJvbUJpbmFyeSIsImZyb21Kc29uU3RyaW5nIiwibWFrZVNhZmVQcm9taXNlIiwiaXNQZW5kaW5nIiwic2FmZVByb21pc2UiLCJ1bndyYXBQcm9taXNlIiwiZnVsZmlsbG1lbnQiLCJjaGVja1BlbmRpbmciLCJwcm9taXNlV2l0aFJlc29sdmVycyIsInJlamVjdCIsIl9yZXNvbHZlIiwiX3JlamVjdCIsImlzUmVzb2x2ZWQiLCJpc1JlamVjdGVkIiwicmVzb2x2ZXIiLCJyZWplY3RlciIsInVuaW5pdGlhbGl6ZWQiLCJsYXp5IiwiZmFjdG9yeSIsInRpbWVyV29ya2VyIiwic3JjIiwiVGltZXJXb3JrZXIiLCJjdXJyZW50VGltZXJJZCIsImNhbGxiYWNrcyIsInNldHVwIiwidXNlVGltZXJXb3JrZXIiLCJibG9iIiwiQmxvYiIsInNjcmlwdCIsIlVSTCIsImNyZWF0ZU9iamVjdFVSTCIsIndvcmtlciIsIldvcmtlciIsImRlc3Ryb3kiLCJ0ZXJtaW5hdGUiLCJyZWFkeSIsInNldEludGVydmFsIiwiY2FsbGJhY2siLCJzZXRUaW1lciIsImNsZWFySW50ZXJ2YWwiLCJjbGVhclRpbWVyIiwiY2xlYXJUaW1lb3V0IiwiZ2V0VGltZXJJZCIsInNlbmRNZXNzYWdlIiwicG9zdE1lc3NhZ2UiLCJ0aW1lcldvcmtlckVuYWJsZWQiLCJlbmFibGVUaW1lcldvcmtlciIsImdldFRpbWVycyIsImluc3RhbmNlIiwiU3RyZWFtU2Z1Q2xpZW50IiwiY3JlZGVudGlhbHMiLCJqb2luUmVzcG9uc2VUaW1lb3V0Iiwib25TaWduYWxDbG9zZSIsInN0cmVhbUNsaWVudCIsImlzTGVhdmluZyIsInBpbmdJbnRlcnZhbEluTXMiLCJ1bmhlYWx0aHlUaW1lb3V0SW5NcyIsImpvaW5SZXNwb25zZVRhc2siLCJhYm9ydENvbnRyb2xsZXIiLCJjcmVhdGVXZWJTb2NrZXQiLCJzaWduYWxXcyIsInNlcnZlciIsIndzX2VuZHBvaW50IiwibGFzdE1lc3NhZ2VUaW1lc3RhbXAiLCJzY2hlZHVsZUNvbm5lY3Rpb25DaGVjayIsImhhbmRsZVdlYlNvY2tldENsb3NlIiwic2lnbmFsUmVhZHkiLCJyYWNlIiwib25PcGVuIiwiY2xlYW5VcFdlYlNvY2tldCIsImtlZXBBbGl2ZUludGVydmFsIiwiY29ubmVjdGlvbkNoZWNrVGltZW91dCIsIk5PUk1BTF9DTE9TVVJFIiwiT1BFTiIsImRpc3Bvc2UiLCJ1bnN1YnNjcmliZUljZVRyaWNrbGUiLCJ1bnN1YnNjcmliZU5ldHdvcmtDaGFuZ2VkIiwibWlncmF0ZUF3YXlUaW1lb3V0IiwibWlncmF0aW9uVGFzayIsImxlYXZlQW5kQ2xvc2UiLCJqb2luVGFzayIsIm5vdGlmeUxlYXZlIiwibXV0ZVN0YXRlcyIsInN0YXRzIiwiZW50ZXJNaWdyYXRpb24iLCJ0YXNrIiwidGltZW91dElkIiwia2VlcEFsaXZlIiwic2VuZCIsInJlcXVlc3RQYXlsb2FkIiwiam9pblJlcXVlc3QiLCJ0b2tlbiIsInBpbmciLCJoZWFsdGhDaGVja1JlcXVlc3QiLCJsZWF2ZUNhbGxSZXF1ZXN0IiwibXNnSnNvbiIsImVkZ2VOYW1lIiwidG9CaW5hcnkiLCJ0aW1lcnMiLCJ0aW1lU2luY2VMYXN0TWVzc2FnZSIsIkVSUk9SX0NPTk5FQ1RJT05fVU5IRUFMVEhZIiwiZWRnZV9uYW1lIiwidXJsIiwiaW50ZXJjZXB0b3JzIiwiQXV0aG9yaXphdGlvbiIsIm9ubGluZSIsIm5ldHdvcmtBdmFpbGFibGVUYXNrIiwiaXNIZWFsdGh5IiwiRElTUE9TRV9PTERfU09DS0VUIiwidG9SdGNDb25maWd1cmF0aW9uIiwiaWNlU2VydmVycyIsImljZSIsInVybHMiLCJ1c2VybmFtZSIsImNyZWRlbnRpYWwiLCJwYXNzd29yZCIsIndhdGNoQ2FsbEFjY2VwdGVkIiwib25DYWxsQWNjZXB0ZWQiLCJjdXJyZW50VXNlcklkIiwiUklOR0lORyIsIndhdGNoQ2FsbFJlamVjdGVkIiwib25DYWxsUmVqZWN0ZWQiLCJldmVudENhbGwiLCJjYWxsU2Vzc2lvbiIsInJlamVjdGVkQnkiLCJyZWplY3RlZF9ieSIsImlzQ3JlYXRlZEJ5TWUiLCJldmVyeW9uZUVsc2VSZWplY3RlZCIsImV2ZXJ5Iiwid2F0Y2hDYWxsRW5kZWQiLCJvbkNhbGxFbmRlZCIsIklETEUiLCJ3YXRjaFNmdUNhbGxFbmRlZCIsIndhdGNoQ2FsbEdyYW50c1VwZGF0ZWQiLCJvbkNhbGxHcmFudHNVcGRhdGVkIiwiY3VycmVudEdyYW50cyIsImNhblB1Ymxpc2hBdWRpbyIsImNhblB1Ymxpc2hWaWRlbyIsImNhblNjcmVlbnNoYXJlIiwibmV4dENhcGFiaWxpdGllcyIsImNhcGFiaWxpdHkiLCJ3YXRjaENvbm5lY3Rpb25RdWFsaXR5Q2hhbmdlZCIsImNvbm5lY3Rpb25RdWFsaXR5VXBkYXRlcyIsInBhdGNoZXMiLCJjb25uZWN0aW9uUXVhbGl0eSIsIndhdGNoUGFydGljaXBhbnRDb3VudENoYW5nZWQiLCJ3YXRjaExpdmVFbmRlZCIsIkxJVkVfRU5ERUQiLCJwZXJtaXNzaW9uc0NvbnRleHQiLCJoYXNQZXJtaXNzaW9uIiwid2F0Y2hTZnVFcnJvclJlcG9ydHMiLCJyZWNvbm5lY3RTdHJhdGVneSIsIndhdGNoUGluc1VwZGF0ZWQiLCJvblBpbnNVcGRhdGVkIiwiaGFuZGxlUmVtb3RlU29mdE11dGUiLCJjYXVzZSIsIk1PREVSQVRJT04iLCJjYW1lcmEiLCJkaXNhYmxlIiwibWljcm9waG9uZSIsInNjcmVlblNoYXJlIiwid2F0Y2hQYXJ0aWNpcGFudEpvaW5lZCIsIm9uUGFydGljaXBhbnRKb2luZWQiLCJyZWNvbmNpbGVPcnBoYW5lZFRyYWNrcyIsIndhdGNoUGFydGljaXBhbnRMZWZ0Iiwib25QYXJ0aWNpcGFudExlZnQiLCJ3YXRjaFBhcnRpY2lwYW50VXBkYXRlZCIsIm9uUGFydGljaXBhbnRVcGRhdGVkIiwid2F0Y2hUcmFja1B1Ymxpc2hlZCIsIm9uVHJhY2tQdWJsaXNoZWQiLCJ1bmlxdWUiLCJ3YXRjaFRyYWNrVW5wdWJsaXNoZWQiLCJvblRyYWNrVW5wdWJsaXNoZWQiLCJhcnIiLCJvcnBoYW5UcmFja3MiLCJyZWNvbmNpbGVkVHJhY2tzIiwid2F0Y2hEb21pbmFudFNwZWFrZXJDaGFuZ2VkIiwid2F0Y2hBdWRpb0xldmVsQ2hhbmdlZCIsImF1ZGlvTGV2ZWxzIiwiYXVkaW9MZXZlbCIsInJlZ2lzdGVyRXZlbnRIYW5kbGVycyIsInJpbmdpbmciLCJyZWdpc3RlclJpbmdpbmdDYWxsRXZlbnRIYW5kbGVycyIsImNvb3JkaW5hdG9yUmluZ0V2ZW50cyIsImZsYXR0ZW4iLCJnZXRTZGtTaWduYXR1cmUiLCJjbGllbnREZXRhaWxzIiwicGxhdGZvcm0iLCJzZGtOYW1lIiwiZ2V0U2RrTmFtZSIsInNka1ZlcnNpb24iLCJnZXRTZGtWZXJzaW9uIiwiUkVBQ1QiLCJSRUFDVF9OQVRJVkUiLCJjcmVhdGVTdGF0c1JlcG9ydGVyIiwic3Vic2NyaWJlciIsInB1Ymxpc2hlciIsImRhdGFjZW50ZXIiLCJwb2xsaW5nSW50ZXJ2YWxJbk1zIiwiZ2V0UmF3U3RhdHNGb3JUcmFjayIsImdldFN0YXRzRm9yU3RyZWFtIiwic3RhdHNGb3JTdHJlYW0iLCJ0cmFuc2Zvcm0iLCJ0cmFja0tpbmQiLCJzdGFydFJlcG9ydGluZ1N0YXRzRm9yIiwic2Vzc2lvbklkc1RvVHJhY2siLCJzdG9wUmVwb3J0aW5nU3RhdHNGb3IiLCJwYXJ0aWNpcGFudFN0YXRzIiwic2Vzc2lvbklkcyIsIm1lcmdlZFN0cmVhbSIsIk1lZGlhU3RyZWFtIiwidmlkZW9TdHJlYW0iLCJnZXRWaWRlb1RyYWNrcyIsImF1ZGlvU3RyZWFtIiwiZ2V0QXVkaW9UcmFja3MiLCJzdWJzY3JpYmVyU3RhdHMiLCJwdWJsaXNoZXJTdGF0cyIsImFsbCIsImFnZ3JlZ2F0ZSIsImdldEVtcHR5U3RhdHMiLCJzdWJzY3JpYmVyUmF3U3RhdHMiLCJwdWJsaXNoZXJSYXdTdGF0cyIsInRpbWVzdGFtcCIsImxvb3AiLCJzdGF0IiwicnRjU3RyZWFtU3RhdHMiLCJ0cmFuc3BvcnRJZCIsInJvdW5kVHJpcFRpbWUiLCJkdGxzU3RhdGUiLCJjYW5kaWRhdGVQYWlyIiwic2VsZWN0ZWRDYW5kaWRhdGVQYWlySWQiLCJjdXJyZW50Um91bmRUcmlwVGltZSIsImJ5dGVzU2VudCIsImJ5dGVzUmVjZWl2ZWQiLCJmcmFtZVdpZHRoIiwiZnJhbWVzUGVyU2Vjb25kIiwiaml0dGVyIiwicXVhbGl0eUxpbWl0YXRpb25SZWFzb24iLCJzc3JjIiwicmF3U3RhdHMiLCJyYXdSZXBvcnQiLCJ0b3RhbEJ5dGVzU2VudCIsInRvdGFsQnl0ZXNSZWNlaXZlZCIsImF2ZXJhZ2VKaXR0ZXJJbk1zIiwiYXZlcmFnZVJvdW5kVHJpcFRpbWVJbk1zIiwicXVhbGl0eUxpbWl0YXRpb25SZWFzb25zIiwiaGlnaGVzdEZyYW1lV2lkdGgiLCJoaWdoZXN0RnJhbWVIZWlnaHQiLCJoaWdoZXN0RnJhbWVzUGVyU2Vjb25kIiwiYWdncmVnYXRlZFN0YXRzIiwibWF4QXJlYSIsImFyZWEiLCJ3Iiwic3RyZWFtIiwic3RyZWFtQXJlYSIsIlNmdVN0YXRzUmVwb3J0ZXIiLCJpbnB1dERldmljZXMiLCJvYnNlcnZlRGV2aWNlIiwiaGFzQnJvd3NlclBlcm1pc3Npb24kIiwidW5zdWJzY3JpYmVEZXZpY2VQZXJtaXNzaW9uc1N1YnNjcmlwdGlvbiIsInVuc3Vic2NyaWJlTGlzdERldmljZXNTdWJzY3JpcHRpb24iLCJoYXNDYXBhYmlsaXR5IiwiY3VycmVudERldmljZSIsImF2YWlsYWJsZURldmljZXMiLCJpc1Blcm1pdHRlZCIsImxpc3REZXZpY2VzIiwic2VsZWN0ZWREZXZpY2UkIiwiZGV2aWNlcyIsImRldmljZUlkIiwic2VsZWN0ZWQiLCJkIiwibGFiZWwiLCJzZW5kVGVsZW1ldHJ5RGF0YSIsInRlbGVtZXRyeURhdGEiLCJ3ZWJydGNWZXJzaW9uIiwid2ViUlRDVmVyc2lvbiIsImF1ZGlvRGV2aWNlcyIsInZpZGVvRGV2aWNlcyIsInRlbGVtZXRyeSIsInN0YXJ0IiwicmVwb3J0aW5nX2ludGVydmFsX21zIiwiaW50ZXJ2YWxJZCIsIndlYlJUQ0luZm8iLCJERUZBVUxUX1RIUkVTSE9MRCIsIlZpZXdwb3J0VHJhY2tlciIsImVsZW1lbnRIYW5kbGVyTWFwIiwib2JzZXJ2ZXIiLCJxdWV1ZVNldCIsInNldFZpZXdwb3J0Iiwidmlld3BvcnRFbGVtZW50IiwiY2xlYW51cCIsImRpc2Nvbm5lY3QiLCJJbnRlcnNlY3Rpb25PYnNlcnZlciIsImVudHJ5Iiwicm9vdCIsInRocmVzaG9sZCIsInF1ZXVlRWxlbWVudCIsInF1ZXVlSGFuZGxlciIsImNvbnRhaW5zIiwib2JzZXJ2ZSIsImVsZW1lbnQiLCJxdWV1ZUl0ZW0iLCJ1bm9ic2VydmUiLCJERUZBVUxUX1ZJRVdQT1JUX1ZJU0lCSUxJVFlfU1RBVEUiLCJnbG9iYWxPdmVycmlkZUtleSIsIkR5bmFzY2FsZU1hbmFnZXIiLCJzcGVha2VyIiwidmlld3BvcnRUcmFja2VyIiwicGVuZGluZ1N1YnNjcmlwdGlvbnNVcGRhdGUiLCJ2aWRlb1RyYWNrU3Vic2NyaXB0aW9uT3ZlcnJpZGVzU3ViamVjdCIsInZpZGVvVHJhY2tTdWJzY3JpcHRpb25PdmVycmlkZXMkIiwiaW5jb21pbmdWaWRlb1NldHRpbmdzJCIsIm92ZXJyaWRlcyIsImdsb2JhbFNldHRpbmdzIiwicHJlZmVycmVkUmVzb2x1dGlvbiIsImZyb21FbnRyaWVzIiwicGFydGljaXBhbnRPdmVycmlkZSIsImlzUGFydGljaXBhbnRWaWRlb0VuYWJsZWQiLCJzZXRWaWRlb1RyYWNrU3Vic2NyaXB0aW9uT3ZlcnJpZGVzIiwib3ZlcnJpZGUiLCJhcHBseVRyYWNrU3Vic2NyaXB0aW9ucyIsImRlYm91bmNlVHlwZSIsIlNMT1ciLCJ0cmFja1N1YnNjcmlwdGlvbnMiLCJ0cmFja0VsZW1lbnRWaXNpYmlsaXR5IiwicHJldmlvdXNWaXNpYmlsaXR5U3RhdGUiLCJpc1Zpc2libGUiLCJpc0ludGVyc2VjdGluZyIsImRvY3VtZW50IiwiZnVsbHNjcmVlbkVsZW1lbnQiLCJWSVNJQkxFIiwiYmluZFZpZGVvRWxlbWVudCIsInZpZGVvRWxlbWVudCIsImJvdW5kUGFydGljaXBhbnQiLCJyZXF1ZXN0VHJhY2tXaXRoRGltZW5zaW9ucyIsInBhcnRpY2lwYW50JCIsInRha2VXaGlsZSIsInZpZXdwb3J0VmlzaWJpbGl0eVN0YXRlU3Vic2NyaXB0aW9uIiwibmV4dFZpZXdwb3J0VmlzaWJpbGl0eVN0YXRlIiwiTUVESVVNIiwiY2xpZW50V2lkdGgiLCJjbGllbnRIZWlnaHQiLCJsYXN0RGltZW5zaW9ucyIsInJlc2l6ZU9ic2VydmVyIiwiUmVzaXplT2JzZXJ2ZXIiLCJjdXJyZW50RGltZW5zaW9ucyIsInJlbGF0aXZlRGVsdGEiLCJJTU1FRElBVEUiLCJwdWJsaXNoZWRUcmFja3NTdWJzY3JpcHRpb24iLCJkaXN0aW5jdFVudGlsS2V5Q2hhbmdlZCIsIkZBU1QiLCJhdXRvcGxheSIsInBsYXlzSW5saW5lIiwic3RyZWFtU3Vic2NyaXB0aW9uIiwic2NyZWVuU2hhcmVTdHJlYW0iLCJzcmNPYmplY3QiLCJwbGF5IiwiYmluZEF1ZGlvRWxlbWVudCIsImF1ZGlvRWxlbWVudCIsInVwZGF0ZU1lZGlhU3RyZWFtU3Vic2NyaXB0aW9uIiwic2NyZWVuU2hhcmVBdWRpb1N0cmVhbSIsInNlbGVjdGVkRGV2aWNlIiwic2V0U2lua0lkIiwic2lua0lkU3Vic2NyaXB0aW9uIiwidm9sdW1lU3Vic2NyaXB0aW9uIiwidm9sdW1lJCIsInZvbHVtZSIsImF1ZGlvVm9sdW1lIiwic3Vic2NyaXB0aW9ucyIsInZpZGVvVHJhY2tTdWJzY3JpcHRpb25PdmVycmlkZXMiLCJzY3JlZW5TaGFyZURpbWVuc2lvbiIsIlBlcm1pc3Npb25zQ29udGV4dCIsInBlcm1pc3Npb25zIiwic2V0UGVybWlzc2lvbnMiLCJzZXRDYWxsU2V0dGluZ3MiLCJwZXJtaXNzaW9uIiwiY2FuUmVxdWVzdCIsImF1ZGlvIiwiYWNjZXNzX3JlcXVlc3RfZW5hYmxlZCIsIkNhbGxUeXBlIiwiQ2FsbFR5cGVzUmVnaXN0cnkiLCJjYWxsVHlwZXMiLCJyZWdpc3RlciIsImNhbGxUeXBlIiwidW5yZWdpc3RlciIsIkNhbGxUeXBlcyIsIkJyb3dzZXJQZXJtaXNzaW9uIiwiZGlzcG9zZUNvbnRyb2xsZXIiLCJ3YXNQcm9tcHRlZCIsImFzc3VtZUdyYW50ZWQiLCJzZXRTdGF0ZSIsImNhblF1ZXJ5UGVybWlzc2lvbnMiLCJxdWVyeSIsInF1ZXJ5TmFtZSIsImdldFN0YXRlIiwicHJvbXB0IiwiZm9yY2VQcm9tcHQiLCJ0aHJvd09uTm90QWxsb3dlZCIsImlzR3JhbnRlZCIsIm1lZGlhRGV2aWNlcyIsImdldFVzZXJNZWRpYSIsImNvbnN0cmFpbnRzIiwiZGlzcG9zZU9mTWVkaWFTdHJlYW0iLCJsaXN0ZW4iLCJmcm9tRXZlbnRQYXR0ZXJuIiwidW5saXN0ZW4iLCJsaXN0ZW5lciIsImdldERldmljZXMiLCJlbnVtZXJhdGVEZXZpY2VzIiwic2hvdWxkUHJvbXB0Rm9yQnJvd3NlclBlcm1pc3Npb24iLCJjaGVja0lmQXVkaW9PdXRwdXRDaGFuZ2VTdXBwb3J0ZWQiLCJjcmVhdGVFbGVtZW50IiwiYXVkaW9EZXZpY2VDb25zdHJhaW50cyIsImF1dG9HYWluQ29udHJvbCIsIm5vaXNlU3VwcHJlc3Npb24iLCJlY2hvQ2FuY2VsbGF0aW9uIiwidmlkZW9EZXZpY2VDb25zdHJhaW50cyIsImdldEF1ZGlvQnJvd3NlclBlcm1pc3Npb24iLCJnZXRWaWRlb0Jyb3dzZXJQZXJtaXNzaW9uIiwiZ2V0RGV2aWNlQ2hhbmdlT2JzZXJ2ZXIiLCJmcm9tRXZlbnQiLCJkZWJvdW5jZVRpbWUiLCJnZXRBdWRpb0RldmljZXMiLCJtZXJnZSIsInN0YXJ0V2l0aCIsImNvbmNhdE1hcCIsImdldFZpZGVvRGV2aWNlcyIsImdldEF1ZGlvT3V0cHV0RGV2aWNlcyIsImdldFN0cmVhbSIsImRpc3BhdGNoRXZlbnQiLCJFdmVudCIsImlzT3ZlcmNvbnN0cmFpbmVkRXJyb3IiLCJzdGFydHNXaXRoIiwiZ2V0QXVkaW9TdHJlYW0iLCJ0cmFja0NvbnN0cmFpbnRzIiwicmVsYXhlZENvbnN0cmFpbnRzIiwiZ2V0VmlkZW9TdHJlYW0iLCJnZXRTY3JlZW5TaGFyZVN0cmVhbSIsImdldERpc3BsYXlNZWRpYSIsImlkZWFsIiwic3lzdGVtQXVkaW8iLCJkZXZpY2VJZHMkIiwicmVsZWFzZSIsIklucHV0TWVkaWFEZXZpY2VNYW5hZ2VyIiwic3RvcE9uTGVhdmUiLCJpc1RyYWNrU3RvcHBlZER1ZVRvVHJhY2tFbmQiLCJmaWx0ZXJzIiwic3RhdHVzQ2hhbmdlQ29uY3VycmVuY3lUYWciLCJmaWx0ZXJSZWdpc3RyYXRpb25Db25jdXJyZW5jeVRhZyIsImhhbmRsZURpc2Nvbm5lY3RlZE9yUmVwbGFjZWREZXZpY2VzIiwicHJldlN0YXR1cyIsIm9wdGltaXN0aWNTdGF0dXMiLCJzZXRQZW5kaW5nU3RhdHVzIiwidW5tdXRlU3RyZWFtIiwic2V0U3RhdHVzIiwiZm9yY2VTdG9wIiwiZGlzYWJsZU1vZGUiLCJtdXRlU3RyZWFtIiwic3RhdHVzQ2hhbmdlU2V0dGxlZCIsInJlc3VtZSIsInRvZ2dsZSIsInJlZ2lzdGVyRmlsdGVyIiwicmVnaXN0ZXJlZCIsImFwcGx5U2V0dGluZ3NUb1N0cmVhbSIsInNldERlZmF1bHRDb25zdHJhaW50cyIsInNlbGVjdCIsInByZXZEZXZpY2VJZCIsInNldERldmljZSIsInN0b3BQdWJsaXNoU3RyZWFtIiwibXV0ZUxvY2FsU3RyZWFtIiwiYWxsRW5kZWQiLCJzZXRNZWRpYVN0cmVhbSIsIm11dGVUcmFja3MiLCJ1bm11dGVUcmFja3MiLCJyb290U3RyZWFtIiwiZGVmYXVsdENvbnN0cmFpbnRzIiwiZXhhY3QiLCJjaGFpbldpdGgiLCJwYXJlbnRTdHJlYW0iLCJmaWx0ZXJTdHJlYW0iLCJwYXJlbnQiLCJvcmlnaW5hbFN0b3AiLCJwYXJlbnRUcmFjayIsImhhbmRsZVBhcmVudFRyYWNrRW5kZWQiLCJpbnB1dFN0cmVhbSIsIm91dHB1dCIsIm1lZGlhRGV2aWNlS2luZCIsInBhaXJ3aXNlIiwicHJldkRldmljZXMiLCJjdXJyZW50RGV2aWNlcyIsImlzRGV2aWNlRGlzY29ubmVjdGVkIiwiaXNEZXZpY2VSZXBsYWNlZCIsImZpbmREZXZpY2VJbkxpc3QiLCJwcmV2RGV2aWNlIiwiZ3JvdXBJZCIsIklucHV0TWVkaWFEZXZpY2VNYW5hZ2VyU3RhdGUiLCJzdGF0dXNTdWJqZWN0Iiwib3B0aW1pc3RpY1N0YXR1c1N1YmplY3QiLCJtZWRpYVN0cmVhbVN1YmplY3QiLCJzZWxlY3RlZERldmljZVN1YmplY3QiLCJkZWZhdWx0Q29uc3RyYWludHNTdWJqZWN0IiwibWVkaWFTdHJlYW0kIiwic3RhdHVzJCIsIm9wdGltaXN0aWNTdGF0dXMkIiwiZGVmYXVsdENvbnN0cmFpbnRzJCIsIm9mIiwicGVuZGluZ1N0YXR1cyIsImdldERldmljZUlkRnJvbVN0cmVhbSIsIkNhbWVyYU1hbmFnZXJTdGF0ZSIsImRpcmVjdGlvblN1YmplY3QiLCJkaXJlY3Rpb24kIiwic2V0RGlyZWN0aW9uIiwiZmFjaW5nTW9kZSIsImlzTW9iaWxlIiwiQ2FtZXJhTWFuYWdlciIsImlzRGlyZWN0aW9uU3VwcG9ydGVkQnlEZXZpY2UiLCJzZWxlY3REaXJlY3Rpb24iLCJmbGlwIiwibmV3RGlyZWN0aW9uIiwic2VsZWN0VGFyZ2V0UmVzb2x1dGlvbiIsInJlc29sdXRpb24iLCJzZXRQcmVmZXJyZWRDb2RlYyIsInVwZGF0ZVB1Ymxpc2hPcHRpb25zIiwicHVibGlzaFZpZGVvU3RyZWFtIiwic3RvcFB1Ymxpc2giLCJNaWNyb3Bob25lTWFuYWdlclN0YXRlIiwic3BlYWtpbmdXaGlsZU11dGVkU3ViamVjdCIsInNwZWFraW5nV2hpbGVNdXRlZCQiLCJzcGVha2luZ1doaWxlTXV0ZWQiLCJzZXRTcGVha2luZ1doaWxlTXV0ZWQiLCJERVRFQ1RJT05fRlJFUVVFTkNZX0lOX01TIiwiQVVESU9fTEVWRUxfVEhSRVNIT0xEIiwiRkZUX1NJWkUiLCJjcmVhdGVTb3VuZERldGVjdG9yIiwib25Tb3VuZERldGVjdGVkU3RhdGVDaGFuZ2VkIiwiZGV0ZWN0aW9uRnJlcXVlbmN5SW5NcyIsImF1ZGlvTGV2ZWxUaHJlc2hvbGQiLCJmZnRTaXplIiwiZGVzdHJveVN0cmVhbU9uU3RvcCIsImF1ZGlvQ29udGV4dCIsIkF1ZGlvQ29udGV4dCIsImFuYWx5c2VyIiwiY3JlYXRlQW5hbHlzZXIiLCJjcmVhdGVNZWRpYVN0cmVhbVNvdXJjZSIsImNvbm5lY3QiLCJmcmVxdWVuY3lCaW5Db3VudCIsImdldEJ5dGVGcmVxdWVuY3lEYXRhIiwiaXNTb3VuZERldGVjdGVkIiwiYXZlcmFnZWREYXRhVmFsdWUiLCJwdiIsImN2IiwicGVyY2VudGFnZSIsIlJOU3BlZWNoRGV0ZWN0b3IiLCJwYzEiLCJwYzIiLCJjbGVhbnVwQXVkaW9TdHJlYW0iLCJhZGRUcmFjayIsImF1ZGlvVHJhY2tzIiwib25TcGVha2luZ0RldGVjdGVkU3RhdGVDaGFuZ2UiLCJhdWRpb01lZGlhU291cmNlU3RhdHMiLCJNaWNyb3Bob25lTWFuYWdlciIsInNwZWFraW5nV2hpbGVNdXRlZE5vdGlmaWNhdGlvbkVuYWJsZWQiLCJzb3VuZERldGVjdG9yQ29uY3VycmVuY3lUYWciLCJzdG9wU3BlYWtpbmdXaGlsZU11dGVkRGV0ZWN0aW9uIiwic3RhcnRTcGVha2luZ1doaWxlTXV0ZWREZXRlY3Rpb24iLCJub2lzZUNhbmNlbGxhdGlvblJlZ2lzdHJhdGlvbiIsIm5vaXNlQ2FuY2VsbGF0aW9uIiwiYXV0b09uIiwibm9pc2VfY2FuY2VsbGF0aW9uIiwibW9kZSIsIm5vdGlmeU5vaXNlQ2FuY2VsbGF0aW9uU3RvcHBlZCIsImVuYWJsZU5vaXNlQ2FuY2VsbGF0aW9uIiwiaGFzTm9pc2VDYW5jZWxsYXRpb25DYXBhYmlsaXR5Iiwibm9pc2VDYW5jZWxsYXRpb25TZXR0aW5ncyIsIm5vaXNlQ2FuY2VsbGF0aW9uQ2hhbmdlVW5zdWJzY3JpYmUiLCJub3RpZnlOb2lzZUNhbmNlbGxhdGlvblN0YXJ0aW5nIiwicmVnaXN0cmF0aW9uUmVzdWx0IiwidG9GaWx0ZXIiLCJ1bnJlZ2lzdGVyTm9pc2VDYW5jZWxsYXRpb24iLCJkaXNhYmxlTm9pc2VDYW5jZWxsYXRpb24iLCJlbmFibGVTcGVha2luZ1doaWxlTXV0ZWROb3RpZmljYXRpb24iLCJkaXNhYmxlU3BlYWtpbmdXaGlsZU11dGVkTm90aWZpY2F0aW9uIiwicHVibGlzaEF1ZGlvU3RyZWFtIiwicm5TcGVlY2hEZXRlY3RvciIsInNvdW5kRGV0ZWN0b3JDbGVhbnVwIiwiU2NyZWVuU2hhcmVTdGF0ZSIsImF1ZGlvRW5hYmxlZFN1YmplY3QiLCJhdWRpb0VuYWJsZWQkIiwiYXVkaW9FbmFibGVkIiwic2V0QXVkaW9FbmFibGVkIiwiaXNFbmFibGVkIiwic2V0U2V0dGluZ3MiLCJTY3JlZW5TaGFyZU1hbmFnZXIiLCJtYXliZVRhcmdldFJlc29sdXRpb24iLCJlbmFibGVTY3JlZW5TaGFyZUF1ZGlvIiwiZGlzYWJsZVNjcmVlblNoYXJlQXVkaW8iLCJwdWJsaXNoU2NyZWVuU2hhcmVTdHJlYW0iLCJTcGVha2VyU3RhdGUiLCJ2b2x1bWVTdWJqZWN0IiwiaXNEZXZpY2VTZWxlY3Rpb25TdXBwb3J0ZWQiLCJzZXRWb2x1bWUiLCJTcGVha2VyTWFuYWdlciIsInNldFBhcnRpY2lwYW50Vm9sdW1lIiwiY2xpZW50U3RvcmUiLCJ3YXRjaGluZyIsInNmdUNsaWVudFRhZyIsInJlY29ubmVjdENvbmN1cnJlbmN5VGFnIiwicmVjb25uZWN0QXR0ZW1wdHMiLCJmYXN0UmVjb25uZWN0RGVhZGxpbmVTZWNvbmRzIiwiZGlzY29ubmVjdGlvblRpbWVvdXRTZWNvbmRzIiwibGFzdE9mZmxpbmVUaW1lc3RhbXAiLCJ0cmFja1B1Ymxpc2hPcmRlciIsImhhc0pvaW5lZE9uY2UiLCJkZXZpY2VTZXR0aW5nc0FwcGxpZWRPbmNlIiwiaW5pdGlhbGl6ZWQiLCJqb2luTGVhdmVDb25jdXJyZW5jeVRhZyIsImxlYXZlQ2FsbEhvb2tzIiwic3RyZWFtQ2xpZW50RXZlbnRIYW5kbGVycyIsImhhbmRsZU93bkNhcGFiaWxpdGllc1VwZGF0ZWQiLCJwZXJtaXNzaW9uVG9UcmFja1R5cGUiLCJvZmZIYW5kbGVyIiwiY2FsbF9jaWQiLCJyZWdpc3RlcmVkT2ZmSGFuZGxlciIsIkpPSU5JTkciLCJ3YWl0VW50aWxDYWxsSm9pbmVkIiwiaGFzT3RoZXJQYXJ0aWNpcGFudHMiLCJzdGF0c1JlcG9ydGVyIiwic2Z1U3RhdHNSZXBvcnRlciIsImR5bmFzY2FsZU1hbmFnZXIiLCJob29rIiwic3RvcE9uTGVhdmVQcm9taXNlcyIsInVwZGF0ZUZyb21SaW5naW5nRXZlbnQiLCJjcmVhdG9yIiwicmluZ2luZ1N1YmplY3QiLCJhcHBseURldmljZUNvbmZpZyIsInN0cmVhbUNsaWVudEJhc2VQYXRoIiwicmluZyIsIl9oYXNDb25uZWN0aW9uSUQiLCJnZXRPckNyZWF0ZSIsInBvc3QiLCJub3RpZnkiLCJhY2NlcHQiLCJjb25uZWN0U3RhcnRUaW1lIiwiam9pbkNhbGxEYXRhIiwicGVyZm9ybWluZ01pZ3JhdGlvbiIsIk1JR1JBVEUiLCJwZXJmb3JtaW5nUmVqb2luIiwiUkVKT0lOIiwicGVyZm9ybWluZ0Zhc3RSZWNvbm5lY3QiLCJzdGF0c09wdGlvbnMiLCJkb0pvaW5SZXF1ZXN0Iiwic3RhdHNfb3B0aW9ucyIsInByZXZpb3VzU2Z1Q2xpZW50IiwicHJldmlvdXNTZXNzaW9uSWQiLCJpc1dzSGVhbHRoeSIsImhhbmRsZVNmdVNpZ25hbENsb3NlIiwicmVjZWl2aW5nQ2FwYWJpbGl0aWVzU2RwIiwiZ2V0UmVjb25uZWN0RGV0YWlscyIsIm1pZ3JhdGluZ19mcm9tIiwic3Vic2NyaWJlclNkcCIsInB1Ymxpc2hlclNkcCIsImZhc3RSZWNvbm5lY3QiLCJyZXN0b3JlSUNFIiwiaW5jbHVkZVN1YnNjcmliZXIiLCJpY2Vfc2VydmVycyIsImluaXRQdWJsaXNoZXJBbmRTdWJzY3JpYmVyIiwiY2xvc2VQcmV2aW91c0luc3RhbmNlcyIsImNvbm5lY3Rpb25UaW1lU2Vjb25kcyIsInN0cmF0ZWd5IiwibWlncmF0aW5nRnJvbVNmdUlkIiwicmVjb25uZWN0QXR0ZW1wdCIsImZyb21TZnVJZCIsIm5leHRTZnVDbGllbnQiLCJpbmNsdWRlUHVibGlzaGVyIiwicmVjb25uZWN0IiwiaXNBbm9ueW1vdXMiLCJhdWRpb1NldHRpbmdzIiwib3B1c19kdHhfZW5hYmxlZCIsInJlZHVuZGFudF9jb2RpbmdfZW5hYmxlZCIsImxvY2F0aW9uIiwiZ2V0TG9jYXRpb25IaW50IiwicmVxdWVzdCIsIlJFQ09OTkVDVElOR19GQUlMRUQiLCJyZWNvbm5lY3RTdGFydFRpbWUiLCJESVNDT05ORUNUIiwicmVjb25uZWN0RmFzdCIsInJlY29ubmVjdFJlam9pbiIsInJlY29ubmVjdE1pZ3JhdGUiLCJ1bnJlY292ZXJhYmxlIiwicmVjb25uZWN0aW9uIiwidGltZVNlY29uZHMiLCJyZXN0b3JlUHVibGlzaGVkVHJhY2tzIiwicmVzdG9yZVN1YnNjcmliZWRUcmFja3MiLCJjdXJyZW50U2Z1Q2xpZW50IiwiTUlHUkFUSU5HIiwiY3VycmVudFN1YnNjcmliZXIiLCJjdXJyZW50UHVibGlzaGVyIiwiY3VycmVudFNmdSIsInJlZ2lzdGVyUmVjb25uZWN0SGFuZGxlcnMiLCJ1bnJlZ2lzdGVyR29Bd2F5IiwidW5yZWdpc3Rlck9uRXJyb3IiLCJ1bnJlZ2lzdGVyTmV0d29ya0NoYW5nZWQiLCJvZmZsaW5lIiwiT0ZGTElORSIsImF1ZGlvVHJhY2siLCJzY3JlZW5TaGFyZUF1ZGlvVHJhY2siLCJyZXNldFJlYWN0aW9uIiwiY3JpdGVyaWEiLCJzZW5kUmVhY3Rpb24iLCJtdXRlU2VsZiIsIm15VXNlcklkIiwibXV0ZVVzZXIiLCJtdXRlT3RoZXJzIiwidXNlcklkc1RvTXV0ZSIsInVzZXJfaWRzIiwibXV0ZUFsbFVzZXJzIiwibXV0ZV9hbGxfdXNlcnMiLCJzdGFydFJlY29yZGluZyIsInN0b3BSZWNvcmRpbmciLCJzdGFydFRyYW5zY3JpcHRpb24iLCJzdG9wVHJhbnNjcmlwdGlvbiIsInJlcXVlc3RQZXJtaXNzaW9ucyIsImNhblJlcXVlc3RQZXJtaXNzaW9ucyIsImdyYW50UGVybWlzc2lvbnMiLCJ1cGRhdGVVc2VyUGVybWlzc2lvbnMiLCJncmFudF9wZXJtaXNzaW9ucyIsInJldm9rZVBlcm1pc3Npb25zIiwicmV2b2tlX3Blcm1pc3Npb25zIiwiZ29MaXZlIiwic3RvcExpdmUiLCJzdGFydEhMUyIsInN0b3BITFMiLCJ1cGRhdGVzIiwiZW5kQ2FsbCIsInVucGluIiwicGluRm9yRXZlcnlvbmUiLCJ1bnBpbkZvckV2ZXJ5b25lIiwicXVlcnlNZW1iZXJzIiwidXBkYXRlQ2FsbE1lbWJlcnMiLCJzY2hlZHVsZUF1dG9Ecm9wIiwiY2FuY2VsQXV0b0Ryb3AiLCJ0aW1lb3V0SW5NcyIsImF1dG9fY2FuY2VsX3RpbWVvdXRfbXMiLCJpbmNvbWluZ19jYWxsX3RpbWVvdXRfbXMiLCJkcm9wVGltZW91dCIsInF1ZXJ5UmVjb3JkaW5ncyIsImNhbGxTZXNzaW9uSWQiLCJxdWVyeVRyYW5zY3JpcHRpb25zIiwiZ2V0Q2FsbFN0YXRzIiwiY2FsbFNlc3Npb25JRCIsInN1Ym1pdEZlZWRiYWNrIiwicmF0aW5nIiwidXNlclNlc3Npb25JZCIsInNka192ZXJzaW9uIiwic2VuZEN1c3RvbUV2ZW50IiwiaW5pdENhbWVyYSIsImluaXRNaWMiLCJkZWZhdWx0RGlyZWN0aW9uIiwiYmFja2VuZFNldHRpbmciLCJjYW1lcmFfZmFjaW5nIiwiY2FtZXJhX2RlZmF1bHRfb24iLCJtaWNfZGVmYXVsdF9vbiIsInVuYmluZCIsImJpbmRDYWxsVGh1bWJuYWlsRWxlbWVudCIsImltYWdlRWxlbWVudCIsImhhbmRsZUVycm9yIiwiZmFsbGJhY2tJbWFnZVNvdXJjZSIsInRodW1ibmFpbFVybCIsImltYWdlX3VybCIsInNlYXJjaFBhcmFtcyIsInNldFByZWZlcnJlZEluY29taW5nVmlkZW9SZXNvbHV0aW9uIiwic2V0SW5jb21pbmdWaWRlb0VuYWJsZWQiLCJzZXREaXNjb25uZWN0aW9uVGltZW91dCIsInRpbWVvdXRTZWNvbmRzIiwiY2FsbFR5cGVDb25maWciLCJwYXJ0aWNpcGFudFNvcnRlciIsInJlZ2lzdGVyRWZmZWN0cyIsInJlY2VpdmVySWQiLCJpc0FjY2VwdGVkQnlNZSIsImFjY2VwdGVkX2J5IiwiaXNSZWplY3RlZEJ5TWUiLCJpc1JpbmdpbmciLCJyZWNlaXZlcl9pZCIsImNyZWF0ZWRfYnlfaWQiLCJsZWF2ZUNhbGxJZGxlIiwiU3RhYmxlV1NDb25uZWN0aW9uIiwiY2xpZW50IiwiX2xvZyIsImV4dHJhIiwic2V0Q2xpZW50IiwiX2J1aWxkVXJsIiwiVVJMU2VhcmNoUGFyYW1zIiwiZ2V0QXV0aFR5cGUiLCJnZXRVc2VyQWdlbnQiLCJ3c0Jhc2VVUkwiLCJvbmxpbmVTdGF0dXNDaGFuZ2VkIiwiX3NldEhlYWx0aCIsIl9yZWNvbm5lY3QiLCJpbnRlcnZhbCIsIm9ub3BlbiIsIndzSUQiLCJfZ2V0VG9rZW4iLCJhdXRoTWVzc2FnZSIsInVzZXJfZGV0YWlscyIsImltYWdlIiwib25tZXNzYWdlIiwicmVqZWN0UHJvbWlzZSIsIl9lcnJvckZyb21XU0V2ZW50IiwibGFzdEV2ZW50Iiwic2NoZWR1bGVOZXh0UGluZyIsInJlc29sdmVQcm9taXNlIiwiaXNDb25uZWN0aW5nIiwiY29uc2VjdXRpdmVGYWlsdXJlcyIsInRva2VuTWFuYWdlciIsImlzU3RhdGljIiwiY29ubmVjdGlvbkNoZWNrVGltZW91dFJlZiIsInJlZnJlc2hUb2tlbiIsInJlY2VpdmVkX2F0Iiwib25jbG9zZSIsIndhc0NsZWFuIiwidG90YWxGYWlsdXJlcyIsIm9uZXJyb3IiLCJoZWFsdGh5IiwiZGlzcGF0Y2hJbW1lZGlhdGVseSIsImlzV1NGYWlsdXJlIiwic3RhdHVzQ29kZSIsIlN0YXR1c0NvZGUiLCJfc2V0dXBDb25uZWN0aW9uUHJvbWlzZSIsImNvbm5lY3Rpb25PcGVuU2FmZSIsImhlYWx0aENoZWNrVGltZW91dFJlZiIsImNsaWVudF9pZCIsImNsaWVudElEIiwicGluZ0ludGVydmFsIiwiaXNEaXNjb25uZWN0ZWQiLCJoZWFsdGhDaGVjayIsIl9jb25uZWN0IiwiX3dhaXRGb3JIZWFsdGh5IiwiY29ubmVjdGlvbk9wZW4iLCJpc0Nsb3NlZFByb21pc2UiLCJyZXF1ZXN0SUQiLCJpc1Rva2VuUmVhZHkiLCJ0b2tlblJlYWR5IiwibG9hZFRva2VuIiwiaXNDb25uZWN0aW9uSXNQcm9taXNlUGVuZGluZyIsIl9zZXR1cENvbm5lY3Rpb25JZFByb21pc2UiLCJ3c1VSTCIsIldTIiwiV2ViU29ja2V0SW1wbCIsImNvbm5lY3Rpb25JRCIsImNvbm5lY3Rpb25faWQiLCJyZXNvbHZlQ29ubmVjdGlvbklkIiwicmVqZWN0Q29ubmVjdGlvbklkIiwiX2Rlc3Ryb3lDdXJyZW50V1NDb25uZWN0aW9uIiwiZ2V0VXNlckZyb21Ub2tlbiIsImZyYWdtZW50cyIsImI2NFBheWxvYWQiLCJkZWNvZGVCYXNlNjQiLCJmcm9tQ2hhckNvZGUiLCJMIiwiQSIsImNoYXJBdCIsIlRva2VuTWFuYWdlciIsInNlY3JldCIsInNldFRva2VuT3JQcm92aWRlciIsInRva2VuT3JQcm92aWRlciIsInZhbGlkYXRlVG9rZW4iLCJ0b2tlblByb3ZpZGVyIiwicmVzZXQiLCJsb2FkVG9rZW5Qcm9taXNlIiwidG9rZW5Vc2VySWQiLCJnZXRUb2tlbiIsImhpbnRVcmwiLCJtYXhBdHRlbXB0cyIsImxvY2F0aW9uSGludCIsImZldGNoIiwiYXdzUG9wIiwiU3RyZWFtQ2xpZW50Iiwic2V0QmFzZVVSTCIsImJhc2VVUkwiLCJoaW50IiwibG9jYXRpb25IaW50VXJsIiwibG9jYXRpb25IaW50VGltZW91dCIsIl9nZXRDb25uZWN0aW9uSUQiLCJ3c0Nvbm5lY3Rpb24iLCJjb25uZWN0VXNlciIsInVzZXJUb2tlbk9yUHJvdmlkZXIiLCJ1c2VySUQiLCJzZXRVc2VyUHJvbWlzZSIsIl9pc1VzaW5nU2VydmVyQXV0aCIsIm5vZGUiLCJhbGxvd1NlcnZlclNpZGVDb25uZWN0Iiwic2V0VG9rZW5Qcm9taXNlIiwiX3NldFRva2VuIiwiX3NldFVzZXIiLCJ3c1Byb21pc2UiLCJvcGVuQ29ubmVjdGlvbiIsInVwZGF0ZU5ldHdvcmtDb25uZWN0aW9uU3RhdHVzIiwicGVyc2lzdFVzZXJPbkNvbm5lY3Rpb25GYWlsdXJlIiwiY2xvc2VDb25uZWN0aW9uIiwiZGlzY29ubmVjdFVzZXIiLCJfdXNlciIsIndzUHJvbWlzZVNhZmUiLCJuZXdXc1Byb21pc2UiLCJjb25uZWN0aW9uSWRQcm9taXNlU2FmZSIsImNvbm5lY3RHdWVzdFVzZXIiLCJndWVzdFVzZXJDcmVhdGVQcm9taXNlIiwiZG9BeGlvc1JlcXVlc3QiLCJwdWJsaWNFbmRwb2ludCIsImFjY2Vzc190b2tlbiIsImNvbm5lY3RBbm9ueW1vdXNVc2VyIiwiX2xvZ0FwaVJlcXVlc3QiLCJfbG9nQXBpUmVzcG9uc2UiLCJfbG9nQXBpRXJyb3IiLCJjb25uZWN0aW9uSWRQcm9taXNlIiwicmVxdWVzdENvbmZpZyIsIl9lbnJpY2hBeGlvc09wdGlvbnMiLCJheGlvc0luc3RhbmNlIiwicHV0IiwiaGFuZGxlUmVzcG9uc2UiLCJjbGllbnRfcmVxdWVzdF9pZCIsImVycm9yRnJvbVJlc3BvbnNlIiwiZGVmYXVsdFdTVGltZW91dCIsInNldFVzZXJBZ2VudCIsImF1dGhvcml6YXRpb24iLCJhcGlfa2V5IiwiYXhpb3NSZXF1ZXN0Q29uZmlnIiwiaW5wdXRPcHRpb25zIiwibG9jYXRpb25IaW50TWF4QXR0ZW1wdHMiLCJ3aXRoQ3JlZGVudGlhbHMiLCJodHRwc0FnZW50IiwiaHR0cHMiLCJBZ2VudCIsImtlZXBBbGl2ZU1zZWNzIiwiYXhpb3MiLCJTdHJlYW1WaWRlb0NsaWVudCIsImFwaUtleU9yQXJncyIsImV2ZW50SGFuZGxlcnNUb1VucmVnaXN0ZXIiLCJjb25uZWN0aW9uQ29uY3VycmVuY3lUYWciLCJjb25uZWN0VXNlclJlc3BvbnNlIiwibWUiLCJ3cml0ZWFibGVTdGF0ZVN0b3JlIiwiY2FsbHNUb1JlV2F0Y2giLCJxdWVyeUNhbGxzIiwid2F0Y2giLCJmaWx0ZXJfY29uZGl0aW9ucyIsIiRpbiIsImZpZWxkIiwibmV3Q2FsbCIsInRoZUNhbGwiLCJuZXdDYWxsSW5zdGFuY2UiLCJhcGlLZXkiLCJfaW5zdGFuY2VNYXAiLCJjcmVhdGVHdWVzdFVzZXIiLCJxdWVyeUNhbGxTdGF0cyIsInF1ZXJ5QWdncmVnYXRlQ2FsbFN0YXRzIiwiZWRnZXMiLCJhZGREZXZpY2UiLCJwdXNoX3Byb3ZpZGVyIiwicHVzaF9wcm92aWRlcl9uYW1lIiwidm9pcF90b2tlbiIsImFkZFZvaXBEZXZpY2UiLCJyZW1vdmVEZXZpY2UiLCJvblJpbmdpbmdDYWxsIiwiY2FsbElkIiwiY29vcmRpbmF0b3JMb2dnZXIiLCJyZWFkT25seVN0YXRlU3RvcmUiLCJnZXRPckNyZWF0ZUluc3RhbmNlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../../node_modules/@stream-io/video-client/dist/index.es.js\n");

/***/ }),

/***/ "(ssr)/../../../node_modules/@stream-io/video-filters-web/dist/index.es.js":
/*!***************************************************************************!*\
  !*** ../../../node_modules/@stream-io/video-filters-web/dist/index.es.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SegmentationLevel: () => (/* binding */ SegmentationLevel),\n/* harmony export */   createRenderer: () => (/* binding */ createRenderer),\n/* harmony export */   isPlatformSupported: () => (/* binding */ isPlatformSupported),\n/* harmony export */   loadTFLite: () => (/* binding */ loadTFLite)\n/* harmony export */ });\n/* harmony import */ var wasm_feature_detect__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! wasm-feature-detect */ \"(ssr)/../../../node_modules/wasm-feature-detect/dist/esm/index.js\");\n\n\n/**\n * Checks if the current platform is a mobile device.\n *\n * See:\n * https://developer.mozilla.org/en-US/docs/Web/HTTP/Browser_detection_using_the_user_agent\n */\nconst isMobile = () => /Mobi/i.test(navigator.userAgent);\n/**\n * Runs a check to see if the current platform supports\n * the necessary APIs required for the video filters.\n */\nconst isPlatformSupported = async () => typeof document !== 'undefined' &&\n    typeof window !== 'undefined' &&\n    typeof navigator !== 'undefined' &&\n    !isMobile() && // we don't support mobile devices yet due to performance issues\n    typeof WebAssembly !== 'undefined' &&\n    !!window.WebGL2RenderingContext && // WebGL2 is required for the video filters\n    !!document.createElement('canvas').getContext('webgl2') &&\n    (await (0,wasm_feature_detect__WEBPACK_IMPORTED_MODULE_0__.simd)()); // SIMD is required for the wasm module\n\n/**\n * Use it along with boyswan.glsl-literal VSCode extension\n * to get GLSL syntax highlighting.\n * https://marketplace.visualstudio.com/items?itemName=boyswan.glsl-literal\n *\n * On VSCode OSS, boyswan.glsl-literal requires slevesque.shader extension\n * to be installed as well.\n * https://marketplace.visualstudio.com/items?itemName=slevesque.shader\n */\nconst glsl = String.raw;\nfunction createPipelineStageProgram(gl, vertexShader, fragmentShader, positionBuffer, texCoordBuffer) {\n    const program = createProgram(gl, vertexShader, fragmentShader);\n    const positionAttributeLocation = gl.getAttribLocation(program, 'a_position');\n    gl.enableVertexAttribArray(positionAttributeLocation);\n    gl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);\n    gl.vertexAttribPointer(positionAttributeLocation, 2, gl.FLOAT, false, 0, 0);\n    const texCoordAttributeLocation = gl.getAttribLocation(program, 'a_texCoord');\n    gl.enableVertexAttribArray(texCoordAttributeLocation);\n    gl.bindBuffer(gl.ARRAY_BUFFER, texCoordBuffer);\n    gl.vertexAttribPointer(texCoordAttributeLocation, 2, gl.FLOAT, false, 0, 0);\n    return program;\n}\nfunction createProgram(gl, vertexShader, fragmentShader) {\n    const program = gl.createProgram();\n    gl.attachShader(program, vertexShader);\n    gl.attachShader(program, fragmentShader);\n    gl.linkProgram(program);\n    if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {\n        throw new Error(`Could not link WebGL program: ${gl.getProgramInfoLog(program)}`);\n    }\n    return program;\n}\nfunction compileShader(gl, shaderType, shaderSource) {\n    const shader = gl.createShader(shaderType);\n    gl.shaderSource(shader, shaderSource);\n    gl.compileShader(shader);\n    if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n        throw new Error(`Could not compile shader: ${gl.getShaderInfoLog(shader)}`);\n    }\n    return shader;\n}\nfunction createTexture(gl, internalformat, width, height, minFilter = gl.NEAREST, magFilter = gl.NEAREST) {\n    const texture = gl.createTexture();\n    gl.bindTexture(gl.TEXTURE_2D, texture);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, minFilter);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, magFilter);\n    gl.texStorage2D(gl.TEXTURE_2D, 1, internalformat, width, height);\n    return texture;\n}\nasync function readPixelsAsync(gl, x, y, width, height, format, type, dest) {\n    const buf = gl.createBuffer();\n    gl.bindBuffer(gl.PIXEL_PACK_BUFFER, buf);\n    gl.bufferData(gl.PIXEL_PACK_BUFFER, dest.byteLength, gl.STREAM_READ);\n    gl.readPixels(x, y, width, height, format, type, 0);\n    gl.bindBuffer(gl.PIXEL_PACK_BUFFER, null);\n    await getBufferSubDataAsync(gl, gl.PIXEL_PACK_BUFFER, buf, 0, dest);\n    gl.deleteBuffer(buf);\n    return dest;\n}\nasync function getBufferSubDataAsync(gl, target, buffer, srcByteOffset, dstBuffer, dstOffset, length) {\n    const sync = gl.fenceSync(gl.SYNC_GPU_COMMANDS_COMPLETE, 0);\n    gl.flush();\n    if (!sync)\n        return;\n    const res = await clientWaitAsync(gl, sync);\n    gl.deleteSync(sync);\n    if (res !== gl.WAIT_FAILED) {\n        gl.bindBuffer(target, buffer);\n        gl.getBufferSubData(target, srcByteOffset, dstBuffer, dstOffset, length);\n        gl.bindBuffer(target, null);\n    }\n}\nfunction clientWaitAsync(gl, sync) {\n    return new Promise((resolve) => {\n        function test() {\n            const res = gl.clientWaitSync(sync, 0, 0);\n            if (res === gl.WAIT_FAILED) {\n                resolve(res);\n                return;\n            }\n            if (res === gl.TIMEOUT_EXPIRED) {\n                setTimeout(test);\n                return;\n            }\n            resolve(res);\n        }\n        setTimeout(test);\n    });\n}\n\nfunction buildBackgroundBlurStage(gl, vertexShader, positionBuffer, texCoordBuffer, personMaskTexture, canvas, blurLevel) {\n    const blurPass = buildBlurPass(gl, vertexShader, positionBuffer, texCoordBuffer, personMaskTexture, canvas, blurLevel);\n    const blendPass = buildBlendPass(gl, positionBuffer, texCoordBuffer, canvas);\n    function render() {\n        blurPass.render();\n        blendPass.render();\n    }\n    function updateCoverage(coverage) {\n        blendPass.updateCoverage(coverage);\n    }\n    function cleanUp() {\n        blendPass.cleanUp();\n        blurPass.cleanUp();\n    }\n    return {\n        render,\n        updateCoverage,\n        cleanUp,\n    };\n}\nfunction buildBlurPass(gl, vertexShader, positionBuffer, texCoordBuffer, personMaskTexture, canvas, blurLevel) {\n    const sigma = typeof blurLevel === 'number'\n        ? blurLevel\n        : blurLevel === 'low'\n            ? 2\n            : blurLevel === 'medium'\n                ? 4\n                : 6;\n    const windowSize = Math.max(1, Math.floor(sigma * 3));\n    const offset = new Array(windowSize).fill(0).map((v, index) => index);\n    const variance = sigma ** 2;\n    const weights = offset.map((x) => {\n        var m = sigma * Math.sqrt(2 * Math.PI);\n        var e = Math.exp(-(x ** 2) / (2 * variance));\n        return e / m;\n    });\n    const fragmentShaderSource = glsl `#version 300 es\n\n    precision highp float;\n\n    uniform sampler2D u_inputFrame;\n    uniform sampler2D u_personMask;\n    uniform vec2 u_texelSize;\n\n    in vec2 v_texCoord;\n    out vec4 outColor;\n\n    const float offset[${windowSize}] = float[](${offset.map((i) => i.toFixed(10)).join(', ')});\n    const float weight[${windowSize}] = float[](${weights.map((i) => i.toFixed(10)).join(', ')});\n\n    void main() {\n      vec4 centerColor = texture(u_inputFrame, v_texCoord);\n      float personMask = texture(u_personMask, v_texCoord).a;\n\n      vec4 frameColor = centerColor * weight[0] * (1.0 - personMask);\n\n      for (int i = 1; i < ${windowSize}; i++) {\n        vec2 offset = vec2(offset[i]) * u_texelSize;\n\n        vec2 texCoord = v_texCoord + offset;\n        frameColor += texture(u_inputFrame, texCoord)\n           * weight[i]\n           * (1.0 - texture(u_personMask, texCoord).a);\n\n        texCoord = v_texCoord - offset;\n        frameColor += texture(u_inputFrame, texCoord)\n          * weight[i]\n          * (1.0 - texture(u_personMask, texCoord).a);\n      }\n      outColor = vec4(frameColor.rgb + (1.0 - frameColor.a) * centerColor.rgb, 1.0);\n    }\n  `;\n    const scale = 0.5;\n    const outputWidth = canvas.width * scale;\n    const outputHeight = canvas.height * scale;\n    const texelWidth = 1 / outputWidth;\n    const texelHeight = 1 / outputHeight;\n    const fragmentShader = compileShader(gl, gl.FRAGMENT_SHADER, fragmentShaderSource);\n    const program = createPipelineStageProgram(gl, vertexShader, fragmentShader, positionBuffer, texCoordBuffer);\n    const inputFrameLocation = gl.getUniformLocation(program, 'u_inputFrame');\n    const personMaskLocation = gl.getUniformLocation(program, 'u_personMask');\n    const texelSizeLocation = gl.getUniformLocation(program, 'u_texelSize');\n    const texture1 = createTexture(gl, gl.RGBA8, outputWidth, outputHeight, gl.NEAREST, \n    // @ts-expect-error types are incomplete\n    gl.LINEAR);\n    const texture2 = createTexture(gl, gl.RGBA8, outputWidth, outputHeight, gl.NEAREST, \n    // @ts-expect-error types are incomplete\n    gl.LINEAR);\n    const frameBuffer1 = gl.createFramebuffer();\n    gl.bindFramebuffer(gl.FRAMEBUFFER, frameBuffer1);\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, texture1, 0);\n    const frameBuffer2 = gl.createFramebuffer();\n    gl.bindFramebuffer(gl.FRAMEBUFFER, frameBuffer2);\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, texture2, 0);\n    gl.useProgram(program);\n    gl.uniform1i(personMaskLocation, 1);\n    function render() {\n        gl.viewport(0, 0, outputWidth, outputHeight);\n        gl.useProgram(program);\n        gl.uniform1i(inputFrameLocation, 0);\n        gl.activeTexture(gl.TEXTURE1);\n        gl.bindTexture(gl.TEXTURE_2D, personMaskTexture);\n        for (let i = 0; i < 3; i++) {\n            gl.uniform2f(texelSizeLocation, 0, texelHeight);\n            gl.bindFramebuffer(gl.FRAMEBUFFER, frameBuffer1);\n            gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n            gl.activeTexture(gl.TEXTURE2);\n            gl.bindTexture(gl.TEXTURE_2D, texture1);\n            gl.uniform1i(inputFrameLocation, 2);\n            gl.uniform2f(texelSizeLocation, texelWidth, 0);\n            gl.bindFramebuffer(gl.FRAMEBUFFER, frameBuffer2);\n            gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n            gl.bindTexture(gl.TEXTURE_2D, texture2);\n        }\n    }\n    function cleanUp() {\n        gl.deleteFramebuffer(frameBuffer2);\n        gl.deleteFramebuffer(frameBuffer1);\n        gl.deleteTexture(texture2);\n        gl.deleteTexture(texture1);\n        gl.deleteProgram(program);\n        gl.deleteShader(fragmentShader);\n    }\n    return {\n        render,\n        cleanUp,\n    };\n}\nfunction buildBlendPass(gl, positionBuffer, texCoordBuffer, canvas) {\n    const vertexShaderSource = glsl `#version 300 es\n\n    in vec2 a_position;\n    in vec2 a_texCoord;\n\n    out vec2 v_texCoord;\n\n    void main() {\n      // Flipping Y is required when rendering to canvas\n      gl_Position = vec4(a_position * vec2(1.0, -1.0), 0.0, 1.0);\n      v_texCoord = a_texCoord;\n    }\n  `;\n    const fragmentShaderSource = glsl `#version 300 es\n\n    precision highp float;\n\n    uniform sampler2D u_inputFrame;\n    uniform sampler2D u_personMask;\n    uniform sampler2D u_blurredInputFrame;\n    uniform vec2 u_coverage;\n\n    in vec2 v_texCoord;\n\n    out vec4 outColor;\n\n    void main() {\n      vec3 color = texture(u_inputFrame, v_texCoord).rgb;\n      vec3 blurredColor = texture(u_blurredInputFrame, v_texCoord).rgb;\n      float personMask = texture(u_personMask, v_texCoord).a;\n      personMask = smoothstep(u_coverage.x, u_coverage.y, personMask);\n      outColor = vec4(mix(blurredColor, color, personMask), 1.0);\n    }\n  `;\n    const { width: outputWidth, height: outputHeight } = canvas;\n    const vertexShader = compileShader(gl, gl.VERTEX_SHADER, vertexShaderSource);\n    const fragmentShader = compileShader(gl, gl.FRAGMENT_SHADER, fragmentShaderSource);\n    const program = createPipelineStageProgram(gl, vertexShader, fragmentShader, positionBuffer, texCoordBuffer);\n    const inputFrameLocation = gl.getUniformLocation(program, 'u_inputFrame');\n    const personMaskLocation = gl.getUniformLocation(program, 'u_personMask');\n    const blurredInputFrame = gl.getUniformLocation(program, 'u_blurredInputFrame');\n    const coverageLocation = gl.getUniformLocation(program, 'u_coverage');\n    gl.useProgram(program);\n    gl.uniform1i(inputFrameLocation, 0);\n    gl.uniform1i(personMaskLocation, 1);\n    gl.uniform1i(blurredInputFrame, 2);\n    gl.uniform2f(coverageLocation, 0, 1);\n    function render() {\n        gl.viewport(0, 0, outputWidth, outputHeight);\n        gl.useProgram(program);\n        gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n        gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n    }\n    function updateCoverage(coverage) {\n        gl.useProgram(program);\n        gl.uniform2f(coverageLocation, coverage[0], coverage[1]);\n    }\n    function cleanUp() {\n        gl.deleteProgram(program);\n        gl.deleteShader(fragmentShader);\n        gl.deleteShader(vertexShader);\n    }\n    return {\n        render,\n        updateCoverage,\n        cleanUp,\n    };\n}\n\nfunction buildBackgroundImageStage(gl, positionBuffer, texCoordBuffer, personMaskTexture, backgroundImage, canvas) {\n    const vertexShaderSource = glsl `#version 300 es\n\n    uniform vec2 u_backgroundScale;\n    uniform vec2 u_backgroundOffset;\n\n    in vec2 a_position;\n    in vec2 a_texCoord;\n\n    out vec2 v_texCoord;\n    out vec2 v_backgroundCoord;\n\n    void main() {\n      // Flipping Y is required when rendering to canvas\n      gl_Position = vec4(a_position * vec2(1.0, -1.0), 0.0, 1.0);\n      v_texCoord = a_texCoord;\n      v_backgroundCoord = a_texCoord * u_backgroundScale + u_backgroundOffset;\n    }\n  `;\n    const fragmentShaderSource = glsl `#version 300 es\n\n    precision highp float;\n\n    uniform sampler2D u_inputFrame;\n    uniform sampler2D u_personMask;\n    uniform sampler2D u_background;\n    uniform vec2 u_coverage;\n    uniform float u_lightWrapping;\n    uniform float u_blendMode;\n\n    in vec2 v_texCoord;\n    in vec2 v_backgroundCoord;\n\n    out vec4 outColor;\n\n    vec3 screen(vec3 a, vec3 b) {\n      return 1.0 - (1.0 - a) * (1.0 - b);\n    }\n\n    vec3 linearDodge(vec3 a, vec3 b) {\n      return a + b;\n    }\n\n    void main() {\n      vec3 frameColor = texture(u_inputFrame, v_texCoord).rgb;\n      vec3 backgroundColor = texture(u_background, v_backgroundCoord).rgb;\n      float personMask = texture(u_personMask, v_texCoord).a;\n      float lightWrapMask = 1.0 - max(0.0, personMask - u_coverage.y) / (1.0 - u_coverage.y);\n      vec3 lightWrap = u_lightWrapping * lightWrapMask * backgroundColor;\n\n      frameColor = u_blendMode * linearDodge(frameColor, lightWrap)\n        + (1.0 - u_blendMode) * screen(frameColor, lightWrap);\n      personMask = smoothstep(u_coverage.x, u_coverage.y, personMask);\n      outColor = vec4(frameColor * personMask + backgroundColor * (1.0 - personMask), 1.0);\n    }\n  `;\n    const { width: outputWidth, height: outputHeight } = canvas;\n    const outputRatio = outputWidth / outputHeight;\n    const vertexShader = compileShader(gl, gl.VERTEX_SHADER, vertexShaderSource);\n    const fragmentShader = compileShader(gl, gl.FRAGMENT_SHADER, fragmentShaderSource);\n    const program = createPipelineStageProgram(gl, vertexShader, fragmentShader, positionBuffer, texCoordBuffer);\n    const backgroundScaleLocation = gl.getUniformLocation(program, 'u_backgroundScale');\n    const backgroundOffsetLocation = gl.getUniformLocation(program, 'u_backgroundOffset');\n    const inputFrameLocation = gl.getUniformLocation(program, 'u_inputFrame');\n    const personMaskLocation = gl.getUniformLocation(program, 'u_personMask');\n    const backgroundLocation = gl.getUniformLocation(program, 'u_background');\n    const coverageLocation = gl.getUniformLocation(program, 'u_coverage');\n    const lightWrappingLocation = gl.getUniformLocation(program, 'u_lightWrapping');\n    const blendModeLocation = gl.getUniformLocation(program, 'u_blendMode');\n    gl.useProgram(program);\n    gl.uniform2f(backgroundScaleLocation, 1, 1);\n    gl.uniform2f(backgroundOffsetLocation, 0, 0);\n    gl.uniform1i(inputFrameLocation, 0);\n    gl.uniform1i(personMaskLocation, 1);\n    gl.uniform2f(coverageLocation, 0, 1);\n    gl.uniform1f(lightWrappingLocation, 0);\n    gl.uniform1f(blendModeLocation, 0);\n    let backgroundTexture = null;\n    // TODO Find a better to handle background being loaded\n    if (backgroundImage?.complete) {\n        updateBackgroundImage(backgroundImage);\n    }\n    else if (backgroundImage) {\n        backgroundImage.onload = () => {\n            updateBackgroundImage(backgroundImage);\n        };\n    }\n    function render() {\n        gl.viewport(0, 0, outputWidth, outputHeight);\n        gl.useProgram(program);\n        gl.activeTexture(gl.TEXTURE1);\n        gl.bindTexture(gl.TEXTURE_2D, personMaskTexture);\n        if (backgroundTexture !== null) {\n            gl.activeTexture(gl.TEXTURE2);\n            gl.bindTexture(gl.TEXTURE_2D, backgroundTexture);\n            // TODO Handle correctly the background not loaded yet\n            gl.uniform1i(backgroundLocation, 2);\n        }\n        gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n        gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n    }\n    function updateBackgroundImage(bgImage) {\n        backgroundTexture = createTexture(gl, gl.RGBA8, bgImage.naturalWidth, bgImage.naturalHeight, \n        // @ts-expect-error types are incomplete\n        gl.LINEAR, gl.LINEAR);\n        gl.texSubImage2D(gl.TEXTURE_2D, 0, 0, 0, bgImage.naturalWidth, bgImage.naturalHeight, gl.RGBA, gl.UNSIGNED_BYTE, bgImage);\n        let xOffset = 0;\n        let yOffset = 0;\n        let backgroundWidth = bgImage.naturalWidth;\n        let backgroundHeight = bgImage.naturalHeight;\n        const backgroundRatio = backgroundWidth / backgroundHeight;\n        if (backgroundRatio < outputRatio) {\n            backgroundHeight = backgroundWidth / outputRatio;\n            yOffset = (bgImage.naturalHeight - backgroundHeight) / 2;\n        }\n        else {\n            backgroundWidth = backgroundHeight * outputRatio;\n            xOffset = (bgImage.naturalWidth - backgroundWidth) / 2;\n        }\n        const xScale = backgroundWidth / bgImage.naturalWidth;\n        const yScale = backgroundHeight / bgImage.naturalHeight;\n        xOffset /= bgImage.naturalWidth;\n        yOffset /= bgImage.naturalHeight;\n        gl.uniform2f(backgroundScaleLocation, xScale, yScale);\n        gl.uniform2f(backgroundOffsetLocation, xOffset, yOffset);\n    }\n    function updateCoverage(coverage) {\n        gl.useProgram(program);\n        gl.uniform2f(coverageLocation, coverage[0], coverage[1]);\n    }\n    function updateLightWrapping(lightWrapping) {\n        gl.useProgram(program);\n        gl.uniform1f(lightWrappingLocation, lightWrapping);\n    }\n    function updateBlendMode(blendMode) {\n        gl.useProgram(program);\n        gl.uniform1f(blendModeLocation, blendMode === 'screen' ? 0 : 1);\n    }\n    function cleanUp() {\n        gl.deleteTexture(backgroundTexture);\n        gl.deleteProgram(program);\n        gl.deleteShader(fragmentShader);\n        gl.deleteShader(vertexShader);\n    }\n    return {\n        render,\n        updateCoverage,\n        updateLightWrapping,\n        updateBlendMode,\n        cleanUp,\n    };\n}\n\nfunction buildJointBilateralFilterStage(gl, vertexShader, positionBuffer, texCoordBuffer, inputTexture, outputTexture, canvas, segmentationConfig) {\n    const fragmentShaderSource = glsl `#version 300 es\n\n    precision highp float;\n\n    uniform sampler2D u_inputFrame;\n    uniform sampler2D u_segmentationMask;\n    uniform vec2 u_texelSize;\n    uniform float u_step;\n    uniform float u_radius;\n    uniform float u_offset;\n    uniform float u_sigmaTexel;\n    uniform float u_sigmaColor;\n\n    in vec2 v_texCoord;\n    out vec4 outColor;\n\n    float gaussian(float x, float sigma) {\n      float coeff = -0.5 / (sigma * sigma * 4.0 + 1.0e-6);\n      return exp((x * x) * coeff);\n    }\n\n    void main() {\n      vec2 centerCoord = v_texCoord;\n      vec3 centerColor = texture(u_inputFrame, centerCoord).rgb;\n      float newVal = 0.0;\n\n      float spaceWeight = 0.0;\n      float colorWeight = 0.0;\n      float totalWeight = 0.0;\n\n      // Subsample kernel space.\n      for (float i = -u_radius + u_offset; i <= u_radius; i += u_step) {\n        for (float j = -u_radius + u_offset; j <= u_radius; j += u_step) {\n          vec2 shift = vec2(j, i) * u_texelSize;\n          vec2 coord = vec2(centerCoord + shift);\n          vec3 frameColor = texture(u_inputFrame, coord).rgb;\n          float outVal = texture(u_segmentationMask, coord).a;\n\n          spaceWeight = gaussian(distance(centerCoord, coord), u_sigmaTexel);\n          colorWeight = gaussian(distance(centerColor, frameColor), u_sigmaColor);\n          totalWeight += spaceWeight * colorWeight;\n\n          newVal += spaceWeight * colorWeight * outVal;\n        }\n      }\n      newVal /= totalWeight;\n\n      outColor = vec4(vec3(0.0), newVal);\n    }\n  `;\n    const { width: segmentationWidth, height: segmentationHeight } = segmentationConfig;\n    const { width: outputWidth, height: outputHeight } = canvas;\n    const texelWidth = 1 / outputWidth;\n    const texelHeight = 1 / outputHeight;\n    const fragmentShader = compileShader(gl, gl.FRAGMENT_SHADER, fragmentShaderSource);\n    const program = createPipelineStageProgram(gl, vertexShader, fragmentShader, positionBuffer, texCoordBuffer);\n    const inputFrameLocation = gl.getUniformLocation(program, 'u_inputFrame');\n    const segmentationMaskLocation = gl.getUniformLocation(program, 'u_segmentationMask');\n    const texelSizeLocation = gl.getUniformLocation(program, 'u_texelSize');\n    const stepLocation = gl.getUniformLocation(program, 'u_step');\n    const radiusLocation = gl.getUniformLocation(program, 'u_radius');\n    const offsetLocation = gl.getUniformLocation(program, 'u_offset');\n    const sigmaTexelLocation = gl.getUniformLocation(program, 'u_sigmaTexel');\n    const sigmaColorLocation = gl.getUniformLocation(program, 'u_sigmaColor');\n    const frameBuffer = gl.createFramebuffer();\n    gl.bindFramebuffer(gl.FRAMEBUFFER, frameBuffer);\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, outputTexture, 0);\n    gl.useProgram(program);\n    gl.uniform1i(inputFrameLocation, 0);\n    gl.uniform1i(segmentationMaskLocation, 1);\n    gl.uniform2f(texelSizeLocation, texelWidth, texelHeight);\n    // Ensures default values are configured to prevent infinite\n    // loop in fragment shader\n    updateSigmaSpace(0);\n    updateSigmaColor(0);\n    function render() {\n        gl.viewport(0, 0, outputWidth, outputHeight);\n        gl.useProgram(program);\n        gl.activeTexture(gl.TEXTURE1);\n        gl.bindTexture(gl.TEXTURE_2D, inputTexture);\n        gl.bindFramebuffer(gl.FRAMEBUFFER, frameBuffer);\n        gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n    }\n    function updateSigmaSpace(sigmaSpace) {\n        sigmaSpace *= Math.max(outputWidth / segmentationWidth, outputHeight / segmentationHeight);\n        const kSparsityFactor = 0.66; // Higher is sparser.\n        const step = Math.max(1, Math.sqrt(sigmaSpace) * kSparsityFactor);\n        const radius = sigmaSpace;\n        const offset = step > 1 ? step * 0.5 : 0;\n        const sigmaTexel = Math.max(texelWidth, texelHeight) * sigmaSpace;\n        gl.useProgram(program);\n        gl.uniform1f(stepLocation, step);\n        gl.uniform1f(radiusLocation, radius);\n        gl.uniform1f(offsetLocation, offset);\n        gl.uniform1f(sigmaTexelLocation, sigmaTexel);\n    }\n    function updateSigmaColor(sigmaColor) {\n        gl.useProgram(program);\n        gl.uniform1f(sigmaColorLocation, sigmaColor);\n    }\n    function cleanUp() {\n        gl.deleteFramebuffer(frameBuffer);\n        gl.deleteProgram(program);\n        gl.deleteShader(fragmentShader);\n    }\n    return { render, updateSigmaSpace, updateSigmaColor, cleanUp };\n}\n\nfunction buildResizingStage(gl, vertexShader, positionBuffer, texCoordBuffer, tflite, segmentationConfig, onError) {\n    const fragmentShaderSource = glsl `#version 300 es\n\n    precision highp float;\n    uniform sampler2D u_inputFrame;\n    in vec2 v_texCoord;\n    out vec4 outColor;\n\n    void main() {\n      outColor = texture(u_inputFrame, v_texCoord);\n    }\n  `;\n    // TFLite memory will be accessed as float32\n    const tfliteInputMemoryOffset = tflite._getInputMemoryOffset() / 4;\n    const { width: outputWidth, height: outputHeight } = segmentationConfig;\n    const outputPixelCount = outputWidth * outputHeight;\n    const fragmentShader = compileShader(gl, gl.FRAGMENT_SHADER, fragmentShaderSource);\n    const program = createPipelineStageProgram(gl, vertexShader, fragmentShader, positionBuffer, texCoordBuffer);\n    const inputFrameLocation = gl.getUniformLocation(program, 'u_inputFrame');\n    const outputTexture = createTexture(gl, gl.RGBA8, outputWidth, outputHeight);\n    const frameBuffer = gl.createFramebuffer();\n    gl.bindFramebuffer(gl.FRAMEBUFFER, frameBuffer);\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, outputTexture, 0);\n    const outputPixels = new Uint8Array(outputPixelCount * 4);\n    gl.useProgram(program);\n    gl.uniform1i(inputFrameLocation, 0);\n    function render() {\n        gl.viewport(0, 0, outputWidth, outputHeight);\n        gl.useProgram(program);\n        gl.bindFramebuffer(gl.FRAMEBUFFER, frameBuffer);\n        gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n        // Downloads pixels asynchronously from GPU while rendering the current frame.\n        // The pixels will be available in the next frame render which results\n        // in offsets in the segmentation output but increases the frame rate.\n        readPixelsAsync(gl, 0, 0, outputWidth, outputHeight, gl.RGBA, gl.UNSIGNED_BYTE, outputPixels).catch((error) => {\n        });\n        for (let i = 0; i < outputPixelCount; i++) {\n            const tfliteIndex = tfliteInputMemoryOffset + i * 3;\n            const outputIndex = i * 4;\n            tflite.HEAPF32[tfliteIndex] = outputPixels[outputIndex] / 255;\n            tflite.HEAPF32[tfliteIndex + 1] = outputPixels[outputIndex + 1] / 255;\n            tflite.HEAPF32[tfliteIndex + 2] = outputPixels[outputIndex + 2] / 255;\n        }\n    }\n    function cleanUp() {\n        gl.deleteFramebuffer(frameBuffer);\n        gl.deleteTexture(outputTexture);\n        gl.deleteProgram(program);\n        gl.deleteShader(fragmentShader);\n    }\n    return { render, cleanUp };\n}\n\nfunction buildSoftmaxStage(gl, vertexShader, positionBuffer, texCoordBuffer, tflite, outputTexture, segmentationConfig) {\n    const fragmentShaderSource = glsl `#version 300 es\n\n    precision highp float;\n\n    uniform sampler2D u_inputSegmentation;\n    in vec2 v_texCoord;\n    out vec4 outColor;\n\n    void main() {\n      vec2 segmentation = texture(u_inputSegmentation, v_texCoord).rg;\n      float shift = max(segmentation.r, segmentation.g);\n      float backgroundExp = exp(segmentation.r - shift);\n      float personExp = exp(segmentation.g - shift);\n      outColor = vec4(vec3(0.0), personExp / (backgroundExp + personExp));\n    }\n  `;\n    // TFLite memory will be accessed as float32\n    const tfliteOutputMemoryOffset = tflite._getOutputMemoryOffset() / 4;\n    const { width: segmentationWidth, height: segmentationHeight } = segmentationConfig;\n    const fragmentShader = compileShader(gl, gl.FRAGMENT_SHADER, fragmentShaderSource);\n    const program = createPipelineStageProgram(gl, vertexShader, fragmentShader, positionBuffer, texCoordBuffer);\n    const inputLocation = gl.getUniformLocation(program, 'u_inputSegmentation');\n    const inputTexture = createTexture(gl, gl.RG32F, segmentationWidth, segmentationHeight);\n    const frameBuffer = gl.createFramebuffer();\n    gl.bindFramebuffer(gl.FRAMEBUFFER, frameBuffer);\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, outputTexture, 0);\n    gl.useProgram(program);\n    gl.uniform1i(inputLocation, 1);\n    function render() {\n        gl.viewport(0, 0, segmentationWidth, segmentationHeight);\n        gl.useProgram(program);\n        gl.activeTexture(gl.TEXTURE1);\n        gl.bindTexture(gl.TEXTURE_2D, inputTexture);\n        gl.texSubImage2D(gl.TEXTURE_2D, 0, 0, 0, segmentationWidth, segmentationHeight, gl.RG, gl.FLOAT, tflite.HEAPF32, tfliteOutputMemoryOffset);\n        gl.bindFramebuffer(gl.FRAMEBUFFER, frameBuffer);\n        gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n    }\n    function cleanUp() {\n        gl.deleteFramebuffer(frameBuffer);\n        gl.deleteTexture(inputTexture);\n        gl.deleteProgram(program);\n        gl.deleteShader(fragmentShader);\n    }\n    return { render, cleanUp };\n}\n\nfunction buildWebGL2Pipeline(videoSource, backgroundImage, blurLevel, backgroundFilter, canvas, tflite, segmentationConfig, onError) {\n    const gl = canvas.getContext('webgl2');\n    if (!gl)\n        throw new Error('WebGL2 is not supported');\n    if (gl.isContextLost())\n        throw new Error('WebGL2 context was lost');\n    const { width: frameWidth, height: frameHeight } = videoSource;\n    const { width: segmentationWidth, height: segmentationHeight } = segmentationConfig;\n    const vertexShaderSource = glsl `#version 300 es\n\n    in vec2 a_position;\n    in vec2 a_texCoord;\n    out vec2 v_texCoord;\n\n    void main() {\n      gl_Position = vec4(a_position, 0.0, 1.0);\n      v_texCoord = a_texCoord;\n    }\n  `;\n    const vertexShader = compileShader(gl, gl.VERTEX_SHADER, vertexShaderSource);\n    const vertexArray = gl.createVertexArray();\n    gl.bindVertexArray(vertexArray);\n    const positionBuffer = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);\n    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([-1.0, -1.0, 1.0, -1.0, -1.0, 1.0, 1.0, 1.0]), gl.STATIC_DRAW);\n    const texCoordBuffer = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, texCoordBuffer);\n    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([0.0, 0.0, 1.0, 0.0, 0.0, 1.0, 1.0, 1.0]), gl.STATIC_DRAW);\n    // We don't use texStorage2D here because texImage2D seems faster\n    // to upload video texture than texSubImage2D even though the latter\n    // is supposed to be the recommended way:\n    // https://developer.mozilla.org/en-US/docs/Web/API/WebGL_API/WebGL_best_practices#use_texstorage_to_create_textures\n    const inputFrameTexture = gl.createTexture();\n    gl.bindTexture(gl.TEXTURE_2D, inputFrameTexture);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n    // TODO Rename segmentation and person mask to be more specific\n    const segmentationTexture = createTexture(gl, gl.RGBA8, segmentationWidth, segmentationHeight);\n    const personMaskTexture = createTexture(gl, gl.RGBA8, frameWidth, frameHeight);\n    const resizingStage = buildResizingStage(gl, vertexShader, positionBuffer, texCoordBuffer, tflite, segmentationConfig);\n    const loadSegmentationStage = buildSoftmaxStage(gl, vertexShader, positionBuffer, texCoordBuffer, tflite, segmentationTexture, segmentationConfig);\n    const jointBilateralFilterStage = buildJointBilateralFilterStage(gl, vertexShader, positionBuffer, texCoordBuffer, segmentationTexture, personMaskTexture, canvas, segmentationConfig);\n    const backgroundStage = backgroundFilter === 'blur'\n        ? buildBackgroundBlurStage(gl, vertexShader, positionBuffer, texCoordBuffer, personMaskTexture, canvas, blurLevel || 'high')\n        : buildBackgroundImageStage(gl, positionBuffer, texCoordBuffer, personMaskTexture, backgroundImage, canvas);\n    function render() {\n        gl.activeTexture(gl.TEXTURE0);\n        gl.bindTexture(gl.TEXTURE_2D, inputFrameTexture);\n        // texImage2D seems faster than texSubImage2D to upload\n        // video texture\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, videoSource);\n        gl.bindVertexArray(vertexArray);\n        resizingStage.render();\n        tflite._runInference();\n        loadSegmentationStage.render();\n        jointBilateralFilterStage.render();\n        backgroundStage.render();\n    }\n    function updatePostProcessingConfig() {\n        jointBilateralFilterStage.updateSigmaSpace(1);\n        jointBilateralFilterStage.updateSigmaColor(0.1);\n        if (backgroundFilter === 'image') {\n            const backgroundImageStage = backgroundStage;\n            backgroundImageStage.updateCoverage([0.5, 0.75]);\n            backgroundImageStage.updateLightWrapping(0.3);\n            backgroundImageStage.updateBlendMode('screen');\n        }\n        else if (backgroundFilter === 'blur') {\n            const backgroundBlurStage = backgroundStage;\n            backgroundBlurStage.updateCoverage([0.5, 0.75]);\n        }\n        else {\n            // TODO Handle no background in a separate pipeline path\n            const backgroundImageStage = backgroundStage;\n            backgroundImageStage.updateCoverage([0, 0.9999]);\n            backgroundImageStage.updateLightWrapping(0);\n        }\n    }\n    function cleanUp() {\n        backgroundStage.cleanUp();\n        jointBilateralFilterStage.cleanUp();\n        loadSegmentationStage.cleanUp();\n        resizingStage.cleanUp();\n        gl.deleteTexture(personMaskTexture);\n        gl.deleteTexture(segmentationTexture);\n        gl.deleteTexture(inputFrameTexture);\n        gl.deleteBuffer(texCoordBuffer);\n        gl.deleteBuffer(positionBuffer);\n        gl.deleteVertexArray(vertexArray);\n        gl.deleteShader(vertexShader);\n    }\n    return { render, updatePostProcessingConfig, cleanUp };\n}\n\nvar SegmentationLevel;\n(function (SegmentationLevel) {\n    SegmentationLevel[\"LOW\"] = \"low\";\n    SegmentationLevel[\"HIGH\"] = \"high\";\n})(SegmentationLevel || (SegmentationLevel = {}));\nconst getSegmentationParams = (level) => {\n    if (level === SegmentationLevel.HIGH) {\n        return { width: 256, height: 144 };\n    }\n    return { width: 160, height: 96 };\n};\n\nfunction createRenderer(tflite, videoSource, targetCanvas, options, onError) {\n    const { backgroundFilter, backgroundImage, backgroundBlurLevel, segmentationLevel = SegmentationLevel.HIGH, fps = 30, } = options;\n    if (backgroundFilter === 'image' && !backgroundImage) {\n        throw new Error(`backgroundImage element is required when backgroundFilter is image`);\n    }\n    const pipeline = buildWebGL2Pipeline(videoSource, backgroundImage, backgroundBlurLevel, backgroundFilter, targetCanvas, tflite, getSegmentationParams(segmentationLevel));\n    const id = setInterval(() => {\n        try {\n            pipeline.render();\n            if (backgroundFilter === 'image') {\n                pipeline.updatePostProcessingConfig();\n            }\n        }\n        catch (error) {\n            onError?.(error);\n        }\n    }, 1000 / (fps <= 0 ? 30 : fps));\n    return {\n        dispose: () => {\n            pipeline.cleanUp();\n            clearInterval(id);\n        },\n    };\n}\n\nconst createTFLiteSIMDModule = (__Module) => {\n  __Module = __Module || {};\n\n  var _scriptDir =\n    typeof document !== 'undefined' && document.currentScript\n      ? document.currentScript.src\n      : undefined;\n\n  var Module = typeof __Module != 'undefined' ? __Module : {};\n  var readyPromiseResolve, readyPromiseReject;\n  Module['ready'] = new Promise(function (resolve, reject) {\n    readyPromiseResolve = resolve;\n    readyPromiseReject = reject;\n  });\n  var moduleOverrides = Object.assign({}, Module);\n  var thisProgram = './this.program';\n  var quit_ = (status, toThrow) => {\n    throw toThrow;\n  };\n  var ENVIRONMENT_IS_WEB = true;\n  var scriptDirectory = '';\n\n  function locateFile(path) {\n    if (Module['locateFile']) {\n      return Module['locateFile'](path, scriptDirectory);\n    }\n    return scriptDirectory + path;\n  }\n\n  var readBinary;\n  {\n    if (typeof document != 'undefined' && document.currentScript) {\n      scriptDirectory = document.currentScript.src;\n    }\n    if (_scriptDir) {\n      scriptDirectory = _scriptDir;\n    }\n    if (scriptDirectory.indexOf('blob:') !== 0) {\n      scriptDirectory = scriptDirectory.substr(\n        0,\n        scriptDirectory.replace(/[?#].*/, '').lastIndexOf('/') + 1,\n      );\n    } else {\n      scriptDirectory = '';\n    }\n  }\n  var out = Module['print'] || console.log.bind(console);\n  var err = Module['printErr'] || console.warn.bind(console);\n  Object.assign(Module, moduleOverrides);\n  moduleOverrides = null;\n  if (Module['arguments']) Module['arguments'];\n  if (Module['thisProgram']) thisProgram = Module['thisProgram'];\n  if (Module['quit']) quit_ = Module['quit'];\n  var wasmBinary;\n  if (Module['wasmBinary']) wasmBinary = Module['wasmBinary'];\n  var noExitRuntime = Module['noExitRuntime'] || true;\n  if (typeof WebAssembly != 'object') {\n    abort('no native wasm support detected');\n  }\n  var wasmMemory;\n  var ABORT = false;\n\n  var UTF8Decoder =\n    typeof TextDecoder != 'undefined' ? new TextDecoder('utf8') : undefined;\n\n  function UTF8ArrayToString(heapOrArray, idx, maxBytesToRead) {\n    var endIdx = idx + maxBytesToRead;\n    var endPtr = idx;\n    while (heapOrArray[endPtr] && !(endPtr >= endIdx)) ++endPtr;\n    if (endPtr - idx > 16 && heapOrArray.buffer && UTF8Decoder) {\n      return UTF8Decoder.decode(heapOrArray.subarray(idx, endPtr));\n    }\n    var str = '';\n    while (idx < endPtr) {\n      var u0 = heapOrArray[idx++];\n      if (!(u0 & 128)) {\n        str += String.fromCharCode(u0);\n        continue;\n      }\n      var u1 = heapOrArray[idx++] & 63;\n      if ((u0 & 224) == 192) {\n        str += String.fromCharCode(((u0 & 31) << 6) | u1);\n        continue;\n      }\n      var u2 = heapOrArray[idx++] & 63;\n      if ((u0 & 240) == 224) {\n        u0 = ((u0 & 15) << 12) | (u1 << 6) | u2;\n      } else {\n        u0 =\n          ((u0 & 7) << 18) | (u1 << 12) | (u2 << 6) | (heapOrArray[idx++] & 63);\n      }\n      if (u0 < 65536) {\n        str += String.fromCharCode(u0);\n      } else {\n        var ch = u0 - 65536;\n        str += String.fromCharCode(55296 | (ch >> 10), 56320 | (ch & 1023));\n      }\n    }\n    return str;\n  }\n\n  var buffer, HEAP8, HEAPU8, HEAPU32;\n\n  function updateGlobalBufferAndViews(buf) {\n    buffer = buf;\n    Module['HEAP8'] = HEAP8 = new Int8Array(buf);\n    Module['HEAP16'] = new Int16Array(buf);\n    Module['HEAP32'] = new Int32Array(buf);\n    Module['HEAPU8'] = HEAPU8 = new Uint8Array(buf);\n    Module['HEAPU16'] = new Uint16Array(buf);\n    Module['HEAPU32'] = HEAPU32 = new Uint32Array(buf);\n    Module['HEAPF32'] = new Float32Array(buf);\n    Module['HEAPF64'] = new Float64Array(buf);\n  }\n\n  Module['INITIAL_MEMORY'] || 16777216;\n  var __ATPRERUN__ = [];\n  var __ATINIT__ = [];\n  var __ATPOSTRUN__ = [];\n\n  function keepRuntimeAlive() {\n    return noExitRuntime;\n  }\n\n  function preRun() {\n    if (Module['preRun']) {\n      if (typeof Module['preRun'] == 'function')\n        Module['preRun'] = [Module['preRun']];\n      while (Module['preRun'].length) {\n        addOnPreRun(Module['preRun'].shift());\n      }\n    }\n    callRuntimeCallbacks(__ATPRERUN__);\n  }\n\n  function initRuntime() {\n    callRuntimeCallbacks(__ATINIT__);\n  }\n\n  function postRun() {\n    if (Module['postRun']) {\n      if (typeof Module['postRun'] == 'function')\n        Module['postRun'] = [Module['postRun']];\n      while (Module['postRun'].length) {\n        addOnPostRun(Module['postRun'].shift());\n      }\n    }\n    callRuntimeCallbacks(__ATPOSTRUN__);\n  }\n\n  function addOnPreRun(cb) {\n    __ATPRERUN__.unshift(cb);\n  }\n\n  function addOnInit(cb) {\n    __ATINIT__.unshift(cb);\n  }\n\n  function addOnPostRun(cb) {\n    __ATPOSTRUN__.unshift(cb);\n  }\n\n  var runDependencies = 0;\n  var dependenciesFulfilled = null;\n\n  function addRunDependency(id) {\n    runDependencies++;\n    if (Module['monitorRunDependencies']) {\n      Module['monitorRunDependencies'](runDependencies);\n    }\n  }\n\n  function removeRunDependency(id) {\n    runDependencies--;\n    if (Module['monitorRunDependencies']) {\n      Module['monitorRunDependencies'](runDependencies);\n    }\n    if (runDependencies == 0) {\n      if (dependenciesFulfilled) {\n        var callback = dependenciesFulfilled;\n        dependenciesFulfilled = null;\n        callback();\n      }\n    }\n  }\n\n  function abort(what) {\n    {\n      if (Module['onAbort']) {\n        Module['onAbort'](what);\n      }\n    }\n    what = 'Aborted(' + what + ')';\n    err(what);\n    ABORT = true;\n    what += '. Build with -sASSERTIONS for more info.';\n    var e = new WebAssembly.RuntimeError(what);\n    readyPromiseReject(e);\n    throw e;\n  }\n\n  var dataURIPrefix = 'data:application/octet-stream;base64,';\n\n  function isDataURI(filename) {\n    return filename.startsWith(dataURIPrefix);\n  }\n\n  var wasmBinaryFile;\n  wasmBinaryFile = 'tflite-simd.wasm';\n  if (!isDataURI(wasmBinaryFile)) {\n    wasmBinaryFile = locateFile(wasmBinaryFile);\n  }\n\n  function getBinary(file) {\n    try {\n      if (file == wasmBinaryFile && wasmBinary) {\n        return new Uint8Array(wasmBinary);\n      }\n      if (readBinary) ;\n      throw 'both async and sync fetching of the wasm failed';\n      // eslint-disable-next-line @typescript-eslint/no-shadow\n    } catch (err) {\n      abort(err);\n    }\n  }\n\n  function getBinaryPromise() {\n    if (!wasmBinary && (ENVIRONMENT_IS_WEB)) {\n      if (typeof fetch == 'function') {\n        return fetch(wasmBinaryFile, { credentials: 'same-origin' })\n          .then(function (response) {\n            if (!response['ok']) {\n              throw (\n                \"failed to load wasm binary file at '\" + wasmBinaryFile + \"'\"\n              );\n            }\n            return response['arrayBuffer']();\n          })\n          .catch(function () {\n            return getBinary(wasmBinaryFile);\n          });\n      }\n    }\n    return Promise.resolve().then(function () {\n      return getBinary(wasmBinaryFile);\n    });\n  }\n\n  function createWasm() {\n    var info = {\n      env: asmLibraryArg,\n      wasi_snapshot_preview1: asmLibraryArg,\n    };\n\n    function receiveInstance(instance, module) {\n      var exports = instance.exports;\n      Module['asm'] = exports;\n      wasmMemory = Module['asm']['memory'];\n      updateGlobalBufferAndViews(wasmMemory.buffer);\n      Module['asm']['__indirect_function_table'];\n      addOnInit(Module['asm']['__wasm_call_ctors']);\n      removeRunDependency();\n    }\n\n    addRunDependency();\n\n    function receiveInstantiationResult(result) {\n      receiveInstance(result['instance']);\n    }\n\n    function instantiateArrayBuffer(receiver) {\n      return getBinaryPromise()\n        .then(function (binary) {\n          return WebAssembly.instantiate(binary, info);\n        })\n        .then(function (instance) {\n          return instance;\n        })\n        .then(receiver, function (reason) {\n          err('failed to asynchronously prepare wasm: ' + reason);\n          abort(reason);\n        });\n    }\n\n    function instantiateAsync() {\n      if (\n        !wasmBinary &&\n        typeof WebAssembly.instantiateStreaming == 'function' &&\n        !isDataURI(wasmBinaryFile) &&\n        typeof fetch == 'function'\n      ) {\n        return fetch(wasmBinaryFile, { credentials: 'same-origin' }).then(\n          function (response) {\n            var result = WebAssembly.instantiateStreaming(response, info);\n            return result.then(receiveInstantiationResult, function (reason) {\n              err('wasm streaming compile failed: ' + reason);\n              err('falling back to ArrayBuffer instantiation');\n              return instantiateArrayBuffer(receiveInstantiationResult);\n            });\n          },\n        );\n      } else {\n        return instantiateArrayBuffer(receiveInstantiationResult);\n      }\n    }\n\n    if (Module['instantiateWasm']) {\n      try {\n        var exports = Module['instantiateWasm'](info, receiveInstance);\n        return exports;\n      } catch (e) {\n        err('Module.instantiateWasm callback failed with error: ' + e);\n        readyPromiseReject(e);\n      }\n    }\n    instantiateAsync().catch(readyPromiseReject);\n    return {};\n  }\n\n  function ExitStatus(status) {\n    this.name = 'ExitStatus';\n    this.message = 'Program terminated with exit(' + status + ')';\n    this.status = status;\n  }\n\n  function callRuntimeCallbacks(callbacks) {\n    while (callbacks.length > 0) {\n      callbacks.shift()(Module);\n    }\n  }\n\n  function __dlinit(main_dso_handle) {}\n\n  var dlopenMissingError =\n    'To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking';\n\n  function __dlopen_js(filename, flag) {\n    abort(dlopenMissingError);\n  }\n\n  function __dlsym_js(handle, symbol) {\n    abort(dlopenMissingError);\n  }\n\n  var nowIsMonotonic = true;\n\n  function __emscripten_get_now_is_monotonic() {\n    return nowIsMonotonic;\n  }\n\n  function __mmap_js(len, prot, flags, fd, off, allocated) {\n    return -52;\n  }\n\n  function __munmap_js(addr, len, prot, flags, fd, offset) {}\n\n  function _abort() {\n    abort('');\n  }\n\n  function _emscripten_date_now() {\n    return Date.now();\n  }\n\n  function getHeapMax() {\n    return 2147483648;\n  }\n\n  function _emscripten_get_heap_max() {\n    return getHeapMax();\n  }\n\n  var _emscripten_get_now;\n  _emscripten_get_now = () => performance.now();\n\n  function _emscripten_memcpy_big(dest, src, num) {\n    HEAPU8.copyWithin(dest, src, src + num);\n  }\n\n  function emscripten_realloc_buffer(size) {\n    try {\n      wasmMemory.grow((size - buffer.byteLength + 65535) >>> 16);\n      updateGlobalBufferAndViews(wasmMemory.buffer);\n      return 1;\n    } catch (e) {}\n  }\n\n  function _emscripten_resize_heap(requestedSize) {\n    var oldSize = HEAPU8.length;\n    requestedSize = requestedSize >>> 0;\n    var maxHeapSize = getHeapMax();\n    if (requestedSize > maxHeapSize) {\n      return false;\n    }\n    let alignUp = (x, multiple) => x + ((multiple - (x % multiple)) % multiple);\n    for (var cutDown = 1; cutDown <= 4; cutDown *= 2) {\n      var overGrownHeapSize = oldSize * (1 + 0.2 / cutDown);\n      overGrownHeapSize = Math.min(\n        overGrownHeapSize,\n        requestedSize + 100663296,\n      );\n      var newSize = Math.min(\n        maxHeapSize,\n        alignUp(Math.max(requestedSize, overGrownHeapSize), 65536),\n      );\n      var replacement = emscripten_realloc_buffer(newSize);\n      if (replacement) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  var ENV = {};\n\n  function getExecutableName() {\n    return thisProgram || './this.program';\n  }\n\n  function getEnvStrings() {\n    if (!getEnvStrings.strings) {\n      var lang =\n        (\n          (typeof navigator == 'object' &&\n            navigator.languages &&\n            navigator.languages[0]) ||\n          'C'\n        ).replace('-', '_') + '.UTF-8';\n      var env = {\n        USER: 'web_user',\n        LOGNAME: 'web_user',\n        PATH: '/',\n        PWD: '/',\n        HOME: '/home/web_user',\n        LANG: lang,\n        _: getExecutableName(),\n      };\n      for (var x in ENV) {\n        if (ENV[x] === undefined) delete env[x];\n        else env[x] = ENV[x];\n      }\n      var strings = [];\n      for (var x in env) {\n        strings.push(x + '=' + env[x]);\n      }\n      getEnvStrings.strings = strings;\n    }\n    return getEnvStrings.strings;\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-shadow\n  function writeAsciiToMemory(str, buffer, dontAddNull) {\n    for (var i = 0; i < str.length; ++i) {\n      HEAP8[buffer++ >> 0] = str.charCodeAt(i);\n    }\n    HEAP8[buffer >> 0] = 0;\n  }\n\n  function _environ_get(__environ, environ_buf) {\n    var bufSize = 0;\n    getEnvStrings().forEach(function (string, i) {\n      var ptr = environ_buf + bufSize;\n      HEAPU32[(__environ + i * 4) >> 2] = ptr;\n      writeAsciiToMemory(string, ptr);\n      bufSize += string.length + 1;\n    });\n    return 0;\n  }\n\n  function _environ_sizes_get(penviron_count, penviron_buf_size) {\n    var strings = getEnvStrings();\n    HEAPU32[penviron_count >> 2] = strings.length;\n    var bufSize = 0;\n    strings.forEach(function (string) {\n      bufSize += string.length + 1;\n    });\n    HEAPU32[penviron_buf_size >> 2] = bufSize;\n    return 0;\n  }\n\n  function _proc_exit(code) {\n    if (!keepRuntimeAlive()) {\n      if (Module['onExit']) Module['onExit'](code);\n      ABORT = true;\n    }\n    quit_(code, new ExitStatus(code));\n  }\n\n  function exitJS(status, implicit) {\n    _proc_exit(status);\n  }\n\n  var _exit = exitJS;\n\n  function _fd_close(fd) {\n    return 52;\n  }\n\n  function _fd_seek(fd, offset_low, offset_high, whence, newOffset) {\n    return 70;\n  }\n\n  var printCharBuffers = [null, [], []];\n\n  function printChar(stream, curr) {\n    // eslint-disable-next-line @typescript-eslint/no-shadow\n    var buffer = printCharBuffers[stream];\n    if (curr === 0 || curr === 10) {\n      (stream === 1 ? out : err)(UTF8ArrayToString(buffer, 0));\n      buffer.length = 0;\n    } else {\n      buffer.push(curr);\n    }\n  }\n\n  function _fd_write(fd, iov, iovcnt, pnum) {\n    var num = 0;\n    for (var i = 0; i < iovcnt; i++) {\n      var ptr = HEAPU32[iov >> 2];\n      var len = HEAPU32[(iov + 4) >> 2];\n      iov += 8;\n      for (var j = 0; j < len; j++) {\n        printChar(fd, HEAPU8[ptr + j]);\n      }\n      num += len;\n    }\n    HEAPU32[pnum >> 2] = num;\n    return 0;\n  }\n\n  function getRandomDevice() {\n    if (\n      typeof crypto == 'object' &&\n      typeof crypto['getRandomValues'] == 'function'\n    ) {\n      var randomBuffer = new Uint8Array(1);\n      return () => {\n        crypto.getRandomValues(randomBuffer);\n        return randomBuffer[0];\n      };\n    } else return () => abort('randomDevice');\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-shadow\n  function _getentropy(buffer, size) {\n    if (!_getentropy.randomDevice) {\n      _getentropy.randomDevice = getRandomDevice();\n    }\n    for (var i = 0; i < size; i++) {\n      HEAP8[(buffer + i) >> 0] = _getentropy.randomDevice();\n    }\n    return 0;\n  }\n\n  var asmLibraryArg = {\n    _dlinit: __dlinit,\n    _dlopen_js: __dlopen_js,\n    _dlsym_js: __dlsym_js,\n    _emscripten_get_now_is_monotonic: __emscripten_get_now_is_monotonic,\n    _mmap_js: __mmap_js,\n    _munmap_js: __munmap_js,\n    abort: _abort,\n    emscripten_date_now: _emscripten_date_now,\n    emscripten_get_heap_max: _emscripten_get_heap_max,\n    emscripten_get_now: _emscripten_get_now,\n    emscripten_memcpy_big: _emscripten_memcpy_big,\n    emscripten_resize_heap: _emscripten_resize_heap,\n    environ_get: _environ_get,\n    environ_sizes_get: _environ_sizes_get,\n    exit: _exit,\n    fd_close: _fd_close,\n    fd_seek: _fd_seek,\n    fd_write: _fd_write,\n    getentropy: _getentropy,\n  };\n  createWasm();\n  (Module['___wasm_call_ctors'] = function () {\n    return (Module['___wasm_call_ctors'] =\n      Module['asm']['__wasm_call_ctors']).apply(null, arguments);\n  });\n  (Module['_getModelBufferMemoryOffset'] =\n    function () {\n      return (Module[\n        '_getModelBufferMemoryOffset'\n      ] =\n        Module['asm']['getModelBufferMemoryOffset']).apply(null, arguments);\n    });\n  (Module['_getInputMemoryOffset'] = function () {\n    return (Module['_getInputMemoryOffset'] =\n      Module['asm']['getInputMemoryOffset']).apply(null, arguments);\n  });\n  (Module['_getInputHeight'] = function () {\n    return (Module['_getInputHeight'] =\n      Module['asm']['getInputHeight']).apply(null, arguments);\n  });\n  (Module['_getInputWidth'] = function () {\n    return (Module['_getInputWidth'] =\n      Module['asm']['getInputWidth']).apply(null, arguments);\n  });\n  (Module['_getInputChannelCount'] = function () {\n    return (Module['_getInputChannelCount'] =\n      Module['asm']['getInputChannelCount']).apply(null, arguments);\n  });\n  (Module['_getOutputMemoryOffset'] = function () {\n    return (Module['_getOutputMemoryOffset'] =\n      Module['asm']['getOutputMemoryOffset']).apply(null, arguments);\n  });\n  (Module['_getOutputHeight'] = function () {\n    return (Module['_getOutputHeight'] =\n      Module['asm']['getOutputHeight']).apply(null, arguments);\n  });\n  (Module['_getOutputWidth'] = function () {\n    return (Module['_getOutputWidth'] =\n      Module['asm']['getOutputWidth']).apply(null, arguments);\n  });\n  (Module['_getOutputChannelCount'] = function () {\n    return (Module['_getOutputChannelCount'] =\n      Module['asm']['getOutputChannelCount']).apply(null, arguments);\n  });\n  (Module['_loadModel'] = function () {\n    return (Module['_loadModel'] =\n      Module['asm']['loadModel']).apply(null, arguments);\n  });\n  (Module['_runInference'] = function () {\n    return (Module['_runInference'] =\n      Module['asm']['runInference']).apply(null, arguments);\n  });\n  (Module['_malloc'] = function () {\n    return (Module['_malloc'] = Module['asm']['malloc']).apply(\n      null,\n      arguments,\n    );\n  });\n  (Module['___errno_location'] = function () {\n    return (Module['___errno_location'] =\n      Module['asm']['__errno_location']).apply(null, arguments);\n  });\n  (Module['___dl_seterr'] = function () {\n    return (Module['___dl_seterr'] =\n      Module['asm']['__dl_seterr']).apply(null, arguments);\n  });\n  (Module['stackSave'] = function () {\n    return (Module['stackSave'] = Module['asm']['stackSave']).apply(\n      null,\n      arguments,\n    );\n  });\n  (Module['stackRestore'] = function () {\n    return (Module['stackRestore'] =\n      Module['asm']['stackRestore']).apply(null, arguments);\n  });\n  (Module['stackAlloc'] = function () {\n    return (Module['stackAlloc'] =\n      Module['asm']['stackAlloc']).apply(null, arguments);\n  });\n  (Module['dynCall_jjj'] = function () {\n    return (Module['dynCall_jjj'] =\n      Module['asm']['dynCall_jjj']).apply(null, arguments);\n  });\n  (Module['dynCall_jiii'] = function () {\n    return (Module['dynCall_jiii'] =\n      Module['asm']['dynCall_jiii']).apply(null, arguments);\n  });\n  (Module['dynCall_iiiijj'] = function () {\n    return (Module['dynCall_iiiijj'] =\n      Module['asm']['dynCall_iiiijj']).apply(null, arguments);\n  });\n  (Module['dynCall_viijj'] = function () {\n    return (Module['dynCall_viijj'] =\n      Module['asm']['dynCall_viijj']).apply(null, arguments);\n  });\n  (Module['dynCall_viiijjj'] = function () {\n    return (Module['dynCall_viiijjj'] =\n      Module['asm']['dynCall_viiijjj']).apply(null, arguments);\n  });\n  (Module['dynCall_iijjiiii'] = function () {\n    return (Module['dynCall_iijjiiii'] =\n      Module['asm']['dynCall_iijjiiii']).apply(null, arguments);\n  });\n  (Module['dynCall_jiji'] = function () {\n    return (Module['dynCall_jiji'] =\n      Module['asm']['dynCall_jiji']).apply(null, arguments);\n  });\n  var calledRun;\n  dependenciesFulfilled = function runCaller() {\n    if (!calledRun) run();\n    if (!calledRun) dependenciesFulfilled = runCaller;\n  };\n\n  function run(args) {\n    if (runDependencies > 0) {\n      return;\n    }\n    preRun();\n    if (runDependencies > 0) {\n      return;\n    }\n\n    function doRun() {\n      if (calledRun) return;\n      calledRun = true;\n      Module['calledRun'] = true;\n      if (ABORT) return;\n      initRuntime();\n      readyPromiseResolve(Module);\n      if (Module['onRuntimeInitialized']) Module['onRuntimeInitialized']();\n      postRun();\n    }\n\n    if (Module['setStatus']) {\n      Module['setStatus']('Running...');\n      setTimeout(function () {\n        setTimeout(function () {\n          Module['setStatus']('');\n        }, 1);\n        doRun();\n      }, 1);\n    } else {\n      doRun();\n    }\n  }\n\n  if (Module['preInit']) {\n    if (typeof Module['preInit'] == 'function')\n      Module['preInit'] = [Module['preInit']];\n    while (Module['preInit'].length > 0) {\n      Module['preInit'].pop()();\n    }\n  }\n  run();\n\n  return __Module.ready;\n};\n\nconst version = \"0.1.6\";\nconst packageName = \"@stream-io/video-filters-web\";\n\n// @ts-expect-error - module is not declared\n// This is a WebAssembly module compiled from the TensorFlow Lite C++ library.\nconst createTFLite = createTFLiteSIMDModule;\nconst loadTFLite = async (options = {}) => {\n    const { basePath = `https://unpkg.com/${packageName}@${version}/tf`, tfFilePath = `${basePath}/tflite/tflite-simd.wasm`, modelFilePath = `${basePath}/models/segm_full_v679.tflite`, } = options;\n    const [tfLite, model] = await Promise.all([\n        createTFLite({ locateFile: () => tfFilePath }),\n        fetchModel(modelFilePath),\n    ]);\n    const modelBufferOffset = tfLite._getModelBufferMemoryOffset();\n    tfLite.HEAPU8.set(new Uint8Array(model), modelBufferOffset);\n    tfLite._loadModel(model.byteLength);\n    return tfLite;\n};\nlet lastModelFilePath = '';\nlet modelFileCache;\nconst fetchModel = async (modelFilePath) => {\n    const model = modelFilePath === lastModelFilePath && modelFileCache\n        ? modelFileCache\n        : await fetch(modelFilePath).then((r) => r.arrayBuffer());\n    // Cache the model file for future use.\n    modelFileCache = model;\n    lastModelFilePath = modelFilePath;\n    return model;\n};\n\n\n//# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BzdHJlYW0taW8vdmlkZW8tZmlsdGVycy13ZWIvZGlzdC9pbmRleC5lcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUEyQzs7QUFFM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyx5REFBSSxLQUFLOztBQUVwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlEQUF5RCw4QkFBOEI7QUFDdkY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRCw0QkFBNEI7QUFDakY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEseUJBQXlCLFdBQVcsY0FBYyw0Q0FBNEM7QUFDOUYseUJBQXlCLFdBQVcsY0FBYyw2Q0FBNkM7O0FBRS9GO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxzQkFBc0IsTUFBTSxhQUFhO0FBQ3pDOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsT0FBTztBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSwyQ0FBMkM7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLDJDQUEyQztBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDJDQUEyQyxlQUFlO0FBQzFELDZDQUE2QyxlQUFlO0FBQzVEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHVEQUF1RDtBQUNuRSxZQUFZLDJDQUEyQztBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0M7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLDJDQUEyQztBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULHdCQUF3QixzQkFBc0I7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHVEQUF1RDtBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSx5Q0FBeUM7QUFDckQsWUFBWSx1REFBdUQ7QUFDbkU7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyw4Q0FBOEM7QUFDL0M7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLGFBQWE7QUFDYjs7QUFFQTtBQUNBLFlBQVksZ0hBQWdIO0FBQzVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsd0NBQXdDO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEscURBQXFEOztBQUVyRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsNEJBQTRCO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLDRCQUE0QjtBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsV0FBVztBQUNYO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixjQUFjO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLG9CQUFvQixnQkFBZ0I7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLG9CQUFvQixZQUFZO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixTQUFTO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsVUFBVTtBQUM5QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsT0FBTztBQUNQLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDO0FBQ3RDLFlBQVksZ0NBQWdDLFlBQVksR0FBRyxRQUFRLHNCQUFzQixTQUFTLDhDQUE4QyxTQUFTLGtDQUFrQztBQUMzTDtBQUNBLHVCQUF1Qiw4QkFBOEI7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUU4RTtBQUM5RSIsInNvdXJjZXMiOlsid2VicGFjazovL0BoZWxzYS9hcHAvLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BzdHJlYW0taW8vdmlkZW8tZmlsdGVycy13ZWIvZGlzdC9pbmRleC5lcy5qcz8zOTY2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHNpbWQgfSBmcm9tICd3YXNtLWZlYXR1cmUtZGV0ZWN0JztcblxuLyoqXG4gKiBDaGVja3MgaWYgdGhlIGN1cnJlbnQgcGxhdGZvcm0gaXMgYSBtb2JpbGUgZGV2aWNlLlxuICpcbiAqIFNlZTpcbiAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0hUVFAvQnJvd3Nlcl9kZXRlY3Rpb25fdXNpbmdfdGhlX3VzZXJfYWdlbnRcbiAqL1xuY29uc3QgaXNNb2JpbGUgPSAoKSA9PiAvTW9iaS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG4vKipcbiAqIFJ1bnMgYSBjaGVjayB0byBzZWUgaWYgdGhlIGN1cnJlbnQgcGxhdGZvcm0gc3VwcG9ydHNcbiAqIHRoZSBuZWNlc3NhcnkgQVBJcyByZXF1aXJlZCBmb3IgdGhlIHZpZGVvIGZpbHRlcnMuXG4gKi9cbmNvbnN0IGlzUGxhdGZvcm1TdXBwb3J0ZWQgPSBhc3luYyAoKSA9PiB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnICYmXG4gICAgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICB0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICFpc01vYmlsZSgpICYmIC8vIHdlIGRvbid0IHN1cHBvcnQgbW9iaWxlIGRldmljZXMgeWV0IGR1ZSB0byBwZXJmb3JtYW5jZSBpc3N1ZXNcbiAgICB0eXBlb2YgV2ViQXNzZW1ibHkgIT09ICd1bmRlZmluZWQnICYmXG4gICAgISF3aW5kb3cuV2ViR0wyUmVuZGVyaW5nQ29udGV4dCAmJiAvLyBXZWJHTDIgaXMgcmVxdWlyZWQgZm9yIHRoZSB2aWRlbyBmaWx0ZXJzXG4gICAgISFkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKS5nZXRDb250ZXh0KCd3ZWJnbDInKSAmJlxuICAgIChhd2FpdCBzaW1kKCkpOyAvLyBTSU1EIGlzIHJlcXVpcmVkIGZvciB0aGUgd2FzbSBtb2R1bGVcblxuLyoqXG4gKiBVc2UgaXQgYWxvbmcgd2l0aCBib3lzd2FuLmdsc2wtbGl0ZXJhbCBWU0NvZGUgZXh0ZW5zaW9uXG4gKiB0byBnZXQgR0xTTCBzeW50YXggaGlnaGxpZ2h0aW5nLlxuICogaHR0cHM6Ly9tYXJrZXRwbGFjZS52aXN1YWxzdHVkaW8uY29tL2l0ZW1zP2l0ZW1OYW1lPWJveXN3YW4uZ2xzbC1saXRlcmFsXG4gKlxuICogT24gVlNDb2RlIE9TUywgYm95c3dhbi5nbHNsLWxpdGVyYWwgcmVxdWlyZXMgc2xldmVzcXVlLnNoYWRlciBleHRlbnNpb25cbiAqIHRvIGJlIGluc3RhbGxlZCBhcyB3ZWxsLlxuICogaHR0cHM6Ly9tYXJrZXRwbGFjZS52aXN1YWxzdHVkaW8uY29tL2l0ZW1zP2l0ZW1OYW1lPXNsZXZlc3F1ZS5zaGFkZXJcbiAqL1xuY29uc3QgZ2xzbCA9IFN0cmluZy5yYXc7XG5mdW5jdGlvbiBjcmVhdGVQaXBlbGluZVN0YWdlUHJvZ3JhbShnbCwgdmVydGV4U2hhZGVyLCBmcmFnbWVudFNoYWRlciwgcG9zaXRpb25CdWZmZXIsIHRleENvb3JkQnVmZmVyKSB7XG4gICAgY29uc3QgcHJvZ3JhbSA9IGNyZWF0ZVByb2dyYW0oZ2wsIHZlcnRleFNoYWRlciwgZnJhZ21lbnRTaGFkZXIpO1xuICAgIGNvbnN0IHBvc2l0aW9uQXR0cmlidXRlTG9jYXRpb24gPSBnbC5nZXRBdHRyaWJMb2NhdGlvbihwcm9ncmFtLCAnYV9wb3NpdGlvbicpO1xuICAgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHBvc2l0aW9uQXR0cmlidXRlTG9jYXRpb24pO1xuICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBwb3NpdGlvbkJ1ZmZlcik7XG4gICAgZ2wudmVydGV4QXR0cmliUG9pbnRlcihwb3NpdGlvbkF0dHJpYnV0ZUxvY2F0aW9uLCAyLCBnbC5GTE9BVCwgZmFsc2UsIDAsIDApO1xuICAgIGNvbnN0IHRleENvb3JkQXR0cmlidXRlTG9jYXRpb24gPSBnbC5nZXRBdHRyaWJMb2NhdGlvbihwcm9ncmFtLCAnYV90ZXhDb29yZCcpO1xuICAgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHRleENvb3JkQXR0cmlidXRlTG9jYXRpb24pO1xuICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCB0ZXhDb29yZEJ1ZmZlcik7XG4gICAgZ2wudmVydGV4QXR0cmliUG9pbnRlcih0ZXhDb29yZEF0dHJpYnV0ZUxvY2F0aW9uLCAyLCBnbC5GTE9BVCwgZmFsc2UsIDAsIDApO1xuICAgIHJldHVybiBwcm9ncmFtO1xufVxuZnVuY3Rpb24gY3JlYXRlUHJvZ3JhbShnbCwgdmVydGV4U2hhZGVyLCBmcmFnbWVudFNoYWRlcikge1xuICAgIGNvbnN0IHByb2dyYW0gPSBnbC5jcmVhdGVQcm9ncmFtKCk7XG4gICAgZ2wuYXR0YWNoU2hhZGVyKHByb2dyYW0sIHZlcnRleFNoYWRlcik7XG4gICAgZ2wuYXR0YWNoU2hhZGVyKHByb2dyYW0sIGZyYWdtZW50U2hhZGVyKTtcbiAgICBnbC5saW5rUHJvZ3JhbShwcm9ncmFtKTtcbiAgICBpZiAoIWdsLmdldFByb2dyYW1QYXJhbWV0ZXIocHJvZ3JhbSwgZ2wuTElOS19TVEFUVVMpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgQ291bGQgbm90IGxpbmsgV2ViR0wgcHJvZ3JhbTogJHtnbC5nZXRQcm9ncmFtSW5mb0xvZyhwcm9ncmFtKX1gKTtcbiAgICB9XG4gICAgcmV0dXJuIHByb2dyYW07XG59XG5mdW5jdGlvbiBjb21waWxlU2hhZGVyKGdsLCBzaGFkZXJUeXBlLCBzaGFkZXJTb3VyY2UpIHtcbiAgICBjb25zdCBzaGFkZXIgPSBnbC5jcmVhdGVTaGFkZXIoc2hhZGVyVHlwZSk7XG4gICAgZ2wuc2hhZGVyU291cmNlKHNoYWRlciwgc2hhZGVyU291cmNlKTtcbiAgICBnbC5jb21waWxlU2hhZGVyKHNoYWRlcik7XG4gICAgaWYgKCFnbC5nZXRTaGFkZXJQYXJhbWV0ZXIoc2hhZGVyLCBnbC5DT01QSUxFX1NUQVRVUykpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDb3VsZCBub3QgY29tcGlsZSBzaGFkZXI6ICR7Z2wuZ2V0U2hhZGVySW5mb0xvZyhzaGFkZXIpfWApO1xuICAgIH1cbiAgICByZXR1cm4gc2hhZGVyO1xufVxuZnVuY3Rpb24gY3JlYXRlVGV4dHVyZShnbCwgaW50ZXJuYWxmb3JtYXQsIHdpZHRoLCBoZWlnaHQsIG1pbkZpbHRlciA9IGdsLk5FQVJFU1QsIG1hZ0ZpbHRlciA9IGdsLk5FQVJFU1QpIHtcbiAgICBjb25zdCB0ZXh0dXJlID0gZ2wuY3JlYXRlVGV4dHVyZSgpO1xuICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRleHR1cmUpO1xuICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9XUkFQX1MsIGdsLkNMQU1QX1RPX0VER0UpO1xuICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9XUkFQX1QsIGdsLkNMQU1QX1RPX0VER0UpO1xuICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NSU5fRklMVEVSLCBtaW5GaWx0ZXIpO1xuICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NQUdfRklMVEVSLCBtYWdGaWx0ZXIpO1xuICAgIGdsLnRleFN0b3JhZ2UyRChnbC5URVhUVVJFXzJELCAxLCBpbnRlcm5hbGZvcm1hdCwgd2lkdGgsIGhlaWdodCk7XG4gICAgcmV0dXJuIHRleHR1cmU7XG59XG5hc3luYyBmdW5jdGlvbiByZWFkUGl4ZWxzQXN5bmMoZ2wsIHgsIHksIHdpZHRoLCBoZWlnaHQsIGZvcm1hdCwgdHlwZSwgZGVzdCkge1xuICAgIGNvbnN0IGJ1ZiA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xuICAgIGdsLmJpbmRCdWZmZXIoZ2wuUElYRUxfUEFDS19CVUZGRVIsIGJ1Zik7XG4gICAgZ2wuYnVmZmVyRGF0YShnbC5QSVhFTF9QQUNLX0JVRkZFUiwgZGVzdC5ieXRlTGVuZ3RoLCBnbC5TVFJFQU1fUkVBRCk7XG4gICAgZ2wucmVhZFBpeGVscyh4LCB5LCB3aWR0aCwgaGVpZ2h0LCBmb3JtYXQsIHR5cGUsIDApO1xuICAgIGdsLmJpbmRCdWZmZXIoZ2wuUElYRUxfUEFDS19CVUZGRVIsIG51bGwpO1xuICAgIGF3YWl0IGdldEJ1ZmZlclN1YkRhdGFBc3luYyhnbCwgZ2wuUElYRUxfUEFDS19CVUZGRVIsIGJ1ZiwgMCwgZGVzdCk7XG4gICAgZ2wuZGVsZXRlQnVmZmVyKGJ1Zik7XG4gICAgcmV0dXJuIGRlc3Q7XG59XG5hc3luYyBmdW5jdGlvbiBnZXRCdWZmZXJTdWJEYXRhQXN5bmMoZ2wsIHRhcmdldCwgYnVmZmVyLCBzcmNCeXRlT2Zmc2V0LCBkc3RCdWZmZXIsIGRzdE9mZnNldCwgbGVuZ3RoKSB7XG4gICAgY29uc3Qgc3luYyA9IGdsLmZlbmNlU3luYyhnbC5TWU5DX0dQVV9DT01NQU5EU19DT01QTEVURSwgMCk7XG4gICAgZ2wuZmx1c2goKTtcbiAgICBpZiAoIXN5bmMpXG4gICAgICAgIHJldHVybjtcbiAgICBjb25zdCByZXMgPSBhd2FpdCBjbGllbnRXYWl0QXN5bmMoZ2wsIHN5bmMpO1xuICAgIGdsLmRlbGV0ZVN5bmMoc3luYyk7XG4gICAgaWYgKHJlcyAhPT0gZ2wuV0FJVF9GQUlMRUQpIHtcbiAgICAgICAgZ2wuYmluZEJ1ZmZlcih0YXJnZXQsIGJ1ZmZlcik7XG4gICAgICAgIGdsLmdldEJ1ZmZlclN1YkRhdGEodGFyZ2V0LCBzcmNCeXRlT2Zmc2V0LCBkc3RCdWZmZXIsIGRzdE9mZnNldCwgbGVuZ3RoKTtcbiAgICAgICAgZ2wuYmluZEJ1ZmZlcih0YXJnZXQsIG51bGwpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGNsaWVudFdhaXRBc3luYyhnbCwgc3luYykge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICBmdW5jdGlvbiB0ZXN0KCkge1xuICAgICAgICAgICAgY29uc3QgcmVzID0gZ2wuY2xpZW50V2FpdFN5bmMoc3luYywgMCwgMCk7XG4gICAgICAgICAgICBpZiAocmVzID09PSBnbC5XQUlUX0ZBSUxFRCkge1xuICAgICAgICAgICAgICAgIHJlc29sdmUocmVzKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmVzID09PSBnbC5USU1FT1VUX0VYUElSRUQpIHtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KHRlc3QpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc29sdmUocmVzKTtcbiAgICAgICAgfVxuICAgICAgICBzZXRUaW1lb3V0KHRlc3QpO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBidWlsZEJhY2tncm91bmRCbHVyU3RhZ2UoZ2wsIHZlcnRleFNoYWRlciwgcG9zaXRpb25CdWZmZXIsIHRleENvb3JkQnVmZmVyLCBwZXJzb25NYXNrVGV4dHVyZSwgY2FudmFzLCBibHVyTGV2ZWwpIHtcbiAgICBjb25zdCBibHVyUGFzcyA9IGJ1aWxkQmx1clBhc3MoZ2wsIHZlcnRleFNoYWRlciwgcG9zaXRpb25CdWZmZXIsIHRleENvb3JkQnVmZmVyLCBwZXJzb25NYXNrVGV4dHVyZSwgY2FudmFzLCBibHVyTGV2ZWwpO1xuICAgIGNvbnN0IGJsZW5kUGFzcyA9IGJ1aWxkQmxlbmRQYXNzKGdsLCBwb3NpdGlvbkJ1ZmZlciwgdGV4Q29vcmRCdWZmZXIsIGNhbnZhcyk7XG4gICAgZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICBibHVyUGFzcy5yZW5kZXIoKTtcbiAgICAgICAgYmxlbmRQYXNzLnJlbmRlcigpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1cGRhdGVDb3ZlcmFnZShjb3ZlcmFnZSkge1xuICAgICAgICBibGVuZFBhc3MudXBkYXRlQ292ZXJhZ2UoY292ZXJhZ2UpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjbGVhblVwKCkge1xuICAgICAgICBibGVuZFBhc3MuY2xlYW5VcCgpO1xuICAgICAgICBibHVyUGFzcy5jbGVhblVwKCk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHJlbmRlcixcbiAgICAgICAgdXBkYXRlQ292ZXJhZ2UsXG4gICAgICAgIGNsZWFuVXAsXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGJ1aWxkQmx1clBhc3MoZ2wsIHZlcnRleFNoYWRlciwgcG9zaXRpb25CdWZmZXIsIHRleENvb3JkQnVmZmVyLCBwZXJzb25NYXNrVGV4dHVyZSwgY2FudmFzLCBibHVyTGV2ZWwpIHtcbiAgICBjb25zdCBzaWdtYSA9IHR5cGVvZiBibHVyTGV2ZWwgPT09ICdudW1iZXInXG4gICAgICAgID8gYmx1ckxldmVsXG4gICAgICAgIDogYmx1ckxldmVsID09PSAnbG93J1xuICAgICAgICAgICAgPyAyXG4gICAgICAgICAgICA6IGJsdXJMZXZlbCA9PT0gJ21lZGl1bSdcbiAgICAgICAgICAgICAgICA/IDRcbiAgICAgICAgICAgICAgICA6IDY7XG4gICAgY29uc3Qgd2luZG93U2l6ZSA9IE1hdGgubWF4KDEsIE1hdGguZmxvb3Ioc2lnbWEgKiAzKSk7XG4gICAgY29uc3Qgb2Zmc2V0ID0gbmV3IEFycmF5KHdpbmRvd1NpemUpLmZpbGwoMCkubWFwKCh2LCBpbmRleCkgPT4gaW5kZXgpO1xuICAgIGNvbnN0IHZhcmlhbmNlID0gc2lnbWEgKiogMjtcbiAgICBjb25zdCB3ZWlnaHRzID0gb2Zmc2V0Lm1hcCgoeCkgPT4ge1xuICAgICAgICB2YXIgbSA9IHNpZ21hICogTWF0aC5zcXJ0KDIgKiBNYXRoLlBJKTtcbiAgICAgICAgdmFyIGUgPSBNYXRoLmV4cCgtKHggKiogMikgLyAoMiAqIHZhcmlhbmNlKSk7XG4gICAgICAgIHJldHVybiBlIC8gbTtcbiAgICB9KTtcbiAgICBjb25zdCBmcmFnbWVudFNoYWRlclNvdXJjZSA9IGdsc2wgYCN2ZXJzaW9uIDMwMCBlc1xuXG4gICAgcHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xuXG4gICAgdW5pZm9ybSBzYW1wbGVyMkQgdV9pbnB1dEZyYW1lO1xuICAgIHVuaWZvcm0gc2FtcGxlcjJEIHVfcGVyc29uTWFzaztcbiAgICB1bmlmb3JtIHZlYzIgdV90ZXhlbFNpemU7XG5cbiAgICBpbiB2ZWMyIHZfdGV4Q29vcmQ7XG4gICAgb3V0IHZlYzQgb3V0Q29sb3I7XG5cbiAgICBjb25zdCBmbG9hdCBvZmZzZXRbJHt3aW5kb3dTaXplfV0gPSBmbG9hdFtdKCR7b2Zmc2V0Lm1hcCgoaSkgPT4gaS50b0ZpeGVkKDEwKSkuam9pbignLCAnKX0pO1xuICAgIGNvbnN0IGZsb2F0IHdlaWdodFske3dpbmRvd1NpemV9XSA9IGZsb2F0W10oJHt3ZWlnaHRzLm1hcCgoaSkgPT4gaS50b0ZpeGVkKDEwKSkuam9pbignLCAnKX0pO1xuXG4gICAgdm9pZCBtYWluKCkge1xuICAgICAgdmVjNCBjZW50ZXJDb2xvciA9IHRleHR1cmUodV9pbnB1dEZyYW1lLCB2X3RleENvb3JkKTtcbiAgICAgIGZsb2F0IHBlcnNvbk1hc2sgPSB0ZXh0dXJlKHVfcGVyc29uTWFzaywgdl90ZXhDb29yZCkuYTtcblxuICAgICAgdmVjNCBmcmFtZUNvbG9yID0gY2VudGVyQ29sb3IgKiB3ZWlnaHRbMF0gKiAoMS4wIC0gcGVyc29uTWFzayk7XG5cbiAgICAgIGZvciAoaW50IGkgPSAxOyBpIDwgJHt3aW5kb3dTaXplfTsgaSsrKSB7XG4gICAgICAgIHZlYzIgb2Zmc2V0ID0gdmVjMihvZmZzZXRbaV0pICogdV90ZXhlbFNpemU7XG5cbiAgICAgICAgdmVjMiB0ZXhDb29yZCA9IHZfdGV4Q29vcmQgKyBvZmZzZXQ7XG4gICAgICAgIGZyYW1lQ29sb3IgKz0gdGV4dHVyZSh1X2lucHV0RnJhbWUsIHRleENvb3JkKVxuICAgICAgICAgICAqIHdlaWdodFtpXVxuICAgICAgICAgICAqICgxLjAgLSB0ZXh0dXJlKHVfcGVyc29uTWFzaywgdGV4Q29vcmQpLmEpO1xuXG4gICAgICAgIHRleENvb3JkID0gdl90ZXhDb29yZCAtIG9mZnNldDtcbiAgICAgICAgZnJhbWVDb2xvciArPSB0ZXh0dXJlKHVfaW5wdXRGcmFtZSwgdGV4Q29vcmQpXG4gICAgICAgICAgKiB3ZWlnaHRbaV1cbiAgICAgICAgICAqICgxLjAgLSB0ZXh0dXJlKHVfcGVyc29uTWFzaywgdGV4Q29vcmQpLmEpO1xuICAgICAgfVxuICAgICAgb3V0Q29sb3IgPSB2ZWM0KGZyYW1lQ29sb3IucmdiICsgKDEuMCAtIGZyYW1lQ29sb3IuYSkgKiBjZW50ZXJDb2xvci5yZ2IsIDEuMCk7XG4gICAgfVxuICBgO1xuICAgIGNvbnN0IHNjYWxlID0gMC41O1xuICAgIGNvbnN0IG91dHB1dFdpZHRoID0gY2FudmFzLndpZHRoICogc2NhbGU7XG4gICAgY29uc3Qgb3V0cHV0SGVpZ2h0ID0gY2FudmFzLmhlaWdodCAqIHNjYWxlO1xuICAgIGNvbnN0IHRleGVsV2lkdGggPSAxIC8gb3V0cHV0V2lkdGg7XG4gICAgY29uc3QgdGV4ZWxIZWlnaHQgPSAxIC8gb3V0cHV0SGVpZ2h0O1xuICAgIGNvbnN0IGZyYWdtZW50U2hhZGVyID0gY29tcGlsZVNoYWRlcihnbCwgZ2wuRlJBR01FTlRfU0hBREVSLCBmcmFnbWVudFNoYWRlclNvdXJjZSk7XG4gICAgY29uc3QgcHJvZ3JhbSA9IGNyZWF0ZVBpcGVsaW5lU3RhZ2VQcm9ncmFtKGdsLCB2ZXJ0ZXhTaGFkZXIsIGZyYWdtZW50U2hhZGVyLCBwb3NpdGlvbkJ1ZmZlciwgdGV4Q29vcmRCdWZmZXIpO1xuICAgIGNvbnN0IGlucHV0RnJhbWVMb2NhdGlvbiA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndV9pbnB1dEZyYW1lJyk7XG4gICAgY29uc3QgcGVyc29uTWFza0xvY2F0aW9uID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1X3BlcnNvbk1hc2snKTtcbiAgICBjb25zdCB0ZXhlbFNpemVMb2NhdGlvbiA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndV90ZXhlbFNpemUnKTtcbiAgICBjb25zdCB0ZXh0dXJlMSA9IGNyZWF0ZVRleHR1cmUoZ2wsIGdsLlJHQkE4LCBvdXRwdXRXaWR0aCwgb3V0cHV0SGVpZ2h0LCBnbC5ORUFSRVNULCBcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIHR5cGVzIGFyZSBpbmNvbXBsZXRlXG4gICAgZ2wuTElORUFSKTtcbiAgICBjb25zdCB0ZXh0dXJlMiA9IGNyZWF0ZVRleHR1cmUoZ2wsIGdsLlJHQkE4LCBvdXRwdXRXaWR0aCwgb3V0cHV0SGVpZ2h0LCBnbC5ORUFSRVNULCBcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIHR5cGVzIGFyZSBpbmNvbXBsZXRlXG4gICAgZ2wuTElORUFSKTtcbiAgICBjb25zdCBmcmFtZUJ1ZmZlcjEgPSBnbC5jcmVhdGVGcmFtZWJ1ZmZlcigpO1xuICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgZnJhbWVCdWZmZXIxKTtcbiAgICBnbC5mcmFtZWJ1ZmZlclRleHR1cmUyRChnbC5GUkFNRUJVRkZFUiwgZ2wuQ09MT1JfQVRUQUNITUVOVDAsIGdsLlRFWFRVUkVfMkQsIHRleHR1cmUxLCAwKTtcbiAgICBjb25zdCBmcmFtZUJ1ZmZlcjIgPSBnbC5jcmVhdGVGcmFtZWJ1ZmZlcigpO1xuICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgZnJhbWVCdWZmZXIyKTtcbiAgICBnbC5mcmFtZWJ1ZmZlclRleHR1cmUyRChnbC5GUkFNRUJVRkZFUiwgZ2wuQ09MT1JfQVRUQUNITUVOVDAsIGdsLlRFWFRVUkVfMkQsIHRleHR1cmUyLCAwKTtcbiAgICBnbC51c2VQcm9ncmFtKHByb2dyYW0pO1xuICAgIGdsLnVuaWZvcm0xaShwZXJzb25NYXNrTG9jYXRpb24sIDEpO1xuICAgIGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgZ2wudmlld3BvcnQoMCwgMCwgb3V0cHV0V2lkdGgsIG91dHB1dEhlaWdodCk7XG4gICAgICAgIGdsLnVzZVByb2dyYW0ocHJvZ3JhbSk7XG4gICAgICAgIGdsLnVuaWZvcm0xaShpbnB1dEZyYW1lTG9jYXRpb24sIDApO1xuICAgICAgICBnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUxKTtcbiAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgcGVyc29uTWFza1RleHR1cmUpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDM7IGkrKykge1xuICAgICAgICAgICAgZ2wudW5pZm9ybTJmKHRleGVsU2l6ZUxvY2F0aW9uLCAwLCB0ZXhlbEhlaWdodCk7XG4gICAgICAgICAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIGZyYW1lQnVmZmVyMSk7XG4gICAgICAgICAgICBnbC5kcmF3QXJyYXlzKGdsLlRSSUFOR0xFX1NUUklQLCAwLCA0KTtcbiAgICAgICAgICAgIGdsLmFjdGl2ZVRleHR1cmUoZ2wuVEVYVFVSRTIpO1xuICAgICAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdGV4dHVyZTEpO1xuICAgICAgICAgICAgZ2wudW5pZm9ybTFpKGlucHV0RnJhbWVMb2NhdGlvbiwgMik7XG4gICAgICAgICAgICBnbC51bmlmb3JtMmYodGV4ZWxTaXplTG9jYXRpb24sIHRleGVsV2lkdGgsIDApO1xuICAgICAgICAgICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBmcmFtZUJ1ZmZlcjIpO1xuICAgICAgICAgICAgZ2wuZHJhd0FycmF5cyhnbC5UUklBTkdMRV9TVFJJUCwgMCwgNCk7XG4gICAgICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0ZXh0dXJlMik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gY2xlYW5VcCgpIHtcbiAgICAgICAgZ2wuZGVsZXRlRnJhbWVidWZmZXIoZnJhbWVCdWZmZXIyKTtcbiAgICAgICAgZ2wuZGVsZXRlRnJhbWVidWZmZXIoZnJhbWVCdWZmZXIxKTtcbiAgICAgICAgZ2wuZGVsZXRlVGV4dHVyZSh0ZXh0dXJlMik7XG4gICAgICAgIGdsLmRlbGV0ZVRleHR1cmUodGV4dHVyZTEpO1xuICAgICAgICBnbC5kZWxldGVQcm9ncmFtKHByb2dyYW0pO1xuICAgICAgICBnbC5kZWxldGVTaGFkZXIoZnJhZ21lbnRTaGFkZXIpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICByZW5kZXIsXG4gICAgICAgIGNsZWFuVXAsXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGJ1aWxkQmxlbmRQYXNzKGdsLCBwb3NpdGlvbkJ1ZmZlciwgdGV4Q29vcmRCdWZmZXIsIGNhbnZhcykge1xuICAgIGNvbnN0IHZlcnRleFNoYWRlclNvdXJjZSA9IGdsc2wgYCN2ZXJzaW9uIDMwMCBlc1xuXG4gICAgaW4gdmVjMiBhX3Bvc2l0aW9uO1xuICAgIGluIHZlYzIgYV90ZXhDb29yZDtcblxuICAgIG91dCB2ZWMyIHZfdGV4Q29vcmQ7XG5cbiAgICB2b2lkIG1haW4oKSB7XG4gICAgICAvLyBGbGlwcGluZyBZIGlzIHJlcXVpcmVkIHdoZW4gcmVuZGVyaW5nIHRvIGNhbnZhc1xuICAgICAgZ2xfUG9zaXRpb24gPSB2ZWM0KGFfcG9zaXRpb24gKiB2ZWMyKDEuMCwgLTEuMCksIDAuMCwgMS4wKTtcbiAgICAgIHZfdGV4Q29vcmQgPSBhX3RleENvb3JkO1xuICAgIH1cbiAgYDtcbiAgICBjb25zdCBmcmFnbWVudFNoYWRlclNvdXJjZSA9IGdsc2wgYCN2ZXJzaW9uIDMwMCBlc1xuXG4gICAgcHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xuXG4gICAgdW5pZm9ybSBzYW1wbGVyMkQgdV9pbnB1dEZyYW1lO1xuICAgIHVuaWZvcm0gc2FtcGxlcjJEIHVfcGVyc29uTWFzaztcbiAgICB1bmlmb3JtIHNhbXBsZXIyRCB1X2JsdXJyZWRJbnB1dEZyYW1lO1xuICAgIHVuaWZvcm0gdmVjMiB1X2NvdmVyYWdlO1xuXG4gICAgaW4gdmVjMiB2X3RleENvb3JkO1xuXG4gICAgb3V0IHZlYzQgb3V0Q29sb3I7XG5cbiAgICB2b2lkIG1haW4oKSB7XG4gICAgICB2ZWMzIGNvbG9yID0gdGV4dHVyZSh1X2lucHV0RnJhbWUsIHZfdGV4Q29vcmQpLnJnYjtcbiAgICAgIHZlYzMgYmx1cnJlZENvbG9yID0gdGV4dHVyZSh1X2JsdXJyZWRJbnB1dEZyYW1lLCB2X3RleENvb3JkKS5yZ2I7XG4gICAgICBmbG9hdCBwZXJzb25NYXNrID0gdGV4dHVyZSh1X3BlcnNvbk1hc2ssIHZfdGV4Q29vcmQpLmE7XG4gICAgICBwZXJzb25NYXNrID0gc21vb3Roc3RlcCh1X2NvdmVyYWdlLngsIHVfY292ZXJhZ2UueSwgcGVyc29uTWFzayk7XG4gICAgICBvdXRDb2xvciA9IHZlYzQobWl4KGJsdXJyZWRDb2xvciwgY29sb3IsIHBlcnNvbk1hc2spLCAxLjApO1xuICAgIH1cbiAgYDtcbiAgICBjb25zdCB7IHdpZHRoOiBvdXRwdXRXaWR0aCwgaGVpZ2h0OiBvdXRwdXRIZWlnaHQgfSA9IGNhbnZhcztcbiAgICBjb25zdCB2ZXJ0ZXhTaGFkZXIgPSBjb21waWxlU2hhZGVyKGdsLCBnbC5WRVJURVhfU0hBREVSLCB2ZXJ0ZXhTaGFkZXJTb3VyY2UpO1xuICAgIGNvbnN0IGZyYWdtZW50U2hhZGVyID0gY29tcGlsZVNoYWRlcihnbCwgZ2wuRlJBR01FTlRfU0hBREVSLCBmcmFnbWVudFNoYWRlclNvdXJjZSk7XG4gICAgY29uc3QgcHJvZ3JhbSA9IGNyZWF0ZVBpcGVsaW5lU3RhZ2VQcm9ncmFtKGdsLCB2ZXJ0ZXhTaGFkZXIsIGZyYWdtZW50U2hhZGVyLCBwb3NpdGlvbkJ1ZmZlciwgdGV4Q29vcmRCdWZmZXIpO1xuICAgIGNvbnN0IGlucHV0RnJhbWVMb2NhdGlvbiA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndV9pbnB1dEZyYW1lJyk7XG4gICAgY29uc3QgcGVyc29uTWFza0xvY2F0aW9uID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1X3BlcnNvbk1hc2snKTtcbiAgICBjb25zdCBibHVycmVkSW5wdXRGcmFtZSA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndV9ibHVycmVkSW5wdXRGcmFtZScpO1xuICAgIGNvbnN0IGNvdmVyYWdlTG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VfY292ZXJhZ2UnKTtcbiAgICBnbC51c2VQcm9ncmFtKHByb2dyYW0pO1xuICAgIGdsLnVuaWZvcm0xaShpbnB1dEZyYW1lTG9jYXRpb24sIDApO1xuICAgIGdsLnVuaWZvcm0xaShwZXJzb25NYXNrTG9jYXRpb24sIDEpO1xuICAgIGdsLnVuaWZvcm0xaShibHVycmVkSW5wdXRGcmFtZSwgMik7XG4gICAgZ2wudW5pZm9ybTJmKGNvdmVyYWdlTG9jYXRpb24sIDAsIDEpO1xuICAgIGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgZ2wudmlld3BvcnQoMCwgMCwgb3V0cHV0V2lkdGgsIG91dHB1dEhlaWdodCk7XG4gICAgICAgIGdsLnVzZVByb2dyYW0ocHJvZ3JhbSk7XG4gICAgICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgbnVsbCk7XG4gICAgICAgIGdsLmRyYXdBcnJheXMoZ2wuVFJJQU5HTEVfU1RSSVAsIDAsIDQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1cGRhdGVDb3ZlcmFnZShjb3ZlcmFnZSkge1xuICAgICAgICBnbC51c2VQcm9ncmFtKHByb2dyYW0pO1xuICAgICAgICBnbC51bmlmb3JtMmYoY292ZXJhZ2VMb2NhdGlvbiwgY292ZXJhZ2VbMF0sIGNvdmVyYWdlWzFdKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2xlYW5VcCgpIHtcbiAgICAgICAgZ2wuZGVsZXRlUHJvZ3JhbShwcm9ncmFtKTtcbiAgICAgICAgZ2wuZGVsZXRlU2hhZGVyKGZyYWdtZW50U2hhZGVyKTtcbiAgICAgICAgZ2wuZGVsZXRlU2hhZGVyKHZlcnRleFNoYWRlcik7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHJlbmRlcixcbiAgICAgICAgdXBkYXRlQ292ZXJhZ2UsXG4gICAgICAgIGNsZWFuVXAsXG4gICAgfTtcbn1cblxuZnVuY3Rpb24gYnVpbGRCYWNrZ3JvdW5kSW1hZ2VTdGFnZShnbCwgcG9zaXRpb25CdWZmZXIsIHRleENvb3JkQnVmZmVyLCBwZXJzb25NYXNrVGV4dHVyZSwgYmFja2dyb3VuZEltYWdlLCBjYW52YXMpIHtcbiAgICBjb25zdCB2ZXJ0ZXhTaGFkZXJTb3VyY2UgPSBnbHNsIGAjdmVyc2lvbiAzMDAgZXNcblxuICAgIHVuaWZvcm0gdmVjMiB1X2JhY2tncm91bmRTY2FsZTtcbiAgICB1bmlmb3JtIHZlYzIgdV9iYWNrZ3JvdW5kT2Zmc2V0O1xuXG4gICAgaW4gdmVjMiBhX3Bvc2l0aW9uO1xuICAgIGluIHZlYzIgYV90ZXhDb29yZDtcblxuICAgIG91dCB2ZWMyIHZfdGV4Q29vcmQ7XG4gICAgb3V0IHZlYzIgdl9iYWNrZ3JvdW5kQ29vcmQ7XG5cbiAgICB2b2lkIG1haW4oKSB7XG4gICAgICAvLyBGbGlwcGluZyBZIGlzIHJlcXVpcmVkIHdoZW4gcmVuZGVyaW5nIHRvIGNhbnZhc1xuICAgICAgZ2xfUG9zaXRpb24gPSB2ZWM0KGFfcG9zaXRpb24gKiB2ZWMyKDEuMCwgLTEuMCksIDAuMCwgMS4wKTtcbiAgICAgIHZfdGV4Q29vcmQgPSBhX3RleENvb3JkO1xuICAgICAgdl9iYWNrZ3JvdW5kQ29vcmQgPSBhX3RleENvb3JkICogdV9iYWNrZ3JvdW5kU2NhbGUgKyB1X2JhY2tncm91bmRPZmZzZXQ7XG4gICAgfVxuICBgO1xuICAgIGNvbnN0IGZyYWdtZW50U2hhZGVyU291cmNlID0gZ2xzbCBgI3ZlcnNpb24gMzAwIGVzXG5cbiAgICBwcmVjaXNpb24gaGlnaHAgZmxvYXQ7XG5cbiAgICB1bmlmb3JtIHNhbXBsZXIyRCB1X2lucHV0RnJhbWU7XG4gICAgdW5pZm9ybSBzYW1wbGVyMkQgdV9wZXJzb25NYXNrO1xuICAgIHVuaWZvcm0gc2FtcGxlcjJEIHVfYmFja2dyb3VuZDtcbiAgICB1bmlmb3JtIHZlYzIgdV9jb3ZlcmFnZTtcbiAgICB1bmlmb3JtIGZsb2F0IHVfbGlnaHRXcmFwcGluZztcbiAgICB1bmlmb3JtIGZsb2F0IHVfYmxlbmRNb2RlO1xuXG4gICAgaW4gdmVjMiB2X3RleENvb3JkO1xuICAgIGluIHZlYzIgdl9iYWNrZ3JvdW5kQ29vcmQ7XG5cbiAgICBvdXQgdmVjNCBvdXRDb2xvcjtcblxuICAgIHZlYzMgc2NyZWVuKHZlYzMgYSwgdmVjMyBiKSB7XG4gICAgICByZXR1cm4gMS4wIC0gKDEuMCAtIGEpICogKDEuMCAtIGIpO1xuICAgIH1cblxuICAgIHZlYzMgbGluZWFyRG9kZ2UodmVjMyBhLCB2ZWMzIGIpIHtcbiAgICAgIHJldHVybiBhICsgYjtcbiAgICB9XG5cbiAgICB2b2lkIG1haW4oKSB7XG4gICAgICB2ZWMzIGZyYW1lQ29sb3IgPSB0ZXh0dXJlKHVfaW5wdXRGcmFtZSwgdl90ZXhDb29yZCkucmdiO1xuICAgICAgdmVjMyBiYWNrZ3JvdW5kQ29sb3IgPSB0ZXh0dXJlKHVfYmFja2dyb3VuZCwgdl9iYWNrZ3JvdW5kQ29vcmQpLnJnYjtcbiAgICAgIGZsb2F0IHBlcnNvbk1hc2sgPSB0ZXh0dXJlKHVfcGVyc29uTWFzaywgdl90ZXhDb29yZCkuYTtcbiAgICAgIGZsb2F0IGxpZ2h0V3JhcE1hc2sgPSAxLjAgLSBtYXgoMC4wLCBwZXJzb25NYXNrIC0gdV9jb3ZlcmFnZS55KSAvICgxLjAgLSB1X2NvdmVyYWdlLnkpO1xuICAgICAgdmVjMyBsaWdodFdyYXAgPSB1X2xpZ2h0V3JhcHBpbmcgKiBsaWdodFdyYXBNYXNrICogYmFja2dyb3VuZENvbG9yO1xuXG4gICAgICBmcmFtZUNvbG9yID0gdV9ibGVuZE1vZGUgKiBsaW5lYXJEb2RnZShmcmFtZUNvbG9yLCBsaWdodFdyYXApXG4gICAgICAgICsgKDEuMCAtIHVfYmxlbmRNb2RlKSAqIHNjcmVlbihmcmFtZUNvbG9yLCBsaWdodFdyYXApO1xuICAgICAgcGVyc29uTWFzayA9IHNtb290aHN0ZXAodV9jb3ZlcmFnZS54LCB1X2NvdmVyYWdlLnksIHBlcnNvbk1hc2spO1xuICAgICAgb3V0Q29sb3IgPSB2ZWM0KGZyYW1lQ29sb3IgKiBwZXJzb25NYXNrICsgYmFja2dyb3VuZENvbG9yICogKDEuMCAtIHBlcnNvbk1hc2spLCAxLjApO1xuICAgIH1cbiAgYDtcbiAgICBjb25zdCB7IHdpZHRoOiBvdXRwdXRXaWR0aCwgaGVpZ2h0OiBvdXRwdXRIZWlnaHQgfSA9IGNhbnZhcztcbiAgICBjb25zdCBvdXRwdXRSYXRpbyA9IG91dHB1dFdpZHRoIC8gb3V0cHV0SGVpZ2h0O1xuICAgIGNvbnN0IHZlcnRleFNoYWRlciA9IGNvbXBpbGVTaGFkZXIoZ2wsIGdsLlZFUlRFWF9TSEFERVIsIHZlcnRleFNoYWRlclNvdXJjZSk7XG4gICAgY29uc3QgZnJhZ21lbnRTaGFkZXIgPSBjb21waWxlU2hhZGVyKGdsLCBnbC5GUkFHTUVOVF9TSEFERVIsIGZyYWdtZW50U2hhZGVyU291cmNlKTtcbiAgICBjb25zdCBwcm9ncmFtID0gY3JlYXRlUGlwZWxpbmVTdGFnZVByb2dyYW0oZ2wsIHZlcnRleFNoYWRlciwgZnJhZ21lbnRTaGFkZXIsIHBvc2l0aW9uQnVmZmVyLCB0ZXhDb29yZEJ1ZmZlcik7XG4gICAgY29uc3QgYmFja2dyb3VuZFNjYWxlTG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VfYmFja2dyb3VuZFNjYWxlJyk7XG4gICAgY29uc3QgYmFja2dyb3VuZE9mZnNldExvY2F0aW9uID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1X2JhY2tncm91bmRPZmZzZXQnKTtcbiAgICBjb25zdCBpbnB1dEZyYW1lTG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VfaW5wdXRGcmFtZScpO1xuICAgIGNvbnN0IHBlcnNvbk1hc2tMb2NhdGlvbiA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndV9wZXJzb25NYXNrJyk7XG4gICAgY29uc3QgYmFja2dyb3VuZExvY2F0aW9uID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1X2JhY2tncm91bmQnKTtcbiAgICBjb25zdCBjb3ZlcmFnZUxvY2F0aW9uID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1X2NvdmVyYWdlJyk7XG4gICAgY29uc3QgbGlnaHRXcmFwcGluZ0xvY2F0aW9uID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1X2xpZ2h0V3JhcHBpbmcnKTtcbiAgICBjb25zdCBibGVuZE1vZGVMb2NhdGlvbiA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndV9ibGVuZE1vZGUnKTtcbiAgICBnbC51c2VQcm9ncmFtKHByb2dyYW0pO1xuICAgIGdsLnVuaWZvcm0yZihiYWNrZ3JvdW5kU2NhbGVMb2NhdGlvbiwgMSwgMSk7XG4gICAgZ2wudW5pZm9ybTJmKGJhY2tncm91bmRPZmZzZXRMb2NhdGlvbiwgMCwgMCk7XG4gICAgZ2wudW5pZm9ybTFpKGlucHV0RnJhbWVMb2NhdGlvbiwgMCk7XG4gICAgZ2wudW5pZm9ybTFpKHBlcnNvbk1hc2tMb2NhdGlvbiwgMSk7XG4gICAgZ2wudW5pZm9ybTJmKGNvdmVyYWdlTG9jYXRpb24sIDAsIDEpO1xuICAgIGdsLnVuaWZvcm0xZihsaWdodFdyYXBwaW5nTG9jYXRpb24sIDApO1xuICAgIGdsLnVuaWZvcm0xZihibGVuZE1vZGVMb2NhdGlvbiwgMCk7XG4gICAgbGV0IGJhY2tncm91bmRUZXh0dXJlID0gbnVsbDtcbiAgICAvLyBUT0RPIEZpbmQgYSBiZXR0ZXIgdG8gaGFuZGxlIGJhY2tncm91bmQgYmVpbmcgbG9hZGVkXG4gICAgaWYgKGJhY2tncm91bmRJbWFnZT8uY29tcGxldGUpIHtcbiAgICAgICAgdXBkYXRlQmFja2dyb3VuZEltYWdlKGJhY2tncm91bmRJbWFnZSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGJhY2tncm91bmRJbWFnZSkge1xuICAgICAgICBiYWNrZ3JvdW5kSW1hZ2Uub25sb2FkID0gKCkgPT4ge1xuICAgICAgICAgICAgdXBkYXRlQmFja2dyb3VuZEltYWdlKGJhY2tncm91bmRJbWFnZSk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgZ2wudmlld3BvcnQoMCwgMCwgb3V0cHV0V2lkdGgsIG91dHB1dEhlaWdodCk7XG4gICAgICAgIGdsLnVzZVByb2dyYW0ocHJvZ3JhbSk7XG4gICAgICAgIGdsLmFjdGl2ZVRleHR1cmUoZ2wuVEVYVFVSRTEpO1xuICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCBwZXJzb25NYXNrVGV4dHVyZSk7XG4gICAgICAgIGlmIChiYWNrZ3JvdW5kVGV4dHVyZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMik7XG4gICAgICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCBiYWNrZ3JvdW5kVGV4dHVyZSk7XG4gICAgICAgICAgICAvLyBUT0RPIEhhbmRsZSBjb3JyZWN0bHkgdGhlIGJhY2tncm91bmQgbm90IGxvYWRlZCB5ZXRcbiAgICAgICAgICAgIGdsLnVuaWZvcm0xaShiYWNrZ3JvdW5kTG9jYXRpb24sIDIpO1xuICAgICAgICB9XG4gICAgICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgbnVsbCk7XG4gICAgICAgIGdsLmRyYXdBcnJheXMoZ2wuVFJJQU5HTEVfU1RSSVAsIDAsIDQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1cGRhdGVCYWNrZ3JvdW5kSW1hZ2UoYmdJbWFnZSkge1xuICAgICAgICBiYWNrZ3JvdW5kVGV4dHVyZSA9IGNyZWF0ZVRleHR1cmUoZ2wsIGdsLlJHQkE4LCBiZ0ltYWdlLm5hdHVyYWxXaWR0aCwgYmdJbWFnZS5uYXR1cmFsSGVpZ2h0LCBcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciB0eXBlcyBhcmUgaW5jb21wbGV0ZVxuICAgICAgICBnbC5MSU5FQVIsIGdsLkxJTkVBUik7XG4gICAgICAgIGdsLnRleFN1YkltYWdlMkQoZ2wuVEVYVFVSRV8yRCwgMCwgMCwgMCwgYmdJbWFnZS5uYXR1cmFsV2lkdGgsIGJnSW1hZ2UubmF0dXJhbEhlaWdodCwgZ2wuUkdCQSwgZ2wuVU5TSUdORURfQllURSwgYmdJbWFnZSk7XG4gICAgICAgIGxldCB4T2Zmc2V0ID0gMDtcbiAgICAgICAgbGV0IHlPZmZzZXQgPSAwO1xuICAgICAgICBsZXQgYmFja2dyb3VuZFdpZHRoID0gYmdJbWFnZS5uYXR1cmFsV2lkdGg7XG4gICAgICAgIGxldCBiYWNrZ3JvdW5kSGVpZ2h0ID0gYmdJbWFnZS5uYXR1cmFsSGVpZ2h0O1xuICAgICAgICBjb25zdCBiYWNrZ3JvdW5kUmF0aW8gPSBiYWNrZ3JvdW5kV2lkdGggLyBiYWNrZ3JvdW5kSGVpZ2h0O1xuICAgICAgICBpZiAoYmFja2dyb3VuZFJhdGlvIDwgb3V0cHV0UmF0aW8pIHtcbiAgICAgICAgICAgIGJhY2tncm91bmRIZWlnaHQgPSBiYWNrZ3JvdW5kV2lkdGggLyBvdXRwdXRSYXRpbztcbiAgICAgICAgICAgIHlPZmZzZXQgPSAoYmdJbWFnZS5uYXR1cmFsSGVpZ2h0IC0gYmFja2dyb3VuZEhlaWdodCkgLyAyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYmFja2dyb3VuZFdpZHRoID0gYmFja2dyb3VuZEhlaWdodCAqIG91dHB1dFJhdGlvO1xuICAgICAgICAgICAgeE9mZnNldCA9IChiZ0ltYWdlLm5hdHVyYWxXaWR0aCAtIGJhY2tncm91bmRXaWR0aCkgLyAyO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHhTY2FsZSA9IGJhY2tncm91bmRXaWR0aCAvIGJnSW1hZ2UubmF0dXJhbFdpZHRoO1xuICAgICAgICBjb25zdCB5U2NhbGUgPSBiYWNrZ3JvdW5kSGVpZ2h0IC8gYmdJbWFnZS5uYXR1cmFsSGVpZ2h0O1xuICAgICAgICB4T2Zmc2V0IC89IGJnSW1hZ2UubmF0dXJhbFdpZHRoO1xuICAgICAgICB5T2Zmc2V0IC89IGJnSW1hZ2UubmF0dXJhbEhlaWdodDtcbiAgICAgICAgZ2wudW5pZm9ybTJmKGJhY2tncm91bmRTY2FsZUxvY2F0aW9uLCB4U2NhbGUsIHlTY2FsZSk7XG4gICAgICAgIGdsLnVuaWZvcm0yZihiYWNrZ3JvdW5kT2Zmc2V0TG9jYXRpb24sIHhPZmZzZXQsIHlPZmZzZXQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1cGRhdGVDb3ZlcmFnZShjb3ZlcmFnZSkge1xuICAgICAgICBnbC51c2VQcm9ncmFtKHByb2dyYW0pO1xuICAgICAgICBnbC51bmlmb3JtMmYoY292ZXJhZ2VMb2NhdGlvbiwgY292ZXJhZ2VbMF0sIGNvdmVyYWdlWzFdKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlTGlnaHRXcmFwcGluZyhsaWdodFdyYXBwaW5nKSB7XG4gICAgICAgIGdsLnVzZVByb2dyYW0ocHJvZ3JhbSk7XG4gICAgICAgIGdsLnVuaWZvcm0xZihsaWdodFdyYXBwaW5nTG9jYXRpb24sIGxpZ2h0V3JhcHBpbmcpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1cGRhdGVCbGVuZE1vZGUoYmxlbmRNb2RlKSB7XG4gICAgICAgIGdsLnVzZVByb2dyYW0ocHJvZ3JhbSk7XG4gICAgICAgIGdsLnVuaWZvcm0xZihibGVuZE1vZGVMb2NhdGlvbiwgYmxlbmRNb2RlID09PSAnc2NyZWVuJyA/IDAgOiAxKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2xlYW5VcCgpIHtcbiAgICAgICAgZ2wuZGVsZXRlVGV4dHVyZShiYWNrZ3JvdW5kVGV4dHVyZSk7XG4gICAgICAgIGdsLmRlbGV0ZVByb2dyYW0ocHJvZ3JhbSk7XG4gICAgICAgIGdsLmRlbGV0ZVNoYWRlcihmcmFnbWVudFNoYWRlcik7XG4gICAgICAgIGdsLmRlbGV0ZVNoYWRlcih2ZXJ0ZXhTaGFkZXIpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICByZW5kZXIsXG4gICAgICAgIHVwZGF0ZUNvdmVyYWdlLFxuICAgICAgICB1cGRhdGVMaWdodFdyYXBwaW5nLFxuICAgICAgICB1cGRhdGVCbGVuZE1vZGUsXG4gICAgICAgIGNsZWFuVXAsXG4gICAgfTtcbn1cblxuZnVuY3Rpb24gYnVpbGRKb2ludEJpbGF0ZXJhbEZpbHRlclN0YWdlKGdsLCB2ZXJ0ZXhTaGFkZXIsIHBvc2l0aW9uQnVmZmVyLCB0ZXhDb29yZEJ1ZmZlciwgaW5wdXRUZXh0dXJlLCBvdXRwdXRUZXh0dXJlLCBjYW52YXMsIHNlZ21lbnRhdGlvbkNvbmZpZykge1xuICAgIGNvbnN0IGZyYWdtZW50U2hhZGVyU291cmNlID0gZ2xzbCBgI3ZlcnNpb24gMzAwIGVzXG5cbiAgICBwcmVjaXNpb24gaGlnaHAgZmxvYXQ7XG5cbiAgICB1bmlmb3JtIHNhbXBsZXIyRCB1X2lucHV0RnJhbWU7XG4gICAgdW5pZm9ybSBzYW1wbGVyMkQgdV9zZWdtZW50YXRpb25NYXNrO1xuICAgIHVuaWZvcm0gdmVjMiB1X3RleGVsU2l6ZTtcbiAgICB1bmlmb3JtIGZsb2F0IHVfc3RlcDtcbiAgICB1bmlmb3JtIGZsb2F0IHVfcmFkaXVzO1xuICAgIHVuaWZvcm0gZmxvYXQgdV9vZmZzZXQ7XG4gICAgdW5pZm9ybSBmbG9hdCB1X3NpZ21hVGV4ZWw7XG4gICAgdW5pZm9ybSBmbG9hdCB1X3NpZ21hQ29sb3I7XG5cbiAgICBpbiB2ZWMyIHZfdGV4Q29vcmQ7XG4gICAgb3V0IHZlYzQgb3V0Q29sb3I7XG5cbiAgICBmbG9hdCBnYXVzc2lhbihmbG9hdCB4LCBmbG9hdCBzaWdtYSkge1xuICAgICAgZmxvYXQgY29lZmYgPSAtMC41IC8gKHNpZ21hICogc2lnbWEgKiA0LjAgKyAxLjBlLTYpO1xuICAgICAgcmV0dXJuIGV4cCgoeCAqIHgpICogY29lZmYpO1xuICAgIH1cblxuICAgIHZvaWQgbWFpbigpIHtcbiAgICAgIHZlYzIgY2VudGVyQ29vcmQgPSB2X3RleENvb3JkO1xuICAgICAgdmVjMyBjZW50ZXJDb2xvciA9IHRleHR1cmUodV9pbnB1dEZyYW1lLCBjZW50ZXJDb29yZCkucmdiO1xuICAgICAgZmxvYXQgbmV3VmFsID0gMC4wO1xuXG4gICAgICBmbG9hdCBzcGFjZVdlaWdodCA9IDAuMDtcbiAgICAgIGZsb2F0IGNvbG9yV2VpZ2h0ID0gMC4wO1xuICAgICAgZmxvYXQgdG90YWxXZWlnaHQgPSAwLjA7XG5cbiAgICAgIC8vIFN1YnNhbXBsZSBrZXJuZWwgc3BhY2UuXG4gICAgICBmb3IgKGZsb2F0IGkgPSAtdV9yYWRpdXMgKyB1X29mZnNldDsgaSA8PSB1X3JhZGl1czsgaSArPSB1X3N0ZXApIHtcbiAgICAgICAgZm9yIChmbG9hdCBqID0gLXVfcmFkaXVzICsgdV9vZmZzZXQ7IGogPD0gdV9yYWRpdXM7IGogKz0gdV9zdGVwKSB7XG4gICAgICAgICAgdmVjMiBzaGlmdCA9IHZlYzIoaiwgaSkgKiB1X3RleGVsU2l6ZTtcbiAgICAgICAgICB2ZWMyIGNvb3JkID0gdmVjMihjZW50ZXJDb29yZCArIHNoaWZ0KTtcbiAgICAgICAgICB2ZWMzIGZyYW1lQ29sb3IgPSB0ZXh0dXJlKHVfaW5wdXRGcmFtZSwgY29vcmQpLnJnYjtcbiAgICAgICAgICBmbG9hdCBvdXRWYWwgPSB0ZXh0dXJlKHVfc2VnbWVudGF0aW9uTWFzaywgY29vcmQpLmE7XG5cbiAgICAgICAgICBzcGFjZVdlaWdodCA9IGdhdXNzaWFuKGRpc3RhbmNlKGNlbnRlckNvb3JkLCBjb29yZCksIHVfc2lnbWFUZXhlbCk7XG4gICAgICAgICAgY29sb3JXZWlnaHQgPSBnYXVzc2lhbihkaXN0YW5jZShjZW50ZXJDb2xvciwgZnJhbWVDb2xvciksIHVfc2lnbWFDb2xvcik7XG4gICAgICAgICAgdG90YWxXZWlnaHQgKz0gc3BhY2VXZWlnaHQgKiBjb2xvcldlaWdodDtcblxuICAgICAgICAgIG5ld1ZhbCArPSBzcGFjZVdlaWdodCAqIGNvbG9yV2VpZ2h0ICogb3V0VmFsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBuZXdWYWwgLz0gdG90YWxXZWlnaHQ7XG5cbiAgICAgIG91dENvbG9yID0gdmVjNCh2ZWMzKDAuMCksIG5ld1ZhbCk7XG4gICAgfVxuICBgO1xuICAgIGNvbnN0IHsgd2lkdGg6IHNlZ21lbnRhdGlvbldpZHRoLCBoZWlnaHQ6IHNlZ21lbnRhdGlvbkhlaWdodCB9ID0gc2VnbWVudGF0aW9uQ29uZmlnO1xuICAgIGNvbnN0IHsgd2lkdGg6IG91dHB1dFdpZHRoLCBoZWlnaHQ6IG91dHB1dEhlaWdodCB9ID0gY2FudmFzO1xuICAgIGNvbnN0IHRleGVsV2lkdGggPSAxIC8gb3V0cHV0V2lkdGg7XG4gICAgY29uc3QgdGV4ZWxIZWlnaHQgPSAxIC8gb3V0cHV0SGVpZ2h0O1xuICAgIGNvbnN0IGZyYWdtZW50U2hhZGVyID0gY29tcGlsZVNoYWRlcihnbCwgZ2wuRlJBR01FTlRfU0hBREVSLCBmcmFnbWVudFNoYWRlclNvdXJjZSk7XG4gICAgY29uc3QgcHJvZ3JhbSA9IGNyZWF0ZVBpcGVsaW5lU3RhZ2VQcm9ncmFtKGdsLCB2ZXJ0ZXhTaGFkZXIsIGZyYWdtZW50U2hhZGVyLCBwb3NpdGlvbkJ1ZmZlciwgdGV4Q29vcmRCdWZmZXIpO1xuICAgIGNvbnN0IGlucHV0RnJhbWVMb2NhdGlvbiA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndV9pbnB1dEZyYW1lJyk7XG4gICAgY29uc3Qgc2VnbWVudGF0aW9uTWFza0xvY2F0aW9uID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1X3NlZ21lbnRhdGlvbk1hc2snKTtcbiAgICBjb25zdCB0ZXhlbFNpemVMb2NhdGlvbiA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndV90ZXhlbFNpemUnKTtcbiAgICBjb25zdCBzdGVwTG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3Vfc3RlcCcpO1xuICAgIGNvbnN0IHJhZGl1c0xvY2F0aW9uID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1X3JhZGl1cycpO1xuICAgIGNvbnN0IG9mZnNldExvY2F0aW9uID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1X29mZnNldCcpO1xuICAgIGNvbnN0IHNpZ21hVGV4ZWxMb2NhdGlvbiA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndV9zaWdtYVRleGVsJyk7XG4gICAgY29uc3Qgc2lnbWFDb2xvckxvY2F0aW9uID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1X3NpZ21hQ29sb3InKTtcbiAgICBjb25zdCBmcmFtZUJ1ZmZlciA9IGdsLmNyZWF0ZUZyYW1lYnVmZmVyKCk7XG4gICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBmcmFtZUJ1ZmZlcik7XG4gICAgZ2wuZnJhbWVidWZmZXJUZXh0dXJlMkQoZ2wuRlJBTUVCVUZGRVIsIGdsLkNPTE9SX0FUVEFDSE1FTlQwLCBnbC5URVhUVVJFXzJELCBvdXRwdXRUZXh0dXJlLCAwKTtcbiAgICBnbC51c2VQcm9ncmFtKHByb2dyYW0pO1xuICAgIGdsLnVuaWZvcm0xaShpbnB1dEZyYW1lTG9jYXRpb24sIDApO1xuICAgIGdsLnVuaWZvcm0xaShzZWdtZW50YXRpb25NYXNrTG9jYXRpb24sIDEpO1xuICAgIGdsLnVuaWZvcm0yZih0ZXhlbFNpemVMb2NhdGlvbiwgdGV4ZWxXaWR0aCwgdGV4ZWxIZWlnaHQpO1xuICAgIC8vIEVuc3VyZXMgZGVmYXVsdCB2YWx1ZXMgYXJlIGNvbmZpZ3VyZWQgdG8gcHJldmVudCBpbmZpbml0ZVxuICAgIC8vIGxvb3AgaW4gZnJhZ21lbnQgc2hhZGVyXG4gICAgdXBkYXRlU2lnbWFTcGFjZSgwKTtcbiAgICB1cGRhdGVTaWdtYUNvbG9yKDApO1xuICAgIGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgZ2wudmlld3BvcnQoMCwgMCwgb3V0cHV0V2lkdGgsIG91dHB1dEhlaWdodCk7XG4gICAgICAgIGdsLnVzZVByb2dyYW0ocHJvZ3JhbSk7XG4gICAgICAgIGdsLmFjdGl2ZVRleHR1cmUoZ2wuVEVYVFVSRTEpO1xuICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCBpbnB1dFRleHR1cmUpO1xuICAgICAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIGZyYW1lQnVmZmVyKTtcbiAgICAgICAgZ2wuZHJhd0FycmF5cyhnbC5UUklBTkdMRV9TVFJJUCwgMCwgNCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZVNpZ21hU3BhY2Uoc2lnbWFTcGFjZSkge1xuICAgICAgICBzaWdtYVNwYWNlICo9IE1hdGgubWF4KG91dHB1dFdpZHRoIC8gc2VnbWVudGF0aW9uV2lkdGgsIG91dHB1dEhlaWdodCAvIHNlZ21lbnRhdGlvbkhlaWdodCk7XG4gICAgICAgIGNvbnN0IGtTcGFyc2l0eUZhY3RvciA9IDAuNjY7IC8vIEhpZ2hlciBpcyBzcGFyc2VyLlxuICAgICAgICBjb25zdCBzdGVwID0gTWF0aC5tYXgoMSwgTWF0aC5zcXJ0KHNpZ21hU3BhY2UpICoga1NwYXJzaXR5RmFjdG9yKTtcbiAgICAgICAgY29uc3QgcmFkaXVzID0gc2lnbWFTcGFjZTtcbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gc3RlcCA+IDEgPyBzdGVwICogMC41IDogMDtcbiAgICAgICAgY29uc3Qgc2lnbWFUZXhlbCA9IE1hdGgubWF4KHRleGVsV2lkdGgsIHRleGVsSGVpZ2h0KSAqIHNpZ21hU3BhY2U7XG4gICAgICAgIGdsLnVzZVByb2dyYW0ocHJvZ3JhbSk7XG4gICAgICAgIGdsLnVuaWZvcm0xZihzdGVwTG9jYXRpb24sIHN0ZXApO1xuICAgICAgICBnbC51bmlmb3JtMWYocmFkaXVzTG9jYXRpb24sIHJhZGl1cyk7XG4gICAgICAgIGdsLnVuaWZvcm0xZihvZmZzZXRMb2NhdGlvbiwgb2Zmc2V0KTtcbiAgICAgICAgZ2wudW5pZm9ybTFmKHNpZ21hVGV4ZWxMb2NhdGlvbiwgc2lnbWFUZXhlbCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZVNpZ21hQ29sb3Ioc2lnbWFDb2xvcikge1xuICAgICAgICBnbC51c2VQcm9ncmFtKHByb2dyYW0pO1xuICAgICAgICBnbC51bmlmb3JtMWYoc2lnbWFDb2xvckxvY2F0aW9uLCBzaWdtYUNvbG9yKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2xlYW5VcCgpIHtcbiAgICAgICAgZ2wuZGVsZXRlRnJhbWVidWZmZXIoZnJhbWVCdWZmZXIpO1xuICAgICAgICBnbC5kZWxldGVQcm9ncmFtKHByb2dyYW0pO1xuICAgICAgICBnbC5kZWxldGVTaGFkZXIoZnJhZ21lbnRTaGFkZXIpO1xuICAgIH1cbiAgICByZXR1cm4geyByZW5kZXIsIHVwZGF0ZVNpZ21hU3BhY2UsIHVwZGF0ZVNpZ21hQ29sb3IsIGNsZWFuVXAgfTtcbn1cblxuZnVuY3Rpb24gYnVpbGRSZXNpemluZ1N0YWdlKGdsLCB2ZXJ0ZXhTaGFkZXIsIHBvc2l0aW9uQnVmZmVyLCB0ZXhDb29yZEJ1ZmZlciwgdGZsaXRlLCBzZWdtZW50YXRpb25Db25maWcsIG9uRXJyb3IpIHtcbiAgICBjb25zdCBmcmFnbWVudFNoYWRlclNvdXJjZSA9IGdsc2wgYCN2ZXJzaW9uIDMwMCBlc1xuXG4gICAgcHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xuICAgIHVuaWZvcm0gc2FtcGxlcjJEIHVfaW5wdXRGcmFtZTtcbiAgICBpbiB2ZWMyIHZfdGV4Q29vcmQ7XG4gICAgb3V0IHZlYzQgb3V0Q29sb3I7XG5cbiAgICB2b2lkIG1haW4oKSB7XG4gICAgICBvdXRDb2xvciA9IHRleHR1cmUodV9pbnB1dEZyYW1lLCB2X3RleENvb3JkKTtcbiAgICB9XG4gIGA7XG4gICAgLy8gVEZMaXRlIG1lbW9yeSB3aWxsIGJlIGFjY2Vzc2VkIGFzIGZsb2F0MzJcbiAgICBjb25zdCB0ZmxpdGVJbnB1dE1lbW9yeU9mZnNldCA9IHRmbGl0ZS5fZ2V0SW5wdXRNZW1vcnlPZmZzZXQoKSAvIDQ7XG4gICAgY29uc3QgeyB3aWR0aDogb3V0cHV0V2lkdGgsIGhlaWdodDogb3V0cHV0SGVpZ2h0IH0gPSBzZWdtZW50YXRpb25Db25maWc7XG4gICAgY29uc3Qgb3V0cHV0UGl4ZWxDb3VudCA9IG91dHB1dFdpZHRoICogb3V0cHV0SGVpZ2h0O1xuICAgIGNvbnN0IGZyYWdtZW50U2hhZGVyID0gY29tcGlsZVNoYWRlcihnbCwgZ2wuRlJBR01FTlRfU0hBREVSLCBmcmFnbWVudFNoYWRlclNvdXJjZSk7XG4gICAgY29uc3QgcHJvZ3JhbSA9IGNyZWF0ZVBpcGVsaW5lU3RhZ2VQcm9ncmFtKGdsLCB2ZXJ0ZXhTaGFkZXIsIGZyYWdtZW50U2hhZGVyLCBwb3NpdGlvbkJ1ZmZlciwgdGV4Q29vcmRCdWZmZXIpO1xuICAgIGNvbnN0IGlucHV0RnJhbWVMb2NhdGlvbiA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndV9pbnB1dEZyYW1lJyk7XG4gICAgY29uc3Qgb3V0cHV0VGV4dHVyZSA9IGNyZWF0ZVRleHR1cmUoZ2wsIGdsLlJHQkE4LCBvdXRwdXRXaWR0aCwgb3V0cHV0SGVpZ2h0KTtcbiAgICBjb25zdCBmcmFtZUJ1ZmZlciA9IGdsLmNyZWF0ZUZyYW1lYnVmZmVyKCk7XG4gICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBmcmFtZUJ1ZmZlcik7XG4gICAgZ2wuZnJhbWVidWZmZXJUZXh0dXJlMkQoZ2wuRlJBTUVCVUZGRVIsIGdsLkNPTE9SX0FUVEFDSE1FTlQwLCBnbC5URVhUVVJFXzJELCBvdXRwdXRUZXh0dXJlLCAwKTtcbiAgICBjb25zdCBvdXRwdXRQaXhlbHMgPSBuZXcgVWludDhBcnJheShvdXRwdXRQaXhlbENvdW50ICogNCk7XG4gICAgZ2wudXNlUHJvZ3JhbShwcm9ncmFtKTtcbiAgICBnbC51bmlmb3JtMWkoaW5wdXRGcmFtZUxvY2F0aW9uLCAwKTtcbiAgICBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgIGdsLnZpZXdwb3J0KDAsIDAsIG91dHB1dFdpZHRoLCBvdXRwdXRIZWlnaHQpO1xuICAgICAgICBnbC51c2VQcm9ncmFtKHByb2dyYW0pO1xuICAgICAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIGZyYW1lQnVmZmVyKTtcbiAgICAgICAgZ2wuZHJhd0FycmF5cyhnbC5UUklBTkdMRV9TVFJJUCwgMCwgNCk7XG4gICAgICAgIC8vIERvd25sb2FkcyBwaXhlbHMgYXN5bmNocm9ub3VzbHkgZnJvbSBHUFUgd2hpbGUgcmVuZGVyaW5nIHRoZSBjdXJyZW50IGZyYW1lLlxuICAgICAgICAvLyBUaGUgcGl4ZWxzIHdpbGwgYmUgYXZhaWxhYmxlIGluIHRoZSBuZXh0IGZyYW1lIHJlbmRlciB3aGljaCByZXN1bHRzXG4gICAgICAgIC8vIGluIG9mZnNldHMgaW4gdGhlIHNlZ21lbnRhdGlvbiBvdXRwdXQgYnV0IGluY3JlYXNlcyB0aGUgZnJhbWUgcmF0ZS5cbiAgICAgICAgcmVhZFBpeGVsc0FzeW5jKGdsLCAwLCAwLCBvdXRwdXRXaWR0aCwgb3V0cHV0SGVpZ2h0LCBnbC5SR0JBLCBnbC5VTlNJR05FRF9CWVRFLCBvdXRwdXRQaXhlbHMpLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICB9KTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvdXRwdXRQaXhlbENvdW50OyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHRmbGl0ZUluZGV4ID0gdGZsaXRlSW5wdXRNZW1vcnlPZmZzZXQgKyBpICogMztcbiAgICAgICAgICAgIGNvbnN0IG91dHB1dEluZGV4ID0gaSAqIDQ7XG4gICAgICAgICAgICB0ZmxpdGUuSEVBUEYzMlt0ZmxpdGVJbmRleF0gPSBvdXRwdXRQaXhlbHNbb3V0cHV0SW5kZXhdIC8gMjU1O1xuICAgICAgICAgICAgdGZsaXRlLkhFQVBGMzJbdGZsaXRlSW5kZXggKyAxXSA9IG91dHB1dFBpeGVsc1tvdXRwdXRJbmRleCArIDFdIC8gMjU1O1xuICAgICAgICAgICAgdGZsaXRlLkhFQVBGMzJbdGZsaXRlSW5kZXggKyAyXSA9IG91dHB1dFBpeGVsc1tvdXRwdXRJbmRleCArIDJdIC8gMjU1O1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNsZWFuVXAoKSB7XG4gICAgICAgIGdsLmRlbGV0ZUZyYW1lYnVmZmVyKGZyYW1lQnVmZmVyKTtcbiAgICAgICAgZ2wuZGVsZXRlVGV4dHVyZShvdXRwdXRUZXh0dXJlKTtcbiAgICAgICAgZ2wuZGVsZXRlUHJvZ3JhbShwcm9ncmFtKTtcbiAgICAgICAgZ2wuZGVsZXRlU2hhZGVyKGZyYWdtZW50U2hhZGVyKTtcbiAgICB9XG4gICAgcmV0dXJuIHsgcmVuZGVyLCBjbGVhblVwIH07XG59XG5cbmZ1bmN0aW9uIGJ1aWxkU29mdG1heFN0YWdlKGdsLCB2ZXJ0ZXhTaGFkZXIsIHBvc2l0aW9uQnVmZmVyLCB0ZXhDb29yZEJ1ZmZlciwgdGZsaXRlLCBvdXRwdXRUZXh0dXJlLCBzZWdtZW50YXRpb25Db25maWcpIHtcbiAgICBjb25zdCBmcmFnbWVudFNoYWRlclNvdXJjZSA9IGdsc2wgYCN2ZXJzaW9uIDMwMCBlc1xuXG4gICAgcHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xuXG4gICAgdW5pZm9ybSBzYW1wbGVyMkQgdV9pbnB1dFNlZ21lbnRhdGlvbjtcbiAgICBpbiB2ZWMyIHZfdGV4Q29vcmQ7XG4gICAgb3V0IHZlYzQgb3V0Q29sb3I7XG5cbiAgICB2b2lkIG1haW4oKSB7XG4gICAgICB2ZWMyIHNlZ21lbnRhdGlvbiA9IHRleHR1cmUodV9pbnB1dFNlZ21lbnRhdGlvbiwgdl90ZXhDb29yZCkucmc7XG4gICAgICBmbG9hdCBzaGlmdCA9IG1heChzZWdtZW50YXRpb24uciwgc2VnbWVudGF0aW9uLmcpO1xuICAgICAgZmxvYXQgYmFja2dyb3VuZEV4cCA9IGV4cChzZWdtZW50YXRpb24uciAtIHNoaWZ0KTtcbiAgICAgIGZsb2F0IHBlcnNvbkV4cCA9IGV4cChzZWdtZW50YXRpb24uZyAtIHNoaWZ0KTtcbiAgICAgIG91dENvbG9yID0gdmVjNCh2ZWMzKDAuMCksIHBlcnNvbkV4cCAvIChiYWNrZ3JvdW5kRXhwICsgcGVyc29uRXhwKSk7XG4gICAgfVxuICBgO1xuICAgIC8vIFRGTGl0ZSBtZW1vcnkgd2lsbCBiZSBhY2Nlc3NlZCBhcyBmbG9hdDMyXG4gICAgY29uc3QgdGZsaXRlT3V0cHV0TWVtb3J5T2Zmc2V0ID0gdGZsaXRlLl9nZXRPdXRwdXRNZW1vcnlPZmZzZXQoKSAvIDQ7XG4gICAgY29uc3QgeyB3aWR0aDogc2VnbWVudGF0aW9uV2lkdGgsIGhlaWdodDogc2VnbWVudGF0aW9uSGVpZ2h0IH0gPSBzZWdtZW50YXRpb25Db25maWc7XG4gICAgY29uc3QgZnJhZ21lbnRTaGFkZXIgPSBjb21waWxlU2hhZGVyKGdsLCBnbC5GUkFHTUVOVF9TSEFERVIsIGZyYWdtZW50U2hhZGVyU291cmNlKTtcbiAgICBjb25zdCBwcm9ncmFtID0gY3JlYXRlUGlwZWxpbmVTdGFnZVByb2dyYW0oZ2wsIHZlcnRleFNoYWRlciwgZnJhZ21lbnRTaGFkZXIsIHBvc2l0aW9uQnVmZmVyLCB0ZXhDb29yZEJ1ZmZlcik7XG4gICAgY29uc3QgaW5wdXRMb2NhdGlvbiA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndV9pbnB1dFNlZ21lbnRhdGlvbicpO1xuICAgIGNvbnN0IGlucHV0VGV4dHVyZSA9IGNyZWF0ZVRleHR1cmUoZ2wsIGdsLlJHMzJGLCBzZWdtZW50YXRpb25XaWR0aCwgc2VnbWVudGF0aW9uSGVpZ2h0KTtcbiAgICBjb25zdCBmcmFtZUJ1ZmZlciA9IGdsLmNyZWF0ZUZyYW1lYnVmZmVyKCk7XG4gICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBmcmFtZUJ1ZmZlcik7XG4gICAgZ2wuZnJhbWVidWZmZXJUZXh0dXJlMkQoZ2wuRlJBTUVCVUZGRVIsIGdsLkNPTE9SX0FUVEFDSE1FTlQwLCBnbC5URVhUVVJFXzJELCBvdXRwdXRUZXh0dXJlLCAwKTtcbiAgICBnbC51c2VQcm9ncmFtKHByb2dyYW0pO1xuICAgIGdsLnVuaWZvcm0xaShpbnB1dExvY2F0aW9uLCAxKTtcbiAgICBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgIGdsLnZpZXdwb3J0KDAsIDAsIHNlZ21lbnRhdGlvbldpZHRoLCBzZWdtZW50YXRpb25IZWlnaHQpO1xuICAgICAgICBnbC51c2VQcm9ncmFtKHByb2dyYW0pO1xuICAgICAgICBnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUxKTtcbiAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgaW5wdXRUZXh0dXJlKTtcbiAgICAgICAgZ2wudGV4U3ViSW1hZ2UyRChnbC5URVhUVVJFXzJELCAwLCAwLCAwLCBzZWdtZW50YXRpb25XaWR0aCwgc2VnbWVudGF0aW9uSGVpZ2h0LCBnbC5SRywgZ2wuRkxPQVQsIHRmbGl0ZS5IRUFQRjMyLCB0ZmxpdGVPdXRwdXRNZW1vcnlPZmZzZXQpO1xuICAgICAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIGZyYW1lQnVmZmVyKTtcbiAgICAgICAgZ2wuZHJhd0FycmF5cyhnbC5UUklBTkdMRV9TVFJJUCwgMCwgNCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNsZWFuVXAoKSB7XG4gICAgICAgIGdsLmRlbGV0ZUZyYW1lYnVmZmVyKGZyYW1lQnVmZmVyKTtcbiAgICAgICAgZ2wuZGVsZXRlVGV4dHVyZShpbnB1dFRleHR1cmUpO1xuICAgICAgICBnbC5kZWxldGVQcm9ncmFtKHByb2dyYW0pO1xuICAgICAgICBnbC5kZWxldGVTaGFkZXIoZnJhZ21lbnRTaGFkZXIpO1xuICAgIH1cbiAgICByZXR1cm4geyByZW5kZXIsIGNsZWFuVXAgfTtcbn1cblxuZnVuY3Rpb24gYnVpbGRXZWJHTDJQaXBlbGluZSh2aWRlb1NvdXJjZSwgYmFja2dyb3VuZEltYWdlLCBibHVyTGV2ZWwsIGJhY2tncm91bmRGaWx0ZXIsIGNhbnZhcywgdGZsaXRlLCBzZWdtZW50YXRpb25Db25maWcsIG9uRXJyb3IpIHtcbiAgICBjb25zdCBnbCA9IGNhbnZhcy5nZXRDb250ZXh0KCd3ZWJnbDInKTtcbiAgICBpZiAoIWdsKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1dlYkdMMiBpcyBub3Qgc3VwcG9ydGVkJyk7XG4gICAgaWYgKGdsLmlzQ29udGV4dExvc3QoKSlcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdXZWJHTDIgY29udGV4dCB3YXMgbG9zdCcpO1xuICAgIGNvbnN0IHsgd2lkdGg6IGZyYW1lV2lkdGgsIGhlaWdodDogZnJhbWVIZWlnaHQgfSA9IHZpZGVvU291cmNlO1xuICAgIGNvbnN0IHsgd2lkdGg6IHNlZ21lbnRhdGlvbldpZHRoLCBoZWlnaHQ6IHNlZ21lbnRhdGlvbkhlaWdodCB9ID0gc2VnbWVudGF0aW9uQ29uZmlnO1xuICAgIGNvbnN0IHZlcnRleFNoYWRlclNvdXJjZSA9IGdsc2wgYCN2ZXJzaW9uIDMwMCBlc1xuXG4gICAgaW4gdmVjMiBhX3Bvc2l0aW9uO1xuICAgIGluIHZlYzIgYV90ZXhDb29yZDtcbiAgICBvdXQgdmVjMiB2X3RleENvb3JkO1xuXG4gICAgdm9pZCBtYWluKCkge1xuICAgICAgZ2xfUG9zaXRpb24gPSB2ZWM0KGFfcG9zaXRpb24sIDAuMCwgMS4wKTtcbiAgICAgIHZfdGV4Q29vcmQgPSBhX3RleENvb3JkO1xuICAgIH1cbiAgYDtcbiAgICBjb25zdCB2ZXJ0ZXhTaGFkZXIgPSBjb21waWxlU2hhZGVyKGdsLCBnbC5WRVJURVhfU0hBREVSLCB2ZXJ0ZXhTaGFkZXJTb3VyY2UpO1xuICAgIGNvbnN0IHZlcnRleEFycmF5ID0gZ2wuY3JlYXRlVmVydGV4QXJyYXkoKTtcbiAgICBnbC5iaW5kVmVydGV4QXJyYXkodmVydGV4QXJyYXkpO1xuICAgIGNvbnN0IHBvc2l0aW9uQnVmZmVyID0gZ2wuY3JlYXRlQnVmZmVyKCk7XG4gICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHBvc2l0aW9uQnVmZmVyKTtcbiAgICBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgbmV3IEZsb2F0MzJBcnJheShbLTEuMCwgLTEuMCwgMS4wLCAtMS4wLCAtMS4wLCAxLjAsIDEuMCwgMS4wXSksIGdsLlNUQVRJQ19EUkFXKTtcbiAgICBjb25zdCB0ZXhDb29yZEJ1ZmZlciA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xuICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCB0ZXhDb29yZEJ1ZmZlcik7XG4gICAgZ2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIG5ldyBGbG9hdDMyQXJyYXkoWzAuMCwgMC4wLCAxLjAsIDAuMCwgMC4wLCAxLjAsIDEuMCwgMS4wXSksIGdsLlNUQVRJQ19EUkFXKTtcbiAgICAvLyBXZSBkb24ndCB1c2UgdGV4U3RvcmFnZTJEIGhlcmUgYmVjYXVzZSB0ZXhJbWFnZTJEIHNlZW1zIGZhc3RlclxuICAgIC8vIHRvIHVwbG9hZCB2aWRlbyB0ZXh0dXJlIHRoYW4gdGV4U3ViSW1hZ2UyRCBldmVuIHRob3VnaCB0aGUgbGF0dGVyXG4gICAgLy8gaXMgc3VwcG9zZWQgdG8gYmUgdGhlIHJlY29tbWVuZGVkIHdheTpcbiAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvV2ViR0xfQVBJL1dlYkdMX2Jlc3RfcHJhY3RpY2VzI3VzZV90ZXhzdG9yYWdlX3RvX2NyZWF0ZV90ZXh0dXJlc1xuICAgIGNvbnN0IGlucHV0RnJhbWVUZXh0dXJlID0gZ2wuY3JlYXRlVGV4dHVyZSgpO1xuICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIGlucHV0RnJhbWVUZXh0dXJlKTtcbiAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfV1JBUF9TLCBnbC5DTEFNUF9UT19FREdFKTtcbiAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfV1JBUF9ULCBnbC5DTEFNUF9UT19FREdFKTtcbiAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfTUlOX0ZJTFRFUiwgZ2wuTkVBUkVTVCk7XG4gICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX01BR19GSUxURVIsIGdsLk5FQVJFU1QpO1xuICAgIC8vIFRPRE8gUmVuYW1lIHNlZ21lbnRhdGlvbiBhbmQgcGVyc29uIG1hc2sgdG8gYmUgbW9yZSBzcGVjaWZpY1xuICAgIGNvbnN0IHNlZ21lbnRhdGlvblRleHR1cmUgPSBjcmVhdGVUZXh0dXJlKGdsLCBnbC5SR0JBOCwgc2VnbWVudGF0aW9uV2lkdGgsIHNlZ21lbnRhdGlvbkhlaWdodCk7XG4gICAgY29uc3QgcGVyc29uTWFza1RleHR1cmUgPSBjcmVhdGVUZXh0dXJlKGdsLCBnbC5SR0JBOCwgZnJhbWVXaWR0aCwgZnJhbWVIZWlnaHQpO1xuICAgIGNvbnN0IHJlc2l6aW5nU3RhZ2UgPSBidWlsZFJlc2l6aW5nU3RhZ2UoZ2wsIHZlcnRleFNoYWRlciwgcG9zaXRpb25CdWZmZXIsIHRleENvb3JkQnVmZmVyLCB0ZmxpdGUsIHNlZ21lbnRhdGlvbkNvbmZpZyk7XG4gICAgY29uc3QgbG9hZFNlZ21lbnRhdGlvblN0YWdlID0gYnVpbGRTb2Z0bWF4U3RhZ2UoZ2wsIHZlcnRleFNoYWRlciwgcG9zaXRpb25CdWZmZXIsIHRleENvb3JkQnVmZmVyLCB0ZmxpdGUsIHNlZ21lbnRhdGlvblRleHR1cmUsIHNlZ21lbnRhdGlvbkNvbmZpZyk7XG4gICAgY29uc3Qgam9pbnRCaWxhdGVyYWxGaWx0ZXJTdGFnZSA9IGJ1aWxkSm9pbnRCaWxhdGVyYWxGaWx0ZXJTdGFnZShnbCwgdmVydGV4U2hhZGVyLCBwb3NpdGlvbkJ1ZmZlciwgdGV4Q29vcmRCdWZmZXIsIHNlZ21lbnRhdGlvblRleHR1cmUsIHBlcnNvbk1hc2tUZXh0dXJlLCBjYW52YXMsIHNlZ21lbnRhdGlvbkNvbmZpZyk7XG4gICAgY29uc3QgYmFja2dyb3VuZFN0YWdlID0gYmFja2dyb3VuZEZpbHRlciA9PT0gJ2JsdXInXG4gICAgICAgID8gYnVpbGRCYWNrZ3JvdW5kQmx1clN0YWdlKGdsLCB2ZXJ0ZXhTaGFkZXIsIHBvc2l0aW9uQnVmZmVyLCB0ZXhDb29yZEJ1ZmZlciwgcGVyc29uTWFza1RleHR1cmUsIGNhbnZhcywgYmx1ckxldmVsIHx8ICdoaWdoJylcbiAgICAgICAgOiBidWlsZEJhY2tncm91bmRJbWFnZVN0YWdlKGdsLCBwb3NpdGlvbkJ1ZmZlciwgdGV4Q29vcmRCdWZmZXIsIHBlcnNvbk1hc2tUZXh0dXJlLCBiYWNrZ3JvdW5kSW1hZ2UsIGNhbnZhcyk7XG4gICAgZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICBnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUwKTtcbiAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgaW5wdXRGcmFtZVRleHR1cmUpO1xuICAgICAgICAvLyB0ZXhJbWFnZTJEIHNlZW1zIGZhc3RlciB0aGFuIHRleFN1YkltYWdlMkQgdG8gdXBsb2FkXG4gICAgICAgIC8vIHZpZGVvIHRleHR1cmVcbiAgICAgICAgZ2wudGV4SW1hZ2UyRChnbC5URVhUVVJFXzJELCAwLCBnbC5SR0JBLCBnbC5SR0JBLCBnbC5VTlNJR05FRF9CWVRFLCB2aWRlb1NvdXJjZSk7XG4gICAgICAgIGdsLmJpbmRWZXJ0ZXhBcnJheSh2ZXJ0ZXhBcnJheSk7XG4gICAgICAgIHJlc2l6aW5nU3RhZ2UucmVuZGVyKCk7XG4gICAgICAgIHRmbGl0ZS5fcnVuSW5mZXJlbmNlKCk7XG4gICAgICAgIGxvYWRTZWdtZW50YXRpb25TdGFnZS5yZW5kZXIoKTtcbiAgICAgICAgam9pbnRCaWxhdGVyYWxGaWx0ZXJTdGFnZS5yZW5kZXIoKTtcbiAgICAgICAgYmFja2dyb3VuZFN0YWdlLnJlbmRlcigpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1cGRhdGVQb3N0UHJvY2Vzc2luZ0NvbmZpZygpIHtcbiAgICAgICAgam9pbnRCaWxhdGVyYWxGaWx0ZXJTdGFnZS51cGRhdGVTaWdtYVNwYWNlKDEpO1xuICAgICAgICBqb2ludEJpbGF0ZXJhbEZpbHRlclN0YWdlLnVwZGF0ZVNpZ21hQ29sb3IoMC4xKTtcbiAgICAgICAgaWYgKGJhY2tncm91bmRGaWx0ZXIgPT09ICdpbWFnZScpIHtcbiAgICAgICAgICAgIGNvbnN0IGJhY2tncm91bmRJbWFnZVN0YWdlID0gYmFja2dyb3VuZFN0YWdlO1xuICAgICAgICAgICAgYmFja2dyb3VuZEltYWdlU3RhZ2UudXBkYXRlQ292ZXJhZ2UoWzAuNSwgMC43NV0pO1xuICAgICAgICAgICAgYmFja2dyb3VuZEltYWdlU3RhZ2UudXBkYXRlTGlnaHRXcmFwcGluZygwLjMpO1xuICAgICAgICAgICAgYmFja2dyb3VuZEltYWdlU3RhZ2UudXBkYXRlQmxlbmRNb2RlKCdzY3JlZW4nKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChiYWNrZ3JvdW5kRmlsdGVyID09PSAnYmx1cicpIHtcbiAgICAgICAgICAgIGNvbnN0IGJhY2tncm91bmRCbHVyU3RhZ2UgPSBiYWNrZ3JvdW5kU3RhZ2U7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kQmx1clN0YWdlLnVwZGF0ZUNvdmVyYWdlKFswLjUsIDAuNzVdKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIFRPRE8gSGFuZGxlIG5vIGJhY2tncm91bmQgaW4gYSBzZXBhcmF0ZSBwaXBlbGluZSBwYXRoXG4gICAgICAgICAgICBjb25zdCBiYWNrZ3JvdW5kSW1hZ2VTdGFnZSA9IGJhY2tncm91bmRTdGFnZTtcbiAgICAgICAgICAgIGJhY2tncm91bmRJbWFnZVN0YWdlLnVwZGF0ZUNvdmVyYWdlKFswLCAwLjk5OTldKTtcbiAgICAgICAgICAgIGJhY2tncm91bmRJbWFnZVN0YWdlLnVwZGF0ZUxpZ2h0V3JhcHBpbmcoMCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gY2xlYW5VcCgpIHtcbiAgICAgICAgYmFja2dyb3VuZFN0YWdlLmNsZWFuVXAoKTtcbiAgICAgICAgam9pbnRCaWxhdGVyYWxGaWx0ZXJTdGFnZS5jbGVhblVwKCk7XG4gICAgICAgIGxvYWRTZWdtZW50YXRpb25TdGFnZS5jbGVhblVwKCk7XG4gICAgICAgIHJlc2l6aW5nU3RhZ2UuY2xlYW5VcCgpO1xuICAgICAgICBnbC5kZWxldGVUZXh0dXJlKHBlcnNvbk1hc2tUZXh0dXJlKTtcbiAgICAgICAgZ2wuZGVsZXRlVGV4dHVyZShzZWdtZW50YXRpb25UZXh0dXJlKTtcbiAgICAgICAgZ2wuZGVsZXRlVGV4dHVyZShpbnB1dEZyYW1lVGV4dHVyZSk7XG4gICAgICAgIGdsLmRlbGV0ZUJ1ZmZlcih0ZXhDb29yZEJ1ZmZlcik7XG4gICAgICAgIGdsLmRlbGV0ZUJ1ZmZlcihwb3NpdGlvbkJ1ZmZlcik7XG4gICAgICAgIGdsLmRlbGV0ZVZlcnRleEFycmF5KHZlcnRleEFycmF5KTtcbiAgICAgICAgZ2wuZGVsZXRlU2hhZGVyKHZlcnRleFNoYWRlcik7XG4gICAgfVxuICAgIHJldHVybiB7IHJlbmRlciwgdXBkYXRlUG9zdFByb2Nlc3NpbmdDb25maWcsIGNsZWFuVXAgfTtcbn1cblxudmFyIFNlZ21lbnRhdGlvbkxldmVsO1xuKGZ1bmN0aW9uIChTZWdtZW50YXRpb25MZXZlbCkge1xuICAgIFNlZ21lbnRhdGlvbkxldmVsW1wiTE9XXCJdID0gXCJsb3dcIjtcbiAgICBTZWdtZW50YXRpb25MZXZlbFtcIkhJR0hcIl0gPSBcImhpZ2hcIjtcbn0pKFNlZ21lbnRhdGlvbkxldmVsIHx8IChTZWdtZW50YXRpb25MZXZlbCA9IHt9KSk7XG5jb25zdCBnZXRTZWdtZW50YXRpb25QYXJhbXMgPSAobGV2ZWwpID0+IHtcbiAgICBpZiAobGV2ZWwgPT09IFNlZ21lbnRhdGlvbkxldmVsLkhJR0gpIHtcbiAgICAgICAgcmV0dXJuIHsgd2lkdGg6IDI1NiwgaGVpZ2h0OiAxNDQgfTtcbiAgICB9XG4gICAgcmV0dXJuIHsgd2lkdGg6IDE2MCwgaGVpZ2h0OiA5NiB9O1xufTtcblxuZnVuY3Rpb24gY3JlYXRlUmVuZGVyZXIodGZsaXRlLCB2aWRlb1NvdXJjZSwgdGFyZ2V0Q2FudmFzLCBvcHRpb25zLCBvbkVycm9yKSB7XG4gICAgY29uc3QgeyBiYWNrZ3JvdW5kRmlsdGVyLCBiYWNrZ3JvdW5kSW1hZ2UsIGJhY2tncm91bmRCbHVyTGV2ZWwsIHNlZ21lbnRhdGlvbkxldmVsID0gU2VnbWVudGF0aW9uTGV2ZWwuSElHSCwgZnBzID0gMzAsIH0gPSBvcHRpb25zO1xuICAgIGlmIChiYWNrZ3JvdW5kRmlsdGVyID09PSAnaW1hZ2UnICYmICFiYWNrZ3JvdW5kSW1hZ2UpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBiYWNrZ3JvdW5kSW1hZ2UgZWxlbWVudCBpcyByZXF1aXJlZCB3aGVuIGJhY2tncm91bmRGaWx0ZXIgaXMgaW1hZ2VgKTtcbiAgICB9XG4gICAgY29uc3QgcGlwZWxpbmUgPSBidWlsZFdlYkdMMlBpcGVsaW5lKHZpZGVvU291cmNlLCBiYWNrZ3JvdW5kSW1hZ2UsIGJhY2tncm91bmRCbHVyTGV2ZWwsIGJhY2tncm91bmRGaWx0ZXIsIHRhcmdldENhbnZhcywgdGZsaXRlLCBnZXRTZWdtZW50YXRpb25QYXJhbXMoc2VnbWVudGF0aW9uTGV2ZWwpKTtcbiAgICBjb25zdCBpZCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHBpcGVsaW5lLnJlbmRlcigpO1xuICAgICAgICAgICAgaWYgKGJhY2tncm91bmRGaWx0ZXIgPT09ICdpbWFnZScpIHtcbiAgICAgICAgICAgICAgICBwaXBlbGluZS51cGRhdGVQb3N0UHJvY2Vzc2luZ0NvbmZpZygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgb25FcnJvcj8uKGVycm9yKTtcbiAgICAgICAgfVxuICAgIH0sIDEwMDAgLyAoZnBzIDw9IDAgPyAzMCA6IGZwcykpO1xuICAgIHJldHVybiB7XG4gICAgICAgIGRpc3Bvc2U6ICgpID0+IHtcbiAgICAgICAgICAgIHBpcGVsaW5lLmNsZWFuVXAoKTtcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaWQpO1xuICAgICAgICB9LFxuICAgIH07XG59XG5cbmNvbnN0IGNyZWF0ZVRGTGl0ZVNJTURNb2R1bGUgPSAoX19Nb2R1bGUpID0+IHtcbiAgX19Nb2R1bGUgPSBfX01vZHVsZSB8fCB7fTtcblxuICB2YXIgX3NjcmlwdERpciA9XG4gICAgdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJiBkb2N1bWVudC5jdXJyZW50U2NyaXB0XG4gICAgICA/IGRvY3VtZW50LmN1cnJlbnRTY3JpcHQuc3JjXG4gICAgICA6IHVuZGVmaW5lZDtcblxuICB2YXIgTW9kdWxlID0gdHlwZW9mIF9fTW9kdWxlICE9ICd1bmRlZmluZWQnID8gX19Nb2R1bGUgOiB7fTtcbiAgdmFyIHJlYWR5UHJvbWlzZVJlc29sdmUsIHJlYWR5UHJvbWlzZVJlamVjdDtcbiAgTW9kdWxlWydyZWFkeSddID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgIHJlYWR5UHJvbWlzZVJlc29sdmUgPSByZXNvbHZlO1xuICAgIHJlYWR5UHJvbWlzZVJlamVjdCA9IHJlamVjdDtcbiAgfSk7XG4gIHZhciBtb2R1bGVPdmVycmlkZXMgPSBPYmplY3QuYXNzaWduKHt9LCBNb2R1bGUpO1xuICB2YXIgdGhpc1Byb2dyYW0gPSAnLi90aGlzLnByb2dyYW0nO1xuICB2YXIgcXVpdF8gPSAoc3RhdHVzLCB0b1Rocm93KSA9PiB7XG4gICAgdGhyb3cgdG9UaHJvdztcbiAgfTtcbiAgdmFyIEVOVklST05NRU5UX0lTX1dFQiA9IHRydWU7XG4gIHZhciBzY3JpcHREaXJlY3RvcnkgPSAnJztcblxuICBmdW5jdGlvbiBsb2NhdGVGaWxlKHBhdGgpIHtcbiAgICBpZiAoTW9kdWxlWydsb2NhdGVGaWxlJ10pIHtcbiAgICAgIHJldHVybiBNb2R1bGVbJ2xvY2F0ZUZpbGUnXShwYXRoLCBzY3JpcHREaXJlY3RvcnkpO1xuICAgIH1cbiAgICByZXR1cm4gc2NyaXB0RGlyZWN0b3J5ICsgcGF0aDtcbiAgfVxuXG4gIHZhciByZWFkQmluYXJ5O1xuICB7XG4gICAgaWYgKHR5cGVvZiBkb2N1bWVudCAhPSAndW5kZWZpbmVkJyAmJiBkb2N1bWVudC5jdXJyZW50U2NyaXB0KSB7XG4gICAgICBzY3JpcHREaXJlY3RvcnkgPSBkb2N1bWVudC5jdXJyZW50U2NyaXB0LnNyYztcbiAgICB9XG4gICAgaWYgKF9zY3JpcHREaXIpIHtcbiAgICAgIHNjcmlwdERpcmVjdG9yeSA9IF9zY3JpcHREaXI7XG4gICAgfVxuICAgIGlmIChzY3JpcHREaXJlY3RvcnkuaW5kZXhPZignYmxvYjonKSAhPT0gMCkge1xuICAgICAgc2NyaXB0RGlyZWN0b3J5ID0gc2NyaXB0RGlyZWN0b3J5LnN1YnN0cihcbiAgICAgICAgMCxcbiAgICAgICAgc2NyaXB0RGlyZWN0b3J5LnJlcGxhY2UoL1s/I10uKi8sICcnKS5sYXN0SW5kZXhPZignLycpICsgMSxcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNjcmlwdERpcmVjdG9yeSA9ICcnO1xuICAgIH1cbiAgfVxuICB2YXIgb3V0ID0gTW9kdWxlWydwcmludCddIHx8IGNvbnNvbGUubG9nLmJpbmQoY29uc29sZSk7XG4gIHZhciBlcnIgPSBNb2R1bGVbJ3ByaW50RXJyJ10gfHwgY29uc29sZS53YXJuLmJpbmQoY29uc29sZSk7XG4gIE9iamVjdC5hc3NpZ24oTW9kdWxlLCBtb2R1bGVPdmVycmlkZXMpO1xuICBtb2R1bGVPdmVycmlkZXMgPSBudWxsO1xuICBpZiAoTW9kdWxlWydhcmd1bWVudHMnXSkgTW9kdWxlWydhcmd1bWVudHMnXTtcbiAgaWYgKE1vZHVsZVsndGhpc1Byb2dyYW0nXSkgdGhpc1Byb2dyYW0gPSBNb2R1bGVbJ3RoaXNQcm9ncmFtJ107XG4gIGlmIChNb2R1bGVbJ3F1aXQnXSkgcXVpdF8gPSBNb2R1bGVbJ3F1aXQnXTtcbiAgdmFyIHdhc21CaW5hcnk7XG4gIGlmIChNb2R1bGVbJ3dhc21CaW5hcnknXSkgd2FzbUJpbmFyeSA9IE1vZHVsZVsnd2FzbUJpbmFyeSddO1xuICB2YXIgbm9FeGl0UnVudGltZSA9IE1vZHVsZVsnbm9FeGl0UnVudGltZSddIHx8IHRydWU7XG4gIGlmICh0eXBlb2YgV2ViQXNzZW1ibHkgIT0gJ29iamVjdCcpIHtcbiAgICBhYm9ydCgnbm8gbmF0aXZlIHdhc20gc3VwcG9ydCBkZXRlY3RlZCcpO1xuICB9XG4gIHZhciB3YXNtTWVtb3J5O1xuICB2YXIgQUJPUlQgPSBmYWxzZTtcblxuICB2YXIgVVRGOERlY29kZXIgPVxuICAgIHR5cGVvZiBUZXh0RGVjb2RlciAhPSAndW5kZWZpbmVkJyA/IG5ldyBUZXh0RGVjb2RlcigndXRmOCcpIDogdW5kZWZpbmVkO1xuXG4gIGZ1bmN0aW9uIFVURjhBcnJheVRvU3RyaW5nKGhlYXBPckFycmF5LCBpZHgsIG1heEJ5dGVzVG9SZWFkKSB7XG4gICAgdmFyIGVuZElkeCA9IGlkeCArIG1heEJ5dGVzVG9SZWFkO1xuICAgIHZhciBlbmRQdHIgPSBpZHg7XG4gICAgd2hpbGUgKGhlYXBPckFycmF5W2VuZFB0cl0gJiYgIShlbmRQdHIgPj0gZW5kSWR4KSkgKytlbmRQdHI7XG4gICAgaWYgKGVuZFB0ciAtIGlkeCA+IDE2ICYmIGhlYXBPckFycmF5LmJ1ZmZlciAmJiBVVEY4RGVjb2Rlcikge1xuICAgICAgcmV0dXJuIFVURjhEZWNvZGVyLmRlY29kZShoZWFwT3JBcnJheS5zdWJhcnJheShpZHgsIGVuZFB0cikpO1xuICAgIH1cbiAgICB2YXIgc3RyID0gJyc7XG4gICAgd2hpbGUgKGlkeCA8IGVuZFB0cikge1xuICAgICAgdmFyIHUwID0gaGVhcE9yQXJyYXlbaWR4KytdO1xuICAgICAgaWYgKCEodTAgJiAxMjgpKSB7XG4gICAgICAgIHN0ciArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKHUwKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICB2YXIgdTEgPSBoZWFwT3JBcnJheVtpZHgrK10gJiA2MztcbiAgICAgIGlmICgodTAgJiAyMjQpID09IDE5Mikge1xuICAgICAgICBzdHIgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSgoKHUwICYgMzEpIDw8IDYpIHwgdTEpO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIHZhciB1MiA9IGhlYXBPckFycmF5W2lkeCsrXSAmIDYzO1xuICAgICAgaWYgKCh1MCAmIDI0MCkgPT0gMjI0KSB7XG4gICAgICAgIHUwID0gKCh1MCAmIDE1KSA8PCAxMikgfCAodTEgPDwgNikgfCB1MjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHUwID1cbiAgICAgICAgICAoKHUwICYgNykgPDwgMTgpIHwgKHUxIDw8IDEyKSB8ICh1MiA8PCA2KSB8IChoZWFwT3JBcnJheVtpZHgrK10gJiA2Myk7XG4gICAgICB9XG4gICAgICBpZiAodTAgPCA2NTUzNikge1xuICAgICAgICBzdHIgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSh1MCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgY2ggPSB1MCAtIDY1NTM2O1xuICAgICAgICBzdHIgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSg1NTI5NiB8IChjaCA+PiAxMCksIDU2MzIwIHwgKGNoICYgMTAyMykpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc3RyO1xuICB9XG5cbiAgdmFyIGJ1ZmZlciwgSEVBUDgsIEhFQVBVOCwgSEVBUFUzMjtcblxuICBmdW5jdGlvbiB1cGRhdGVHbG9iYWxCdWZmZXJBbmRWaWV3cyhidWYpIHtcbiAgICBidWZmZXIgPSBidWY7XG4gICAgTW9kdWxlWydIRUFQOCddID0gSEVBUDggPSBuZXcgSW50OEFycmF5KGJ1Zik7XG4gICAgTW9kdWxlWydIRUFQMTYnXSA9IG5ldyBJbnQxNkFycmF5KGJ1Zik7XG4gICAgTW9kdWxlWydIRUFQMzInXSA9IG5ldyBJbnQzMkFycmF5KGJ1Zik7XG4gICAgTW9kdWxlWydIRUFQVTgnXSA9IEhFQVBVOCA9IG5ldyBVaW50OEFycmF5KGJ1Zik7XG4gICAgTW9kdWxlWydIRUFQVTE2J10gPSBuZXcgVWludDE2QXJyYXkoYnVmKTtcbiAgICBNb2R1bGVbJ0hFQVBVMzInXSA9IEhFQVBVMzIgPSBuZXcgVWludDMyQXJyYXkoYnVmKTtcbiAgICBNb2R1bGVbJ0hFQVBGMzInXSA9IG5ldyBGbG9hdDMyQXJyYXkoYnVmKTtcbiAgICBNb2R1bGVbJ0hFQVBGNjQnXSA9IG5ldyBGbG9hdDY0QXJyYXkoYnVmKTtcbiAgfVxuXG4gIE1vZHVsZVsnSU5JVElBTF9NRU1PUlknXSB8fCAxNjc3NzIxNjtcbiAgdmFyIF9fQVRQUkVSVU5fXyA9IFtdO1xuICB2YXIgX19BVElOSVRfXyA9IFtdO1xuICB2YXIgX19BVFBPU1RSVU5fXyA9IFtdO1xuXG4gIGZ1bmN0aW9uIGtlZXBSdW50aW1lQWxpdmUoKSB7XG4gICAgcmV0dXJuIG5vRXhpdFJ1bnRpbWU7XG4gIH1cblxuICBmdW5jdGlvbiBwcmVSdW4oKSB7XG4gICAgaWYgKE1vZHVsZVsncHJlUnVuJ10pIHtcbiAgICAgIGlmICh0eXBlb2YgTW9kdWxlWydwcmVSdW4nXSA9PSAnZnVuY3Rpb24nKVxuICAgICAgICBNb2R1bGVbJ3ByZVJ1biddID0gW01vZHVsZVsncHJlUnVuJ11dO1xuICAgICAgd2hpbGUgKE1vZHVsZVsncHJlUnVuJ10ubGVuZ3RoKSB7XG4gICAgICAgIGFkZE9uUHJlUnVuKE1vZHVsZVsncHJlUnVuJ10uc2hpZnQoKSk7XG4gICAgICB9XG4gICAgfVxuICAgIGNhbGxSdW50aW1lQ2FsbGJhY2tzKF9fQVRQUkVSVU5fXyk7XG4gIH1cblxuICBmdW5jdGlvbiBpbml0UnVudGltZSgpIHtcbiAgICBjYWxsUnVudGltZUNhbGxiYWNrcyhfX0FUSU5JVF9fKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBvc3RSdW4oKSB7XG4gICAgaWYgKE1vZHVsZVsncG9zdFJ1biddKSB7XG4gICAgICBpZiAodHlwZW9mIE1vZHVsZVsncG9zdFJ1biddID09ICdmdW5jdGlvbicpXG4gICAgICAgIE1vZHVsZVsncG9zdFJ1biddID0gW01vZHVsZVsncG9zdFJ1biddXTtcbiAgICAgIHdoaWxlIChNb2R1bGVbJ3Bvc3RSdW4nXS5sZW5ndGgpIHtcbiAgICAgICAgYWRkT25Qb3N0UnVuKE1vZHVsZVsncG9zdFJ1biddLnNoaWZ0KCkpO1xuICAgICAgfVxuICAgIH1cbiAgICBjYWxsUnVudGltZUNhbGxiYWNrcyhfX0FUUE9TVFJVTl9fKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZE9uUHJlUnVuKGNiKSB7XG4gICAgX19BVFBSRVJVTl9fLnVuc2hpZnQoY2IpO1xuICB9XG5cbiAgZnVuY3Rpb24gYWRkT25Jbml0KGNiKSB7XG4gICAgX19BVElOSVRfXy51bnNoaWZ0KGNiKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZE9uUG9zdFJ1bihjYikge1xuICAgIF9fQVRQT1NUUlVOX18udW5zaGlmdChjYik7XG4gIH1cblxuICB2YXIgcnVuRGVwZW5kZW5jaWVzID0gMDtcbiAgdmFyIGRlcGVuZGVuY2llc0Z1bGZpbGxlZCA9IG51bGw7XG5cbiAgZnVuY3Rpb24gYWRkUnVuRGVwZW5kZW5jeShpZCkge1xuICAgIHJ1bkRlcGVuZGVuY2llcysrO1xuICAgIGlmIChNb2R1bGVbJ21vbml0b3JSdW5EZXBlbmRlbmNpZXMnXSkge1xuICAgICAgTW9kdWxlWydtb25pdG9yUnVuRGVwZW5kZW5jaWVzJ10ocnVuRGVwZW5kZW5jaWVzKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByZW1vdmVSdW5EZXBlbmRlbmN5KGlkKSB7XG4gICAgcnVuRGVwZW5kZW5jaWVzLS07XG4gICAgaWYgKE1vZHVsZVsnbW9uaXRvclJ1bkRlcGVuZGVuY2llcyddKSB7XG4gICAgICBNb2R1bGVbJ21vbml0b3JSdW5EZXBlbmRlbmNpZXMnXShydW5EZXBlbmRlbmNpZXMpO1xuICAgIH1cbiAgICBpZiAocnVuRGVwZW5kZW5jaWVzID09IDApIHtcbiAgICAgIGlmIChkZXBlbmRlbmNpZXNGdWxmaWxsZWQpIHtcbiAgICAgICAgdmFyIGNhbGxiYWNrID0gZGVwZW5kZW5jaWVzRnVsZmlsbGVkO1xuICAgICAgICBkZXBlbmRlbmNpZXNGdWxmaWxsZWQgPSBudWxsO1xuICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGFib3J0KHdoYXQpIHtcbiAgICB7XG4gICAgICBpZiAoTW9kdWxlWydvbkFib3J0J10pIHtcbiAgICAgICAgTW9kdWxlWydvbkFib3J0J10od2hhdCk7XG4gICAgICB9XG4gICAgfVxuICAgIHdoYXQgPSAnQWJvcnRlZCgnICsgd2hhdCArICcpJztcbiAgICBlcnIod2hhdCk7XG4gICAgQUJPUlQgPSB0cnVlO1xuICAgIHdoYXQgKz0gJy4gQnVpbGQgd2l0aCAtc0FTU0VSVElPTlMgZm9yIG1vcmUgaW5mby4nO1xuICAgIHZhciBlID0gbmV3IFdlYkFzc2VtYmx5LlJ1bnRpbWVFcnJvcih3aGF0KTtcbiAgICByZWFkeVByb21pc2VSZWplY3QoZSk7XG4gICAgdGhyb3cgZTtcbiAgfVxuXG4gIHZhciBkYXRhVVJJUHJlZml4ID0gJ2RhdGE6YXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtO2Jhc2U2NCwnO1xuXG4gIGZ1bmN0aW9uIGlzRGF0YVVSSShmaWxlbmFtZSkge1xuICAgIHJldHVybiBmaWxlbmFtZS5zdGFydHNXaXRoKGRhdGFVUklQcmVmaXgpO1xuICB9XG5cbiAgdmFyIHdhc21CaW5hcnlGaWxlO1xuICB3YXNtQmluYXJ5RmlsZSA9ICd0ZmxpdGUtc2ltZC53YXNtJztcbiAgaWYgKCFpc0RhdGFVUkkod2FzbUJpbmFyeUZpbGUpKSB7XG4gICAgd2FzbUJpbmFyeUZpbGUgPSBsb2NhdGVGaWxlKHdhc21CaW5hcnlGaWxlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEJpbmFyeShmaWxlKSB7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChmaWxlID09IHdhc21CaW5hcnlGaWxlICYmIHdhc21CaW5hcnkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KHdhc21CaW5hcnkpO1xuICAgICAgfVxuICAgICAgaWYgKHJlYWRCaW5hcnkpIDtcbiAgICAgIHRocm93ICdib3RoIGFzeW5jIGFuZCBzeW5jIGZldGNoaW5nIG9mIHRoZSB3YXNtIGZhaWxlZCc7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXNoYWRvd1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgYWJvcnQoZXJyKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBnZXRCaW5hcnlQcm9taXNlKCkge1xuICAgIGlmICghd2FzbUJpbmFyeSAmJiAoRU5WSVJPTk1FTlRfSVNfV0VCKSkge1xuICAgICAgaWYgKHR5cGVvZiBmZXRjaCA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBmZXRjaCh3YXNtQmluYXJ5RmlsZSwgeyBjcmVkZW50aWFsczogJ3NhbWUtb3JpZ2luJyB9KVxuICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgaWYgKCFyZXNwb25zZVsnb2snXSkge1xuICAgICAgICAgICAgICB0aHJvdyAoXG4gICAgICAgICAgICAgICAgXCJmYWlsZWQgdG8gbG9hZCB3YXNtIGJpbmFyeSBmaWxlIGF0ICdcIiArIHdhc21CaW5hcnlGaWxlICsgXCInXCJcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZVsnYXJyYXlCdWZmZXInXSgpO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBnZXRCaW5hcnkod2FzbUJpbmFyeUZpbGUpO1xuICAgICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gZ2V0QmluYXJ5KHdhc21CaW5hcnlGaWxlKTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZVdhc20oKSB7XG4gICAgdmFyIGluZm8gPSB7XG4gICAgICBlbnY6IGFzbUxpYnJhcnlBcmcsXG4gICAgICB3YXNpX3NuYXBzaG90X3ByZXZpZXcxOiBhc21MaWJyYXJ5QXJnLFxuICAgIH07XG5cbiAgICBmdW5jdGlvbiByZWNlaXZlSW5zdGFuY2UoaW5zdGFuY2UsIG1vZHVsZSkge1xuICAgICAgdmFyIGV4cG9ydHMgPSBpbnN0YW5jZS5leHBvcnRzO1xuICAgICAgTW9kdWxlWydhc20nXSA9IGV4cG9ydHM7XG4gICAgICB3YXNtTWVtb3J5ID0gTW9kdWxlWydhc20nXVsnbWVtb3J5J107XG4gICAgICB1cGRhdGVHbG9iYWxCdWZmZXJBbmRWaWV3cyh3YXNtTWVtb3J5LmJ1ZmZlcik7XG4gICAgICBNb2R1bGVbJ2FzbSddWydfX2luZGlyZWN0X2Z1bmN0aW9uX3RhYmxlJ107XG4gICAgICBhZGRPbkluaXQoTW9kdWxlWydhc20nXVsnX193YXNtX2NhbGxfY3RvcnMnXSk7XG4gICAgICByZW1vdmVSdW5EZXBlbmRlbmN5KCk7XG4gICAgfVxuXG4gICAgYWRkUnVuRGVwZW5kZW5jeSgpO1xuXG4gICAgZnVuY3Rpb24gcmVjZWl2ZUluc3RhbnRpYXRpb25SZXN1bHQocmVzdWx0KSB7XG4gICAgICByZWNlaXZlSW5zdGFuY2UocmVzdWx0WydpbnN0YW5jZSddKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbnN0YW50aWF0ZUFycmF5QnVmZmVyKHJlY2VpdmVyKSB7XG4gICAgICByZXR1cm4gZ2V0QmluYXJ5UHJvbWlzZSgpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChiaW5hcnkpIHtcbiAgICAgICAgICByZXR1cm4gV2ViQXNzZW1ibHkuaW5zdGFudGlhdGUoYmluYXJ5LCBpbmZvKTtcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGluc3RhbmNlKSB7XG4gICAgICAgICAgcmV0dXJuIGluc3RhbmNlO1xuICAgICAgICB9KVxuICAgICAgICAudGhlbihyZWNlaXZlciwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgICAgIGVycignZmFpbGVkIHRvIGFzeW5jaHJvbm91c2x5IHByZXBhcmUgd2FzbTogJyArIHJlYXNvbik7XG4gICAgICAgICAgYWJvcnQocmVhc29uKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5zdGFudGlhdGVBc3luYygpIHtcbiAgICAgIGlmIChcbiAgICAgICAgIXdhc21CaW5hcnkgJiZcbiAgICAgICAgdHlwZW9mIFdlYkFzc2VtYmx5Lmluc3RhbnRpYXRlU3RyZWFtaW5nID09ICdmdW5jdGlvbicgJiZcbiAgICAgICAgIWlzRGF0YVVSSSh3YXNtQmluYXJ5RmlsZSkgJiZcbiAgICAgICAgdHlwZW9mIGZldGNoID09ICdmdW5jdGlvbidcbiAgICAgICkge1xuICAgICAgICByZXR1cm4gZmV0Y2god2FzbUJpbmFyeUZpbGUsIHsgY3JlZGVudGlhbHM6ICdzYW1lLW9yaWdpbicgfSkudGhlbihcbiAgICAgICAgICBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBXZWJBc3NlbWJseS5pbnN0YW50aWF0ZVN0cmVhbWluZyhyZXNwb25zZSwgaW5mbyk7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0LnRoZW4ocmVjZWl2ZUluc3RhbnRpYXRpb25SZXN1bHQsIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgICAgICAgICAgZXJyKCd3YXNtIHN0cmVhbWluZyBjb21waWxlIGZhaWxlZDogJyArIHJlYXNvbik7XG4gICAgICAgICAgICAgIGVycignZmFsbGluZyBiYWNrIHRvIEFycmF5QnVmZmVyIGluc3RhbnRpYXRpb24nKTtcbiAgICAgICAgICAgICAgcmV0dXJuIGluc3RhbnRpYXRlQXJyYXlCdWZmZXIocmVjZWl2ZUluc3RhbnRpYXRpb25SZXN1bHQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBpbnN0YW50aWF0ZUFycmF5QnVmZmVyKHJlY2VpdmVJbnN0YW50aWF0aW9uUmVzdWx0KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoTW9kdWxlWydpbnN0YW50aWF0ZVdhc20nXSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIGV4cG9ydHMgPSBNb2R1bGVbJ2luc3RhbnRpYXRlV2FzbSddKGluZm8sIHJlY2VpdmVJbnN0YW5jZSk7XG4gICAgICAgIHJldHVybiBleHBvcnRzO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBlcnIoJ01vZHVsZS5pbnN0YW50aWF0ZVdhc20gY2FsbGJhY2sgZmFpbGVkIHdpdGggZXJyb3I6ICcgKyBlKTtcbiAgICAgICAgcmVhZHlQcm9taXNlUmVqZWN0KGUpO1xuICAgICAgfVxuICAgIH1cbiAgICBpbnN0YW50aWF0ZUFzeW5jKCkuY2F0Y2gocmVhZHlQcm9taXNlUmVqZWN0KTtcbiAgICByZXR1cm4ge307XG4gIH1cblxuICBmdW5jdGlvbiBFeGl0U3RhdHVzKHN0YXR1cykge1xuICAgIHRoaXMubmFtZSA9ICdFeGl0U3RhdHVzJztcbiAgICB0aGlzLm1lc3NhZ2UgPSAnUHJvZ3JhbSB0ZXJtaW5hdGVkIHdpdGggZXhpdCgnICsgc3RhdHVzICsgJyknO1xuICAgIHRoaXMuc3RhdHVzID0gc3RhdHVzO1xuICB9XG5cbiAgZnVuY3Rpb24gY2FsbFJ1bnRpbWVDYWxsYmFja3MoY2FsbGJhY2tzKSB7XG4gICAgd2hpbGUgKGNhbGxiYWNrcy5sZW5ndGggPiAwKSB7XG4gICAgICBjYWxsYmFja3Muc2hpZnQoKShNb2R1bGUpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIF9fZGxpbml0KG1haW5fZHNvX2hhbmRsZSkge31cblxuICB2YXIgZGxvcGVuTWlzc2luZ0Vycm9yID1cbiAgICAnVG8gdXNlIGRsb3BlbiwgeW91IG5lZWQgZW5hYmxlIGR5bmFtaWMgbGlua2luZywgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9lbXNjcmlwdGVuLWNvcmUvZW1zY3JpcHRlbi93aWtpL0xpbmtpbmcnO1xuXG4gIGZ1bmN0aW9uIF9fZGxvcGVuX2pzKGZpbGVuYW1lLCBmbGFnKSB7XG4gICAgYWJvcnQoZGxvcGVuTWlzc2luZ0Vycm9yKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9fZGxzeW1fanMoaGFuZGxlLCBzeW1ib2wpIHtcbiAgICBhYm9ydChkbG9wZW5NaXNzaW5nRXJyb3IpO1xuICB9XG5cbiAgdmFyIG5vd0lzTW9ub3RvbmljID0gdHJ1ZTtcblxuICBmdW5jdGlvbiBfX2Vtc2NyaXB0ZW5fZ2V0X25vd19pc19tb25vdG9uaWMoKSB7XG4gICAgcmV0dXJuIG5vd0lzTW9ub3RvbmljO1xuICB9XG5cbiAgZnVuY3Rpb24gX19tbWFwX2pzKGxlbiwgcHJvdCwgZmxhZ3MsIGZkLCBvZmYsIGFsbG9jYXRlZCkge1xuICAgIHJldHVybiAtNTI7XG4gIH1cblxuICBmdW5jdGlvbiBfX211bm1hcF9qcyhhZGRyLCBsZW4sIHByb3QsIGZsYWdzLCBmZCwgb2Zmc2V0KSB7fVxuXG4gIGZ1bmN0aW9uIF9hYm9ydCgpIHtcbiAgICBhYm9ydCgnJyk7XG4gIH1cblxuICBmdW5jdGlvbiBfZW1zY3JpcHRlbl9kYXRlX25vdygpIHtcbiAgICByZXR1cm4gRGF0ZS5ub3coKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEhlYXBNYXgoKSB7XG4gICAgcmV0dXJuIDIxNDc0ODM2NDg7XG4gIH1cblxuICBmdW5jdGlvbiBfZW1zY3JpcHRlbl9nZXRfaGVhcF9tYXgoKSB7XG4gICAgcmV0dXJuIGdldEhlYXBNYXgoKTtcbiAgfVxuXG4gIHZhciBfZW1zY3JpcHRlbl9nZXRfbm93O1xuICBfZW1zY3JpcHRlbl9nZXRfbm93ID0gKCkgPT4gcGVyZm9ybWFuY2Uubm93KCk7XG5cbiAgZnVuY3Rpb24gX2Vtc2NyaXB0ZW5fbWVtY3B5X2JpZyhkZXN0LCBzcmMsIG51bSkge1xuICAgIEhFQVBVOC5jb3B5V2l0aGluKGRlc3QsIHNyYywgc3JjICsgbnVtKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGVtc2NyaXB0ZW5fcmVhbGxvY19idWZmZXIoc2l6ZSkge1xuICAgIHRyeSB7XG4gICAgICB3YXNtTWVtb3J5Lmdyb3coKHNpemUgLSBidWZmZXIuYnl0ZUxlbmd0aCArIDY1NTM1KSA+Pj4gMTYpO1xuICAgICAgdXBkYXRlR2xvYmFsQnVmZmVyQW5kVmlld3Mod2FzbU1lbW9yeS5idWZmZXIpO1xuICAgICAgcmV0dXJuIDE7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgfVxuXG4gIGZ1bmN0aW9uIF9lbXNjcmlwdGVuX3Jlc2l6ZV9oZWFwKHJlcXVlc3RlZFNpemUpIHtcbiAgICB2YXIgb2xkU2l6ZSA9IEhFQVBVOC5sZW5ndGg7XG4gICAgcmVxdWVzdGVkU2l6ZSA9IHJlcXVlc3RlZFNpemUgPj4+IDA7XG4gICAgdmFyIG1heEhlYXBTaXplID0gZ2V0SGVhcE1heCgpO1xuICAgIGlmIChyZXF1ZXN0ZWRTaXplID4gbWF4SGVhcFNpemUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgbGV0IGFsaWduVXAgPSAoeCwgbXVsdGlwbGUpID0+IHggKyAoKG11bHRpcGxlIC0gKHggJSBtdWx0aXBsZSkpICUgbXVsdGlwbGUpO1xuICAgIGZvciAodmFyIGN1dERvd24gPSAxOyBjdXREb3duIDw9IDQ7IGN1dERvd24gKj0gMikge1xuICAgICAgdmFyIG92ZXJHcm93bkhlYXBTaXplID0gb2xkU2l6ZSAqICgxICsgMC4yIC8gY3V0RG93bik7XG4gICAgICBvdmVyR3Jvd25IZWFwU2l6ZSA9IE1hdGgubWluKFxuICAgICAgICBvdmVyR3Jvd25IZWFwU2l6ZSxcbiAgICAgICAgcmVxdWVzdGVkU2l6ZSArIDEwMDY2MzI5NixcbiAgICAgICk7XG4gICAgICB2YXIgbmV3U2l6ZSA9IE1hdGgubWluKFxuICAgICAgICBtYXhIZWFwU2l6ZSxcbiAgICAgICAgYWxpZ25VcChNYXRoLm1heChyZXF1ZXN0ZWRTaXplLCBvdmVyR3Jvd25IZWFwU2l6ZSksIDY1NTM2KSxcbiAgICAgICk7XG4gICAgICB2YXIgcmVwbGFjZW1lbnQgPSBlbXNjcmlwdGVuX3JlYWxsb2NfYnVmZmVyKG5ld1NpemUpO1xuICAgICAgaWYgKHJlcGxhY2VtZW50KSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICB2YXIgRU5WID0ge307XG5cbiAgZnVuY3Rpb24gZ2V0RXhlY3V0YWJsZU5hbWUoKSB7XG4gICAgcmV0dXJuIHRoaXNQcm9ncmFtIHx8ICcuL3RoaXMucHJvZ3JhbSc7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRFbnZTdHJpbmdzKCkge1xuICAgIGlmICghZ2V0RW52U3RyaW5ncy5zdHJpbmdzKSB7XG4gICAgICB2YXIgbGFuZyA9XG4gICAgICAgIChcbiAgICAgICAgICAodHlwZW9mIG5hdmlnYXRvciA9PSAnb2JqZWN0JyAmJlxuICAgICAgICAgICAgbmF2aWdhdG9yLmxhbmd1YWdlcyAmJlxuICAgICAgICAgICAgbmF2aWdhdG9yLmxhbmd1YWdlc1swXSkgfHxcbiAgICAgICAgICAnQydcbiAgICAgICAgKS5yZXBsYWNlKCctJywgJ18nKSArICcuVVRGLTgnO1xuICAgICAgdmFyIGVudiA9IHtcbiAgICAgICAgVVNFUjogJ3dlYl91c2VyJyxcbiAgICAgICAgTE9HTkFNRTogJ3dlYl91c2VyJyxcbiAgICAgICAgUEFUSDogJy8nLFxuICAgICAgICBQV0Q6ICcvJyxcbiAgICAgICAgSE9NRTogJy9ob21lL3dlYl91c2VyJyxcbiAgICAgICAgTEFORzogbGFuZyxcbiAgICAgICAgXzogZ2V0RXhlY3V0YWJsZU5hbWUoKSxcbiAgICAgIH07XG4gICAgICBmb3IgKHZhciB4IGluIEVOVikge1xuICAgICAgICBpZiAoRU5WW3hdID09PSB1bmRlZmluZWQpIGRlbGV0ZSBlbnZbeF07XG4gICAgICAgIGVsc2UgZW52W3hdID0gRU5WW3hdO1xuICAgICAgfVxuICAgICAgdmFyIHN0cmluZ3MgPSBbXTtcbiAgICAgIGZvciAodmFyIHggaW4gZW52KSB7XG4gICAgICAgIHN0cmluZ3MucHVzaCh4ICsgJz0nICsgZW52W3hdKTtcbiAgICAgIH1cbiAgICAgIGdldEVudlN0cmluZ3Muc3RyaW5ncyA9IHN0cmluZ3M7XG4gICAgfVxuICAgIHJldHVybiBnZXRFbnZTdHJpbmdzLnN0cmluZ3M7XG4gIH1cblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXNoYWRvd1xuICBmdW5jdGlvbiB3cml0ZUFzY2lpVG9NZW1vcnkoc3RyLCBidWZmZXIsIGRvbnRBZGROdWxsKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyArK2kpIHtcbiAgICAgIEhFQVA4W2J1ZmZlcisrID4+IDBdID0gc3RyLmNoYXJDb2RlQXQoaSk7XG4gICAgfVxuICAgIEhFQVA4W2J1ZmZlciA+PiAwXSA9IDA7XG4gIH1cblxuICBmdW5jdGlvbiBfZW52aXJvbl9nZXQoX19lbnZpcm9uLCBlbnZpcm9uX2J1Zikge1xuICAgIHZhciBidWZTaXplID0gMDtcbiAgICBnZXRFbnZTdHJpbmdzKCkuZm9yRWFjaChmdW5jdGlvbiAoc3RyaW5nLCBpKSB7XG4gICAgICB2YXIgcHRyID0gZW52aXJvbl9idWYgKyBidWZTaXplO1xuICAgICAgSEVBUFUzMlsoX19lbnZpcm9uICsgaSAqIDQpID4+IDJdID0gcHRyO1xuICAgICAgd3JpdGVBc2NpaVRvTWVtb3J5KHN0cmluZywgcHRyKTtcbiAgICAgIGJ1ZlNpemUgKz0gc3RyaW5nLmxlbmd0aCArIDE7XG4gICAgfSk7XG4gICAgcmV0dXJuIDA7XG4gIH1cblxuICBmdW5jdGlvbiBfZW52aXJvbl9zaXplc19nZXQocGVudmlyb25fY291bnQsIHBlbnZpcm9uX2J1Zl9zaXplKSB7XG4gICAgdmFyIHN0cmluZ3MgPSBnZXRFbnZTdHJpbmdzKCk7XG4gICAgSEVBUFUzMltwZW52aXJvbl9jb3VudCA+PiAyXSA9IHN0cmluZ3MubGVuZ3RoO1xuICAgIHZhciBidWZTaXplID0gMDtcbiAgICBzdHJpbmdzLmZvckVhY2goZnVuY3Rpb24gKHN0cmluZykge1xuICAgICAgYnVmU2l6ZSArPSBzdHJpbmcubGVuZ3RoICsgMTtcbiAgICB9KTtcbiAgICBIRUFQVTMyW3BlbnZpcm9uX2J1Zl9zaXplID4+IDJdID0gYnVmU2l6ZTtcbiAgICByZXR1cm4gMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9wcm9jX2V4aXQoY29kZSkge1xuICAgIGlmICgha2VlcFJ1bnRpbWVBbGl2ZSgpKSB7XG4gICAgICBpZiAoTW9kdWxlWydvbkV4aXQnXSkgTW9kdWxlWydvbkV4aXQnXShjb2RlKTtcbiAgICAgIEFCT1JUID0gdHJ1ZTtcbiAgICB9XG4gICAgcXVpdF8oY29kZSwgbmV3IEV4aXRTdGF0dXMoY29kZSkpO1xuICB9XG5cbiAgZnVuY3Rpb24gZXhpdEpTKHN0YXR1cywgaW1wbGljaXQpIHtcbiAgICBfcHJvY19leGl0KHN0YXR1cyk7XG4gIH1cblxuICB2YXIgX2V4aXQgPSBleGl0SlM7XG5cbiAgZnVuY3Rpb24gX2ZkX2Nsb3NlKGZkKSB7XG4gICAgcmV0dXJuIDUyO1xuICB9XG5cbiAgZnVuY3Rpb24gX2ZkX3NlZWsoZmQsIG9mZnNldF9sb3csIG9mZnNldF9oaWdoLCB3aGVuY2UsIG5ld09mZnNldCkge1xuICAgIHJldHVybiA3MDtcbiAgfVxuXG4gIHZhciBwcmludENoYXJCdWZmZXJzID0gW251bGwsIFtdLCBbXV07XG5cbiAgZnVuY3Rpb24gcHJpbnRDaGFyKHN0cmVhbSwgY3Vycikge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tc2hhZG93XG4gICAgdmFyIGJ1ZmZlciA9IHByaW50Q2hhckJ1ZmZlcnNbc3RyZWFtXTtcbiAgICBpZiAoY3VyciA9PT0gMCB8fCBjdXJyID09PSAxMCkge1xuICAgICAgKHN0cmVhbSA9PT0gMSA/IG91dCA6IGVycikoVVRGOEFycmF5VG9TdHJpbmcoYnVmZmVyLCAwKSk7XG4gICAgICBidWZmZXIubGVuZ3RoID0gMDtcbiAgICB9IGVsc2Uge1xuICAgICAgYnVmZmVyLnB1c2goY3Vycik7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gX2ZkX3dyaXRlKGZkLCBpb3YsIGlvdmNudCwgcG51bSkge1xuICAgIHZhciBudW0gPSAwO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW92Y250OyBpKyspIHtcbiAgICAgIHZhciBwdHIgPSBIRUFQVTMyW2lvdiA+PiAyXTtcbiAgICAgIHZhciBsZW4gPSBIRUFQVTMyWyhpb3YgKyA0KSA+PiAyXTtcbiAgICAgIGlvdiArPSA4O1xuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBsZW47IGorKykge1xuICAgICAgICBwcmludENoYXIoZmQsIEhFQVBVOFtwdHIgKyBqXSk7XG4gICAgICB9XG4gICAgICBudW0gKz0gbGVuO1xuICAgIH1cbiAgICBIRUFQVTMyW3BudW0gPj4gMl0gPSBudW07XG4gICAgcmV0dXJuIDA7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRSYW5kb21EZXZpY2UoKSB7XG4gICAgaWYgKFxuICAgICAgdHlwZW9mIGNyeXB0byA9PSAnb2JqZWN0JyAmJlxuICAgICAgdHlwZW9mIGNyeXB0b1snZ2V0UmFuZG9tVmFsdWVzJ10gPT0gJ2Z1bmN0aW9uJ1xuICAgICkge1xuICAgICAgdmFyIHJhbmRvbUJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KDEpO1xuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhyYW5kb21CdWZmZXIpO1xuICAgICAgICByZXR1cm4gcmFuZG9tQnVmZmVyWzBdO1xuICAgICAgfTtcbiAgICB9IGVsc2UgcmV0dXJuICgpID0+IGFib3J0KCdyYW5kb21EZXZpY2UnKTtcbiAgfVxuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tc2hhZG93XG4gIGZ1bmN0aW9uIF9nZXRlbnRyb3B5KGJ1ZmZlciwgc2l6ZSkge1xuICAgIGlmICghX2dldGVudHJvcHkucmFuZG9tRGV2aWNlKSB7XG4gICAgICBfZ2V0ZW50cm9weS5yYW5kb21EZXZpY2UgPSBnZXRSYW5kb21EZXZpY2UoKTtcbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaXplOyBpKyspIHtcbiAgICAgIEhFQVA4WyhidWZmZXIgKyBpKSA+PiAwXSA9IF9nZXRlbnRyb3B5LnJhbmRvbURldmljZSgpO1xuICAgIH1cbiAgICByZXR1cm4gMDtcbiAgfVxuXG4gIHZhciBhc21MaWJyYXJ5QXJnID0ge1xuICAgIF9kbGluaXQ6IF9fZGxpbml0LFxuICAgIF9kbG9wZW5fanM6IF9fZGxvcGVuX2pzLFxuICAgIF9kbHN5bV9qczogX19kbHN5bV9qcyxcbiAgICBfZW1zY3JpcHRlbl9nZXRfbm93X2lzX21vbm90b25pYzogX19lbXNjcmlwdGVuX2dldF9ub3dfaXNfbW9ub3RvbmljLFxuICAgIF9tbWFwX2pzOiBfX21tYXBfanMsXG4gICAgX211bm1hcF9qczogX19tdW5tYXBfanMsXG4gICAgYWJvcnQ6IF9hYm9ydCxcbiAgICBlbXNjcmlwdGVuX2RhdGVfbm93OiBfZW1zY3JpcHRlbl9kYXRlX25vdyxcbiAgICBlbXNjcmlwdGVuX2dldF9oZWFwX21heDogX2Vtc2NyaXB0ZW5fZ2V0X2hlYXBfbWF4LFxuICAgIGVtc2NyaXB0ZW5fZ2V0X25vdzogX2Vtc2NyaXB0ZW5fZ2V0X25vdyxcbiAgICBlbXNjcmlwdGVuX21lbWNweV9iaWc6IF9lbXNjcmlwdGVuX21lbWNweV9iaWcsXG4gICAgZW1zY3JpcHRlbl9yZXNpemVfaGVhcDogX2Vtc2NyaXB0ZW5fcmVzaXplX2hlYXAsXG4gICAgZW52aXJvbl9nZXQ6IF9lbnZpcm9uX2dldCxcbiAgICBlbnZpcm9uX3NpemVzX2dldDogX2Vudmlyb25fc2l6ZXNfZ2V0LFxuICAgIGV4aXQ6IF9leGl0LFxuICAgIGZkX2Nsb3NlOiBfZmRfY2xvc2UsXG4gICAgZmRfc2VlazogX2ZkX3NlZWssXG4gICAgZmRfd3JpdGU6IF9mZF93cml0ZSxcbiAgICBnZXRlbnRyb3B5OiBfZ2V0ZW50cm9weSxcbiAgfTtcbiAgY3JlYXRlV2FzbSgpO1xuICAoTW9kdWxlWydfX193YXNtX2NhbGxfY3RvcnMnXSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKE1vZHVsZVsnX19fd2FzbV9jYWxsX2N0b3JzJ10gPVxuICAgICAgTW9kdWxlWydhc20nXVsnX193YXNtX2NhbGxfY3RvcnMnXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgfSk7XG4gIChNb2R1bGVbJ19nZXRNb2RlbEJ1ZmZlck1lbW9yeU9mZnNldCddID1cbiAgICBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gKE1vZHVsZVtcbiAgICAgICAgJ19nZXRNb2RlbEJ1ZmZlck1lbW9yeU9mZnNldCdcbiAgICAgIF0gPVxuICAgICAgICBNb2R1bGVbJ2FzbSddWydnZXRNb2RlbEJ1ZmZlck1lbW9yeU9mZnNldCddKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICAgIH0pO1xuICAoTW9kdWxlWydfZ2V0SW5wdXRNZW1vcnlPZmZzZXQnXSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKE1vZHVsZVsnX2dldElucHV0TWVtb3J5T2Zmc2V0J10gPVxuICAgICAgTW9kdWxlWydhc20nXVsnZ2V0SW5wdXRNZW1vcnlPZmZzZXQnXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgfSk7XG4gIChNb2R1bGVbJ19nZXRJbnB1dEhlaWdodCddID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAoTW9kdWxlWydfZ2V0SW5wdXRIZWlnaHQnXSA9XG4gICAgICBNb2R1bGVbJ2FzbSddWydnZXRJbnB1dEhlaWdodCddKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICB9KTtcbiAgKE1vZHVsZVsnX2dldElucHV0V2lkdGgnXSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKE1vZHVsZVsnX2dldElucHV0V2lkdGgnXSA9XG4gICAgICBNb2R1bGVbJ2FzbSddWydnZXRJbnB1dFdpZHRoJ10pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gIH0pO1xuICAoTW9kdWxlWydfZ2V0SW5wdXRDaGFubmVsQ291bnQnXSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKE1vZHVsZVsnX2dldElucHV0Q2hhbm5lbENvdW50J10gPVxuICAgICAgTW9kdWxlWydhc20nXVsnZ2V0SW5wdXRDaGFubmVsQ291bnQnXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgfSk7XG4gIChNb2R1bGVbJ19nZXRPdXRwdXRNZW1vcnlPZmZzZXQnXSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKE1vZHVsZVsnX2dldE91dHB1dE1lbW9yeU9mZnNldCddID1cbiAgICAgIE1vZHVsZVsnYXNtJ11bJ2dldE91dHB1dE1lbW9yeU9mZnNldCddKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICB9KTtcbiAgKE1vZHVsZVsnX2dldE91dHB1dEhlaWdodCddID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAoTW9kdWxlWydfZ2V0T3V0cHV0SGVpZ2h0J10gPVxuICAgICAgTW9kdWxlWydhc20nXVsnZ2V0T3V0cHV0SGVpZ2h0J10pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gIH0pO1xuICAoTW9kdWxlWydfZ2V0T3V0cHV0V2lkdGgnXSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKE1vZHVsZVsnX2dldE91dHB1dFdpZHRoJ10gPVxuICAgICAgTW9kdWxlWydhc20nXVsnZ2V0T3V0cHV0V2lkdGgnXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgfSk7XG4gIChNb2R1bGVbJ19nZXRPdXRwdXRDaGFubmVsQ291bnQnXSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKE1vZHVsZVsnX2dldE91dHB1dENoYW5uZWxDb3VudCddID1cbiAgICAgIE1vZHVsZVsnYXNtJ11bJ2dldE91dHB1dENoYW5uZWxDb3VudCddKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICB9KTtcbiAgKE1vZHVsZVsnX2xvYWRNb2RlbCddID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAoTW9kdWxlWydfbG9hZE1vZGVsJ10gPVxuICAgICAgTW9kdWxlWydhc20nXVsnbG9hZE1vZGVsJ10pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gIH0pO1xuICAoTW9kdWxlWydfcnVuSW5mZXJlbmNlJ10gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIChNb2R1bGVbJ19ydW5JbmZlcmVuY2UnXSA9XG4gICAgICBNb2R1bGVbJ2FzbSddWydydW5JbmZlcmVuY2UnXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgfSk7XG4gIChNb2R1bGVbJ19tYWxsb2MnXSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKE1vZHVsZVsnX21hbGxvYyddID0gTW9kdWxlWydhc20nXVsnbWFsbG9jJ10pLmFwcGx5KFxuICAgICAgbnVsbCxcbiAgICAgIGFyZ3VtZW50cyxcbiAgICApO1xuICB9KTtcbiAgKE1vZHVsZVsnX19fZXJybm9fbG9jYXRpb24nXSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKE1vZHVsZVsnX19fZXJybm9fbG9jYXRpb24nXSA9XG4gICAgICBNb2R1bGVbJ2FzbSddWydfX2Vycm5vX2xvY2F0aW9uJ10pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gIH0pO1xuICAoTW9kdWxlWydfX19kbF9zZXRlcnInXSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKE1vZHVsZVsnX19fZGxfc2V0ZXJyJ10gPVxuICAgICAgTW9kdWxlWydhc20nXVsnX19kbF9zZXRlcnInXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgfSk7XG4gIChNb2R1bGVbJ3N0YWNrU2F2ZSddID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAoTW9kdWxlWydzdGFja1NhdmUnXSA9IE1vZHVsZVsnYXNtJ11bJ3N0YWNrU2F2ZSddKS5hcHBseShcbiAgICAgIG51bGwsXG4gICAgICBhcmd1bWVudHMsXG4gICAgKTtcbiAgfSk7XG4gIChNb2R1bGVbJ3N0YWNrUmVzdG9yZSddID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAoTW9kdWxlWydzdGFja1Jlc3RvcmUnXSA9XG4gICAgICBNb2R1bGVbJ2FzbSddWydzdGFja1Jlc3RvcmUnXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgfSk7XG4gIChNb2R1bGVbJ3N0YWNrQWxsb2MnXSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKE1vZHVsZVsnc3RhY2tBbGxvYyddID1cbiAgICAgIE1vZHVsZVsnYXNtJ11bJ3N0YWNrQWxsb2MnXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgfSk7XG4gIChNb2R1bGVbJ2R5bkNhbGxfampqJ10gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIChNb2R1bGVbJ2R5bkNhbGxfampqJ10gPVxuICAgICAgTW9kdWxlWydhc20nXVsnZHluQ2FsbF9qamonXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgfSk7XG4gIChNb2R1bGVbJ2R5bkNhbGxfamlpaSddID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAoTW9kdWxlWydkeW5DYWxsX2ppaWknXSA9XG4gICAgICBNb2R1bGVbJ2FzbSddWydkeW5DYWxsX2ppaWknXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgfSk7XG4gIChNb2R1bGVbJ2R5bkNhbGxfaWlpaWpqJ10gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIChNb2R1bGVbJ2R5bkNhbGxfaWlpaWpqJ10gPVxuICAgICAgTW9kdWxlWydhc20nXVsnZHluQ2FsbF9paWlpamonXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgfSk7XG4gIChNb2R1bGVbJ2R5bkNhbGxfdmlpamonXSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKE1vZHVsZVsnZHluQ2FsbF92aWlqaiddID1cbiAgICAgIE1vZHVsZVsnYXNtJ11bJ2R5bkNhbGxfdmlpamonXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgfSk7XG4gIChNb2R1bGVbJ2R5bkNhbGxfdmlpaWpqaiddID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAoTW9kdWxlWydkeW5DYWxsX3ZpaWlqamonXSA9XG4gICAgICBNb2R1bGVbJ2FzbSddWydkeW5DYWxsX3ZpaWlqamonXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgfSk7XG4gIChNb2R1bGVbJ2R5bkNhbGxfaWlqamlpaWknXSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKE1vZHVsZVsnZHluQ2FsbF9paWpqaWlpaSddID1cbiAgICAgIE1vZHVsZVsnYXNtJ11bJ2R5bkNhbGxfaWlqamlpaWknXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgfSk7XG4gIChNb2R1bGVbJ2R5bkNhbGxfamlqaSddID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAoTW9kdWxlWydkeW5DYWxsX2ppamknXSA9XG4gICAgICBNb2R1bGVbJ2FzbSddWydkeW5DYWxsX2ppamknXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgfSk7XG4gIHZhciBjYWxsZWRSdW47XG4gIGRlcGVuZGVuY2llc0Z1bGZpbGxlZCA9IGZ1bmN0aW9uIHJ1bkNhbGxlcigpIHtcbiAgICBpZiAoIWNhbGxlZFJ1bikgcnVuKCk7XG4gICAgaWYgKCFjYWxsZWRSdW4pIGRlcGVuZGVuY2llc0Z1bGZpbGxlZCA9IHJ1bkNhbGxlcjtcbiAgfTtcblxuICBmdW5jdGlvbiBydW4oYXJncykge1xuICAgIGlmIChydW5EZXBlbmRlbmNpZXMgPiAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHByZVJ1bigpO1xuICAgIGlmIChydW5EZXBlbmRlbmNpZXMgPiAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZG9SdW4oKSB7XG4gICAgICBpZiAoY2FsbGVkUnVuKSByZXR1cm47XG4gICAgICBjYWxsZWRSdW4gPSB0cnVlO1xuICAgICAgTW9kdWxlWydjYWxsZWRSdW4nXSA9IHRydWU7XG4gICAgICBpZiAoQUJPUlQpIHJldHVybjtcbiAgICAgIGluaXRSdW50aW1lKCk7XG4gICAgICByZWFkeVByb21pc2VSZXNvbHZlKE1vZHVsZSk7XG4gICAgICBpZiAoTW9kdWxlWydvblJ1bnRpbWVJbml0aWFsaXplZCddKSBNb2R1bGVbJ29uUnVudGltZUluaXRpYWxpemVkJ10oKTtcbiAgICAgIHBvc3RSdW4oKTtcbiAgICB9XG5cbiAgICBpZiAoTW9kdWxlWydzZXRTdGF0dXMnXSkge1xuICAgICAgTW9kdWxlWydzZXRTdGF0dXMnXSgnUnVubmluZy4uLicpO1xuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIE1vZHVsZVsnc2V0U3RhdHVzJ10oJycpO1xuICAgICAgICB9LCAxKTtcbiAgICAgICAgZG9SdW4oKTtcbiAgICAgIH0sIDEpO1xuICAgIH0gZWxzZSB7XG4gICAgICBkb1J1bigpO1xuICAgIH1cbiAgfVxuXG4gIGlmIChNb2R1bGVbJ3ByZUluaXQnXSkge1xuICAgIGlmICh0eXBlb2YgTW9kdWxlWydwcmVJbml0J10gPT0gJ2Z1bmN0aW9uJylcbiAgICAgIE1vZHVsZVsncHJlSW5pdCddID0gW01vZHVsZVsncHJlSW5pdCddXTtcbiAgICB3aGlsZSAoTW9kdWxlWydwcmVJbml0J10ubGVuZ3RoID4gMCkge1xuICAgICAgTW9kdWxlWydwcmVJbml0J10ucG9wKCkoKTtcbiAgICB9XG4gIH1cbiAgcnVuKCk7XG5cbiAgcmV0dXJuIF9fTW9kdWxlLnJlYWR5O1xufTtcblxuY29uc3QgdmVyc2lvbiA9IFwiMC4xLjZcIjtcbmNvbnN0IHBhY2thZ2VOYW1lID0gXCJAc3RyZWFtLWlvL3ZpZGVvLWZpbHRlcnMtd2ViXCI7XG5cbi8vIEB0cy1leHBlY3QtZXJyb3IgLSBtb2R1bGUgaXMgbm90IGRlY2xhcmVkXG4vLyBUaGlzIGlzIGEgV2ViQXNzZW1ibHkgbW9kdWxlIGNvbXBpbGVkIGZyb20gdGhlIFRlbnNvckZsb3cgTGl0ZSBDKysgbGlicmFyeS5cbmNvbnN0IGNyZWF0ZVRGTGl0ZSA9IGNyZWF0ZVRGTGl0ZVNJTURNb2R1bGU7XG5jb25zdCBsb2FkVEZMaXRlID0gYXN5bmMgKG9wdGlvbnMgPSB7fSkgPT4ge1xuICAgIGNvbnN0IHsgYmFzZVBhdGggPSBgaHR0cHM6Ly91bnBrZy5jb20vJHtwYWNrYWdlTmFtZX1AJHt2ZXJzaW9ufS90ZmAsIHRmRmlsZVBhdGggPSBgJHtiYXNlUGF0aH0vdGZsaXRlL3RmbGl0ZS1zaW1kLndhc21gLCBtb2RlbEZpbGVQYXRoID0gYCR7YmFzZVBhdGh9L21vZGVscy9zZWdtX2Z1bGxfdjY3OS50ZmxpdGVgLCB9ID0gb3B0aW9ucztcbiAgICBjb25zdCBbdGZMaXRlLCBtb2RlbF0gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgIGNyZWF0ZVRGTGl0ZSh7IGxvY2F0ZUZpbGU6ICgpID0+IHRmRmlsZVBhdGggfSksXG4gICAgICAgIGZldGNoTW9kZWwobW9kZWxGaWxlUGF0aCksXG4gICAgXSk7XG4gICAgY29uc3QgbW9kZWxCdWZmZXJPZmZzZXQgPSB0ZkxpdGUuX2dldE1vZGVsQnVmZmVyTWVtb3J5T2Zmc2V0KCk7XG4gICAgdGZMaXRlLkhFQVBVOC5zZXQobmV3IFVpbnQ4QXJyYXkobW9kZWwpLCBtb2RlbEJ1ZmZlck9mZnNldCk7XG4gICAgdGZMaXRlLl9sb2FkTW9kZWwobW9kZWwuYnl0ZUxlbmd0aCk7XG4gICAgcmV0dXJuIHRmTGl0ZTtcbn07XG5sZXQgbGFzdE1vZGVsRmlsZVBhdGggPSAnJztcbmxldCBtb2RlbEZpbGVDYWNoZTtcbmNvbnN0IGZldGNoTW9kZWwgPSBhc3luYyAobW9kZWxGaWxlUGF0aCkgPT4ge1xuICAgIGNvbnN0IG1vZGVsID0gbW9kZWxGaWxlUGF0aCA9PT0gbGFzdE1vZGVsRmlsZVBhdGggJiYgbW9kZWxGaWxlQ2FjaGVcbiAgICAgICAgPyBtb2RlbEZpbGVDYWNoZVxuICAgICAgICA6IGF3YWl0IGZldGNoKG1vZGVsRmlsZVBhdGgpLnRoZW4oKHIpID0+IHIuYXJyYXlCdWZmZXIoKSk7XG4gICAgLy8gQ2FjaGUgdGhlIG1vZGVsIGZpbGUgZm9yIGZ1dHVyZSB1c2UuXG4gICAgbW9kZWxGaWxlQ2FjaGUgPSBtb2RlbDtcbiAgICBsYXN0TW9kZWxGaWxlUGF0aCA9IG1vZGVsRmlsZVBhdGg7XG4gICAgcmV0dXJuIG1vZGVsO1xufTtcblxuZXhwb3J0IHsgU2VnbWVudGF0aW9uTGV2ZWwsIGNyZWF0ZVJlbmRlcmVyLCBpc1BsYXRmb3JtU3VwcG9ydGVkLCBsb2FkVEZMaXRlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5lcy5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../../node_modules/@stream-io/video-filters-web/dist/index.es.js\n");

/***/ }),

/***/ "(ssr)/../../../node_modules/@stream-io/video-react-bindings/dist/index.es.js":
/*!******************************************************************************!*\
  !*** ../../../node_modules/@stream-io/video-react-bindings/dist/index.es.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DEFAULT_LANGUAGE: () => (/* binding */ DEFAULT_LANGUAGE),\n/* harmony export */   DEFAULT_NAMESPACE: () => (/* binding */ DEFAULT_NAMESPACE),\n/* harmony export */   Restricted: () => (/* binding */ Restricted),\n/* harmony export */   StreamCallProvider: () => (/* binding */ StreamCallProvider),\n/* harmony export */   StreamI18n: () => (/* binding */ StreamI18n),\n/* harmony export */   StreamI18nProvider: () => (/* binding */ StreamI18nProvider),\n/* harmony export */   StreamVideoProvider: () => (/* binding */ StreamVideoProvider),\n/* harmony export */   defaultTranslationFunction: () => (/* binding */ defaultTranslationFunction),\n/* harmony export */   mapToRegistry: () => (/* binding */ mapToRegistry),\n/* harmony export */   useCall: () => (/* binding */ useCall),\n/* harmony export */   useCallStateHooks: () => (/* binding */ useCallStateHooks),\n/* harmony export */   useCalls: () => (/* binding */ useCalls),\n/* harmony export */   useConnectedUser: () => (/* binding */ useConnectedUser),\n/* harmony export */   useCreateI18n: () => (/* binding */ useCreateI18n),\n/* harmony export */   useI18n: () => (/* binding */ useI18n),\n/* harmony export */   useStore: () => (/* binding */ useStore),\n/* harmony export */   useStreamVideoClient: () => (/* binding */ useStreamVideoClient),\n/* harmony export */   useToggleCallRecording: () => (/* binding */ useToggleCallRecording)\n/* harmony export */ });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/../../../node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/../../../node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var i18next__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! i18next */ \"(ssr)/../../../node_modules/i18next/dist/esm/i18next.js\");\n/* harmony import */ var _stream_io_video_client__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @stream-io/video-client */ \"(ssr)/../../../node_modules/@stream-io/video-client/dist/index.es.js\");\n\n\n\n\n\nconst StreamCallContext = (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(undefined);\n/**\n * A provider for the call object.\n */\nconst StreamCallProvider = (props) => {\n    const { call, children } = props;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(StreamCallContext.Provider, { value: call, children: children }));\n};\n/**\n * A hook to get the call object from the closest provider.\n */\nconst useCall = () => {\n    return (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(StreamCallContext);\n};\n\nconst mapToRegistry = (translationsMap, namespace) => Object.entries(translationsMap).reduce((acc, [lng, translations]) => {\n    acc[lng] = { [namespace]: translations };\n    return acc;\n}, {});\n\nconst DEFAULT_LANGUAGE = 'en';\nconst DEFAULT_NAMESPACE = 'stream-video';\nconst DEFAULT_CONFIG = {\n    debug: false,\n    currentLanguage: DEFAULT_LANGUAGE,\n    fallbackLanguage: false,\n};\nconst DEFAULT_TRANSLATIONS_REGISTRY = mapToRegistry({}, DEFAULT_NAMESPACE);\nconst defaultTranslationFunction = (key) => key;\nclass StreamI18n {\n    /** Simple logger function */\n    constructor(options = {}) {\n        /** Translator function that converts the provided string into its equivalent in the current language. */\n        this.t = defaultTranslationFunction;\n        this.init = async () => {\n            try {\n                this.t = await this.i18nInstance.init();\n            }\n            catch (e) {\n                console.error(`Failed to initialize translations: ${JSON.stringify(e)}`);\n            }\n            return this;\n        };\n        this.changeLanguage = async (language, onChange) => {\n            if (!this._checkIsInitialized())\n                return;\n            // i18next detects the language, if none provided, but it is better\n            // to show this detection here explicitly\n            const browserLanguage = typeof window !== 'undefined' && window.navigator\n                ? window.navigator.language\n                : undefined;\n            await this.i18nInstance.changeLanguage(language || browserLanguage);\n            onChange?.(this.currentLanguage);\n        };\n        this.registerTranslationsForLanguage = ({ lng, translations, }) => {\n            if (!this._checkIsInitialized())\n                return;\n            this.i18nInstance.addResourceBundle(lng, DEFAULT_NAMESPACE, translations, true, true);\n        };\n        this._checkIsInitialized = () => {\n            if (!this.i18nInstance.isInitialized) {\n                console.warn('I18n instance is not initialized. Call yourStreamI18nInstance.init().');\n            }\n            return this.i18nInstance.isInitialized;\n        };\n        const { debug = DEFAULT_CONFIG.debug, currentLanguage = DEFAULT_CONFIG.currentLanguage, fallbackLanguage = DEFAULT_CONFIG.fallbackLanguage, translationsOverrides, } = options;\n        this.i18nInstance = i18next__WEBPACK_IMPORTED_MODULE_2__[\"default\"].createInstance({\n            debug,\n            defaultNS: DEFAULT_NAMESPACE,\n            fallbackLng: fallbackLanguage,\n            interpolation: { escapeValue: false },\n            keySeparator: false,\n            lng: currentLanguage,\n            nsSeparator: false,\n            parseMissingKeyHandler: (key) => {\n                return key;\n            },\n            resources: DEFAULT_TRANSLATIONS_REGISTRY,\n        });\n        if (translationsOverrides) {\n            this.i18nInstance.on('initialized', () => {\n                Object.entries(translationsOverrides).forEach(([lng, translations]) => {\n                    this.registerTranslationsForLanguage({ lng, translations });\n                });\n            });\n        }\n    }\n    get currentLanguage() {\n        this._checkIsInitialized();\n        return this.i18nInstance.language;\n    }\n    get isInitialized() {\n        return this.i18nInstance.isInitialized;\n    }\n}\n\nconst StreamI18nContext = (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)({\n    t: defaultTranslationFunction,\n});\nconst StreamI18nProvider = ({ children, ...createI18nParams }) => {\n    const { i18n, t } = useCreateI18n(createI18nParams);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(StreamI18nContext.Provider, { value: { t, i18n }, children: children }));\n};\nconst useCreateI18n = ({ i18nInstance, language, fallbackLanguage, translationsOverrides, }) => {\n    const [i18n] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(() => i18nInstance ||\n        new StreamI18n({\n            currentLanguage: language,\n            fallbackLanguage,\n            translationsOverrides,\n        }));\n    const [t, setTranslationFn] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(() => defaultTranslationFunction);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n        const { isInitialized } = i18n;\n        if (!isInitialized) {\n            i18n.init().then((_i18n) => setTranslationFn(() => _i18n.i18nInstance.t));\n            return;\n        }\n        if (language && i18n?.currentLanguage !== language) {\n            i18n.changeLanguage(language).catch((err) => {\n                console.log('Error while changing language', err);\n            });\n        }\n    }, [i18n, i18nInstance, language, translationsOverrides]);\n    return { i18n, t };\n};\nconst useI18n = () => (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(StreamI18nContext);\n\nconst StreamVideoContext = (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(undefined);\n/**\n * StreamVideo is a provider component which should be used to wrap the entire application.\n * It provides the client object to all children components and initializes the i18n instance.\n *  @param PropsWithChildren<StreamVideoProps>\n *  @category Client State\n */\nconst StreamVideoProvider = ({ children, client, i18nInstance, language, translationsOverrides, }) => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(StreamVideoContext.Provider, { value: client, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(StreamI18nProvider, { i18nInstance: i18nInstance, language: language, translationsOverrides: translationsOverrides, children: children }) }));\n};\n/**\n *\n * @returns\n *\n * @category Client State\n */\nconst useStreamVideoClient = () => {\n    return (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(StreamVideoContext);\n};\n\n/**\n * Utility hook which provides the current value of the given observable.\n * @internal\n *\n * @param observable$ the observable to read data from.\n * @param defaultValue a default value. Used when the observable data can't be read or emits an error.\n */\nconst useObservableValue = (observable$, defaultValue) => {\n    const [value, setValue] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(() => {\n        try {\n            return _stream_io_video_client__WEBPACK_IMPORTED_MODULE_3__.RxUtils.getCurrentValue(observable$);\n        }\n        catch (err) {\n            if (typeof defaultValue === 'undefined')\n                throw err;\n            return defaultValue;\n        }\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n        const subscription = observable$.subscribe({\n            next: setValue,\n            error: (err) => {\n                console.log('An error occurred while reading an observable', err);\n                if (defaultValue)\n                    setValue(defaultValue);\n            },\n        });\n        return () => {\n            subscription.unsubscribe();\n        };\n    }, [defaultValue, observable$]);\n    return value;\n};\n\n/**\n * Checks whether we are using React Native\n */\nconst isReactNative = () => {\n    if (typeof navigator === 'undefined')\n        return false;\n    return navigator.product?.toLowerCase() === 'reactnative';\n};\n\n// kind-of memoized, used as a default value\nconst EMPTY_DEVICES_ARRAY = Object.freeze([]);\n/**\n * Utility hook, which provides the current call's state.\n *\n * @category Call State\n */\nconst useCallState = () => {\n    const call = useCall();\n    // return an empty and unlinked CallState object if there is no call in the provider\n    // this ensures that the hooks always return a value and many null checks can be avoided\n    if (!call) {\n        const message = 'You are using useCallState() outside a Call context. ' +\n            'Please wrap your component in <StreamCall /> and provide a \"call\" instance.';\n        console.warn(message);\n        return new _stream_io_video_client__WEBPACK_IMPORTED_MODULE_3__.CallState();\n    }\n    return call.state;\n};\n/**\n * Utility hook which provides information whether the current call is being recorded. It will return `true` if the call is being recorded.\n *\n * @category Call State\n */\nconst useIsCallRecordingInProgress = () => {\n    const { recording$ } = useCallState();\n    return useObservableValue(recording$);\n};\n/**\n * Utility hook which provides information whether the current call is broadcasting.\n *\n * @category Call State\n */\nconst useIsCallHLSBroadcastingInProgress = () => {\n    const { egress$ } = useCallState();\n    const egress = useObservableValue(egress$);\n    if (!egress)\n        return false;\n    return egress.broadcasting;\n};\n/**\n * Utility hook which provides information whether the current call is live.\n *\n * @category Call State\n */\nconst useIsCallLive = () => {\n    const { backstage$ } = useCallState();\n    const isBackstageOn = useObservableValue(backstage$);\n    return !isBackstageOn;\n};\n/**\n * Returns the list of blocked users in the current call.\n */\nconst useCallBlockedUserIds = () => {\n    const { blockedUserIds$ } = useCallState();\n    return useObservableValue(blockedUserIds$);\n};\n/**\n * Returns the timestamp when this call was created.\n */\nconst useCallCreatedAt = () => {\n    const { createdAt$ } = useCallState();\n    return useObservableValue(createdAt$);\n};\n/**\n * Returns the timestamp when this call was ended.\n */\nconst useCallEndedAt = () => {\n    const { endedAt$ } = useCallState();\n    return useObservableValue(endedAt$);\n};\n/**\n * Returns the timestamp telling when the call is scheduled to start.\n */\nconst useCallStartsAt = () => {\n    const { startsAt$ } = useCallState();\n    return useObservableValue(startsAt$);\n};\n/**\n * Returns the timestamp when this call was updated.\n */\nconst useCallUpdatedAt = () => {\n    const { updatedAt$ } = useCallState();\n    return useObservableValue(updatedAt$);\n};\n/**\n * Returns the information about the call's creator.\n */\nconst useCallCreatedBy = () => {\n    const { createdBy$ } = useCallState();\n    return useObservableValue(createdBy$);\n};\n/**\n * Returns the call's custom data.\n */\nconst useCallCustomData = () => {\n    const { custom$ } = useCallState();\n    return useObservableValue(custom$);\n};\n/**\n * Returns the call's Egress information.\n */\nconst useCallEgress = () => {\n    const { egress$ } = useCallState();\n    return useObservableValue(egress$);\n};\n/**\n * Returns the call's Ingress information.\n */\nconst useCallIngress = () => {\n    const { ingress$ } = useCallState();\n    return useObservableValue(ingress$);\n};\n/**\n * Returns the data for the current call session.\n */\nconst useCallSession = () => {\n    const { session$ } = useCallState();\n    return useObservableValue(session$);\n};\n/**\n * Returns the call's settings.\n */\nconst useCallSettings = () => {\n    const { settings$ } = useCallState();\n    return useObservableValue(settings$);\n};\n/**\n * Returns whether the call has transcribing enabled.\n */\nconst useIsCallTranscribingInProgress = () => {\n    const { transcribing$ } = useCallState();\n    return useObservableValue(transcribing$);\n};\n/**\n * Returns information about the user who has marked this call as ended.\n */\nconst useCallEndedBy = () => {\n    const { endedBy$ } = useCallState();\n    return useObservableValue(endedBy$);\n};\n/**\n * Utility hook which provides a boolean indicating whether there is\n * a participant in the current call which shares their screen.\n *\n * @category Call State\n */\nconst useHasOngoingScreenShare = () => {\n    const { hasOngoingScreenShare$ } = useCallState();\n    return useObservableValue(hasOngoingScreenShare$);\n};\n/**\n * Utility hook which provides the latest stats report of the current call.\n *\n * The latest stats report of the current call.\n * When stats gathering is enabled, this observable will emit a new value\n * at a regular (configurable) interval.\n *\n * Consumers of this observable can implement their own batching logic\n * in case they want to show historical stats data.\n *\n * @category Call State\n */\nconst useCallStatsReport = () => {\n    const { callStatsReport$ } = useCallState();\n    return useObservableValue(callStatsReport$);\n};\n/**\n * Utility hook which provides the dominant speaker of the current call.\n *\n * @category Call State\n */\nconst useDominantSpeaker = () => {\n    const { dominantSpeaker$ } = useCallState();\n    return useObservableValue(dominantSpeaker$);\n};\n/**\n * Utility hook which provides a list of call members.\n *\n * @category Call State\n */\nconst useCallMembers = () => {\n    const { members$ } = useCallState();\n    return useObservableValue(members$);\n};\n/**\n * Utility hook providing the current calling state of the call. For example, `RINGING` or `JOINED`.\n *\n * @category Call State\n */\nconst useCallCallingState = () => {\n    const { callingState$ } = useCallState();\n    return useObservableValue(callingState$);\n};\n/**\n * Utility hook providing the actual start time of the current session.\n * Useful for calculating the call duration.\n *\n * @category Call State\n */\nconst useCallStartedAt = () => {\n    const { startedAt$ } = useCallState();\n    return useObservableValue(startedAt$);\n};\n/**\n * A hook which provides a list of all participants that have joined an active call.\n *\n * @category Call State\n *\n * @param options.sortBy - A comparator function to sort the participants by.\n * Make sure to memoize output of the `combineComparators` function\n * (or keep it out of component's scope if possible) before passing it down to this property.\n */\nconst useParticipants = ({ sortBy, } = {}) => {\n    const { participants$ } = useCallState();\n    const participants = useObservableValue(participants$);\n    return (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {\n        if (sortBy) {\n            return [...participants].sort(sortBy);\n        }\n        return participants;\n    }, [participants, sortBy]);\n};\n/**\n * A hook which provides a StreamVideoLocalParticipant object.\n * It signals that I have joined a call.\n *\n * @category Call State\n */\nconst useLocalParticipant = () => {\n    const { localParticipant$ } = useCallState();\n    return useObservableValue(localParticipant$);\n};\n/**\n * A hook which provides a list of all other participants than me that have joined an active call.\n *\n * @category Call State\n */\nconst useRemoteParticipants = () => {\n    const { remoteParticipants$ } = useCallState();\n    return useObservableValue(remoteParticipants$);\n};\n/**\n * Returns the approximate participant count of the active call.\n * This includes the anonymous users as well, and it is computed on the server.\n *\n * @category Call State\n */\nconst useParticipantCount = () => {\n    const { participantCount$ } = useCallState();\n    return useObservableValue(participantCount$);\n};\n/**\n * Returns the approximate anonymous participant count of the active call.\n * The regular participants are not included in this count. It is computed on the server.\n *\n * @category Call State\n */\nconst useAnonymousParticipantCount = () => {\n    const { anonymousParticipantCount$ } = useCallState();\n    return useObservableValue(anonymousParticipantCount$);\n};\n/**\n * Returns the generated thumbnail of the current call, if enabled in settings.\n */\nconst useCallThumbnail = () => {\n    const { thumbnails$ } = useCallState();\n    return useObservableValue(thumbnails$);\n};\n/**\n * A hook which returns the local participant's own capabilities.\n */\nconst useOwnCapabilities = () => {\n    const { ownCapabilities$ } = useCallState();\n    return useObservableValue(ownCapabilities$);\n};\n/**\n * Hook that returns true if the local participant has all the given permissions.\n *\n * @param permissions the permissions to check.\n */\nconst useHasPermissions = (...permissions) => {\n    const capabilities = useOwnCapabilities();\n    return permissions.every((permission) => capabilities?.includes(permission));\n};\n/**\n * Returns the camera state of the current call.\n *\n * @category Camera Manager State\n *\n */\nconst useCameraState = () => {\n    const call = useCall();\n    const { camera } = call;\n    const devices$ = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => camera.listDevices(), [camera]);\n    const { state } = camera;\n    const status = useObservableValue(state.status$);\n    const optimisticStatus = useObservableValue(state.optimisticStatus$);\n    const direction = useObservableValue(state.direction$);\n    const mediaStream = useObservableValue(state.mediaStream$);\n    const selectedDevice = useObservableValue(state.selectedDevice$);\n    const devices = useObservableValue(devices$, EMPTY_DEVICES_ARRAY);\n    const hasBrowserPermission = useObservableValue(state.hasBrowserPermission$);\n    const isMute = status !== 'enabled';\n    const optimisticIsMute = optimisticStatus !== 'enabled';\n    return {\n        camera,\n        status,\n        optimisticStatus,\n        isEnabled: status === 'enabled',\n        direction,\n        mediaStream,\n        devices,\n        hasBrowserPermission,\n        selectedDevice,\n        isMute,\n        optimisticIsMute,\n    };\n};\n/**\n * Returns the microphone state of the current call.\n *\n * @category Microphone Manager State\n */\nconst useMicrophoneState = () => {\n    const call = useCall();\n    const { microphone } = call;\n    const devices$ = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => microphone.listDevices(), [microphone]);\n    const { state } = microphone;\n    const status = useObservableValue(state.status$);\n    const optimisticStatus = useObservableValue(state.optimisticStatus$);\n    const mediaStream = useObservableValue(state.mediaStream$);\n    const selectedDevice = useObservableValue(state.selectedDevice$);\n    const devices = useObservableValue(devices$, EMPTY_DEVICES_ARRAY);\n    const hasBrowserPermission = useObservableValue(state.hasBrowserPermission$);\n    const isSpeakingWhileMuted = useObservableValue(state.speakingWhileMuted$);\n    const isMute = status !== 'enabled';\n    const optimisticIsMute = optimisticStatus !== 'enabled';\n    return {\n        microphone,\n        status,\n        optimisticStatus,\n        isEnabled: status === 'enabled',\n        mediaStream,\n        devices,\n        selectedDevice,\n        hasBrowserPermission,\n        isSpeakingWhileMuted,\n        isMute,\n        optimisticIsMute,\n    };\n};\n/**\n * Returns the speaker state of the current call.\n *\n * Note: This hook is not supported in React Native\n */\nconst useSpeakerState = () => {\n    if (isReactNative()) {\n        throw new Error('This feature is not supported in React Native. Please visit https://getstream.io/video/docs/reactnative/core/camera-and-microphone/#speaker-management for more details');\n    }\n    const call = useCall();\n    const { speaker } = call;\n    const devices$ = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => speaker.listDevices(), [speaker]);\n    const devices = useObservableValue(devices$, EMPTY_DEVICES_ARRAY);\n    const selectedDevice = useObservableValue(speaker.state.selectedDevice$);\n    return {\n        speaker,\n        devices,\n        selectedDevice,\n        isDeviceSelectionSupported: speaker.state.isDeviceSelectionSupported,\n    };\n};\n/**\n * Returns the Screen Share state of the current call.\n */\nconst useScreenShareState = () => {\n    const call = useCall();\n    const { screenShare } = call;\n    const status = useObservableValue(screenShare.state.status$);\n    const pendingStatus = useObservableValue(screenShare.state.optimisticStatus$);\n    const mediaStream = useObservableValue(screenShare.state.mediaStream$);\n    const isMute = status !== 'enabled';\n    const optimisticStatus = pendingStatus ?? status;\n    const optimisticIsMute = optimisticStatus !== 'enabled';\n    return {\n        screenShare,\n        mediaStream,\n        status,\n        optimisticStatus,\n        isMute,\n        optimisticIsMute,\n    };\n};\n/**\n * Returns incoming video settings for the current call, including\n * global and per-participant manual video quality overrides.\n */\nconst useIncomingVideoSettings = () => {\n    const call = useCall();\n    const settings = useObservableValue(call.dynascaleManager.incomingVideoSettings$);\n    return settings;\n};\n\nvar CallStateHooks = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    useAnonymousParticipantCount: useAnonymousParticipantCount,\n    useCallBlockedUserIds: useCallBlockedUserIds,\n    useCallCallingState: useCallCallingState,\n    useCallCreatedAt: useCallCreatedAt,\n    useCallCreatedBy: useCallCreatedBy,\n    useCallCustomData: useCallCustomData,\n    useCallEgress: useCallEgress,\n    useCallEndedAt: useCallEndedAt,\n    useCallEndedBy: useCallEndedBy,\n    useCallIngress: useCallIngress,\n    useCallMembers: useCallMembers,\n    useCallSession: useCallSession,\n    useCallSettings: useCallSettings,\n    useCallStartedAt: useCallStartedAt,\n    useCallStartsAt: useCallStartsAt,\n    useCallState: useCallState,\n    useCallStatsReport: useCallStatsReport,\n    useCallThumbnail: useCallThumbnail,\n    useCallUpdatedAt: useCallUpdatedAt,\n    useCameraState: useCameraState,\n    useDominantSpeaker: useDominantSpeaker,\n    useHasOngoingScreenShare: useHasOngoingScreenShare,\n    useHasPermissions: useHasPermissions,\n    useIncomingVideoSettings: useIncomingVideoSettings,\n    useIsCallHLSBroadcastingInProgress: useIsCallHLSBroadcastingInProgress,\n    useIsCallLive: useIsCallLive,\n    useIsCallRecordingInProgress: useIsCallRecordingInProgress,\n    useIsCallTranscribingInProgress: useIsCallTranscribingInProgress,\n    useLocalParticipant: useLocalParticipant,\n    useMicrophoneState: useMicrophoneState,\n    useOwnCapabilities: useOwnCapabilities,\n    useParticipantCount: useParticipantCount,\n    useParticipants: useParticipants,\n    useRemoteParticipants: useRemoteParticipants,\n    useScreenShareState: useScreenShareState,\n    useSpeakerState: useSpeakerState\n});\n\n/**\n * Utility hook which provides access to client's state store.\n */\nconst useStore = () => {\n    const client = useStreamVideoClient();\n    if (!client) {\n        throw new Error(`StreamVideoClient isn't initialized or this hook is called outside of <StreamVideo> context.`);\n    }\n    return client.state;\n};\n/**\n * Utility hook which provides a list of all notifications about created calls.\n * In the ring call settings, these calls can be outgoing (I have called somebody)\n * or incoming (somebody has called me).\n *\n * @category Client State\n */\nconst useCalls = () => {\n    const { calls$ } = useStore();\n    return useObservableValue(calls$);\n};\n/**\n * Returns the current connected user.\n *\n * @category Client State\n */\nconst useConnectedUser = () => {\n    const { connectedUser$ } = useStore();\n    return useObservableValue(connectedUser$);\n};\n\n/**\n * Custom hook for toggling call recording in a video call.\n *\n * This hook provides functionality to start and stop call recording,\n * along with state management for tracking the recording status\n * and the loading indicator while awaiting a response.\n */\nconst useToggleCallRecording = () => {\n    const call = useCall();\n    const isCallRecordingInProgress = useIsCallRecordingInProgress();\n    const [isAwaitingResponse, setIsAwaitingResponse] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // TODO: add permissions\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n        // we wait until call.recording_started/stopped event to flips the\n        // `isCallRecordingInProgress` state variable.\n        // Once the flip happens, we remove the loading indicator\n        setIsAwaitingResponse((isAwaiting) => {\n            if (isAwaiting)\n                return false;\n            return isAwaiting;\n        });\n    }, [isCallRecordingInProgress]);\n    const toggleCallRecording = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async () => {\n        try {\n            setIsAwaitingResponse(true);\n            if (isCallRecordingInProgress) {\n                await call?.stopRecording();\n            }\n            else {\n                await call?.startRecording();\n            }\n        }\n        catch (e) {\n            console.error(`Failed start recording`, e);\n        }\n    }, [call, isCallRecordingInProgress]);\n    return { toggleCallRecording, isAwaitingResponse, isCallRecordingInProgress };\n};\n\n/**\n * A hook-alike function that exposes all call state hooks.\n *\n * @category Call State\n */\nconst useCallStateHooks = () => CallStateHooks;\n\nconst Restricted = ({ canRequestOnly, hasPermissionsOnly, requiredGrants, requireAll = true, children, }) => {\n    const call = useCall();\n    const { useCallSettings, useOwnCapabilities } = useCallStateHooks();\n    const ownCapabilities = useOwnCapabilities();\n    const settings = useCallSettings();\n    const hasPermissions = requiredGrants[requireAll ? 'every' : 'some']((capability) => ownCapabilities?.includes(capability));\n    if (hasPermissionsOnly)\n        return hasPermissions ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: children }) : null;\n    const canRequest = requiredGrants.some((capability) => call?.permissionsContext.canRequest(capability, settings));\n    if (canRequestOnly)\n        return canRequest ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: children }) : null;\n    if (hasPermissions || canRequest)\n        return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: children });\n    return null;\n};\n\n\n//# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BzdHJlYW0taW8vdmlkZW8tcmVhY3QtYmluZGluZ3MvZGlzdC9pbmRleC5lcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBa0Q7QUFDMkM7QUFDL0Q7QUFDK0I7O0FBRTdELDBCQUEwQixvREFBYTtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksaUJBQWlCO0FBQzdCLFlBQVksc0RBQUcsK0JBQStCLGlDQUFpQztBQUMvRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxpREFBVTtBQUNyQjs7QUFFQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLENBQUMsSUFBSTs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRDtBQUN0RDtBQUNBO0FBQ0E7QUFDQSw0QkFBNEI7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvRUFBb0Usa0JBQWtCO0FBQ3RGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrREFBa0Qsb0JBQW9CO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLDZKQUE2SjtBQUM3Syw0QkFBNEIsOERBQXNCO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixvQkFBb0I7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSwyREFBMkQsbUJBQW1CO0FBQzlFLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsMEJBQTBCLG9EQUFhO0FBQ3ZDO0FBQ0EsQ0FBQztBQUNELDhCQUE4QiwrQkFBK0I7QUFD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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxhQUFhO0FBQ3pCLHFCQUFxQiw4Q0FBTztBQUM1QixZQUFZLFFBQVE7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxVQUFVO0FBQ3RCLHFCQUFxQiw4Q0FBTztBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxjQUFjO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFNBQVM7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksaUJBQWlCO0FBQzdCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3REFBd0QsK0NBQVE7QUFDaEU7QUFDQSxJQUFJLGdEQUFTO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMLGdDQUFnQyxrREFBVztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsYUFBYTtBQUNiOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxzQkFBc0Isa0ZBQWtGO0FBQ3hHO0FBQ0EsWUFBWSxzQ0FBc0M7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0Msc0RBQUcsQ0FBQyx1REFBUSxJQUFJLG9CQUFvQjtBQUNwRTtBQUNBO0FBQ0EsNEJBQTRCLHNEQUFHLENBQUMsdURBQVEsSUFBSSxvQkFBb0I7QUFDaEU7QUFDQSxlQUFlLHNEQUFHLENBQUMsdURBQVEsSUFBSSxvQkFBb0I7QUFDbkQ7QUFDQTs7QUFFdVQ7QUFDdlQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AaGVsc2EvYXBwLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9Ac3RyZWFtLWlvL3ZpZGVvLXJlYWN0LWJpbmRpbmdzL2Rpc3QvaW5kZXguZXMuanM/YTY1MSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBqc3gsIEZyYWdtZW50IH0gZnJvbSAncmVhY3QvanN4LXJ1bnRpbWUnO1xuaW1wb3J0IHsgY3JlYXRlQ29udGV4dCwgdXNlQ29udGV4dCwgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlTWVtbywgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgaTE4bmV4dCBmcm9tICdpMThuZXh0JztcbmltcG9ydCB7IFJ4VXRpbHMsIENhbGxTdGF0ZSB9IGZyb20gJ0BzdHJlYW0taW8vdmlkZW8tY2xpZW50JztcblxuY29uc3QgU3RyZWFtQ2FsbENvbnRleHQgPSBjcmVhdGVDb250ZXh0KHVuZGVmaW5lZCk7XG4vKipcbiAqIEEgcHJvdmlkZXIgZm9yIHRoZSBjYWxsIG9iamVjdC5cbiAqL1xuY29uc3QgU3RyZWFtQ2FsbFByb3ZpZGVyID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgeyBjYWxsLCBjaGlsZHJlbiB9ID0gcHJvcHM7XG4gICAgcmV0dXJuIChqc3goU3RyZWFtQ2FsbENvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IGNhbGwsIGNoaWxkcmVuOiBjaGlsZHJlbiB9KSk7XG59O1xuLyoqXG4gKiBBIGhvb2sgdG8gZ2V0IHRoZSBjYWxsIG9iamVjdCBmcm9tIHRoZSBjbG9zZXN0IHByb3ZpZGVyLlxuICovXG5jb25zdCB1c2VDYWxsID0gKCkgPT4ge1xuICAgIHJldHVybiB1c2VDb250ZXh0KFN0cmVhbUNhbGxDb250ZXh0KTtcbn07XG5cbmNvbnN0IG1hcFRvUmVnaXN0cnkgPSAodHJhbnNsYXRpb25zTWFwLCBuYW1lc3BhY2UpID0+IE9iamVjdC5lbnRyaWVzKHRyYW5zbGF0aW9uc01hcCkucmVkdWNlKChhY2MsIFtsbmcsIHRyYW5zbGF0aW9uc10pID0+IHtcbiAgICBhY2NbbG5nXSA9IHsgW25hbWVzcGFjZV06IHRyYW5zbGF0aW9ucyB9O1xuICAgIHJldHVybiBhY2M7XG59LCB7fSk7XG5cbmNvbnN0IERFRkFVTFRfTEFOR1VBR0UgPSAnZW4nO1xuY29uc3QgREVGQVVMVF9OQU1FU1BBQ0UgPSAnc3RyZWFtLXZpZGVvJztcbmNvbnN0IERFRkFVTFRfQ09ORklHID0ge1xuICAgIGRlYnVnOiBmYWxzZSxcbiAgICBjdXJyZW50TGFuZ3VhZ2U6IERFRkFVTFRfTEFOR1VBR0UsXG4gICAgZmFsbGJhY2tMYW5ndWFnZTogZmFsc2UsXG59O1xuY29uc3QgREVGQVVMVF9UUkFOU0xBVElPTlNfUkVHSVNUUlkgPSBtYXBUb1JlZ2lzdHJ5KHt9LCBERUZBVUxUX05BTUVTUEFDRSk7XG5jb25zdCBkZWZhdWx0VHJhbnNsYXRpb25GdW5jdGlvbiA9IChrZXkpID0+IGtleTtcbmNsYXNzIFN0cmVhbUkxOG4ge1xuICAgIC8qKiBTaW1wbGUgbG9nZ2VyIGZ1bmN0aW9uICovXG4gICAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIC8qKiBUcmFuc2xhdG9yIGZ1bmN0aW9uIHRoYXQgY29udmVydHMgdGhlIHByb3ZpZGVkIHN0cmluZyBpbnRvIGl0cyBlcXVpdmFsZW50IGluIHRoZSBjdXJyZW50IGxhbmd1YWdlLiAqL1xuICAgICAgICB0aGlzLnQgPSBkZWZhdWx0VHJhbnNsYXRpb25GdW5jdGlvbjtcbiAgICAgICAgdGhpcy5pbml0ID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB0aGlzLnQgPSBhd2FpdCB0aGlzLmkxOG5JbnN0YW5jZS5pbml0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEZhaWxlZCB0byBpbml0aWFsaXplIHRyYW5zbGF0aW9uczogJHtKU09OLnN0cmluZ2lmeShlKX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmNoYW5nZUxhbmd1YWdlID0gYXN5bmMgKGxhbmd1YWdlLCBvbkNoYW5nZSkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9jaGVja0lzSW5pdGlhbGl6ZWQoKSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAvLyBpMThuZXh0IGRldGVjdHMgdGhlIGxhbmd1YWdlLCBpZiBub25lIHByb3ZpZGVkLCBidXQgaXQgaXMgYmV0dGVyXG4gICAgICAgICAgICAvLyB0byBzaG93IHRoaXMgZGV0ZWN0aW9uIGhlcmUgZXhwbGljaXRseVxuICAgICAgICAgICAgY29uc3QgYnJvd3Nlckxhbmd1YWdlID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93Lm5hdmlnYXRvclxuICAgICAgICAgICAgICAgID8gd2luZG93Lm5hdmlnYXRvci5sYW5ndWFnZVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5pMThuSW5zdGFuY2UuY2hhbmdlTGFuZ3VhZ2UobGFuZ3VhZ2UgfHwgYnJvd3Nlckxhbmd1YWdlKTtcbiAgICAgICAgICAgIG9uQ2hhbmdlPy4odGhpcy5jdXJyZW50TGFuZ3VhZ2UpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnJlZ2lzdGVyVHJhbnNsYXRpb25zRm9yTGFuZ3VhZ2UgPSAoeyBsbmcsIHRyYW5zbGF0aW9ucywgfSkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9jaGVja0lzSW5pdGlhbGl6ZWQoKSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB0aGlzLmkxOG5JbnN0YW5jZS5hZGRSZXNvdXJjZUJ1bmRsZShsbmcsIERFRkFVTFRfTkFNRVNQQUNFLCB0cmFuc2xhdGlvbnMsIHRydWUsIHRydWUpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLl9jaGVja0lzSW5pdGlhbGl6ZWQgPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuaTE4bkluc3RhbmNlLmlzSW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ0kxOG4gaW5zdGFuY2UgaXMgbm90IGluaXRpYWxpemVkLiBDYWxsIHlvdXJTdHJlYW1JMThuSW5zdGFuY2UuaW5pdCgpLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaTE4bkluc3RhbmNlLmlzSW5pdGlhbGl6ZWQ7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHsgZGVidWcgPSBERUZBVUxUX0NPTkZJRy5kZWJ1ZywgY3VycmVudExhbmd1YWdlID0gREVGQVVMVF9DT05GSUcuY3VycmVudExhbmd1YWdlLCBmYWxsYmFja0xhbmd1YWdlID0gREVGQVVMVF9DT05GSUcuZmFsbGJhY2tMYW5ndWFnZSwgdHJhbnNsYXRpb25zT3ZlcnJpZGVzLCB9ID0gb3B0aW9ucztcbiAgICAgICAgdGhpcy5pMThuSW5zdGFuY2UgPSBpMThuZXh0LmNyZWF0ZUluc3RhbmNlKHtcbiAgICAgICAgICAgIGRlYnVnLFxuICAgICAgICAgICAgZGVmYXVsdE5TOiBERUZBVUxUX05BTUVTUEFDRSxcbiAgICAgICAgICAgIGZhbGxiYWNrTG5nOiBmYWxsYmFja0xhbmd1YWdlLFxuICAgICAgICAgICAgaW50ZXJwb2xhdGlvbjogeyBlc2NhcGVWYWx1ZTogZmFsc2UgfSxcbiAgICAgICAgICAgIGtleVNlcGFyYXRvcjogZmFsc2UsXG4gICAgICAgICAgICBsbmc6IGN1cnJlbnRMYW5ndWFnZSxcbiAgICAgICAgICAgIG5zU2VwYXJhdG9yOiBmYWxzZSxcbiAgICAgICAgICAgIHBhcnNlTWlzc2luZ0tleUhhbmRsZXI6IChrZXkpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4ga2V5O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlc291cmNlczogREVGQVVMVF9UUkFOU0xBVElPTlNfUkVHSVNUUlksXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAodHJhbnNsYXRpb25zT3ZlcnJpZGVzKSB7XG4gICAgICAgICAgICB0aGlzLmkxOG5JbnN0YW5jZS5vbignaW5pdGlhbGl6ZWQnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmVudHJpZXModHJhbnNsYXRpb25zT3ZlcnJpZGVzKS5mb3JFYWNoKChbbG5nLCB0cmFuc2xhdGlvbnNdKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVnaXN0ZXJUcmFuc2xhdGlvbnNGb3JMYW5ndWFnZSh7IGxuZywgdHJhbnNsYXRpb25zIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IGN1cnJlbnRMYW5ndWFnZSgpIHtcbiAgICAgICAgdGhpcy5fY2hlY2tJc0luaXRpYWxpemVkKCk7XG4gICAgICAgIHJldHVybiB0aGlzLmkxOG5JbnN0YW5jZS5sYW5ndWFnZTtcbiAgICB9XG4gICAgZ2V0IGlzSW5pdGlhbGl6ZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmkxOG5JbnN0YW5jZS5pc0luaXRpYWxpemVkO1xuICAgIH1cbn1cblxuY29uc3QgU3RyZWFtSTE4bkNvbnRleHQgPSBjcmVhdGVDb250ZXh0KHtcbiAgICB0OiBkZWZhdWx0VHJhbnNsYXRpb25GdW5jdGlvbixcbn0pO1xuY29uc3QgU3RyZWFtSTE4blByb3ZpZGVyID0gKHsgY2hpbGRyZW4sIC4uLmNyZWF0ZUkxOG5QYXJhbXMgfSkgPT4ge1xuICAgIGNvbnN0IHsgaTE4biwgdCB9ID0gdXNlQ3JlYXRlSTE4bihjcmVhdGVJMThuUGFyYW1zKTtcbiAgICByZXR1cm4gKGpzeChTdHJlYW1JMThuQ29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogeyB0LCBpMThuIH0sIGNoaWxkcmVuOiBjaGlsZHJlbiB9KSk7XG59O1xuY29uc3QgdXNlQ3JlYXRlSTE4biA9ICh7IGkxOG5JbnN0YW5jZSwgbGFuZ3VhZ2UsIGZhbGxiYWNrTGFuZ3VhZ2UsIHRyYW5zbGF0aW9uc092ZXJyaWRlcywgfSkgPT4ge1xuICAgIGNvbnN0IFtpMThuXSA9IHVzZVN0YXRlKCgpID0+IGkxOG5JbnN0YW5jZSB8fFxuICAgICAgICBuZXcgU3RyZWFtSTE4bih7XG4gICAgICAgICAgICBjdXJyZW50TGFuZ3VhZ2U6IGxhbmd1YWdlLFxuICAgICAgICAgICAgZmFsbGJhY2tMYW5ndWFnZSxcbiAgICAgICAgICAgIHRyYW5zbGF0aW9uc092ZXJyaWRlcyxcbiAgICAgICAgfSkpO1xuICAgIGNvbnN0IFt0LCBzZXRUcmFuc2xhdGlvbkZuXSA9IHVzZVN0YXRlKCgpID0+IGRlZmF1bHRUcmFuc2xhdGlvbkZ1bmN0aW9uKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBjb25zdCB7IGlzSW5pdGlhbGl6ZWQgfSA9IGkxOG47XG4gICAgICAgIGlmICghaXNJbml0aWFsaXplZCkge1xuICAgICAgICAgICAgaTE4bi5pbml0KCkudGhlbigoX2kxOG4pID0+IHNldFRyYW5zbGF0aW9uRm4oKCkgPT4gX2kxOG4uaTE4bkluc3RhbmNlLnQpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobGFuZ3VhZ2UgJiYgaTE4bj8uY3VycmVudExhbmd1YWdlICE9PSBsYW5ndWFnZSkge1xuICAgICAgICAgICAgaTE4bi5jaGFuZ2VMYW5ndWFnZShsYW5ndWFnZSkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdFcnJvciB3aGlsZSBjaGFuZ2luZyBsYW5ndWFnZScsIGVycik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0sIFtpMThuLCBpMThuSW5zdGFuY2UsIGxhbmd1YWdlLCB0cmFuc2xhdGlvbnNPdmVycmlkZXNdKTtcbiAgICByZXR1cm4geyBpMThuLCB0IH07XG59O1xuY29uc3QgdXNlSTE4biA9ICgpID0+IHVzZUNvbnRleHQoU3RyZWFtSTE4bkNvbnRleHQpO1xuXG5jb25zdCBTdHJlYW1WaWRlb0NvbnRleHQgPSBjcmVhdGVDb250ZXh0KHVuZGVmaW5lZCk7XG4vKipcbiAqIFN0cmVhbVZpZGVvIGlzIGEgcHJvdmlkZXIgY29tcG9uZW50IHdoaWNoIHNob3VsZCBiZSB1c2VkIHRvIHdyYXAgdGhlIGVudGlyZSBhcHBsaWNhdGlvbi5cbiAqIEl0IHByb3ZpZGVzIHRoZSBjbGllbnQgb2JqZWN0IHRvIGFsbCBjaGlsZHJlbiBjb21wb25lbnRzIGFuZCBpbml0aWFsaXplcyB0aGUgaTE4biBpbnN0YW5jZS5cbiAqICBAcGFyYW0gUHJvcHNXaXRoQ2hpbGRyZW48U3RyZWFtVmlkZW9Qcm9wcz5cbiAqICBAY2F0ZWdvcnkgQ2xpZW50IFN0YXRlXG4gKi9cbmNvbnN0IFN0cmVhbVZpZGVvUHJvdmlkZXIgPSAoeyBjaGlsZHJlbiwgY2xpZW50LCBpMThuSW5zdGFuY2UsIGxhbmd1YWdlLCB0cmFuc2xhdGlvbnNPdmVycmlkZXMsIH0pID0+IHtcbiAgICByZXR1cm4gKGpzeChTdHJlYW1WaWRlb0NvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IGNsaWVudCwgY2hpbGRyZW46IGpzeChTdHJlYW1JMThuUHJvdmlkZXIsIHsgaTE4bkluc3RhbmNlOiBpMThuSW5zdGFuY2UsIGxhbmd1YWdlOiBsYW5ndWFnZSwgdHJhbnNsYXRpb25zT3ZlcnJpZGVzOiB0cmFuc2xhdGlvbnNPdmVycmlkZXMsIGNoaWxkcmVuOiBjaGlsZHJlbiB9KSB9KSk7XG59O1xuLyoqXG4gKlxuICogQHJldHVybnNcbiAqXG4gKiBAY2F0ZWdvcnkgQ2xpZW50IFN0YXRlXG4gKi9cbmNvbnN0IHVzZVN0cmVhbVZpZGVvQ2xpZW50ID0gKCkgPT4ge1xuICAgIHJldHVybiB1c2VDb250ZXh0KFN0cmVhbVZpZGVvQ29udGV4dCk7XG59O1xuXG4vKipcbiAqIFV0aWxpdHkgaG9vayB3aGljaCBwcm92aWRlcyB0aGUgY3VycmVudCB2YWx1ZSBvZiB0aGUgZ2l2ZW4gb2JzZXJ2YWJsZS5cbiAqIEBpbnRlcm5hbFxuICpcbiAqIEBwYXJhbSBvYnNlcnZhYmxlJCB0aGUgb2JzZXJ2YWJsZSB0byByZWFkIGRhdGEgZnJvbS5cbiAqIEBwYXJhbSBkZWZhdWx0VmFsdWUgYSBkZWZhdWx0IHZhbHVlLiBVc2VkIHdoZW4gdGhlIG9ic2VydmFibGUgZGF0YSBjYW4ndCBiZSByZWFkIG9yIGVtaXRzIGFuIGVycm9yLlxuICovXG5jb25zdCB1c2VPYnNlcnZhYmxlVmFsdWUgPSAob2JzZXJ2YWJsZSQsIGRlZmF1bHRWYWx1ZSkgPT4ge1xuICAgIGNvbnN0IFt2YWx1ZSwgc2V0VmFsdWVdID0gdXNlU3RhdGUoKCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIFJ4VXRpbHMuZ2V0Q3VycmVudFZhbHVlKG9ic2VydmFibGUkKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGRlZmF1bHRWYWx1ZSA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IHN1YnNjcmlwdGlvbiA9IG9ic2VydmFibGUkLnN1YnNjcmliZSh7XG4gICAgICAgICAgICBuZXh0OiBzZXRWYWx1ZSxcbiAgICAgICAgICAgIGVycm9yOiAoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0FuIGVycm9yIG9jY3VycmVkIHdoaWxlIHJlYWRpbmcgYW4gb2JzZXJ2YWJsZScsIGVycik7XG4gICAgICAgICAgICAgICAgaWYgKGRlZmF1bHRWYWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgc2V0VmFsdWUoZGVmYXVsdFZhbHVlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgIH07XG4gICAgfSwgW2RlZmF1bHRWYWx1ZSwgb2JzZXJ2YWJsZSRdKTtcbiAgICByZXR1cm4gdmFsdWU7XG59O1xuXG4vKipcbiAqIENoZWNrcyB3aGV0aGVyIHdlIGFyZSB1c2luZyBSZWFjdCBOYXRpdmVcbiAqL1xuY29uc3QgaXNSZWFjdE5hdGl2ZSA9ICgpID0+IHtcbiAgICBpZiAodHlwZW9mIG5hdmlnYXRvciA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gbmF2aWdhdG9yLnByb2R1Y3Q/LnRvTG93ZXJDYXNlKCkgPT09ICdyZWFjdG5hdGl2ZSc7XG59O1xuXG4vLyBraW5kLW9mIG1lbW9pemVkLCB1c2VkIGFzIGEgZGVmYXVsdCB2YWx1ZVxuY29uc3QgRU1QVFlfREVWSUNFU19BUlJBWSA9IE9iamVjdC5mcmVlemUoW10pO1xuLyoqXG4gKiBVdGlsaXR5IGhvb2ssIHdoaWNoIHByb3ZpZGVzIHRoZSBjdXJyZW50IGNhbGwncyBzdGF0ZS5cbiAqXG4gKiBAY2F0ZWdvcnkgQ2FsbCBTdGF0ZVxuICovXG5jb25zdCB1c2VDYWxsU3RhdGUgPSAoKSA9PiB7XG4gICAgY29uc3QgY2FsbCA9IHVzZUNhbGwoKTtcbiAgICAvLyByZXR1cm4gYW4gZW1wdHkgYW5kIHVubGlua2VkIENhbGxTdGF0ZSBvYmplY3QgaWYgdGhlcmUgaXMgbm8gY2FsbCBpbiB0aGUgcHJvdmlkZXJcbiAgICAvLyB0aGlzIGVuc3VyZXMgdGhhdCB0aGUgaG9va3MgYWx3YXlzIHJldHVybiBhIHZhbHVlIGFuZCBtYW55IG51bGwgY2hlY2tzIGNhbiBiZSBhdm9pZGVkXG4gICAgaWYgKCFjYWxsKSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSAnWW91IGFyZSB1c2luZyB1c2VDYWxsU3RhdGUoKSBvdXRzaWRlIGEgQ2FsbCBjb250ZXh0LiAnICtcbiAgICAgICAgICAgICdQbGVhc2Ugd3JhcCB5b3VyIGNvbXBvbmVudCBpbiA8U3RyZWFtQ2FsbCAvPiBhbmQgcHJvdmlkZSBhIFwiY2FsbFwiIGluc3RhbmNlLic7XG4gICAgICAgIGNvbnNvbGUud2FybihtZXNzYWdlKTtcbiAgICAgICAgcmV0dXJuIG5ldyBDYWxsU3RhdGUoKTtcbiAgICB9XG4gICAgcmV0dXJuIGNhbGwuc3RhdGU7XG59O1xuLyoqXG4gKiBVdGlsaXR5IGhvb2sgd2hpY2ggcHJvdmlkZXMgaW5mb3JtYXRpb24gd2hldGhlciB0aGUgY3VycmVudCBjYWxsIGlzIGJlaW5nIHJlY29yZGVkLiBJdCB3aWxsIHJldHVybiBgdHJ1ZWAgaWYgdGhlIGNhbGwgaXMgYmVpbmcgcmVjb3JkZWQuXG4gKlxuICogQGNhdGVnb3J5IENhbGwgU3RhdGVcbiAqL1xuY29uc3QgdXNlSXNDYWxsUmVjb3JkaW5nSW5Qcm9ncmVzcyA9ICgpID0+IHtcbiAgICBjb25zdCB7IHJlY29yZGluZyQgfSA9IHVzZUNhbGxTdGF0ZSgpO1xuICAgIHJldHVybiB1c2VPYnNlcnZhYmxlVmFsdWUocmVjb3JkaW5nJCk7XG59O1xuLyoqXG4gKiBVdGlsaXR5IGhvb2sgd2hpY2ggcHJvdmlkZXMgaW5mb3JtYXRpb24gd2hldGhlciB0aGUgY3VycmVudCBjYWxsIGlzIGJyb2FkY2FzdGluZy5cbiAqXG4gKiBAY2F0ZWdvcnkgQ2FsbCBTdGF0ZVxuICovXG5jb25zdCB1c2VJc0NhbGxITFNCcm9hZGNhc3RpbmdJblByb2dyZXNzID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgZWdyZXNzJCB9ID0gdXNlQ2FsbFN0YXRlKCk7XG4gICAgY29uc3QgZWdyZXNzID0gdXNlT2JzZXJ2YWJsZVZhbHVlKGVncmVzcyQpO1xuICAgIGlmICghZWdyZXNzKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIGVncmVzcy5icm9hZGNhc3Rpbmc7XG59O1xuLyoqXG4gKiBVdGlsaXR5IGhvb2sgd2hpY2ggcHJvdmlkZXMgaW5mb3JtYXRpb24gd2hldGhlciB0aGUgY3VycmVudCBjYWxsIGlzIGxpdmUuXG4gKlxuICogQGNhdGVnb3J5IENhbGwgU3RhdGVcbiAqL1xuY29uc3QgdXNlSXNDYWxsTGl2ZSA9ICgpID0+IHtcbiAgICBjb25zdCB7IGJhY2tzdGFnZSQgfSA9IHVzZUNhbGxTdGF0ZSgpO1xuICAgIGNvbnN0IGlzQmFja3N0YWdlT24gPSB1c2VPYnNlcnZhYmxlVmFsdWUoYmFja3N0YWdlJCk7XG4gICAgcmV0dXJuICFpc0JhY2tzdGFnZU9uO1xufTtcbi8qKlxuICogUmV0dXJucyB0aGUgbGlzdCBvZiBibG9ja2VkIHVzZXJzIGluIHRoZSBjdXJyZW50IGNhbGwuXG4gKi9cbmNvbnN0IHVzZUNhbGxCbG9ja2VkVXNlcklkcyA9ICgpID0+IHtcbiAgICBjb25zdCB7IGJsb2NrZWRVc2VySWRzJCB9ID0gdXNlQ2FsbFN0YXRlKCk7XG4gICAgcmV0dXJuIHVzZU9ic2VydmFibGVWYWx1ZShibG9ja2VkVXNlcklkcyQpO1xufTtcbi8qKlxuICogUmV0dXJucyB0aGUgdGltZXN0YW1wIHdoZW4gdGhpcyBjYWxsIHdhcyBjcmVhdGVkLlxuICovXG5jb25zdCB1c2VDYWxsQ3JlYXRlZEF0ID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgY3JlYXRlZEF0JCB9ID0gdXNlQ2FsbFN0YXRlKCk7XG4gICAgcmV0dXJuIHVzZU9ic2VydmFibGVWYWx1ZShjcmVhdGVkQXQkKTtcbn07XG4vKipcbiAqIFJldHVybnMgdGhlIHRpbWVzdGFtcCB3aGVuIHRoaXMgY2FsbCB3YXMgZW5kZWQuXG4gKi9cbmNvbnN0IHVzZUNhbGxFbmRlZEF0ID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgZW5kZWRBdCQgfSA9IHVzZUNhbGxTdGF0ZSgpO1xuICAgIHJldHVybiB1c2VPYnNlcnZhYmxlVmFsdWUoZW5kZWRBdCQpO1xufTtcbi8qKlxuICogUmV0dXJucyB0aGUgdGltZXN0YW1wIHRlbGxpbmcgd2hlbiB0aGUgY2FsbCBpcyBzY2hlZHVsZWQgdG8gc3RhcnQuXG4gKi9cbmNvbnN0IHVzZUNhbGxTdGFydHNBdCA9ICgpID0+IHtcbiAgICBjb25zdCB7IHN0YXJ0c0F0JCB9ID0gdXNlQ2FsbFN0YXRlKCk7XG4gICAgcmV0dXJuIHVzZU9ic2VydmFibGVWYWx1ZShzdGFydHNBdCQpO1xufTtcbi8qKlxuICogUmV0dXJucyB0aGUgdGltZXN0YW1wIHdoZW4gdGhpcyBjYWxsIHdhcyB1cGRhdGVkLlxuICovXG5jb25zdCB1c2VDYWxsVXBkYXRlZEF0ID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgdXBkYXRlZEF0JCB9ID0gdXNlQ2FsbFN0YXRlKCk7XG4gICAgcmV0dXJuIHVzZU9ic2VydmFibGVWYWx1ZSh1cGRhdGVkQXQkKTtcbn07XG4vKipcbiAqIFJldHVybnMgdGhlIGluZm9ybWF0aW9uIGFib3V0IHRoZSBjYWxsJ3MgY3JlYXRvci5cbiAqL1xuY29uc3QgdXNlQ2FsbENyZWF0ZWRCeSA9ICgpID0+IHtcbiAgICBjb25zdCB7IGNyZWF0ZWRCeSQgfSA9IHVzZUNhbGxTdGF0ZSgpO1xuICAgIHJldHVybiB1c2VPYnNlcnZhYmxlVmFsdWUoY3JlYXRlZEJ5JCk7XG59O1xuLyoqXG4gKiBSZXR1cm5zIHRoZSBjYWxsJ3MgY3VzdG9tIGRhdGEuXG4gKi9cbmNvbnN0IHVzZUNhbGxDdXN0b21EYXRhID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgY3VzdG9tJCB9ID0gdXNlQ2FsbFN0YXRlKCk7XG4gICAgcmV0dXJuIHVzZU9ic2VydmFibGVWYWx1ZShjdXN0b20kKTtcbn07XG4vKipcbiAqIFJldHVybnMgdGhlIGNhbGwncyBFZ3Jlc3MgaW5mb3JtYXRpb24uXG4gKi9cbmNvbnN0IHVzZUNhbGxFZ3Jlc3MgPSAoKSA9PiB7XG4gICAgY29uc3QgeyBlZ3Jlc3MkIH0gPSB1c2VDYWxsU3RhdGUoKTtcbiAgICByZXR1cm4gdXNlT2JzZXJ2YWJsZVZhbHVlKGVncmVzcyQpO1xufTtcbi8qKlxuICogUmV0dXJucyB0aGUgY2FsbCdzIEluZ3Jlc3MgaW5mb3JtYXRpb24uXG4gKi9cbmNvbnN0IHVzZUNhbGxJbmdyZXNzID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgaW5ncmVzcyQgfSA9IHVzZUNhbGxTdGF0ZSgpO1xuICAgIHJldHVybiB1c2VPYnNlcnZhYmxlVmFsdWUoaW5ncmVzcyQpO1xufTtcbi8qKlxuICogUmV0dXJucyB0aGUgZGF0YSBmb3IgdGhlIGN1cnJlbnQgY2FsbCBzZXNzaW9uLlxuICovXG5jb25zdCB1c2VDYWxsU2Vzc2lvbiA9ICgpID0+IHtcbiAgICBjb25zdCB7IHNlc3Npb24kIH0gPSB1c2VDYWxsU3RhdGUoKTtcbiAgICByZXR1cm4gdXNlT2JzZXJ2YWJsZVZhbHVlKHNlc3Npb24kKTtcbn07XG4vKipcbiAqIFJldHVybnMgdGhlIGNhbGwncyBzZXR0aW5ncy5cbiAqL1xuY29uc3QgdXNlQ2FsbFNldHRpbmdzID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgc2V0dGluZ3MkIH0gPSB1c2VDYWxsU3RhdGUoKTtcbiAgICByZXR1cm4gdXNlT2JzZXJ2YWJsZVZhbHVlKHNldHRpbmdzJCk7XG59O1xuLyoqXG4gKiBSZXR1cm5zIHdoZXRoZXIgdGhlIGNhbGwgaGFzIHRyYW5zY3JpYmluZyBlbmFibGVkLlxuICovXG5jb25zdCB1c2VJc0NhbGxUcmFuc2NyaWJpbmdJblByb2dyZXNzID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgdHJhbnNjcmliaW5nJCB9ID0gdXNlQ2FsbFN0YXRlKCk7XG4gICAgcmV0dXJuIHVzZU9ic2VydmFibGVWYWx1ZSh0cmFuc2NyaWJpbmckKTtcbn07XG4vKipcbiAqIFJldHVybnMgaW5mb3JtYXRpb24gYWJvdXQgdGhlIHVzZXIgd2hvIGhhcyBtYXJrZWQgdGhpcyBjYWxsIGFzIGVuZGVkLlxuICovXG5jb25zdCB1c2VDYWxsRW5kZWRCeSA9ICgpID0+IHtcbiAgICBjb25zdCB7IGVuZGVkQnkkIH0gPSB1c2VDYWxsU3RhdGUoKTtcbiAgICByZXR1cm4gdXNlT2JzZXJ2YWJsZVZhbHVlKGVuZGVkQnkkKTtcbn07XG4vKipcbiAqIFV0aWxpdHkgaG9vayB3aGljaCBwcm92aWRlcyBhIGJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRoZXJlIGlzXG4gKiBhIHBhcnRpY2lwYW50IGluIHRoZSBjdXJyZW50IGNhbGwgd2hpY2ggc2hhcmVzIHRoZWlyIHNjcmVlbi5cbiAqXG4gKiBAY2F0ZWdvcnkgQ2FsbCBTdGF0ZVxuICovXG5jb25zdCB1c2VIYXNPbmdvaW5nU2NyZWVuU2hhcmUgPSAoKSA9PiB7XG4gICAgY29uc3QgeyBoYXNPbmdvaW5nU2NyZWVuU2hhcmUkIH0gPSB1c2VDYWxsU3RhdGUoKTtcbiAgICByZXR1cm4gdXNlT2JzZXJ2YWJsZVZhbHVlKGhhc09uZ29pbmdTY3JlZW5TaGFyZSQpO1xufTtcbi8qKlxuICogVXRpbGl0eSBob29rIHdoaWNoIHByb3ZpZGVzIHRoZSBsYXRlc3Qgc3RhdHMgcmVwb3J0IG9mIHRoZSBjdXJyZW50IGNhbGwuXG4gKlxuICogVGhlIGxhdGVzdCBzdGF0cyByZXBvcnQgb2YgdGhlIGN1cnJlbnQgY2FsbC5cbiAqIFdoZW4gc3RhdHMgZ2F0aGVyaW5nIGlzIGVuYWJsZWQsIHRoaXMgb2JzZXJ2YWJsZSB3aWxsIGVtaXQgYSBuZXcgdmFsdWVcbiAqIGF0IGEgcmVndWxhciAoY29uZmlndXJhYmxlKSBpbnRlcnZhbC5cbiAqXG4gKiBDb25zdW1lcnMgb2YgdGhpcyBvYnNlcnZhYmxlIGNhbiBpbXBsZW1lbnQgdGhlaXIgb3duIGJhdGNoaW5nIGxvZ2ljXG4gKiBpbiBjYXNlIHRoZXkgd2FudCB0byBzaG93IGhpc3RvcmljYWwgc3RhdHMgZGF0YS5cbiAqXG4gKiBAY2F0ZWdvcnkgQ2FsbCBTdGF0ZVxuICovXG5jb25zdCB1c2VDYWxsU3RhdHNSZXBvcnQgPSAoKSA9PiB7XG4gICAgY29uc3QgeyBjYWxsU3RhdHNSZXBvcnQkIH0gPSB1c2VDYWxsU3RhdGUoKTtcbiAgICByZXR1cm4gdXNlT2JzZXJ2YWJsZVZhbHVlKGNhbGxTdGF0c1JlcG9ydCQpO1xufTtcbi8qKlxuICogVXRpbGl0eSBob29rIHdoaWNoIHByb3ZpZGVzIHRoZSBkb21pbmFudCBzcGVha2VyIG9mIHRoZSBjdXJyZW50IGNhbGwuXG4gKlxuICogQGNhdGVnb3J5IENhbGwgU3RhdGVcbiAqL1xuY29uc3QgdXNlRG9taW5hbnRTcGVha2VyID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgZG9taW5hbnRTcGVha2VyJCB9ID0gdXNlQ2FsbFN0YXRlKCk7XG4gICAgcmV0dXJuIHVzZU9ic2VydmFibGVWYWx1ZShkb21pbmFudFNwZWFrZXIkKTtcbn07XG4vKipcbiAqIFV0aWxpdHkgaG9vayB3aGljaCBwcm92aWRlcyBhIGxpc3Qgb2YgY2FsbCBtZW1iZXJzLlxuICpcbiAqIEBjYXRlZ29yeSBDYWxsIFN0YXRlXG4gKi9cbmNvbnN0IHVzZUNhbGxNZW1iZXJzID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgbWVtYmVycyQgfSA9IHVzZUNhbGxTdGF0ZSgpO1xuICAgIHJldHVybiB1c2VPYnNlcnZhYmxlVmFsdWUobWVtYmVycyQpO1xufTtcbi8qKlxuICogVXRpbGl0eSBob29rIHByb3ZpZGluZyB0aGUgY3VycmVudCBjYWxsaW5nIHN0YXRlIG9mIHRoZSBjYWxsLiBGb3IgZXhhbXBsZSwgYFJJTkdJTkdgIG9yIGBKT0lORURgLlxuICpcbiAqIEBjYXRlZ29yeSBDYWxsIFN0YXRlXG4gKi9cbmNvbnN0IHVzZUNhbGxDYWxsaW5nU3RhdGUgPSAoKSA9PiB7XG4gICAgY29uc3QgeyBjYWxsaW5nU3RhdGUkIH0gPSB1c2VDYWxsU3RhdGUoKTtcbiAgICByZXR1cm4gdXNlT2JzZXJ2YWJsZVZhbHVlKGNhbGxpbmdTdGF0ZSQpO1xufTtcbi8qKlxuICogVXRpbGl0eSBob29rIHByb3ZpZGluZyB0aGUgYWN0dWFsIHN0YXJ0IHRpbWUgb2YgdGhlIGN1cnJlbnQgc2Vzc2lvbi5cbiAqIFVzZWZ1bCBmb3IgY2FsY3VsYXRpbmcgdGhlIGNhbGwgZHVyYXRpb24uXG4gKlxuICogQGNhdGVnb3J5IENhbGwgU3RhdGVcbiAqL1xuY29uc3QgdXNlQ2FsbFN0YXJ0ZWRBdCA9ICgpID0+IHtcbiAgICBjb25zdCB7IHN0YXJ0ZWRBdCQgfSA9IHVzZUNhbGxTdGF0ZSgpO1xuICAgIHJldHVybiB1c2VPYnNlcnZhYmxlVmFsdWUoc3RhcnRlZEF0JCk7XG59O1xuLyoqXG4gKiBBIGhvb2sgd2hpY2ggcHJvdmlkZXMgYSBsaXN0IG9mIGFsbCBwYXJ0aWNpcGFudHMgdGhhdCBoYXZlIGpvaW5lZCBhbiBhY3RpdmUgY2FsbC5cbiAqXG4gKiBAY2F0ZWdvcnkgQ2FsbCBTdGF0ZVxuICpcbiAqIEBwYXJhbSBvcHRpb25zLnNvcnRCeSAtIEEgY29tcGFyYXRvciBmdW5jdGlvbiB0byBzb3J0IHRoZSBwYXJ0aWNpcGFudHMgYnkuXG4gKiBNYWtlIHN1cmUgdG8gbWVtb2l6ZSBvdXRwdXQgb2YgdGhlIGBjb21iaW5lQ29tcGFyYXRvcnNgIGZ1bmN0aW9uXG4gKiAob3Iga2VlcCBpdCBvdXQgb2YgY29tcG9uZW50J3Mgc2NvcGUgaWYgcG9zc2libGUpIGJlZm9yZSBwYXNzaW5nIGl0IGRvd24gdG8gdGhpcyBwcm9wZXJ0eS5cbiAqL1xuY29uc3QgdXNlUGFydGljaXBhbnRzID0gKHsgc29ydEJ5LCB9ID0ge30pID0+IHtcbiAgICBjb25zdCB7IHBhcnRpY2lwYW50cyQgfSA9IHVzZUNhbGxTdGF0ZSgpO1xuICAgIGNvbnN0IHBhcnRpY2lwYW50cyA9IHVzZU9ic2VydmFibGVWYWx1ZShwYXJ0aWNpcGFudHMkKTtcbiAgICByZXR1cm4gdXNlTWVtbygoKSA9PiB7XG4gICAgICAgIGlmIChzb3J0QnkpIHtcbiAgICAgICAgICAgIHJldHVybiBbLi4ucGFydGljaXBhbnRzXS5zb3J0KHNvcnRCeSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBhcnRpY2lwYW50cztcbiAgICB9LCBbcGFydGljaXBhbnRzLCBzb3J0QnldKTtcbn07XG4vKipcbiAqIEEgaG9vayB3aGljaCBwcm92aWRlcyBhIFN0cmVhbVZpZGVvTG9jYWxQYXJ0aWNpcGFudCBvYmplY3QuXG4gKiBJdCBzaWduYWxzIHRoYXQgSSBoYXZlIGpvaW5lZCBhIGNhbGwuXG4gKlxuICogQGNhdGVnb3J5IENhbGwgU3RhdGVcbiAqL1xuY29uc3QgdXNlTG9jYWxQYXJ0aWNpcGFudCA9ICgpID0+IHtcbiAgICBjb25zdCB7IGxvY2FsUGFydGljaXBhbnQkIH0gPSB1c2VDYWxsU3RhdGUoKTtcbiAgICByZXR1cm4gdXNlT2JzZXJ2YWJsZVZhbHVlKGxvY2FsUGFydGljaXBhbnQkKTtcbn07XG4vKipcbiAqIEEgaG9vayB3aGljaCBwcm92aWRlcyBhIGxpc3Qgb2YgYWxsIG90aGVyIHBhcnRpY2lwYW50cyB0aGFuIG1lIHRoYXQgaGF2ZSBqb2luZWQgYW4gYWN0aXZlIGNhbGwuXG4gKlxuICogQGNhdGVnb3J5IENhbGwgU3RhdGVcbiAqL1xuY29uc3QgdXNlUmVtb3RlUGFydGljaXBhbnRzID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgcmVtb3RlUGFydGljaXBhbnRzJCB9ID0gdXNlQ2FsbFN0YXRlKCk7XG4gICAgcmV0dXJuIHVzZU9ic2VydmFibGVWYWx1ZShyZW1vdGVQYXJ0aWNpcGFudHMkKTtcbn07XG4vKipcbiAqIFJldHVybnMgdGhlIGFwcHJveGltYXRlIHBhcnRpY2lwYW50IGNvdW50IG9mIHRoZSBhY3RpdmUgY2FsbC5cbiAqIFRoaXMgaW5jbHVkZXMgdGhlIGFub255bW91cyB1c2VycyBhcyB3ZWxsLCBhbmQgaXQgaXMgY29tcHV0ZWQgb24gdGhlIHNlcnZlci5cbiAqXG4gKiBAY2F0ZWdvcnkgQ2FsbCBTdGF0ZVxuICovXG5jb25zdCB1c2VQYXJ0aWNpcGFudENvdW50ID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgcGFydGljaXBhbnRDb3VudCQgfSA9IHVzZUNhbGxTdGF0ZSgpO1xuICAgIHJldHVybiB1c2VPYnNlcnZhYmxlVmFsdWUocGFydGljaXBhbnRDb3VudCQpO1xufTtcbi8qKlxuICogUmV0dXJucyB0aGUgYXBwcm94aW1hdGUgYW5vbnltb3VzIHBhcnRpY2lwYW50IGNvdW50IG9mIHRoZSBhY3RpdmUgY2FsbC5cbiAqIFRoZSByZWd1bGFyIHBhcnRpY2lwYW50cyBhcmUgbm90IGluY2x1ZGVkIGluIHRoaXMgY291bnQuIEl0IGlzIGNvbXB1dGVkIG9uIHRoZSBzZXJ2ZXIuXG4gKlxuICogQGNhdGVnb3J5IENhbGwgU3RhdGVcbiAqL1xuY29uc3QgdXNlQW5vbnltb3VzUGFydGljaXBhbnRDb3VudCA9ICgpID0+IHtcbiAgICBjb25zdCB7IGFub255bW91c1BhcnRpY2lwYW50Q291bnQkIH0gPSB1c2VDYWxsU3RhdGUoKTtcbiAgICByZXR1cm4gdXNlT2JzZXJ2YWJsZVZhbHVlKGFub255bW91c1BhcnRpY2lwYW50Q291bnQkKTtcbn07XG4vKipcbiAqIFJldHVybnMgdGhlIGdlbmVyYXRlZCB0aHVtYm5haWwgb2YgdGhlIGN1cnJlbnQgY2FsbCwgaWYgZW5hYmxlZCBpbiBzZXR0aW5ncy5cbiAqL1xuY29uc3QgdXNlQ2FsbFRodW1ibmFpbCA9ICgpID0+IHtcbiAgICBjb25zdCB7IHRodW1ibmFpbHMkIH0gPSB1c2VDYWxsU3RhdGUoKTtcbiAgICByZXR1cm4gdXNlT2JzZXJ2YWJsZVZhbHVlKHRodW1ibmFpbHMkKTtcbn07XG4vKipcbiAqIEEgaG9vayB3aGljaCByZXR1cm5zIHRoZSBsb2NhbCBwYXJ0aWNpcGFudCdzIG93biBjYXBhYmlsaXRpZXMuXG4gKi9cbmNvbnN0IHVzZU93bkNhcGFiaWxpdGllcyA9ICgpID0+IHtcbiAgICBjb25zdCB7IG93bkNhcGFiaWxpdGllcyQgfSA9IHVzZUNhbGxTdGF0ZSgpO1xuICAgIHJldHVybiB1c2VPYnNlcnZhYmxlVmFsdWUob3duQ2FwYWJpbGl0aWVzJCk7XG59O1xuLyoqXG4gKiBIb29rIHRoYXQgcmV0dXJucyB0cnVlIGlmIHRoZSBsb2NhbCBwYXJ0aWNpcGFudCBoYXMgYWxsIHRoZSBnaXZlbiBwZXJtaXNzaW9ucy5cbiAqXG4gKiBAcGFyYW0gcGVybWlzc2lvbnMgdGhlIHBlcm1pc3Npb25zIHRvIGNoZWNrLlxuICovXG5jb25zdCB1c2VIYXNQZXJtaXNzaW9ucyA9ICguLi5wZXJtaXNzaW9ucykgPT4ge1xuICAgIGNvbnN0IGNhcGFiaWxpdGllcyA9IHVzZU93bkNhcGFiaWxpdGllcygpO1xuICAgIHJldHVybiBwZXJtaXNzaW9ucy5ldmVyeSgocGVybWlzc2lvbikgPT4gY2FwYWJpbGl0aWVzPy5pbmNsdWRlcyhwZXJtaXNzaW9uKSk7XG59O1xuLyoqXG4gKiBSZXR1cm5zIHRoZSBjYW1lcmEgc3RhdGUgb2YgdGhlIGN1cnJlbnQgY2FsbC5cbiAqXG4gKiBAY2F0ZWdvcnkgQ2FtZXJhIE1hbmFnZXIgU3RhdGVcbiAqXG4gKi9cbmNvbnN0IHVzZUNhbWVyYVN0YXRlID0gKCkgPT4ge1xuICAgIGNvbnN0IGNhbGwgPSB1c2VDYWxsKCk7XG4gICAgY29uc3QgeyBjYW1lcmEgfSA9IGNhbGw7XG4gICAgY29uc3QgZGV2aWNlcyQgPSB1c2VNZW1vKCgpID0+IGNhbWVyYS5saXN0RGV2aWNlcygpLCBbY2FtZXJhXSk7XG4gICAgY29uc3QgeyBzdGF0ZSB9ID0gY2FtZXJhO1xuICAgIGNvbnN0IHN0YXR1cyA9IHVzZU9ic2VydmFibGVWYWx1ZShzdGF0ZS5zdGF0dXMkKTtcbiAgICBjb25zdCBvcHRpbWlzdGljU3RhdHVzID0gdXNlT2JzZXJ2YWJsZVZhbHVlKHN0YXRlLm9wdGltaXN0aWNTdGF0dXMkKTtcbiAgICBjb25zdCBkaXJlY3Rpb24gPSB1c2VPYnNlcnZhYmxlVmFsdWUoc3RhdGUuZGlyZWN0aW9uJCk7XG4gICAgY29uc3QgbWVkaWFTdHJlYW0gPSB1c2VPYnNlcnZhYmxlVmFsdWUoc3RhdGUubWVkaWFTdHJlYW0kKTtcbiAgICBjb25zdCBzZWxlY3RlZERldmljZSA9IHVzZU9ic2VydmFibGVWYWx1ZShzdGF0ZS5zZWxlY3RlZERldmljZSQpO1xuICAgIGNvbnN0IGRldmljZXMgPSB1c2VPYnNlcnZhYmxlVmFsdWUoZGV2aWNlcyQsIEVNUFRZX0RFVklDRVNfQVJSQVkpO1xuICAgIGNvbnN0IGhhc0Jyb3dzZXJQZXJtaXNzaW9uID0gdXNlT2JzZXJ2YWJsZVZhbHVlKHN0YXRlLmhhc0Jyb3dzZXJQZXJtaXNzaW9uJCk7XG4gICAgY29uc3QgaXNNdXRlID0gc3RhdHVzICE9PSAnZW5hYmxlZCc7XG4gICAgY29uc3Qgb3B0aW1pc3RpY0lzTXV0ZSA9IG9wdGltaXN0aWNTdGF0dXMgIT09ICdlbmFibGVkJztcbiAgICByZXR1cm4ge1xuICAgICAgICBjYW1lcmEsXG4gICAgICAgIHN0YXR1cyxcbiAgICAgICAgb3B0aW1pc3RpY1N0YXR1cyxcbiAgICAgICAgaXNFbmFibGVkOiBzdGF0dXMgPT09ICdlbmFibGVkJyxcbiAgICAgICAgZGlyZWN0aW9uLFxuICAgICAgICBtZWRpYVN0cmVhbSxcbiAgICAgICAgZGV2aWNlcyxcbiAgICAgICAgaGFzQnJvd3NlclBlcm1pc3Npb24sXG4gICAgICAgIHNlbGVjdGVkRGV2aWNlLFxuICAgICAgICBpc011dGUsXG4gICAgICAgIG9wdGltaXN0aWNJc011dGUsXG4gICAgfTtcbn07XG4vKipcbiAqIFJldHVybnMgdGhlIG1pY3JvcGhvbmUgc3RhdGUgb2YgdGhlIGN1cnJlbnQgY2FsbC5cbiAqXG4gKiBAY2F0ZWdvcnkgTWljcm9waG9uZSBNYW5hZ2VyIFN0YXRlXG4gKi9cbmNvbnN0IHVzZU1pY3JvcGhvbmVTdGF0ZSA9ICgpID0+IHtcbiAgICBjb25zdCBjYWxsID0gdXNlQ2FsbCgpO1xuICAgIGNvbnN0IHsgbWljcm9waG9uZSB9ID0gY2FsbDtcbiAgICBjb25zdCBkZXZpY2VzJCA9IHVzZU1lbW8oKCkgPT4gbWljcm9waG9uZS5saXN0RGV2aWNlcygpLCBbbWljcm9waG9uZV0pO1xuICAgIGNvbnN0IHsgc3RhdGUgfSA9IG1pY3JvcGhvbmU7XG4gICAgY29uc3Qgc3RhdHVzID0gdXNlT2JzZXJ2YWJsZVZhbHVlKHN0YXRlLnN0YXR1cyQpO1xuICAgIGNvbnN0IG9wdGltaXN0aWNTdGF0dXMgPSB1c2VPYnNlcnZhYmxlVmFsdWUoc3RhdGUub3B0aW1pc3RpY1N0YXR1cyQpO1xuICAgIGNvbnN0IG1lZGlhU3RyZWFtID0gdXNlT2JzZXJ2YWJsZVZhbHVlKHN0YXRlLm1lZGlhU3RyZWFtJCk7XG4gICAgY29uc3Qgc2VsZWN0ZWREZXZpY2UgPSB1c2VPYnNlcnZhYmxlVmFsdWUoc3RhdGUuc2VsZWN0ZWREZXZpY2UkKTtcbiAgICBjb25zdCBkZXZpY2VzID0gdXNlT2JzZXJ2YWJsZVZhbHVlKGRldmljZXMkLCBFTVBUWV9ERVZJQ0VTX0FSUkFZKTtcbiAgICBjb25zdCBoYXNCcm93c2VyUGVybWlzc2lvbiA9IHVzZU9ic2VydmFibGVWYWx1ZShzdGF0ZS5oYXNCcm93c2VyUGVybWlzc2lvbiQpO1xuICAgIGNvbnN0IGlzU3BlYWtpbmdXaGlsZU11dGVkID0gdXNlT2JzZXJ2YWJsZVZhbHVlKHN0YXRlLnNwZWFraW5nV2hpbGVNdXRlZCQpO1xuICAgIGNvbnN0IGlzTXV0ZSA9IHN0YXR1cyAhPT0gJ2VuYWJsZWQnO1xuICAgIGNvbnN0IG9wdGltaXN0aWNJc011dGUgPSBvcHRpbWlzdGljU3RhdHVzICE9PSAnZW5hYmxlZCc7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbWljcm9waG9uZSxcbiAgICAgICAgc3RhdHVzLFxuICAgICAgICBvcHRpbWlzdGljU3RhdHVzLFxuICAgICAgICBpc0VuYWJsZWQ6IHN0YXR1cyA9PT0gJ2VuYWJsZWQnLFxuICAgICAgICBtZWRpYVN0cmVhbSxcbiAgICAgICAgZGV2aWNlcyxcbiAgICAgICAgc2VsZWN0ZWREZXZpY2UsXG4gICAgICAgIGhhc0Jyb3dzZXJQZXJtaXNzaW9uLFxuICAgICAgICBpc1NwZWFraW5nV2hpbGVNdXRlZCxcbiAgICAgICAgaXNNdXRlLFxuICAgICAgICBvcHRpbWlzdGljSXNNdXRlLFxuICAgIH07XG59O1xuLyoqXG4gKiBSZXR1cm5zIHRoZSBzcGVha2VyIHN0YXRlIG9mIHRoZSBjdXJyZW50IGNhbGwuXG4gKlxuICogTm90ZTogVGhpcyBob29rIGlzIG5vdCBzdXBwb3J0ZWQgaW4gUmVhY3QgTmF0aXZlXG4gKi9cbmNvbnN0IHVzZVNwZWFrZXJTdGF0ZSA9ICgpID0+IHtcbiAgICBpZiAoaXNSZWFjdE5hdGl2ZSgpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVGhpcyBmZWF0dXJlIGlzIG5vdCBzdXBwb3J0ZWQgaW4gUmVhY3QgTmF0aXZlLiBQbGVhc2UgdmlzaXQgaHR0cHM6Ly9nZXRzdHJlYW0uaW8vdmlkZW8vZG9jcy9yZWFjdG5hdGl2ZS9jb3JlL2NhbWVyYS1hbmQtbWljcm9waG9uZS8jc3BlYWtlci1tYW5hZ2VtZW50IGZvciBtb3JlIGRldGFpbHMnKTtcbiAgICB9XG4gICAgY29uc3QgY2FsbCA9IHVzZUNhbGwoKTtcbiAgICBjb25zdCB7IHNwZWFrZXIgfSA9IGNhbGw7XG4gICAgY29uc3QgZGV2aWNlcyQgPSB1c2VNZW1vKCgpID0+IHNwZWFrZXIubGlzdERldmljZXMoKSwgW3NwZWFrZXJdKTtcbiAgICBjb25zdCBkZXZpY2VzID0gdXNlT2JzZXJ2YWJsZVZhbHVlKGRldmljZXMkLCBFTVBUWV9ERVZJQ0VTX0FSUkFZKTtcbiAgICBjb25zdCBzZWxlY3RlZERldmljZSA9IHVzZU9ic2VydmFibGVWYWx1ZShzcGVha2VyLnN0YXRlLnNlbGVjdGVkRGV2aWNlJCk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc3BlYWtlcixcbiAgICAgICAgZGV2aWNlcyxcbiAgICAgICAgc2VsZWN0ZWREZXZpY2UsXG4gICAgICAgIGlzRGV2aWNlU2VsZWN0aW9uU3VwcG9ydGVkOiBzcGVha2VyLnN0YXRlLmlzRGV2aWNlU2VsZWN0aW9uU3VwcG9ydGVkLFxuICAgIH07XG59O1xuLyoqXG4gKiBSZXR1cm5zIHRoZSBTY3JlZW4gU2hhcmUgc3RhdGUgb2YgdGhlIGN1cnJlbnQgY2FsbC5cbiAqL1xuY29uc3QgdXNlU2NyZWVuU2hhcmVTdGF0ZSA9ICgpID0+IHtcbiAgICBjb25zdCBjYWxsID0gdXNlQ2FsbCgpO1xuICAgIGNvbnN0IHsgc2NyZWVuU2hhcmUgfSA9IGNhbGw7XG4gICAgY29uc3Qgc3RhdHVzID0gdXNlT2JzZXJ2YWJsZVZhbHVlKHNjcmVlblNoYXJlLnN0YXRlLnN0YXR1cyQpO1xuICAgIGNvbnN0IHBlbmRpbmdTdGF0dXMgPSB1c2VPYnNlcnZhYmxlVmFsdWUoc2NyZWVuU2hhcmUuc3RhdGUub3B0aW1pc3RpY1N0YXR1cyQpO1xuICAgIGNvbnN0IG1lZGlhU3RyZWFtID0gdXNlT2JzZXJ2YWJsZVZhbHVlKHNjcmVlblNoYXJlLnN0YXRlLm1lZGlhU3RyZWFtJCk7XG4gICAgY29uc3QgaXNNdXRlID0gc3RhdHVzICE9PSAnZW5hYmxlZCc7XG4gICAgY29uc3Qgb3B0aW1pc3RpY1N0YXR1cyA9IHBlbmRpbmdTdGF0dXMgPz8gc3RhdHVzO1xuICAgIGNvbnN0IG9wdGltaXN0aWNJc011dGUgPSBvcHRpbWlzdGljU3RhdHVzICE9PSAnZW5hYmxlZCc7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc2NyZWVuU2hhcmUsXG4gICAgICAgIG1lZGlhU3RyZWFtLFxuICAgICAgICBzdGF0dXMsXG4gICAgICAgIG9wdGltaXN0aWNTdGF0dXMsXG4gICAgICAgIGlzTXV0ZSxcbiAgICAgICAgb3B0aW1pc3RpY0lzTXV0ZSxcbiAgICB9O1xufTtcbi8qKlxuICogUmV0dXJucyBpbmNvbWluZyB2aWRlbyBzZXR0aW5ncyBmb3IgdGhlIGN1cnJlbnQgY2FsbCwgaW5jbHVkaW5nXG4gKiBnbG9iYWwgYW5kIHBlci1wYXJ0aWNpcGFudCBtYW51YWwgdmlkZW8gcXVhbGl0eSBvdmVycmlkZXMuXG4gKi9cbmNvbnN0IHVzZUluY29taW5nVmlkZW9TZXR0aW5ncyA9ICgpID0+IHtcbiAgICBjb25zdCBjYWxsID0gdXNlQ2FsbCgpO1xuICAgIGNvbnN0IHNldHRpbmdzID0gdXNlT2JzZXJ2YWJsZVZhbHVlKGNhbGwuZHluYXNjYWxlTWFuYWdlci5pbmNvbWluZ1ZpZGVvU2V0dGluZ3MkKTtcbiAgICByZXR1cm4gc2V0dGluZ3M7XG59O1xuXG52YXIgQ2FsbFN0YXRlSG9va3MgPSAvKiNfX1BVUkVfXyovT2JqZWN0LmZyZWV6ZSh7XG4gICAgX19wcm90b19fOiBudWxsLFxuICAgIHVzZUFub255bW91c1BhcnRpY2lwYW50Q291bnQ6IHVzZUFub255bW91c1BhcnRpY2lwYW50Q291bnQsXG4gICAgdXNlQ2FsbEJsb2NrZWRVc2VySWRzOiB1c2VDYWxsQmxvY2tlZFVzZXJJZHMsXG4gICAgdXNlQ2FsbENhbGxpbmdTdGF0ZTogdXNlQ2FsbENhbGxpbmdTdGF0ZSxcbiAgICB1c2VDYWxsQ3JlYXRlZEF0OiB1c2VDYWxsQ3JlYXRlZEF0LFxuICAgIHVzZUNhbGxDcmVhdGVkQnk6IHVzZUNhbGxDcmVhdGVkQnksXG4gICAgdXNlQ2FsbEN1c3RvbURhdGE6IHVzZUNhbGxDdXN0b21EYXRhLFxuICAgIHVzZUNhbGxFZ3Jlc3M6IHVzZUNhbGxFZ3Jlc3MsXG4gICAgdXNlQ2FsbEVuZGVkQXQ6IHVzZUNhbGxFbmRlZEF0LFxuICAgIHVzZUNhbGxFbmRlZEJ5OiB1c2VDYWxsRW5kZWRCeSxcbiAgICB1c2VDYWxsSW5ncmVzczogdXNlQ2FsbEluZ3Jlc3MsXG4gICAgdXNlQ2FsbE1lbWJlcnM6IHVzZUNhbGxNZW1iZXJzLFxuICAgIHVzZUNhbGxTZXNzaW9uOiB1c2VDYWxsU2Vzc2lvbixcbiAgICB1c2VDYWxsU2V0dGluZ3M6IHVzZUNhbGxTZXR0aW5ncyxcbiAgICB1c2VDYWxsU3RhcnRlZEF0OiB1c2VDYWxsU3RhcnRlZEF0LFxuICAgIHVzZUNhbGxTdGFydHNBdDogdXNlQ2FsbFN0YXJ0c0F0LFxuICAgIHVzZUNhbGxTdGF0ZTogdXNlQ2FsbFN0YXRlLFxuICAgIHVzZUNhbGxTdGF0c1JlcG9ydDogdXNlQ2FsbFN0YXRzUmVwb3J0LFxuICAgIHVzZUNhbGxUaHVtYm5haWw6IHVzZUNhbGxUaHVtYm5haWwsXG4gICAgdXNlQ2FsbFVwZGF0ZWRBdDogdXNlQ2FsbFVwZGF0ZWRBdCxcbiAgICB1c2VDYW1lcmFTdGF0ZTogdXNlQ2FtZXJhU3RhdGUsXG4gICAgdXNlRG9taW5hbnRTcGVha2VyOiB1c2VEb21pbmFudFNwZWFrZXIsXG4gICAgdXNlSGFzT25nb2luZ1NjcmVlblNoYXJlOiB1c2VIYXNPbmdvaW5nU2NyZWVuU2hhcmUsXG4gICAgdXNlSGFzUGVybWlzc2lvbnM6IHVzZUhhc1Blcm1pc3Npb25zLFxuICAgIHVzZUluY29taW5nVmlkZW9TZXR0aW5nczogdXNlSW5jb21pbmdWaWRlb1NldHRpbmdzLFxuICAgIHVzZUlzQ2FsbEhMU0Jyb2FkY2FzdGluZ0luUHJvZ3Jlc3M6IHVzZUlzQ2FsbEhMU0Jyb2FkY2FzdGluZ0luUHJvZ3Jlc3MsXG4gICAgdXNlSXNDYWxsTGl2ZTogdXNlSXNDYWxsTGl2ZSxcbiAgICB1c2VJc0NhbGxSZWNvcmRpbmdJblByb2dyZXNzOiB1c2VJc0NhbGxSZWNvcmRpbmdJblByb2dyZXNzLFxuICAgIHVzZUlzQ2FsbFRyYW5zY3JpYmluZ0luUHJvZ3Jlc3M6IHVzZUlzQ2FsbFRyYW5zY3JpYmluZ0luUHJvZ3Jlc3MsXG4gICAgdXNlTG9jYWxQYXJ0aWNpcGFudDogdXNlTG9jYWxQYXJ0aWNpcGFudCxcbiAgICB1c2VNaWNyb3Bob25lU3RhdGU6IHVzZU1pY3JvcGhvbmVTdGF0ZSxcbiAgICB1c2VPd25DYXBhYmlsaXRpZXM6IHVzZU93bkNhcGFiaWxpdGllcyxcbiAgICB1c2VQYXJ0aWNpcGFudENvdW50OiB1c2VQYXJ0aWNpcGFudENvdW50LFxuICAgIHVzZVBhcnRpY2lwYW50czogdXNlUGFydGljaXBhbnRzLFxuICAgIHVzZVJlbW90ZVBhcnRpY2lwYW50czogdXNlUmVtb3RlUGFydGljaXBhbnRzLFxuICAgIHVzZVNjcmVlblNoYXJlU3RhdGU6IHVzZVNjcmVlblNoYXJlU3RhdGUsXG4gICAgdXNlU3BlYWtlclN0YXRlOiB1c2VTcGVha2VyU3RhdGVcbn0pO1xuXG4vKipcbiAqIFV0aWxpdHkgaG9vayB3aGljaCBwcm92aWRlcyBhY2Nlc3MgdG8gY2xpZW50J3Mgc3RhdGUgc3RvcmUuXG4gKi9cbmNvbnN0IHVzZVN0b3JlID0gKCkgPT4ge1xuICAgIGNvbnN0IGNsaWVudCA9IHVzZVN0cmVhbVZpZGVvQ2xpZW50KCk7XG4gICAgaWYgKCFjbGllbnQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBTdHJlYW1WaWRlb0NsaWVudCBpc24ndCBpbml0aWFsaXplZCBvciB0aGlzIGhvb2sgaXMgY2FsbGVkIG91dHNpZGUgb2YgPFN0cmVhbVZpZGVvPiBjb250ZXh0LmApO1xuICAgIH1cbiAgICByZXR1cm4gY2xpZW50LnN0YXRlO1xufTtcbi8qKlxuICogVXRpbGl0eSBob29rIHdoaWNoIHByb3ZpZGVzIGEgbGlzdCBvZiBhbGwgbm90aWZpY2F0aW9ucyBhYm91dCBjcmVhdGVkIGNhbGxzLlxuICogSW4gdGhlIHJpbmcgY2FsbCBzZXR0aW5ncywgdGhlc2UgY2FsbHMgY2FuIGJlIG91dGdvaW5nIChJIGhhdmUgY2FsbGVkIHNvbWVib2R5KVxuICogb3IgaW5jb21pbmcgKHNvbWVib2R5IGhhcyBjYWxsZWQgbWUpLlxuICpcbiAqIEBjYXRlZ29yeSBDbGllbnQgU3RhdGVcbiAqL1xuY29uc3QgdXNlQ2FsbHMgPSAoKSA9PiB7XG4gICAgY29uc3QgeyBjYWxscyQgfSA9IHVzZVN0b3JlKCk7XG4gICAgcmV0dXJuIHVzZU9ic2VydmFibGVWYWx1ZShjYWxscyQpO1xufTtcbi8qKlxuICogUmV0dXJucyB0aGUgY3VycmVudCBjb25uZWN0ZWQgdXNlci5cbiAqXG4gKiBAY2F0ZWdvcnkgQ2xpZW50IFN0YXRlXG4gKi9cbmNvbnN0IHVzZUNvbm5lY3RlZFVzZXIgPSAoKSA9PiB7XG4gICAgY29uc3QgeyBjb25uZWN0ZWRVc2VyJCB9ID0gdXNlU3RvcmUoKTtcbiAgICByZXR1cm4gdXNlT2JzZXJ2YWJsZVZhbHVlKGNvbm5lY3RlZFVzZXIkKTtcbn07XG5cbi8qKlxuICogQ3VzdG9tIGhvb2sgZm9yIHRvZ2dsaW5nIGNhbGwgcmVjb3JkaW5nIGluIGEgdmlkZW8gY2FsbC5cbiAqXG4gKiBUaGlzIGhvb2sgcHJvdmlkZXMgZnVuY3Rpb25hbGl0eSB0byBzdGFydCBhbmQgc3RvcCBjYWxsIHJlY29yZGluZyxcbiAqIGFsb25nIHdpdGggc3RhdGUgbWFuYWdlbWVudCBmb3IgdHJhY2tpbmcgdGhlIHJlY29yZGluZyBzdGF0dXNcbiAqIGFuZCB0aGUgbG9hZGluZyBpbmRpY2F0b3Igd2hpbGUgYXdhaXRpbmcgYSByZXNwb25zZS5cbiAqL1xuY29uc3QgdXNlVG9nZ2xlQ2FsbFJlY29yZGluZyA9ICgpID0+IHtcbiAgICBjb25zdCBjYWxsID0gdXNlQ2FsbCgpO1xuICAgIGNvbnN0IGlzQ2FsbFJlY29yZGluZ0luUHJvZ3Jlc3MgPSB1c2VJc0NhbGxSZWNvcmRpbmdJblByb2dyZXNzKCk7XG4gICAgY29uc3QgW2lzQXdhaXRpbmdSZXNwb25zZSwgc2V0SXNBd2FpdGluZ1Jlc3BvbnNlXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICAvLyBUT0RPOiBhZGQgcGVybWlzc2lvbnNcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICAvLyB3ZSB3YWl0IHVudGlsIGNhbGwucmVjb3JkaW5nX3N0YXJ0ZWQvc3RvcHBlZCBldmVudCB0byBmbGlwcyB0aGVcbiAgICAgICAgLy8gYGlzQ2FsbFJlY29yZGluZ0luUHJvZ3Jlc3NgIHN0YXRlIHZhcmlhYmxlLlxuICAgICAgICAvLyBPbmNlIHRoZSBmbGlwIGhhcHBlbnMsIHdlIHJlbW92ZSB0aGUgbG9hZGluZyBpbmRpY2F0b3JcbiAgICAgICAgc2V0SXNBd2FpdGluZ1Jlc3BvbnNlKChpc0F3YWl0aW5nKSA9PiB7XG4gICAgICAgICAgICBpZiAoaXNBd2FpdGluZylcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm4gaXNBd2FpdGluZztcbiAgICAgICAgfSk7XG4gICAgfSwgW2lzQ2FsbFJlY29yZGluZ0luUHJvZ3Jlc3NdKTtcbiAgICBjb25zdCB0b2dnbGVDYWxsUmVjb3JkaW5nID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgc2V0SXNBd2FpdGluZ1Jlc3BvbnNlKHRydWUpO1xuICAgICAgICAgICAgaWYgKGlzQ2FsbFJlY29yZGluZ0luUHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCBjYWxsPy5zdG9wUmVjb3JkaW5nKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBhd2FpdCBjYWxsPy5zdGFydFJlY29yZGluZygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBGYWlsZWQgc3RhcnQgcmVjb3JkaW5nYCwgZSk7XG4gICAgICAgIH1cbiAgICB9LCBbY2FsbCwgaXNDYWxsUmVjb3JkaW5nSW5Qcm9ncmVzc10pO1xuICAgIHJldHVybiB7IHRvZ2dsZUNhbGxSZWNvcmRpbmcsIGlzQXdhaXRpbmdSZXNwb25zZSwgaXNDYWxsUmVjb3JkaW5nSW5Qcm9ncmVzcyB9O1xufTtcblxuLyoqXG4gKiBBIGhvb2stYWxpa2UgZnVuY3Rpb24gdGhhdCBleHBvc2VzIGFsbCBjYWxsIHN0YXRlIGhvb2tzLlxuICpcbiAqIEBjYXRlZ29yeSBDYWxsIFN0YXRlXG4gKi9cbmNvbnN0IHVzZUNhbGxTdGF0ZUhvb2tzID0gKCkgPT4gQ2FsbFN0YXRlSG9va3M7XG5cbmNvbnN0IFJlc3RyaWN0ZWQgPSAoeyBjYW5SZXF1ZXN0T25seSwgaGFzUGVybWlzc2lvbnNPbmx5LCByZXF1aXJlZEdyYW50cywgcmVxdWlyZUFsbCA9IHRydWUsIGNoaWxkcmVuLCB9KSA9PiB7XG4gICAgY29uc3QgY2FsbCA9IHVzZUNhbGwoKTtcbiAgICBjb25zdCB7IHVzZUNhbGxTZXR0aW5ncywgdXNlT3duQ2FwYWJpbGl0aWVzIH0gPSB1c2VDYWxsU3RhdGVIb29rcygpO1xuICAgIGNvbnN0IG93bkNhcGFiaWxpdGllcyA9IHVzZU93bkNhcGFiaWxpdGllcygpO1xuICAgIGNvbnN0IHNldHRpbmdzID0gdXNlQ2FsbFNldHRpbmdzKCk7XG4gICAgY29uc3QgaGFzUGVybWlzc2lvbnMgPSByZXF1aXJlZEdyYW50c1tyZXF1aXJlQWxsID8gJ2V2ZXJ5JyA6ICdzb21lJ10oKGNhcGFiaWxpdHkpID0+IG93bkNhcGFiaWxpdGllcz8uaW5jbHVkZXMoY2FwYWJpbGl0eSkpO1xuICAgIGlmIChoYXNQZXJtaXNzaW9uc09ubHkpXG4gICAgICAgIHJldHVybiBoYXNQZXJtaXNzaW9ucyA/IGpzeChGcmFnbWVudCwgeyBjaGlsZHJlbjogY2hpbGRyZW4gfSkgOiBudWxsO1xuICAgIGNvbnN0IGNhblJlcXVlc3QgPSByZXF1aXJlZEdyYW50cy5zb21lKChjYXBhYmlsaXR5KSA9PiBjYWxsPy5wZXJtaXNzaW9uc0NvbnRleHQuY2FuUmVxdWVzdChjYXBhYmlsaXR5LCBzZXR0aW5ncykpO1xuICAgIGlmIChjYW5SZXF1ZXN0T25seSlcbiAgICAgICAgcmV0dXJuIGNhblJlcXVlc3QgPyBqc3goRnJhZ21lbnQsIHsgY2hpbGRyZW46IGNoaWxkcmVuIH0pIDogbnVsbDtcbiAgICBpZiAoaGFzUGVybWlzc2lvbnMgfHwgY2FuUmVxdWVzdClcbiAgICAgICAgcmV0dXJuIGpzeChGcmFnbWVudCwgeyBjaGlsZHJlbjogY2hpbGRyZW4gfSk7XG4gICAgcmV0dXJuIG51bGw7XG59O1xuXG5leHBvcnQgeyBERUZBVUxUX0xBTkdVQUdFLCBERUZBVUxUX05BTUVTUEFDRSwgUmVzdHJpY3RlZCwgU3RyZWFtQ2FsbFByb3ZpZGVyLCBTdHJlYW1JMThuLCBTdHJlYW1JMThuUHJvdmlkZXIsIFN0cmVhbVZpZGVvUHJvdmlkZXIsIGRlZmF1bHRUcmFuc2xhdGlvbkZ1bmN0aW9uLCBtYXBUb1JlZ2lzdHJ5LCB1c2VDYWxsLCB1c2VDYWxsU3RhdGVIb29rcywgdXNlQ2FsbHMsIHVzZUNvbm5lY3RlZFVzZXIsIHVzZUNyZWF0ZUkxOG4sIHVzZUkxOG4sIHVzZVN0b3JlLCB1c2VTdHJlYW1WaWRlb0NsaWVudCwgdXNlVG9nZ2xlQ2FsbFJlY29yZGluZyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguZXMuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../../node_modules/@stream-io/video-react-bindings/dist/index.es.js\n");

/***/ }),

/***/ "(ssr)/../../../node_modules/@stream-io/video-react-sdk/dist/index.es.js":
/*!*************************************************************************!*\
  !*** ../../../node_modules/@stream-io/video-react-sdk/dist/index.es.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AcceptCallButton: () => (/* binding */ AcceptCallButton),\n/* harmony export */   Audio: () => (/* binding */ Audio),\n/* harmony export */   AudioSettingsRequestDefaultDeviceEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.AudioSettingsRequestDefaultDeviceEnum),\n/* harmony export */   AudioSettingsResponseDefaultDeviceEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.AudioSettingsResponseDefaultDeviceEnum),\n/* harmony export */   Avatar: () => (/* binding */ Avatar),\n/* harmony export */   AvatarFallback: () => (/* binding */ AvatarFallback),\n/* harmony export */   AxiosError: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.AxiosError),\n/* harmony export */   BackgroundFiltersProvider: () => (/* binding */ BackgroundFiltersProvider),\n/* harmony export */   BaseVideo: () => (/* binding */ BaseVideo),\n/* harmony export */   BlockListOptionsBehaviorEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.BlockListOptionsBehaviorEnum),\n/* harmony export */   Browsers: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.Browsers),\n/* harmony export */   Call: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.Call),\n/* harmony export */   CallControls: () => (/* binding */ CallControls),\n/* harmony export */   CallParticipantListing: () => (/* binding */ CallParticipantListing),\n/* harmony export */   CallParticipantListingItem: () => (/* binding */ CallParticipantListingItem),\n/* harmony export */   CallParticipantsList: () => (/* binding */ CallParticipantsList),\n/* harmony export */   CallPreview: () => (/* binding */ CallPreview),\n/* harmony export */   CallRecordingList: () => (/* binding */ CallRecordingList),\n/* harmony export */   CallRecordingListHeader: () => (/* binding */ CallRecordingListHeader),\n/* harmony export */   CallRecordingListItem: () => (/* binding */ CallRecordingListItem),\n/* harmony export */   CallState: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallState),\n/* harmony export */   CallStats: () => (/* binding */ CallStats),\n/* harmony export */   CallStatsButton: () => (/* binding */ CallStatsButton),\n/* harmony export */   CallType: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallType),\n/* harmony export */   CallTypes: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallTypes),\n/* harmony export */   CallingState: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState),\n/* harmony export */   CameraManager: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CameraManager),\n/* harmony export */   CameraManagerState: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CameraManagerState),\n/* harmony export */   CancelCallButton: () => (/* binding */ CancelCallButton),\n/* harmony export */   CancelCallConfirmButton: () => (/* binding */ CancelCallConfirmButton),\n/* harmony export */   ChannelConfigWithInfoAutomodBehaviorEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.ChannelConfigWithInfoAutomodBehaviorEnum),\n/* harmony export */   ChannelConfigWithInfoAutomodEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.ChannelConfigWithInfoAutomodEnum),\n/* harmony export */   ChannelConfigWithInfoBlocklistBehaviorEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.ChannelConfigWithInfoBlocklistBehaviorEnum),\n/* harmony export */   CompositeButton: () => (/* binding */ CompositeButton),\n/* harmony export */   CreateDeviceRequestPushProviderEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CreateDeviceRequestPushProviderEnum),\n/* harmony export */   DEFAULT_LANGUAGE: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.DEFAULT_LANGUAGE),\n/* harmony export */   DEFAULT_NAMESPACE: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.DEFAULT_NAMESPACE),\n/* harmony export */   DebounceType: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.DebounceType),\n/* harmony export */   DefaultParticipantViewUI: () => (/* binding */ DefaultParticipantViewUI),\n/* harmony export */   DefaultReactionsMenu: () => (/* binding */ DefaultReactionsMenu),\n/* harmony export */   DefaultScreenShareOverlay: () => (/* binding */ DefaultScreenShareOverlay),\n/* harmony export */   DefaultVideoPlaceholder: () => (/* binding */ DefaultVideoPlaceholder),\n/* harmony export */   DeviceSelector: () => (/* binding */ DeviceSelector),\n/* harmony export */   DeviceSelectorAudioInput: () => (/* binding */ DeviceSelectorAudioInput),\n/* harmony export */   DeviceSelectorAudioOutput: () => (/* binding */ DeviceSelectorAudioOutput),\n/* harmony export */   DeviceSelectorVideo: () => (/* binding */ DeviceSelectorVideo),\n/* harmony export */   DeviceSettings: () => (/* binding */ DeviceSettings),\n/* harmony export */   DropDownSelect: () => (/* binding */ DropDownSelect),\n/* harmony export */   DropDownSelectOption: () => (/* binding */ DropDownSelectOption),\n/* harmony export */   DynascaleManager: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.DynascaleManager),\n/* harmony export */   EmptyCallRecordingListing: () => (/* binding */ EmptyCallRecordingListing),\n/* harmony export */   ErrorFromResponse: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.ErrorFromResponse),\n/* harmony export */   GenericMenu: () => (/* binding */ GenericMenu),\n/* harmony export */   GenericMenuButtonItem: () => (/* binding */ GenericMenuButtonItem),\n/* harmony export */   Icon: () => (/* binding */ Icon),\n/* harmony export */   IconButton: () => (/* binding */ IconButton),\n/* harmony export */   InputMediaDeviceManager: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.InputMediaDeviceManager),\n/* harmony export */   InputMediaDeviceManagerState: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.InputMediaDeviceManagerState),\n/* harmony export */   LivestreamLayout: () => (/* binding */ LivestreamLayout),\n/* harmony export */   LivestreamPlayer: () => (/* binding */ LivestreamPlayer),\n/* harmony export */   LoadingCallRecordingListing: () => (/* binding */ LoadingCallRecordingListing),\n/* harmony export */   LoadingIndicator: () => (/* binding */ LoadingIndicator),\n/* harmony export */   MenuToggle: () => (/* binding */ MenuToggle),\n/* harmony export */   MenuVisualType: () => (/* binding */ MenuVisualType),\n/* harmony export */   MicrophoneManager: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.MicrophoneManager),\n/* harmony export */   MicrophoneManagerState: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.MicrophoneManagerState),\n/* harmony export */   NoiseCancellationProvider: () => (/* binding */ NoiseCancellationProvider),\n/* harmony export */   NoiseCancellationSettingsModeEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.NoiseCancellationSettingsModeEnum),\n/* harmony export */   Notification: () => (/* binding */ Notification),\n/* harmony export */   OwnCapability: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability),\n/* harmony export */   PaginatedGridLayout: () => (/* binding */ PaginatedGridLayout),\n/* harmony export */   ParticipantActionsContextMenu: () => (/* binding */ ParticipantActionsContextMenu),\n/* harmony export */   ParticipantDetails: () => (/* binding */ ParticipantDetails),\n/* harmony export */   ParticipantView: () => (/* binding */ ParticipantView),\n/* harmony export */   ParticipantViewContext: () => (/* binding */ ParticipantViewContext),\n/* harmony export */   ParticipantsAudio: () => (/* binding */ ParticipantsAudio),\n/* harmony export */   PermissionNotification: () => (/* binding */ PermissionNotification),\n/* harmony export */   PermissionRequestList: () => (/* binding */ PermissionRequestList),\n/* harmony export */   PermissionRequests: () => (/* binding */ PermissionRequests),\n/* harmony export */   ReactionsButton: () => (/* binding */ ReactionsButton),\n/* harmony export */   RecordCallButton: () => (/* binding */ RecordCallButton),\n/* harmony export */   RecordCallConfirmationButton: () => (/* binding */ RecordCallConfirmationButton),\n/* harmony export */   RecordSettingsRequestModeEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.RecordSettingsRequestModeEnum),\n/* harmony export */   RecordSettingsRequestQualityEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.RecordSettingsRequestQualityEnum),\n/* harmony export */   RecordingInProgressNotification: () => (/* binding */ RecordingInProgressNotification),\n/* harmony export */   Restricted: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted),\n/* harmony export */   RingingCall: () => (/* binding */ RingingCall),\n/* harmony export */   RingingCallControls: () => (/* binding */ RingingCallControls),\n/* harmony export */   RxUtils: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.RxUtils),\n/* harmony export */   ScreenShareButton: () => (/* binding */ ScreenShareButton),\n/* harmony export */   ScreenShareManager: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.ScreenShareManager),\n/* harmony export */   ScreenShareState: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.ScreenShareState),\n/* harmony export */   SearchInput: () => (/* binding */ SearchInput),\n/* harmony export */   SearchResults: () => (/* binding */ SearchResults),\n/* harmony export */   SfuEvents: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.SfuEvents),\n/* harmony export */   SfuModels: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.SfuModels),\n/* harmony export */   SpeakerLayout: () => (/* binding */ SpeakerLayout),\n/* harmony export */   SpeakerManager: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.SpeakerManager),\n/* harmony export */   SpeakerState: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.SpeakerState),\n/* harmony export */   SpeakingWhileMutedNotification: () => (/* binding */ SpeakingWhileMutedNotification),\n/* harmony export */   SpeechIndicator: () => (/* binding */ SpeechIndicator),\n/* harmony export */   StatCard: () => (/* binding */ StatCard),\n/* harmony export */   StreamCall: () => (/* binding */ StreamCall),\n/* harmony export */   StreamCallProvider: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.StreamCallProvider),\n/* harmony export */   StreamI18n: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.StreamI18n),\n/* harmony export */   StreamI18nProvider: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.StreamI18nProvider),\n/* harmony export */   StreamSfuClient: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.StreamSfuClient),\n/* harmony export */   StreamTheme: () => (/* binding */ StreamTheme),\n/* harmony export */   StreamVideo: () => (/* binding */ StreamVideo),\n/* harmony export */   StreamVideoClient: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.StreamVideoClient),\n/* harmony export */   StreamVideoProvider: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.StreamVideoProvider),\n/* harmony export */   StreamVideoReadOnlyStateStore: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.StreamVideoReadOnlyStateStore),\n/* harmony export */   StreamVideoWriteableStateStore: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.StreamVideoWriteableStateStore),\n/* harmony export */   TextButton: () => (/* binding */ TextButton),\n/* harmony export */   ToggleAudioOutputButton: () => (/* binding */ ToggleAudioOutputButton),\n/* harmony export */   ToggleAudioPreviewButton: () => (/* binding */ ToggleAudioPreviewButton),\n/* harmony export */   ToggleAudioPublishingButton: () => (/* binding */ ToggleAudioPublishingButton),\n/* harmony export */   ToggleVideoPreviewButton: () => (/* binding */ ToggleVideoPreviewButton),\n/* harmony export */   ToggleVideoPublishingButton: () => (/* binding */ ToggleVideoPublishingButton),\n/* harmony export */   Tooltip: () => (/* binding */ Tooltip),\n/* harmony export */   TranscriptionSettingsRequestModeEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.TranscriptionSettingsRequestModeEnum),\n/* harmony export */   TranscriptionSettingsResponseModeEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.TranscriptionSettingsResponseModeEnum),\n/* harmony export */   Video: () => (/* binding */ Video$1),\n/* harmony export */   VideoPreview: () => (/* binding */ VideoPreview),\n/* harmony export */   VideoSettingsRequestCameraFacingEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.VideoSettingsRequestCameraFacingEnum),\n/* harmony export */   VideoSettingsResponseCameraFacingEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.VideoSettingsResponseCameraFacingEnum),\n/* harmony export */   ViewportTracker: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.ViewportTracker),\n/* harmony export */   VisibilityState: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.VisibilityState),\n/* harmony export */   WithTooltip: () => (/* binding */ WithTooltip),\n/* harmony export */   checkIfAudioOutputChangeSupported: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.checkIfAudioOutputChangeSupported),\n/* harmony export */   combineComparators: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.combineComparators),\n/* harmony export */   conditional: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.conditional),\n/* harmony export */   createSoundDetector: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.createSoundDetector),\n/* harmony export */   defaultReactions: () => (/* binding */ defaultReactions),\n/* harmony export */   defaultSortPreset: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.defaultSortPreset),\n/* harmony export */   defaultTranslationFunction: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.defaultTranslationFunction),\n/* harmony export */   descending: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.descending),\n/* harmony export */   deviceIds$: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.deviceIds$),\n/* harmony export */   disposeOfMediaStream: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.disposeOfMediaStream),\n/* harmony export */   dominantSpeaker: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.dominantSpeaker),\n/* harmony export */   getAudioBrowserPermission: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getAudioBrowserPermission),\n/* harmony export */   getAudioDevices: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getAudioDevices),\n/* harmony export */   getAudioOutputDevices: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getAudioOutputDevices),\n/* harmony export */   getAudioStream: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getAudioStream),\n/* harmony export */   getClientDetails: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getClientDetails),\n/* harmony export */   getDeviceInfo: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getDeviceInfo),\n/* harmony export */   getDeviceState: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getDeviceState),\n/* harmony export */   getLogLevel: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getLogLevel),\n/* harmony export */   getLogger: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getLogger),\n/* harmony export */   getOSInfo: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getOSInfo),\n/* harmony export */   getScreenShareStream: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getScreenShareStream),\n/* harmony export */   getSdkInfo: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getSdkInfo),\n/* harmony export */   getVideoBrowserPermission: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getVideoBrowserPermission),\n/* harmony export */   getVideoDevices: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getVideoDevices),\n/* harmony export */   getVideoStream: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getVideoStream),\n/* harmony export */   getWebRTCInfo: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getWebRTCInfo),\n/* harmony export */   hasAudio: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasAudio),\n/* harmony export */   hasScreenShare: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasScreenShare),\n/* harmony export */   hasScreenShareAudio: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasScreenShareAudio),\n/* harmony export */   hasVideo: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasVideo),\n/* harmony export */   isPinned: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.isPinned),\n/* harmony export */   livestreamOrAudioRoomSortPreset: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.livestreamOrAudioRoomSortPreset),\n/* harmony export */   logLevels: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.logLevels),\n/* harmony export */   logToConsole: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.logToConsole),\n/* harmony export */   mapToRegistry: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.mapToRegistry),\n/* harmony export */   name: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.name),\n/* harmony export */   noopComparator: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.noopComparator),\n/* harmony export */   paginatedLayoutSortPreset: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.paginatedLayoutSortPreset),\n/* harmony export */   pinned: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.pinned),\n/* harmony export */   publishingAudio: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.publishingAudio),\n/* harmony export */   publishingVideo: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.publishingVideo),\n/* harmony export */   reactionType: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.reactionType),\n/* harmony export */   role: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.role),\n/* harmony export */   screenSharing: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.screenSharing),\n/* harmony export */   setDeviceInfo: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.setDeviceInfo),\n/* harmony export */   setLogLevel: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.setLogLevel),\n/* harmony export */   setLogger: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.setLogger),\n/* harmony export */   setOSInfo: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.setOSInfo),\n/* harmony export */   setPowerState: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.setPowerState),\n/* harmony export */   setSdkInfo: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.setSdkInfo),\n/* harmony export */   setThermalState: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.setThermalState),\n/* harmony export */   setWebRTCInfo: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.setWebRTCInfo),\n/* harmony export */   speakerLayoutSortPreset: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.speakerLayoutSortPreset),\n/* harmony export */   speaking: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.speaking),\n/* harmony export */   translations: () => (/* binding */ translations),\n/* harmony export */   useBackgroundFilters: () => (/* binding */ useBackgroundFilters),\n/* harmony export */   useCall: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall),\n/* harmony export */   useCallStateHooks: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks),\n/* harmony export */   useCalls: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCalls),\n/* harmony export */   useConnectedUser: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useConnectedUser),\n/* harmony export */   useCreateI18n: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCreateI18n),\n/* harmony export */   useHorizontalScrollPosition: () => (/* binding */ useHorizontalScrollPosition),\n/* harmony export */   useI18n: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n),\n/* harmony export */   useMenuContext: () => (/* binding */ useMenuContext),\n/* harmony export */   useNoiseCancellation: () => (/* binding */ useNoiseCancellation),\n/* harmony export */   useParticipantViewContext: () => (/* binding */ useParticipantViewContext),\n/* harmony export */   usePersistedDevicePreferences: () => (/* binding */ usePersistedDevicePreferences),\n/* harmony export */   useRequestPermission: () => (/* binding */ useRequestPermission),\n/* harmony export */   useStore: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useStore),\n/* harmony export */   useStreamVideoClient: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useStreamVideoClient),\n/* harmony export */   useToggleCallRecording: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useToggleCallRecording),\n/* harmony export */   useTrackElementVisibility: () => (/* binding */ useTrackElementVisibility),\n/* harmony export */   useVerticalScrollPosition: () => (/* binding */ useVerticalScrollPosition)\n/* harmony export */ });\n/* harmony import */ var _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @stream-io/video-client */ \"(ssr)/../../../node_modules/@stream-io/video-client/dist/index.es.js\");\n/* harmony import */ var _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @stream-io/video-react-bindings */ \"(ssr)/../../../node_modules/@stream-io/video-react-bindings/dist/index.es.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/../../../node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ \"(ssr)/../../../node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _floating_ui_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @floating-ui/react */ \"(ssr)/../../../node_modules/@floating-ui/react/dist/floating-ui.react.mjs\");\n/* harmony import */ var _floating_ui_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @floating-ui/react */ \"(ssr)/../../../node_modules/@floating-ui/react-dom/dist/floating-ui.react-dom.mjs\");\n/* harmony import */ var _floating_ui_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @floating-ui/react */ \"(ssr)/../../../node_modules/@floating-ui/dom/dist/floating-ui.dom.mjs\");\n/* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! clsx */ \"(ssr)/../../../node_modules/clsx/dist/clsx.mjs\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-dom */ \"(ssr)/../../../node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-dom.js\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _stream_io_video_filters_web__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @stream-io/video-filters-web */ \"(ssr)/../../../node_modules/@stream-io/video-filters-web/dist/index.es.js\");\n\n\n\n\n\n\n\n\n\n\n\nconst Audio = ({ participant, trackType = 'audioTrack', ...rest }) => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const [audioElement, setAudioElement] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    const { userId, sessionId } = participant;\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!call || !audioElement)\n            return;\n        const cleanup = call.bindAudioElement(audioElement, sessionId, trackType);\n        return () => {\n            cleanup?.();\n        };\n    }, [call, sessionId, audioElement, trackType]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"audio\", { autoPlay: true, ...rest, ref: setAudioElement, \"data-user-id\": userId, \"data-session-id\": sessionId, \"data-track-type\": trackType }));\n};\nAudio.displayName = 'Audio';\n\nconst ParticipantsAudio = (props) => {\n    const { participants, audioProps } = props;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: participants.map((participant) => {\n            if (participant.isLocalParticipant)\n                return null;\n            const { audioStream, screenShareAudioStream, sessionId } = participant;\n            const hasAudioTrack = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasAudio)(participant);\n            const audioTrackElement = hasAudioTrack && audioStream && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Audio, { ...audioProps, trackType: \"audioTrack\", participant: participant }));\n            const hasScreenShareAudioTrack = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasScreenShareAudio)(participant);\n            const screenShareAudioTrackElement = hasScreenShareAudioTrack &&\n                screenShareAudioStream && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Audio, { ...audioProps, trackType: \"screenShareAudioTrack\", participant: participant }));\n            return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react__WEBPACK_IMPORTED_MODULE_3__.Fragment, { children: [audioTrackElement, screenShareAudioTrackElement] }, sessionId));\n        }) }));\n};\nParticipantsAudio.displayName = 'ParticipantsAudio';\n\nconst ParticipantViewContext = (0,react__WEBPACK_IMPORTED_MODULE_3__.createContext)(undefined);\nconst useParticipantViewContext = () => (0,react__WEBPACK_IMPORTED_MODULE_3__.useContext)(ParticipantViewContext);\n\nconst useFloatingUIPreset = ({ middleware = [], placement, strategy, offset: offsetInPx = 10, }) => {\n    const { refs, x, y, update, elements: { domReference, floating }, context, } = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__.useFloating)({\n        placement,\n        strategy,\n        middleware: [\n            (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_7__.offset)(offsetInPx),\n            (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_7__.shift)(),\n            (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_7__.flip)(),\n            (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_7__.size)({\n                padding: 10,\n                apply: ({ availableHeight, elements }) => {\n                    Object.assign(elements.floating.style, {\n                        maxHeight: `${availableHeight}px`,\n                    });\n                },\n            }),\n            ...middleware,\n        ],\n    });\n    // handle window resizing\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!domReference || !floating)\n            return;\n        const cleanup = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_8__.autoUpdate)(domReference, floating, update);\n        return () => cleanup();\n    }, [domReference, floating, update]);\n    return { refs, x, y, domReference, floating, strategy, context };\n};\n\nconst defaultDevice = 'default';\n/**\n * This hook will persist the device settings to local storage.\n *\n * @param key the key to use for local storage.\n */\nconst usePersistDevicePreferences = (key, shouldPersistRef) => {\n    const { useMicrophoneState, useCameraState, useSpeakerState } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const mic = useMicrophoneState();\n    const camera = useCameraState();\n    const speaker = useSpeakerState();\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!shouldPersistRef.current)\n            return;\n        if (!call)\n            return;\n        if (call.state.callingState === _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.LEFT)\n            return;\n        try {\n            const preferences = {\n                mic: {\n                    selectedDeviceId: mic.selectedDevice || defaultDevice,\n                    muted: mic.isMute,\n                },\n                camera: {\n                    selectedDeviceId: camera.selectedDevice || defaultDevice,\n                    muted: camera.isMute,\n                },\n                speaker: {\n                    selectedDeviceId: speaker.selectedDevice || defaultDevice,\n                    muted: false,\n                },\n            };\n            window.localStorage.setItem(key, JSON.stringify(preferences));\n        }\n        catch (err) {\n            console.warn('Failed to save device preferences', err);\n        }\n    }, [\n        call,\n        camera.isMute,\n        camera.selectedDevice,\n        key,\n        mic.isMute,\n        mic.selectedDevice,\n        speaker.selectedDevice,\n        shouldPersistRef,\n    ]);\n};\n/**\n * This hook will apply the device settings from local storage.\n *\n * @param key the key to use for local storage.\n */\nconst useApplyDevicePreferences = (key, onApplied) => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const onAppliedRef = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(onApplied);\n    onAppliedRef.current = onApplied;\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!call)\n            return;\n        if (call.state.callingState === _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.LEFT)\n            return;\n        let cancel = false;\n        const apply = async () => {\n            const initMic = async (setting) => {\n                if (cancel)\n                    return;\n                await call.microphone.select(parseDeviceId(setting.selectedDeviceId));\n                if (cancel)\n                    return;\n                if (setting.muted) {\n                    await call.microphone.disable();\n                }\n                else {\n                    await call.microphone.enable();\n                }\n            };\n            const initCamera = async (setting) => {\n                if (cancel)\n                    return;\n                await call.camera.select(parseDeviceId(setting.selectedDeviceId));\n                if (cancel)\n                    return;\n                if (setting.muted) {\n                    await call.camera.disable();\n                }\n                else {\n                    await call.camera.enable();\n                }\n            };\n            const initSpeaker = (setting) => {\n                if (cancel)\n                    return;\n                call.speaker.select(parseDeviceId(setting.selectedDeviceId) ?? '');\n            };\n            let preferences = null;\n            try {\n                preferences = JSON.parse(window.localStorage.getItem(key));\n            }\n            catch (err) {\n                console.warn('Failed to load device preferences', err);\n            }\n            if (preferences) {\n                await initMic(preferences.mic);\n                await initCamera(preferences.camera);\n                initSpeaker(preferences.speaker);\n            }\n        };\n        apply()\n            .then(() => onAppliedRef.current())\n            .catch((err) => {\n            console.warn('Failed to apply device preferences', err);\n        });\n        return () => {\n            cancel = true;\n        };\n    }, [call, key]);\n};\n/**\n * This hook will apply and persist the device preferences from local storage.\n *\n * @param key the key to use for local storage.\n */\nconst usePersistedDevicePreferences = (key = '@stream-io/device-preferences') => {\n    const shouldPersistRef = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(false);\n    useApplyDevicePreferences(key, () => (shouldPersistRef.current = true));\n    usePersistDevicePreferences(key, shouldPersistRef);\n};\nconst parseDeviceId = (deviceId) => deviceId !== defaultDevice ? deviceId : undefined;\n\nconst SCROLL_THRESHOLD = 10;\n/**\n * Hook which observes element's scroll position and returns text value based on the\n * position of the scrollbar (`top`, `bottom`, `between` and `null` if no scrollbar is available)\n */\nconst useVerticalScrollPosition = (scrollElement, threshold = SCROLL_THRESHOLD) => {\n    const [scrollPosition, setScrollPosition] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!scrollElement)\n            return;\n        const scrollHandler = () => {\n            const element = scrollElement;\n            const hasVerticalScrollbar = element.scrollHeight > element.clientHeight;\n            if (!hasVerticalScrollbar)\n                return setScrollPosition(null);\n            const isAtTheTop = element.scrollTop <= threshold;\n            if (isAtTheTop)\n                return setScrollPosition('top');\n            const isAtTheBottom = Math.abs(element.scrollHeight - element.scrollTop - element.clientHeight) <= threshold;\n            if (isAtTheBottom)\n                return setScrollPosition('bottom');\n            setScrollPosition('between');\n        };\n        const resizeObserver = new ResizeObserver(scrollHandler);\n        resizeObserver.observe(scrollElement);\n        scrollElement.addEventListener('scroll', scrollHandler);\n        return () => {\n            scrollElement.removeEventListener('scroll', scrollHandler);\n            resizeObserver.disconnect();\n        };\n    }, [scrollElement, threshold]);\n    return scrollPosition;\n};\nconst useHorizontalScrollPosition = (scrollElement, threshold = SCROLL_THRESHOLD) => {\n    const [scrollPosition, setScrollPosition] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!scrollElement)\n            return;\n        const scrollHandler = () => {\n            const element = scrollElement;\n            const hasHorizontalScrollbar = element.scrollWidth > element.clientWidth;\n            if (!hasHorizontalScrollbar)\n                return setScrollPosition(null);\n            const isAtTheStart = element.scrollLeft <= threshold;\n            if (isAtTheStart)\n                return setScrollPosition('start');\n            const isAtTheEnd = Math.abs(element.scrollWidth - element.scrollLeft - element.clientWidth) <= threshold;\n            if (isAtTheEnd)\n                return setScrollPosition('end');\n            setScrollPosition('between');\n        };\n        const resizeObserver = new ResizeObserver(scrollHandler);\n        resizeObserver.observe(scrollElement);\n        scrollElement.addEventListener('scroll', scrollHandler);\n        return () => {\n            scrollElement.removeEventListener('scroll', scrollHandler);\n            resizeObserver.disconnect();\n        };\n    }, [scrollElement, threshold]);\n    return scrollPosition;\n};\n\nconst useRequestPermission = (permission) => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const { useHasPermissions } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const hasPermission = useHasPermissions(permission);\n    const [isAwaitingPermission, setIsAwaitingPermission] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false); // TODO: load with possibly pending state\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        const reset = () => setIsAwaitingPermission(false);\n        if (hasPermission)\n            reset();\n    }, [hasPermission]);\n    const requestPermission = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(async () => {\n        if (hasPermission)\n            return true;\n        const canRequestPermission = !!call?.permissionsContext.canRequest(permission);\n        if (isAwaitingPermission || !canRequestPermission)\n            return false;\n        setIsAwaitingPermission(true);\n        try {\n            await call?.requestPermissions({\n                permissions: [permission],\n            });\n        }\n        catch (error) {\n            setIsAwaitingPermission(false);\n            throw new Error(`requestPermission failed: ${error}`);\n        }\n        return false;\n    }, [call, hasPermission, isAwaitingPermission, permission]);\n    return {\n        requestPermission,\n        hasPermission,\n        canRequestPermission: !!call?.permissionsContext.canRequest(permission),\n        isAwaitingPermission,\n    };\n};\n\nvar MenuVisualType;\n(function (MenuVisualType) {\n    MenuVisualType[\"PORTAL\"] = \"portal\";\n    MenuVisualType[\"MENU\"] = \"menu\";\n})(MenuVisualType || (MenuVisualType = {}));\n/**\n * Used to provide utility APIs to the components rendered inside the portal.\n */\nconst MenuContext = (0,react__WEBPACK_IMPORTED_MODULE_3__.createContext)({});\n/**\n * Access to the closes MenuContext.\n */\nconst useMenuContext = () => {\n    return (0,react__WEBPACK_IMPORTED_MODULE_3__.useContext)(MenuContext);\n};\nconst MenuPortal = ({ children, refs, }) => {\n    const portalId = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(() => `str-video-portal-${Math.random().toString(36).substring(2, 9)}`, []);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { id: portalId, className: \"str-video__portal\" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__.FloatingOverlay, { children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__.FloatingPortal, { id: portalId, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__portal-content\", ref: refs.setFloating, children: children }) }) })] }));\n};\nconst MenuToggle = ({ ToggleButton, placement = 'top-start', strategy = 'absolute', offset, visualType = MenuVisualType.MENU, children, onToggle, }) => {\n    const [menuShown, setMenuShown] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    const toggleHandler = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(onToggle);\n    toggleHandler.current = onToggle;\n    const { floating, domReference, refs, x, y } = useFloatingUIPreset({\n        placement,\n        strategy,\n        offset,\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        const handleClick = (event) => {\n            if (!floating && domReference?.contains(event.target)) {\n                setMenuShown(true);\n                toggleHandler.current?.(true);\n            }\n            else if (floating && !floating?.contains(event.target)) {\n                setMenuShown(false);\n                toggleHandler.current?.(false);\n            }\n        };\n        const handleKeyDown = (event) => {\n            if (event.key && // key can be undefined in some browsers\n                event.key.toLowerCase() === 'escape' &&\n                !event.altKey &&\n                !event.ctrlKey) {\n                setMenuShown(false);\n                toggleHandler.current?.(false);\n            }\n        };\n        document?.addEventListener('click', handleClick, { capture: true });\n        document?.addEventListener('keydown', handleKeyDown);\n        return () => {\n            document?.removeEventListener('click', handleClick, { capture: true });\n            document?.removeEventListener('keydown', handleKeyDown);\n        };\n    }, [floating, domReference]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [menuShown && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MenuContext.Provider, { value: { close: () => setMenuShown(false) }, children: visualType === MenuVisualType.PORTAL ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MenuPortal, { refs: refs, children: children })) : visualType === MenuVisualType.MENU ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__menu-container\", ref: refs.setFloating, style: {\n                        position: strategy,\n                        top: y ?? 0,\n                        left: x ?? 0,\n                        overflowY: 'auto',\n                    }, role: \"menu\", children: children })) : null })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ToggleButton, { menuShown: menuShown, ref: refs.setReference })] }));\n};\n\nconst GenericMenu = ({ children, onItemClick, }) => {\n    const ref = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(null);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"ul\", { className: \"str-video__generic-menu\", ref: ref, onClick: (e) => {\n            if (onItemClick &&\n                e.target !== ref.current &&\n                ref.current?.contains(e.target)) {\n                onItemClick(e);\n            }\n        }, children: children }));\n};\nconst GenericMenuButtonItem = ({ children, ...rest }) => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"li\", { className: \"str-video__generic-menu--item\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"button\", { ...rest, children: children }) }));\n};\n\nconst Icon = ({ className, icon }) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__icon', icon && `str-video__icon--${icon}`, className) }));\n\nfunction usePictureInPictureState(videoElement) {\n    const [isPiP, setIsPiP] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(document.pictureInPictureElement === videoElement);\n    if (!videoElement && isPiP)\n        setIsPiP(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!videoElement)\n            return;\n        const handlePiP = () => {\n            setIsPiP(document.pictureInPictureElement === videoElement);\n        };\n        videoElement.addEventListener('enterpictureinpicture', handlePiP);\n        videoElement.addEventListener('leavepictureinpicture', handlePiP);\n        return () => {\n            videoElement.removeEventListener('enterpictureinpicture', handlePiP);\n            videoElement.removeEventListener('leavepictureinpicture', handlePiP);\n        };\n    }, [videoElement]);\n    return isPiP;\n}\n\nconst ParticipantActionsContextMenu = () => {\n    const { participant, participantViewElement, videoElement } = useParticipantViewContext();\n    const [fullscreenModeOn, setFullscreenModeOn] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(!!document.fullscreenElement);\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const isPiP = usePictureInPictureState(videoElement ?? undefined);\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const { pin, sessionId, userId } = participant;\n    const hasAudioTrack = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasAudio)(participant);\n    const hasVideoTrack = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasVideo)(participant);\n    const hasScreenShareTrack = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasScreenShare)(participant);\n    const hasScreenShareAudioTrack = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasScreenShareAudio)(participant);\n    const blockUser = () => call?.blockUser(userId);\n    const muteAudio = () => call?.muteUser(userId, 'audio');\n    const muteVideo = () => call?.muteUser(userId, 'video');\n    const muteScreenShare = () => call?.muteUser(userId, 'screenshare');\n    const muteScreenShareAudio = () => call?.muteUser(userId, 'screenshare_audio');\n    const grantPermission = (permission) => () => {\n        call?.updateUserPermissions({\n            user_id: userId,\n            grant_permissions: [permission],\n        });\n    };\n    const revokePermission = (permission) => () => {\n        call?.updateUserPermissions({\n            user_id: userId,\n            revoke_permissions: [permission],\n        });\n    };\n    const toggleParticipantPin = () => {\n        if (pin) {\n            call?.unpin(sessionId);\n        }\n        else {\n            call?.pin(sessionId);\n        }\n    };\n    const pinForEveryone = () => {\n        call\n            ?.pinForEveryone({\n            user_id: userId,\n            session_id: sessionId,\n        })\n            .catch((err) => {\n            console.error(`Failed to pin participant ${userId}`, err);\n        });\n    };\n    const unpinForEveryone = () => {\n        call\n            ?.unpinForEveryone({\n            user_id: userId,\n            session_id: sessionId,\n        })\n            .catch((err) => {\n            console.error(`Failed to unpin participant ${userId}`, err);\n        });\n    };\n    const toggleFullscreenMode = () => {\n        if (!fullscreenModeOn) {\n            return participantViewElement?.requestFullscreen().catch(console.error);\n        }\n        return document.exitFullscreen().catch(console.error);\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        // handles the case when fullscreen mode is toggled externally,\n        // e.g., by pressing ESC key or some other keyboard shortcut\n        const handleFullscreenChange = () => {\n            setFullscreenModeOn(!!document.fullscreenElement);\n        };\n        document.addEventListener('fullscreenchange', handleFullscreenChange);\n        return () => {\n            document.removeEventListener('fullscreenchange', handleFullscreenChange);\n        };\n    }, []);\n    const togglePictureInPicture = () => {\n        if (videoElement && !isPiP) {\n            return videoElement\n                .requestPictureInPicture()\n                .catch(console.error);\n        }\n        return document.exitPictureInPicture().catch(console.error);\n    };\n    const { close } = useMenuContext() || {};\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(GenericMenu, { onItemClick: close, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(GenericMenuButtonItem, { onClick: toggleParticipantPin, disabled: pin && !pin.isLocalPin, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"pin\" }), pin ? t('Unpin') : t('Pin')] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.PIN_FOR_EVERYONE], children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(GenericMenuButtonItem, { onClick: pinForEveryone, disabled: pin && !pin.isLocalPin, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"pin\" }), t('Pin for everyone')] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(GenericMenuButtonItem, { onClick: unpinForEveryone, disabled: !pin || pin.isLocalPin, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"pin\" }), t('Unpin for everyone')] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.BLOCK_USERS], children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(GenericMenuButtonItem, { onClick: blockUser, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"not-allowed\" }), t('Block')] }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.MUTE_USERS], children: [hasVideoTrack && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(GenericMenuButtonItem, { onClick: muteVideo, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"camera-off-outline\" }), t('Turn off video')] })), hasScreenShareTrack && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(GenericMenuButtonItem, { onClick: muteScreenShare, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"screen-share-off\" }), t('Turn off screen share')] })), hasAudioTrack && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(GenericMenuButtonItem, { onClick: muteAudio, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"no-audio\" }), t('Mute audio')] })), hasScreenShareAudioTrack && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(GenericMenuButtonItem, { onClick: muteScreenShareAudio, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"no-audio\" }), t('Mute screen share audio')] }))] }), participantViewElement && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(GenericMenuButtonItem, { onClick: toggleFullscreenMode, children: t('{{ direction }} fullscreen', {\n                    direction: fullscreenModeOn ? t('Leave') : t('Enter'),\n                }) })), videoElement && document.pictureInPictureEnabled && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(GenericMenuButtonItem, { onClick: togglePictureInPicture, children: t('{{ direction }} picture-in-picture', {\n                    direction: isPiP ? t('Leave') : t('Enter'),\n                }) })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.UPDATE_CALL_PERMISSIONS], children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(GenericMenuButtonItem, { onClick: grantPermission(_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SEND_AUDIO), children: t('Allow audio') }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(GenericMenuButtonItem, { onClick: grantPermission(_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SEND_VIDEO), children: t('Allow video') }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(GenericMenuButtonItem, { onClick: grantPermission(_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SCREENSHARE), children: t('Allow screen sharing') }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(GenericMenuButtonItem, { onClick: revokePermission(_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SEND_AUDIO), children: t('Disable audio') }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(GenericMenuButtonItem, { onClick: revokePermission(_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SEND_VIDEO), children: t('Disable video') }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(GenericMenuButtonItem, { onClick: revokePermission(_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SCREENSHARE), children: t('Disable screen sharing') })] })] }));\n};\n\nconst isComponentType = (elementOrComponent) => {\n    return elementOrComponent === null\n        ? false\n        : !(0,react__WEBPACK_IMPORTED_MODULE_3__.isValidElement)(elementOrComponent);\n};\n\nconst chunk = (array, size) => {\n    const chunkCount = Math.ceil(array.length / size);\n    return Array.from({ length: chunkCount }, (_, index) => array.slice(size * index, size * index + size));\n};\n\nconst applyElementToRef = (ref, element) => {\n    if (!ref)\n        return;\n    if (typeof ref === 'function')\n        return ref(element);\n    ref.current = element;\n};\n\n/**\n * @description Extends video element with `stream` property\n * (`srcObject`) to reactively handle stream changes\n */\nconst BaseVideo = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function BaseVideo({ stream, ...rest }, ref) {\n    const [videoElement, setVideoElement] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!videoElement || !stream)\n            return;\n        if (stream === videoElement.srcObject)\n            return;\n        videoElement.srcObject = stream;\n        if (_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.Browsers.isSafari() || _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.Browsers.isFirefox()) {\n            // Firefox and Safari have some timing issue\n            setTimeout(() => {\n                videoElement.srcObject = stream;\n                videoElement.play().catch((e) => {\n                    console.error(`Failed to play stream`, e);\n                });\n            }, 0);\n        }\n        return () => {\n            videoElement.pause();\n            videoElement.srcObject = null;\n        };\n    }, [stream, videoElement]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"video\", { autoPlay: true, playsInline: true, ...rest, ref: (element) => {\n            applyElementToRef(ref, element);\n            setVideoElement(element);\n        } }));\n});\n\nconst BaseVideoPlaceholder = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function DefaultVideoPlaceholder({ participant, style, children }, ref) {\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    const name = participant.name || participant.userId;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__video-placeholder\", style: style, ref: ref, children: [(!participant.image || error) &&\n                (name ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(InitialsFallback, { name: name })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__video-placeholder__no-video-label\", children: children }))), participant.image && !error && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"img\", { onError: () => setError(true), alt: name, className: \"str-video__video-placeholder__avatar\", src: participant.image }))] }));\n});\nconst InitialsFallback = (props) => {\n    const { name } = props;\n    const initials = name\n        .split(' ')\n        .slice(0, 2)\n        .map((n) => n[0])\n        .join('');\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__video-placeholder__initials-fallback\", children: initials }));\n};\n\nconst DefaultVideoPlaceholder = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function DefaultVideoPlaceholder(props, ref) {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(BaseVideoPlaceholder, { ref: ref, ...props, children: t('Video is disabled') }));\n});\n\nconst DefaultPictureInPicturePlaceholder = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function DefaultPictureInPicturePlaceholder(props, ref) {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(BaseVideoPlaceholder, { ref: ref, ...props, children: t('Video is playing in a popup') }));\n});\n\nconst Video$1 = ({ enabled = true, mirror, trackType, participant, className, VideoPlaceholder = DefaultVideoPlaceholder, PictureInPicturePlaceholder = DefaultPictureInPicturePlaceholder, refs, ...rest }) => {\n    const { sessionId, videoStream, screenShareStream, viewportVisibilityState, isLocalParticipant, userId, } = participant;\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const [videoElement, setVideoElement] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    // start with true, will flip once the video starts playing\n    const [isVideoPaused, setIsVideoPaused] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(true);\n    const [isWideMode, setIsWideMode] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(true);\n    const isPiP = usePictureInPictureState(videoElement ?? undefined);\n    const stream = trackType === 'videoTrack'\n        ? videoStream\n        : trackType === 'screenShareTrack'\n            ? screenShareStream\n            : undefined;\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(() => {\n        if (!call || !videoElement || trackType === 'none')\n            return;\n        const cleanup = call.bindVideoElement(videoElement, sessionId, trackType);\n        return () => {\n            cleanup?.();\n        };\n    }, [call, trackType, sessionId, videoElement]);\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!stream || !videoElement)\n            return;\n        const [track] = stream.getVideoTracks();\n        if (!track)\n            return;\n        const handlePlayPause = () => {\n            setIsVideoPaused(videoElement.paused);\n            const { width = 0, height = 0 } = track.getSettings();\n            setIsWideMode(width >= height);\n        };\n        // playback may have started before we had a chance to\n        // attach the 'play/pause' event listener, so we set the state\n        // here to make sure it's in sync\n        setIsVideoPaused(videoElement.paused);\n        videoElement.addEventListener('play', handlePlayPause);\n        videoElement.addEventListener('pause', handlePlayPause);\n        track.addEventListener('unmute', handlePlayPause);\n        return () => {\n            videoElement.removeEventListener('play', handlePlayPause);\n            videoElement.removeEventListener('pause', handlePlayPause);\n            track.removeEventListener('unmute', handlePlayPause);\n            // reset the 'pause' state once we unmount the video element\n            setIsVideoPaused(true);\n        };\n    }, [stream, videoElement]);\n    if (!call)\n        return null;\n    const isPublishingTrack = trackType === 'videoTrack'\n        ? (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasVideo)(participant)\n        : trackType === 'screenShareTrack'\n            ? (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasScreenShare)(participant)\n            : false;\n    const isInvisible = trackType === 'none' ||\n        viewportVisibilityState?.[trackType] === _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.VisibilityState.INVISIBLE;\n    const hasNoVideoOrInvisible = !enabled || !isPublishingTrack || isInvisible;\n    const mirrorVideo = mirror === undefined\n        ? isLocalParticipant && trackType === 'videoTrack'\n        : mirror;\n    const isScreenShareTrack = trackType === 'screenShareTrack';\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [!hasNoVideoOrInvisible && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"video\", { ...rest, className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__video', className, {\n                    'str-video__video--not-playing': isVideoPaused,\n                    'str-video__video--tall': !isWideMode,\n                    'str-video__video--mirror': mirrorVideo,\n                    'str-video__video--screen-share': isScreenShareTrack,\n                }), \"data-user-id\": userId, \"data-session-id\": sessionId, ref: (element) => {\n                    setVideoElement(element);\n                    refs?.setVideoElement?.(element);\n                } })), isPiP && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DefaultPictureInPicturePlaceholder, { style: { position: 'absolute' }, participant: participant })), (hasNoVideoOrInvisible || isVideoPaused) && VideoPlaceholder && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(VideoPlaceholder, { style: { position: 'absolute' }, participant: participant, ref: refs?.setVideoPlaceholderElement }))] }));\n};\nVideo$1.displayName = 'Video';\n\nconst useTrackElementVisibility = ({ trackedElement, dynascaleManager: propsDynascaleManager, sessionId, trackType, }) => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const manager = propsDynascaleManager ?? call?.dynascaleManager;\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!trackedElement || !manager || !call || trackType === 'none')\n            return;\n        const unobserve = manager.trackElementVisibility(trackedElement, sessionId, trackType);\n        return () => {\n            unobserve();\n        };\n    }, [trackedElement, manager, call, sessionId, trackType]);\n};\n\nconst Avatar = ({ imageSrc, name, style, className, ...rest }) => {\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [(!imageSrc || error) && name && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(AvatarFallback, { className: className, style: style, names: [name] })), imageSrc && !error && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"img\", { onError: () => setError(true), alt: \"avatar\", className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__avatar', className), src: imageSrc, style: style, ...rest }))] }));\n};\nconst AvatarFallback = ({ className, names, style, }) => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__avatar--initials-fallback', className), style: style, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { children: [names[0][0], names[1]?.[0]] }) }));\n};\n\n/**\n * The context for the background filters.\n */\nconst BackgroundFiltersContext = (0,react__WEBPACK_IMPORTED_MODULE_3__.createContext)(undefined);\n/**\n * A hook to access the background filters context API.\n */\nconst useBackgroundFilters = () => {\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_3__.useContext)(BackgroundFiltersContext);\n    if (!context) {\n        throw new Error('useBackgroundFilters must be used within a BackgroundFiltersProvider');\n    }\n    return context;\n};\n/**\n * A provider component that enables the use of background filters in your app.\n *\n * Please make sure you have the `@stream-io/video-filters-web` package installed\n * in your project before using this component.\n */\nconst BackgroundFiltersProvider = (props) => {\n    const { children, backgroundImages = [], backgroundFilter: bgFilterFromProps = undefined, backgroundImage: bgImageFromProps = undefined, backgroundBlurLevel: bgBlurLevelFromProps = undefined, tfFilePath, modelFilePath, basePath, onError, } = props;\n    const [backgroundFilter, setBackgroundFilter] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(bgFilterFromProps);\n    const [backgroundImage, setBackgroundImage] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(bgImageFromProps);\n    const [backgroundBlurLevel, setBackgroundBlurLevel] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(bgBlurLevelFromProps);\n    const applyBackgroundImageFilter = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((imageUrl) => {\n        setBackgroundFilter('image');\n        setBackgroundImage(imageUrl);\n    }, []);\n    const applyBackgroundBlurFilter = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((blurLevel = 'high') => {\n        setBackgroundFilter('blur');\n        setBackgroundBlurLevel(blurLevel);\n    }, []);\n    const disableBackgroundFilter = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(() => {\n        setBackgroundFilter(undefined);\n        setBackgroundImage(undefined);\n        setBackgroundBlurLevel(undefined);\n    }, []);\n    const [isSupported, setIsSupported] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        (0,_stream_io_video_filters_web__WEBPACK_IMPORTED_MODULE_9__.isPlatformSupported)().then(setIsSupported);\n    }, []);\n    const [tfLite, setTfLite] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)();\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        // don't try to load TFLite if the platform is not supported\n        if (!isSupported)\n            return;\n        (0,_stream_io_video_filters_web__WEBPACK_IMPORTED_MODULE_9__.loadTFLite)({ basePath, modelFilePath, tfFilePath })\n            .then(setTfLite)\n            .catch((err) => console.error('Failed to load TFLite', err));\n    }, [basePath, isSupported, modelFilePath, tfFilePath]);\n    const handleError = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((error) => {\n        (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getLogger)(['filters'])('warn', 'Filter encountered an error and will be disabled');\n        disableBackgroundFilter();\n        onError?.(error);\n    }, [disableBackgroundFilter, onError]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(BackgroundFiltersContext.Provider, { value: {\n            isSupported,\n            isReady: !!tfLite,\n            backgroundImage,\n            backgroundBlurLevel,\n            backgroundFilter,\n            disableBackgroundFilter,\n            applyBackgroundBlurFilter,\n            applyBackgroundImageFilter,\n            backgroundImages,\n            tfFilePath,\n            modelFilePath,\n            basePath,\n            onError: handleError,\n        }, children: [children, tfLite && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(BackgroundFilters, { tfLite: tfLite })] }));\n};\nconst BackgroundFilters = (props) => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const { children, start } = useRenderer(props.tfLite);\n    const { backgroundFilter, onError } = useBackgroundFilters();\n    const handleErrorRef = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(undefined);\n    handleErrorRef.current = onError;\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!call || !backgroundFilter)\n            return;\n        const { unregister } = call.camera.registerFilter((ms) => start(ms, (error) => handleErrorRef.current?.(error)));\n        return () => {\n            unregister();\n        };\n    }, [backgroundFilter, call, start]);\n    return children;\n};\nconst useRenderer = (tfLite) => {\n    const { backgroundFilter, backgroundBlurLevel, backgroundImage } = useBackgroundFilters();\n    const videoRef = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(null);\n    const canvasRef = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(null);\n    const bgImageRef = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(null);\n    const [videoSize, setVideoSize] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)({\n        width: 1920,\n        height: 1080,\n    });\n    const start = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((ms, onError) => {\n        let outputStream;\n        let renderer;\n        const output = new Promise((resolve, reject) => {\n            if (!backgroundFilter) {\n                reject(new Error('No filter specified'));\n                return;\n            }\n            const videoEl = videoRef.current;\n            const canvasEl = canvasRef.current;\n            const bgImageEl = bgImageRef.current;\n            if (!videoEl || !canvasEl || (backgroundImage && !bgImageEl)) {\n                // You should start renderer in effect or event handlers\n                reject(new Error('Renderer started before elements are ready'));\n                return;\n            }\n            videoEl.srcObject = ms;\n            videoEl.play().then(() => {\n                const [track] = ms.getVideoTracks();\n                if (!track) {\n                    reject(new Error('No video tracks in input media stream'));\n                    return;\n                }\n                const trackSettings = track.getSettings();\n                (0,react_dom__WEBPACK_IMPORTED_MODULE_5__.flushSync)(() => setVideoSize({\n                    width: trackSettings.width ?? 0,\n                    height: trackSettings.height ?? 0,\n                }));\n                renderer = (0,_stream_io_video_filters_web__WEBPACK_IMPORTED_MODULE_9__.createRenderer)(tfLite, videoEl, canvasEl, {\n                    backgroundFilter,\n                    backgroundBlurLevel,\n                    backgroundImage: bgImageEl ?? undefined,\n                }, onError);\n                outputStream = canvasEl.captureStream();\n                resolve(outputStream);\n            }, () => {\n                reject(new Error('Could not play the source video stream'));\n            });\n        });\n        return {\n            output,\n            stop: () => {\n                renderer?.dispose();\n                videoRef.current && (videoRef.current.srcObject = null);\n                outputStream && (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.disposeOfMediaStream)(outputStream);\n            },\n        };\n    }, [backgroundBlurLevel, backgroundFilter, backgroundImage, tfLite]);\n    const children = ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__background-filters\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"video\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__background-filters__video', videoSize.height > videoSize.width &&\n                    'str-video__background-filters__video--tall'), ref: videoRef, playsInline: true, muted: true, controls: false, ...videoSize }), backgroundImage && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"img\", { className: \"str-video__background-filters__background-image\", alt: \"Background\", ref: bgImageRef, src: backgroundImage, ...videoSize })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"canvas\", { className: \"str-video__background-filters__target-canvas\", ...videoSize, ref: canvasRef })] }));\n    return {\n        start,\n        children,\n    };\n};\n\nconst IconButton = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function IconButton(props, ref) {\n    const { icon, enabled, variant, onClick, className, ...rest } = props;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"button\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__call-controls__button', className, {\n            [`str-video__call-controls__button--variant-${variant}`]: variant,\n            'str-video__call-controls__button--enabled': enabled,\n        }), onClick: (e) => {\n            e.preventDefault();\n            onClick?.(e);\n        }, ref: ref, ...rest, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: icon }) }));\n});\n\nconst CompositeButton = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function CompositeButton({ disabled, caption, children, className, active, Menu, menuPlacement, menuOffset, title, ToggleMenuButton = DefaultToggleMenuButton, variant, onClick, onMenuToggle, ...restButtonProps }, ref) {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__composite-button', className, {\n            'str-video__composite-button--caption': caption,\n            'str-video__composite-button--menu': Menu,\n        }), title: title, ref: ref, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__composite-button__button-group', {\n                    'str-video__composite-button__button-group--active': active,\n                    'str-video__composite-button__button-group--active-primary': active && variant === 'primary',\n                    'str-video__composite-button__button-group--active-secondary': active && variant === 'secondary',\n                    'str-video__composite-button__button-group--disabled': disabled,\n                }), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"button\", { type: \"button\", className: \"str-video__composite-button__button\", onClick: (e) => {\n                            e.preventDefault();\n                            onClick?.(e);\n                        }, disabled: disabled, ...restButtonProps, children: children }), Menu && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MenuToggle, { offset: menuOffset, placement: menuPlacement, ToggleButton: ToggleMenuButton, onToggle: onMenuToggle, children: isComponentType(Menu) ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Menu, {}) : Menu }))] }), caption && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__composite-button__caption\", children: caption }))] }));\n});\nconst DefaultToggleMenuButton = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function DefaultToggleMenuButton({ menuShown }, ref) {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__menu-toggle-button', {\n            'str-video__menu-toggle-button--active': menuShown,\n        }), icon: menuShown ? 'caret-down' : 'caret-up', ref: ref }));\n});\n\nconst TextButton = ({ children, ...rest }) => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"button\", { ...rest, className: \"str-video__text-button\", children: children }));\n};\n\nconst AcceptCallButton = ({ disabled, onAccept, onClick, }) => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const handleClick = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(async (e) => {\n        if (onClick) {\n            onClick(e);\n        }\n        else if (call) {\n            await call.join();\n            onAccept?.();\n        }\n    }, [onClick, onAccept, call]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { disabled: disabled, icon: \"call-accept\", variant: \"success\", \"data-testid\": \"accept-call-button\", onClick: handleClick }));\n};\n\nconst Notification = (props) => {\n    const { isVisible, message, children, visibilityTimeout, resetIsVisible, placement = 'top', iconClassName = 'str-video__notification__icon', close, } = props;\n    const { refs, x, y, strategy } = useFloatingUIPreset({\n        placement,\n        strategy: 'absolute',\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!isVisible || !visibilityTimeout || !resetIsVisible)\n            return;\n        const timeout = setTimeout(() => {\n            resetIsVisible();\n        }, visibilityTimeout);\n        return () => clearTimeout(timeout);\n    }, [isVisible, resetIsVisible, visibilityTimeout]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { ref: refs.setReference, children: [isVisible && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__notification\", ref: refs.setFloating, style: {\n                    position: strategy,\n                    top: y ?? 0,\n                    left: x ?? 0,\n                    overflowY: 'auto',\n                }, children: [iconClassName && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"i\", { className: iconClassName }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__notification__message\", children: message }), close ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"i\", { className: \"str-video__icon str-video__icon--close str-video__notification__close\", onClick: close })) : null] })), children] }));\n};\n\nconst PermissionNotification = (props) => {\n    const { permission, isAwaitingApproval, messageApproved, messageAwaitingApproval, messageRevoked, visibilityTimeout = 3500, children, } = props;\n    const { useHasPermissions } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const hasPermission = useHasPermissions(permission);\n    const prevHasPermission = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(hasPermission);\n    const [showNotification, setShowNotification] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)();\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (hasPermission && !prevHasPermission.current) {\n            setShowNotification('granted');\n            prevHasPermission.current = true;\n        }\n        else if (!hasPermission && prevHasPermission.current) {\n            setShowNotification('revoked');\n            prevHasPermission.current = false;\n        }\n    }, [hasPermission]);\n    const resetIsVisible = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(() => setShowNotification(undefined), []);\n    if (isAwaitingApproval) {\n        return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Notification, { isVisible: isAwaitingApproval && !hasPermission, message: messageAwaitingApproval, children: children }));\n    }\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Notification, { isVisible: !!showNotification, visibilityTimeout: visibilityTimeout, resetIsVisible: resetIsVisible, message: showNotification === 'granted' ? messageApproved : messageRevoked, children: children }));\n};\n\nconst SpeakingWhileMutedNotification = ({ children, text, placement, }) => {\n    const { useMicrophoneState } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const { isSpeakingWhileMuted } = useMicrophoneState();\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const message = text ?? t('You are muted. Unmute to speak.');\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Notification, { message: message, isVisible: isSpeakingWhileMuted, placement: placement || 'top-start', children: children }));\n};\n\nconst RecordingInProgressNotification = ({ children, text, }) => {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const { isCallRecordingInProgress } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useToggleCallRecording)();\n    const [isVisible, setVisible] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    const message = text ?? t('Recording in progress...');\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (isCallRecordingInProgress) {\n            setVisible(true);\n        }\n        else {\n            setVisible(false);\n        }\n    }, [isCallRecordingInProgress]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Notification, { message: message, iconClassName: \"str-video__icon str-video__icon--recording-on\", isVisible: isVisible, placement: \"top-start\", close: () => setVisible(false), children: children }));\n};\n\nconst LoadingIndicator = ({ className, type = 'spinner', text, tooltip, }) => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__loading-indicator', className), title: tooltip, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__loading-indicator__icon', type) }), text && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"p\", { className: \"str-video__loading-indicator-text\", children: text })] }));\n};\n\nconst Tooltip = ({ children, referenceElement, tooltipClassName, tooltipPlacement = 'top', visible = false, }) => {\n    const arrowRef = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(null);\n    const { refs, x, y, strategy, context } = useFloatingUIPreset({\n        placement: tooltipPlacement,\n        strategy: 'absolute',\n        middleware: [(0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_7__.arrow)({ element: arrowRef })],\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        refs.setReference(referenceElement);\n    }, [referenceElement, refs]);\n    if (!visible)\n        return null;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__tooltip', tooltipClassName), ref: refs.setFloating, style: {\n            position: strategy,\n            top: y ?? 0,\n            left: x ?? 0,\n        }, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__.FloatingArrow, { ref: arrowRef, context: context, fill: \"var(--str-video__tooltip--background-color)\" }), children] }));\n};\n\nconst useEnterLeaveHandlers = ({ onMouseEnter, onMouseLeave, } = {}) => {\n    const [tooltipVisible, setTooltipVisible] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    const handleMouseEnter = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((e) => {\n        setTooltipVisible(true);\n        onMouseEnter?.(e);\n    }, [onMouseEnter]);\n    const handleMouseLeave = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((e) => {\n        setTooltipVisible(false);\n        onMouseLeave?.(e);\n    }, [onMouseLeave]);\n    return { handleMouseEnter, handleMouseLeave, tooltipVisible };\n};\n\n// todo: duplicate of CallParticipantList.tsx#MediaIndicator - refactor to a single component\nconst WithTooltip = ({ title, tooltipClassName, tooltipPlacement, tooltipDisabled, ...props }) => {\n    const { handleMouseEnter, handleMouseLeave, tooltipVisible } = useEnterLeaveHandlers();\n    const [tooltipAnchor, setTooltipAnchor] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    const tooltipActuallyVisible = !tooltipDisabled && Boolean(title) && tooltipVisible;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Tooltip, { referenceElement: tooltipAnchor, visible: tooltipActuallyVisible, tooltipClassName: tooltipClassName, tooltipPlacement: tooltipPlacement, children: title || '' }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { ref: setTooltipAnchor, onMouseEnter: handleMouseEnter, onMouseLeave: handleMouseLeave, ...props })] }));\n};\n\nconst RecordEndConfirmation = () => {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const { toggleCallRecording, isAwaitingResponse } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useToggleCallRecording)();\n    const { close } = useMenuContext();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__end-recording__confirmation\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__end-recording__header\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"recording-on\" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"h2\", { className: \"str-video__end-recording__heading\", children: t('End recording') })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"p\", { className: \"str-video__end-recording__description\", children: t('Are you sure you want end the recording?') }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__end-recording__actions\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CompositeButton, { variant: \"secondary\", onClick: close, children: t('Cancel') }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CompositeButton, { variant: \"primary\", onClick: toggleCallRecording, children: isAwaitingResponse ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(LoadingIndicator, {}) : t('End recording') })] })] }));\n};\nconst ToggleEndRecordingMenuButton = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function ToggleEndRecordingMenuButton(props, ref) {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CompositeButton, { ref: ref, active: true, variant: \"secondary\", \"data-testid\": \"recording-stop-button\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"recording-off\" }) }));\n});\nconst RecordCallConfirmationButton = ({ caption, }) => {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const { toggleCallRecording, isAwaitingResponse, isCallRecordingInProgress } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useToggleCallRecording)();\n    if (isCallRecordingInProgress) {\n        return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [\n                _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.START_RECORD_CALL,\n                _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.STOP_RECORD_CALL,\n            ], children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MenuToggle, { ToggleButton: ToggleEndRecordingMenuButton, visualType: MenuVisualType.PORTAL, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(RecordEndConfirmation, {}) }) }));\n    }\n    const title = isAwaitingResponse\n        ? t('Waiting for recording to start...')\n        : caption ?? t('Record call');\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [\n            _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.START_RECORD_CALL,\n            _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.STOP_RECORD_CALL,\n        ], children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(WithTooltip, { title: title, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CompositeButton, { active: isCallRecordingInProgress, caption: caption, variant: \"secondary\", \"data-testid\": \"recording-start-button\", onClick: isAwaitingResponse ? undefined : toggleCallRecording, children: isAwaitingResponse ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(LoadingIndicator, {})) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"recording-off\" })) }) }) }));\n};\nconst RecordCallButton = ({ caption }) => {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const { toggleCallRecording, isAwaitingResponse, isCallRecordingInProgress } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useToggleCallRecording)();\n    let title = caption ?? t('Record call');\n    if (isAwaitingResponse) {\n        title = isCallRecordingInProgress\n            ? t('Waiting for recording to stop...')\n            : t('Waiting for recording to start...');\n    }\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [\n            _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.START_RECORD_CALL,\n            _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.STOP_RECORD_CALL,\n        ], children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CompositeButton, { active: isCallRecordingInProgress, caption: caption, variant: \"secondary\", \"data-testid\": isCallRecordingInProgress\n                ? 'recording-stop-button'\n                : 'recording-start-button', title: title, onClick: isAwaitingResponse ? undefined : toggleCallRecording, children: isAwaitingResponse ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(LoadingIndicator, {})) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: isCallRecordingInProgress ? 'recording-on' : 'recording-off' })) }) }));\n};\n\nconst defaultEmojiReactionMap = {\n    ':like:': '👍',\n    ':raise-hand:': '✋',\n    ':fireworks:': '🎉',\n    ':dislike:': '👎',\n    ':heart:': '❤️',\n    ':smile:': '😀',\n};\nconst Reaction = ({ participant: { reaction, sessionId }, hideAfterTimeoutInMs = 5500, emojiReactionMap = defaultEmojiReactionMap, }) => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!call || !reaction)\n            return;\n        const timeoutId = setTimeout(() => {\n            call.resetReaction(sessionId);\n        }, hideAfterTimeoutInMs);\n        return () => {\n            clearTimeout(timeoutId);\n        };\n    }, [call, hideAfterTimeoutInMs, reaction, sessionId]);\n    if (!reaction)\n        return null;\n    const { emoji_code: emojiCode } = reaction;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__reaction\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__reaction__emoji\", children: emojiCode && emojiReactionMap[emojiCode] }) }));\n};\n\nconst defaultReactions = [\n    {\n        type: 'reaction',\n        emoji_code: ':like:',\n    },\n    {\n        // TODO OL: use `prompt` type?\n        type: 'raised-hand',\n        emoji_code: ':raise-hand:',\n    },\n    {\n        type: 'reaction',\n        emoji_code: ':fireworks:',\n    },\n    {\n        type: 'reaction',\n        emoji_code: ':dislike:',\n    },\n    {\n        type: 'reaction',\n        emoji_code: ':heart:',\n    },\n    {\n        type: 'reaction',\n        emoji_code: ':smile:',\n    },\n];\nconst ReactionsButton = ({ reactions = defaultReactions, }) => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.CREATE_REACTION], children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MenuToggle, { placement: \"top\", ToggleButton: ToggleReactionsMenuButton, visualType: MenuVisualType.MENU, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DefaultReactionsMenu, { reactions: reactions }) }) }));\n};\nconst ToggleReactionsMenuButton = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function ToggleReactionsMenuButton({ menuShown }, ref) {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(WithTooltip, { title: t('Reactions'), tooltipDisabled: menuShown, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CompositeButton, { ref: ref, active: menuShown, variant: \"primary\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"reactions\" }) }) }));\n});\nconst DefaultReactionsMenu = ({ reactions, layout = 'horizontal', }) => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const { close } = useMenuContext();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__reactions-menu', {\n            'str-video__reactions-menu--horizontal': layout === 'horizontal',\n            'str-video__reactions-menu--vertical': layout === 'vertical',\n        }), children: reactions.map((reaction) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"button\", { type: \"button\", className: \"str-video__reactions-menu__button\", onClick: () => {\n                call?.sendReaction(reaction);\n                close?.();\n            }, children: reaction.emoji_code && defaultEmojiReactionMap[reaction.emoji_code] }, reaction.emoji_code))) }));\n};\n\n/**\n * Wraps an event handler, silencing and logging exceptions (excluding the NotAllowedError\n * DOMException, which is a normal situation handled by the SDK)\n *\n * @param props component props, including the onError callback\n * @param handler event handler to wrap\n */\nconst createCallControlHandler = (props, handler) => {\n    const logger = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getLogger)(['react-sdk']);\n    return async () => {\n        try {\n            await handler();\n        }\n        catch (error) {\n            if (props.onError) {\n                props.onError(error);\n                return;\n            }\n            if (!isNotAllowedError(error)) {\n                logger('error', 'Call control handler failed', error);\n            }\n        }\n    };\n};\nfunction isNotAllowedError(error) {\n    return error instanceof DOMException && error.name === 'NotAllowedError';\n}\n\nconst ScreenShareButton = (props) => {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const { caption } = props;\n    const { useHasOngoingScreenShare, useScreenShareState, useCallSettings } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const isSomeoneScreenSharing = useHasOngoingScreenShare();\n    const { hasPermission, requestPermission, isAwaitingPermission } = useRequestPermission(_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SCREENSHARE);\n    const callSettings = useCallSettings();\n    const isScreenSharingAllowed = callSettings?.screensharing.enabled;\n    const { screenShare, optimisticIsMute } = useScreenShareState();\n    const amIScreenSharing = !optimisticIsMute;\n    const disableScreenShareButton = !amIScreenSharing &&\n        (isSomeoneScreenSharing || isScreenSharingAllowed === false);\n    const handleClick = createCallControlHandler(props, async () => {\n        if (!hasPermission) {\n            await requestPermission();\n        }\n        else {\n            await screenShare.toggle();\n        }\n    });\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SCREENSHARE], children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(PermissionNotification, { permission: _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SCREENSHARE, isAwaitingApproval: isAwaitingPermission, messageApproved: t('You can now share your screen.'), messageAwaitingApproval: t('Awaiting for an approval to share screen.'), messageRevoked: t('You can no longer share your screen.'), children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(WithTooltip, { title: caption ?? t('Share screen'), children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CompositeButton, { active: isSomeoneScreenSharing || amIScreenSharing, caption: caption, variant: \"primary\", \"data-testid\": isSomeoneScreenSharing\n                        ? 'screen-share-stop-button'\n                        : 'screen-share-start-button', disabled: disableScreenShareButton, onClick: handleClick, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: isSomeoneScreenSharing ? 'screen-share-on' : 'screen-share-off' }) }) }) }) }));\n};\n\nconst SelectContext = (0,react__WEBPACK_IMPORTED_MODULE_3__.createContext)({});\nconst Select = (props) => {\n    const { children, icon, defaultSelectedLabel, defaultSelectedIndex, handleSelect: handleSelectProp, } = props;\n    const [isOpen, setIsOpen] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    const [activeIndex, setActiveIndex] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    const [selectedIndex, setSelectedIndex] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(defaultSelectedIndex);\n    const [selectedLabel, setSelectedLabel] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(defaultSelectedLabel);\n    const { refs, context } = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__.useFloating)({\n        placement: 'bottom-start',\n        open: isOpen,\n        onOpenChange: setIsOpen,\n        whileElementsMounted: _floating_ui_react__WEBPACK_IMPORTED_MODULE_8__.autoUpdate,\n        middleware: [(0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_7__.flip)()],\n    });\n    const elementsRef = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)([]);\n    const labelsRef = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)([]);\n    const handleSelect = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((index) => {\n        setSelectedIndex(index);\n        handleSelectProp(index || 0);\n        setIsOpen(false);\n        if (index !== null) {\n            setSelectedLabel(labelsRef.current[index]);\n        }\n    }, [handleSelectProp]);\n    const handleTypeaheadMatch = (index) => {\n        if (isOpen) {\n            setActiveIndex(index);\n        }\n        else {\n            handleSelect(index);\n        }\n    };\n    const listNav = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__.useListNavigation)(context, {\n        listRef: elementsRef,\n        activeIndex,\n        selectedIndex,\n        onNavigate: setActiveIndex,\n    });\n    const typeahead = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__.useTypeahead)(context, {\n        listRef: labelsRef,\n        activeIndex,\n        selectedIndex,\n        onMatch: handleTypeaheadMatch,\n    });\n    const click = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__.useClick)(context);\n    const dismiss = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__.useDismiss)(context);\n    const role = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__.useRole)(context, { role: 'listbox' });\n    const { getReferenceProps, getFloatingProps, getItemProps } = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__.useInteractions)([listNav, typeahead, click, dismiss, role]);\n    const selectContext = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(() => ({\n        activeIndex,\n        selectedIndex,\n        getItemProps,\n        handleSelect,\n    }), [activeIndex, selectedIndex, getItemProps, handleSelect]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__dropdown\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__dropdown-selected\", ref: refs.setReference, tabIndex: 0, ...getReferenceProps(), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"label\", { className: \"str-video__dropdown-selected__label\", children: [icon && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { className: \"str-video__dropdown-selected__icon\", icon: icon })), selectedLabel] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { className: \"str-video__dropdown-selected__chevron\", icon: isOpen ? 'chevron-up' : 'chevron-down' })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(SelectContext.Provider, { value: selectContext, children: isOpen && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__.FloatingFocusManager, { context: context, modal: false, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__dropdown-list\", ref: refs.setFloating, ...getFloatingProps(), children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__.FloatingList, { elementsRef: elementsRef, labelsRef: labelsRef, children: children }) }) })) })] }));\n};\nconst DropDownSelectOption = (props) => {\n    const { selected, label, icon } = props;\n    const { getItemProps, handleSelect } = (0,react__WEBPACK_IMPORTED_MODULE_3__.useContext)(SelectContext);\n    const { ref, index } = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__.useListItem)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__dropdown-option', {\n            'str-video__dropdown-option--selected': selected,\n        }), ref: ref, ...getItemProps({\n            onClick: () => handleSelect(index),\n        }), children: [icon && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { className: \"str-video__dropdown-icon\", icon: icon }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__dropdown-label\", children: label })] }));\n};\nconst DropDownSelect = (props) => {\n    const { children, icon, handleSelect, defaultSelectedLabel, defaultSelectedIndex, } = props;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Select, { icon: icon, handleSelect: handleSelect, defaultSelectedIndex: defaultSelectedIndex, defaultSelectedLabel: defaultSelectedLabel, children: children }));\n};\n\nconst DeviceSelectorOption = ({ disabled, id, label, onChange, name, selected, defaultChecked, value, }) => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"label\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__device-settings__option', {\n            'str-video__device-settings__option--selected': selected,\n            'str-video__device-settings__option--disabled': disabled,\n        }), htmlFor: id, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"input\", { type: \"radio\", name: name, onChange: onChange, value: value, id: id, checked: selected, defaultChecked: defaultChecked, disabled: disabled }), label] }));\n};\nconst DeviceSelectorList = (props) => {\n    const { devices = [], selectedDeviceId, title, type, onChange } = props;\n    const { close } = useMenuContext();\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__device-settings__device-kind\", children: [title && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__device-settings__device-selector-title\", children: title })), devices.length === 0 ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DeviceSelectorOption, { id: `${type}--default`, label: t('Default'), name: type, defaultChecked: true, value: \"default\" })) : (devices.map((device) => {\n                return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DeviceSelectorOption, { id: `${type}--${device.deviceId}`, value: device.deviceId, label: device.label, onChange: (e) => {\n                        onChange?.(e.target.value);\n                        close?.();\n                    }, name: type, selected: device.deviceId === selectedDeviceId || devices.length === 1 }, device.deviceId));\n            }))] }));\n};\nconst DeviceSelectorDropdown = (props) => {\n    const { devices = [], selectedDeviceId, title, onChange, icon } = props;\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const selectedIndex = devices.findIndex((d) => d.deviceId === selectedDeviceId);\n    const handleSelect = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((index) => {\n        onChange?.(devices[index].deviceId);\n    }, [devices, onChange]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__device-settings__device-kind\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__device-settings__device-selector-title\", children: title }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DropDownSelect, { icon: icon, defaultSelectedIndex: selectedIndex, defaultSelectedLabel: devices[selectedIndex]?.label ?? t('Default'), handleSelect: handleSelect, children: devices.length === 0 ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DropDownSelectOption, { icon: icon, label: t('Default'), selected: true })) : (devices.map((device) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DropDownSelectOption, { icon: icon, label: device.label, selected: device.deviceId === selectedDeviceId || devices.length === 1 }, device.deviceId)))) })] }));\n};\nconst DeviceSelector = (props) => {\n    const { visualType = 'list', icon, placeholder, ...rest } = props;\n    if (visualType === 'list') {\n        return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DeviceSelectorList, { ...rest });\n    }\n    return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DeviceSelectorDropdown, { ...rest, icon: icon });\n};\n\nconst DeviceSelectorAudioInput = ({ title, visualType, }) => {\n    const { useMicrophoneState } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const { microphone, selectedDevice, devices } = useMicrophoneState();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DeviceSelector, { devices: devices || [], selectedDeviceId: selectedDevice, type: \"audioinput\", onChange: async (deviceId) => {\n            await microphone.select(deviceId);\n        }, title: title, visualType: visualType, icon: \"mic\" }));\n};\nconst DeviceSelectorAudioOutput = ({ title, visualType, }) => {\n    const { useSpeakerState } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const { speaker, selectedDevice, devices, isDeviceSelectionSupported } = useSpeakerState();\n    if (!isDeviceSelectionSupported)\n        return null;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DeviceSelector, { devices: devices, type: \"audiooutput\", selectedDeviceId: selectedDevice, onChange: (deviceId) => {\n            speaker.select(deviceId);\n        }, title: title, visualType: visualType, icon: \"speaker\" }));\n};\n\nconst DeviceSelectorVideo = ({ title, visualType, }) => {\n    const { useCameraState } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const { camera, devices, selectedDevice } = useCameraState();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DeviceSelector, { devices: devices || [], type: \"videoinput\", selectedDeviceId: selectedDevice, onChange: async (deviceId) => {\n            await camera.select(deviceId);\n        }, title: title, visualType: visualType, icon: \"camera\" }));\n};\n\nconst DeviceSettings = ({ visualType = MenuVisualType.MENU, }) => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MenuToggle, { placement: \"bottom-end\", ToggleButton: ToggleDeviceSettingsMenuButton, visualType: visualType, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Menu, {}) }));\n};\nconst Menu = () => {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__device-settings\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DeviceSelectorVideo, { title: t('Select a Camera') }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DeviceSelectorAudioInput, { title: t('Select a Mic') }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DeviceSelectorAudioOutput, { title: t('Select Speakers') })] }));\n};\nconst ToggleDeviceSettingsMenuButton = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function ToggleDeviceSettingsMenuButton({ menuShown }, ref) {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__device-settings__button', {\n            'str-video__device-settings__button--active': menuShown,\n        }), title: t('Toggle device menu'), icon: \"device-settings\", ref: ref }));\n});\n\nconst ToggleAudioPreviewButton = (props) => {\n    const { caption, onMenuToggle, ...restCompositeButtonProps } = props;\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const { useMicrophoneState } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const { microphone, optimisticIsMute, hasBrowserPermission } = useMicrophoneState();\n    const [tooltipDisabled, setTooltipDisabled] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    const handleClick = createCallControlHandler(props, () => microphone.toggle());\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(WithTooltip, { title: !hasBrowserPermission\n            ? t('Check your browser audio permissions')\n            : caption ?? t('Mic'), tooltipDisabled: tooltipDisabled, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(CompositeButton, { active: optimisticIsMute, caption: caption, className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(!hasBrowserPermission && 'str-video__device-unavailable'), variant: \"secondary\", disabled: !hasBrowserPermission, \"data-testid\": optimisticIsMute\n                ? 'preview-audio-unmute-button'\n                : 'preview-audio-mute-button', onClick: handleClick, ...restCompositeButtonProps, onMenuToggle: (shown) => {\n                setTooltipDisabled(shown);\n                onMenuToggle?.(shown);\n            }, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: !optimisticIsMute ? 'mic' : 'mic-off' }), !hasBrowserPermission && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__no-media-permission\", title: t('Check your browser audio permissions'), children: \"!\" }))] }) }));\n};\nconst ToggleAudioPublishingButton = (props) => {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const { caption, Menu = (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DeviceSelectorAudioInput, { visualType: \"list\" }), menuPlacement = 'top', onMenuToggle, ...restCompositeButtonProps } = props;\n    const { hasPermission, requestPermission, isAwaitingPermission } = useRequestPermission(_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SEND_AUDIO);\n    const { useMicrophoneState } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const { microphone, optimisticIsMute, hasBrowserPermission } = useMicrophoneState();\n    const [tooltipDisabled, setTooltipDisabled] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    const handleClick = createCallControlHandler(props, async () => {\n        if (!hasPermission) {\n            await requestPermission();\n        }\n        else {\n            await microphone.toggle();\n        }\n    });\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SEND_AUDIO], children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(PermissionNotification, { permission: _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SEND_AUDIO, isAwaitingApproval: isAwaitingPermission, messageApproved: t('You can now speak.'), messageAwaitingApproval: t('Awaiting for an approval to speak.'), messageRevoked: t('You can no longer speak.'), children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(WithTooltip, { title: !hasPermission\n                    ? t('You have no permission to share your audio')\n                    : !hasBrowserPermission\n                        ? t('Check your browser mic permissions')\n                        : caption ?? t('Mic'), tooltipDisabled: tooltipDisabled, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(CompositeButton, { active: optimisticIsMute, caption: caption, variant: \"secondary\", disabled: !hasBrowserPermission || !hasPermission, \"data-testid\": optimisticIsMute ? 'audio-unmute-button' : 'audio-mute-button', onClick: handleClick, Menu: Menu, menuPlacement: menuPlacement, menuOffset: 16, ...restCompositeButtonProps, onMenuToggle: (shown) => {\n                        setTooltipDisabled(shown);\n                        onMenuToggle?.(shown);\n                    }, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: optimisticIsMute ? 'mic-off' : 'mic' }), (!hasBrowserPermission || !hasPermission) && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__no-media-permission\", children: \"!\" }))] }) }) }) }));\n};\n\nconst ToggleVideoPreviewButton = (props) => {\n    const { caption, Menu = DeviceSelectorVideo, menuPlacement = 'top', onMenuToggle, ...restCompositeButtonProps } = props;\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const { useCameraState } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const { camera, optimisticIsMute, hasBrowserPermission } = useCameraState();\n    const [tooltipDisabled, setTooltipDisabled] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    const handleClick = createCallControlHandler(props, () => camera.toggle());\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(WithTooltip, { title: !hasBrowserPermission\n            ? t('Check your browser video permissions')\n            : caption ?? t('Video'), tooltipDisabled: tooltipDisabled, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(CompositeButton, { active: optimisticIsMute, caption: caption, className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(!hasBrowserPermission && 'str-video__device-unavailable'), variant: \"secondary\", \"data-testid\": optimisticIsMute\n                ? 'preview-video-unmute-button'\n                : 'preview-video-mute-button', onClick: handleClick, disabled: !hasBrowserPermission, Menu: Menu, menuPlacement: menuPlacement, ...restCompositeButtonProps, onMenuToggle: (shown) => {\n                setTooltipDisabled(shown);\n                onMenuToggle?.(shown);\n            }, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: !optimisticIsMute ? 'camera' : 'camera-off' }), !hasBrowserPermission && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__no-media-permission\", title: t('Check your browser video permissions'), children: \"!\" }))] }) }));\n};\nconst ToggleVideoPublishingButton = (props) => {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const { caption, Menu = (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DeviceSelectorVideo, { visualType: \"list\" }), menuPlacement = 'top', onMenuToggle, ...restCompositeButtonProps } = props;\n    const { hasPermission, requestPermission, isAwaitingPermission } = useRequestPermission(_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SEND_VIDEO);\n    const { useCameraState, useCallSettings } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const { camera, optimisticIsMute, hasBrowserPermission } = useCameraState();\n    const callSettings = useCallSettings();\n    const isPublishingVideoAllowed = callSettings?.video.enabled;\n    const [tooltipDisabled, setTooltipDisabled] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    const handleClick = createCallControlHandler(props, async () => {\n        if (!hasPermission) {\n            await requestPermission();\n        }\n        else {\n            await camera.toggle();\n        }\n    });\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SEND_VIDEO], children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(PermissionNotification, { permission: _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SEND_VIDEO, isAwaitingApproval: isAwaitingPermission, messageApproved: t('You can now share your video.'), messageAwaitingApproval: t('Awaiting for an approval to share your video.'), messageRevoked: t('You can no longer share your video.'), children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(WithTooltip, { title: !hasPermission\n                    ? t('You have no permission to share your video')\n                    : !hasBrowserPermission\n                        ? t('Check your browser video permissions')\n                        : !isPublishingVideoAllowed\n                            ? t('Video publishing is disabled by the system')\n                            : caption || t('Video'), tooltipDisabled: tooltipDisabled, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(CompositeButton, { active: optimisticIsMute, caption: caption, variant: \"secondary\", disabled: !hasBrowserPermission ||\n                        !hasPermission ||\n                        !isPublishingVideoAllowed, \"data-testid\": optimisticIsMute ? 'video-unmute-button' : 'video-mute-button', onClick: handleClick, Menu: Menu, menuPlacement: menuPlacement, menuOffset: 16, ...restCompositeButtonProps, onMenuToggle: (shown) => {\n                        setTooltipDisabled(shown);\n                        onMenuToggle?.(shown);\n                    }, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: optimisticIsMute ? 'camera-off' : 'camera' }), (!hasBrowserPermission ||\n                            !hasPermission ||\n                            !isPublishingVideoAllowed) && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__no-media-permission\", children: \"!\" }))] }) }) }) }));\n};\n\nconst EndCallMenu = (props) => {\n    const { onLeave, onEnd } = props;\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__end-call__confirmation\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"button\", { className: \"str-video__button str-video__end-call__leave\", type: \"button\", \"data-testid\": \"leave-call-button\", onClick: onLeave, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { className: \"str-video__button__icon str-video__end-call__leave-icon\", icon: \"logout\" }), t('Leave call')] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.END_CALL], children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"button\", { className: \"str-video__button str-video__end-call__end\", type: \"button\", \"data-testid\": \"end-call-for-all-button\", onClick: onEnd, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { className: \"str-video__button__icon str-video__end-call__end-icon\", icon: \"call-end\" }), t('End call for all')] }) })] }));\n};\nconst CancelCallToggleMenuButton = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function CancelCallToggleMenuButton({ menuShown }, ref) {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(WithTooltip, { title: t('Leave call'), tooltipDisabled: menuShown, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { icon: menuShown ? 'close' : 'call-end', variant: menuShown ? 'active' : 'danger', \"data-testid\": \"leave-call-button\", ref: ref }) }));\n});\nconst CancelCallConfirmButton = ({ onClick, onLeave, }) => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const handleLeave = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(async (e) => {\n        if (onClick) {\n            onClick(e);\n        }\n        else if (call) {\n            await call.leave();\n            onLeave?.();\n        }\n    }, [onClick, onLeave, call]);\n    const handleEndCall = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(async (e) => {\n        if (onClick) {\n            onClick(e);\n        }\n        else if (call) {\n            await call.endCall();\n            onLeave?.();\n        }\n    }, [onClick, onLeave, call]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MenuToggle, { placement: \"top-start\", ToggleButton: CancelCallToggleMenuButton, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(EndCallMenu, { onEnd: handleEndCall, onLeave: handleLeave }) }));\n};\nconst CancelCallButton = ({ disabled, caption, onClick, onLeave, }) => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const handleClick = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(async (e) => {\n        if (onClick) {\n            onClick(e);\n        }\n        else if (call) {\n            await call.leave();\n            onLeave?.();\n        }\n    }, [onClick, onLeave, call]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { disabled: disabled, icon: \"call-end\", variant: \"danger\", title: caption ?? t('Leave call'), \"data-testid\": \"cancel-call-button\", onClick: handleClick }));\n};\n\nconst CallControls = ({ onLeave }) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__call-controls\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SEND_AUDIO], children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(SpeakingWhileMutedNotification, { children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ToggleAudioPublishingButton, {}) }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SEND_VIDEO], children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ToggleVideoPublishingButton, {}) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.CREATE_REACTION], children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ReactionsButton, {}) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SCREENSHARE], children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ScreenShareButton, {}) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [\n                _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.START_RECORD_CALL,\n                _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.STOP_RECORD_CALL,\n            ], children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(RecordCallButton, {}) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CancelCallButton, { onLeave: onLeave })] }));\n\nconst CallStatsLatencyChart = (0,react__WEBPACK_IMPORTED_MODULE_3__.lazy)(() => Promise.all(/*! import() */[__webpack_require__.e(\"vendor-chunks/@stream-io\"), __webpack_require__.e(\"vendor-chunks/chart.js\"), __webpack_require__.e(\"vendor-chunks/react-chartjs-2\"), __webpack_require__.e(\"vendor-chunks/@kurkle\")]).then(__webpack_require__.bind(__webpack_require__, /*! ./latency-chart-Bj5OSYzg.es.js */ \"(ssr)/../../../node_modules/@stream-io/video-react-sdk/dist/latency-chart-Bj5OSYzg.es.js\")));\nvar Status;\n(function (Status) {\n    Status[\"GOOD\"] = \"Good\";\n    Status[\"OK\"] = \"Ok\";\n    Status[\"BAD\"] = \"Bad\";\n})(Status || (Status = {}));\nconst CallStats = (props) => {\n    const { latencyLowBound = 75, latencyHighBound = 400, showCodecInfo = false, LatencyChartSuspenseFallback = null, } = props;\n    const [latencyBuffer, setLatencyBuffer] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(() => {\n        const now = Date.now();\n        return Array.from({ length: 20 }, (_, i) => ({ x: now + i, y: 0 }));\n    });\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const [publishBitrate, setPublishBitrate] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)('-');\n    const [subscribeBitrate, setSubscribeBitrate] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)('-');\n    const previousStats = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)();\n    const { useCallStatsReport } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const callStatsReport = useCallStatsReport();\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!callStatsReport)\n            return;\n        if (!previousStats.current) {\n            previousStats.current = callStatsReport;\n            return;\n        }\n        const previousCallStatsReport = previousStats.current;\n        setPublishBitrate(() => {\n            return calculatePublishBitrate(previousCallStatsReport, callStatsReport);\n        });\n        setSubscribeBitrate(() => {\n            return calculateSubscribeBitrate(previousCallStatsReport, callStatsReport);\n        });\n        setLatencyBuffer((latencyBuf) => {\n            const newLatencyBuffer = latencyBuf.slice(-19);\n            newLatencyBuffer.push({\n                x: callStatsReport.timestamp,\n                y: callStatsReport.publisherStats.averageRoundTripTimeInMs,\n            });\n            return newLatencyBuffer;\n        });\n        previousStats.current = callStatsReport;\n    }, [callStatsReport]);\n    const latencyComparison = {\n        lowBound: latencyLowBound,\n        highBound: latencyHighBound,\n        value: callStatsReport?.publisherStats.averageRoundTripTimeInMs || 0,\n    };\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-stats\", children: callStatsReport && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__call-stats__header\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"h3\", { className: \"str-video__call-stats__heading\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { className: \"str-video__call-stats__icon\", icon: \"call-latency\" }), t('Call Latency')] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"p\", { className: \"str-video__call-stats__description\", children: t('Very high latency values may reduce call quality, cause lag, and make the call less enjoyable.') })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-stats__latencychart\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(react__WEBPACK_IMPORTED_MODULE_3__.Suspense, { fallback: LatencyChartSuspenseFallback, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CallStatsLatencyChart, { values: latencyBuffer }) }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__call-stats__header\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"h3\", { className: \"str-video__call-stats__heading\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { className: \"str-video__call-stats__icon\", icon: \"network-quality\" }), t('Call performance')] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"p\", { className: \"str-video__call-stats__description\", children: t('Review the key data points below to assess call performance') })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__call-stats__card-container\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StatCard, { label: t('Region'), value: callStatsReport.datacenter }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StatCard, { label: t('Latency'), value: `${callStatsReport.publisherStats.averageRoundTripTimeInMs} ms.`, comparison: latencyComparison }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StatCard, { label: t('Receive jitter'), value: `${callStatsReport.subscriberStats.averageJitterInMs} ms.`, comparison: {\n                                ...latencyComparison,\n                                value: callStatsReport.subscriberStats.averageJitterInMs,\n                            } }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StatCard, { label: t('Publish jitter'), value: `${callStatsReport.publisherStats.averageJitterInMs} ms.`, comparison: {\n                                ...latencyComparison,\n                                value: callStatsReport.publisherStats.averageJitterInMs,\n                            } }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StatCard, { label: `${t('Publish resolution')}${showCodecInfo ? formatCodec(callStatsReport) : ''}`, value: toFrameSize(callStatsReport.publisherStats) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StatCard, { label: t('Publish quality drop reason'), value: callStatsReport.publisherStats.qualityLimitationReasons }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StatCard, { label: t('Receiving resolution'), value: toFrameSize(callStatsReport.subscriberStats) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StatCard, { label: t('Receive quality drop reason'), value: callStatsReport.subscriberStats.qualityLimitationReasons }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StatCard, { label: t('Publish bitrate'), value: publishBitrate }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StatCard, { label: t('Receiving bitrate'), value: subscribeBitrate })] })] })) }));\n};\nconst StatCardExplanation = (props) => {\n    const { description } = props;\n    const [isOpen, setIsOpen] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    const { refs, floatingStyles, context } = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__.useFloating)({\n        open: isOpen,\n        onOpenChange: setIsOpen,\n    });\n    const hover = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__.useHover)(context);\n    const { getReferenceProps, getFloatingProps } = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__.useInteractions)([hover]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-explanation\", ref: refs.setReference, ...getReferenceProps(), children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { className: \"str-video__call-explanation__icon\", icon: \"info\" }) }), isOpen && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-explanation__description\", ref: refs.setFloating, style: floatingStyles, ...getFloatingProps(), children: description }))] }));\n};\nconst StatsTag = (props) => {\n    const { children, status } = props;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__call-stats__tag', {\n            'str-video__call-stats__tag--good': status === Status.GOOD,\n            'str-video__call-stats__tag--ok': status === Status.OK,\n            'str-video__call-stats__tag--bad': status === Status.BAD,\n        }), children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-stats__tag__text\", children: children }) }));\n};\nconst StatCard = (props) => {\n    const { label, value, description, comparison } = props;\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const status = comparison ? toStatus(comparison) : undefined;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__call-stats__card\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__call-stats__card-content\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__call-stats__card-label\", children: [label, description && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StatCardExplanation, { description: description })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-stats__card-value\", children: value })] }), status && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StatsTag, { status: status, children: t(status) })] }));\n};\nconst toStatus = (config) => {\n    const { value, lowBound, highBound } = config;\n    if (value <= lowBound)\n        return Status.GOOD;\n    if (value >= lowBound && value <= highBound)\n        return Status.OK;\n    if (value >= highBound)\n        return Status.BAD;\n    return Status.GOOD;\n};\nconst toFrameSize = (stats) => {\n    const { highestFrameWidth: w, highestFrameHeight: h, highestFramesPerSecond: fps, } = stats;\n    let size = `-`;\n    if (w && h) {\n        size = `${w}x${h}`;\n        if (fps) {\n            size += `@${fps}fps.`;\n        }\n    }\n    return size;\n};\nconst formatCodec = (callStatsReport) => {\n    const { codec } = callStatsReport.publisherStats;\n    if (!codec)\n        return '';\n    const [, name] = codec.split('/');\n    return name ? ` (${name})` : '';\n};\nconst calculatePublishBitrate = (previousCallStatsReport, callStatsReport) => {\n    const { publisherStats: { totalBytesSent: previousTotalBytesSent, timestamp: previousTimestamp, }, } = previousCallStatsReport;\n    const { publisherStats: { totalBytesSent, timestamp }, } = callStatsReport;\n    const bytesSent = totalBytesSent - previousTotalBytesSent;\n    const timeElapsed = timestamp - previousTimestamp;\n    return `${((bytesSent * 8) / timeElapsed).toFixed(2)} kbps`;\n};\nconst calculateSubscribeBitrate = (previousCallStatsReport, callStatsReport) => {\n    const { subscriberStats: { totalBytesReceived: previousTotalBytesReceived, timestamp: previousTimestamp, }, } = previousCallStatsReport;\n    const { subscriberStats: { totalBytesReceived, timestamp }, } = callStatsReport;\n    const bytesReceived = totalBytesReceived - previousTotalBytesReceived;\n    const timeElapsed = timestamp - previousTimestamp;\n    return `${((bytesReceived * 8) / timeElapsed).toFixed(2)} kbps`;\n};\n\nconst CallStatsButton = () => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MenuToggle, { placement: \"top-end\", ToggleButton: ToggleMenuButton, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CallStats, {}) }));\nconst ToggleMenuButton = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function ToggleMenuButton(props, ref) {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const { caption, menuShown } = props;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CompositeButton, { ref: ref, active: menuShown, caption: caption, title: caption || t('Statistics'), \"data-testid\": \"stats-button\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"stats\" }) }));\n});\n\nconst ToggleAudioOutputButton = (props) => {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const { caption, Menu = DeviceSelectorAudioOutput, menuPlacement = 'top', onMenuToggle, } = props;\n    const [tooltipDisabled, setTooltipDisabled] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(WithTooltip, { title: caption || t('Speakers'), tooltipDisabled: tooltipDisabled, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CompositeButton, { Menu: Menu, menuPlacement: menuPlacement, caption: caption, \"data-testid\": \"audio-output-button\", onMenuToggle: (shown) => {\n                setTooltipDisabled(shown);\n                onMenuToggle?.(shown);\n            }, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"speaker\" }) }) }));\n};\n\nconst BlockedUserListing = ({ data }) => {\n    if (!data.length)\n        return null;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__participant-listing\", children: data.map((userId) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(BlockedUserListingItem, { userId: userId }, userId))) }) }));\n};\nconst BlockedUserListingItem = ({ userId }) => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const unblockUserClickHandler = () => {\n        if (userId)\n            call?.unblockUser(userId);\n    };\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__participant-listing-item\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__participant-listing-item__display-name\", children: userId }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.BLOCK_USERS], children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(TextButton, { onClick: unblockUserClickHandler, children: \"Unblock\" }) })] }));\n};\n\nconst CallParticipantListHeader = ({ onClose, }) => {\n    const { useParticipants, useAnonymousParticipantCount } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const participants = useParticipants();\n    const anonymousParticipantCount = useAnonymousParticipantCount();\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__participant-list-header\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__participant-list-header__title\", children: [t('Participants'), ' ', (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"span\", { className: \"str-video__participant-list-header__title-count\", children: [\"[\", participants.length, \"]\"] }), anonymousParticipantCount > 0 && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__participant-list-header__title-anonymous\", children: t('Anonymous', { count: anonymousParticipantCount }) }))] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { onClick: onClose, className: \"str-video__participant-list-header__close-button\", icon: \"close\" })] }));\n};\n\nconst CallParticipantListingItem = ({ participant, DisplayName = DefaultDisplayName, }) => {\n    const isAudioOn = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasAudio)(participant);\n    const isVideoOn = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasVideo)(participant);\n    const isPinnedOn = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.isPinned)(participant);\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__participant-listing-item\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Avatar, { name: participant.name, imageSrc: participant.image }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DisplayName, { participant: participant }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__participant-listing-item__media-indicator-group\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MediaIndicator, { title: isAudioOn ? t('Microphone on') : t('Microphone off'), className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__participant-listing-item__icon', `str-video__participant-listing-item__icon-${isAudioOn ? 'mic' : 'mic-off'}`) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MediaIndicator, { title: isVideoOn ? t('Camera on') : t('Camera off'), className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__participant-listing-item__icon', `str-video__participant-listing-item__icon-${isVideoOn ? 'camera' : 'camera-off'}`) }), isPinnedOn && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MediaIndicator, { title: t('Pinned'), className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__participant-listing-item__icon', 'str-video__participant-listing-item__icon-pinned') })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MenuToggle, { placement: \"bottom-end\", ToggleButton: ToggleButton$2, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantViewContext.Provider, { value: { participant, trackType: 'none' }, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantActionsContextMenu, {}) }) })] })] }));\n};\nconst MediaIndicator = (props) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(WithTooltip, { ...props }));\nconst DefaultDisplayName = ({ participant }) => {\n    const connectedUser = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useConnectedUser)();\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const meFlag = participant.userId === connectedUser?.id ? t('Me') : '';\n    const nameOrId = participant.name || participant.userId || t('Unknown');\n    let displayName;\n    if (!participant.name) {\n        displayName = meFlag || nameOrId || t('Unknown');\n    }\n    else if (meFlag) {\n        displayName = `${nameOrId} (${meFlag})`;\n    }\n    else {\n        displayName = nameOrId;\n    }\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(WithTooltip, { className: \"str-video__participant-listing-item__display-name\", title: displayName, children: displayName }));\n};\nconst ToggleButton$2 = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function ToggleButton(props, ref) {\n    return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { enabled: props.menuShown, icon: \"ellipsis\", ref: ref });\n});\n\nconst CallParticipantListing = ({ data, }) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__participant-listing\", children: data.map((participant) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CallParticipantListingItem, { participant: participant }, participant.sessionId))) }));\n\nconst EmptyParticipantSearchList = () => {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__participant-list--empty\", children: t('No participants found') }));\n};\n\nconst SearchInput = ({ exitSearch, isActive, ...rest }) => {\n    const [inputElement, setInputElement] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!inputElement)\n            return;\n        const handleKeyDown = (e) => {\n            if (e.key.toLowerCase() === 'escape')\n                exitSearch();\n        };\n        inputElement.addEventListener('keydown', handleKeyDown);\n        return () => {\n            inputElement.removeEventListener('keydown', handleKeyDown);\n        };\n    }, [exitSearch, inputElement]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__search-input__container', {\n            'str-video__search-input__container--active': isActive,\n        }), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"input\", { placeholder: \"Search\", ...rest, ref: setInputElement }), isActive ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"button\", { className: \"str-video__search-input__clear-btn\", onClick: exitSearch, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__search-input__icon--active\" }) })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__search-input__icon\" }))] }));\n};\n\nconst SearchResults = ({ EmptySearchResultComponent, LoadingIndicator: LoadingIndicator$1 = LoadingIndicator, searchQueryInProgress, searchResults, SearchResultList, }) => {\n    if (searchQueryInProgress) {\n        return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__search-results--loading\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(LoadingIndicator$1, {}) }));\n    }\n    if (!searchResults.length) {\n        return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(EmptySearchResultComponent, {});\n    }\n    return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(SearchResultList, { data: searchResults });\n};\n\nconst useSearch = ({ debounceInterval, searchFn, searchQuery = '', }) => {\n    const [searchResults, setSearchResults] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)([]);\n    const [searchQueryInProgress, setSearchQueryInProgress] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!searchQuery.length) {\n            setSearchQueryInProgress(false);\n            setSearchResults([]);\n            return;\n        }\n        setSearchQueryInProgress(true);\n        const timeout = setTimeout(async () => {\n            try {\n                const results = await searchFn(searchQuery);\n                setSearchResults(results);\n            }\n            catch (error) {\n                console.error(error);\n            }\n            finally {\n                setSearchQueryInProgress(false);\n            }\n        }, debounceInterval);\n        return () => {\n            clearTimeout(timeout);\n        };\n    }, [debounceInterval, searchFn, searchQuery]);\n    return {\n        searchQueryInProgress,\n        searchResults,\n    };\n};\n\nconst UserListTypes = {\n    active: 'Active users',\n    blocked: 'Blocked users',\n};\nconst DEFAULT_DEBOUNCE_SEARCH_INTERVAL = 200;\nconst CallParticipantsList = ({ onClose, activeUsersSearchFn, blockedUsersSearchFn, debounceSearchInterval, }) => {\n    const [searchQuery, setSearchQuery] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)('');\n    const [userListType, setUserListType] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)('active');\n    const exitSearch = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(() => setSearchQuery(''), []);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__participant-list\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CallParticipantListHeader, { onClose: onClose }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(SearchInput, { value: searchQuery, onChange: ({ currentTarget }) => setSearchQuery(currentTarget.value), exitSearch: exitSearch, isActive: !!searchQuery }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CallParticipantListContentHeader, { userListType: userListType, setUserListType: setUserListType }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__participant-list__content\", children: [userListType === 'active' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ActiveUsersSearchResults, { searchQuery: searchQuery, activeUsersSearchFn: activeUsersSearchFn, debounceSearchInterval: debounceSearchInterval })), userListType === 'blocked' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(BlockedUsersSearchResults, { searchQuery: searchQuery, blockedUsersSearchFn: blockedUsersSearchFn, debounceSearchInterval: debounceSearchInterval }))] })] }));\n};\nconst CallParticipantListContentHeader = ({ userListType, setUserListType, }) => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const muteAll = () => {\n        call?.muteAllUsers('audio');\n    };\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__participant-list__content-header\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__participant-list__content-header-title\", children: userListType === 'active' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.MUTE_USERS], hasPermissionsOnly: true, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(TextButton, { onClick: muteAll, children: \"Mute all\" }) })) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MenuToggle, { placement: \"bottom-end\", ToggleButton: ToggleButton$1, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(GenericMenu, { children: Object.keys(UserListTypes).map((lt) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(GenericMenuButtonItem, { \"aria-selected\": lt === userListType, onClick: () => setUserListType(lt), children: UserListTypes[lt] }, lt))) }) })] }));\n};\nconst ActiveUsersSearchResults = ({ searchQuery, activeUsersSearchFn: activeUsersSearchFnFromProps, debounceSearchInterval = DEFAULT_DEBOUNCE_SEARCH_INTERVAL, }) => {\n    const { useParticipants } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const participants = useParticipants({ sortBy: _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.name });\n    const activeUsersSearchFn = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((queryString) => {\n        const queryRegExp = new RegExp(queryString, 'i');\n        return Promise.resolve(participants.filter((participant) => {\n            return participant.name.match(queryRegExp);\n        }));\n    }, [participants]);\n    const { searchQueryInProgress, searchResults } = useSearch({\n        searchFn: activeUsersSearchFnFromProps ?? activeUsersSearchFn,\n        debounceInterval: debounceSearchInterval,\n        searchQuery,\n    });\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(SearchResults, { EmptySearchResultComponent: EmptyParticipantSearchList, LoadingIndicator: LoadingIndicator, searchQueryInProgress: searchQueryInProgress, searchResults: searchQuery ? searchResults : participants, SearchResultList: CallParticipantListing }));\n};\nconst BlockedUsersSearchResults = ({ blockedUsersSearchFn: blockedUsersSearchFnFromProps, debounceSearchInterval = DEFAULT_DEBOUNCE_SEARCH_INTERVAL, searchQuery, }) => {\n    const { useCallBlockedUserIds } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const blockedUsers = useCallBlockedUserIds();\n    const blockedUsersSearchFn = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((queryString) => {\n        const queryRegExp = new RegExp(queryString, 'i');\n        return Promise.resolve(blockedUsers.filter((blockedUser) => {\n            return blockedUser.match(queryRegExp);\n        }));\n    }, [blockedUsers]);\n    const { searchQueryInProgress, searchResults } = useSearch({\n        searchFn: blockedUsersSearchFnFromProps ?? blockedUsersSearchFn,\n        debounceInterval: debounceSearchInterval,\n        searchQuery,\n    });\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(SearchResults, { EmptySearchResultComponent: EmptyParticipantSearchList, LoadingIndicator: LoadingIndicator, searchQueryInProgress: searchQueryInProgress, searchResults: searchQuery ? searchResults : blockedUsers, SearchResultList: BlockedUserListing }));\n};\nconst ToggleButton$1 = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function ToggleButton(props, ref) {\n    return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { enabled: props.menuShown, icon: \"filter\", ref: ref });\n});\n\nconst CallPreview = (props) => {\n    const { className, style } = props;\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const { useCallThumbnail } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const thumbnail = useCallThumbnail();\n    const [imageRef, setImageRef] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!imageRef || !call)\n            return;\n        const cleanup = call.bindCallThumbnailElement(imageRef);\n        return () => cleanup();\n    }, [imageRef, call]);\n    if (!thumbnail)\n        return null;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"img\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__call-preview', className), style: style, alt: \"Call Preview Thumbnail\", ref: setImageRef }));\n};\n\nconst CallRecordingListHeader = ({ callRecordings, onRefresh, }) => {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__call-recording-list__header\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__call-recording-list__title\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { children: t('Call Recordings') }), callRecordings.length ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"span\", { children: [\"(\", callRecordings.length, \")\"] }) : null] }), onRefresh && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { icon: \"refresh\", title: t('Refresh'), onClick: onRefresh }))] }));\n};\n\nconst dateFormat = (date) => {\n    const format = new Date(date);\n    return format.toTimeString().split(' ')[0];\n};\nconst CallRecordingListItem = ({ recording, }) => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"li\", { className: \"str-video__call-recording-list__item\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-recording-list__table-cell str-video__call-recording-list__filename\", children: recording.filename }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-recording-list__table-cell str-video__call-recording-list__time\", children: dateFormat(recording.start_time) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-recording-list__table-cell str-video__call-recording-list__time\", children: dateFormat(recording.end_time) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-recording-list__table-cell str-video__call-recording-list__download\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"a\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__call-recording-list-item__action-button', 'str-video__call-recording-list-item__action-button--download'), role: \"button\", href: recording.url, download: recording.filename, title: \"Download the recording\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"download\" }) }) })] }));\n};\n\nconst EmptyCallRecordingListing = () => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__call-recording-list__listing str-video__call-recording-list__listing--empty\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-recording-list__listing--icon-empty\" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"p\", { className: \"str-video__call-recording-list__listing--text-empty\", children: \"No recordings available\" })] }));\n};\n\nconst LoadingCallRecordingListing = ({ callRecordings, }) => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [callRecordings.map((recording) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CallRecordingListItem, { recording: recording }, recording.filename))), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(LoadingIndicator, { text: \"Recording getting ready\" })] }));\n};\n\nconst CallRecordingList = ({ callRecordings, CallRecordingListHeader: CallRecordingListHeader$1 = CallRecordingListHeader, CallRecordingListItem: CallRecordingListItem$1 = CallRecordingListItem, EmptyCallRecordingList = EmptyCallRecordingListing, loading, LoadingCallRecordingList = LoadingCallRecordingListing, onRefresh, }) => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__call-recording-list\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CallRecordingListHeader$1, { callRecordings: callRecordings, onRefresh: onRefresh }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-recording-list__listing\", children: loading ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(LoadingCallRecordingList, { callRecordings: callRecordings })) : callRecordings.length ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"ul\", { className: \"str-video__call-recording-list__list\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"li\", { className: \"str-video__call-recording-list__item\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-recording-list__filename\", children: \"Name\" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-recording-list__time\", children: \"Start time\" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-recording-list__time\", children: \"End time\" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-recording-list__download\" })] }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"ul\", { className: \"str-video__call-recording-list__list\", children: callRecordings.map((recording) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CallRecordingListItem$1, { recording: recording }, recording.filename))) })] })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(EmptyCallRecordingList, {})) })] }));\n};\n\nconst NoiseCancellationContext = (0,react__WEBPACK_IMPORTED_MODULE_3__.createContext)(null);\n/**\n * Exposes the NoiseCancellation API.\n * Throws an error if used outside <NoiseCancellationProvider />.\n */\nconst useNoiseCancellation = () => {\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_3__.useContext)(NoiseCancellationContext);\n    if (!context) {\n        throw new Error('useNoiseCancellation must be used within a NoiseCancellationProvider');\n    }\n    return context;\n};\nconst NoiseCancellationProvider = (props) => {\n    const { children, noiseCancellation } = props;\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const { useCallSettings, useHasPermissions } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const settings = useCallSettings();\n    const noiseCancellationAllowed = !!(settings &&\n        settings.audio.noise_cancellation &&\n        settings.audio.noise_cancellation.mode !==\n            _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.NoiseCancellationSettingsModeEnum.DISABLED);\n    const hasCapability = useHasPermissions(_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.ENABLE_NOISE_CANCELLATION);\n    const [isSupportedByBrowser, setIsSupportedByBrowser] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(undefined);\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        const result = noiseCancellation.isSupported();\n        if (typeof result === 'boolean') {\n            setIsSupportedByBrowser(result);\n        }\n        else {\n            result\n                .then((_isSupportedByBrowser) => setIsSupportedByBrowser(_isSupportedByBrowser))\n                .catch((err) => console.error(`Can't determine if noise cancellation is supported`, err));\n        }\n    }, [noiseCancellation]);\n    const isSupported = isSupportedByBrowser && hasCapability && noiseCancellationAllowed;\n    const [isEnabled, setIsEnabled] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    const deinit = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)();\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!call || !isSupported)\n            return;\n        const unsubscribe = noiseCancellation.on('change', (v) => setIsEnabled(v));\n        const init = (deinit.current || Promise.resolve())\n            .then(() => noiseCancellation.init())\n            .then(() => call.microphone.enableNoiseCancellation(noiseCancellation))\n            .catch((err) => console.error(`Can't initialize noise suppression`, err));\n        return () => {\n            deinit.current = init\n                .then(() => call.microphone.disableNoiseCancellation())\n                .then(() => noiseCancellation.dispose())\n                .then(() => unsubscribe());\n        };\n    }, [call, isSupported, noiseCancellation]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(NoiseCancellationContext.Provider, { value: {\n            isSupported,\n            isEnabled,\n            setEnabled: (enabledOrSetter) => {\n                if (!noiseCancellation)\n                    return;\n                const enable = typeof enabledOrSetter === 'function'\n                    ? enabledOrSetter(isEnabled)\n                    : enabledOrSetter;\n                if (enable) {\n                    noiseCancellation.enable();\n                }\n                else {\n                    noiseCancellation.disable();\n                }\n            },\n        }, children: children }));\n};\n\nconst RingingCallControls = () => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const { useCallCallingState } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const callCallingState = useCallCallingState();\n    if (!call)\n        return null;\n    const buttonsDisabled = callCallingState !== _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.RINGING;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__pending-call-controls\", children: call.isCreatedByMe ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CancelCallButton, { disabled: buttonsDisabled })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(AcceptCallButton, { disabled: buttonsDisabled }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CancelCallButton, { onClick: () => {\n                        const reason = call.isCreatedByMe ? 'cancel' : 'decline';\n                        call.leave({ reject: true, reason });\n                    }, disabled: buttonsDisabled })] })) }));\n};\n\nconst CALLING_STATE_TO_LABEL = {\n    [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.JOINING]: 'Joining',\n    [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.RINGING]: 'Ringing',\n    [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.MIGRATING]: 'Migrating',\n    [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.RECONNECTING]: 'Re-connecting',\n    [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.RECONNECTING_FAILED]: 'Failed',\n    [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.OFFLINE]: 'No internet connection',\n    [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.IDLE]: '',\n    [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.UNKNOWN]: '',\n    [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.JOINED]: 'Joined',\n    [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.LEFT]: 'Left call',\n};\nconst RingingCall = (props) => {\n    const { includeSelf = false, totalMembersToShow = 3 } = props;\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const { useCallCallingState, useCallMembers } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const callingState = useCallCallingState();\n    const members = useCallMembers();\n    const connectedUser = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useConnectedUser)();\n    if (!call)\n        return null;\n    // take the first N members to show their avatars\n    const membersToShow = (members || [])\n        .slice(0, totalMembersToShow)\n        .map(({ user }) => user)\n        .filter((user) => user.id !== connectedUser?.id || includeSelf);\n    if (includeSelf &&\n        !membersToShow.find((user) => user.id === connectedUser?.id)) {\n        // if the current user is not in the initial batch of members,\n        // replace the first item in membersToShow array with the current user\n        const self = members.find(({ user }) => user.id === connectedUser?.id);\n        if (self) {\n            membersToShow.splice(0, 1, self.user);\n        }\n    }\n    const callingStateLabel = CALLING_STATE_TO_LABEL[callingState];\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__call-panel str-video__call-panel--ringing\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-panel__members-list\", children: membersToShow.map((user) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__call-panel__member-box\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Avatar, { name: user.name, imageSrc: user.image }), user.name && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__member_details\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__member_name\", children: user.name }) }))] }, user.id))) }), callingStateLabel && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-panel__calling-state-label\", children: t(callingStateLabel) })), [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.RINGING, _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.JOINING].includes(callingState) && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(RingingCallControls, {}))] }));\n};\n\nconst byNameOrId = (a, b) => {\n    if (a.name && b.name && a.name < b.name)\n        return -1;\n    if (a.name && b.name && a.name > b.name)\n        return 1;\n    if (a.id < b.id)\n        return -1;\n    if (a.id > b.id)\n        return 1;\n    return 0;\n};\nconst PermissionRequests = () => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const { useLocalParticipant, useHasPermissions } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const localParticipant = useLocalParticipant();\n    const [expanded, setExpanded] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    const [permissionRequests, setPermissionRequests] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)([]);\n    const canUpdateCallPermissions = useHasPermissions(_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.UPDATE_CALL_PERMISSIONS);\n    const localUserId = localParticipant?.userId;\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!call || !canUpdateCallPermissions)\n            return;\n        return call.on('call.permission_request', (event) => {\n            if (event.user.id !== localUserId) {\n                setPermissionRequests((requests) => [...requests, event].sort((a, b) => byNameOrId(a.user, b.user)));\n            }\n        });\n    }, [call, canUpdateCallPermissions, localUserId]);\n    const handleUpdatePermission = (request, type) => {\n        return async () => {\n            const { user, permissions } = request;\n            switch (type) {\n                case 'grant':\n                    await call?.grantPermissions(user.id, permissions);\n                    break;\n                case 'revoke':\n                    await call?.revokePermissions(user.id, permissions);\n                    break;\n            }\n            setPermissionRequests((requests) => requests.filter((r) => r !== request));\n        };\n    };\n    const { refs, x, y, strategy } = useFloatingUIPreset({\n        placement: 'bottom',\n        strategy: 'absolute',\n    });\n    // don't render anything if there are no permission requests\n    if (permissionRequests.length === 0)\n        return null;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__permission-requests\", ref: refs.setReference, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__permission-requests__notification\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"span\", { className: \"str-video__permission-requests__notification__message\", children: [permissionRequests.length, \" pending permission requests\"] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Button, { type: \"button\", onClick: () => {\n                            setExpanded((e) => !e);\n                        }, children: expanded ? 'Hide requests' : 'Show requests' })] }), expanded && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(PermissionRequestList, { ref: refs.setFloating, style: {\n                    position: strategy,\n                    top: y ?? 0,\n                    left: x ?? 0,\n                    overflowY: 'auto',\n                }, permissionRequests: permissionRequests, handleUpdatePermission: handleUpdatePermission }))] }));\n};\nconst PermissionRequestList = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function PermissionRequestList(props, ref) {\n    const { permissionRequests, handleUpdatePermission, ...rest } = props;\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__permission-requests-list\", ref: ref, ...rest, children: permissionRequests.map((request, reqIndex) => {\n            const { user, permissions } = request;\n            return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(react__WEBPACK_IMPORTED_MODULE_3__.Fragment, { children: permissions.map((permission) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__permission-request\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__permission-request__message\", children: messageForPermission(user.name || user.id, permission, t) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Button, { className: \"str-video__permission-request__button--allow\", type: \"button\", onClick: handleUpdatePermission(request, 'grant'), children: t('Allow') }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Button, { className: \"str-video__permission-request__button--reject\", type: \"button\", onClick: handleUpdatePermission(request, 'revoke'), children: t('Revoke') }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Button, { className: \"str-video__permission-request__button--reject\", type: \"button\", onClick: handleUpdatePermission(request, 'dismiss'), children: t('Dismiss') })] }, permission))) }, `${user.id}/${reqIndex}`));\n        }) }));\n});\nconst Button = (props) => {\n    const { className, ...rest } = props;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"button\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__permission-request__button', className), ...rest }));\n};\nconst messageForPermission = (userName, permission, t) => {\n    switch (permission) {\n        case _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SEND_AUDIO:\n            return t('{{ userName }} is requesting to speak', { userName });\n        case _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SEND_VIDEO:\n            return t('{{ userName }} is requesting to share their camera', {\n                userName,\n            });\n        case _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SCREENSHARE:\n            return t('{{ userName }} is requesting to present their screen', {\n                userName,\n            });\n        default:\n            return t('{{ userName }} is requesting permission: {{ permission }}', {\n                userName,\n                permission,\n            });\n    }\n};\n\nconst StreamTheme = ({ as: Component = 'div', className, children, ...props }) => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Component, { ...props, className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video', className), children: children }));\n};\n\nconst DefaultDisabledVideoPreview = () => {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str_video__video-preview__disabled-video-preview\", children: t('Video is disabled') }));\n};\nconst DefaultNoCameraPreview = () => {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str_video__video-preview__no-camera-preview\", children: t('No camera found') }));\n};\nconst VideoPreview = ({ className, mirror = true, DisabledVideoPreview = DefaultDisabledVideoPreview, NoCameraPreview = DefaultNoCameraPreview, StartingCameraPreview = LoadingIndicator, }) => {\n    const { useCameraState } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const { devices, status, isMute, mediaStream } = useCameraState();\n    let contents;\n    if (isMute && devices?.length === 0) {\n        contents = (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(NoCameraPreview, {});\n    }\n    else if (status === 'enabled') {\n        const loading = !mediaStream;\n        contents = ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [mediaStream && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(BaseVideo, { stream: mediaStream, className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__video-preview', {\n                        'str-video__video-preview--mirror': mirror,\n                        'str-video__video-preview--loading': loading,\n                    }) })), loading && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StartingCameraPreview, {})] }));\n    }\n    else {\n        contents = (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DisabledVideoPreview, {});\n    }\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__video-preview-container', className), children: contents }));\n};\n\nconst ToggleButton = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function ToggleButton(props, ref) {\n    return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { enabled: props.menuShown, icon: \"ellipsis\", ref: ref });\n});\nconst DefaultScreenShareOverlay = () => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const stopScreenShare = () => {\n        call?.screenShare.disable();\n    };\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__screen-share-overlay\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"screen-share-off\" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__screen-share-overlay__title\", children: t('You are presenting your screen') }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"button\", { onClick: stopScreenShare, className: \"str-video__screen-share-overlay__button\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"close\" }), \" \", t('Stop Screen Sharing')] })] }));\n};\nconst DefaultParticipantViewUI = ({ indicatorsVisible = true, menuPlacement = 'bottom-start', showMenuButton = true, ParticipantActionsContextMenu: ParticipantActionsContextMenu$1 = ParticipantActionsContextMenu, }) => {\n    const { participant, trackType } = useParticipantViewContext();\n    const isScreenSharing = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasScreenShare)(participant);\n    if (participant.isLocalParticipant &&\n        isScreenSharing &&\n        trackType === 'screenShareTrack') {\n        return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DefaultScreenShareOverlay, {}), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantDetails, { indicatorsVisible: indicatorsVisible })] }));\n    }\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [showMenuButton && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MenuToggle, { strategy: \"fixed\", placement: menuPlacement, ToggleButton: ToggleButton, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantActionsContextMenu$1, {}) })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Reaction, { participant: participant }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantDetails, { indicatorsVisible: indicatorsVisible })] }));\n};\nconst ParticipantDetails = ({ indicatorsVisible = true, }) => {\n    const { participant } = useParticipantViewContext();\n    const { isLocalParticipant, connectionQuality, pin, sessionId, name, userId, } = participant;\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const connectionQualityAsString = !!connectionQuality &&\n        _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.SfuModels.ConnectionQuality[connectionQuality].toLowerCase();\n    const hasAudioTrack = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasAudio)(participant);\n    const hasVideoTrack = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasVideo)(participant);\n    const canUnpin = !!pin && pin.isLocalPin;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__participant-details\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"span\", { className: \"str-video__participant-details__name\", children: [name || userId, indicatorsVisible && !hasAudioTrack && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__participant-details__name--audio-muted\" })), indicatorsVisible && !hasVideoTrack && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__participant-details__name--video-muted\" })), indicatorsVisible && canUnpin && (\n                        // TODO: remove this monstrosity once we have a proper design\n                        (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { title: t('Unpin'), onClick: () => call?.unpin(sessionId), className: \"str-video__participant-details__name--pinned\" })), indicatorsVisible && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(SpeechIndicator, {})] }) }), indicatorsVisible && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Notification, { isVisible: isLocalParticipant &&\n                    connectionQuality === _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.SfuModels.ConnectionQuality.POOR, message: t('Poor connection quality'), children: connectionQualityAsString && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__participant-details__connection-quality', `str-video__participant-details__connection-quality--${connectionQualityAsString}`), title: connectionQualityAsString })) }))] }));\n};\nconst SpeechIndicator = () => {\n    const { participant } = useParticipantViewContext();\n    const { isSpeaking, isDominantSpeaker } = participant;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"span\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__speech-indicator', isSpeaking && 'str-video__speech-indicator--speaking', isDominantSpeaker && 'str-video__speech-indicator--dominant'), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__speech-indicator__bar\" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__speech-indicator__bar\" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__speech-indicator__bar\" })] }));\n};\n\nconst ParticipantView = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function ParticipantView({ participant, trackType = 'videoTrack', mirror, muteAudio, refs: { setVideoElement, setVideoPlaceholderElement } = {}, className, VideoPlaceholder, PictureInPicturePlaceholder, ParticipantViewUI = DefaultParticipantViewUI, }, ref) {\n    const { isLocalParticipant, isSpeaking, isDominantSpeaker, sessionId } = participant;\n    const hasAudioTrack = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasAudio)(participant);\n    const hasVideoTrack = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasVideo)(participant);\n    const hasScreenShareAudioTrack = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasScreenShareAudio)(participant);\n    const [trackedElement, setTrackedElement] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    const [contextVideoElement, setContextVideoElement] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    const [contextVideoPlaceholderElement, setContextVideoPlaceholderElement] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    // TODO: allow to pass custom ViewportTracker instance from props\n    useTrackElementVisibility({\n        sessionId,\n        trackedElement,\n        trackType,\n    });\n    const { useIncomingVideoSettings } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const { isParticipantVideoEnabled } = useIncomingVideoSettings();\n    const participantViewContextValue = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(() => ({\n        participant,\n        participantViewElement: trackedElement,\n        videoElement: contextVideoElement,\n        videoPlaceholderElement: contextVideoPlaceholderElement,\n        trackType,\n    }), [\n        contextVideoElement,\n        contextVideoPlaceholderElement,\n        participant,\n        trackedElement,\n        trackType,\n    ]);\n    const videoRefs = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(() => ({\n        setVideoElement: (element) => {\n            setVideoElement?.(element);\n            setContextVideoElement(element);\n        },\n        setVideoPlaceholderElement: (element) => {\n            setVideoPlaceholderElement?.(element);\n            setContextVideoPlaceholderElement(element);\n        },\n    }), [setVideoElement, setVideoPlaceholderElement]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { \"data-testid\": \"participant-view\", ref: (element) => {\n            applyElementToRef(ref, element);\n            setTrackedElement(element);\n        }, className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__participant-view', isDominantSpeaker && 'str-video__participant-view--dominant-speaker', isSpeaking && 'str-video__participant-view--speaking', !hasVideoTrack && 'str-video__participant-view--no-video', !hasAudioTrack && 'str-video__participant-view--no-audio', className), children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(ParticipantViewContext.Provider, { value: participantViewContextValue, children: [!isLocalParticipant && !muteAudio && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [hasAudioTrack && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Audio, { participant: participant, trackType: \"audioTrack\" })), hasScreenShareAudioTrack && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Audio, { participant: participant, trackType: \"screenShareAudioTrack\" }))] })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Video$1, { VideoPlaceholder: VideoPlaceholder, PictureInPicturePlaceholder: PictureInPicturePlaceholder, participant: participant, trackType: trackType, refs: videoRefs, enabled: isLocalParticipant ||\n                        trackType !== 'videoTrack' ||\n                        isParticipantVideoEnabled(participant.sessionId), mirror: mirror, autoPlay: true }), isComponentType(ParticipantViewUI) ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantViewUI, {})) : (ParticipantViewUI)] }) }));\n});\nParticipantView.displayName = 'ParticipantView';\n\n// re-exporting the StreamCallProvider as StreamCall\nconst StreamCall = _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.StreamCallProvider;\nStreamCall.displayName = 'StreamCall';\n\nvar Joining = \"Joining\";\nvar Mic = \"Mic\";\nvar Ringing = \"Ringing\";\nvar Speakers = \"Speakers\";\nvar Video = \"Video\";\nvar Live = \"Live\";\nvar Reactions = \"Reactions\";\nvar Statistics = \"Statistics\";\nvar Invite = \"Invite\";\nvar Join = \"Join\";\nvar You = \"You\";\nvar Me = \"Me\";\nvar Unknown = \"Unknown\";\nvar Default = \"Default\";\nvar Refresh = \"Refresh\";\nvar Allow = \"Allow\";\nvar Revoke = \"Revoke\";\nvar Dismiss = \"Dismiss\";\nvar Pinned = \"Pinned\";\nvar Unpin = \"Unpin\";\nvar Pin = \"Pin\";\nvar Block = \"Block\";\nvar Enter = \"Enter\";\nvar Leave = \"Leave\";\nvar Participants = \"Participants\";\nvar Anonymous = \", and ({{ count }}) anonymous\";\nvar en = {\n\tJoining: Joining,\n\tMic: Mic,\n\t\"No internet connection\": \"No internet connection\",\n\t\"Re-connecting\": \"Re-connecting\",\n\tRinging: Ringing,\n\t\"Screen Share\": \"Screen Share\",\n\t\"Select a Camera\": \"Select a Camera\",\n\t\"Select a Mic\": \"Select a Mic\",\n\t\"Select Speakers\": \"Select Speakers\",\n\tSpeakers: Speakers,\n\tVideo: Video,\n\t\"You are muted. Unmute to speak.\": \"You are muted. Unmute to speak.\",\n\tLive: Live,\n\t\"You can now speak.\": \"You can now speak.\",\n\t\"Awaiting for an approval to speak.\": \"Awaiting for an approval to speak.\",\n\t\"You can no longer speak.\": \"You can no longer speak.\",\n\t\"You can now share your video.\": \"You can now share your video.\",\n\t\"Awaiting for an approval to share your video.\": \"Awaiting for an approval to share your video.\",\n\t\"You can no longer share your video.\": \"You can no longer share your video.\",\n\t\"Waiting for recording to stop...\": \"Waiting for recording to stop...\",\n\t\"Waiting for recording to start...\": \"Waiting for recording to start...\",\n\t\"Record call\": \"Record call\",\n\tReactions: Reactions,\n\tStatistics: Statistics,\n\t\"You can now share your screen.\": \"You can now share your screen.\",\n\t\"Awaiting for an approval to share screen.\": \"Awaiting for an approval to share screen.\",\n\t\"You can no longer share your screen.\": \"You can no longer share your screen.\",\n\t\"Share screen\": \"Share screen\",\n\t\"Incoming Call...\": \"Incoming Call...\",\n\t\"Calling...\": \"Calling...\",\n\t\"Mute All\": \"Mute All\",\n\tInvite: Invite,\n\tJoin: Join,\n\tYou: You,\n\tMe: Me,\n\tUnknown: Unknown,\n\t\"Toggle device menu\": \"Toggle device menu\",\n\tDefault: Default,\n\t\"Call Recordings\": \"Call Recordings\",\n\tRefresh: Refresh,\n\t\"Check your browser video permissions\": \"Check your browser video permissions\",\n\t\"Video publishing is disabled by the system\": \"Video publishing is disabled by the system\",\n\t\"You have no permission to share your video\": \"You have no permission to share your video\",\n\t\"You have no permission to share your audio\": \"You have no permission to share your audio\",\n\t\"You are presenting your screen\": \"You are presenting your screen\",\n\t\"Stop Screen Sharing\": \"Stop Screen Sharing\",\n\tAllow: Allow,\n\tRevoke: Revoke,\n\tDismiss: Dismiss,\n\t\"Microphone on\": \"Microphone on\",\n\t\"Microphone off\": \"Microphone off\",\n\t\"Camera on\": \"Camera on\",\n\t\"Camera off\": \"Camera off\",\n\t\"No camera found\": \"No camera found\",\n\t\"Video is disabled\": \"Video is disabled\",\n\tPinned: Pinned,\n\tUnpin: Unpin,\n\tPin: Pin,\n\t\"Pin for everyone\": \"Pin for everyone\",\n\t\"Unpin for everyone\": \"Unpin for everyone\",\n\tBlock: Block,\n\t\"Turn off video\": \"Turn off video\",\n\t\"Turn off screen share\": \"Turn off screen share\",\n\t\"Mute audio\": \"Mute audio\",\n\t\"Mute screen share audio\": \"Mute screen share audio\",\n\t\"Allow audio\": \"Allow audio\",\n\t\"Allow video\": \"Allow video\",\n\t\"Allow screen sharing\": \"Allow screen sharing\",\n\t\"Disable audio\": \"Disable audio\",\n\t\"Disable video\": \"Disable video\",\n\t\"Disable screen sharing\": \"Disable screen sharing\",\n\tEnter: Enter,\n\tLeave: Leave,\n\t\"Leave call\": \"Leave call\",\n\t\"End call for all\": \"End call for all\",\n\t\"{{ direction }} fullscreen\": \"{{ direction }} fullscreen\",\n\t\"{{ direction }} picture-in-picture\": \"{{ direction }} picture-in-picture\",\n\t\"Dominant Speaker\": \"Dominant Speaker\",\n\t\"Poor connection quality\": \"Poor connection quality. Please check your internet connection.\",\n\tParticipants: Participants,\n\tAnonymous: Anonymous,\n\t\"No participants found\": \"No participants found\",\n\t\"Participants ({{ numberOfParticipants }})\": \"Participants ({{ numberOfParticipants }})\",\n\t\"{{ userName }} is sharing their screen\": \"{{ userName }} is sharing their screen\",\n\t\"{{ userName }} is requesting to speak\": \"{{ userName }} is requesting to speak\",\n\t\"{{ userName }} is requesting to share their camera\": \"{{ userName }} is requesting to share their camera\",\n\t\"{{ userName }} is requesting to present their screen\": \"{{ userName }} is requesting to present their screen\",\n\t\"{{ userName }} is requesting permission: {{ permission }}\": \"{{ userName }} is requesting permission: {{ permission }}\"\n};\n\nconst translations = { en };\n\nconst StreamVideo = (props) => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.StreamVideoProvider, { translationsOverrides: translations, ...props }));\n};\nStreamVideo.displayName = 'StreamVideo';\n\nconst useFilteredParticipants = ({ excludeLocalParticipant = false, filterParticipants, }) => {\n    const { useParticipants, useRemoteParticipants } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const allParticipants = useParticipants();\n    const remoteParticipants = useRemoteParticipants();\n    return (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(() => {\n        const unfilteredParticipants = excludeLocalParticipant\n            ? remoteParticipants\n            : allParticipants;\n        return filterParticipants\n            ? unfilteredParticipants.filter((participant) => filterParticipants(participant))\n            : unfilteredParticipants;\n    }, [\n        allParticipants,\n        remoteParticipants,\n        excludeLocalParticipant,\n        filterParticipants,\n    ]);\n};\nconst usePaginatedLayoutSortPreset = (call) => {\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!call)\n            return;\n        call.setSortParticipantsBy(_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.paginatedLayoutSortPreset);\n        return () => {\n            resetSortPreset(call);\n        };\n    }, [call]);\n};\nconst useSpeakerLayoutSortPreset = (call, isOneOnOneCall) => {\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!call)\n            return;\n        // always show the remote participant in the spotlight\n        if (isOneOnOneCall) {\n            call.setSortParticipantsBy((0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.combineComparators)(_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.screenSharing, loggedIn));\n        }\n        else {\n            call.setSortParticipantsBy(_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.speakerLayoutSortPreset);\n        }\n        return () => {\n            resetSortPreset(call);\n        };\n    }, [call, isOneOnOneCall]);\n};\nconst resetSortPreset = (call) => {\n    // reset the sorting to the default for the call type\n    const callConfig = _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallTypes.get(call.type);\n    call.setSortParticipantsBy(callConfig.options.sortParticipantsBy || _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.defaultSortPreset);\n};\nconst loggedIn = (a, b) => {\n    if (a.isLocalParticipant)\n        return 1;\n    if (b.isLocalParticipant)\n        return -1;\n    return 0;\n};\n\nconst LivestreamLayout = (props) => {\n    const { useParticipants, useRemoteParticipants, useHasOngoingScreenShare } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const participants = useParticipants();\n    const [currentSpeaker] = participants;\n    const remoteParticipants = useRemoteParticipants();\n    const hasOngoingScreenShare = useHasOngoingScreenShare();\n    const presenter = hasOngoingScreenShare\n        ? participants.find(_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasScreenShare)\n        : undefined;\n    usePaginatedLayoutSortPreset(call);\n    const Overlay = ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantOverlay, { showParticipantCount: props.showParticipantCount, showDuration: props.showDuration, showLiveBadge: props.showLiveBadge, showSpeakerName: props.showSpeakerName }));\n    const { floatingParticipantProps } = props;\n    const FloatingParticipantOverlay = hasOngoingScreenShare && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantOverlay\n    // these elements aren't needed for the video feed\n    , { \n        // these elements aren't needed for the video feed\n        showParticipantCount: floatingParticipantProps?.showParticipantCount ?? false, showDuration: floatingParticipantProps?.showDuration ?? false, showLiveBadge: floatingParticipantProps?.showLiveBadge ?? false, showSpeakerName: floatingParticipantProps?.showSpeakerName ?? true }));\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__livestream-layout__wrapper\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantsAudio, { participants: remoteParticipants }), hasOngoingScreenShare && presenter && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantView, { className: \"str-video__livestream-layout__screen-share\", participant: presenter, ParticipantViewUI: Overlay, trackType: \"screenShareTrack\", muteAudio // audio is rendered by ParticipantsAudio\n                : true })), currentSpeaker && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantView, { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(hasOngoingScreenShare &&\n                    (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__livestream-layout__floating-participant', `str-video__livestream-layout__floating-participant--${floatingParticipantProps?.position ?? 'top-right'}`)), participant: currentSpeaker, ParticipantViewUI: FloatingParticipantOverlay || Overlay, mirror: props.mirrorLocalParticipantVideo !== false ? undefined : false, muteAudio // audio is rendered by ParticipantsAudio\n                : true }))] }));\n};\nconst ParticipantOverlay = (props) => {\n    const { enableFullScreen = true, showParticipantCount = true, showDuration = true, showLiveBadge = true, showSpeakerName = false, } = props;\n    const { participant } = useParticipantViewContext();\n    const { useParticipantCount } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const participantCount = useParticipantCount();\n    const duration = useUpdateCallDuration();\n    const toggleFullScreen = useToggleFullScreen();\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__livestream-layout__overlay\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__livestream-layout__overlay__bar\", children: [showLiveBadge && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__livestream-layout__live-badge\", children: t('Live') })), showParticipantCount && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__livestream-layout__viewers-count\", children: participantCount })), showSpeakerName && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__livestream-layout__speaker-name\", title: participant.name || participant.userId || '', children: participant.name || participant.userId || '' })), showDuration && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__livestream-layout__duration\", children: formatDuration(duration) })), enableFullScreen && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__livestream-layout__go-fullscreen\", onClick: toggleFullScreen }))] }) }));\n};\nLivestreamLayout.displayName = 'LivestreamLayout';\nconst useUpdateCallDuration = () => {\n    const { useIsCallLive, useCallSession } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const isCallLive = useIsCallLive();\n    const session = useCallSession();\n    const [duration, setDuration] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(() => {\n        if (!session || !session.live_started_at)\n            return 0;\n        const liveStartTime = new Date(session.live_started_at);\n        const now = new Date();\n        return Math.floor((now.getTime() - liveStartTime.getTime()) / 1000);\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!isCallLive)\n            return;\n        const interval = setInterval(() => {\n            setDuration((d) => d + 1);\n        }, 1000);\n        return () => {\n            clearInterval(interval);\n        };\n    }, [isCallLive]);\n    return duration;\n};\nconst useToggleFullScreen = () => {\n    const { participantViewElement } = useParticipantViewContext();\n    const [isFullscreen, setIsFullscreen] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    return (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(() => {\n        if (isFullscreen) {\n            document.exitFullscreen().then(() => {\n                setIsFullscreen(false);\n            });\n        }\n        else {\n            participantViewElement?.requestFullscreen().then(() => {\n                setIsFullscreen(true);\n            });\n        }\n    }, [isFullscreen, participantViewElement]);\n};\nconst formatDuration = (durationInMs) => {\n    const days = Math.floor(durationInMs / 86400);\n    const hours = Math.floor(durationInMs / 3600);\n    const minutes = Math.floor((durationInMs % 3600) / 60);\n    const seconds = durationInMs % 60;\n    return `${days ? days + ' ' : ''}${hours ? hours + ':' : ''}${minutes < 10 ? '0' : ''}${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;\n};\n\nconst GROUP_SIZE = 16;\nconst PaginatedGridLayoutGroup = ({ group, mirror, VideoPlaceholder, PictureInPicturePlaceholder, ParticipantViewUI, }) => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__paginated-grid-layout__group', {\n            'str-video__paginated-grid-layout--one': group.length === 1,\n            'str-video__paginated-grid-layout--two-four': group.length >= 2 && group.length <= 4,\n            'str-video__paginated-grid-layout--five-nine': group.length >= 5 && group.length <= 9,\n        }), children: group.map((participant) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantView, { participant: participant, muteAudio: true, mirror: mirror, VideoPlaceholder: VideoPlaceholder, PictureInPicturePlaceholder: PictureInPicturePlaceholder, ParticipantViewUI: ParticipantViewUI }, participant.sessionId))) }));\n};\nconst PaginatedGridLayout = (props) => {\n    const { groupSize = (props.groupSize || 0) > 0\n        ? props.groupSize || GROUP_SIZE\n        : GROUP_SIZE, excludeLocalParticipant = false, filterParticipants, mirrorLocalParticipantVideo = true, pageArrowsVisible = true, VideoPlaceholder, ParticipantViewUI = DefaultParticipantViewUI, } = props;\n    const [page, setPage] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(0);\n    const [paginatedGridLayoutWrapperElement, setPaginatedGridLayoutWrapperElement,] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const { useRemoteParticipants } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const remoteParticipants = useRemoteParticipants();\n    const participants = useFilteredParticipants({\n        excludeLocalParticipant,\n        filterParticipants,\n    });\n    usePaginatedLayoutSortPreset(call);\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!paginatedGridLayoutWrapperElement || !call)\n            return;\n        const cleanup = call.setViewport(paginatedGridLayoutWrapperElement);\n        return () => cleanup();\n    }, [paginatedGridLayoutWrapperElement, call]);\n    // only used to render video elements\n    const participantGroups = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(() => chunk(participants, groupSize), [participants, groupSize]);\n    const pageCount = participantGroups.length;\n    // update page when page count is reduced and selected page no longer exists\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (page > pageCount - 1) {\n            setPage(Math.max(0, pageCount - 1));\n        }\n    }, [page, pageCount]);\n    const selectedGroup = participantGroups[page];\n    const mirror = mirrorLocalParticipantVideo ? undefined : false;\n    if (!call)\n        return null;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__paginated-grid-layout__wrapper\", ref: setPaginatedGridLayoutWrapperElement, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantsAudio, { participants: remoteParticipants }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__paginated-grid-layout\", children: [pageArrowsVisible && pageCount > 1 && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { icon: \"caret-left\", disabled: page === 0, onClick: () => setPage((currentPage) => Math.max(0, currentPage - 1)) })), selectedGroup && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(PaginatedGridLayoutGroup, { group: selectedGroup, mirror: mirror, VideoPlaceholder: VideoPlaceholder, ParticipantViewUI: ParticipantViewUI })), pageArrowsVisible && pageCount > 1 && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { disabled: page === pageCount - 1, icon: \"caret-right\", onClick: () => setPage((currentPage) => Math.min(pageCount - 1, currentPage + 1)) }))] })] }));\n};\nPaginatedGridLayout.displayName = 'PaginatedGridLayout';\n\nconst useCalculateHardLimit = (\n/**\n * Element that stretches to 100% of the whole layout component\n */\nwrapperElement, \n/**\n * Element that directly hosts individual `ParticipantView` (or wrapper) elements\n */\nhostElement, limit) => {\n    const [calculatedLimit, setCalculatedLimit] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)({\n        vertical: typeof limit === 'number' ? limit : null,\n        horizontal: typeof limit === 'number' ? limit : null,\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!hostElement ||\n            !wrapperElement ||\n            typeof limit === 'number' ||\n            typeof limit === 'undefined')\n            return;\n        let childWidth = null;\n        let childHeight = null;\n        const resizeObserver = new ResizeObserver((entries, observer) => {\n            // this part should ideally run as little times as possible\n            // get child measurements and disconnect\n            // does not consider dynamically sized children\n            // this hook is for SpeakerLayout use only, where children in the bar are fixed size\n            if (entries.length > 1) {\n                const child = hostElement.firstChild;\n                if (child) {\n                    childHeight = child.clientHeight;\n                    childWidth = child.clientWidth;\n                    observer.unobserve(hostElement);\n                }\n            }\n            // keep the state at { vertical: 1, horizontal: 1 }\n            // until we get the proper child measurements\n            if (childHeight === null || childWidth === null)\n                return;\n            const vertical = Math.floor(wrapperElement.clientHeight / childHeight);\n            const horizontal = Math.floor(wrapperElement.clientWidth / childWidth);\n            setCalculatedLimit((pv) => {\n                if (pv.vertical !== vertical || pv.horizontal !== horizontal)\n                    return { vertical, horizontal };\n                return pv;\n            });\n        });\n        resizeObserver.observe(wrapperElement);\n        resizeObserver.observe(hostElement);\n        return () => {\n            resizeObserver.disconnect();\n        };\n    }, [hostElement, limit, wrapperElement]);\n    return calculatedLimit;\n};\n\nconst DefaultParticipantViewUIBar = () => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DefaultParticipantViewUI, { menuPlacement: \"top-end\" }));\nconst SpeakerLayout = ({ ParticipantViewUIBar = DefaultParticipantViewUIBar, ParticipantViewUISpotlight = DefaultParticipantViewUI, VideoPlaceholder, PictureInPicturePlaceholder, participantsBarPosition = 'bottom', participantsBarLimit, mirrorLocalParticipantVideo = true, excludeLocalParticipant = false, filterParticipants, pageArrowsVisible = true, }) => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const { useParticipants, useRemoteParticipants } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const allParticipants = useParticipants();\n    const remoteParticipants = useRemoteParticipants();\n    const [participantInSpotlight, ...otherParticipants] = useFilteredParticipants({ excludeLocalParticipant, filterParticipants });\n    const [participantsBarWrapperElement, setParticipantsBarWrapperElement] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    const [participantsBarElement, setParticipantsBarElement] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    const [buttonsWrapperElement, setButtonsWrapperElement] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    const isSpeakerScreenSharing = participantInSpotlight && (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasScreenShare)(participantInSpotlight);\n    const hardLimit = useCalculateHardLimit(buttonsWrapperElement, participantsBarElement, participantsBarLimit);\n    const isVertical = participantsBarPosition === 'left' || participantsBarPosition === 'right';\n    const isHorizontal = participantsBarPosition === 'top' || participantsBarPosition === 'bottom';\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!participantsBarWrapperElement || !call)\n            return;\n        const cleanup = call.setViewport(participantsBarWrapperElement);\n        return () => cleanup();\n    }, [participantsBarWrapperElement, call]);\n    const isOneOnOneCall = allParticipants.length === 2;\n    useSpeakerLayoutSortPreset(call, isOneOnOneCall);\n    let participantsWithAppliedLimit = otherParticipants;\n    const hardLimitToApply = isVertical\n        ? hardLimit.vertical\n        : hardLimit.horizontal;\n    if (typeof participantsBarLimit !== 'undefined' &&\n        hardLimitToApply !== null) {\n        participantsWithAppliedLimit = otherParticipants.slice(0, \n        // subtract 1 if speaker is sharing screen as\n        // that one is rendered independently from otherParticipants array\n        hardLimitToApply - (isSpeakerScreenSharing ? 1 : 0));\n    }\n    const mirror = mirrorLocalParticipantVideo ? undefined : false;\n    if (!call)\n        return null;\n    const renderParticipantsBar = participantsBarPosition &&\n        (participantsWithAppliedLimit.length > 0 || isSpeakerScreenSharing);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__speaker-layout__wrapper\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantsAudio, { participants: remoteParticipants }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__speaker-layout', participantsBarPosition &&\n                    `str-video__speaker-layout--variant-${participantsBarPosition}`), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__speaker-layout__spotlight\", children: participantInSpotlight && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantView, { participant: participantInSpotlight, muteAudio: true, mirror: mirror, trackType: isSpeakerScreenSharing ? 'screenShareTrack' : 'videoTrack', ParticipantViewUI: ParticipantViewUISpotlight, VideoPlaceholder: VideoPlaceholder, PictureInPicturePlaceholder: PictureInPicturePlaceholder })) }), renderParticipantsBar && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { ref: setButtonsWrapperElement, className: \"str-video__speaker-layout__participants-bar-buttons-wrapper\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__speaker-layout__participants-bar-wrapper\", ref: setParticipantsBarWrapperElement, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { ref: setParticipantsBarElement, className: \"str-video__speaker-layout__participants-bar\", children: [isSpeakerScreenSharing && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__speaker-layout__participant-tile\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantView, { participant: participantInSpotlight, ParticipantViewUI: ParticipantViewUIBar, VideoPlaceholder: VideoPlaceholder, PictureInPicturePlaceholder: PictureInPicturePlaceholder, mirror: mirror, muteAudio: true }) }, participantInSpotlight.sessionId)), participantsWithAppliedLimit.map((participant) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__speaker-layout__participant-tile\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantView, { participant: participant, ParticipantViewUI: ParticipantViewUIBar, VideoPlaceholder: VideoPlaceholder, PictureInPicturePlaceholder: PictureInPicturePlaceholder, mirror: mirror, muteAudio: true }) }, participant.sessionId)))] }) }), pageArrowsVisible && isVertical && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(VerticalScrollButtons, { scrollWrapper: participantsBarWrapperElement })), pageArrowsVisible && isHorizontal && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(HorizontalScrollButtons, { scrollWrapper: participantsBarWrapperElement }))] }))] })] }));\n};\nSpeakerLayout.displayName = 'SpeakerLayout';\nconst HorizontalScrollButtons = ({ scrollWrapper, }) => {\n    const scrollPosition = useHorizontalScrollPosition(scrollWrapper);\n    const scrollStartClickHandler = () => {\n        scrollWrapper?.scrollBy({ left: -150, behavior: 'smooth' });\n    };\n    const scrollEndClickHandler = () => {\n        scrollWrapper?.scrollBy({ left: 150, behavior: 'smooth' });\n    };\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [scrollPosition && scrollPosition !== 'start' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { onClick: scrollStartClickHandler, icon: \"caret-left\", className: \"str-video__speaker-layout__participants-bar--button-left\" })), scrollPosition && scrollPosition !== 'end' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { onClick: scrollEndClickHandler, icon: \"caret-right\", className: \"str-video__speaker-layout__participants-bar--button-right\" }))] }));\n};\nconst VerticalScrollButtons = ({ scrollWrapper, }) => {\n    const scrollPosition = useVerticalScrollPosition(scrollWrapper);\n    const scrollTopClickHandler = () => {\n        scrollWrapper?.scrollBy({ top: -150, behavior: 'smooth' });\n    };\n    const scrollBottomClickHandler = () => {\n        scrollWrapper?.scrollBy({ top: 150, behavior: 'smooth' });\n    };\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [scrollPosition && scrollPosition !== 'top' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { onClick: scrollTopClickHandler, icon: \"caret-up\", className: \"str-video__speaker-layout__participants-bar--button-top\" })), scrollPosition && scrollPosition !== 'bottom' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { onClick: scrollBottomClickHandler, icon: \"caret-down\", className: \"str-video__speaker-layout__participants-bar--button-bottom\" }))] }));\n};\n\nconst LivestreamPlayer = (props) => {\n    const { callType, callId, layoutProps } = props;\n    const client = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useStreamVideoClient)();\n    const [call, setCall] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)();\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!client)\n            return;\n        const myCall = client.call(callType, callId);\n        setCall(myCall);\n        myCall.join().catch((e) => {\n            console.error('Failed to join call', e);\n        });\n        return () => {\n            myCall.leave().catch((e) => {\n                console.error('Failed to leave call', e);\n            });\n            setCall(undefined);\n        };\n    }, [callId, callType, client]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StreamCall, { call: call, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(LivestreamLayout, { ...layoutProps }) }));\n};\n\nconst [major, minor, patch] = (\"1.8.7\").split('.');\n(0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.setSdkInfo)({\n    type: _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.SfuModels.SdkType.REACT,\n    major,\n    minor,\n    patch,\n});\n\n\n//# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BzdHJlYW0taW8vdmlkZW8tcmVhY3Qtc2RrL2Rpc3QvaW5kZXguZXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQTBYO0FBQ2xWO0FBQ21LO0FBQzNKO0FBQ1E7QUFDa0k7QUFDaUc7QUFDblE7QUFDYztBQUN5RDs7QUFFL0YsaUJBQWlCLGdEQUFnRDtBQUNqRSxpQkFBaUIsd0VBQU87QUFDeEIsNENBQTRDLCtDQUFRO0FBQ3BELFlBQVksb0JBQW9CO0FBQ2hDLElBQUksZ0RBQVM7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWSxzREFBRyxZQUFZLG1JQUFtSTtBQUM5SjtBQUNBOztBQUVBO0FBQ0EsWUFBWSwyQkFBMkI7QUFDdkMsWUFBWSxzREFBRyxDQUFDLHVEQUFRLElBQUk7QUFDNUI7QUFDQTtBQUNBLG9CQUFvQixpREFBaUQ7QUFDckUsa0NBQWtDLGlFQUFRO0FBQzFDLHVFQUF1RSxzREFBRyxVQUFVLGtFQUFrRTtBQUN0Siw2Q0FBNkMsNEVBQW1CO0FBQ2hFO0FBQ0EsMkNBQTJDLHNEQUFHLFVBQVUsNkVBQTZFO0FBQ3JJLG9CQUFvQix1REFBSSxDQUFDLDJDQUFVLElBQUksNkRBQTZEO0FBQ3BHLFNBQVMsR0FBRztBQUNaO0FBQ0E7O0FBRUEsK0JBQStCLG9EQUFhO0FBQzVDLHdDQUF3QyxpREFBVTs7QUFFbEQsK0JBQStCLGdFQUFnRTtBQUMvRixZQUFZLGdDQUFnQyx3QkFBd0Is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Ly9AaGVsc2EvYXBwLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9Ac3RyZWFtLWlvL3ZpZGVvLXJlYWN0LXNkay9kaXN0L2luZGV4LmVzLmpzPzNkNzAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaGFzQXVkaW8sIGhhc1NjcmVlblNoYXJlQXVkaW8sIENhbGxpbmdTdGF0ZSwgaGFzVmlkZW8sIGhhc1NjcmVlblNoYXJlLCBPd25DYXBhYmlsaXR5LCBCcm93c2VycywgVmlzaWJpbGl0eVN0YXRlLCBnZXRMb2dnZXIsIGRpc3Bvc2VPZk1lZGlhU3RyZWFtLCBpc1Bpbm5lZCwgbmFtZSwgTm9pc2VDYW5jZWxsYXRpb25TZXR0aW5nc01vZGVFbnVtLCBTZnVNb2RlbHMsIHBhZ2luYXRlZExheW91dFNvcnRQcmVzZXQsIGNvbWJpbmVDb21wYXJhdG9ycywgc2NyZWVuU2hhcmluZywgc3BlYWtlckxheW91dFNvcnRQcmVzZXQsIENhbGxUeXBlcywgZGVmYXVsdFNvcnRQcmVzZXQsIHNldFNka0luZm8gfSBmcm9tICdAc3RyZWFtLWlvL3ZpZGVvLWNsaWVudCc7XG5leHBvcnQgKiBmcm9tICdAc3RyZWFtLWlvL3ZpZGVvLWNsaWVudCc7XG5pbXBvcnQgeyB1c2VDYWxsLCB1c2VDYWxsU3RhdGVIb29rcywgdXNlSTE4biwgUmVzdHJpY3RlZCwgdXNlVG9nZ2xlQ2FsbFJlY29yZGluZywgdXNlQ29ubmVjdGVkVXNlciwgU3RyZWFtQ2FsbFByb3ZpZGVyLCBTdHJlYW1WaWRlb1Byb3ZpZGVyLCB1c2VTdHJlYW1WaWRlb0NsaWVudCB9IGZyb20gJ0BzdHJlYW0taW8vdmlkZW8tcmVhY3QtYmluZGluZ3MnO1xuZXhwb3J0ICogZnJvbSAnQHN0cmVhbS1pby92aWRlby1yZWFjdC1iaW5kaW5ncyc7XG5pbXBvcnQgeyBqc3gsIEZyYWdtZW50LCBqc3hzIH0gZnJvbSAncmVhY3QvanN4LXJ1bnRpbWUnO1xuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgRnJhZ21lbnQgYXMgRnJhZ21lbnQkMSwgY3JlYXRlQ29udGV4dCwgdXNlQ29udGV4dCwgdXNlUmVmLCB1c2VDYWxsYmFjaywgdXNlTWVtbywgaXNWYWxpZEVsZW1lbnQsIGZvcndhcmRSZWYsIHVzZUxheW91dEVmZmVjdCwgbGF6eSwgU3VzcGVuc2UgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VGbG9hdGluZywgb2Zmc2V0LCBzaGlmdCwgZmxpcCwgc2l6ZSwgYXV0b1VwZGF0ZSwgRmxvYXRpbmdPdmVybGF5LCBGbG9hdGluZ1BvcnRhbCwgYXJyb3csIEZsb2F0aW5nQXJyb3csIHVzZUxpc3RJdGVtLCB1c2VMaXN0TmF2aWdhdGlvbiwgdXNlVHlwZWFoZWFkLCB1c2VDbGljaywgdXNlRGlzbWlzcywgdXNlUm9sZSwgdXNlSW50ZXJhY3Rpb25zLCBGbG9hdGluZ0ZvY3VzTWFuYWdlciwgRmxvYXRpbmdMaXN0LCB1c2VIb3ZlciB9IGZyb20gJ0BmbG9hdGluZy11aS9yZWFjdCc7XG5pbXBvcnQgY2xzeCBmcm9tICdjbHN4JztcbmltcG9ydCB7IGZsdXNoU3luYyB9IGZyb20gJ3JlYWN0LWRvbSc7XG5pbXBvcnQgeyBpc1BsYXRmb3JtU3VwcG9ydGVkLCBsb2FkVEZMaXRlLCBjcmVhdGVSZW5kZXJlciB9IGZyb20gJ0BzdHJlYW0taW8vdmlkZW8tZmlsdGVycy13ZWInO1xuXG5jb25zdCBBdWRpbyA9ICh7IHBhcnRpY2lwYW50LCB0cmFja1R5cGUgPSAnYXVkaW9UcmFjaycsIC4uLnJlc3QgfSkgPT4ge1xuICAgIGNvbnN0IGNhbGwgPSB1c2VDYWxsKCk7XG4gICAgY29uc3QgW2F1ZGlvRWxlbWVudCwgc2V0QXVkaW9FbGVtZW50XSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIGNvbnN0IHsgdXNlcklkLCBzZXNzaW9uSWQgfSA9IHBhcnRpY2lwYW50O1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICghY2FsbCB8fCAhYXVkaW9FbGVtZW50KVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBjbGVhbnVwID0gY2FsbC5iaW5kQXVkaW9FbGVtZW50KGF1ZGlvRWxlbWVudCwgc2Vzc2lvbklkLCB0cmFja1R5cGUpO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgY2xlYW51cD8uKCk7XG4gICAgICAgIH07XG4gICAgfSwgW2NhbGwsIHNlc3Npb25JZCwgYXVkaW9FbGVtZW50LCB0cmFja1R5cGVdKTtcbiAgICByZXR1cm4gKGpzeChcImF1ZGlvXCIsIHsgYXV0b1BsYXk6IHRydWUsIC4uLnJlc3QsIHJlZjogc2V0QXVkaW9FbGVtZW50LCBcImRhdGEtdXNlci1pZFwiOiB1c2VySWQsIFwiZGF0YS1zZXNzaW9uLWlkXCI6IHNlc3Npb25JZCwgXCJkYXRhLXRyYWNrLXR5cGVcIjogdHJhY2tUeXBlIH0pKTtcbn07XG5BdWRpby5kaXNwbGF5TmFtZSA9ICdBdWRpbyc7XG5cbmNvbnN0IFBhcnRpY2lwYW50c0F1ZGlvID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgeyBwYXJ0aWNpcGFudHMsIGF1ZGlvUHJvcHMgfSA9IHByb3BzO1xuICAgIHJldHVybiAoanN4KEZyYWdtZW50LCB7IGNoaWxkcmVuOiBwYXJ0aWNpcGFudHMubWFwKChwYXJ0aWNpcGFudCkgPT4ge1xuICAgICAgICAgICAgaWYgKHBhcnRpY2lwYW50LmlzTG9jYWxQYXJ0aWNpcGFudClcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIGNvbnN0IHsgYXVkaW9TdHJlYW0sIHNjcmVlblNoYXJlQXVkaW9TdHJlYW0sIHNlc3Npb25JZCB9ID0gcGFydGljaXBhbnQ7XG4gICAgICAgICAgICBjb25zdCBoYXNBdWRpb1RyYWNrID0gaGFzQXVkaW8ocGFydGljaXBhbnQpO1xuICAgICAgICAgICAgY29uc3QgYXVkaW9UcmFja0VsZW1lbnQgPSBoYXNBdWRpb1RyYWNrICYmIGF1ZGlvU3RyZWFtICYmIChqc3goQXVkaW8sIHsgLi4uYXVkaW9Qcm9wcywgdHJhY2tUeXBlOiBcImF1ZGlvVHJhY2tcIiwgcGFydGljaXBhbnQ6IHBhcnRpY2lwYW50IH0pKTtcbiAgICAgICAgICAgIGNvbnN0IGhhc1NjcmVlblNoYXJlQXVkaW9UcmFjayA9IGhhc1NjcmVlblNoYXJlQXVkaW8ocGFydGljaXBhbnQpO1xuICAgICAgICAgICAgY29uc3Qgc2NyZWVuU2hhcmVBdWRpb1RyYWNrRWxlbWVudCA9IGhhc1NjcmVlblNoYXJlQXVkaW9UcmFjayAmJlxuICAgICAgICAgICAgICAgIHNjcmVlblNoYXJlQXVkaW9TdHJlYW0gJiYgKGpzeChBdWRpbywgeyAuLi5hdWRpb1Byb3BzLCB0cmFja1R5cGU6IFwic2NyZWVuU2hhcmVBdWRpb1RyYWNrXCIsIHBhcnRpY2lwYW50OiBwYXJ0aWNpcGFudCB9KSk7XG4gICAgICAgICAgICByZXR1cm4gKGpzeHMoRnJhZ21lbnQkMSwgeyBjaGlsZHJlbjogW2F1ZGlvVHJhY2tFbGVtZW50LCBzY3JlZW5TaGFyZUF1ZGlvVHJhY2tFbGVtZW50XSB9LCBzZXNzaW9uSWQpKTtcbiAgICAgICAgfSkgfSkpO1xufTtcblBhcnRpY2lwYW50c0F1ZGlvLmRpc3BsYXlOYW1lID0gJ1BhcnRpY2lwYW50c0F1ZGlvJztcblxuY29uc3QgUGFydGljaXBhbnRWaWV3Q29udGV4dCA9IGNyZWF0ZUNvbnRleHQodW5kZWZpbmVkKTtcbmNvbnN0IHVzZVBhcnRpY2lwYW50Vmlld0NvbnRleHQgPSAoKSA9PiB1c2VDb250ZXh0KFBhcnRpY2lwYW50Vmlld0NvbnRleHQpO1xuXG5jb25zdCB1c2VGbG9hdGluZ1VJUHJlc2V0ID0gKHsgbWlkZGxld2FyZSA9IFtdLCBwbGFjZW1lbnQsIHN0cmF0ZWd5LCBvZmZzZXQ6IG9mZnNldEluUHggPSAxMCwgfSkgPT4ge1xuICAgIGNvbnN0IHsgcmVmcywgeCwgeSwgdXBkYXRlLCBlbGVtZW50czogeyBkb21SZWZlcmVuY2UsIGZsb2F0aW5nIH0sIGNvbnRleHQsIH0gPSB1c2VGbG9hdGluZyh7XG4gICAgICAgIHBsYWNlbWVudCxcbiAgICAgICAgc3RyYXRlZ3ksXG4gICAgICAgIG1pZGRsZXdhcmU6IFtcbiAgICAgICAgICAgIG9mZnNldChvZmZzZXRJblB4KSxcbiAgICAgICAgICAgIHNoaWZ0KCksXG4gICAgICAgICAgICBmbGlwKCksXG4gICAgICAgICAgICBzaXplKHtcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiAxMCxcbiAgICAgICAgICAgICAgICBhcHBseTogKHsgYXZhaWxhYmxlSGVpZ2h0LCBlbGVtZW50cyB9KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oZWxlbWVudHMuZmxvYXRpbmcuc3R5bGUsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heEhlaWdodDogYCR7YXZhaWxhYmxlSGVpZ2h0fXB4YCxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgLi4ubWlkZGxld2FyZSxcbiAgICAgICAgXSxcbiAgICB9KTtcbiAgICAvLyBoYW5kbGUgd2luZG93IHJlc2l6aW5nXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKCFkb21SZWZlcmVuY2UgfHwgIWZsb2F0aW5nKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBjbGVhbnVwID0gYXV0b1VwZGF0ZShkb21SZWZlcmVuY2UsIGZsb2F0aW5nLCB1cGRhdGUpO1xuICAgICAgICByZXR1cm4gKCkgPT4gY2xlYW51cCgpO1xuICAgIH0sIFtkb21SZWZlcmVuY2UsIGZsb2F0aW5nLCB1cGRhdGVdKTtcbiAgICByZXR1cm4geyByZWZzLCB4LCB5LCBkb21SZWZlcmVuY2UsIGZsb2F0aW5nLCBzdHJhdGVneSwgY29udGV4dCB9O1xufTtcblxuY29uc3QgZGVmYXVsdERldmljZSA9ICdkZWZhdWx0Jztcbi8qKlxuICogVGhpcyBob29rIHdpbGwgcGVyc2lzdCB0aGUgZGV2aWNlIHNldHRpbmdzIHRvIGxvY2FsIHN0b3JhZ2UuXG4gKlxuICogQHBhcmFtIGtleSB0aGUga2V5IHRvIHVzZSBmb3IgbG9jYWwgc3RvcmFnZS5cbiAqL1xuY29uc3QgdXNlUGVyc2lzdERldmljZVByZWZlcmVuY2VzID0gKGtleSwgc2hvdWxkUGVyc2lzdFJlZikgPT4ge1xuICAgIGNvbnN0IHsgdXNlTWljcm9waG9uZVN0YXRlLCB1c2VDYW1lcmFTdGF0ZSwgdXNlU3BlYWtlclN0YXRlIH0gPSB1c2VDYWxsU3RhdGVIb29rcygpO1xuICAgIGNvbnN0IGNhbGwgPSB1c2VDYWxsKCk7XG4gICAgY29uc3QgbWljID0gdXNlTWljcm9waG9uZVN0YXRlKCk7XG4gICAgY29uc3QgY2FtZXJhID0gdXNlQ2FtZXJhU3RhdGUoKTtcbiAgICBjb25zdCBzcGVha2VyID0gdXNlU3BlYWtlclN0YXRlKCk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKCFzaG91bGRQZXJzaXN0UmVmLmN1cnJlbnQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGlmICghY2FsbClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKGNhbGwuc3RhdGUuY2FsbGluZ1N0YXRlID09PSBDYWxsaW5nU3RhdGUuTEVGVClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHByZWZlcmVuY2VzID0ge1xuICAgICAgICAgICAgICAgIG1pYzoge1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZERldmljZUlkOiBtaWMuc2VsZWN0ZWREZXZpY2UgfHwgZGVmYXVsdERldmljZSxcbiAgICAgICAgICAgICAgICAgICAgbXV0ZWQ6IG1pYy5pc011dGUsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBjYW1lcmE6IHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWREZXZpY2VJZDogY2FtZXJhLnNlbGVjdGVkRGV2aWNlIHx8IGRlZmF1bHREZXZpY2UsXG4gICAgICAgICAgICAgICAgICAgIG11dGVkOiBjYW1lcmEuaXNNdXRlLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc3BlYWtlcjoge1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZERldmljZUlkOiBzcGVha2VyLnNlbGVjdGVkRGV2aWNlIHx8IGRlZmF1bHREZXZpY2UsXG4gICAgICAgICAgICAgICAgICAgIG11dGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShrZXksIEpTT04uc3RyaW5naWZ5KHByZWZlcmVuY2VzKSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdGYWlsZWQgdG8gc2F2ZSBkZXZpY2UgcHJlZmVyZW5jZXMnLCBlcnIpO1xuICAgICAgICB9XG4gICAgfSwgW1xuICAgICAgICBjYWxsLFxuICAgICAgICBjYW1lcmEuaXNNdXRlLFxuICAgICAgICBjYW1lcmEuc2VsZWN0ZWREZXZpY2UsXG4gICAgICAgIGtleSxcbiAgICAgICAgbWljLmlzTXV0ZSxcbiAgICAgICAgbWljLnNlbGVjdGVkRGV2aWNlLFxuICAgICAgICBzcGVha2VyLnNlbGVjdGVkRGV2aWNlLFxuICAgICAgICBzaG91bGRQZXJzaXN0UmVmLFxuICAgIF0pO1xufTtcbi8qKlxuICogVGhpcyBob29rIHdpbGwgYXBwbHkgdGhlIGRldmljZSBzZXR0aW5ncyBmcm9tIGxvY2FsIHN0b3JhZ2UuXG4gKlxuICogQHBhcmFtIGtleSB0aGUga2V5IHRvIHVzZSBmb3IgbG9jYWwgc3RvcmFnZS5cbiAqL1xuY29uc3QgdXNlQXBwbHlEZXZpY2VQcmVmZXJlbmNlcyA9IChrZXksIG9uQXBwbGllZCkgPT4ge1xuICAgIGNvbnN0IGNhbGwgPSB1c2VDYWxsKCk7XG4gICAgY29uc3Qgb25BcHBsaWVkUmVmID0gdXNlUmVmKG9uQXBwbGllZCk7XG4gICAgb25BcHBsaWVkUmVmLmN1cnJlbnQgPSBvbkFwcGxpZWQ7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKCFjYWxsKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBpZiAoY2FsbC5zdGF0ZS5jYWxsaW5nU3RhdGUgPT09IENhbGxpbmdTdGF0ZS5MRUZUKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBsZXQgY2FuY2VsID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IGFwcGx5ID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgaW5pdE1pYyA9IGFzeW5jIChzZXR0aW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGNhbmNlbClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGF3YWl0IGNhbGwubWljcm9waG9uZS5zZWxlY3QocGFyc2VEZXZpY2VJZChzZXR0aW5nLnNlbGVjdGVkRGV2aWNlSWQpKTtcbiAgICAgICAgICAgICAgICBpZiAoY2FuY2VsKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgaWYgKHNldHRpbmcubXV0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgY2FsbC5taWNyb3Bob25lLmRpc2FibGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IGNhbGwubWljcm9waG9uZS5lbmFibGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgaW5pdENhbWVyYSA9IGFzeW5jIChzZXR0aW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGNhbmNlbClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGF3YWl0IGNhbGwuY2FtZXJhLnNlbGVjdChwYXJzZURldmljZUlkKHNldHRpbmcuc2VsZWN0ZWREZXZpY2VJZCkpO1xuICAgICAgICAgICAgICAgIGlmIChjYW5jZWwpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICBpZiAoc2V0dGluZy5tdXRlZCkge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBjYWxsLmNhbWVyYS5kaXNhYmxlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBjYWxsLmNhbWVyYS5lbmFibGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgaW5pdFNwZWFrZXIgPSAoc2V0dGluZykgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChjYW5jZWwpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICBjYWxsLnNwZWFrZXIuc2VsZWN0KHBhcnNlRGV2aWNlSWQoc2V0dGluZy5zZWxlY3RlZERldmljZUlkKSA/PyAnJyk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgbGV0IHByZWZlcmVuY2VzID0gbnVsbDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcHJlZmVyZW5jZXMgPSBKU09OLnBhcnNlKHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ0ZhaWxlZCB0byBsb2FkIGRldmljZSBwcmVmZXJlbmNlcycsIGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocHJlZmVyZW5jZXMpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCBpbml0TWljKHByZWZlcmVuY2VzLm1pYyk7XG4gICAgICAgICAgICAgICAgYXdhaXQgaW5pdENhbWVyYShwcmVmZXJlbmNlcy5jYW1lcmEpO1xuICAgICAgICAgICAgICAgIGluaXRTcGVha2VyKHByZWZlcmVuY2VzLnNwZWFrZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBhcHBseSgpXG4gICAgICAgICAgICAudGhlbigoKSA9PiBvbkFwcGxpZWRSZWYuY3VycmVudCgpKVxuICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignRmFpbGVkIHRvIGFwcGx5IGRldmljZSBwcmVmZXJlbmNlcycsIGVycik7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgY2FuY2VsID0gdHJ1ZTtcbiAgICAgICAgfTtcbiAgICB9LCBbY2FsbCwga2V5XSk7XG59O1xuLyoqXG4gKiBUaGlzIGhvb2sgd2lsbCBhcHBseSBhbmQgcGVyc2lzdCB0aGUgZGV2aWNlIHByZWZlcmVuY2VzIGZyb20gbG9jYWwgc3RvcmFnZS5cbiAqXG4gKiBAcGFyYW0ga2V5IHRoZSBrZXkgdG8gdXNlIGZvciBsb2NhbCBzdG9yYWdlLlxuICovXG5jb25zdCB1c2VQZXJzaXN0ZWREZXZpY2VQcmVmZXJlbmNlcyA9IChrZXkgPSAnQHN0cmVhbS1pby9kZXZpY2UtcHJlZmVyZW5jZXMnKSA9PiB7XG4gICAgY29uc3Qgc2hvdWxkUGVyc2lzdFJlZiA9IHVzZVJlZihmYWxzZSk7XG4gICAgdXNlQXBwbHlEZXZpY2VQcmVmZXJlbmNlcyhrZXksICgpID0+IChzaG91bGRQZXJzaXN0UmVmLmN1cnJlbnQgPSB0cnVlKSk7XG4gICAgdXNlUGVyc2lzdERldmljZVByZWZlcmVuY2VzKGtleSwgc2hvdWxkUGVyc2lzdFJlZik7XG59O1xuY29uc3QgcGFyc2VEZXZpY2VJZCA9IChkZXZpY2VJZCkgPT4gZGV2aWNlSWQgIT09IGRlZmF1bHREZXZpY2UgPyBkZXZpY2VJZCA6IHVuZGVmaW5lZDtcblxuY29uc3QgU0NST0xMX1RIUkVTSE9MRCA9IDEwO1xuLyoqXG4gKiBIb29rIHdoaWNoIG9ic2VydmVzIGVsZW1lbnQncyBzY3JvbGwgcG9zaXRpb24gYW5kIHJldHVybnMgdGV4dCB2YWx1ZSBiYXNlZCBvbiB0aGVcbiAqIHBvc2l0aW9uIG9mIHRoZSBzY3JvbGxiYXIgKGB0b3BgLCBgYm90dG9tYCwgYGJldHdlZW5gIGFuZCBgbnVsbGAgaWYgbm8gc2Nyb2xsYmFyIGlzIGF2YWlsYWJsZSlcbiAqL1xuY29uc3QgdXNlVmVydGljYWxTY3JvbGxQb3NpdGlvbiA9IChzY3JvbGxFbGVtZW50LCB0aHJlc2hvbGQgPSBTQ1JPTExfVEhSRVNIT0xEKSA9PiB7XG4gICAgY29uc3QgW3Njcm9sbFBvc2l0aW9uLCBzZXRTY3JvbGxQb3NpdGlvbl0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIXNjcm9sbEVsZW1lbnQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IHNjcm9sbEhhbmRsZXIgPSAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gc2Nyb2xsRWxlbWVudDtcbiAgICAgICAgICAgIGNvbnN0IGhhc1ZlcnRpY2FsU2Nyb2xsYmFyID0gZWxlbWVudC5zY3JvbGxIZWlnaHQgPiBlbGVtZW50LmNsaWVudEhlaWdodDtcbiAgICAgICAgICAgIGlmICghaGFzVmVydGljYWxTY3JvbGxiYXIpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNldFNjcm9sbFBvc2l0aW9uKG51bGwpO1xuICAgICAgICAgICAgY29uc3QgaXNBdFRoZVRvcCA9IGVsZW1lbnQuc2Nyb2xsVG9wIDw9IHRocmVzaG9sZDtcbiAgICAgICAgICAgIGlmIChpc0F0VGhlVG9wKVxuICAgICAgICAgICAgICAgIHJldHVybiBzZXRTY3JvbGxQb3NpdGlvbigndG9wJyk7XG4gICAgICAgICAgICBjb25zdCBpc0F0VGhlQm90dG9tID0gTWF0aC5hYnMoZWxlbWVudC5zY3JvbGxIZWlnaHQgLSBlbGVtZW50LnNjcm9sbFRvcCAtIGVsZW1lbnQuY2xpZW50SGVpZ2h0KSA8PSB0aHJlc2hvbGQ7XG4gICAgICAgICAgICBpZiAoaXNBdFRoZUJvdHRvbSlcbiAgICAgICAgICAgICAgICByZXR1cm4gc2V0U2Nyb2xsUG9zaXRpb24oJ2JvdHRvbScpO1xuICAgICAgICAgICAgc2V0U2Nyb2xsUG9zaXRpb24oJ2JldHdlZW4nKTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzaXplT2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIoc2Nyb2xsSGFuZGxlcik7XG4gICAgICAgIHJlc2l6ZU9ic2VydmVyLm9ic2VydmUoc2Nyb2xsRWxlbWVudCk7XG4gICAgICAgIHNjcm9sbEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgc2Nyb2xsSGFuZGxlcik7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBzY3JvbGxFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHNjcm9sbEhhbmRsZXIpO1xuICAgICAgICAgICAgcmVzaXplT2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgICAgICB9O1xuICAgIH0sIFtzY3JvbGxFbGVtZW50LCB0aHJlc2hvbGRdKTtcbiAgICByZXR1cm4gc2Nyb2xsUG9zaXRpb247XG59O1xuY29uc3QgdXNlSG9yaXpvbnRhbFNjcm9sbFBvc2l0aW9uID0gKHNjcm9sbEVsZW1lbnQsIHRocmVzaG9sZCA9IFNDUk9MTF9USFJFU0hPTEQpID0+IHtcbiAgICBjb25zdCBbc2Nyb2xsUG9zaXRpb24sIHNldFNjcm9sbFBvc2l0aW9uXSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICghc2Nyb2xsRWxlbWVudClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3Qgc2Nyb2xsSGFuZGxlciA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBzY3JvbGxFbGVtZW50O1xuICAgICAgICAgICAgY29uc3QgaGFzSG9yaXpvbnRhbFNjcm9sbGJhciA9IGVsZW1lbnQuc2Nyb2xsV2lkdGggPiBlbGVtZW50LmNsaWVudFdpZHRoO1xuICAgICAgICAgICAgaWYgKCFoYXNIb3Jpem9udGFsU2Nyb2xsYmFyKVxuICAgICAgICAgICAgICAgIHJldHVybiBzZXRTY3JvbGxQb3NpdGlvbihudWxsKTtcbiAgICAgICAgICAgIGNvbnN0IGlzQXRUaGVTdGFydCA9IGVsZW1lbnQuc2Nyb2xsTGVmdCA8PSB0aHJlc2hvbGQ7XG4gICAgICAgICAgICBpZiAoaXNBdFRoZVN0YXJ0KVxuICAgICAgICAgICAgICAgIHJldHVybiBzZXRTY3JvbGxQb3NpdGlvbignc3RhcnQnKTtcbiAgICAgICAgICAgIGNvbnN0IGlzQXRUaGVFbmQgPSBNYXRoLmFicyhlbGVtZW50LnNjcm9sbFdpZHRoIC0gZWxlbWVudC5zY3JvbGxMZWZ0IC0gZWxlbWVudC5jbGllbnRXaWR0aCkgPD0gdGhyZXNob2xkO1xuICAgICAgICAgICAgaWYgKGlzQXRUaGVFbmQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNldFNjcm9sbFBvc2l0aW9uKCdlbmQnKTtcbiAgICAgICAgICAgIHNldFNjcm9sbFBvc2l0aW9uKCdiZXR3ZWVuJyk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc2l6ZU9ic2VydmVyID0gbmV3IFJlc2l6ZU9ic2VydmVyKHNjcm9sbEhhbmRsZXIpO1xuICAgICAgICByZXNpemVPYnNlcnZlci5vYnNlcnZlKHNjcm9sbEVsZW1lbnQpO1xuICAgICAgICBzY3JvbGxFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHNjcm9sbEhhbmRsZXIpO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgc2Nyb2xsRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBzY3JvbGxIYW5kbGVyKTtcbiAgICAgICAgICAgIHJlc2l6ZU9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgfTtcbiAgICB9LCBbc2Nyb2xsRWxlbWVudCwgdGhyZXNob2xkXSk7XG4gICAgcmV0dXJuIHNjcm9sbFBvc2l0aW9uO1xufTtcblxuY29uc3QgdXNlUmVxdWVzdFBlcm1pc3Npb24gPSAocGVybWlzc2lvbikgPT4ge1xuICAgIGNvbnN0IGNhbGwgPSB1c2VDYWxsKCk7XG4gICAgY29uc3QgeyB1c2VIYXNQZXJtaXNzaW9ucyB9ID0gdXNlQ2FsbFN0YXRlSG9va3MoKTtcbiAgICBjb25zdCBoYXNQZXJtaXNzaW9uID0gdXNlSGFzUGVybWlzc2lvbnMocGVybWlzc2lvbik7XG4gICAgY29uc3QgW2lzQXdhaXRpbmdQZXJtaXNzaW9uLCBzZXRJc0F3YWl0aW5nUGVybWlzc2lvbl0gPSB1c2VTdGF0ZShmYWxzZSk7IC8vIFRPRE86IGxvYWQgd2l0aCBwb3NzaWJseSBwZW5kaW5nIHN0YXRlXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgY29uc3QgcmVzZXQgPSAoKSA9PiBzZXRJc0F3YWl0aW5nUGVybWlzc2lvbihmYWxzZSk7XG4gICAgICAgIGlmIChoYXNQZXJtaXNzaW9uKVxuICAgICAgICAgICAgcmVzZXQoKTtcbiAgICB9LCBbaGFzUGVybWlzc2lvbl0pO1xuICAgIGNvbnN0IHJlcXVlc3RQZXJtaXNzaW9uID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAoaGFzUGVybWlzc2lvbilcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICBjb25zdCBjYW5SZXF1ZXN0UGVybWlzc2lvbiA9ICEhY2FsbD8ucGVybWlzc2lvbnNDb250ZXh0LmNhblJlcXVlc3QocGVybWlzc2lvbik7XG4gICAgICAgIGlmIChpc0F3YWl0aW5nUGVybWlzc2lvbiB8fCAhY2FuUmVxdWVzdFBlcm1pc3Npb24pXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIHNldElzQXdhaXRpbmdQZXJtaXNzaW9uKHRydWUpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgY2FsbD8ucmVxdWVzdFBlcm1pc3Npb25zKHtcbiAgICAgICAgICAgICAgICBwZXJtaXNzaW9uczogW3Blcm1pc3Npb25dLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBzZXRJc0F3YWl0aW5nUGVybWlzc2lvbihmYWxzZSk7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYHJlcXVlc3RQZXJtaXNzaW9uIGZhaWxlZDogJHtlcnJvcn1gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSwgW2NhbGwsIGhhc1Blcm1pc3Npb24sIGlzQXdhaXRpbmdQZXJtaXNzaW9uLCBwZXJtaXNzaW9uXSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVxdWVzdFBlcm1pc3Npb24sXG4gICAgICAgIGhhc1Blcm1pc3Npb24sXG4gICAgICAgIGNhblJlcXVlc3RQZXJtaXNzaW9uOiAhIWNhbGw/LnBlcm1pc3Npb25zQ29udGV4dC5jYW5SZXF1ZXN0KHBlcm1pc3Npb24pLFxuICAgICAgICBpc0F3YWl0aW5nUGVybWlzc2lvbixcbiAgICB9O1xufTtcblxudmFyIE1lbnVWaXN1YWxUeXBlO1xuKGZ1bmN0aW9uIChNZW51VmlzdWFsVHlwZSkge1xuICAgIE1lbnVWaXN1YWxUeXBlW1wiUE9SVEFMXCJdID0gXCJwb3J0YWxcIjtcbiAgICBNZW51VmlzdWFsVHlwZVtcIk1FTlVcIl0gPSBcIm1lbnVcIjtcbn0pKE1lbnVWaXN1YWxUeXBlIHx8IChNZW51VmlzdWFsVHlwZSA9IHt9KSk7XG4vKipcbiAqIFVzZWQgdG8gcHJvdmlkZSB1dGlsaXR5IEFQSXMgdG8gdGhlIGNvbXBvbmVudHMgcmVuZGVyZWQgaW5zaWRlIHRoZSBwb3J0YWwuXG4gKi9cbmNvbnN0IE1lbnVDb250ZXh0ID0gY3JlYXRlQ29udGV4dCh7fSk7XG4vKipcbiAqIEFjY2VzcyB0byB0aGUgY2xvc2VzIE1lbnVDb250ZXh0LlxuICovXG5jb25zdCB1c2VNZW51Q29udGV4dCA9ICgpID0+IHtcbiAgICByZXR1cm4gdXNlQ29udGV4dChNZW51Q29udGV4dCk7XG59O1xuY29uc3QgTWVudVBvcnRhbCA9ICh7IGNoaWxkcmVuLCByZWZzLCB9KSA9PiB7XG4gICAgY29uc3QgcG9ydGFsSWQgPSB1c2VNZW1vKCgpID0+IGBzdHItdmlkZW8tcG9ydGFsLSR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDIsIDkpfWAsIFtdKTtcbiAgICByZXR1cm4gKGpzeHMoRnJhZ21lbnQsIHsgY2hpbGRyZW46IFtqc3goXCJkaXZcIiwgeyBpZDogcG9ydGFsSWQsIGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3BvcnRhbFwiIH0pLCBqc3goRmxvYXRpbmdPdmVybGF5LCB7IGNoaWxkcmVuOiBqc3goRmxvYXRpbmdQb3J0YWwsIHsgaWQ6IHBvcnRhbElkLCBjaGlsZHJlbjoganN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fcG9ydGFsLWNvbnRlbnRcIiwgcmVmOiByZWZzLnNldEZsb2F0aW5nLCBjaGlsZHJlbjogY2hpbGRyZW4gfSkgfSkgfSldIH0pKTtcbn07XG5jb25zdCBNZW51VG9nZ2xlID0gKHsgVG9nZ2xlQnV0dG9uLCBwbGFjZW1lbnQgPSAndG9wLXN0YXJ0Jywgc3RyYXRlZ3kgPSAnYWJzb2x1dGUnLCBvZmZzZXQsIHZpc3VhbFR5cGUgPSBNZW51VmlzdWFsVHlwZS5NRU5VLCBjaGlsZHJlbiwgb25Ub2dnbGUsIH0pID0+IHtcbiAgICBjb25zdCBbbWVudVNob3duLCBzZXRNZW51U2hvd25dID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IHRvZ2dsZUhhbmRsZXIgPSB1c2VSZWYob25Ub2dnbGUpO1xuICAgIHRvZ2dsZUhhbmRsZXIuY3VycmVudCA9IG9uVG9nZ2xlO1xuICAgIGNvbnN0IHsgZmxvYXRpbmcsIGRvbVJlZmVyZW5jZSwgcmVmcywgeCwgeSB9ID0gdXNlRmxvYXRpbmdVSVByZXNldCh7XG4gICAgICAgIHBsYWNlbWVudCxcbiAgICAgICAgc3RyYXRlZ3ksXG4gICAgICAgIG9mZnNldCxcbiAgICB9KTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBjb25zdCBoYW5kbGVDbGljayA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFmbG9hdGluZyAmJiBkb21SZWZlcmVuY2U/LmNvbnRhaW5zKGV2ZW50LnRhcmdldCkpIHtcbiAgICAgICAgICAgICAgICBzZXRNZW51U2hvd24odHJ1ZSk7XG4gICAgICAgICAgICAgICAgdG9nZ2xlSGFuZGxlci5jdXJyZW50Py4odHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChmbG9hdGluZyAmJiAhZmxvYXRpbmc/LmNvbnRhaW5zKGV2ZW50LnRhcmdldCkpIHtcbiAgICAgICAgICAgICAgICBzZXRNZW51U2hvd24oZmFsc2UpO1xuICAgICAgICAgICAgICAgIHRvZ2dsZUhhbmRsZXIuY3VycmVudD8uKGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgaGFuZGxlS2V5RG93biA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKGV2ZW50LmtleSAmJiAvLyBrZXkgY2FuIGJlIHVuZGVmaW5lZCBpbiBzb21lIGJyb3dzZXJzXG4gICAgICAgICAgICAgICAgZXZlbnQua2V5LnRvTG93ZXJDYXNlKCkgPT09ICdlc2NhcGUnICYmXG4gICAgICAgICAgICAgICAgIWV2ZW50LmFsdEtleSAmJlxuICAgICAgICAgICAgICAgICFldmVudC5jdHJsS2V5KSB7XG4gICAgICAgICAgICAgICAgc2V0TWVudVNob3duKGZhbHNlKTtcbiAgICAgICAgICAgICAgICB0b2dnbGVIYW5kbGVyLmN1cnJlbnQ/LihmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGRvY3VtZW50Py5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZUNsaWNrLCB7IGNhcHR1cmU6IHRydWUgfSk7XG4gICAgICAgIGRvY3VtZW50Py5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgaGFuZGxlS2V5RG93bik7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBkb2N1bWVudD8ucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVDbGljaywgeyBjYXB0dXJlOiB0cnVlIH0pO1xuICAgICAgICAgICAgZG9jdW1lbnQ/LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoYW5kbGVLZXlEb3duKTtcbiAgICAgICAgfTtcbiAgICB9LCBbZmxvYXRpbmcsIGRvbVJlZmVyZW5jZV0pO1xuICAgIHJldHVybiAoanN4cyhGcmFnbWVudCwgeyBjaGlsZHJlbjogW21lbnVTaG93biAmJiAoanN4KE1lbnVDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiB7IGNsb3NlOiAoKSA9PiBzZXRNZW51U2hvd24oZmFsc2UpIH0sIGNoaWxkcmVuOiB2aXN1YWxUeXBlID09PSBNZW51VmlzdWFsVHlwZS5QT1JUQUwgPyAoanN4KE1lbnVQb3J0YWwsIHsgcmVmczogcmVmcywgY2hpbGRyZW46IGNoaWxkcmVuIH0pKSA6IHZpc3VhbFR5cGUgPT09IE1lbnVWaXN1YWxUeXBlLk1FTlUgPyAoanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fbWVudS1jb250YWluZXJcIiwgcmVmOiByZWZzLnNldEZsb2F0aW5nLCBzdHlsZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IHN0cmF0ZWd5LFxuICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiB5ID8/IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiB4ID8/IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBvdmVyZmxvd1k6ICdhdXRvJyxcbiAgICAgICAgICAgICAgICAgICAgfSwgcm9sZTogXCJtZW51XCIsIGNoaWxkcmVuOiBjaGlsZHJlbiB9KSkgOiBudWxsIH0pKSwganN4KFRvZ2dsZUJ1dHRvbiwgeyBtZW51U2hvd246IG1lbnVTaG93biwgcmVmOiByZWZzLnNldFJlZmVyZW5jZSB9KV0gfSkpO1xufTtcblxuY29uc3QgR2VuZXJpY01lbnUgPSAoeyBjaGlsZHJlbiwgb25JdGVtQ2xpY2ssIH0pID0+IHtcbiAgICBjb25zdCByZWYgPSB1c2VSZWYobnVsbCk7XG4gICAgcmV0dXJuIChqc3goXCJ1bFwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2dlbmVyaWMtbWVudVwiLCByZWY6IHJlZiwgb25DbGljazogKGUpID0+IHtcbiAgICAgICAgICAgIGlmIChvbkl0ZW1DbGljayAmJlxuICAgICAgICAgICAgICAgIGUudGFyZ2V0ICE9PSByZWYuY3VycmVudCAmJlxuICAgICAgICAgICAgICAgIHJlZi5jdXJyZW50Py5jb250YWlucyhlLnRhcmdldCkpIHtcbiAgICAgICAgICAgICAgICBvbkl0ZW1DbGljayhlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgY2hpbGRyZW46IGNoaWxkcmVuIH0pKTtcbn07XG5jb25zdCBHZW5lcmljTWVudUJ1dHRvbkl0ZW0gPSAoeyBjaGlsZHJlbiwgLi4ucmVzdCB9KSA9PiB7XG4gICAgcmV0dXJuIChqc3goXCJsaVwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2dlbmVyaWMtbWVudS0taXRlbVwiLCBjaGlsZHJlbjoganN4KFwiYnV0dG9uXCIsIHsgLi4ucmVzdCwgY2hpbGRyZW46IGNoaWxkcmVuIH0pIH0pKTtcbn07XG5cbmNvbnN0IEljb24gPSAoeyBjbGFzc05hbWUsIGljb24gfSkgPT4gKGpzeChcInNwYW5cIiwgeyBjbGFzc05hbWU6IGNsc3goJ3N0ci12aWRlb19faWNvbicsIGljb24gJiYgYHN0ci12aWRlb19faWNvbi0tJHtpY29ufWAsIGNsYXNzTmFtZSkgfSkpO1xuXG5mdW5jdGlvbiB1c2VQaWN0dXJlSW5QaWN0dXJlU3RhdGUodmlkZW9FbGVtZW50KSB7XG4gICAgY29uc3QgW2lzUGlQLCBzZXRJc1BpUF0gPSB1c2VTdGF0ZShkb2N1bWVudC5waWN0dXJlSW5QaWN0dXJlRWxlbWVudCA9PT0gdmlkZW9FbGVtZW50KTtcbiAgICBpZiAoIXZpZGVvRWxlbWVudCAmJiBpc1BpUClcbiAgICAgICAgc2V0SXNQaVAoZmFsc2UpO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICghdmlkZW9FbGVtZW50KVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBoYW5kbGVQaVAgPSAoKSA9PiB7XG4gICAgICAgICAgICBzZXRJc1BpUChkb2N1bWVudC5waWN0dXJlSW5QaWN0dXJlRWxlbWVudCA9PT0gdmlkZW9FbGVtZW50KTtcbiAgICAgICAgfTtcbiAgICAgICAgdmlkZW9FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2VudGVycGljdHVyZWlucGljdHVyZScsIGhhbmRsZVBpUCk7XG4gICAgICAgIHZpZGVvRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdsZWF2ZXBpY3R1cmVpbnBpY3R1cmUnLCBoYW5kbGVQaVApO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgdmlkZW9FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2VudGVycGljdHVyZWlucGljdHVyZScsIGhhbmRsZVBpUCk7XG4gICAgICAgICAgICB2aWRlb0VsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbGVhdmVwaWN0dXJlaW5waWN0dXJlJywgaGFuZGxlUGlQKTtcbiAgICAgICAgfTtcbiAgICB9LCBbdmlkZW9FbGVtZW50XSk7XG4gICAgcmV0dXJuIGlzUGlQO1xufVxuXG5jb25zdCBQYXJ0aWNpcGFudEFjdGlvbnNDb250ZXh0TWVudSA9ICgpID0+IHtcbiAgICBjb25zdCB7IHBhcnRpY2lwYW50LCBwYXJ0aWNpcGFudFZpZXdFbGVtZW50LCB2aWRlb0VsZW1lbnQgfSA9IHVzZVBhcnRpY2lwYW50Vmlld0NvbnRleHQoKTtcbiAgICBjb25zdCBbZnVsbHNjcmVlbk1vZGVPbiwgc2V0RnVsbHNjcmVlbk1vZGVPbl0gPSB1c2VTdGF0ZSghIWRvY3VtZW50LmZ1bGxzY3JlZW5FbGVtZW50KTtcbiAgICBjb25zdCBjYWxsID0gdXNlQ2FsbCgpO1xuICAgIGNvbnN0IGlzUGlQID0gdXNlUGljdHVyZUluUGljdHVyZVN0YXRlKHZpZGVvRWxlbWVudCA/PyB1bmRlZmluZWQpO1xuICAgIGNvbnN0IHsgdCB9ID0gdXNlSTE4bigpO1xuICAgIGNvbnN0IHsgcGluLCBzZXNzaW9uSWQsIHVzZXJJZCB9ID0gcGFydGljaXBhbnQ7XG4gICAgY29uc3QgaGFzQXVkaW9UcmFjayA9IGhhc0F1ZGlvKHBhcnRpY2lwYW50KTtcbiAgICBjb25zdCBoYXNWaWRlb1RyYWNrID0gaGFzVmlkZW8ocGFydGljaXBhbnQpO1xuICAgIGNvbnN0IGhhc1NjcmVlblNoYXJlVHJhY2sgPSBoYXNTY3JlZW5TaGFyZShwYXJ0aWNpcGFudCk7XG4gICAgY29uc3QgaGFzU2NyZWVuU2hhcmVBdWRpb1RyYWNrID0gaGFzU2NyZWVuU2hhcmVBdWRpbyhwYXJ0aWNpcGFudCk7XG4gICAgY29uc3QgYmxvY2tVc2VyID0gKCkgPT4gY2FsbD8uYmxvY2tVc2VyKHVzZXJJZCk7XG4gICAgY29uc3QgbXV0ZUF1ZGlvID0gKCkgPT4gY2FsbD8ubXV0ZVVzZXIodXNlcklkLCAnYXVkaW8nKTtcbiAgICBjb25zdCBtdXRlVmlkZW8gPSAoKSA9PiBjYWxsPy5tdXRlVXNlcih1c2VySWQsICd2aWRlbycpO1xuICAgIGNvbnN0IG11dGVTY3JlZW5TaGFyZSA9ICgpID0+IGNhbGw/Lm11dGVVc2VyKHVzZXJJZCwgJ3NjcmVlbnNoYXJlJyk7XG4gICAgY29uc3QgbXV0ZVNjcmVlblNoYXJlQXVkaW8gPSAoKSA9PiBjYWxsPy5tdXRlVXNlcih1c2VySWQsICdzY3JlZW5zaGFyZV9hdWRpbycpO1xuICAgIGNvbnN0IGdyYW50UGVybWlzc2lvbiA9IChwZXJtaXNzaW9uKSA9PiAoKSA9PiB7XG4gICAgICAgIGNhbGw/LnVwZGF0ZVVzZXJQZXJtaXNzaW9ucyh7XG4gICAgICAgICAgICB1c2VyX2lkOiB1c2VySWQsXG4gICAgICAgICAgICBncmFudF9wZXJtaXNzaW9uczogW3Blcm1pc3Npb25dLFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IHJldm9rZVBlcm1pc3Npb24gPSAocGVybWlzc2lvbikgPT4gKCkgPT4ge1xuICAgICAgICBjYWxsPy51cGRhdGVVc2VyUGVybWlzc2lvbnMoe1xuICAgICAgICAgICAgdXNlcl9pZDogdXNlcklkLFxuICAgICAgICAgICAgcmV2b2tlX3Blcm1pc3Npb25zOiBbcGVybWlzc2lvbl0sXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgY29uc3QgdG9nZ2xlUGFydGljaXBhbnRQaW4gPSAoKSA9PiB7XG4gICAgICAgIGlmIChwaW4pIHtcbiAgICAgICAgICAgIGNhbGw/LnVucGluKHNlc3Npb25JZCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjYWxsPy5waW4oc2Vzc2lvbklkKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgcGluRm9yRXZlcnlvbmUgPSAoKSA9PiB7XG4gICAgICAgIGNhbGxcbiAgICAgICAgICAgID8ucGluRm9yRXZlcnlvbmUoe1xuICAgICAgICAgICAgdXNlcl9pZDogdXNlcklkLFxuICAgICAgICAgICAgc2Vzc2lvbl9pZDogc2Vzc2lvbklkLFxuICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEZhaWxlZCB0byBwaW4gcGFydGljaXBhbnQgJHt1c2VySWR9YCwgZXJyKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBjb25zdCB1bnBpbkZvckV2ZXJ5b25lID0gKCkgPT4ge1xuICAgICAgICBjYWxsXG4gICAgICAgICAgICA/LnVucGluRm9yRXZlcnlvbmUoe1xuICAgICAgICAgICAgdXNlcl9pZDogdXNlcklkLFxuICAgICAgICAgICAgc2Vzc2lvbl9pZDogc2Vzc2lvbklkLFxuICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEZhaWxlZCB0byB1bnBpbiBwYXJ0aWNpcGFudCAke3VzZXJJZH1gLCBlcnIpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IHRvZ2dsZUZ1bGxzY3JlZW5Nb2RlID0gKCkgPT4ge1xuICAgICAgICBpZiAoIWZ1bGxzY3JlZW5Nb2RlT24pIHtcbiAgICAgICAgICAgIHJldHVybiBwYXJ0aWNpcGFudFZpZXdFbGVtZW50Py5yZXF1ZXN0RnVsbHNjcmVlbigpLmNhdGNoKGNvbnNvbGUuZXJyb3IpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkb2N1bWVudC5leGl0RnVsbHNjcmVlbigpLmNhdGNoKGNvbnNvbGUuZXJyb3IpO1xuICAgIH07XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgLy8gaGFuZGxlcyB0aGUgY2FzZSB3aGVuIGZ1bGxzY3JlZW4gbW9kZSBpcyB0b2dnbGVkIGV4dGVybmFsbHksXG4gICAgICAgIC8vIGUuZy4sIGJ5IHByZXNzaW5nIEVTQyBrZXkgb3Igc29tZSBvdGhlciBrZXlib2FyZCBzaG9ydGN1dFxuICAgICAgICBjb25zdCBoYW5kbGVGdWxsc2NyZWVuQ2hhbmdlID0gKCkgPT4ge1xuICAgICAgICAgICAgc2V0RnVsbHNjcmVlbk1vZGVPbighIWRvY3VtZW50LmZ1bGxzY3JlZW5FbGVtZW50KTtcbiAgICAgICAgfTtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZnVsbHNjcmVlbmNoYW5nZScsIGhhbmRsZUZ1bGxzY3JlZW5DaGFuZ2UpO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignZnVsbHNjcmVlbmNoYW5nZScsIGhhbmRsZUZ1bGxzY3JlZW5DaGFuZ2UpO1xuICAgICAgICB9O1xuICAgIH0sIFtdKTtcbiAgICBjb25zdCB0b2dnbGVQaWN0dXJlSW5QaWN0dXJlID0gKCkgPT4ge1xuICAgICAgICBpZiAodmlkZW9FbGVtZW50ICYmICFpc1BpUCkge1xuICAgICAgICAgICAgcmV0dXJuIHZpZGVvRWxlbWVudFxuICAgICAgICAgICAgICAgIC5yZXF1ZXN0UGljdHVyZUluUGljdHVyZSgpXG4gICAgICAgICAgICAgICAgLmNhdGNoKGNvbnNvbGUuZXJyb3IpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkb2N1bWVudC5leGl0UGljdHVyZUluUGljdHVyZSgpLmNhdGNoKGNvbnNvbGUuZXJyb3IpO1xuICAgIH07XG4gICAgY29uc3QgeyBjbG9zZSB9ID0gdXNlTWVudUNvbnRleHQoKSB8fCB7fTtcbiAgICByZXR1cm4gKGpzeHMoR2VuZXJpY01lbnUsIHsgb25JdGVtQ2xpY2s6IGNsb3NlLCBjaGlsZHJlbjogW2pzeHMoR2VuZXJpY01lbnVCdXR0b25JdGVtLCB7IG9uQ2xpY2s6IHRvZ2dsZVBhcnRpY2lwYW50UGluLCBkaXNhYmxlZDogcGluICYmICFwaW4uaXNMb2NhbFBpbiwgY2hpbGRyZW46IFtqc3goSWNvbiwgeyBpY29uOiBcInBpblwiIH0pLCBwaW4gPyB0KCdVbnBpbicpIDogdCgnUGluJyldIH0pLCBqc3hzKFJlc3RyaWN0ZWQsIHsgcmVxdWlyZWRHcmFudHM6IFtPd25DYXBhYmlsaXR5LlBJTl9GT1JfRVZFUllPTkVdLCBjaGlsZHJlbjogW2pzeHMoR2VuZXJpY01lbnVCdXR0b25JdGVtLCB7IG9uQ2xpY2s6IHBpbkZvckV2ZXJ5b25lLCBkaXNhYmxlZDogcGluICYmICFwaW4uaXNMb2NhbFBpbiwgY2hpbGRyZW46IFtqc3goSWNvbiwgeyBpY29uOiBcInBpblwiIH0pLCB0KCdQaW4gZm9yIGV2ZXJ5b25lJyldIH0pLCBqc3hzKEdlbmVyaWNNZW51QnV0dG9uSXRlbSwgeyBvbkNsaWNrOiB1bnBpbkZvckV2ZXJ5b25lLCBkaXNhYmxlZDogIXBpbiB8fCBwaW4uaXNMb2NhbFBpbiwgY2hpbGRyZW46IFtqc3goSWNvbiwgeyBpY29uOiBcInBpblwiIH0pLCB0KCdVbnBpbiBmb3IgZXZlcnlvbmUnKV0gfSldIH0pLCBqc3goUmVzdHJpY3RlZCwgeyByZXF1aXJlZEdyYW50czogW093bkNhcGFiaWxpdHkuQkxPQ0tfVVNFUlNdLCBjaGlsZHJlbjoganN4cyhHZW5lcmljTWVudUJ1dHRvbkl0ZW0sIHsgb25DbGljazogYmxvY2tVc2VyLCBjaGlsZHJlbjogW2pzeChJY29uLCB7IGljb246IFwibm90LWFsbG93ZWRcIiB9KSwgdCgnQmxvY2snKV0gfSkgfSksIGpzeHMoUmVzdHJpY3RlZCwgeyByZXF1aXJlZEdyYW50czogW093bkNhcGFiaWxpdHkuTVVURV9VU0VSU10sIGNoaWxkcmVuOiBbaGFzVmlkZW9UcmFjayAmJiAoanN4cyhHZW5lcmljTWVudUJ1dHRvbkl0ZW0sIHsgb25DbGljazogbXV0ZVZpZGVvLCBjaGlsZHJlbjogW2pzeChJY29uLCB7IGljb246IFwiY2FtZXJhLW9mZi1vdXRsaW5lXCIgfSksIHQoJ1R1cm4gb2ZmIHZpZGVvJyldIH0pKSwgaGFzU2NyZWVuU2hhcmVUcmFjayAmJiAoanN4cyhHZW5lcmljTWVudUJ1dHRvbkl0ZW0sIHsgb25DbGljazogbXV0ZVNjcmVlblNoYXJlLCBjaGlsZHJlbjogW2pzeChJY29uLCB7IGljb246IFwic2NyZWVuLXNoYXJlLW9mZlwiIH0pLCB0KCdUdXJuIG9mZiBzY3JlZW4gc2hhcmUnKV0gfSkpLCBoYXNBdWRpb1RyYWNrICYmIChqc3hzKEdlbmVyaWNNZW51QnV0dG9uSXRlbSwgeyBvbkNsaWNrOiBtdXRlQXVkaW8sIGNoaWxkcmVuOiBbanN4KEljb24sIHsgaWNvbjogXCJuby1hdWRpb1wiIH0pLCB0KCdNdXRlIGF1ZGlvJyldIH0pKSwgaGFzU2NyZWVuU2hhcmVBdWRpb1RyYWNrICYmIChqc3hzKEdlbmVyaWNNZW51QnV0dG9uSXRlbSwgeyBvbkNsaWNrOiBtdXRlU2NyZWVuU2hhcmVBdWRpbywgY2hpbGRyZW46IFtqc3goSWNvbiwgeyBpY29uOiBcIm5vLWF1ZGlvXCIgfSksIHQoJ011dGUgc2NyZWVuIHNoYXJlIGF1ZGlvJyldIH0pKV0gfSksIHBhcnRpY2lwYW50Vmlld0VsZW1lbnQgJiYgKGpzeChHZW5lcmljTWVudUJ1dHRvbkl0ZW0sIHsgb25DbGljazogdG9nZ2xlRnVsbHNjcmVlbk1vZGUsIGNoaWxkcmVuOiB0KCd7eyBkaXJlY3Rpb24gfX0gZnVsbHNjcmVlbicsIHtcbiAgICAgICAgICAgICAgICAgICAgZGlyZWN0aW9uOiBmdWxsc2NyZWVuTW9kZU9uID8gdCgnTGVhdmUnKSA6IHQoJ0VudGVyJyksXG4gICAgICAgICAgICAgICAgfSkgfSkpLCB2aWRlb0VsZW1lbnQgJiYgZG9jdW1lbnQucGljdHVyZUluUGljdHVyZUVuYWJsZWQgJiYgKGpzeChHZW5lcmljTWVudUJ1dHRvbkl0ZW0sIHsgb25DbGljazogdG9nZ2xlUGljdHVyZUluUGljdHVyZSwgY2hpbGRyZW46IHQoJ3t7IGRpcmVjdGlvbiB9fSBwaWN0dXJlLWluLXBpY3R1cmUnLCB7XG4gICAgICAgICAgICAgICAgICAgIGRpcmVjdGlvbjogaXNQaVAgPyB0KCdMZWF2ZScpIDogdCgnRW50ZXInKSxcbiAgICAgICAgICAgICAgICB9KSB9KSksIGpzeHMoUmVzdHJpY3RlZCwgeyByZXF1aXJlZEdyYW50czogW093bkNhcGFiaWxpdHkuVVBEQVRFX0NBTExfUEVSTUlTU0lPTlNdLCBjaGlsZHJlbjogW2pzeChHZW5lcmljTWVudUJ1dHRvbkl0ZW0sIHsgb25DbGljazogZ3JhbnRQZXJtaXNzaW9uKE93bkNhcGFiaWxpdHkuU0VORF9BVURJTyksIGNoaWxkcmVuOiB0KCdBbGxvdyBhdWRpbycpIH0pLCBqc3goR2VuZXJpY01lbnVCdXR0b25JdGVtLCB7IG9uQ2xpY2s6IGdyYW50UGVybWlzc2lvbihPd25DYXBhYmlsaXR5LlNFTkRfVklERU8pLCBjaGlsZHJlbjogdCgnQWxsb3cgdmlkZW8nKSB9KSwganN4KEdlbmVyaWNNZW51QnV0dG9uSXRlbSwgeyBvbkNsaWNrOiBncmFudFBlcm1pc3Npb24oT3duQ2FwYWJpbGl0eS5TQ1JFRU5TSEFSRSksIGNoaWxkcmVuOiB0KCdBbGxvdyBzY3JlZW4gc2hhcmluZycpIH0pLCBqc3goR2VuZXJpY01lbnVCdXR0b25JdGVtLCB7IG9uQ2xpY2s6IHJldm9rZVBlcm1pc3Npb24oT3duQ2FwYWJpbGl0eS5TRU5EX0FVRElPKSwgY2hpbGRyZW46IHQoJ0Rpc2FibGUgYXVkaW8nKSB9KSwganN4KEdlbmVyaWNNZW51QnV0dG9uSXRlbSwgeyBvbkNsaWNrOiByZXZva2VQZXJtaXNzaW9uKE93bkNhcGFiaWxpdHkuU0VORF9WSURFTyksIGNoaWxkcmVuOiB0KCdEaXNhYmxlIHZpZGVvJykgfSksIGpzeChHZW5lcmljTWVudUJ1dHRvbkl0ZW0sIHsgb25DbGljazogcmV2b2tlUGVybWlzc2lvbihPd25DYXBhYmlsaXR5LlNDUkVFTlNIQVJFKSwgY2hpbGRyZW46IHQoJ0Rpc2FibGUgc2NyZWVuIHNoYXJpbmcnKSB9KV0gfSldIH0pKTtcbn07XG5cbmNvbnN0IGlzQ29tcG9uZW50VHlwZSA9IChlbGVtZW50T3JDb21wb25lbnQpID0+IHtcbiAgICByZXR1cm4gZWxlbWVudE9yQ29tcG9uZW50ID09PSBudWxsXG4gICAgICAgID8gZmFsc2VcbiAgICAgICAgOiAhaXNWYWxpZEVsZW1lbnQoZWxlbWVudE9yQ29tcG9uZW50KTtcbn07XG5cbmNvbnN0IGNodW5rID0gKGFycmF5LCBzaXplKSA9PiB7XG4gICAgY29uc3QgY2h1bmtDb3VudCA9IE1hdGguY2VpbChhcnJheS5sZW5ndGggLyBzaXplKTtcbiAgICByZXR1cm4gQXJyYXkuZnJvbSh7IGxlbmd0aDogY2h1bmtDb3VudCB9LCAoXywgaW5kZXgpID0+IGFycmF5LnNsaWNlKHNpemUgKiBpbmRleCwgc2l6ZSAqIGluZGV4ICsgc2l6ZSkpO1xufTtcblxuY29uc3QgYXBwbHlFbGVtZW50VG9SZWYgPSAocmVmLCBlbGVtZW50KSA9PiB7XG4gICAgaWYgKCFyZWYpXG4gICAgICAgIHJldHVybjtcbiAgICBpZiAodHlwZW9mIHJlZiA9PT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgcmV0dXJuIHJlZihlbGVtZW50KTtcbiAgICByZWYuY3VycmVudCA9IGVsZW1lbnQ7XG59O1xuXG4vKipcbiAqIEBkZXNjcmlwdGlvbiBFeHRlbmRzIHZpZGVvIGVsZW1lbnQgd2l0aCBgc3RyZWFtYCBwcm9wZXJ0eVxuICogKGBzcmNPYmplY3RgKSB0byByZWFjdGl2ZWx5IGhhbmRsZSBzdHJlYW0gY2hhbmdlc1xuICovXG5jb25zdCBCYXNlVmlkZW8gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uIEJhc2VWaWRlbyh7IHN0cmVhbSwgLi4ucmVzdCB9LCByZWYpIHtcbiAgICBjb25zdCBbdmlkZW9FbGVtZW50LCBzZXRWaWRlb0VsZW1lbnRdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKCF2aWRlb0VsZW1lbnQgfHwgIXN0cmVhbSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKHN0cmVhbSA9PT0gdmlkZW9FbGVtZW50LnNyY09iamVjdClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdmlkZW9FbGVtZW50LnNyY09iamVjdCA9IHN0cmVhbTtcbiAgICAgICAgaWYgKEJyb3dzZXJzLmlzU2FmYXJpKCkgfHwgQnJvd3NlcnMuaXNGaXJlZm94KCkpIHtcbiAgICAgICAgICAgIC8vIEZpcmVmb3ggYW5kIFNhZmFyaSBoYXZlIHNvbWUgdGltaW5nIGlzc3VlXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICB2aWRlb0VsZW1lbnQuc3JjT2JqZWN0ID0gc3RyZWFtO1xuICAgICAgICAgICAgICAgIHZpZGVvRWxlbWVudC5wbGF5KCkuY2F0Y2goKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRmFpbGVkIHRvIHBsYXkgc3RyZWFtYCwgZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgdmlkZW9FbGVtZW50LnBhdXNlKCk7XG4gICAgICAgICAgICB2aWRlb0VsZW1lbnQuc3JjT2JqZWN0ID0gbnVsbDtcbiAgICAgICAgfTtcbiAgICB9LCBbc3RyZWFtLCB2aWRlb0VsZW1lbnRdKTtcbiAgICByZXR1cm4gKGpzeChcInZpZGVvXCIsIHsgYXV0b1BsYXk6IHRydWUsIHBsYXlzSW5saW5lOiB0cnVlLCAuLi5yZXN0LCByZWY6IChlbGVtZW50KSA9PiB7XG4gICAgICAgICAgICBhcHBseUVsZW1lbnRUb1JlZihyZWYsIGVsZW1lbnQpO1xuICAgICAgICAgICAgc2V0VmlkZW9FbGVtZW50KGVsZW1lbnQpO1xuICAgICAgICB9IH0pKTtcbn0pO1xuXG5jb25zdCBCYXNlVmlkZW9QbGFjZWhvbGRlciA9IGZvcndhcmRSZWYoZnVuY3Rpb24gRGVmYXVsdFZpZGVvUGxhY2Vob2xkZXIoeyBwYXJ0aWNpcGFudCwgc3R5bGUsIGNoaWxkcmVuIH0sIHJlZikge1xuICAgIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IG5hbWUgPSBwYXJ0aWNpcGFudC5uYW1lIHx8IHBhcnRpY2lwYW50LnVzZXJJZDtcbiAgICByZXR1cm4gKGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX192aWRlby1wbGFjZWhvbGRlclwiLCBzdHlsZTogc3R5bGUsIHJlZjogcmVmLCBjaGlsZHJlbjogWyghcGFydGljaXBhbnQuaW1hZ2UgfHwgZXJyb3IpICYmXG4gICAgICAgICAgICAgICAgKG5hbWUgPyAoanN4KEluaXRpYWxzRmFsbGJhY2ssIHsgbmFtZTogbmFtZSB9KSkgOiAoanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fdmlkZW8tcGxhY2Vob2xkZXJfX25vLXZpZGVvLWxhYmVsXCIsIGNoaWxkcmVuOiBjaGlsZHJlbiB9KSkpLCBwYXJ0aWNpcGFudC5pbWFnZSAmJiAhZXJyb3IgJiYgKGpzeChcImltZ1wiLCB7IG9uRXJyb3I6ICgpID0+IHNldEVycm9yKHRydWUpLCBhbHQ6IG5hbWUsIGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3ZpZGVvLXBsYWNlaG9sZGVyX19hdmF0YXJcIiwgc3JjOiBwYXJ0aWNpcGFudC5pbWFnZSB9KSldIH0pKTtcbn0pO1xuY29uc3QgSW5pdGlhbHNGYWxsYmFjayA9IChwcm9wcykgPT4ge1xuICAgIGNvbnN0IHsgbmFtZSB9ID0gcHJvcHM7XG4gICAgY29uc3QgaW5pdGlhbHMgPSBuYW1lXG4gICAgICAgIC5zcGxpdCgnICcpXG4gICAgICAgIC5zbGljZSgwLCAyKVxuICAgICAgICAubWFwKChuKSA9PiBuWzBdKVxuICAgICAgICAuam9pbignJyk7XG4gICAgcmV0dXJuIChqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX192aWRlby1wbGFjZWhvbGRlcl9faW5pdGlhbHMtZmFsbGJhY2tcIiwgY2hpbGRyZW46IGluaXRpYWxzIH0pKTtcbn07XG5cbmNvbnN0IERlZmF1bHRWaWRlb1BsYWNlaG9sZGVyID0gZm9yd2FyZFJlZihmdW5jdGlvbiBEZWZhdWx0VmlkZW9QbGFjZWhvbGRlcihwcm9wcywgcmVmKSB7XG4gICAgY29uc3QgeyB0IH0gPSB1c2VJMThuKCk7XG4gICAgcmV0dXJuIChqc3goQmFzZVZpZGVvUGxhY2Vob2xkZXIsIHsgcmVmOiByZWYsIC4uLnByb3BzLCBjaGlsZHJlbjogdCgnVmlkZW8gaXMgZGlzYWJsZWQnKSB9KSk7XG59KTtcblxuY29uc3QgRGVmYXVsdFBpY3R1cmVJblBpY3R1cmVQbGFjZWhvbGRlciA9IGZvcndhcmRSZWYoZnVuY3Rpb24gRGVmYXVsdFBpY3R1cmVJblBpY3R1cmVQbGFjZWhvbGRlcihwcm9wcywgcmVmKSB7XG4gICAgY29uc3QgeyB0IH0gPSB1c2VJMThuKCk7XG4gICAgcmV0dXJuIChqc3goQmFzZVZpZGVvUGxhY2Vob2xkZXIsIHsgcmVmOiByZWYsIC4uLnByb3BzLCBjaGlsZHJlbjogdCgnVmlkZW8gaXMgcGxheWluZyBpbiBhIHBvcHVwJykgfSkpO1xufSk7XG5cbmNvbnN0IFZpZGVvJDEgPSAoeyBlbmFibGVkID0gdHJ1ZSwgbWlycm9yLCB0cmFja1R5cGUsIHBhcnRpY2lwYW50LCBjbGFzc05hbWUsIFZpZGVvUGxhY2Vob2xkZXIgPSBEZWZhdWx0VmlkZW9QbGFjZWhvbGRlciwgUGljdHVyZUluUGljdHVyZVBsYWNlaG9sZGVyID0gRGVmYXVsdFBpY3R1cmVJblBpY3R1cmVQbGFjZWhvbGRlciwgcmVmcywgLi4ucmVzdCB9KSA9PiB7XG4gICAgY29uc3QgeyBzZXNzaW9uSWQsIHZpZGVvU3RyZWFtLCBzY3JlZW5TaGFyZVN0cmVhbSwgdmlld3BvcnRWaXNpYmlsaXR5U3RhdGUsIGlzTG9jYWxQYXJ0aWNpcGFudCwgdXNlcklkLCB9ID0gcGFydGljaXBhbnQ7XG4gICAgY29uc3QgY2FsbCA9IHVzZUNhbGwoKTtcbiAgICBjb25zdCBbdmlkZW9FbGVtZW50LCBzZXRWaWRlb0VsZW1lbnRdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgLy8gc3RhcnQgd2l0aCB0cnVlLCB3aWxsIGZsaXAgb25jZSB0aGUgdmlkZW8gc3RhcnRzIHBsYXlpbmdcbiAgICBjb25zdCBbaXNWaWRlb1BhdXNlZCwgc2V0SXNWaWRlb1BhdXNlZF0gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgICBjb25zdCBbaXNXaWRlTW9kZSwgc2V0SXNXaWRlTW9kZV0gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgICBjb25zdCBpc1BpUCA9IHVzZVBpY3R1cmVJblBpY3R1cmVTdGF0ZSh2aWRlb0VsZW1lbnQgPz8gdW5kZWZpbmVkKTtcbiAgICBjb25zdCBzdHJlYW0gPSB0cmFja1R5cGUgPT09ICd2aWRlb1RyYWNrJ1xuICAgICAgICA/IHZpZGVvU3RyZWFtXG4gICAgICAgIDogdHJhY2tUeXBlID09PSAnc2NyZWVuU2hhcmVUcmFjaydcbiAgICAgICAgICAgID8gc2NyZWVuU2hhcmVTdHJlYW1cbiAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgIHVzZUxheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICghY2FsbCB8fCAhdmlkZW9FbGVtZW50IHx8IHRyYWNrVHlwZSA9PT0gJ25vbmUnKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBjbGVhbnVwID0gY2FsbC5iaW5kVmlkZW9FbGVtZW50KHZpZGVvRWxlbWVudCwgc2Vzc2lvbklkLCB0cmFja1R5cGUpO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgY2xlYW51cD8uKCk7XG4gICAgICAgIH07XG4gICAgfSwgW2NhbGwsIHRyYWNrVHlwZSwgc2Vzc2lvbklkLCB2aWRlb0VsZW1lbnRdKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIXN0cmVhbSB8fCAhdmlkZW9FbGVtZW50KVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBbdHJhY2tdID0gc3RyZWFtLmdldFZpZGVvVHJhY2tzKCk7XG4gICAgICAgIGlmICghdHJhY2spXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IGhhbmRsZVBsYXlQYXVzZSA9ICgpID0+IHtcbiAgICAgICAgICAgIHNldElzVmlkZW9QYXVzZWQodmlkZW9FbGVtZW50LnBhdXNlZCk7XG4gICAgICAgICAgICBjb25zdCB7IHdpZHRoID0gMCwgaGVpZ2h0ID0gMCB9ID0gdHJhY2suZ2V0U2V0dGluZ3MoKTtcbiAgICAgICAgICAgIHNldElzV2lkZU1vZGUod2lkdGggPj0gaGVpZ2h0KTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gcGxheWJhY2sgbWF5IGhhdmUgc3RhcnRlZCBiZWZvcmUgd2UgaGFkIGEgY2hhbmNlIHRvXG4gICAgICAgIC8vIGF0dGFjaCB0aGUgJ3BsYXkvcGF1c2UnIGV2ZW50IGxpc3RlbmVyLCBzbyB3ZSBzZXQgdGhlIHN0YXRlXG4gICAgICAgIC8vIGhlcmUgdG8gbWFrZSBzdXJlIGl0J3MgaW4gc3luY1xuICAgICAgICBzZXRJc1ZpZGVvUGF1c2VkKHZpZGVvRWxlbWVudC5wYXVzZWQpO1xuICAgICAgICB2aWRlb0VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncGxheScsIGhhbmRsZVBsYXlQYXVzZSk7XG4gICAgICAgIHZpZGVvRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdwYXVzZScsIGhhbmRsZVBsYXlQYXVzZSk7XG4gICAgICAgIHRyYWNrLmFkZEV2ZW50TGlzdGVuZXIoJ3VubXV0ZScsIGhhbmRsZVBsYXlQYXVzZSk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICB2aWRlb0VsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncGxheScsIGhhbmRsZVBsYXlQYXVzZSk7XG4gICAgICAgICAgICB2aWRlb0VsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncGF1c2UnLCBoYW5kbGVQbGF5UGF1c2UpO1xuICAgICAgICAgICAgdHJhY2sucmVtb3ZlRXZlbnRMaXN0ZW5lcigndW5tdXRlJywgaGFuZGxlUGxheVBhdXNlKTtcbiAgICAgICAgICAgIC8vIHJlc2V0IHRoZSAncGF1c2UnIHN0YXRlIG9uY2Ugd2UgdW5tb3VudCB0aGUgdmlkZW8gZWxlbWVudFxuICAgICAgICAgICAgc2V0SXNWaWRlb1BhdXNlZCh0cnVlKTtcbiAgICAgICAgfTtcbiAgICB9LCBbc3RyZWFtLCB2aWRlb0VsZW1lbnRdKTtcbiAgICBpZiAoIWNhbGwpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIGNvbnN0IGlzUHVibGlzaGluZ1RyYWNrID0gdHJhY2tUeXBlID09PSAndmlkZW9UcmFjaydcbiAgICAgICAgPyBoYXNWaWRlbyhwYXJ0aWNpcGFudClcbiAgICAgICAgOiB0cmFja1R5cGUgPT09ICdzY3JlZW5TaGFyZVRyYWNrJ1xuICAgICAgICAgICAgPyBoYXNTY3JlZW5TaGFyZShwYXJ0aWNpcGFudClcbiAgICAgICAgICAgIDogZmFsc2U7XG4gICAgY29uc3QgaXNJbnZpc2libGUgPSB0cmFja1R5cGUgPT09ICdub25lJyB8fFxuICAgICAgICB2aWV3cG9ydFZpc2liaWxpdHlTdGF0ZT8uW3RyYWNrVHlwZV0gPT09IFZpc2liaWxpdHlTdGF0ZS5JTlZJU0lCTEU7XG4gICAgY29uc3QgaGFzTm9WaWRlb09ySW52aXNpYmxlID0gIWVuYWJsZWQgfHwgIWlzUHVibGlzaGluZ1RyYWNrIHx8IGlzSW52aXNpYmxlO1xuICAgIGNvbnN0IG1pcnJvclZpZGVvID0gbWlycm9yID09PSB1bmRlZmluZWRcbiAgICAgICAgPyBpc0xvY2FsUGFydGljaXBhbnQgJiYgdHJhY2tUeXBlID09PSAndmlkZW9UcmFjaydcbiAgICAgICAgOiBtaXJyb3I7XG4gICAgY29uc3QgaXNTY3JlZW5TaGFyZVRyYWNrID0gdHJhY2tUeXBlID09PSAnc2NyZWVuU2hhcmVUcmFjayc7XG4gICAgcmV0dXJuIChqc3hzKEZyYWdtZW50LCB7IGNoaWxkcmVuOiBbIWhhc05vVmlkZW9PckludmlzaWJsZSAmJiAoanN4KFwidmlkZW9cIiwgeyAuLi5yZXN0LCBjbGFzc05hbWU6IGNsc3goJ3N0ci12aWRlb19fdmlkZW8nLCBjbGFzc05hbWUsIHtcbiAgICAgICAgICAgICAgICAgICAgJ3N0ci12aWRlb19fdmlkZW8tLW5vdC1wbGF5aW5nJzogaXNWaWRlb1BhdXNlZCxcbiAgICAgICAgICAgICAgICAgICAgJ3N0ci12aWRlb19fdmlkZW8tLXRhbGwnOiAhaXNXaWRlTW9kZSxcbiAgICAgICAgICAgICAgICAgICAgJ3N0ci12aWRlb19fdmlkZW8tLW1pcnJvcic6IG1pcnJvclZpZGVvLFxuICAgICAgICAgICAgICAgICAgICAnc3RyLXZpZGVvX192aWRlby0tc2NyZWVuLXNoYXJlJzogaXNTY3JlZW5TaGFyZVRyYWNrLFxuICAgICAgICAgICAgICAgIH0pLCBcImRhdGEtdXNlci1pZFwiOiB1c2VySWQsIFwiZGF0YS1zZXNzaW9uLWlkXCI6IHNlc3Npb25JZCwgcmVmOiAoZWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZXRWaWRlb0VsZW1lbnQoZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgIHJlZnM/LnNldFZpZGVvRWxlbWVudD8uKGVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIH0gfSkpLCBpc1BpUCAmJiAoanN4KERlZmF1bHRQaWN0dXJlSW5QaWN0dXJlUGxhY2Vob2xkZXIsIHsgc3R5bGU6IHsgcG9zaXRpb246ICdhYnNvbHV0ZScgfSwgcGFydGljaXBhbnQ6IHBhcnRpY2lwYW50IH0pKSwgKGhhc05vVmlkZW9PckludmlzaWJsZSB8fCBpc1ZpZGVvUGF1c2VkKSAmJiBWaWRlb1BsYWNlaG9sZGVyICYmIChqc3goVmlkZW9QbGFjZWhvbGRlciwgeyBzdHlsZTogeyBwb3NpdGlvbjogJ2Fic29sdXRlJyB9LCBwYXJ0aWNpcGFudDogcGFydGljaXBhbnQsIHJlZjogcmVmcz8uc2V0VmlkZW9QbGFjZWhvbGRlckVsZW1lbnQgfSkpXSB9KSk7XG59O1xuVmlkZW8kMS5kaXNwbGF5TmFtZSA9ICdWaWRlbyc7XG5cbmNvbnN0IHVzZVRyYWNrRWxlbWVudFZpc2liaWxpdHkgPSAoeyB0cmFja2VkRWxlbWVudCwgZHluYXNjYWxlTWFuYWdlcjogcHJvcHNEeW5hc2NhbGVNYW5hZ2VyLCBzZXNzaW9uSWQsIHRyYWNrVHlwZSwgfSkgPT4ge1xuICAgIGNvbnN0IGNhbGwgPSB1c2VDYWxsKCk7XG4gICAgY29uc3QgbWFuYWdlciA9IHByb3BzRHluYXNjYWxlTWFuYWdlciA/PyBjYWxsPy5keW5hc2NhbGVNYW5hZ2VyO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICghdHJhY2tlZEVsZW1lbnQgfHwgIW1hbmFnZXIgfHwgIWNhbGwgfHwgdHJhY2tUeXBlID09PSAnbm9uZScpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IHVub2JzZXJ2ZSA9IG1hbmFnZXIudHJhY2tFbGVtZW50VmlzaWJpbGl0eSh0cmFja2VkRWxlbWVudCwgc2Vzc2lvbklkLCB0cmFja1R5cGUpO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgdW5vYnNlcnZlKCk7XG4gICAgICAgIH07XG4gICAgfSwgW3RyYWNrZWRFbGVtZW50LCBtYW5hZ2VyLCBjYWxsLCBzZXNzaW9uSWQsIHRyYWNrVHlwZV0pO1xufTtcblxuY29uc3QgQXZhdGFyID0gKHsgaW1hZ2VTcmMsIG5hbWUsIHN0eWxlLCBjbGFzc05hbWUsIC4uLnJlc3QgfSkgPT4ge1xuICAgIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIHJldHVybiAoanN4cyhGcmFnbWVudCwgeyBjaGlsZHJlbjogWyghaW1hZ2VTcmMgfHwgZXJyb3IpICYmIG5hbWUgJiYgKGpzeChBdmF0YXJGYWxsYmFjaywgeyBjbGFzc05hbWU6IGNsYXNzTmFtZSwgc3R5bGU6IHN0eWxlLCBuYW1lczogW25hbWVdIH0pKSwgaW1hZ2VTcmMgJiYgIWVycm9yICYmIChqc3goXCJpbWdcIiwgeyBvbkVycm9yOiAoKSA9PiBzZXRFcnJvcih0cnVlKSwgYWx0OiBcImF2YXRhclwiLCBjbGFzc05hbWU6IGNsc3goJ3N0ci12aWRlb19fYXZhdGFyJywgY2xhc3NOYW1lKSwgc3JjOiBpbWFnZVNyYywgc3R5bGU6IHN0eWxlLCAuLi5yZXN0IH0pKV0gfSkpO1xufTtcbmNvbnN0IEF2YXRhckZhbGxiYWNrID0gKHsgY2xhc3NOYW1lLCBuYW1lcywgc3R5bGUsIH0pID0+IHtcbiAgICByZXR1cm4gKGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogY2xzeCgnc3RyLXZpZGVvX19hdmF0YXItLWluaXRpYWxzLWZhbGxiYWNrJywgY2xhc3NOYW1lKSwgc3R5bGU6IHN0eWxlLCBjaGlsZHJlbjoganN4cyhcImRpdlwiLCB7IGNoaWxkcmVuOiBbbmFtZXNbMF1bMF0sIG5hbWVzWzFdPy5bMF1dIH0pIH0pKTtcbn07XG5cbi8qKlxuICogVGhlIGNvbnRleHQgZm9yIHRoZSBiYWNrZ3JvdW5kIGZpbHRlcnMuXG4gKi9cbmNvbnN0IEJhY2tncm91bmRGaWx0ZXJzQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQodW5kZWZpbmVkKTtcbi8qKlxuICogQSBob29rIHRvIGFjY2VzcyB0aGUgYmFja2dyb3VuZCBmaWx0ZXJzIGNvbnRleHQgQVBJLlxuICovXG5jb25zdCB1c2VCYWNrZ3JvdW5kRmlsdGVycyA9ICgpID0+IHtcbiAgICBjb25zdCBjb250ZXh0ID0gdXNlQ29udGV4dChCYWNrZ3JvdW5kRmlsdGVyc0NvbnRleHQpO1xuICAgIGlmICghY29udGV4dCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3VzZUJhY2tncm91bmRGaWx0ZXJzIG11c3QgYmUgdXNlZCB3aXRoaW4gYSBCYWNrZ3JvdW5kRmlsdGVyc1Byb3ZpZGVyJyk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZXh0O1xufTtcbi8qKlxuICogQSBwcm92aWRlciBjb21wb25lbnQgdGhhdCBlbmFibGVzIHRoZSB1c2Ugb2YgYmFja2dyb3VuZCBmaWx0ZXJzIGluIHlvdXIgYXBwLlxuICpcbiAqIFBsZWFzZSBtYWtlIHN1cmUgeW91IGhhdmUgdGhlIGBAc3RyZWFtLWlvL3ZpZGVvLWZpbHRlcnMtd2ViYCBwYWNrYWdlIGluc3RhbGxlZFxuICogaW4geW91ciBwcm9qZWN0IGJlZm9yZSB1c2luZyB0aGlzIGNvbXBvbmVudC5cbiAqL1xuY29uc3QgQmFja2dyb3VuZEZpbHRlcnNQcm92aWRlciA9IChwcm9wcykgPT4ge1xuICAgIGNvbnN0IHsgY2hpbGRyZW4sIGJhY2tncm91bmRJbWFnZXMgPSBbXSwgYmFja2dyb3VuZEZpbHRlcjogYmdGaWx0ZXJGcm9tUHJvcHMgPSB1bmRlZmluZWQsIGJhY2tncm91bmRJbWFnZTogYmdJbWFnZUZyb21Qcm9wcyA9IHVuZGVmaW5lZCwgYmFja2dyb3VuZEJsdXJMZXZlbDogYmdCbHVyTGV2ZWxGcm9tUHJvcHMgPSB1bmRlZmluZWQsIHRmRmlsZVBhdGgsIG1vZGVsRmlsZVBhdGgsIGJhc2VQYXRoLCBvbkVycm9yLCB9ID0gcHJvcHM7XG4gICAgY29uc3QgW2JhY2tncm91bmRGaWx0ZXIsIHNldEJhY2tncm91bmRGaWx0ZXJdID0gdXNlU3RhdGUoYmdGaWx0ZXJGcm9tUHJvcHMpO1xuICAgIGNvbnN0IFtiYWNrZ3JvdW5kSW1hZ2UsIHNldEJhY2tncm91bmRJbWFnZV0gPSB1c2VTdGF0ZShiZ0ltYWdlRnJvbVByb3BzKTtcbiAgICBjb25zdCBbYmFja2dyb3VuZEJsdXJMZXZlbCwgc2V0QmFja2dyb3VuZEJsdXJMZXZlbF0gPSB1c2VTdGF0ZShiZ0JsdXJMZXZlbEZyb21Qcm9wcyk7XG4gICAgY29uc3QgYXBwbHlCYWNrZ3JvdW5kSW1hZ2VGaWx0ZXIgPSB1c2VDYWxsYmFjaygoaW1hZ2VVcmwpID0+IHtcbiAgICAgICAgc2V0QmFja2dyb3VuZEZpbHRlcignaW1hZ2UnKTtcbiAgICAgICAgc2V0QmFja2dyb3VuZEltYWdlKGltYWdlVXJsKTtcbiAgICB9LCBbXSk7XG4gICAgY29uc3QgYXBwbHlCYWNrZ3JvdW5kQmx1ckZpbHRlciA9IHVzZUNhbGxiYWNrKChibHVyTGV2ZWwgPSAnaGlnaCcpID0+IHtcbiAgICAgICAgc2V0QmFja2dyb3VuZEZpbHRlcignYmx1cicpO1xuICAgICAgICBzZXRCYWNrZ3JvdW5kQmx1ckxldmVsKGJsdXJMZXZlbCk7XG4gICAgfSwgW10pO1xuICAgIGNvbnN0IGRpc2FibGVCYWNrZ3JvdW5kRmlsdGVyID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICBzZXRCYWNrZ3JvdW5kRmlsdGVyKHVuZGVmaW5lZCk7XG4gICAgICAgIHNldEJhY2tncm91bmRJbWFnZSh1bmRlZmluZWQpO1xuICAgICAgICBzZXRCYWNrZ3JvdW5kQmx1ckxldmVsKHVuZGVmaW5lZCk7XG4gICAgfSwgW10pO1xuICAgIGNvbnN0IFtpc1N1cHBvcnRlZCwgc2V0SXNTdXBwb3J0ZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlzUGxhdGZvcm1TdXBwb3J0ZWQoKS50aGVuKHNldElzU3VwcG9ydGVkKTtcbiAgICB9LCBbXSk7XG4gICAgY29uc3QgW3RmTGl0ZSwgc2V0VGZMaXRlXSA9IHVzZVN0YXRlKCk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgLy8gZG9uJ3QgdHJ5IHRvIGxvYWQgVEZMaXRlIGlmIHRoZSBwbGF0Zm9ybSBpcyBub3Qgc3VwcG9ydGVkXG4gICAgICAgIGlmICghaXNTdXBwb3J0ZWQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGxvYWRURkxpdGUoeyBiYXNlUGF0aCwgbW9kZWxGaWxlUGF0aCwgdGZGaWxlUGF0aCB9KVxuICAgICAgICAgICAgLnRoZW4oc2V0VGZMaXRlKVxuICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBsb2FkIFRGTGl0ZScsIGVycikpO1xuICAgIH0sIFtiYXNlUGF0aCwgaXNTdXBwb3J0ZWQsIG1vZGVsRmlsZVBhdGgsIHRmRmlsZVBhdGhdKTtcbiAgICBjb25zdCBoYW5kbGVFcnJvciA9IHVzZUNhbGxiYWNrKChlcnJvcikgPT4ge1xuICAgICAgICBnZXRMb2dnZXIoWydmaWx0ZXJzJ10pKCd3YXJuJywgJ0ZpbHRlciBlbmNvdW50ZXJlZCBhbiBlcnJvciBhbmQgd2lsbCBiZSBkaXNhYmxlZCcpO1xuICAgICAgICBkaXNhYmxlQmFja2dyb3VuZEZpbHRlcigpO1xuICAgICAgICBvbkVycm9yPy4oZXJyb3IpO1xuICAgIH0sIFtkaXNhYmxlQmFja2dyb3VuZEZpbHRlciwgb25FcnJvcl0pO1xuICAgIHJldHVybiAoanN4cyhCYWNrZ3JvdW5kRmlsdGVyc0NvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IHtcbiAgICAgICAgICAgIGlzU3VwcG9ydGVkLFxuICAgICAgICAgICAgaXNSZWFkeTogISF0ZkxpdGUsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kSW1hZ2UsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQmx1ckxldmVsLFxuICAgICAgICAgICAgYmFja2dyb3VuZEZpbHRlcixcbiAgICAgICAgICAgIGRpc2FibGVCYWNrZ3JvdW5kRmlsdGVyLFxuICAgICAgICAgICAgYXBwbHlCYWNrZ3JvdW5kQmx1ckZpbHRlcixcbiAgICAgICAgICAgIGFwcGx5QmFja2dyb3VuZEltYWdlRmlsdGVyLFxuICAgICAgICAgICAgYmFja2dyb3VuZEltYWdlcyxcbiAgICAgICAgICAgIHRmRmlsZVBhdGgsXG4gICAgICAgICAgICBtb2RlbEZpbGVQYXRoLFxuICAgICAgICAgICAgYmFzZVBhdGgsXG4gICAgICAgICAgICBvbkVycm9yOiBoYW5kbGVFcnJvcixcbiAgICAgICAgfSwgY2hpbGRyZW46IFtjaGlsZHJlbiwgdGZMaXRlICYmIGpzeChCYWNrZ3JvdW5kRmlsdGVycywgeyB0ZkxpdGU6IHRmTGl0ZSB9KV0gfSkpO1xufTtcbmNvbnN0IEJhY2tncm91bmRGaWx0ZXJzID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgY2FsbCA9IHVzZUNhbGwoKTtcbiAgICBjb25zdCB7IGNoaWxkcmVuLCBzdGFydCB9ID0gdXNlUmVuZGVyZXIocHJvcHMudGZMaXRlKTtcbiAgICBjb25zdCB7IGJhY2tncm91bmRGaWx0ZXIsIG9uRXJyb3IgfSA9IHVzZUJhY2tncm91bmRGaWx0ZXJzKCk7XG4gICAgY29uc3QgaGFuZGxlRXJyb3JSZWYgPSB1c2VSZWYodW5kZWZpbmVkKTtcbiAgICBoYW5kbGVFcnJvclJlZi5jdXJyZW50ID0gb25FcnJvcjtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIWNhbGwgfHwgIWJhY2tncm91bmRGaWx0ZXIpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IHsgdW5yZWdpc3RlciB9ID0gY2FsbC5jYW1lcmEucmVnaXN0ZXJGaWx0ZXIoKG1zKSA9PiBzdGFydChtcywgKGVycm9yKSA9PiBoYW5kbGVFcnJvclJlZi5jdXJyZW50Py4oZXJyb3IpKSk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICB1bnJlZ2lzdGVyKCk7XG4gICAgICAgIH07XG4gICAgfSwgW2JhY2tncm91bmRGaWx0ZXIsIGNhbGwsIHN0YXJ0XSk7XG4gICAgcmV0dXJuIGNoaWxkcmVuO1xufTtcbmNvbnN0IHVzZVJlbmRlcmVyID0gKHRmTGl0ZSkgPT4ge1xuICAgIGNvbnN0IHsgYmFja2dyb3VuZEZpbHRlciwgYmFja2dyb3VuZEJsdXJMZXZlbCwgYmFja2dyb3VuZEltYWdlIH0gPSB1c2VCYWNrZ3JvdW5kRmlsdGVycygpO1xuICAgIGNvbnN0IHZpZGVvUmVmID0gdXNlUmVmKG51bGwpO1xuICAgIGNvbnN0IGNhbnZhc1JlZiA9IHVzZVJlZihudWxsKTtcbiAgICBjb25zdCBiZ0ltYWdlUmVmID0gdXNlUmVmKG51bGwpO1xuICAgIGNvbnN0IFt2aWRlb1NpemUsIHNldFZpZGVvU2l6ZV0gPSB1c2VTdGF0ZSh7XG4gICAgICAgIHdpZHRoOiAxOTIwLFxuICAgICAgICBoZWlnaHQ6IDEwODAsXG4gICAgfSk7XG4gICAgY29uc3Qgc3RhcnQgPSB1c2VDYWxsYmFjaygobXMsIG9uRXJyb3IpID0+IHtcbiAgICAgICAgbGV0IG91dHB1dFN0cmVhbTtcbiAgICAgICAgbGV0IHJlbmRlcmVyO1xuICAgICAgICBjb25zdCBvdXRwdXQgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBpZiAoIWJhY2tncm91bmRGaWx0ZXIpIHtcbiAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKCdObyBmaWx0ZXIgc3BlY2lmaWVkJykpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHZpZGVvRWwgPSB2aWRlb1JlZi5jdXJyZW50O1xuICAgICAgICAgICAgY29uc3QgY2FudmFzRWwgPSBjYW52YXNSZWYuY3VycmVudDtcbiAgICAgICAgICAgIGNvbnN0IGJnSW1hZ2VFbCA9IGJnSW1hZ2VSZWYuY3VycmVudDtcbiAgICAgICAgICAgIGlmICghdmlkZW9FbCB8fCAhY2FudmFzRWwgfHwgKGJhY2tncm91bmRJbWFnZSAmJiAhYmdJbWFnZUVsKSkge1xuICAgICAgICAgICAgICAgIC8vIFlvdSBzaG91bGQgc3RhcnQgcmVuZGVyZXIgaW4gZWZmZWN0IG9yIGV2ZW50IGhhbmRsZXJzXG4gICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcignUmVuZGVyZXIgc3RhcnRlZCBiZWZvcmUgZWxlbWVudHMgYXJlIHJlYWR5JykpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZpZGVvRWwuc3JjT2JqZWN0ID0gbXM7XG4gICAgICAgICAgICB2aWRlb0VsLnBsYXkoKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBbdHJhY2tdID0gbXMuZ2V0VmlkZW9UcmFja3MoKTtcbiAgICAgICAgICAgICAgICBpZiAoIXRyYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ05vIHZpZGVvIHRyYWNrcyBpbiBpbnB1dCBtZWRpYSBzdHJlYW0nKSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgdHJhY2tTZXR0aW5ncyA9IHRyYWNrLmdldFNldHRpbmdzKCk7XG4gICAgICAgICAgICAgICAgZmx1c2hTeW5jKCgpID0+IHNldFZpZGVvU2l6ZSh7XG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiB0cmFja1NldHRpbmdzLndpZHRoID8/IDAsXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogdHJhY2tTZXR0aW5ncy5oZWlnaHQgPz8gMCxcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgcmVuZGVyZXIgPSBjcmVhdGVSZW5kZXJlcih0ZkxpdGUsIHZpZGVvRWwsIGNhbnZhc0VsLCB7XG4gICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRGaWx0ZXIsXG4gICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRCbHVyTGV2ZWwsXG4gICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRJbWFnZTogYmdJbWFnZUVsID8/IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICB9LCBvbkVycm9yKTtcbiAgICAgICAgICAgICAgICBvdXRwdXRTdHJlYW0gPSBjYW52YXNFbC5jYXB0dXJlU3RyZWFtKCk7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShvdXRwdXRTdHJlYW0pO1xuICAgICAgICAgICAgfSwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ0NvdWxkIG5vdCBwbGF5IHRoZSBzb3VyY2UgdmlkZW8gc3RyZWFtJykpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgc3RvcDogKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJlbmRlcmVyPy5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgdmlkZW9SZWYuY3VycmVudCAmJiAodmlkZW9SZWYuY3VycmVudC5zcmNPYmplY3QgPSBudWxsKTtcbiAgICAgICAgICAgICAgICBvdXRwdXRTdHJlYW0gJiYgZGlzcG9zZU9mTWVkaWFTdHJlYW0ob3V0cHV0U3RyZWFtKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfSwgW2JhY2tncm91bmRCbHVyTGV2ZWwsIGJhY2tncm91bmRGaWx0ZXIsIGJhY2tncm91bmRJbWFnZSwgdGZMaXRlXSk7XG4gICAgY29uc3QgY2hpbGRyZW4gPSAoanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2JhY2tncm91bmQtZmlsdGVyc1wiLCBjaGlsZHJlbjogW2pzeChcInZpZGVvXCIsIHsgY2xhc3NOYW1lOiBjbHN4KCdzdHItdmlkZW9fX2JhY2tncm91bmQtZmlsdGVyc19fdmlkZW8nLCB2aWRlb1NpemUuaGVpZ2h0ID4gdmlkZW9TaXplLndpZHRoICYmXG4gICAgICAgICAgICAgICAgICAgICdzdHItdmlkZW9fX2JhY2tncm91bmQtZmlsdGVyc19fdmlkZW8tLXRhbGwnKSwgcmVmOiB2aWRlb1JlZiwgcGxheXNJbmxpbmU6IHRydWUsIG11dGVkOiB0cnVlLCBjb250cm9sczogZmFsc2UsIC4uLnZpZGVvU2l6ZSB9KSwgYmFja2dyb3VuZEltYWdlICYmIChqc3goXCJpbWdcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19iYWNrZ3JvdW5kLWZpbHRlcnNfX2JhY2tncm91bmQtaW1hZ2VcIiwgYWx0OiBcIkJhY2tncm91bmRcIiwgcmVmOiBiZ0ltYWdlUmVmLCBzcmM6IGJhY2tncm91bmRJbWFnZSwgLi4udmlkZW9TaXplIH0pKSwganN4KFwiY2FudmFzXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fYmFja2dyb3VuZC1maWx0ZXJzX190YXJnZXQtY2FudmFzXCIsIC4uLnZpZGVvU2l6ZSwgcmVmOiBjYW52YXNSZWYgfSldIH0pKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBzdGFydCxcbiAgICAgICAgY2hpbGRyZW4sXG4gICAgfTtcbn07XG5cbmNvbnN0IEljb25CdXR0b24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uIEljb25CdXR0b24ocHJvcHMsIHJlZikge1xuICAgIGNvbnN0IHsgaWNvbiwgZW5hYmxlZCwgdmFyaWFudCwgb25DbGljaywgY2xhc3NOYW1lLCAuLi5yZXN0IH0gPSBwcm9wcztcbiAgICByZXR1cm4gKGpzeChcImJ1dHRvblwiLCB7IGNsYXNzTmFtZTogY2xzeCgnc3RyLXZpZGVvX19jYWxsLWNvbnRyb2xzX19idXR0b24nLCBjbGFzc05hbWUsIHtcbiAgICAgICAgICAgIFtgc3RyLXZpZGVvX19jYWxsLWNvbnRyb2xzX19idXR0b24tLXZhcmlhbnQtJHt2YXJpYW50fWBdOiB2YXJpYW50LFxuICAgICAgICAgICAgJ3N0ci12aWRlb19fY2FsbC1jb250cm9sc19fYnV0dG9uLS1lbmFibGVkJzogZW5hYmxlZCxcbiAgICAgICAgfSksIG9uQ2xpY2s6IChlKSA9PiB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBvbkNsaWNrPy4oZSk7XG4gICAgICAgIH0sIHJlZjogcmVmLCAuLi5yZXN0LCBjaGlsZHJlbjoganN4KEljb24sIHsgaWNvbjogaWNvbiB9KSB9KSk7XG59KTtcblxuY29uc3QgQ29tcG9zaXRlQnV0dG9uID0gZm9yd2FyZFJlZihmdW5jdGlvbiBDb21wb3NpdGVCdXR0b24oeyBkaXNhYmxlZCwgY2FwdGlvbiwgY2hpbGRyZW4sIGNsYXNzTmFtZSwgYWN0aXZlLCBNZW51LCBtZW51UGxhY2VtZW50LCBtZW51T2Zmc2V0LCB0aXRsZSwgVG9nZ2xlTWVudUJ1dHRvbiA9IERlZmF1bHRUb2dnbGVNZW51QnV0dG9uLCB2YXJpYW50LCBvbkNsaWNrLCBvbk1lbnVUb2dnbGUsIC4uLnJlc3RCdXR0b25Qcm9wcyB9LCByZWYpIHtcbiAgICByZXR1cm4gKGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGNsc3goJ3N0ci12aWRlb19fY29tcG9zaXRlLWJ1dHRvbicsIGNsYXNzTmFtZSwge1xuICAgICAgICAgICAgJ3N0ci12aWRlb19fY29tcG9zaXRlLWJ1dHRvbi0tY2FwdGlvbic6IGNhcHRpb24sXG4gICAgICAgICAgICAnc3RyLXZpZGVvX19jb21wb3NpdGUtYnV0dG9uLS1tZW51JzogTWVudSxcbiAgICAgICAgfSksIHRpdGxlOiB0aXRsZSwgcmVmOiByZWYsIGNoaWxkcmVuOiBbanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogY2xzeCgnc3RyLXZpZGVvX19jb21wb3NpdGUtYnV0dG9uX19idXR0b24tZ3JvdXAnLCB7XG4gICAgICAgICAgICAgICAgICAgICdzdHItdmlkZW9fX2NvbXBvc2l0ZS1idXR0b25fX2J1dHRvbi1ncm91cC0tYWN0aXZlJzogYWN0aXZlLFxuICAgICAgICAgICAgICAgICAgICAnc3RyLXZpZGVvX19jb21wb3NpdGUtYnV0dG9uX19idXR0b24tZ3JvdXAtLWFjdGl2ZS1wcmltYXJ5JzogYWN0aXZlICYmIHZhcmlhbnQgPT09ICdwcmltYXJ5JyxcbiAgICAgICAgICAgICAgICAgICAgJ3N0ci12aWRlb19fY29tcG9zaXRlLWJ1dHRvbl9fYnV0dG9uLWdyb3VwLS1hY3RpdmUtc2Vjb25kYXJ5JzogYWN0aXZlICYmIHZhcmlhbnQgPT09ICdzZWNvbmRhcnknLFxuICAgICAgICAgICAgICAgICAgICAnc3RyLXZpZGVvX19jb21wb3NpdGUtYnV0dG9uX19idXR0b24tZ3JvdXAtLWRpc2FibGVkJzogZGlzYWJsZWQsXG4gICAgICAgICAgICAgICAgfSksIGNoaWxkcmVuOiBbanN4KFwiYnV0dG9uXCIsIHsgdHlwZTogXCJidXR0b25cIiwgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fY29tcG9zaXRlLWJ1dHRvbl9fYnV0dG9uXCIsIG9uQ2xpY2s6IChlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s/LihlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGRpc2FibGVkOiBkaXNhYmxlZCwgLi4ucmVzdEJ1dHRvblByb3BzLCBjaGlsZHJlbjogY2hpbGRyZW4gfSksIE1lbnUgJiYgKGpzeChNZW51VG9nZ2xlLCB7IG9mZnNldDogbWVudU9mZnNldCwgcGxhY2VtZW50OiBtZW51UGxhY2VtZW50LCBUb2dnbGVCdXR0b246IFRvZ2dsZU1lbnVCdXR0b24sIG9uVG9nZ2xlOiBvbk1lbnVUb2dnbGUsIGNoaWxkcmVuOiBpc0NvbXBvbmVudFR5cGUoTWVudSkgPyBqc3goTWVudSwge30pIDogTWVudSB9KSldIH0pLCBjYXB0aW9uICYmIChqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jb21wb3NpdGUtYnV0dG9uX19jYXB0aW9uXCIsIGNoaWxkcmVuOiBjYXB0aW9uIH0pKV0gfSkpO1xufSk7XG5jb25zdCBEZWZhdWx0VG9nZ2xlTWVudUJ1dHRvbiA9IGZvcndhcmRSZWYoZnVuY3Rpb24gRGVmYXVsdFRvZ2dsZU1lbnVCdXR0b24oeyBtZW51U2hvd24gfSwgcmVmKSB7XG4gICAgcmV0dXJuIChqc3goSWNvbkJ1dHRvbiwgeyBjbGFzc05hbWU6IGNsc3goJ3N0ci12aWRlb19fbWVudS10b2dnbGUtYnV0dG9uJywge1xuICAgICAgICAgICAgJ3N0ci12aWRlb19fbWVudS10b2dnbGUtYnV0dG9uLS1hY3RpdmUnOiBtZW51U2hvd24sXG4gICAgICAgIH0pLCBpY29uOiBtZW51U2hvd24gPyAnY2FyZXQtZG93bicgOiAnY2FyZXQtdXAnLCByZWY6IHJlZiB9KSk7XG59KTtcblxuY29uc3QgVGV4dEJ1dHRvbiA9ICh7IGNoaWxkcmVuLCAuLi5yZXN0IH0pID0+IHtcbiAgICByZXR1cm4gKGpzeChcImJ1dHRvblwiLCB7IC4uLnJlc3QsIGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3RleHQtYnV0dG9uXCIsIGNoaWxkcmVuOiBjaGlsZHJlbiB9KSk7XG59O1xuXG5jb25zdCBBY2NlcHRDYWxsQnV0dG9uID0gKHsgZGlzYWJsZWQsIG9uQWNjZXB0LCBvbkNsaWNrLCB9KSA9PiB7XG4gICAgY29uc3QgY2FsbCA9IHVzZUNhbGwoKTtcbiAgICBjb25zdCBoYW5kbGVDbGljayA9IHVzZUNhbGxiYWNrKGFzeW5jIChlKSA9PiB7XG4gICAgICAgIGlmIChvbkNsaWNrKSB7XG4gICAgICAgICAgICBvbkNsaWNrKGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNhbGwpIHtcbiAgICAgICAgICAgIGF3YWl0IGNhbGwuam9pbigpO1xuICAgICAgICAgICAgb25BY2NlcHQ/LigpO1xuICAgICAgICB9XG4gICAgfSwgW29uQ2xpY2ssIG9uQWNjZXB0LCBjYWxsXSk7XG4gICAgcmV0dXJuIChqc3goSWNvbkJ1dHRvbiwgeyBkaXNhYmxlZDogZGlzYWJsZWQsIGljb246IFwiY2FsbC1hY2NlcHRcIiwgdmFyaWFudDogXCJzdWNjZXNzXCIsIFwiZGF0YS10ZXN0aWRcIjogXCJhY2NlcHQtY2FsbC1idXR0b25cIiwgb25DbGljazogaGFuZGxlQ2xpY2sgfSkpO1xufTtcblxuY29uc3QgTm90aWZpY2F0aW9uID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgeyBpc1Zpc2libGUsIG1lc3NhZ2UsIGNoaWxkcmVuLCB2aXNpYmlsaXR5VGltZW91dCwgcmVzZXRJc1Zpc2libGUsIHBsYWNlbWVudCA9ICd0b3AnLCBpY29uQ2xhc3NOYW1lID0gJ3N0ci12aWRlb19fbm90aWZpY2F0aW9uX19pY29uJywgY2xvc2UsIH0gPSBwcm9wcztcbiAgICBjb25zdCB7IHJlZnMsIHgsIHksIHN0cmF0ZWd5IH0gPSB1c2VGbG9hdGluZ1VJUHJlc2V0KHtcbiAgICAgICAgcGxhY2VtZW50LFxuICAgICAgICBzdHJhdGVneTogJ2Fic29sdXRlJyxcbiAgICB9KTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIWlzVmlzaWJsZSB8fCAhdmlzaWJpbGl0eVRpbWVvdXQgfHwgIXJlc2V0SXNWaXNpYmxlKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCB0aW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICByZXNldElzVmlzaWJsZSgpO1xuICAgICAgICB9LCB2aXNpYmlsaXR5VGltZW91dCk7XG4gICAgICAgIHJldHVybiAoKSA9PiBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgfSwgW2lzVmlzaWJsZSwgcmVzZXRJc1Zpc2libGUsIHZpc2liaWxpdHlUaW1lb3V0XSk7XG4gICAgcmV0dXJuIChqc3hzKFwiZGl2XCIsIHsgcmVmOiByZWZzLnNldFJlZmVyZW5jZSwgY2hpbGRyZW46IFtpc1Zpc2libGUgJiYgKGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19ub3RpZmljYXRpb25cIiwgcmVmOiByZWZzLnNldEZsb2F0aW5nLCBzdHlsZToge1xuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogc3RyYXRlZ3ksXG4gICAgICAgICAgICAgICAgICAgIHRvcDogeSA/PyAwLFxuICAgICAgICAgICAgICAgICAgICBsZWZ0OiB4ID8/IDAsXG4gICAgICAgICAgICAgICAgICAgIG92ZXJmbG93WTogJ2F1dG8nLFxuICAgICAgICAgICAgICAgIH0sIGNoaWxkcmVuOiBbaWNvbkNsYXNzTmFtZSAmJiBqc3goXCJpXCIsIHsgY2xhc3NOYW1lOiBpY29uQ2xhc3NOYW1lIH0pLCBqc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fbm90aWZpY2F0aW9uX19tZXNzYWdlXCIsIGNoaWxkcmVuOiBtZXNzYWdlIH0pLCBjbG9zZSA/IChqc3goXCJpXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19faWNvbiBzdHItdmlkZW9fX2ljb24tLWNsb3NlIHN0ci12aWRlb19fbm90aWZpY2F0aW9uX19jbG9zZVwiLCBvbkNsaWNrOiBjbG9zZSB9KSkgOiBudWxsXSB9KSksIGNoaWxkcmVuXSB9KSk7XG59O1xuXG5jb25zdCBQZXJtaXNzaW9uTm90aWZpY2F0aW9uID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgeyBwZXJtaXNzaW9uLCBpc0F3YWl0aW5nQXBwcm92YWwsIG1lc3NhZ2VBcHByb3ZlZCwgbWVzc2FnZUF3YWl0aW5nQXBwcm92YWwsIG1lc3NhZ2VSZXZva2VkLCB2aXNpYmlsaXR5VGltZW91dCA9IDM1MDAsIGNoaWxkcmVuLCB9ID0gcHJvcHM7XG4gICAgY29uc3QgeyB1c2VIYXNQZXJtaXNzaW9ucyB9ID0gdXNlQ2FsbFN0YXRlSG9va3MoKTtcbiAgICBjb25zdCBoYXNQZXJtaXNzaW9uID0gdXNlSGFzUGVybWlzc2lvbnMocGVybWlzc2lvbik7XG4gICAgY29uc3QgcHJldkhhc1Blcm1pc3Npb24gPSB1c2VSZWYoaGFzUGVybWlzc2lvbik7XG4gICAgY29uc3QgW3Nob3dOb3RpZmljYXRpb24sIHNldFNob3dOb3RpZmljYXRpb25dID0gdXNlU3RhdGUoKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoaGFzUGVybWlzc2lvbiAmJiAhcHJldkhhc1Blcm1pc3Npb24uY3VycmVudCkge1xuICAgICAgICAgICAgc2V0U2hvd05vdGlmaWNhdGlvbignZ3JhbnRlZCcpO1xuICAgICAgICAgICAgcHJldkhhc1Blcm1pc3Npb24uY3VycmVudCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIWhhc1Blcm1pc3Npb24gJiYgcHJldkhhc1Blcm1pc3Npb24uY3VycmVudCkge1xuICAgICAgICAgICAgc2V0U2hvd05vdGlmaWNhdGlvbigncmV2b2tlZCcpO1xuICAgICAgICAgICAgcHJldkhhc1Blcm1pc3Npb24uY3VycmVudCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfSwgW2hhc1Blcm1pc3Npb25dKTtcbiAgICBjb25zdCByZXNldElzVmlzaWJsZSA9IHVzZUNhbGxiYWNrKCgpID0+IHNldFNob3dOb3RpZmljYXRpb24odW5kZWZpbmVkKSwgW10pO1xuICAgIGlmIChpc0F3YWl0aW5nQXBwcm92YWwpIHtcbiAgICAgICAgcmV0dXJuIChqc3goTm90aWZpY2F0aW9uLCB7IGlzVmlzaWJsZTogaXNBd2FpdGluZ0FwcHJvdmFsICYmICFoYXNQZXJtaXNzaW9uLCBtZXNzYWdlOiBtZXNzYWdlQXdhaXRpbmdBcHByb3ZhbCwgY2hpbGRyZW46IGNoaWxkcmVuIH0pKTtcbiAgICB9XG4gICAgcmV0dXJuIChqc3goTm90aWZpY2F0aW9uLCB7IGlzVmlzaWJsZTogISFzaG93Tm90aWZpY2F0aW9uLCB2aXNpYmlsaXR5VGltZW91dDogdmlzaWJpbGl0eVRpbWVvdXQsIHJlc2V0SXNWaXNpYmxlOiByZXNldElzVmlzaWJsZSwgbWVzc2FnZTogc2hvd05vdGlmaWNhdGlvbiA9PT0gJ2dyYW50ZWQnID8gbWVzc2FnZUFwcHJvdmVkIDogbWVzc2FnZVJldm9rZWQsIGNoaWxkcmVuOiBjaGlsZHJlbiB9KSk7XG59O1xuXG5jb25zdCBTcGVha2luZ1doaWxlTXV0ZWROb3RpZmljYXRpb24gPSAoeyBjaGlsZHJlbiwgdGV4dCwgcGxhY2VtZW50LCB9KSA9PiB7XG4gICAgY29uc3QgeyB1c2VNaWNyb3Bob25lU3RhdGUgfSA9IHVzZUNhbGxTdGF0ZUhvb2tzKCk7XG4gICAgY29uc3QgeyBpc1NwZWFraW5nV2hpbGVNdXRlZCB9ID0gdXNlTWljcm9waG9uZVN0YXRlKCk7XG4gICAgY29uc3QgeyB0IH0gPSB1c2VJMThuKCk7XG4gICAgY29uc3QgbWVzc2FnZSA9IHRleHQgPz8gdCgnWW91IGFyZSBtdXRlZC4gVW5tdXRlIHRvIHNwZWFrLicpO1xuICAgIHJldHVybiAoanN4KE5vdGlmaWNhdGlvbiwgeyBtZXNzYWdlOiBtZXNzYWdlLCBpc1Zpc2libGU6IGlzU3BlYWtpbmdXaGlsZU11dGVkLCBwbGFjZW1lbnQ6IHBsYWNlbWVudCB8fCAndG9wLXN0YXJ0JywgY2hpbGRyZW46IGNoaWxkcmVuIH0pKTtcbn07XG5cbmNvbnN0IFJlY29yZGluZ0luUHJvZ3Jlc3NOb3RpZmljYXRpb24gPSAoeyBjaGlsZHJlbiwgdGV4dCwgfSkgPT4ge1xuICAgIGNvbnN0IHsgdCB9ID0gdXNlSTE4bigpO1xuICAgIGNvbnN0IHsgaXNDYWxsUmVjb3JkaW5nSW5Qcm9ncmVzcyB9ID0gdXNlVG9nZ2xlQ2FsbFJlY29yZGluZygpO1xuICAgIGNvbnN0IFtpc1Zpc2libGUsIHNldFZpc2libGVdID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSB0ZXh0ID8/IHQoJ1JlY29yZGluZyBpbiBwcm9ncmVzcy4uLicpO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChpc0NhbGxSZWNvcmRpbmdJblByb2dyZXNzKSB7XG4gICAgICAgICAgICBzZXRWaXNpYmxlKHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9LCBbaXNDYWxsUmVjb3JkaW5nSW5Qcm9ncmVzc10pO1xuICAgIHJldHVybiAoanN4KE5vdGlmaWNhdGlvbiwgeyBtZXNzYWdlOiBtZXNzYWdlLCBpY29uQ2xhc3NOYW1lOiBcInN0ci12aWRlb19faWNvbiBzdHItdmlkZW9fX2ljb24tLXJlY29yZGluZy1vblwiLCBpc1Zpc2libGU6IGlzVmlzaWJsZSwgcGxhY2VtZW50OiBcInRvcC1zdGFydFwiLCBjbG9zZTogKCkgPT4gc2V0VmlzaWJsZShmYWxzZSksIGNoaWxkcmVuOiBjaGlsZHJlbiB9KSk7XG59O1xuXG5jb25zdCBMb2FkaW5nSW5kaWNhdG9yID0gKHsgY2xhc3NOYW1lLCB0eXBlID0gJ3NwaW5uZXInLCB0ZXh0LCB0b29sdGlwLCB9KSA9PiB7XG4gICAgcmV0dXJuIChqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBjbHN4KCdzdHItdmlkZW9fX2xvYWRpbmctaW5kaWNhdG9yJywgY2xhc3NOYW1lKSwgdGl0bGU6IHRvb2x0aXAsIGNoaWxkcmVuOiBbanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBjbHN4KCdzdHItdmlkZW9fX2xvYWRpbmctaW5kaWNhdG9yX19pY29uJywgdHlwZSkgfSksIHRleHQgJiYganN4KFwicFwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2xvYWRpbmctaW5kaWNhdG9yLXRleHRcIiwgY2hpbGRyZW46IHRleHQgfSldIH0pKTtcbn07XG5cbmNvbnN0IFRvb2x0aXAgPSAoeyBjaGlsZHJlbiwgcmVmZXJlbmNlRWxlbWVudCwgdG9vbHRpcENsYXNzTmFtZSwgdG9vbHRpcFBsYWNlbWVudCA9ICd0b3AnLCB2aXNpYmxlID0gZmFsc2UsIH0pID0+IHtcbiAgICBjb25zdCBhcnJvd1JlZiA9IHVzZVJlZihudWxsKTtcbiAgICBjb25zdCB7IHJlZnMsIHgsIHksIHN0cmF0ZWd5LCBjb250ZXh0IH0gPSB1c2VGbG9hdGluZ1VJUHJlc2V0KHtcbiAgICAgICAgcGxhY2VtZW50OiB0b29sdGlwUGxhY2VtZW50LFxuICAgICAgICBzdHJhdGVneTogJ2Fic29sdXRlJyxcbiAgICAgICAgbWlkZGxld2FyZTogW2Fycm93KHsgZWxlbWVudDogYXJyb3dSZWYgfSldLFxuICAgIH0pO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIHJlZnMuc2V0UmVmZXJlbmNlKHJlZmVyZW5jZUVsZW1lbnQpO1xuICAgIH0sIFtyZWZlcmVuY2VFbGVtZW50LCByZWZzXSk7XG4gICAgaWYgKCF2aXNpYmxlKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICByZXR1cm4gKGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGNsc3goJ3N0ci12aWRlb19fdG9vbHRpcCcsIHRvb2x0aXBDbGFzc05hbWUpLCByZWY6IHJlZnMuc2V0RmxvYXRpbmcsIHN0eWxlOiB7XG4gICAgICAgICAgICBwb3NpdGlvbjogc3RyYXRlZ3ksXG4gICAgICAgICAgICB0b3A6IHkgPz8gMCxcbiAgICAgICAgICAgIGxlZnQ6IHggPz8gMCxcbiAgICAgICAgfSwgY2hpbGRyZW46IFtqc3goRmxvYXRpbmdBcnJvdywgeyByZWY6IGFycm93UmVmLCBjb250ZXh0OiBjb250ZXh0LCBmaWxsOiBcInZhcigtLXN0ci12aWRlb19fdG9vbHRpcC0tYmFja2dyb3VuZC1jb2xvcilcIiB9KSwgY2hpbGRyZW5dIH0pKTtcbn07XG5cbmNvbnN0IHVzZUVudGVyTGVhdmVIYW5kbGVycyA9ICh7IG9uTW91c2VFbnRlciwgb25Nb3VzZUxlYXZlLCB9ID0ge30pID0+IHtcbiAgICBjb25zdCBbdG9vbHRpcFZpc2libGUsIHNldFRvb2x0aXBWaXNpYmxlXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCBoYW5kbGVNb3VzZUVudGVyID0gdXNlQ2FsbGJhY2soKGUpID0+IHtcbiAgICAgICAgc2V0VG9vbHRpcFZpc2libGUodHJ1ZSk7XG4gICAgICAgIG9uTW91c2VFbnRlcj8uKGUpO1xuICAgIH0sIFtvbk1vdXNlRW50ZXJdKTtcbiAgICBjb25zdCBoYW5kbGVNb3VzZUxlYXZlID0gdXNlQ2FsbGJhY2soKGUpID0+IHtcbiAgICAgICAgc2V0VG9vbHRpcFZpc2libGUoZmFsc2UpO1xuICAgICAgICBvbk1vdXNlTGVhdmU/LihlKTtcbiAgICB9LCBbb25Nb3VzZUxlYXZlXSk7XG4gICAgcmV0dXJuIHsgaGFuZGxlTW91c2VFbnRlciwgaGFuZGxlTW91c2VMZWF2ZSwgdG9vbHRpcFZpc2libGUgfTtcbn07XG5cbi8vIHRvZG86IGR1cGxpY2F0ZSBvZiBDYWxsUGFydGljaXBhbnRMaXN0LnRzeCNNZWRpYUluZGljYXRvciAtIHJlZmFjdG9yIHRvIGEgc2luZ2xlIGNvbXBvbmVudFxuY29uc3QgV2l0aFRvb2x0aXAgPSAoeyB0aXRsZSwgdG9vbHRpcENsYXNzTmFtZSwgdG9vbHRpcFBsYWNlbWVudCwgdG9vbHRpcERpc2FibGVkLCAuLi5wcm9wcyB9KSA9PiB7XG4gICAgY29uc3QgeyBoYW5kbGVNb3VzZUVudGVyLCBoYW5kbGVNb3VzZUxlYXZlLCB0b29sdGlwVmlzaWJsZSB9ID0gdXNlRW50ZXJMZWF2ZUhhbmRsZXJzKCk7XG4gICAgY29uc3QgW3Rvb2x0aXBBbmNob3IsIHNldFRvb2x0aXBBbmNob3JdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgdG9vbHRpcEFjdHVhbGx5VmlzaWJsZSA9ICF0b29sdGlwRGlzYWJsZWQgJiYgQm9vbGVhbih0aXRsZSkgJiYgdG9vbHRpcFZpc2libGU7XG4gICAgcmV0dXJuIChqc3hzKEZyYWdtZW50LCB7IGNoaWxkcmVuOiBbanN4KFRvb2x0aXAsIHsgcmVmZXJlbmNlRWxlbWVudDogdG9vbHRpcEFuY2hvciwgdmlzaWJsZTogdG9vbHRpcEFjdHVhbGx5VmlzaWJsZSwgdG9vbHRpcENsYXNzTmFtZTogdG9vbHRpcENsYXNzTmFtZSwgdG9vbHRpcFBsYWNlbWVudDogdG9vbHRpcFBsYWNlbWVudCwgY2hpbGRyZW46IHRpdGxlIHx8ICcnIH0pLCBqc3goXCJkaXZcIiwgeyByZWY6IHNldFRvb2x0aXBBbmNob3IsIG9uTW91c2VFbnRlcjogaGFuZGxlTW91c2VFbnRlciwgb25Nb3VzZUxlYXZlOiBoYW5kbGVNb3VzZUxlYXZlLCAuLi5wcm9wcyB9KV0gfSkpO1xufTtcblxuY29uc3QgUmVjb3JkRW5kQ29uZmlybWF0aW9uID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgdCB9ID0gdXNlSTE4bigpO1xuICAgIGNvbnN0IHsgdG9nZ2xlQ2FsbFJlY29yZGluZywgaXNBd2FpdGluZ1Jlc3BvbnNlIH0gPSB1c2VUb2dnbGVDYWxsUmVjb3JkaW5nKCk7XG4gICAgY29uc3QgeyBjbG9zZSB9ID0gdXNlTWVudUNvbnRleHQoKTtcbiAgICByZXR1cm4gKGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19lbmQtcmVjb3JkaW5nX19jb25maXJtYXRpb25cIiwgY2hpbGRyZW46IFtqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fZW5kLXJlY29yZGluZ19faGVhZGVyXCIsIGNoaWxkcmVuOiBbanN4KEljb24sIHsgaWNvbjogXCJyZWNvcmRpbmctb25cIiB9KSwganN4KFwiaDJcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19lbmQtcmVjb3JkaW5nX19oZWFkaW5nXCIsIGNoaWxkcmVuOiB0KCdFbmQgcmVjb3JkaW5nJykgfSldIH0pLCBqc3goXCJwXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fZW5kLXJlY29yZGluZ19fZGVzY3JpcHRpb25cIiwgY2hpbGRyZW46IHQoJ0FyZSB5b3Ugc3VyZSB5b3Ugd2FudCBlbmQgdGhlIHJlY29yZGluZz8nKSB9KSwganN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2VuZC1yZWNvcmRpbmdfX2FjdGlvbnNcIiwgY2hpbGRyZW46IFtqc3goQ29tcG9zaXRlQnV0dG9uLCB7IHZhcmlhbnQ6IFwic2Vjb25kYXJ5XCIsIG9uQ2xpY2s6IGNsb3NlLCBjaGlsZHJlbjogdCgnQ2FuY2VsJykgfSksIGpzeChDb21wb3NpdGVCdXR0b24sIHsgdmFyaWFudDogXCJwcmltYXJ5XCIsIG9uQ2xpY2s6IHRvZ2dsZUNhbGxSZWNvcmRpbmcsIGNoaWxkcmVuOiBpc0F3YWl0aW5nUmVzcG9uc2UgPyBqc3goTG9hZGluZ0luZGljYXRvciwge30pIDogdCgnRW5kIHJlY29yZGluZycpIH0pXSB9KV0gfSkpO1xufTtcbmNvbnN0IFRvZ2dsZUVuZFJlY29yZGluZ01lbnVCdXR0b24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uIFRvZ2dsZUVuZFJlY29yZGluZ01lbnVCdXR0b24ocHJvcHMsIHJlZikge1xuICAgIHJldHVybiAoanN4KENvbXBvc2l0ZUJ1dHRvbiwgeyByZWY6IHJlZiwgYWN0aXZlOiB0cnVlLCB2YXJpYW50OiBcInNlY29uZGFyeVwiLCBcImRhdGEtdGVzdGlkXCI6IFwicmVjb3JkaW5nLXN0b3AtYnV0dG9uXCIsIGNoaWxkcmVuOiBqc3goSWNvbiwgeyBpY29uOiBcInJlY29yZGluZy1vZmZcIiB9KSB9KSk7XG59KTtcbmNvbnN0IFJlY29yZENhbGxDb25maXJtYXRpb25CdXR0b24gPSAoeyBjYXB0aW9uLCB9KSA9PiB7XG4gICAgY29uc3QgeyB0IH0gPSB1c2VJMThuKCk7XG4gICAgY29uc3QgeyB0b2dnbGVDYWxsUmVjb3JkaW5nLCBpc0F3YWl0aW5nUmVzcG9uc2UsIGlzQ2FsbFJlY29yZGluZ0luUHJvZ3Jlc3MgfSA9IHVzZVRvZ2dsZUNhbGxSZWNvcmRpbmcoKTtcbiAgICBpZiAoaXNDYWxsUmVjb3JkaW5nSW5Qcm9ncmVzcykge1xuICAgICAgICByZXR1cm4gKGpzeChSZXN0cmljdGVkLCB7IHJlcXVpcmVkR3JhbnRzOiBbXG4gICAgICAgICAgICAgICAgT3duQ2FwYWJpbGl0eS5TVEFSVF9SRUNPUkRfQ0FMTCxcbiAgICAgICAgICAgICAgICBPd25DYXBhYmlsaXR5LlNUT1BfUkVDT1JEX0NBTEwsXG4gICAgICAgICAgICBdLCBjaGlsZHJlbjoganN4KE1lbnVUb2dnbGUsIHsgVG9nZ2xlQnV0dG9uOiBUb2dnbGVFbmRSZWNvcmRpbmdNZW51QnV0dG9uLCB2aXN1YWxUeXBlOiBNZW51VmlzdWFsVHlwZS5QT1JUQUwsIGNoaWxkcmVuOiBqc3goUmVjb3JkRW5kQ29uZmlybWF0aW9uLCB7fSkgfSkgfSkpO1xuICAgIH1cbiAgICBjb25zdCB0aXRsZSA9IGlzQXdhaXRpbmdSZXNwb25zZVxuICAgICAgICA/IHQoJ1dhaXRpbmcgZm9yIHJlY29yZGluZyB0byBzdGFydC4uLicpXG4gICAgICAgIDogY2FwdGlvbiA/PyB0KCdSZWNvcmQgY2FsbCcpO1xuICAgIHJldHVybiAoanN4KFJlc3RyaWN0ZWQsIHsgcmVxdWlyZWRHcmFudHM6IFtcbiAgICAgICAgICAgIE93bkNhcGFiaWxpdHkuU1RBUlRfUkVDT1JEX0NBTEwsXG4gICAgICAgICAgICBPd25DYXBhYmlsaXR5LlNUT1BfUkVDT1JEX0NBTEwsXG4gICAgICAgIF0sIGNoaWxkcmVuOiBqc3goV2l0aFRvb2x0aXAsIHsgdGl0bGU6IHRpdGxlLCBjaGlsZHJlbjoganN4KENvbXBvc2l0ZUJ1dHRvbiwgeyBhY3RpdmU6IGlzQ2FsbFJlY29yZGluZ0luUHJvZ3Jlc3MsIGNhcHRpb246IGNhcHRpb24sIHZhcmlhbnQ6IFwic2Vjb25kYXJ5XCIsIFwiZGF0YS10ZXN0aWRcIjogXCJyZWNvcmRpbmctc3RhcnQtYnV0dG9uXCIsIG9uQ2xpY2s6IGlzQXdhaXRpbmdSZXNwb25zZSA/IHVuZGVmaW5lZCA6IHRvZ2dsZUNhbGxSZWNvcmRpbmcsIGNoaWxkcmVuOiBpc0F3YWl0aW5nUmVzcG9uc2UgPyAoanN4KExvYWRpbmdJbmRpY2F0b3IsIHt9KSkgOiAoanN4KEljb24sIHsgaWNvbjogXCJyZWNvcmRpbmctb2ZmXCIgfSkpIH0pIH0pIH0pKTtcbn07XG5jb25zdCBSZWNvcmRDYWxsQnV0dG9uID0gKHsgY2FwdGlvbiB9KSA9PiB7XG4gICAgY29uc3QgeyB0IH0gPSB1c2VJMThuKCk7XG4gICAgY29uc3QgeyB0b2dnbGVDYWxsUmVjb3JkaW5nLCBpc0F3YWl0aW5nUmVzcG9uc2UsIGlzQ2FsbFJlY29yZGluZ0luUHJvZ3Jlc3MgfSA9IHVzZVRvZ2dsZUNhbGxSZWNvcmRpbmcoKTtcbiAgICBsZXQgdGl0bGUgPSBjYXB0aW9uID8/IHQoJ1JlY29yZCBjYWxsJyk7XG4gICAgaWYgKGlzQXdhaXRpbmdSZXNwb25zZSkge1xuICAgICAgICB0aXRsZSA9IGlzQ2FsbFJlY29yZGluZ0luUHJvZ3Jlc3NcbiAgICAgICAgICAgID8gdCgnV2FpdGluZyBmb3IgcmVjb3JkaW5nIHRvIHN0b3AuLi4nKVxuICAgICAgICAgICAgOiB0KCdXYWl0aW5nIGZvciByZWNvcmRpbmcgdG8gc3RhcnQuLi4nKTtcbiAgICB9XG4gICAgcmV0dXJuIChqc3goUmVzdHJpY3RlZCwgeyByZXF1aXJlZEdyYW50czogW1xuICAgICAgICAgICAgT3duQ2FwYWJpbGl0eS5TVEFSVF9SRUNPUkRfQ0FMTCxcbiAgICAgICAgICAgIE93bkNhcGFiaWxpdHkuU1RPUF9SRUNPUkRfQ0FMTCxcbiAgICAgICAgXSwgY2hpbGRyZW46IGpzeChDb21wb3NpdGVCdXR0b24sIHsgYWN0aXZlOiBpc0NhbGxSZWNvcmRpbmdJblByb2dyZXNzLCBjYXB0aW9uOiBjYXB0aW9uLCB2YXJpYW50OiBcInNlY29uZGFyeVwiLCBcImRhdGEtdGVzdGlkXCI6IGlzQ2FsbFJlY29yZGluZ0luUHJvZ3Jlc3NcbiAgICAgICAgICAgICAgICA/ICdyZWNvcmRpbmctc3RvcC1idXR0b24nXG4gICAgICAgICAgICAgICAgOiAncmVjb3JkaW5nLXN0YXJ0LWJ1dHRvbicsIHRpdGxlOiB0aXRsZSwgb25DbGljazogaXNBd2FpdGluZ1Jlc3BvbnNlID8gdW5kZWZpbmVkIDogdG9nZ2xlQ2FsbFJlY29yZGluZywgY2hpbGRyZW46IGlzQXdhaXRpbmdSZXNwb25zZSA/IChqc3goTG9hZGluZ0luZGljYXRvciwge30pKSA6IChqc3goSWNvbiwgeyBpY29uOiBpc0NhbGxSZWNvcmRpbmdJblByb2dyZXNzID8gJ3JlY29yZGluZy1vbicgOiAncmVjb3JkaW5nLW9mZicgfSkpIH0pIH0pKTtcbn07XG5cbmNvbnN0IGRlZmF1bHRFbW9qaVJlYWN0aW9uTWFwID0ge1xuICAgICc6bGlrZTonOiAn8J+RjScsXG4gICAgJzpyYWlzZS1oYW5kOic6ICfinIsnLFxuICAgICc6ZmlyZXdvcmtzOic6ICfwn46JJyxcbiAgICAnOmRpc2xpa2U6JzogJ/CfkY4nLFxuICAgICc6aGVhcnQ6JzogJ+KdpO+4jycsXG4gICAgJzpzbWlsZTonOiAn8J+YgCcsXG59O1xuY29uc3QgUmVhY3Rpb24gPSAoeyBwYXJ0aWNpcGFudDogeyByZWFjdGlvbiwgc2Vzc2lvbklkIH0sIGhpZGVBZnRlclRpbWVvdXRJbk1zID0gNTUwMCwgZW1vamlSZWFjdGlvbk1hcCA9IGRlZmF1bHRFbW9qaVJlYWN0aW9uTWFwLCB9KSA9PiB7XG4gICAgY29uc3QgY2FsbCA9IHVzZUNhbGwoKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIWNhbGwgfHwgIXJlYWN0aW9uKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCB0aW1lb3V0SWQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGNhbGwucmVzZXRSZWFjdGlvbihzZXNzaW9uSWQpO1xuICAgICAgICB9LCBoaWRlQWZ0ZXJUaW1lb3V0SW5Ncyk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dElkKTtcbiAgICAgICAgfTtcbiAgICB9LCBbY2FsbCwgaGlkZUFmdGVyVGltZW91dEluTXMsIHJlYWN0aW9uLCBzZXNzaW9uSWRdKTtcbiAgICBpZiAoIXJlYWN0aW9uKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICBjb25zdCB7IGVtb2ppX2NvZGU6IGVtb2ppQ29kZSB9ID0gcmVhY3Rpb247XG4gICAgcmV0dXJuIChqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19yZWFjdGlvblwiLCBjaGlsZHJlbjoganN4KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3JlYWN0aW9uX19lbW9qaVwiLCBjaGlsZHJlbjogZW1vamlDb2RlICYmIGVtb2ppUmVhY3Rpb25NYXBbZW1vamlDb2RlXSB9KSB9KSk7XG59O1xuXG5jb25zdCBkZWZhdWx0UmVhY3Rpb25zID0gW1xuICAgIHtcbiAgICAgICAgdHlwZTogJ3JlYWN0aW9uJyxcbiAgICAgICAgZW1vamlfY29kZTogJzpsaWtlOicsXG4gICAgfSxcbiAgICB7XG4gICAgICAgIC8vIFRPRE8gT0w6IHVzZSBgcHJvbXB0YCB0eXBlP1xuICAgICAgICB0eXBlOiAncmFpc2VkLWhhbmQnLFxuICAgICAgICBlbW9qaV9jb2RlOiAnOnJhaXNlLWhhbmQ6JyxcbiAgICB9LFxuICAgIHtcbiAgICAgICAgdHlwZTogJ3JlYWN0aW9uJyxcbiAgICAgICAgZW1vamlfY29kZTogJzpmaXJld29ya3M6JyxcbiAgICB9LFxuICAgIHtcbiAgICAgICAgdHlwZTogJ3JlYWN0aW9uJyxcbiAgICAgICAgZW1vamlfY29kZTogJzpkaXNsaWtlOicsXG4gICAgfSxcbiAgICB7XG4gICAgICAgIHR5cGU6ICdyZWFjdGlvbicsXG4gICAgICAgIGVtb2ppX2NvZGU6ICc6aGVhcnQ6JyxcbiAgICB9LFxuICAgIHtcbiAgICAgICAgdHlwZTogJ3JlYWN0aW9uJyxcbiAgICAgICAgZW1vamlfY29kZTogJzpzbWlsZTonLFxuICAgIH0sXG5dO1xuY29uc3QgUmVhY3Rpb25zQnV0dG9uID0gKHsgcmVhY3Rpb25zID0gZGVmYXVsdFJlYWN0aW9ucywgfSkgPT4ge1xuICAgIHJldHVybiAoanN4KFJlc3RyaWN0ZWQsIHsgcmVxdWlyZWRHcmFudHM6IFtPd25DYXBhYmlsaXR5LkNSRUFURV9SRUFDVElPTl0sIGNoaWxkcmVuOiBqc3goTWVudVRvZ2dsZSwgeyBwbGFjZW1lbnQ6IFwidG9wXCIsIFRvZ2dsZUJ1dHRvbjogVG9nZ2xlUmVhY3Rpb25zTWVudUJ1dHRvbiwgdmlzdWFsVHlwZTogTWVudVZpc3VhbFR5cGUuTUVOVSwgY2hpbGRyZW46IGpzeChEZWZhdWx0UmVhY3Rpb25zTWVudSwgeyByZWFjdGlvbnM6IHJlYWN0aW9ucyB9KSB9KSB9KSk7XG59O1xuY29uc3QgVG9nZ2xlUmVhY3Rpb25zTWVudUJ1dHRvbiA9IGZvcndhcmRSZWYoZnVuY3Rpb24gVG9nZ2xlUmVhY3Rpb25zTWVudUJ1dHRvbih7IG1lbnVTaG93biB9LCByZWYpIHtcbiAgICBjb25zdCB7IHQgfSA9IHVzZUkxOG4oKTtcbiAgICByZXR1cm4gKGpzeChXaXRoVG9vbHRpcCwgeyB0aXRsZTogdCgnUmVhY3Rpb25zJyksIHRvb2x0aXBEaXNhYmxlZDogbWVudVNob3duLCBjaGlsZHJlbjoganN4KENvbXBvc2l0ZUJ1dHRvbiwgeyByZWY6IHJlZiwgYWN0aXZlOiBtZW51U2hvd24sIHZhcmlhbnQ6IFwicHJpbWFyeVwiLCBjaGlsZHJlbjoganN4KEljb24sIHsgaWNvbjogXCJyZWFjdGlvbnNcIiB9KSB9KSB9KSk7XG59KTtcbmNvbnN0IERlZmF1bHRSZWFjdGlvbnNNZW51ID0gKHsgcmVhY3Rpb25zLCBsYXlvdXQgPSAnaG9yaXpvbnRhbCcsIH0pID0+IHtcbiAgICBjb25zdCBjYWxsID0gdXNlQ2FsbCgpO1xuICAgIGNvbnN0IHsgY2xvc2UgfSA9IHVzZU1lbnVDb250ZXh0KCk7XG4gICAgcmV0dXJuIChqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IGNsc3goJ3N0ci12aWRlb19fcmVhY3Rpb25zLW1lbnUnLCB7XG4gICAgICAgICAgICAnc3RyLXZpZGVvX19yZWFjdGlvbnMtbWVudS0taG9yaXpvbnRhbCc6IGxheW91dCA9PT0gJ2hvcml6b250YWwnLFxuICAgICAgICAgICAgJ3N0ci12aWRlb19fcmVhY3Rpb25zLW1lbnUtLXZlcnRpY2FsJzogbGF5b3V0ID09PSAndmVydGljYWwnLFxuICAgICAgICB9KSwgY2hpbGRyZW46IHJlYWN0aW9ucy5tYXAoKHJlYWN0aW9uKSA9PiAoanN4KFwiYnV0dG9uXCIsIHsgdHlwZTogXCJidXR0b25cIiwgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fcmVhY3Rpb25zLW1lbnVfX2J1dHRvblwiLCBvbkNsaWNrOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY2FsbD8uc2VuZFJlYWN0aW9uKHJlYWN0aW9uKTtcbiAgICAgICAgICAgICAgICBjbG9zZT8uKCk7XG4gICAgICAgICAgICB9LCBjaGlsZHJlbjogcmVhY3Rpb24uZW1vamlfY29kZSAmJiBkZWZhdWx0RW1vamlSZWFjdGlvbk1hcFtyZWFjdGlvbi5lbW9qaV9jb2RlXSB9LCByZWFjdGlvbi5lbW9qaV9jb2RlKSkpIH0pKTtcbn07XG5cbi8qKlxuICogV3JhcHMgYW4gZXZlbnQgaGFuZGxlciwgc2lsZW5jaW5nIGFuZCBsb2dnaW5nIGV4Y2VwdGlvbnMgKGV4Y2x1ZGluZyB0aGUgTm90QWxsb3dlZEVycm9yXG4gKiBET01FeGNlcHRpb24sIHdoaWNoIGlzIGEgbm9ybWFsIHNpdHVhdGlvbiBoYW5kbGVkIGJ5IHRoZSBTREspXG4gKlxuICogQHBhcmFtIHByb3BzIGNvbXBvbmVudCBwcm9wcywgaW5jbHVkaW5nIHRoZSBvbkVycm9yIGNhbGxiYWNrXG4gKiBAcGFyYW0gaGFuZGxlciBldmVudCBoYW5kbGVyIHRvIHdyYXBcbiAqL1xuY29uc3QgY3JlYXRlQ2FsbENvbnRyb2xIYW5kbGVyID0gKHByb3BzLCBoYW5kbGVyKSA9PiB7XG4gICAgY29uc3QgbG9nZ2VyID0gZ2V0TG9nZ2VyKFsncmVhY3Qtc2RrJ10pO1xuICAgIHJldHVybiBhc3luYyAoKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCBoYW5kbGVyKCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBpZiAocHJvcHMub25FcnJvcikge1xuICAgICAgICAgICAgICAgIHByb3BzLm9uRXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghaXNOb3RBbGxvd2VkRXJyb3IoZXJyb3IpKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyKCdlcnJvcicsICdDYWxsIGNvbnRyb2wgaGFuZGxlciBmYWlsZWQnLCBlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xufTtcbmZ1bmN0aW9uIGlzTm90QWxsb3dlZEVycm9yKGVycm9yKSB7XG4gICAgcmV0dXJuIGVycm9yIGluc3RhbmNlb2YgRE9NRXhjZXB0aW9uICYmIGVycm9yLm5hbWUgPT09ICdOb3RBbGxvd2VkRXJyb3InO1xufVxuXG5jb25zdCBTY3JlZW5TaGFyZUJ1dHRvbiA9IChwcm9wcykgPT4ge1xuICAgIGNvbnN0IHsgdCB9ID0gdXNlSTE4bigpO1xuICAgIGNvbnN0IHsgY2FwdGlvbiB9ID0gcHJvcHM7XG4gICAgY29uc3QgeyB1c2VIYXNPbmdvaW5nU2NyZWVuU2hhcmUsIHVzZVNjcmVlblNoYXJlU3RhdGUsIHVzZUNhbGxTZXR0aW5ncyB9ID0gdXNlQ2FsbFN0YXRlSG9va3MoKTtcbiAgICBjb25zdCBpc1NvbWVvbmVTY3JlZW5TaGFyaW5nID0gdXNlSGFzT25nb2luZ1NjcmVlblNoYXJlKCk7XG4gICAgY29uc3QgeyBoYXNQZXJtaXNzaW9uLCByZXF1ZXN0UGVybWlzc2lvbiwgaXNBd2FpdGluZ1Blcm1pc3Npb24gfSA9IHVzZVJlcXVlc3RQZXJtaXNzaW9uKE93bkNhcGFiaWxpdHkuU0NSRUVOU0hBUkUpO1xuICAgIGNvbnN0IGNhbGxTZXR0aW5ncyA9IHVzZUNhbGxTZXR0aW5ncygpO1xuICAgIGNvbnN0IGlzU2NyZWVuU2hhcmluZ0FsbG93ZWQgPSBjYWxsU2V0dGluZ3M/LnNjcmVlbnNoYXJpbmcuZW5hYmxlZDtcbiAgICBjb25zdCB7IHNjcmVlblNoYXJlLCBvcHRpbWlzdGljSXNNdXRlIH0gPSB1c2VTY3JlZW5TaGFyZVN0YXRlKCk7XG4gICAgY29uc3QgYW1JU2NyZWVuU2hhcmluZyA9ICFvcHRpbWlzdGljSXNNdXRlO1xuICAgIGNvbnN0IGRpc2FibGVTY3JlZW5TaGFyZUJ1dHRvbiA9ICFhbUlTY3JlZW5TaGFyaW5nICYmXG4gICAgICAgIChpc1NvbWVvbmVTY3JlZW5TaGFyaW5nIHx8IGlzU2NyZWVuU2hhcmluZ0FsbG93ZWQgPT09IGZhbHNlKTtcbiAgICBjb25zdCBoYW5kbGVDbGljayA9IGNyZWF0ZUNhbGxDb250cm9sSGFuZGxlcihwcm9wcywgYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAoIWhhc1Blcm1pc3Npb24pIHtcbiAgICAgICAgICAgIGF3YWl0IHJlcXVlc3RQZXJtaXNzaW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhd2FpdCBzY3JlZW5TaGFyZS50b2dnbGUoKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiAoanN4KFJlc3RyaWN0ZWQsIHsgcmVxdWlyZWRHcmFudHM6IFtPd25DYXBhYmlsaXR5LlNDUkVFTlNIQVJFXSwgY2hpbGRyZW46IGpzeChQZXJtaXNzaW9uTm90aWZpY2F0aW9uLCB7IHBlcm1pc3Npb246IE93bkNhcGFiaWxpdHkuU0NSRUVOU0hBUkUsIGlzQXdhaXRpbmdBcHByb3ZhbDogaXNBd2FpdGluZ1Blcm1pc3Npb24sIG1lc3NhZ2VBcHByb3ZlZDogdCgnWW91IGNhbiBub3cgc2hhcmUgeW91ciBzY3JlZW4uJyksIG1lc3NhZ2VBd2FpdGluZ0FwcHJvdmFsOiB0KCdBd2FpdGluZyBmb3IgYW4gYXBwcm92YWwgdG8gc2hhcmUgc2NyZWVuLicpLCBtZXNzYWdlUmV2b2tlZDogdCgnWW91IGNhbiBubyBsb25nZXIgc2hhcmUgeW91ciBzY3JlZW4uJyksIGNoaWxkcmVuOiBqc3goV2l0aFRvb2x0aXAsIHsgdGl0bGU6IGNhcHRpb24gPz8gdCgnU2hhcmUgc2NyZWVuJyksIGNoaWxkcmVuOiBqc3goQ29tcG9zaXRlQnV0dG9uLCB7IGFjdGl2ZTogaXNTb21lb25lU2NyZWVuU2hhcmluZyB8fCBhbUlTY3JlZW5TaGFyaW5nLCBjYXB0aW9uOiBjYXB0aW9uLCB2YXJpYW50OiBcInByaW1hcnlcIiwgXCJkYXRhLXRlc3RpZFwiOiBpc1NvbWVvbmVTY3JlZW5TaGFyaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICA/ICdzY3JlZW4tc2hhcmUtc3RvcC1idXR0b24nXG4gICAgICAgICAgICAgICAgICAgICAgICA6ICdzY3JlZW4tc2hhcmUtc3RhcnQtYnV0dG9uJywgZGlzYWJsZWQ6IGRpc2FibGVTY3JlZW5TaGFyZUJ1dHRvbiwgb25DbGljazogaGFuZGxlQ2xpY2ssIGNoaWxkcmVuOiBqc3goSWNvbiwgeyBpY29uOiBpc1NvbWVvbmVTY3JlZW5TaGFyaW5nID8gJ3NjcmVlbi1zaGFyZS1vbicgOiAnc2NyZWVuLXNoYXJlLW9mZicgfSkgfSkgfSkgfSkgfSkpO1xufTtcblxuY29uc3QgU2VsZWN0Q29udGV4dCA9IGNyZWF0ZUNvbnRleHQoe30pO1xuY29uc3QgU2VsZWN0ID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgeyBjaGlsZHJlbiwgaWNvbiwgZGVmYXVsdFNlbGVjdGVkTGFiZWwsIGRlZmF1bHRTZWxlY3RlZEluZGV4LCBoYW5kbGVTZWxlY3Q6IGhhbmRsZVNlbGVjdFByb3AsIH0gPSBwcm9wcztcbiAgICBjb25zdCBbaXNPcGVuLCBzZXRJc09wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IFthY3RpdmVJbmRleCwgc2V0QWN0aXZlSW5kZXhdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgW3NlbGVjdGVkSW5kZXgsIHNldFNlbGVjdGVkSW5kZXhdID0gdXNlU3RhdGUoZGVmYXVsdFNlbGVjdGVkSW5kZXgpO1xuICAgIGNvbnN0IFtzZWxlY3RlZExhYmVsLCBzZXRTZWxlY3RlZExhYmVsXSA9IHVzZVN0YXRlKGRlZmF1bHRTZWxlY3RlZExhYmVsKTtcbiAgICBjb25zdCB7IHJlZnMsIGNvbnRleHQgfSA9IHVzZUZsb2F0aW5nKHtcbiAgICAgICAgcGxhY2VtZW50OiAnYm90dG9tLXN0YXJ0JyxcbiAgICAgICAgb3BlbjogaXNPcGVuLFxuICAgICAgICBvbk9wZW5DaGFuZ2U6IHNldElzT3BlbixcbiAgICAgICAgd2hpbGVFbGVtZW50c01vdW50ZWQ6IGF1dG9VcGRhdGUsXG4gICAgICAgIG1pZGRsZXdhcmU6IFtmbGlwKCldLFxuICAgIH0pO1xuICAgIGNvbnN0IGVsZW1lbnRzUmVmID0gdXNlUmVmKFtdKTtcbiAgICBjb25zdCBsYWJlbHNSZWYgPSB1c2VSZWYoW10pO1xuICAgIGNvbnN0IGhhbmRsZVNlbGVjdCA9IHVzZUNhbGxiYWNrKChpbmRleCkgPT4ge1xuICAgICAgICBzZXRTZWxlY3RlZEluZGV4KGluZGV4KTtcbiAgICAgICAgaGFuZGxlU2VsZWN0UHJvcChpbmRleCB8fCAwKTtcbiAgICAgICAgc2V0SXNPcGVuKGZhbHNlKTtcbiAgICAgICAgaWYgKGluZGV4ICE9PSBudWxsKSB7XG4gICAgICAgICAgICBzZXRTZWxlY3RlZExhYmVsKGxhYmVsc1JlZi5jdXJyZW50W2luZGV4XSk7XG4gICAgICAgIH1cbiAgICB9LCBbaGFuZGxlU2VsZWN0UHJvcF0pO1xuICAgIGNvbnN0IGhhbmRsZVR5cGVhaGVhZE1hdGNoID0gKGluZGV4KSA9PiB7XG4gICAgICAgIGlmIChpc09wZW4pIHtcbiAgICAgICAgICAgIHNldEFjdGl2ZUluZGV4KGluZGV4KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGhhbmRsZVNlbGVjdChpbmRleCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IGxpc3ROYXYgPSB1c2VMaXN0TmF2aWdhdGlvbihjb250ZXh0LCB7XG4gICAgICAgIGxpc3RSZWY6IGVsZW1lbnRzUmVmLFxuICAgICAgICBhY3RpdmVJbmRleCxcbiAgICAgICAgc2VsZWN0ZWRJbmRleCxcbiAgICAgICAgb25OYXZpZ2F0ZTogc2V0QWN0aXZlSW5kZXgsXG4gICAgfSk7XG4gICAgY29uc3QgdHlwZWFoZWFkID0gdXNlVHlwZWFoZWFkKGNvbnRleHQsIHtcbiAgICAgICAgbGlzdFJlZjogbGFiZWxzUmVmLFxuICAgICAgICBhY3RpdmVJbmRleCxcbiAgICAgICAgc2VsZWN0ZWRJbmRleCxcbiAgICAgICAgb25NYXRjaDogaGFuZGxlVHlwZWFoZWFkTWF0Y2gsXG4gICAgfSk7XG4gICAgY29uc3QgY2xpY2sgPSB1c2VDbGljayhjb250ZXh0KTtcbiAgICBjb25zdCBkaXNtaXNzID0gdXNlRGlzbWlzcyhjb250ZXh0KTtcbiAgICBjb25zdCByb2xlID0gdXNlUm9sZShjb250ZXh0LCB7IHJvbGU6ICdsaXN0Ym94JyB9KTtcbiAgICBjb25zdCB7IGdldFJlZmVyZW5jZVByb3BzLCBnZXRGbG9hdGluZ1Byb3BzLCBnZXRJdGVtUHJvcHMgfSA9IHVzZUludGVyYWN0aW9ucyhbbGlzdE5hdiwgdHlwZWFoZWFkLCBjbGljaywgZGlzbWlzcywgcm9sZV0pO1xuICAgIGNvbnN0IHNlbGVjdENvbnRleHQgPSB1c2VNZW1vKCgpID0+ICh7XG4gICAgICAgIGFjdGl2ZUluZGV4LFxuICAgICAgICBzZWxlY3RlZEluZGV4LFxuICAgICAgICBnZXRJdGVtUHJvcHMsXG4gICAgICAgIGhhbmRsZVNlbGVjdCxcbiAgICB9KSwgW2FjdGl2ZUluZGV4LCBzZWxlY3RlZEluZGV4LCBnZXRJdGVtUHJvcHMsIGhhbmRsZVNlbGVjdF0pO1xuICAgIHJldHVybiAoanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2Ryb3Bkb3duXCIsIGNoaWxkcmVuOiBbanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2Ryb3Bkb3duLXNlbGVjdGVkXCIsIHJlZjogcmVmcy5zZXRSZWZlcmVuY2UsIHRhYkluZGV4OiAwLCAuLi5nZXRSZWZlcmVuY2VQcm9wcygpLCBjaGlsZHJlbjogW2pzeHMoXCJsYWJlbFwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2Ryb3Bkb3duLXNlbGVjdGVkX19sYWJlbFwiLCBjaGlsZHJlbjogW2ljb24gJiYgKGpzeChJY29uLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2Ryb3Bkb3duLXNlbGVjdGVkX19pY29uXCIsIGljb246IGljb24gfSkpLCBzZWxlY3RlZExhYmVsXSB9KSwganN4KEljb24sIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fZHJvcGRvd24tc2VsZWN0ZWRfX2NoZXZyb25cIiwgaWNvbjogaXNPcGVuID8gJ2NoZXZyb24tdXAnIDogJ2NoZXZyb24tZG93bicgfSldIH0pLCBqc3goU2VsZWN0Q29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogc2VsZWN0Q29udGV4dCwgY2hpbGRyZW46IGlzT3BlbiAmJiAoanN4KEZsb2F0aW5nRm9jdXNNYW5hZ2VyLCB7IGNvbnRleHQ6IGNvbnRleHQsIG1vZGFsOiBmYWxzZSwgY2hpbGRyZW46IGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2Ryb3Bkb3duLWxpc3RcIiwgcmVmOiByZWZzLnNldEZsb2F0aW5nLCAuLi5nZXRGbG9hdGluZ1Byb3BzKCksIGNoaWxkcmVuOiBqc3goRmxvYXRpbmdMaXN0LCB7IGVsZW1lbnRzUmVmOiBlbGVtZW50c1JlZiwgbGFiZWxzUmVmOiBsYWJlbHNSZWYsIGNoaWxkcmVuOiBjaGlsZHJlbiB9KSB9KSB9KSkgfSldIH0pKTtcbn07XG5jb25zdCBEcm9wRG93blNlbGVjdE9wdGlvbiA9IChwcm9wcykgPT4ge1xuICAgIGNvbnN0IHsgc2VsZWN0ZWQsIGxhYmVsLCBpY29uIH0gPSBwcm9wcztcbiAgICBjb25zdCB7IGdldEl0ZW1Qcm9wcywgaGFuZGxlU2VsZWN0IH0gPSB1c2VDb250ZXh0KFNlbGVjdENvbnRleHQpO1xuICAgIGNvbnN0IHsgcmVmLCBpbmRleCB9ID0gdXNlTGlzdEl0ZW0oKTtcbiAgICByZXR1cm4gKGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGNsc3goJ3N0ci12aWRlb19fZHJvcGRvd24tb3B0aW9uJywge1xuICAgICAgICAgICAgJ3N0ci12aWRlb19fZHJvcGRvd24tb3B0aW9uLS1zZWxlY3RlZCc6IHNlbGVjdGVkLFxuICAgICAgICB9KSwgcmVmOiByZWYsIC4uLmdldEl0ZW1Qcm9wcyh7XG4gICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiBoYW5kbGVTZWxlY3QoaW5kZXgpLFxuICAgICAgICB9KSwgY2hpbGRyZW46IFtpY29uICYmIGpzeChJY29uLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2Ryb3Bkb3duLWljb25cIiwgaWNvbjogaWNvbiB9KSwganN4KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2Ryb3Bkb3duLWxhYmVsXCIsIGNoaWxkcmVuOiBsYWJlbCB9KV0gfSkpO1xufTtcbmNvbnN0IERyb3BEb3duU2VsZWN0ID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgeyBjaGlsZHJlbiwgaWNvbiwgaGFuZGxlU2VsZWN0LCBkZWZhdWx0U2VsZWN0ZWRMYWJlbCwgZGVmYXVsdFNlbGVjdGVkSW5kZXgsIH0gPSBwcm9wcztcbiAgICByZXR1cm4gKGpzeChTZWxlY3QsIHsgaWNvbjogaWNvbiwgaGFuZGxlU2VsZWN0OiBoYW5kbGVTZWxlY3QsIGRlZmF1bHRTZWxlY3RlZEluZGV4OiBkZWZhdWx0U2VsZWN0ZWRJbmRleCwgZGVmYXVsdFNlbGVjdGVkTGFiZWw6IGRlZmF1bHRTZWxlY3RlZExhYmVsLCBjaGlsZHJlbjogY2hpbGRyZW4gfSkpO1xufTtcblxuY29uc3QgRGV2aWNlU2VsZWN0b3JPcHRpb24gPSAoeyBkaXNhYmxlZCwgaWQsIGxhYmVsLCBvbkNoYW5nZSwgbmFtZSwgc2VsZWN0ZWQsIGRlZmF1bHRDaGVja2VkLCB2YWx1ZSwgfSkgPT4ge1xuICAgIHJldHVybiAoanN4cyhcImxhYmVsXCIsIHsgY2xhc3NOYW1lOiBjbHN4KCdzdHItdmlkZW9fX2RldmljZS1zZXR0aW5nc19fb3B0aW9uJywge1xuICAgICAgICAgICAgJ3N0ci12aWRlb19fZGV2aWNlLXNldHRpbmdzX19vcHRpb24tLXNlbGVjdGVkJzogc2VsZWN0ZWQsXG4gICAgICAgICAgICAnc3RyLXZpZGVvX19kZXZpY2Utc2V0dGluZ3NfX29wdGlvbi0tZGlzYWJsZWQnOiBkaXNhYmxlZCxcbiAgICAgICAgfSksIGh0bWxGb3I6IGlkLCBjaGlsZHJlbjogW2pzeChcImlucHV0XCIsIHsgdHlwZTogXCJyYWRpb1wiLCBuYW1lOiBuYW1lLCBvbkNoYW5nZTogb25DaGFuZ2UsIHZhbHVlOiB2YWx1ZSwgaWQ6IGlkLCBjaGVja2VkOiBzZWxlY3RlZCwgZGVmYXVsdENoZWNrZWQ6IGRlZmF1bHRDaGVja2VkLCBkaXNhYmxlZDogZGlzYWJsZWQgfSksIGxhYmVsXSB9KSk7XG59O1xuY29uc3QgRGV2aWNlU2VsZWN0b3JMaXN0ID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgeyBkZXZpY2VzID0gW10sIHNlbGVjdGVkRGV2aWNlSWQsIHRpdGxlLCB0eXBlLCBvbkNoYW5nZSB9ID0gcHJvcHM7XG4gICAgY29uc3QgeyBjbG9zZSB9ID0gdXNlTWVudUNvbnRleHQoKTtcbiAgICBjb25zdCB7IHQgfSA9IHVzZUkxOG4oKTtcbiAgICByZXR1cm4gKGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19kZXZpY2Utc2V0dGluZ3NfX2RldmljZS1raW5kXCIsIGNoaWxkcmVuOiBbdGl0bGUgJiYgKGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2RldmljZS1zZXR0aW5nc19fZGV2aWNlLXNlbGVjdG9yLXRpdGxlXCIsIGNoaWxkcmVuOiB0aXRsZSB9KSksIGRldmljZXMubGVuZ3RoID09PSAwID8gKGpzeChEZXZpY2VTZWxlY3Rvck9wdGlvbiwgeyBpZDogYCR7dHlwZX0tLWRlZmF1bHRgLCBsYWJlbDogdCgnRGVmYXVsdCcpLCBuYW1lOiB0eXBlLCBkZWZhdWx0Q2hlY2tlZDogdHJ1ZSwgdmFsdWU6IFwiZGVmYXVsdFwiIH0pKSA6IChkZXZpY2VzLm1hcCgoZGV2aWNlKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChqc3goRGV2aWNlU2VsZWN0b3JPcHRpb24sIHsgaWQ6IGAke3R5cGV9LS0ke2RldmljZS5kZXZpY2VJZH1gLCB2YWx1ZTogZGV2aWNlLmRldmljZUlkLCBsYWJlbDogZGV2aWNlLmxhYmVsLCBvbkNoYW5nZTogKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPy4oZS50YXJnZXQudmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xvc2U/LigpO1xuICAgICAgICAgICAgICAgICAgICB9LCBuYW1lOiB0eXBlLCBzZWxlY3RlZDogZGV2aWNlLmRldmljZUlkID09PSBzZWxlY3RlZERldmljZUlkIHx8IGRldmljZXMubGVuZ3RoID09PSAxIH0sIGRldmljZS5kZXZpY2VJZCkpO1xuICAgICAgICAgICAgfSkpXSB9KSk7XG59O1xuY29uc3QgRGV2aWNlU2VsZWN0b3JEcm9wZG93biA9IChwcm9wcykgPT4ge1xuICAgIGNvbnN0IHsgZGV2aWNlcyA9IFtdLCBzZWxlY3RlZERldmljZUlkLCB0aXRsZSwgb25DaGFuZ2UsIGljb24gfSA9IHByb3BzO1xuICAgIGNvbnN0IHsgdCB9ID0gdXNlSTE4bigpO1xuICAgIGNvbnN0IHNlbGVjdGVkSW5kZXggPSBkZXZpY2VzLmZpbmRJbmRleCgoZCkgPT4gZC5kZXZpY2VJZCA9PT0gc2VsZWN0ZWREZXZpY2VJZCk7XG4gICAgY29uc3QgaGFuZGxlU2VsZWN0ID0gdXNlQ2FsbGJhY2soKGluZGV4KSA9PiB7XG4gICAgICAgIG9uQ2hhbmdlPy4oZGV2aWNlc1tpbmRleF0uZGV2aWNlSWQpO1xuICAgIH0sIFtkZXZpY2VzLCBvbkNoYW5nZV0pO1xuICAgIHJldHVybiAoanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2RldmljZS1zZXR0aW5nc19fZGV2aWNlLWtpbmRcIiwgY2hpbGRyZW46IFtqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19kZXZpY2Utc2V0dGluZ3NfX2RldmljZS1zZWxlY3Rvci10aXRsZVwiLCBjaGlsZHJlbjogdGl0bGUgfSksIGpzeChEcm9wRG93blNlbGVjdCwgeyBpY29uOiBpY29uLCBkZWZhdWx0U2VsZWN0ZWRJbmRleDogc2VsZWN0ZWRJbmRleCwgZGVmYXVsdFNlbGVjdGVkTGFiZWw6IGRldmljZXNbc2VsZWN0ZWRJbmRleF0/LmxhYmVsID8/IHQoJ0RlZmF1bHQnKSwgaGFuZGxlU2VsZWN0OiBoYW5kbGVTZWxlY3QsIGNoaWxkcmVuOiBkZXZpY2VzLmxlbmd0aCA9PT0gMCA/IChqc3goRHJvcERvd25TZWxlY3RPcHRpb24sIHsgaWNvbjogaWNvbiwgbGFiZWw6IHQoJ0RlZmF1bHQnKSwgc2VsZWN0ZWQ6IHRydWUgfSkpIDogKGRldmljZXMubWFwKChkZXZpY2UpID0+IChqc3goRHJvcERvd25TZWxlY3RPcHRpb24sIHsgaWNvbjogaWNvbiwgbGFiZWw6IGRldmljZS5sYWJlbCwgc2VsZWN0ZWQ6IGRldmljZS5kZXZpY2VJZCA9PT0gc2VsZWN0ZWREZXZpY2VJZCB8fCBkZXZpY2VzLmxlbmd0aCA9PT0gMSB9LCBkZXZpY2UuZGV2aWNlSWQpKSkpIH0pXSB9KSk7XG59O1xuY29uc3QgRGV2aWNlU2VsZWN0b3IgPSAocHJvcHMpID0+IHtcbiAgICBjb25zdCB7IHZpc3VhbFR5cGUgPSAnbGlzdCcsIGljb24sIHBsYWNlaG9sZGVyLCAuLi5yZXN0IH0gPSBwcm9wcztcbiAgICBpZiAodmlzdWFsVHlwZSA9PT0gJ2xpc3QnKSB7XG4gICAgICAgIHJldHVybiBqc3goRGV2aWNlU2VsZWN0b3JMaXN0LCB7IC4uLnJlc3QgfSk7XG4gICAgfVxuICAgIHJldHVybiBqc3goRGV2aWNlU2VsZWN0b3JEcm9wZG93biwgeyAuLi5yZXN0LCBpY29uOiBpY29uIH0pO1xufTtcblxuY29uc3QgRGV2aWNlU2VsZWN0b3JBdWRpb0lucHV0ID0gKHsgdGl0bGUsIHZpc3VhbFR5cGUsIH0pID0+IHtcbiAgICBjb25zdCB7IHVzZU1pY3JvcGhvbmVTdGF0ZSB9ID0gdXNlQ2FsbFN0YXRlSG9va3MoKTtcbiAgICBjb25zdCB7IG1pY3JvcGhvbmUsIHNlbGVjdGVkRGV2aWNlLCBkZXZpY2VzIH0gPSB1c2VNaWNyb3Bob25lU3RhdGUoKTtcbiAgICByZXR1cm4gKGpzeChEZXZpY2VTZWxlY3RvciwgeyBkZXZpY2VzOiBkZXZpY2VzIHx8IFtdLCBzZWxlY3RlZERldmljZUlkOiBzZWxlY3RlZERldmljZSwgdHlwZTogXCJhdWRpb2lucHV0XCIsIG9uQ2hhbmdlOiBhc3luYyAoZGV2aWNlSWQpID0+IHtcbiAgICAgICAgICAgIGF3YWl0IG1pY3JvcGhvbmUuc2VsZWN0KGRldmljZUlkKTtcbiAgICAgICAgfSwgdGl0bGU6IHRpdGxlLCB2aXN1YWxUeXBlOiB2aXN1YWxUeXBlLCBpY29uOiBcIm1pY1wiIH0pKTtcbn07XG5jb25zdCBEZXZpY2VTZWxlY3RvckF1ZGlvT3V0cHV0ID0gKHsgdGl0bGUsIHZpc3VhbFR5cGUsIH0pID0+IHtcbiAgICBjb25zdCB7IHVzZVNwZWFrZXJTdGF0ZSB9ID0gdXNlQ2FsbFN0YXRlSG9va3MoKTtcbiAgICBjb25zdCB7IHNwZWFrZXIsIHNlbGVjdGVkRGV2aWNlLCBkZXZpY2VzLCBpc0RldmljZVNlbGVjdGlvblN1cHBvcnRlZCB9ID0gdXNlU3BlYWtlclN0YXRlKCk7XG4gICAgaWYgKCFpc0RldmljZVNlbGVjdGlvblN1cHBvcnRlZClcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgcmV0dXJuIChqc3goRGV2aWNlU2VsZWN0b3IsIHsgZGV2aWNlczogZGV2aWNlcywgdHlwZTogXCJhdWRpb291dHB1dFwiLCBzZWxlY3RlZERldmljZUlkOiBzZWxlY3RlZERldmljZSwgb25DaGFuZ2U6IChkZXZpY2VJZCkgPT4ge1xuICAgICAgICAgICAgc3BlYWtlci5zZWxlY3QoZGV2aWNlSWQpO1xuICAgICAgICB9LCB0aXRsZTogdGl0bGUsIHZpc3VhbFR5cGU6IHZpc3VhbFR5cGUsIGljb246IFwic3BlYWtlclwiIH0pKTtcbn07XG5cbmNvbnN0IERldmljZVNlbGVjdG9yVmlkZW8gPSAoeyB0aXRsZSwgdmlzdWFsVHlwZSwgfSkgPT4ge1xuICAgIGNvbnN0IHsgdXNlQ2FtZXJhU3RhdGUgfSA9IHVzZUNhbGxTdGF0ZUhvb2tzKCk7XG4gICAgY29uc3QgeyBjYW1lcmEsIGRldmljZXMsIHNlbGVjdGVkRGV2aWNlIH0gPSB1c2VDYW1lcmFTdGF0ZSgpO1xuICAgIHJldHVybiAoanN4KERldmljZVNlbGVjdG9yLCB7IGRldmljZXM6IGRldmljZXMgfHwgW10sIHR5cGU6IFwidmlkZW9pbnB1dFwiLCBzZWxlY3RlZERldmljZUlkOiBzZWxlY3RlZERldmljZSwgb25DaGFuZ2U6IGFzeW5jIChkZXZpY2VJZCkgPT4ge1xuICAgICAgICAgICAgYXdhaXQgY2FtZXJhLnNlbGVjdChkZXZpY2VJZCk7XG4gICAgICAgIH0sIHRpdGxlOiB0aXRsZSwgdmlzdWFsVHlwZTogdmlzdWFsVHlwZSwgaWNvbjogXCJjYW1lcmFcIiB9KSk7XG59O1xuXG5jb25zdCBEZXZpY2VTZXR0aW5ncyA9ICh7IHZpc3VhbFR5cGUgPSBNZW51VmlzdWFsVHlwZS5NRU5VLCB9KSA9PiB7XG4gICAgcmV0dXJuIChqc3goTWVudVRvZ2dsZSwgeyBwbGFjZW1lbnQ6IFwiYm90dG9tLWVuZFwiLCBUb2dnbGVCdXR0b246IFRvZ2dsZURldmljZVNldHRpbmdzTWVudUJ1dHRvbiwgdmlzdWFsVHlwZTogdmlzdWFsVHlwZSwgY2hpbGRyZW46IGpzeChNZW51LCB7fSkgfSkpO1xufTtcbmNvbnN0IE1lbnUgPSAoKSA9PiB7XG4gICAgY29uc3QgeyB0IH0gPSB1c2VJMThuKCk7XG4gICAgcmV0dXJuIChqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fZGV2aWNlLXNldHRpbmdzXCIsIGNoaWxkcmVuOiBbanN4KERldmljZVNlbGVjdG9yVmlkZW8sIHsgdGl0bGU6IHQoJ1NlbGVjdCBhIENhbWVyYScpIH0pLCBqc3goRGV2aWNlU2VsZWN0b3JBdWRpb0lucHV0LCB7IHRpdGxlOiB0KCdTZWxlY3QgYSBNaWMnKSB9KSwganN4KERldmljZVNlbGVjdG9yQXVkaW9PdXRwdXQsIHsgdGl0bGU6IHQoJ1NlbGVjdCBTcGVha2VycycpIH0pXSB9KSk7XG59O1xuY29uc3QgVG9nZ2xlRGV2aWNlU2V0dGluZ3NNZW51QnV0dG9uID0gZm9yd2FyZFJlZihmdW5jdGlvbiBUb2dnbGVEZXZpY2VTZXR0aW5nc01lbnVCdXR0b24oeyBtZW51U2hvd24gfSwgcmVmKSB7XG4gICAgY29uc3QgeyB0IH0gPSB1c2VJMThuKCk7XG4gICAgcmV0dXJuIChqc3goSWNvbkJ1dHRvbiwgeyBjbGFzc05hbWU6IGNsc3goJ3N0ci12aWRlb19fZGV2aWNlLXNldHRpbmdzX19idXR0b24nLCB7XG4gICAgICAgICAgICAnc3RyLXZpZGVvX19kZXZpY2Utc2V0dGluZ3NfX2J1dHRvbi0tYWN0aXZlJzogbWVudVNob3duLFxuICAgICAgICB9KSwgdGl0bGU6IHQoJ1RvZ2dsZSBkZXZpY2UgbWVudScpLCBpY29uOiBcImRldmljZS1zZXR0aW5nc1wiLCByZWY6IHJlZiB9KSk7XG59KTtcblxuY29uc3QgVG9nZ2xlQXVkaW9QcmV2aWV3QnV0dG9uID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgeyBjYXB0aW9uLCBvbk1lbnVUb2dnbGUsIC4uLnJlc3RDb21wb3NpdGVCdXR0b25Qcm9wcyB9ID0gcHJvcHM7XG4gICAgY29uc3QgeyB0IH0gPSB1c2VJMThuKCk7XG4gICAgY29uc3QgeyB1c2VNaWNyb3Bob25lU3RhdGUgfSA9IHVzZUNhbGxTdGF0ZUhvb2tzKCk7XG4gICAgY29uc3QgeyBtaWNyb3Bob25lLCBvcHRpbWlzdGljSXNNdXRlLCBoYXNCcm93c2VyUGVybWlzc2lvbiB9ID0gdXNlTWljcm9waG9uZVN0YXRlKCk7XG4gICAgY29uc3QgW3Rvb2x0aXBEaXNhYmxlZCwgc2V0VG9vbHRpcERpc2FibGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCBoYW5kbGVDbGljayA9IGNyZWF0ZUNhbGxDb250cm9sSGFuZGxlcihwcm9wcywgKCkgPT4gbWljcm9waG9uZS50b2dnbGUoKSk7XG4gICAgcmV0dXJuIChqc3goV2l0aFRvb2x0aXAsIHsgdGl0bGU6ICFoYXNCcm93c2VyUGVybWlzc2lvblxuICAgICAgICAgICAgPyB0KCdDaGVjayB5b3VyIGJyb3dzZXIgYXVkaW8gcGVybWlzc2lvbnMnKVxuICAgICAgICAgICAgOiBjYXB0aW9uID8/IHQoJ01pYycpLCB0b29sdGlwRGlzYWJsZWQ6IHRvb2x0aXBEaXNhYmxlZCwgY2hpbGRyZW46IGpzeHMoQ29tcG9zaXRlQnV0dG9uLCB7IGFjdGl2ZTogb3B0aW1pc3RpY0lzTXV0ZSwgY2FwdGlvbjogY2FwdGlvbiwgY2xhc3NOYW1lOiBjbHN4KCFoYXNCcm93c2VyUGVybWlzc2lvbiAmJiAnc3RyLXZpZGVvX19kZXZpY2UtdW5hdmFpbGFibGUnKSwgdmFyaWFudDogXCJzZWNvbmRhcnlcIiwgZGlzYWJsZWQ6ICFoYXNCcm93c2VyUGVybWlzc2lvbiwgXCJkYXRhLXRlc3RpZFwiOiBvcHRpbWlzdGljSXNNdXRlXG4gICAgICAgICAgICAgICAgPyAncHJldmlldy1hdWRpby11bm11dGUtYnV0dG9uJ1xuICAgICAgICAgICAgICAgIDogJ3ByZXZpZXctYXVkaW8tbXV0ZS1idXR0b24nLCBvbkNsaWNrOiBoYW5kbGVDbGljaywgLi4ucmVzdENvbXBvc2l0ZUJ1dHRvblByb3BzLCBvbk1lbnVUb2dnbGU6IChzaG93bikgPT4ge1xuICAgICAgICAgICAgICAgIHNldFRvb2x0aXBEaXNhYmxlZChzaG93bik7XG4gICAgICAgICAgICAgICAgb25NZW51VG9nZ2xlPy4oc2hvd24pO1xuICAgICAgICAgICAgfSwgY2hpbGRyZW46IFtqc3goSWNvbiwgeyBpY29uOiAhb3B0aW1pc3RpY0lzTXV0ZSA/ICdtaWMnIDogJ21pYy1vZmYnIH0pLCAhaGFzQnJvd3NlclBlcm1pc3Npb24gJiYgKGpzeChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19uby1tZWRpYS1wZXJtaXNzaW9uXCIsIHRpdGxlOiB0KCdDaGVjayB5b3VyIGJyb3dzZXIgYXVkaW8gcGVybWlzc2lvbnMnKSwgY2hpbGRyZW46IFwiIVwiIH0pKV0gfSkgfSkpO1xufTtcbmNvbnN0IFRvZ2dsZUF1ZGlvUHVibGlzaGluZ0J1dHRvbiA9IChwcm9wcykgPT4ge1xuICAgIGNvbnN0IHsgdCB9ID0gdXNlSTE4bigpO1xuICAgIGNvbnN0IHsgY2FwdGlvbiwgTWVudSA9IGpzeChEZXZpY2VTZWxlY3RvckF1ZGlvSW5wdXQsIHsgdmlzdWFsVHlwZTogXCJsaXN0XCIgfSksIG1lbnVQbGFjZW1lbnQgPSAndG9wJywgb25NZW51VG9nZ2xlLCAuLi5yZXN0Q29tcG9zaXRlQnV0dG9uUHJvcHMgfSA9IHByb3BzO1xuICAgIGNvbnN0IHsgaGFzUGVybWlzc2lvbiwgcmVxdWVzdFBlcm1pc3Npb24sIGlzQXdhaXRpbmdQZXJtaXNzaW9uIH0gPSB1c2VSZXF1ZXN0UGVybWlzc2lvbihPd25DYXBhYmlsaXR5LlNFTkRfQVVESU8pO1xuICAgIGNvbnN0IHsgdXNlTWljcm9waG9uZVN0YXRlIH0gPSB1c2VDYWxsU3RhdGVIb29rcygpO1xuICAgIGNvbnN0IHsgbWljcm9waG9uZSwgb3B0aW1pc3RpY0lzTXV0ZSwgaGFzQnJvd3NlclBlcm1pc3Npb24gfSA9IHVzZU1pY3JvcGhvbmVTdGF0ZSgpO1xuICAgIGNvbnN0IFt0b29sdGlwRGlzYWJsZWQsIHNldFRvb2x0aXBEaXNhYmxlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgaGFuZGxlQ2xpY2sgPSBjcmVhdGVDYWxsQ29udHJvbEhhbmRsZXIocHJvcHMsIGFzeW5jICgpID0+IHtcbiAgICAgICAgaWYgKCFoYXNQZXJtaXNzaW9uKSB7XG4gICAgICAgICAgICBhd2FpdCByZXF1ZXN0UGVybWlzc2lvbigpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYXdhaXQgbWljcm9waG9uZS50b2dnbGUoKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiAoanN4KFJlc3RyaWN0ZWQsIHsgcmVxdWlyZWRHcmFudHM6IFtPd25DYXBhYmlsaXR5LlNFTkRfQVVESU9dLCBjaGlsZHJlbjoganN4KFBlcm1pc3Npb25Ob3RpZmljYXRpb24sIHsgcGVybWlzc2lvbjogT3duQ2FwYWJpbGl0eS5TRU5EX0FVRElPLCBpc0F3YWl0aW5nQXBwcm92YWw6IGlzQXdhaXRpbmdQZXJtaXNzaW9uLCBtZXNzYWdlQXBwcm92ZWQ6IHQoJ1lvdSBjYW4gbm93IHNwZWFrLicpLCBtZXNzYWdlQXdhaXRpbmdBcHByb3ZhbDogdCgnQXdhaXRpbmcgZm9yIGFuIGFwcHJvdmFsIHRvIHNwZWFrLicpLCBtZXNzYWdlUmV2b2tlZDogdCgnWW91IGNhbiBubyBsb25nZXIgc3BlYWsuJyksIGNoaWxkcmVuOiBqc3goV2l0aFRvb2x0aXAsIHsgdGl0bGU6ICFoYXNQZXJtaXNzaW9uXG4gICAgICAgICAgICAgICAgICAgID8gdCgnWW91IGhhdmUgbm8gcGVybWlzc2lvbiB0byBzaGFyZSB5b3VyIGF1ZGlvJylcbiAgICAgICAgICAgICAgICAgICAgOiAhaGFzQnJvd3NlclBlcm1pc3Npb25cbiAgICAgICAgICAgICAgICAgICAgICAgID8gdCgnQ2hlY2sgeW91ciBicm93c2VyIG1pYyBwZXJtaXNzaW9ucycpXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGNhcHRpb24gPz8gdCgnTWljJyksIHRvb2x0aXBEaXNhYmxlZDogdG9vbHRpcERpc2FibGVkLCBjaGlsZHJlbjoganN4cyhDb21wb3NpdGVCdXR0b24sIHsgYWN0aXZlOiBvcHRpbWlzdGljSXNNdXRlLCBjYXB0aW9uOiBjYXB0aW9uLCB2YXJpYW50OiBcInNlY29uZGFyeVwiLCBkaXNhYmxlZDogIWhhc0Jyb3dzZXJQZXJtaXNzaW9uIHx8ICFoYXNQZXJtaXNzaW9uLCBcImRhdGEtdGVzdGlkXCI6IG9wdGltaXN0aWNJc011dGUgPyAnYXVkaW8tdW5tdXRlLWJ1dHRvbicgOiAnYXVkaW8tbXV0ZS1idXR0b24nLCBvbkNsaWNrOiBoYW5kbGVDbGljaywgTWVudTogTWVudSwgbWVudVBsYWNlbWVudDogbWVudVBsYWNlbWVudCwgbWVudU9mZnNldDogMTYsIC4uLnJlc3RDb21wb3NpdGVCdXR0b25Qcm9wcywgb25NZW51VG9nZ2xlOiAoc2hvd24pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRvb2x0aXBEaXNhYmxlZChzaG93bik7XG4gICAgICAgICAgICAgICAgICAgICAgICBvbk1lbnVUb2dnbGU/LihzaG93bik7XG4gICAgICAgICAgICAgICAgICAgIH0sIGNoaWxkcmVuOiBbanN4KEljb24sIHsgaWNvbjogb3B0aW1pc3RpY0lzTXV0ZSA/ICdtaWMtb2ZmJyA6ICdtaWMnIH0pLCAoIWhhc0Jyb3dzZXJQZXJtaXNzaW9uIHx8ICFoYXNQZXJtaXNzaW9uKSAmJiAoanN4KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX25vLW1lZGlhLXBlcm1pc3Npb25cIiwgY2hpbGRyZW46IFwiIVwiIH0pKV0gfSkgfSkgfSkgfSkpO1xufTtcblxuY29uc3QgVG9nZ2xlVmlkZW9QcmV2aWV3QnV0dG9uID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgeyBjYXB0aW9uLCBNZW51ID0gRGV2aWNlU2VsZWN0b3JWaWRlbywgbWVudVBsYWNlbWVudCA9ICd0b3AnLCBvbk1lbnVUb2dnbGUsIC4uLnJlc3RDb21wb3NpdGVCdXR0b25Qcm9wcyB9ID0gcHJvcHM7XG4gICAgY29uc3QgeyB0IH0gPSB1c2VJMThuKCk7XG4gICAgY29uc3QgeyB1c2VDYW1lcmFTdGF0ZSB9ID0gdXNlQ2FsbFN0YXRlSG9va3MoKTtcbiAgICBjb25zdCB7IGNhbWVyYSwgb3B0aW1pc3RpY0lzTXV0ZSwgaGFzQnJvd3NlclBlcm1pc3Npb24gfSA9IHVzZUNhbWVyYVN0YXRlKCk7XG4gICAgY29uc3QgW3Rvb2x0aXBEaXNhYmxlZCwgc2V0VG9vbHRpcERpc2FibGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCBoYW5kbGVDbGljayA9IGNyZWF0ZUNhbGxDb250cm9sSGFuZGxlcihwcm9wcywgKCkgPT4gY2FtZXJhLnRvZ2dsZSgpKTtcbiAgICByZXR1cm4gKGpzeChXaXRoVG9vbHRpcCwgeyB0aXRsZTogIWhhc0Jyb3dzZXJQZXJtaXNzaW9uXG4gICAgICAgICAgICA/IHQoJ0NoZWNrIHlvdXIgYnJvd3NlciB2aWRlbyBwZXJtaXNzaW9ucycpXG4gICAgICAgICAgICA6IGNhcHRpb24gPz8gdCgnVmlkZW8nKSwgdG9vbHRpcERpc2FibGVkOiB0b29sdGlwRGlzYWJsZWQsIGNoaWxkcmVuOiBqc3hzKENvbXBvc2l0ZUJ1dHRvbiwgeyBhY3RpdmU6IG9wdGltaXN0aWNJc011dGUsIGNhcHRpb246IGNhcHRpb24sIGNsYXNzTmFtZTogY2xzeCghaGFzQnJvd3NlclBlcm1pc3Npb24gJiYgJ3N0ci12aWRlb19fZGV2aWNlLXVuYXZhaWxhYmxlJyksIHZhcmlhbnQ6IFwic2Vjb25kYXJ5XCIsIFwiZGF0YS10ZXN0aWRcIjogb3B0aW1pc3RpY0lzTXV0ZVxuICAgICAgICAgICAgICAgID8gJ3ByZXZpZXctdmlkZW8tdW5tdXRlLWJ1dHRvbidcbiAgICAgICAgICAgICAgICA6ICdwcmV2aWV3LXZpZGVvLW11dGUtYnV0dG9uJywgb25DbGljazogaGFuZGxlQ2xpY2ssIGRpc2FibGVkOiAhaGFzQnJvd3NlclBlcm1pc3Npb24sIE1lbnU6IE1lbnUsIG1lbnVQbGFjZW1lbnQ6IG1lbnVQbGFjZW1lbnQsIC4uLnJlc3RDb21wb3NpdGVCdXR0b25Qcm9wcywgb25NZW51VG9nZ2xlOiAoc2hvd24pID0+IHtcbiAgICAgICAgICAgICAgICBzZXRUb29sdGlwRGlzYWJsZWQoc2hvd24pO1xuICAgICAgICAgICAgICAgIG9uTWVudVRvZ2dsZT8uKHNob3duKTtcbiAgICAgICAgICAgIH0sIGNoaWxkcmVuOiBbanN4KEljb24sIHsgaWNvbjogIW9wdGltaXN0aWNJc011dGUgPyAnY2FtZXJhJyA6ICdjYW1lcmEtb2ZmJyB9KSwgIWhhc0Jyb3dzZXJQZXJtaXNzaW9uICYmIChqc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fbm8tbWVkaWEtcGVybWlzc2lvblwiLCB0aXRsZTogdCgnQ2hlY2sgeW91ciBicm93c2VyIHZpZGVvIHBlcm1pc3Npb25zJyksIGNoaWxkcmVuOiBcIiFcIiB9KSldIH0pIH0pKTtcbn07XG5jb25zdCBUb2dnbGVWaWRlb1B1Ymxpc2hpbmdCdXR0b24gPSAocHJvcHMpID0+IHtcbiAgICBjb25zdCB7IHQgfSA9IHVzZUkxOG4oKTtcbiAgICBjb25zdCB7IGNhcHRpb24sIE1lbnUgPSBqc3goRGV2aWNlU2VsZWN0b3JWaWRlbywgeyB2aXN1YWxUeXBlOiBcImxpc3RcIiB9KSwgbWVudVBsYWNlbWVudCA9ICd0b3AnLCBvbk1lbnVUb2dnbGUsIC4uLnJlc3RDb21wb3NpdGVCdXR0b25Qcm9wcyB9ID0gcHJvcHM7XG4gICAgY29uc3QgeyBoYXNQZXJtaXNzaW9uLCByZXF1ZXN0UGVybWlzc2lvbiwgaXNBd2FpdGluZ1Blcm1pc3Npb24gfSA9IHVzZVJlcXVlc3RQZXJtaXNzaW9uKE93bkNhcGFiaWxpdHkuU0VORF9WSURFTyk7XG4gICAgY29uc3QgeyB1c2VDYW1lcmFTdGF0ZSwgdXNlQ2FsbFNldHRpbmdzIH0gPSB1c2VDYWxsU3RhdGVIb29rcygpO1xuICAgIGNvbnN0IHsgY2FtZXJhLCBvcHRpbWlzdGljSXNNdXRlLCBoYXNCcm93c2VyUGVybWlzc2lvbiB9ID0gdXNlQ2FtZXJhU3RhdGUoKTtcbiAgICBjb25zdCBjYWxsU2V0dGluZ3MgPSB1c2VDYWxsU2V0dGluZ3MoKTtcbiAgICBjb25zdCBpc1B1Ymxpc2hpbmdWaWRlb0FsbG93ZWQgPSBjYWxsU2V0dGluZ3M/LnZpZGVvLmVuYWJsZWQ7XG4gICAgY29uc3QgW3Rvb2x0aXBEaXNhYmxlZCwgc2V0VG9vbHRpcERpc2FibGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCBoYW5kbGVDbGljayA9IGNyZWF0ZUNhbGxDb250cm9sSGFuZGxlcihwcm9wcywgYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAoIWhhc1Blcm1pc3Npb24pIHtcbiAgICAgICAgICAgIGF3YWl0IHJlcXVlc3RQZXJtaXNzaW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhd2FpdCBjYW1lcmEudG9nZ2xlKCk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gKGpzeChSZXN0cmljdGVkLCB7IHJlcXVpcmVkR3JhbnRzOiBbT3duQ2FwYWJpbGl0eS5TRU5EX1ZJREVPXSwgY2hpbGRyZW46IGpzeChQZXJtaXNzaW9uTm90aWZpY2F0aW9uLCB7IHBlcm1pc3Npb246IE93bkNhcGFiaWxpdHkuU0VORF9WSURFTywgaXNBd2FpdGluZ0FwcHJvdmFsOiBpc0F3YWl0aW5nUGVybWlzc2lvbiwgbWVzc2FnZUFwcHJvdmVkOiB0KCdZb3UgY2FuIG5vdyBzaGFyZSB5b3VyIHZpZGVvLicpLCBtZXNzYWdlQXdhaXRpbmdBcHByb3ZhbDogdCgnQXdhaXRpbmcgZm9yIGFuIGFwcHJvdmFsIHRvIHNoYXJlIHlvdXIgdmlkZW8uJyksIG1lc3NhZ2VSZXZva2VkOiB0KCdZb3UgY2FuIG5vIGxvbmdlciBzaGFyZSB5b3VyIHZpZGVvLicpLCBjaGlsZHJlbjoganN4KFdpdGhUb29sdGlwLCB7IHRpdGxlOiAhaGFzUGVybWlzc2lvblxuICAgICAgICAgICAgICAgICAgICA/IHQoJ1lvdSBoYXZlIG5vIHBlcm1pc3Npb24gdG8gc2hhcmUgeW91ciB2aWRlbycpXG4gICAgICAgICAgICAgICAgICAgIDogIWhhc0Jyb3dzZXJQZXJtaXNzaW9uXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHQoJ0NoZWNrIHlvdXIgYnJvd3NlciB2aWRlbyBwZXJtaXNzaW9ucycpXG4gICAgICAgICAgICAgICAgICAgICAgICA6ICFpc1B1Ymxpc2hpbmdWaWRlb0FsbG93ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHQoJ1ZpZGVvIHB1Ymxpc2hpbmcgaXMgZGlzYWJsZWQgYnkgdGhlIHN5c3RlbScpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBjYXB0aW9uIHx8IHQoJ1ZpZGVvJyksIHRvb2x0aXBEaXNhYmxlZDogdG9vbHRpcERpc2FibGVkLCBjaGlsZHJlbjoganN4cyhDb21wb3NpdGVCdXR0b24sIHsgYWN0aXZlOiBvcHRpbWlzdGljSXNNdXRlLCBjYXB0aW9uOiBjYXB0aW9uLCB2YXJpYW50OiBcInNlY29uZGFyeVwiLCBkaXNhYmxlZDogIWhhc0Jyb3dzZXJQZXJtaXNzaW9uIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAhaGFzUGVybWlzc2lvbiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgIWlzUHVibGlzaGluZ1ZpZGVvQWxsb3dlZCwgXCJkYXRhLXRlc3RpZFwiOiBvcHRpbWlzdGljSXNNdXRlID8gJ3ZpZGVvLXVubXV0ZS1idXR0b24nIDogJ3ZpZGVvLW11dGUtYnV0dG9uJywgb25DbGljazogaGFuZGxlQ2xpY2ssIE1lbnU6IE1lbnUsIG1lbnVQbGFjZW1lbnQ6IG1lbnVQbGFjZW1lbnQsIG1lbnVPZmZzZXQ6IDE2LCAuLi5yZXN0Q29tcG9zaXRlQnV0dG9uUHJvcHMsIG9uTWVudVRvZ2dsZTogKHNob3duKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUb29sdGlwRGlzYWJsZWQoc2hvd24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgb25NZW51VG9nZ2xlPy4oc2hvd24pO1xuICAgICAgICAgICAgICAgICAgICB9LCBjaGlsZHJlbjogW2pzeChJY29uLCB7IGljb246IG9wdGltaXN0aWNJc011dGUgPyAnY2FtZXJhLW9mZicgOiAnY2FtZXJhJyB9KSwgKCFoYXNCcm93c2VyUGVybWlzc2lvbiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICFoYXNQZXJtaXNzaW9uIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIWlzUHVibGlzaGluZ1ZpZGVvQWxsb3dlZCkgJiYgKGpzeChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19uby1tZWRpYS1wZXJtaXNzaW9uXCIsIGNoaWxkcmVuOiBcIiFcIiB9KSldIH0pIH0pIH0pIH0pKTtcbn07XG5cbmNvbnN0IEVuZENhbGxNZW51ID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgeyBvbkxlYXZlLCBvbkVuZCB9ID0gcHJvcHM7XG4gICAgY29uc3QgeyB0IH0gPSB1c2VJMThuKCk7XG4gICAgcmV0dXJuIChqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fZW5kLWNhbGxfX2NvbmZpcm1hdGlvblwiLCBjaGlsZHJlbjogW2pzeHMoXCJidXR0b25cIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19idXR0b24gc3RyLXZpZGVvX19lbmQtY2FsbF9fbGVhdmVcIiwgdHlwZTogXCJidXR0b25cIiwgXCJkYXRhLXRlc3RpZFwiOiBcImxlYXZlLWNhbGwtYnV0dG9uXCIsIG9uQ2xpY2s6IG9uTGVhdmUsIGNoaWxkcmVuOiBbanN4KEljb24sIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fYnV0dG9uX19pY29uIHN0ci12aWRlb19fZW5kLWNhbGxfX2xlYXZlLWljb25cIiwgaWNvbjogXCJsb2dvdXRcIiB9KSwgdCgnTGVhdmUgY2FsbCcpXSB9KSwganN4KFJlc3RyaWN0ZWQsIHsgcmVxdWlyZWRHcmFudHM6IFtPd25DYXBhYmlsaXR5LkVORF9DQUxMXSwgY2hpbGRyZW46IGpzeHMoXCJidXR0b25cIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19idXR0b24gc3RyLXZpZGVvX19lbmQtY2FsbF9fZW5kXCIsIHR5cGU6IFwiYnV0dG9uXCIsIFwiZGF0YS10ZXN0aWRcIjogXCJlbmQtY2FsbC1mb3ItYWxsLWJ1dHRvblwiLCBvbkNsaWNrOiBvbkVuZCwgY2hpbGRyZW46IFtqc3goSWNvbiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19idXR0b25fX2ljb24gc3RyLXZpZGVvX19lbmQtY2FsbF9fZW5kLWljb25cIiwgaWNvbjogXCJjYWxsLWVuZFwiIH0pLCB0KCdFbmQgY2FsbCBmb3IgYWxsJyldIH0pIH0pXSB9KSk7XG59O1xuY29uc3QgQ2FuY2VsQ2FsbFRvZ2dsZU1lbnVCdXR0b24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uIENhbmNlbENhbGxUb2dnbGVNZW51QnV0dG9uKHsgbWVudVNob3duIH0sIHJlZikge1xuICAgIGNvbnN0IHsgdCB9ID0gdXNlSTE4bigpO1xuICAgIHJldHVybiAoanN4KFdpdGhUb29sdGlwLCB7IHRpdGxlOiB0KCdMZWF2ZSBjYWxsJyksIHRvb2x0aXBEaXNhYmxlZDogbWVudVNob3duLCBjaGlsZHJlbjoganN4KEljb25CdXR0b24sIHsgaWNvbjogbWVudVNob3duID8gJ2Nsb3NlJyA6ICdjYWxsLWVuZCcsIHZhcmlhbnQ6IG1lbnVTaG93biA/ICdhY3RpdmUnIDogJ2RhbmdlcicsIFwiZGF0YS10ZXN0aWRcIjogXCJsZWF2ZS1jYWxsLWJ1dHRvblwiLCByZWY6IHJlZiB9KSB9KSk7XG59KTtcbmNvbnN0IENhbmNlbENhbGxDb25maXJtQnV0dG9uID0gKHsgb25DbGljaywgb25MZWF2ZSwgfSkgPT4ge1xuICAgIGNvbnN0IGNhbGwgPSB1c2VDYWxsKCk7XG4gICAgY29uc3QgaGFuZGxlTGVhdmUgPSB1c2VDYWxsYmFjayhhc3luYyAoZSkgPT4ge1xuICAgICAgICBpZiAob25DbGljaykge1xuICAgICAgICAgICAgb25DbGljayhlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjYWxsKSB7XG4gICAgICAgICAgICBhd2FpdCBjYWxsLmxlYXZlKCk7XG4gICAgICAgICAgICBvbkxlYXZlPy4oKTtcbiAgICAgICAgfVxuICAgIH0sIFtvbkNsaWNrLCBvbkxlYXZlLCBjYWxsXSk7XG4gICAgY29uc3QgaGFuZGxlRW5kQ2FsbCA9IHVzZUNhbGxiYWNrKGFzeW5jIChlKSA9PiB7XG4gICAgICAgIGlmIChvbkNsaWNrKSB7XG4gICAgICAgICAgICBvbkNsaWNrKGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNhbGwpIHtcbiAgICAgICAgICAgIGF3YWl0IGNhbGwuZW5kQ2FsbCgpO1xuICAgICAgICAgICAgb25MZWF2ZT8uKCk7XG4gICAgICAgIH1cbiAgICB9LCBbb25DbGljaywgb25MZWF2ZSwgY2FsbF0pO1xuICAgIHJldHVybiAoanN4KE1lbnVUb2dnbGUsIHsgcGxhY2VtZW50OiBcInRvcC1zdGFydFwiLCBUb2dnbGVCdXR0b246IENhbmNlbENhbGxUb2dnbGVNZW51QnV0dG9uLCBjaGlsZHJlbjoganN4KEVuZENhbGxNZW51LCB7IG9uRW5kOiBoYW5kbGVFbmRDYWxsLCBvbkxlYXZlOiBoYW5kbGVMZWF2ZSB9KSB9KSk7XG59O1xuY29uc3QgQ2FuY2VsQ2FsbEJ1dHRvbiA9ICh7IGRpc2FibGVkLCBjYXB0aW9uLCBvbkNsaWNrLCBvbkxlYXZlLCB9KSA9PiB7XG4gICAgY29uc3QgY2FsbCA9IHVzZUNhbGwoKTtcbiAgICBjb25zdCB7IHQgfSA9IHVzZUkxOG4oKTtcbiAgICBjb25zdCBoYW5kbGVDbGljayA9IHVzZUNhbGxiYWNrKGFzeW5jIChlKSA9PiB7XG4gICAgICAgIGlmIChvbkNsaWNrKSB7XG4gICAgICAgICAgICBvbkNsaWNrKGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNhbGwpIHtcbiAgICAgICAgICAgIGF3YWl0IGNhbGwubGVhdmUoKTtcbiAgICAgICAgICAgIG9uTGVhdmU/LigpO1xuICAgICAgICB9XG4gICAgfSwgW29uQ2xpY2ssIG9uTGVhdmUsIGNhbGxdKTtcbiAgICByZXR1cm4gKGpzeChJY29uQnV0dG9uLCB7IGRpc2FibGVkOiBkaXNhYmxlZCwgaWNvbjogXCJjYWxsLWVuZFwiLCB2YXJpYW50OiBcImRhbmdlclwiLCB0aXRsZTogY2FwdGlvbiA/PyB0KCdMZWF2ZSBjYWxsJyksIFwiZGF0YS10ZXN0aWRcIjogXCJjYW5jZWwtY2FsbC1idXR0b25cIiwgb25DbGljazogaGFuZGxlQ2xpY2sgfSkpO1xufTtcblxuY29uc3QgQ2FsbENvbnRyb2xzID0gKHsgb25MZWF2ZSB9KSA9PiAoanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtY29udHJvbHNcIiwgY2hpbGRyZW46IFtqc3goUmVzdHJpY3RlZCwgeyByZXF1aXJlZEdyYW50czogW093bkNhcGFiaWxpdHkuU0VORF9BVURJT10sIGNoaWxkcmVuOiBqc3goU3BlYWtpbmdXaGlsZU11dGVkTm90aWZpY2F0aW9uLCB7IGNoaWxkcmVuOiBqc3goVG9nZ2xlQXVkaW9QdWJsaXNoaW5nQnV0dG9uLCB7fSkgfSkgfSksIGpzeChSZXN0cmljdGVkLCB7IHJlcXVpcmVkR3JhbnRzOiBbT3duQ2FwYWJpbGl0eS5TRU5EX1ZJREVPXSwgY2hpbGRyZW46IGpzeChUb2dnbGVWaWRlb1B1Ymxpc2hpbmdCdXR0b24sIHt9KSB9KSwganN4KFJlc3RyaWN0ZWQsIHsgcmVxdWlyZWRHcmFudHM6IFtPd25DYXBhYmlsaXR5LkNSRUFURV9SRUFDVElPTl0sIGNoaWxkcmVuOiBqc3goUmVhY3Rpb25zQnV0dG9uLCB7fSkgfSksIGpzeChSZXN0cmljdGVkLCB7IHJlcXVpcmVkR3JhbnRzOiBbT3duQ2FwYWJpbGl0eS5TQ1JFRU5TSEFSRV0sIGNoaWxkcmVuOiBqc3goU2NyZWVuU2hhcmVCdXR0b24sIHt9KSB9KSwganN4KFJlc3RyaWN0ZWQsIHsgcmVxdWlyZWRHcmFudHM6IFtcbiAgICAgICAgICAgICAgICBPd25DYXBhYmlsaXR5LlNUQVJUX1JFQ09SRF9DQUxMLFxuICAgICAgICAgICAgICAgIE93bkNhcGFiaWxpdHkuU1RPUF9SRUNPUkRfQ0FMTCxcbiAgICAgICAgICAgIF0sIGNoaWxkcmVuOiBqc3goUmVjb3JkQ2FsbEJ1dHRvbiwge30pIH0pLCBqc3goQ2FuY2VsQ2FsbEJ1dHRvbiwgeyBvbkxlYXZlOiBvbkxlYXZlIH0pXSB9KSk7XG5cbmNvbnN0IENhbGxTdGF0c0xhdGVuY3lDaGFydCA9IGxhenkoKCkgPT4gaW1wb3J0KCcuL2xhdGVuY3ktY2hhcnQtQmo1T1NZemcuZXMuanMnKSk7XG52YXIgU3RhdHVzO1xuKGZ1bmN0aW9uIChTdGF0dXMpIHtcbiAgICBTdGF0dXNbXCJHT09EXCJdID0gXCJHb29kXCI7XG4gICAgU3RhdHVzW1wiT0tcIl0gPSBcIk9rXCI7XG4gICAgU3RhdHVzW1wiQkFEXCJdID0gXCJCYWRcIjtcbn0pKFN0YXR1cyB8fCAoU3RhdHVzID0ge30pKTtcbmNvbnN0IENhbGxTdGF0cyA9IChwcm9wcykgPT4ge1xuICAgIGNvbnN0IHsgbGF0ZW5jeUxvd0JvdW5kID0gNzUsIGxhdGVuY3lIaWdoQm91bmQgPSA0MDAsIHNob3dDb2RlY0luZm8gPSBmYWxzZSwgTGF0ZW5jeUNoYXJ0U3VzcGVuc2VGYWxsYmFjayA9IG51bGwsIH0gPSBwcm9wcztcbiAgICBjb25zdCBbbGF0ZW5jeUJ1ZmZlciwgc2V0TGF0ZW5jeUJ1ZmZlcl0gPSB1c2VTdGF0ZSgoKSA9PiB7XG4gICAgICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKHsgbGVuZ3RoOiAyMCB9LCAoXywgaSkgPT4gKHsgeDogbm93ICsgaSwgeTogMCB9KSk7XG4gICAgfSk7XG4gICAgY29uc3QgeyB0IH0gPSB1c2VJMThuKCk7XG4gICAgY29uc3QgW3B1Ymxpc2hCaXRyYXRlLCBzZXRQdWJsaXNoQml0cmF0ZV0gPSB1c2VTdGF0ZSgnLScpO1xuICAgIGNvbnN0IFtzdWJzY3JpYmVCaXRyYXRlLCBzZXRTdWJzY3JpYmVCaXRyYXRlXSA9IHVzZVN0YXRlKCctJyk7XG4gICAgY29uc3QgcHJldmlvdXNTdGF0cyA9IHVzZVJlZigpO1xuICAgIGNvbnN0IHsgdXNlQ2FsbFN0YXRzUmVwb3J0IH0gPSB1c2VDYWxsU3RhdGVIb29rcygpO1xuICAgIGNvbnN0IGNhbGxTdGF0c1JlcG9ydCA9IHVzZUNhbGxTdGF0c1JlcG9ydCgpO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICghY2FsbFN0YXRzUmVwb3J0KVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBpZiAoIXByZXZpb3VzU3RhdHMuY3VycmVudCkge1xuICAgICAgICAgICAgcHJldmlvdXNTdGF0cy5jdXJyZW50ID0gY2FsbFN0YXRzUmVwb3J0O1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHByZXZpb3VzQ2FsbFN0YXRzUmVwb3J0ID0gcHJldmlvdXNTdGF0cy5jdXJyZW50O1xuICAgICAgICBzZXRQdWJsaXNoQml0cmF0ZSgoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gY2FsY3VsYXRlUHVibGlzaEJpdHJhdGUocHJldmlvdXNDYWxsU3RhdHNSZXBvcnQsIGNhbGxTdGF0c1JlcG9ydCk7XG4gICAgICAgIH0pO1xuICAgICAgICBzZXRTdWJzY3JpYmVCaXRyYXRlKCgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBjYWxjdWxhdGVTdWJzY3JpYmVCaXRyYXRlKHByZXZpb3VzQ2FsbFN0YXRzUmVwb3J0LCBjYWxsU3RhdHNSZXBvcnQpO1xuICAgICAgICB9KTtcbiAgICAgICAgc2V0TGF0ZW5jeUJ1ZmZlcigobGF0ZW5jeUJ1ZikgPT4ge1xuICAgICAgICAgICAgY29uc3QgbmV3TGF0ZW5jeUJ1ZmZlciA9IGxhdGVuY3lCdWYuc2xpY2UoLTE5KTtcbiAgICAgICAgICAgIG5ld0xhdGVuY3lCdWZmZXIucHVzaCh7XG4gICAgICAgICAgICAgICAgeDogY2FsbFN0YXRzUmVwb3J0LnRpbWVzdGFtcCxcbiAgICAgICAgICAgICAgICB5OiBjYWxsU3RhdHNSZXBvcnQucHVibGlzaGVyU3RhdHMuYXZlcmFnZVJvdW5kVHJpcFRpbWVJbk1zLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gbmV3TGF0ZW5jeUJ1ZmZlcjtcbiAgICAgICAgfSk7XG4gICAgICAgIHByZXZpb3VzU3RhdHMuY3VycmVudCA9IGNhbGxTdGF0c1JlcG9ydDtcbiAgICB9LCBbY2FsbFN0YXRzUmVwb3J0XSk7XG4gICAgY29uc3QgbGF0ZW5jeUNvbXBhcmlzb24gPSB7XG4gICAgICAgIGxvd0JvdW5kOiBsYXRlbmN5TG93Qm91bmQsXG4gICAgICAgIGhpZ2hCb3VuZDogbGF0ZW5jeUhpZ2hCb3VuZCxcbiAgICAgICAgdmFsdWU6IGNhbGxTdGF0c1JlcG9ydD8ucHVibGlzaGVyU3RhdHMuYXZlcmFnZVJvdW5kVHJpcFRpbWVJbk1zIHx8IDAsXG4gICAgfTtcbiAgICByZXR1cm4gKGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtc3RhdHNcIiwgY2hpbGRyZW46IGNhbGxTdGF0c1JlcG9ydCAmJiAoanN4cyhGcmFnbWVudCwgeyBjaGlsZHJlbjogW2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLXN0YXRzX19oZWFkZXJcIiwgY2hpbGRyZW46IFtqc3hzKFwiaDNcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLXN0YXRzX19oZWFkaW5nXCIsIGNoaWxkcmVuOiBbanN4KEljb24sIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fY2FsbC1zdGF0c19faWNvblwiLCBpY29uOiBcImNhbGwtbGF0ZW5jeVwiIH0pLCB0KCdDYWxsIExhdGVuY3knKV0gfSksIGpzeChcInBcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLXN0YXRzX19kZXNjcmlwdGlvblwiLCBjaGlsZHJlbjogdCgnVmVyeSBoaWdoIGxhdGVuY3kgdmFsdWVzIG1heSByZWR1Y2UgY2FsbCBxdWFsaXR5LCBjYXVzZSBsYWcsIGFuZCBtYWtlIHRoZSBjYWxsIGxlc3MgZW5qb3lhYmxlLicpIH0pXSB9KSwganN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fY2FsbC1zdGF0c19fbGF0ZW5jeWNoYXJ0XCIsIGNoaWxkcmVuOiBqc3goU3VzcGVuc2UsIHsgZmFsbGJhY2s6IExhdGVuY3lDaGFydFN1c3BlbnNlRmFsbGJhY2ssIGNoaWxkcmVuOiBqc3goQ2FsbFN0YXRzTGF0ZW5jeUNoYXJ0LCB7IHZhbHVlczogbGF0ZW5jeUJ1ZmZlciB9KSB9KSB9KSwganN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtc3RhdHNfX2hlYWRlclwiLCBjaGlsZHJlbjogW2pzeHMoXCJoM1wiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtc3RhdHNfX2hlYWRpbmdcIiwgY2hpbGRyZW46IFtqc3goSWNvbiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLXN0YXRzX19pY29uXCIsIGljb246IFwibmV0d29yay1xdWFsaXR5XCIgfSksIHQoJ0NhbGwgcGVyZm9ybWFuY2UnKV0gfSksIGpzeChcInBcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLXN0YXRzX19kZXNjcmlwdGlvblwiLCBjaGlsZHJlbjogdCgnUmV2aWV3IHRoZSBrZXkgZGF0YSBwb2ludHMgYmVsb3cgdG8gYXNzZXNzIGNhbGwgcGVyZm9ybWFuY2UnKSB9KV0gfSksIGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLXN0YXRzX19jYXJkLWNvbnRhaW5lclwiLCBjaGlsZHJlbjogW2pzeChTdGF0Q2FyZCwgeyBsYWJlbDogdCgnUmVnaW9uJyksIHZhbHVlOiBjYWxsU3RhdHNSZXBvcnQuZGF0YWNlbnRlciB9KSwganN4KFN0YXRDYXJkLCB7IGxhYmVsOiB0KCdMYXRlbmN5JyksIHZhbHVlOiBgJHtjYWxsU3RhdHNSZXBvcnQucHVibGlzaGVyU3RhdHMuYXZlcmFnZVJvdW5kVHJpcFRpbWVJbk1zfSBtcy5gLCBjb21wYXJpc29uOiBsYXRlbmN5Q29tcGFyaXNvbiB9KSwganN4KFN0YXRDYXJkLCB7IGxhYmVsOiB0KCdSZWNlaXZlIGppdHRlcicpLCB2YWx1ZTogYCR7Y2FsbFN0YXRzUmVwb3J0LnN1YnNjcmliZXJTdGF0cy5hdmVyYWdlSml0dGVySW5Nc30gbXMuYCwgY29tcGFyaXNvbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5sYXRlbmN5Q29tcGFyaXNvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGNhbGxTdGF0c1JlcG9ydC5zdWJzY3JpYmVyU3RhdHMuYXZlcmFnZUppdHRlckluTXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSB9KSwganN4KFN0YXRDYXJkLCB7IGxhYmVsOiB0KCdQdWJsaXNoIGppdHRlcicpLCB2YWx1ZTogYCR7Y2FsbFN0YXRzUmVwb3J0LnB1Ymxpc2hlclN0YXRzLmF2ZXJhZ2VKaXR0ZXJJbk1zfSBtcy5gLCBjb21wYXJpc29uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmxhdGVuY3lDb21wYXJpc29uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogY2FsbFN0YXRzUmVwb3J0LnB1Ymxpc2hlclN0YXRzLmF2ZXJhZ2VKaXR0ZXJJbk1zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gfSksIGpzeChTdGF0Q2FyZCwgeyBsYWJlbDogYCR7dCgnUHVibGlzaCByZXNvbHV0aW9uJyl9JHtzaG93Q29kZWNJbmZvID8gZm9ybWF0Q29kZWMoY2FsbFN0YXRzUmVwb3J0KSA6ICcnfWAsIHZhbHVlOiB0b0ZyYW1lU2l6ZShjYWxsU3RhdHNSZXBvcnQucHVibGlzaGVyU3RhdHMpIH0pLCBqc3goU3RhdENhcmQsIHsgbGFiZWw6IHQoJ1B1Ymxpc2ggcXVhbGl0eSBkcm9wIHJlYXNvbicpLCB2YWx1ZTogY2FsbFN0YXRzUmVwb3J0LnB1Ymxpc2hlclN0YXRzLnF1YWxpdHlMaW1pdGF0aW9uUmVhc29ucyB9KSwganN4KFN0YXRDYXJkLCB7IGxhYmVsOiB0KCdSZWNlaXZpbmcgcmVzb2x1dGlvbicpLCB2YWx1ZTogdG9GcmFtZVNpemUoY2FsbFN0YXRzUmVwb3J0LnN1YnNjcmliZXJTdGF0cykgfSksIGpzeChTdGF0Q2FyZCwgeyBsYWJlbDogdCgnUmVjZWl2ZSBxdWFsaXR5IGRyb3AgcmVhc29uJyksIHZhbHVlOiBjYWxsU3RhdHNSZXBvcnQuc3Vic2NyaWJlclN0YXRzLnF1YWxpdHlMaW1pdGF0aW9uUmVhc29ucyB9KSwganN4KFN0YXRDYXJkLCB7IGxhYmVsOiB0KCdQdWJsaXNoIGJpdHJhdGUnKSwgdmFsdWU6IHB1Ymxpc2hCaXRyYXRlIH0pLCBqc3goU3RhdENhcmQsIHsgbGFiZWw6IHQoJ1JlY2VpdmluZyBiaXRyYXRlJyksIHZhbHVlOiBzdWJzY3JpYmVCaXRyYXRlIH0pXSB9KV0gfSkpIH0pKTtcbn07XG5jb25zdCBTdGF0Q2FyZEV4cGxhbmF0aW9uID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgeyBkZXNjcmlwdGlvbiB9ID0gcHJvcHM7XG4gICAgY29uc3QgW2lzT3Blbiwgc2V0SXNPcGVuXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCB7IHJlZnMsIGZsb2F0aW5nU3R5bGVzLCBjb250ZXh0IH0gPSB1c2VGbG9hdGluZyh7XG4gICAgICAgIG9wZW46IGlzT3BlbixcbiAgICAgICAgb25PcGVuQ2hhbmdlOiBzZXRJc09wZW4sXG4gICAgfSk7XG4gICAgY29uc3QgaG92ZXIgPSB1c2VIb3Zlcihjb250ZXh0KTtcbiAgICBjb25zdCB7IGdldFJlZmVyZW5jZVByb3BzLCBnZXRGbG9hdGluZ1Byb3BzIH0gPSB1c2VJbnRlcmFjdGlvbnMoW2hvdmVyXSk7XG4gICAgcmV0dXJuIChqc3hzKEZyYWdtZW50LCB7IGNoaWxkcmVuOiBbanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fY2FsbC1leHBsYW5hdGlvblwiLCByZWY6IHJlZnMuc2V0UmVmZXJlbmNlLCAuLi5nZXRSZWZlcmVuY2VQcm9wcygpLCBjaGlsZHJlbjoganN4KEljb24sIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fY2FsbC1leHBsYW5hdGlvbl9faWNvblwiLCBpY29uOiBcImluZm9cIiB9KSB9KSwgaXNPcGVuICYmIChqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLWV4cGxhbmF0aW9uX19kZXNjcmlwdGlvblwiLCByZWY6IHJlZnMuc2V0RmxvYXRpbmcsIHN0eWxlOiBmbG9hdGluZ1N0eWxlcywgLi4uZ2V0RmxvYXRpbmdQcm9wcygpLCBjaGlsZHJlbjogZGVzY3JpcHRpb24gfSkpXSB9KSk7XG59O1xuY29uc3QgU3RhdHNUYWcgPSAocHJvcHMpID0+IHtcbiAgICBjb25zdCB7IGNoaWxkcmVuLCBzdGF0dXMgfSA9IHByb3BzO1xuICAgIHJldHVybiAoanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBjbHN4KCdzdHItdmlkZW9fX2NhbGwtc3RhdHNfX3RhZycsIHtcbiAgICAgICAgICAgICdzdHItdmlkZW9fX2NhbGwtc3RhdHNfX3RhZy0tZ29vZCc6IHN0YXR1cyA9PT0gU3RhdHVzLkdPT0QsXG4gICAgICAgICAgICAnc3RyLXZpZGVvX19jYWxsLXN0YXRzX190YWctLW9rJzogc3RhdHVzID09PSBTdGF0dXMuT0ssXG4gICAgICAgICAgICAnc3RyLXZpZGVvX19jYWxsLXN0YXRzX190YWctLWJhZCc6IHN0YXR1cyA9PT0gU3RhdHVzLkJBRCxcbiAgICAgICAgfSksIGNoaWxkcmVuOiBqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLXN0YXRzX190YWdfX3RleHRcIiwgY2hpbGRyZW46IGNoaWxkcmVuIH0pIH0pKTtcbn07XG5jb25zdCBTdGF0Q2FyZCA9IChwcm9wcykgPT4ge1xuICAgIGNvbnN0IHsgbGFiZWwsIHZhbHVlLCBkZXNjcmlwdGlvbiwgY29tcGFyaXNvbiB9ID0gcHJvcHM7XG4gICAgY29uc3QgeyB0IH0gPSB1c2VJMThuKCk7XG4gICAgY29uc3Qgc3RhdHVzID0gY29tcGFyaXNvbiA/IHRvU3RhdHVzKGNvbXBhcmlzb24pIDogdW5kZWZpbmVkO1xuICAgIHJldHVybiAoanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtc3RhdHNfX2NhcmRcIiwgY2hpbGRyZW46IFtqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fY2FsbC1zdGF0c19fY2FyZC1jb250ZW50XCIsIGNoaWxkcmVuOiBbanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtc3RhdHNfX2NhcmQtbGFiZWxcIiwgY2hpbGRyZW46IFtsYWJlbCwgZGVzY3JpcHRpb24gJiYganN4KFN0YXRDYXJkRXhwbGFuYXRpb24sIHsgZGVzY3JpcHRpb246IGRlc2NyaXB0aW9uIH0pXSB9KSwganN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fY2FsbC1zdGF0c19fY2FyZC12YWx1ZVwiLCBjaGlsZHJlbjogdmFsdWUgfSldIH0pLCBzdGF0dXMgJiYganN4KFN0YXRzVGFnLCB7IHN0YXR1czogc3RhdHVzLCBjaGlsZHJlbjogdChzdGF0dXMpIH0pXSB9KSk7XG59O1xuY29uc3QgdG9TdGF0dXMgPSAoY29uZmlnKSA9PiB7XG4gICAgY29uc3QgeyB2YWx1ZSwgbG93Qm91bmQsIGhpZ2hCb3VuZCB9ID0gY29uZmlnO1xuICAgIGlmICh2YWx1ZSA8PSBsb3dCb3VuZClcbiAgICAgICAgcmV0dXJuIFN0YXR1cy5HT09EO1xuICAgIGlmICh2YWx1ZSA+PSBsb3dCb3VuZCAmJiB2YWx1ZSA8PSBoaWdoQm91bmQpXG4gICAgICAgIHJldHVybiBTdGF0dXMuT0s7XG4gICAgaWYgKHZhbHVlID49IGhpZ2hCb3VuZClcbiAgICAgICAgcmV0dXJuIFN0YXR1cy5CQUQ7XG4gICAgcmV0dXJuIFN0YXR1cy5HT09EO1xufTtcbmNvbnN0IHRvRnJhbWVTaXplID0gKHN0YXRzKSA9PiB7XG4gICAgY29uc3QgeyBoaWdoZXN0RnJhbWVXaWR0aDogdywgaGlnaGVzdEZyYW1lSGVpZ2h0OiBoLCBoaWdoZXN0RnJhbWVzUGVyU2Vjb25kOiBmcHMsIH0gPSBzdGF0cztcbiAgICBsZXQgc2l6ZSA9IGAtYDtcbiAgICBpZiAodyAmJiBoKSB7XG4gICAgICAgIHNpemUgPSBgJHt3fXgke2h9YDtcbiAgICAgICAgaWYgKGZwcykge1xuICAgICAgICAgICAgc2l6ZSArPSBgQCR7ZnBzfWZwcy5gO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzaXplO1xufTtcbmNvbnN0IGZvcm1hdENvZGVjID0gKGNhbGxTdGF0c1JlcG9ydCkgPT4ge1xuICAgIGNvbnN0IHsgY29kZWMgfSA9IGNhbGxTdGF0c1JlcG9ydC5wdWJsaXNoZXJTdGF0cztcbiAgICBpZiAoIWNvZGVjKVxuICAgICAgICByZXR1cm4gJyc7XG4gICAgY29uc3QgWywgbmFtZV0gPSBjb2RlYy5zcGxpdCgnLycpO1xuICAgIHJldHVybiBuYW1lID8gYCAoJHtuYW1lfSlgIDogJyc7XG59O1xuY29uc3QgY2FsY3VsYXRlUHVibGlzaEJpdHJhdGUgPSAocHJldmlvdXNDYWxsU3RhdHNSZXBvcnQsIGNhbGxTdGF0c1JlcG9ydCkgPT4ge1xuICAgIGNvbnN0IHsgcHVibGlzaGVyU3RhdHM6IHsgdG90YWxCeXRlc1NlbnQ6IHByZXZpb3VzVG90YWxCeXRlc1NlbnQsIHRpbWVzdGFtcDogcHJldmlvdXNUaW1lc3RhbXAsIH0sIH0gPSBwcmV2aW91c0NhbGxTdGF0c1JlcG9ydDtcbiAgICBjb25zdCB7IHB1Ymxpc2hlclN0YXRzOiB7IHRvdGFsQnl0ZXNTZW50LCB0aW1lc3RhbXAgfSwgfSA9IGNhbGxTdGF0c1JlcG9ydDtcbiAgICBjb25zdCBieXRlc1NlbnQgPSB0b3RhbEJ5dGVzU2VudCAtIHByZXZpb3VzVG90YWxCeXRlc1NlbnQ7XG4gICAgY29uc3QgdGltZUVsYXBzZWQgPSB0aW1lc3RhbXAgLSBwcmV2aW91c1RpbWVzdGFtcDtcbiAgICByZXR1cm4gYCR7KChieXRlc1NlbnQgKiA4KSAvIHRpbWVFbGFwc2VkKS50b0ZpeGVkKDIpfSBrYnBzYDtcbn07XG5jb25zdCBjYWxjdWxhdGVTdWJzY3JpYmVCaXRyYXRlID0gKHByZXZpb3VzQ2FsbFN0YXRzUmVwb3J0LCBjYWxsU3RhdHNSZXBvcnQpID0+IHtcbiAgICBjb25zdCB7IHN1YnNjcmliZXJTdGF0czogeyB0b3RhbEJ5dGVzUmVjZWl2ZWQ6IHByZXZpb3VzVG90YWxCeXRlc1JlY2VpdmVkLCB0aW1lc3RhbXA6IHByZXZpb3VzVGltZXN0YW1wLCB9LCB9ID0gcHJldmlvdXNDYWxsU3RhdHNSZXBvcnQ7XG4gICAgY29uc3QgeyBzdWJzY3JpYmVyU3RhdHM6IHsgdG90YWxCeXRlc1JlY2VpdmVkLCB0aW1lc3RhbXAgfSwgfSA9IGNhbGxTdGF0c1JlcG9ydDtcbiAgICBjb25zdCBieXRlc1JlY2VpdmVkID0gdG90YWxCeXRlc1JlY2VpdmVkIC0gcHJldmlvdXNUb3RhbEJ5dGVzUmVjZWl2ZWQ7XG4gICAgY29uc3QgdGltZUVsYXBzZWQgPSB0aW1lc3RhbXAgLSBwcmV2aW91c1RpbWVzdGFtcDtcbiAgICByZXR1cm4gYCR7KChieXRlc1JlY2VpdmVkICogOCkgLyB0aW1lRWxhcHNlZCkudG9GaXhlZCgyKX0ga2Jwc2A7XG59O1xuXG5jb25zdCBDYWxsU3RhdHNCdXR0b24gPSAoKSA9PiAoanN4KE1lbnVUb2dnbGUsIHsgcGxhY2VtZW50OiBcInRvcC1lbmRcIiwgVG9nZ2xlQnV0dG9uOiBUb2dnbGVNZW51QnV0dG9uLCBjaGlsZHJlbjoganN4KENhbGxTdGF0cywge30pIH0pKTtcbmNvbnN0IFRvZ2dsZU1lbnVCdXR0b24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uIFRvZ2dsZU1lbnVCdXR0b24ocHJvcHMsIHJlZikge1xuICAgIGNvbnN0IHsgdCB9ID0gdXNlSTE4bigpO1xuICAgIGNvbnN0IHsgY2FwdGlvbiwgbWVudVNob3duIH0gPSBwcm9wcztcbiAgICByZXR1cm4gKGpzeChDb21wb3NpdGVCdXR0b24sIHsgcmVmOiByZWYsIGFjdGl2ZTogbWVudVNob3duLCBjYXB0aW9uOiBjYXB0aW9uLCB0aXRsZTogY2FwdGlvbiB8fCB0KCdTdGF0aXN0aWNzJyksIFwiZGF0YS10ZXN0aWRcIjogXCJzdGF0cy1idXR0b25cIiwgY2hpbGRyZW46IGpzeChJY29uLCB7IGljb246IFwic3RhdHNcIiB9KSB9KSk7XG59KTtcblxuY29uc3QgVG9nZ2xlQXVkaW9PdXRwdXRCdXR0b24gPSAocHJvcHMpID0+IHtcbiAgICBjb25zdCB7IHQgfSA9IHVzZUkxOG4oKTtcbiAgICBjb25zdCB7IGNhcHRpb24sIE1lbnUgPSBEZXZpY2VTZWxlY3RvckF1ZGlvT3V0cHV0LCBtZW51UGxhY2VtZW50ID0gJ3RvcCcsIG9uTWVudVRvZ2dsZSwgfSA9IHByb3BzO1xuICAgIGNvbnN0IFt0b29sdGlwRGlzYWJsZWQsIHNldFRvb2x0aXBEaXNhYmxlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgcmV0dXJuIChqc3goV2l0aFRvb2x0aXAsIHsgdGl0bGU6IGNhcHRpb24gfHwgdCgnU3BlYWtlcnMnKSwgdG9vbHRpcERpc2FibGVkOiB0b29sdGlwRGlzYWJsZWQsIGNoaWxkcmVuOiBqc3goQ29tcG9zaXRlQnV0dG9uLCB7IE1lbnU6IE1lbnUsIG1lbnVQbGFjZW1lbnQ6IG1lbnVQbGFjZW1lbnQsIGNhcHRpb246IGNhcHRpb24sIFwiZGF0YS10ZXN0aWRcIjogXCJhdWRpby1vdXRwdXQtYnV0dG9uXCIsIG9uTWVudVRvZ2dsZTogKHNob3duKSA9PiB7XG4gICAgICAgICAgICAgICAgc2V0VG9vbHRpcERpc2FibGVkKHNob3duKTtcbiAgICAgICAgICAgICAgICBvbk1lbnVUb2dnbGU/LihzaG93bik7XG4gICAgICAgICAgICB9LCBjaGlsZHJlbjoganN4KEljb24sIHsgaWNvbjogXCJzcGVha2VyXCIgfSkgfSkgfSkpO1xufTtcblxuY29uc3QgQmxvY2tlZFVzZXJMaXN0aW5nID0gKHsgZGF0YSB9KSA9PiB7XG4gICAgaWYgKCFkYXRhLmxlbmd0aClcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgcmV0dXJuIChqc3goRnJhZ21lbnQsIHsgY2hpbGRyZW46IGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3BhcnRpY2lwYW50LWxpc3RpbmdcIiwgY2hpbGRyZW46IGRhdGEubWFwKCh1c2VySWQpID0+IChqc3goQmxvY2tlZFVzZXJMaXN0aW5nSXRlbSwgeyB1c2VySWQ6IHVzZXJJZCB9LCB1c2VySWQpKSkgfSkgfSkpO1xufTtcbmNvbnN0IEJsb2NrZWRVc2VyTGlzdGluZ0l0ZW0gPSAoeyB1c2VySWQgfSkgPT4ge1xuICAgIGNvbnN0IGNhbGwgPSB1c2VDYWxsKCk7XG4gICAgY29uc3QgdW5ibG9ja1VzZXJDbGlja0hhbmRsZXIgPSAoKSA9PiB7XG4gICAgICAgIGlmICh1c2VySWQpXG4gICAgICAgICAgICBjYWxsPy51bmJsb2NrVXNlcih1c2VySWQpO1xuICAgIH07XG4gICAgcmV0dXJuIChqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fcGFydGljaXBhbnQtbGlzdGluZy1pdGVtXCIsIGNoaWxkcmVuOiBbanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fcGFydGljaXBhbnQtbGlzdGluZy1pdGVtX19kaXNwbGF5LW5hbWVcIiwgY2hpbGRyZW46IHVzZXJJZCB9KSwganN4KFJlc3RyaWN0ZWQsIHsgcmVxdWlyZWRHcmFudHM6IFtPd25DYXBhYmlsaXR5LkJMT0NLX1VTRVJTXSwgY2hpbGRyZW46IGpzeChUZXh0QnV0dG9uLCB7IG9uQ2xpY2s6IHVuYmxvY2tVc2VyQ2xpY2tIYW5kbGVyLCBjaGlsZHJlbjogXCJVbmJsb2NrXCIgfSkgfSldIH0pKTtcbn07XG5cbmNvbnN0IENhbGxQYXJ0aWNpcGFudExpc3RIZWFkZXIgPSAoeyBvbkNsb3NlLCB9KSA9PiB7XG4gICAgY29uc3QgeyB1c2VQYXJ0aWNpcGFudHMsIHVzZUFub255bW91c1BhcnRpY2lwYW50Q291bnQgfSA9IHVzZUNhbGxTdGF0ZUhvb2tzKCk7XG4gICAgY29uc3QgcGFydGljaXBhbnRzID0gdXNlUGFydGljaXBhbnRzKCk7XG4gICAgY29uc3QgYW5vbnltb3VzUGFydGljaXBhbnRDb3VudCA9IHVzZUFub255bW91c1BhcnRpY2lwYW50Q291bnQoKTtcbiAgICBjb25zdCB7IHQgfSA9IHVzZUkxOG4oKTtcbiAgICByZXR1cm4gKGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19wYXJ0aWNpcGFudC1saXN0LWhlYWRlclwiLCBjaGlsZHJlbjogW2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19wYXJ0aWNpcGFudC1saXN0LWhlYWRlcl9fdGl0bGVcIiwgY2hpbGRyZW46IFt0KCdQYXJ0aWNpcGFudHMnKSwgJyAnLCBqc3hzKFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3BhcnRpY2lwYW50LWxpc3QtaGVhZGVyX190aXRsZS1jb3VudFwiLCBjaGlsZHJlbjogW1wiW1wiLCBwYXJ0aWNpcGFudHMubGVuZ3RoLCBcIl1cIl0gfSksIGFub255bW91c1BhcnRpY2lwYW50Q291bnQgPiAwICYmIChqc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fcGFydGljaXBhbnQtbGlzdC1oZWFkZXJfX3RpdGxlLWFub255bW91c1wiLCBjaGlsZHJlbjogdCgnQW5vbnltb3VzJywgeyBjb3VudDogYW5vbnltb3VzUGFydGljaXBhbnRDb3VudCB9KSB9KSldIH0pLCBqc3goSWNvbkJ1dHRvbiwgeyBvbkNsaWNrOiBvbkNsb3NlLCBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19wYXJ0aWNpcGFudC1saXN0LWhlYWRlcl9fY2xvc2UtYnV0dG9uXCIsIGljb246IFwiY2xvc2VcIiB9KV0gfSkpO1xufTtcblxuY29uc3QgQ2FsbFBhcnRpY2lwYW50TGlzdGluZ0l0ZW0gPSAoeyBwYXJ0aWNpcGFudCwgRGlzcGxheU5hbWUgPSBEZWZhdWx0RGlzcGxheU5hbWUsIH0pID0+IHtcbiAgICBjb25zdCBpc0F1ZGlvT24gPSBoYXNBdWRpbyhwYXJ0aWNpcGFudCk7XG4gICAgY29uc3QgaXNWaWRlb09uID0gaGFzVmlkZW8ocGFydGljaXBhbnQpO1xuICAgIGNvbnN0IGlzUGlubmVkT24gPSBpc1Bpbm5lZChwYXJ0aWNpcGFudCk7XG4gICAgY29uc3QgeyB0IH0gPSB1c2VJMThuKCk7XG4gICAgcmV0dXJuIChqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fcGFydGljaXBhbnQtbGlzdGluZy1pdGVtXCIsIGNoaWxkcmVuOiBbanN4KEF2YXRhciwgeyBuYW1lOiBwYXJ0aWNpcGFudC5uYW1lLCBpbWFnZVNyYzogcGFydGljaXBhbnQuaW1hZ2UgfSksIGpzeChEaXNwbGF5TmFtZSwgeyBwYXJ0aWNpcGFudDogcGFydGljaXBhbnQgfSksIGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19wYXJ0aWNpcGFudC1saXN0aW5nLWl0ZW1fX21lZGlhLWluZGljYXRvci1ncm91cFwiLCBjaGlsZHJlbjogW2pzeChNZWRpYUluZGljYXRvciwgeyB0aXRsZTogaXNBdWRpb09uID8gdCgnTWljcm9waG9uZSBvbicpIDogdCgnTWljcm9waG9uZSBvZmYnKSwgY2xhc3NOYW1lOiBjbHN4KCdzdHItdmlkZW9fX3BhcnRpY2lwYW50LWxpc3RpbmctaXRlbV9faWNvbicsIGBzdHItdmlkZW9fX3BhcnRpY2lwYW50LWxpc3RpbmctaXRlbV9faWNvbi0ke2lzQXVkaW9PbiA/ICdtaWMnIDogJ21pYy1vZmYnfWApIH0pLCBqc3goTWVkaWFJbmRpY2F0b3IsIHsgdGl0bGU6IGlzVmlkZW9PbiA/IHQoJ0NhbWVyYSBvbicpIDogdCgnQ2FtZXJhIG9mZicpLCBjbGFzc05hbWU6IGNsc3goJ3N0ci12aWRlb19fcGFydGljaXBhbnQtbGlzdGluZy1pdGVtX19pY29uJywgYHN0ci12aWRlb19fcGFydGljaXBhbnQtbGlzdGluZy1pdGVtX19pY29uLSR7aXNWaWRlb09uID8gJ2NhbWVyYScgOiAnY2FtZXJhLW9mZid9YCkgfSksIGlzUGlubmVkT24gJiYgKGpzeChNZWRpYUluZGljYXRvciwgeyB0aXRsZTogdCgnUGlubmVkJyksIGNsYXNzTmFtZTogY2xzeCgnc3RyLXZpZGVvX19wYXJ0aWNpcGFudC1saXN0aW5nLWl0ZW1fX2ljb24nLCAnc3RyLXZpZGVvX19wYXJ0aWNpcGFudC1saXN0aW5nLWl0ZW1fX2ljb24tcGlubmVkJykgfSkpLCBqc3goTWVudVRvZ2dsZSwgeyBwbGFjZW1lbnQ6IFwiYm90dG9tLWVuZFwiLCBUb2dnbGVCdXR0b246IFRvZ2dsZUJ1dHRvbiQyLCBjaGlsZHJlbjoganN4KFBhcnRpY2lwYW50Vmlld0NvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IHsgcGFydGljaXBhbnQsIHRyYWNrVHlwZTogJ25vbmUnIH0sIGNoaWxkcmVuOiBqc3goUGFydGljaXBhbnRBY3Rpb25zQ29udGV4dE1lbnUsIHt9KSB9KSB9KV0gfSldIH0pKTtcbn07XG5jb25zdCBNZWRpYUluZGljYXRvciA9IChwcm9wcykgPT4gKGpzeChXaXRoVG9vbHRpcCwgeyAuLi5wcm9wcyB9KSk7XG5jb25zdCBEZWZhdWx0RGlzcGxheU5hbWUgPSAoeyBwYXJ0aWNpcGFudCB9KSA9PiB7XG4gICAgY29uc3QgY29ubmVjdGVkVXNlciA9IHVzZUNvbm5lY3RlZFVzZXIoKTtcbiAgICBjb25zdCB7IHQgfSA9IHVzZUkxOG4oKTtcbiAgICBjb25zdCBtZUZsYWcgPSBwYXJ0aWNpcGFudC51c2VySWQgPT09IGNvbm5lY3RlZFVzZXI/LmlkID8gdCgnTWUnKSA6ICcnO1xuICAgIGNvbnN0IG5hbWVPcklkID0gcGFydGljaXBhbnQubmFtZSB8fCBwYXJ0aWNpcGFudC51c2VySWQgfHwgdCgnVW5rbm93bicpO1xuICAgIGxldCBkaXNwbGF5TmFtZTtcbiAgICBpZiAoIXBhcnRpY2lwYW50Lm5hbWUpIHtcbiAgICAgICAgZGlzcGxheU5hbWUgPSBtZUZsYWcgfHwgbmFtZU9ySWQgfHwgdCgnVW5rbm93bicpO1xuICAgIH1cbiAgICBlbHNlIGlmIChtZUZsYWcpIHtcbiAgICAgICAgZGlzcGxheU5hbWUgPSBgJHtuYW1lT3JJZH0gKCR7bWVGbGFnfSlgO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZGlzcGxheU5hbWUgPSBuYW1lT3JJZDtcbiAgICB9XG4gICAgcmV0dXJuIChqc3goV2l0aFRvb2x0aXAsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fcGFydGljaXBhbnQtbGlzdGluZy1pdGVtX19kaXNwbGF5LW5hbWVcIiwgdGl0bGU6IGRpc3BsYXlOYW1lLCBjaGlsZHJlbjogZGlzcGxheU5hbWUgfSkpO1xufTtcbmNvbnN0IFRvZ2dsZUJ1dHRvbiQyID0gZm9yd2FyZFJlZihmdW5jdGlvbiBUb2dnbGVCdXR0b24ocHJvcHMsIHJlZikge1xuICAgIHJldHVybiBqc3goSWNvbkJ1dHRvbiwgeyBlbmFibGVkOiBwcm9wcy5tZW51U2hvd24sIGljb246IFwiZWxsaXBzaXNcIiwgcmVmOiByZWYgfSk7XG59KTtcblxuY29uc3QgQ2FsbFBhcnRpY2lwYW50TGlzdGluZyA9ICh7IGRhdGEsIH0pID0+IChqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19wYXJ0aWNpcGFudC1saXN0aW5nXCIsIGNoaWxkcmVuOiBkYXRhLm1hcCgocGFydGljaXBhbnQpID0+IChqc3goQ2FsbFBhcnRpY2lwYW50TGlzdGluZ0l0ZW0sIHsgcGFydGljaXBhbnQ6IHBhcnRpY2lwYW50IH0sIHBhcnRpY2lwYW50LnNlc3Npb25JZCkpKSB9KSk7XG5cbmNvbnN0IEVtcHR5UGFydGljaXBhbnRTZWFyY2hMaXN0ID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgdCB9ID0gdXNlSTE4bigpO1xuICAgIHJldHVybiAoanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fcGFydGljaXBhbnQtbGlzdC0tZW1wdHlcIiwgY2hpbGRyZW46IHQoJ05vIHBhcnRpY2lwYW50cyBmb3VuZCcpIH0pKTtcbn07XG5cbmNvbnN0IFNlYXJjaElucHV0ID0gKHsgZXhpdFNlYXJjaCwgaXNBY3RpdmUsIC4uLnJlc3QgfSkgPT4ge1xuICAgIGNvbnN0IFtpbnB1dEVsZW1lbnQsIHNldElucHV0RWxlbWVudF0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIWlucHV0RWxlbWVudClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgaGFuZGxlS2V5RG93biA9IChlKSA9PiB7XG4gICAgICAgICAgICBpZiAoZS5rZXkudG9Mb3dlckNhc2UoKSA9PT0gJ2VzY2FwZScpXG4gICAgICAgICAgICAgICAgZXhpdFNlYXJjaCgpO1xuICAgICAgICB9O1xuICAgICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGhhbmRsZUtleURvd24pO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgaW5wdXRFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoYW5kbGVLZXlEb3duKTtcbiAgICAgICAgfTtcbiAgICB9LCBbZXhpdFNlYXJjaCwgaW5wdXRFbGVtZW50XSk7XG4gICAgcmV0dXJuIChqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBjbHN4KCdzdHItdmlkZW9fX3NlYXJjaC1pbnB1dF9fY29udGFpbmVyJywge1xuICAgICAgICAgICAgJ3N0ci12aWRlb19fc2VhcmNoLWlucHV0X19jb250YWluZXItLWFjdGl2ZSc6IGlzQWN0aXZlLFxuICAgICAgICB9KSwgY2hpbGRyZW46IFtqc3goXCJpbnB1dFwiLCB7IHBsYWNlaG9sZGVyOiBcIlNlYXJjaFwiLCAuLi5yZXN0LCByZWY6IHNldElucHV0RWxlbWVudCB9KSwgaXNBY3RpdmUgPyAoanN4KFwiYnV0dG9uXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fc2VhcmNoLWlucHV0X19jbGVhci1idG5cIiwgb25DbGljazogZXhpdFNlYXJjaCwgY2hpbGRyZW46IGpzeChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19zZWFyY2gtaW5wdXRfX2ljb24tLWFjdGl2ZVwiIH0pIH0pKSA6IChqc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fc2VhcmNoLWlucHV0X19pY29uXCIgfSkpXSB9KSk7XG59O1xuXG5jb25zdCBTZWFyY2hSZXN1bHRzID0gKHsgRW1wdHlTZWFyY2hSZXN1bHRDb21wb25lbnQsIExvYWRpbmdJbmRpY2F0b3I6IExvYWRpbmdJbmRpY2F0b3IkMSA9IExvYWRpbmdJbmRpY2F0b3IsIHNlYXJjaFF1ZXJ5SW5Qcm9ncmVzcywgc2VhcmNoUmVzdWx0cywgU2VhcmNoUmVzdWx0TGlzdCwgfSkgPT4ge1xuICAgIGlmIChzZWFyY2hRdWVyeUluUHJvZ3Jlc3MpIHtcbiAgICAgICAgcmV0dXJuIChqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19zZWFyY2gtcmVzdWx0cy0tbG9hZGluZ1wiLCBjaGlsZHJlbjoganN4KExvYWRpbmdJbmRpY2F0b3IkMSwge30pIH0pKTtcbiAgICB9XG4gICAgaWYgKCFzZWFyY2hSZXN1bHRzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4ganN4KEVtcHR5U2VhcmNoUmVzdWx0Q29tcG9uZW50LCB7fSk7XG4gICAgfVxuICAgIHJldHVybiBqc3goU2VhcmNoUmVzdWx0TGlzdCwgeyBkYXRhOiBzZWFyY2hSZXN1bHRzIH0pO1xufTtcblxuY29uc3QgdXNlU2VhcmNoID0gKHsgZGVib3VuY2VJbnRlcnZhbCwgc2VhcmNoRm4sIHNlYXJjaFF1ZXJ5ID0gJycsIH0pID0+IHtcbiAgICBjb25zdCBbc2VhcmNoUmVzdWx0cywgc2V0U2VhcmNoUmVzdWx0c10gPSB1c2VTdGF0ZShbXSk7XG4gICAgY29uc3QgW3NlYXJjaFF1ZXJ5SW5Qcm9ncmVzcywgc2V0U2VhcmNoUXVlcnlJblByb2dyZXNzXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIXNlYXJjaFF1ZXJ5Lmxlbmd0aCkge1xuICAgICAgICAgICAgc2V0U2VhcmNoUXVlcnlJblByb2dyZXNzKGZhbHNlKTtcbiAgICAgICAgICAgIHNldFNlYXJjaFJlc3VsdHMoW10pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHNldFNlYXJjaFF1ZXJ5SW5Qcm9ncmVzcyh0cnVlKTtcbiAgICAgICAgY29uc3QgdGltZW91dCA9IHNldFRpbWVvdXQoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgc2VhcmNoRm4oc2VhcmNoUXVlcnkpO1xuICAgICAgICAgICAgICAgIHNldFNlYXJjaFJlc3VsdHMocmVzdWx0cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIHNldFNlYXJjaFF1ZXJ5SW5Qcm9ncmVzcyhmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGRlYm91bmNlSW50ZXJ2YWwpO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgICB9O1xuICAgIH0sIFtkZWJvdW5jZUludGVydmFsLCBzZWFyY2hGbiwgc2VhcmNoUXVlcnldKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBzZWFyY2hRdWVyeUluUHJvZ3Jlc3MsXG4gICAgICAgIHNlYXJjaFJlc3VsdHMsXG4gICAgfTtcbn07XG5cbmNvbnN0IFVzZXJMaXN0VHlwZXMgPSB7XG4gICAgYWN0aXZlOiAnQWN0aXZlIHVzZXJzJyxcbiAgICBibG9ja2VkOiAnQmxvY2tlZCB1c2VycycsXG59O1xuY29uc3QgREVGQVVMVF9ERUJPVU5DRV9TRUFSQ0hfSU5URVJWQUwgPSAyMDA7XG5jb25zdCBDYWxsUGFydGljaXBhbnRzTGlzdCA9ICh7IG9uQ2xvc2UsIGFjdGl2ZVVzZXJzU2VhcmNoRm4sIGJsb2NrZWRVc2Vyc1NlYXJjaEZuLCBkZWJvdW5jZVNlYXJjaEludGVydmFsLCB9KSA9PiB7XG4gICAgY29uc3QgW3NlYXJjaFF1ZXJ5LCBzZXRTZWFyY2hRdWVyeV0gPSB1c2VTdGF0ZSgnJyk7XG4gICAgY29uc3QgW3VzZXJMaXN0VHlwZSwgc2V0VXNlckxpc3RUeXBlXSA9IHVzZVN0YXRlKCdhY3RpdmUnKTtcbiAgICBjb25zdCBleGl0U2VhcmNoID0gdXNlQ2FsbGJhY2soKCkgPT4gc2V0U2VhcmNoUXVlcnkoJycpLCBbXSk7XG4gICAgcmV0dXJuIChqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fcGFydGljaXBhbnQtbGlzdFwiLCBjaGlsZHJlbjogW2pzeChDYWxsUGFydGljaXBhbnRMaXN0SGVhZGVyLCB7IG9uQ2xvc2U6IG9uQ2xvc2UgfSksIGpzeChTZWFyY2hJbnB1dCwgeyB2YWx1ZTogc2VhcmNoUXVlcnksIG9uQ2hhbmdlOiAoeyBjdXJyZW50VGFyZ2V0IH0pID0+IHNldFNlYXJjaFF1ZXJ5KGN1cnJlbnRUYXJnZXQudmFsdWUpLCBleGl0U2VhcmNoOiBleGl0U2VhcmNoLCBpc0FjdGl2ZTogISFzZWFyY2hRdWVyeSB9KSwganN4KENhbGxQYXJ0aWNpcGFudExpc3RDb250ZW50SGVhZGVyLCB7IHVzZXJMaXN0VHlwZTogdXNlckxpc3RUeXBlLCBzZXRVc2VyTGlzdFR5cGU6IHNldFVzZXJMaXN0VHlwZSB9KSwganN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3BhcnRpY2lwYW50LWxpc3RfX2NvbnRlbnRcIiwgY2hpbGRyZW46IFt1c2VyTGlzdFR5cGUgPT09ICdhY3RpdmUnICYmIChqc3goQWN0aXZlVXNlcnNTZWFyY2hSZXN1bHRzLCB7IHNlYXJjaFF1ZXJ5OiBzZWFyY2hRdWVyeSwgYWN0aXZlVXNlcnNTZWFyY2hGbjogYWN0aXZlVXNlcnNTZWFyY2hGbiwgZGVib3VuY2VTZWFyY2hJbnRlcnZhbDogZGVib3VuY2VTZWFyY2hJbnRlcnZhbCB9KSksIHVzZXJMaXN0VHlwZSA9PT0gJ2Jsb2NrZWQnICYmIChqc3goQmxvY2tlZFVzZXJzU2VhcmNoUmVzdWx0cywgeyBzZWFyY2hRdWVyeTogc2VhcmNoUXVlcnksIGJsb2NrZWRVc2Vyc1NlYXJjaEZuOiBibG9ja2VkVXNlcnNTZWFyY2hGbiwgZGVib3VuY2VTZWFyY2hJbnRlcnZhbDogZGVib3VuY2VTZWFyY2hJbnRlcnZhbCB9KSldIH0pXSB9KSk7XG59O1xuY29uc3QgQ2FsbFBhcnRpY2lwYW50TGlzdENvbnRlbnRIZWFkZXIgPSAoeyB1c2VyTGlzdFR5cGUsIHNldFVzZXJMaXN0VHlwZSwgfSkgPT4ge1xuICAgIGNvbnN0IGNhbGwgPSB1c2VDYWxsKCk7XG4gICAgY29uc3QgbXV0ZUFsbCA9ICgpID0+IHtcbiAgICAgICAgY2FsbD8ubXV0ZUFsbFVzZXJzKCdhdWRpbycpO1xuICAgIH07XG4gICAgcmV0dXJuIChqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fcGFydGljaXBhbnQtbGlzdF9fY29udGVudC1oZWFkZXJcIiwgY2hpbGRyZW46IFtqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19wYXJ0aWNpcGFudC1saXN0X19jb250ZW50LWhlYWRlci10aXRsZVwiLCBjaGlsZHJlbjogdXNlckxpc3RUeXBlID09PSAnYWN0aXZlJyAmJiAoanN4KFJlc3RyaWN0ZWQsIHsgcmVxdWlyZWRHcmFudHM6IFtPd25DYXBhYmlsaXR5Lk1VVEVfVVNFUlNdLCBoYXNQZXJtaXNzaW9uc09ubHk6IHRydWUsIGNoaWxkcmVuOiBqc3goVGV4dEJ1dHRvbiwgeyBvbkNsaWNrOiBtdXRlQWxsLCBjaGlsZHJlbjogXCJNdXRlIGFsbFwiIH0pIH0pKSB9KSwganN4KE1lbnVUb2dnbGUsIHsgcGxhY2VtZW50OiBcImJvdHRvbS1lbmRcIiwgVG9nZ2xlQnV0dG9uOiBUb2dnbGVCdXR0b24kMSwgY2hpbGRyZW46IGpzeChHZW5lcmljTWVudSwgeyBjaGlsZHJlbjogT2JqZWN0LmtleXMoVXNlckxpc3RUeXBlcykubWFwKChsdCkgPT4gKGpzeChHZW5lcmljTWVudUJ1dHRvbkl0ZW0sIHsgXCJhcmlhLXNlbGVjdGVkXCI6IGx0ID09PSB1c2VyTGlzdFR5cGUsIG9uQ2xpY2s6ICgpID0+IHNldFVzZXJMaXN0VHlwZShsdCksIGNoaWxkcmVuOiBVc2VyTGlzdFR5cGVzW2x0XSB9LCBsdCkpKSB9KSB9KV0gfSkpO1xufTtcbmNvbnN0IEFjdGl2ZVVzZXJzU2VhcmNoUmVzdWx0cyA9ICh7IHNlYXJjaFF1ZXJ5LCBhY3RpdmVVc2Vyc1NlYXJjaEZuOiBhY3RpdmVVc2Vyc1NlYXJjaEZuRnJvbVByb3BzLCBkZWJvdW5jZVNlYXJjaEludGVydmFsID0gREVGQVVMVF9ERUJPVU5DRV9TRUFSQ0hfSU5URVJWQUwsIH0pID0+IHtcbiAgICBjb25zdCB7IHVzZVBhcnRpY2lwYW50cyB9ID0gdXNlQ2FsbFN0YXRlSG9va3MoKTtcbiAgICBjb25zdCBwYXJ0aWNpcGFudHMgPSB1c2VQYXJ0aWNpcGFudHMoeyBzb3J0Qnk6IG5hbWUgfSk7XG4gICAgY29uc3QgYWN0aXZlVXNlcnNTZWFyY2hGbiA9IHVzZUNhbGxiYWNrKChxdWVyeVN0cmluZykgPT4ge1xuICAgICAgICBjb25zdCBxdWVyeVJlZ0V4cCA9IG5ldyBSZWdFeHAocXVlcnlTdHJpbmcsICdpJyk7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocGFydGljaXBhbnRzLmZpbHRlcigocGFydGljaXBhbnQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBwYXJ0aWNpcGFudC5uYW1lLm1hdGNoKHF1ZXJ5UmVnRXhwKTtcbiAgICAgICAgfSkpO1xuICAgIH0sIFtwYXJ0aWNpcGFudHNdKTtcbiAgICBjb25zdCB7IHNlYXJjaFF1ZXJ5SW5Qcm9ncmVzcywgc2VhcmNoUmVzdWx0cyB9ID0gdXNlU2VhcmNoKHtcbiAgICAgICAgc2VhcmNoRm46IGFjdGl2ZVVzZXJzU2VhcmNoRm5Gcm9tUHJvcHMgPz8gYWN0aXZlVXNlcnNTZWFyY2hGbixcbiAgICAgICAgZGVib3VuY2VJbnRlcnZhbDogZGVib3VuY2VTZWFyY2hJbnRlcnZhbCxcbiAgICAgICAgc2VhcmNoUXVlcnksXG4gICAgfSk7XG4gICAgcmV0dXJuIChqc3goU2VhcmNoUmVzdWx0cywgeyBFbXB0eVNlYXJjaFJlc3VsdENvbXBvbmVudDogRW1wdHlQYXJ0aWNpcGFudFNlYXJjaExpc3QsIExvYWRpbmdJbmRpY2F0b3I6IExvYWRpbmdJbmRpY2F0b3IsIHNlYXJjaFF1ZXJ5SW5Qcm9ncmVzczogc2VhcmNoUXVlcnlJblByb2dyZXNzLCBzZWFyY2hSZXN1bHRzOiBzZWFyY2hRdWVyeSA/IHNlYXJjaFJlc3VsdHMgOiBwYXJ0aWNpcGFudHMsIFNlYXJjaFJlc3VsdExpc3Q6IENhbGxQYXJ0aWNpcGFudExpc3RpbmcgfSkpO1xufTtcbmNvbnN0IEJsb2NrZWRVc2Vyc1NlYXJjaFJlc3VsdHMgPSAoeyBibG9ja2VkVXNlcnNTZWFyY2hGbjogYmxvY2tlZFVzZXJzU2VhcmNoRm5Gcm9tUHJvcHMsIGRlYm91bmNlU2VhcmNoSW50ZXJ2YWwgPSBERUZBVUxUX0RFQk9VTkNFX1NFQVJDSF9JTlRFUlZBTCwgc2VhcmNoUXVlcnksIH0pID0+IHtcbiAgICBjb25zdCB7IHVzZUNhbGxCbG9ja2VkVXNlcklkcyB9ID0gdXNlQ2FsbFN0YXRlSG9va3MoKTtcbiAgICBjb25zdCBibG9ja2VkVXNlcnMgPSB1c2VDYWxsQmxvY2tlZFVzZXJJZHMoKTtcbiAgICBjb25zdCBibG9ja2VkVXNlcnNTZWFyY2hGbiA9IHVzZUNhbGxiYWNrKChxdWVyeVN0cmluZykgPT4ge1xuICAgICAgICBjb25zdCBxdWVyeVJlZ0V4cCA9IG5ldyBSZWdFeHAocXVlcnlTdHJpbmcsICdpJyk7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoYmxvY2tlZFVzZXJzLmZpbHRlcigoYmxvY2tlZFVzZXIpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBibG9ja2VkVXNlci5tYXRjaChxdWVyeVJlZ0V4cCk7XG4gICAgICAgIH0pKTtcbiAgICB9LCBbYmxvY2tlZFVzZXJzXSk7XG4gICAgY29uc3QgeyBzZWFyY2hRdWVyeUluUHJvZ3Jlc3MsIHNlYXJjaFJlc3VsdHMgfSA9IHVzZVNlYXJjaCh7XG4gICAgICAgIHNlYXJjaEZuOiBibG9ja2VkVXNlcnNTZWFyY2hGbkZyb21Qcm9wcyA/PyBibG9ja2VkVXNlcnNTZWFyY2hGbixcbiAgICAgICAgZGVib3VuY2VJbnRlcnZhbDogZGVib3VuY2VTZWFyY2hJbnRlcnZhbCxcbiAgICAgICAgc2VhcmNoUXVlcnksXG4gICAgfSk7XG4gICAgcmV0dXJuIChqc3goU2VhcmNoUmVzdWx0cywgeyBFbXB0eVNlYXJjaFJlc3VsdENvbXBvbmVudDogRW1wdHlQYXJ0aWNpcGFudFNlYXJjaExpc3QsIExvYWRpbmdJbmRpY2F0b3I6IExvYWRpbmdJbmRpY2F0b3IsIHNlYXJjaFF1ZXJ5SW5Qcm9ncmVzczogc2VhcmNoUXVlcnlJblByb2dyZXNzLCBzZWFyY2hSZXN1bHRzOiBzZWFyY2hRdWVyeSA/IHNlYXJjaFJlc3VsdHMgOiBibG9ja2VkVXNlcnMsIFNlYXJjaFJlc3VsdExpc3Q6IEJsb2NrZWRVc2VyTGlzdGluZyB9KSk7XG59O1xuY29uc3QgVG9nZ2xlQnV0dG9uJDEgPSBmb3J3YXJkUmVmKGZ1bmN0aW9uIFRvZ2dsZUJ1dHRvbihwcm9wcywgcmVmKSB7XG4gICAgcmV0dXJuIGpzeChJY29uQnV0dG9uLCB7IGVuYWJsZWQ6IHByb3BzLm1lbnVTaG93biwgaWNvbjogXCJmaWx0ZXJcIiwgcmVmOiByZWYgfSk7XG59KTtcblxuY29uc3QgQ2FsbFByZXZpZXcgPSAocHJvcHMpID0+IHtcbiAgICBjb25zdCB7IGNsYXNzTmFtZSwgc3R5bGUgfSA9IHByb3BzO1xuICAgIGNvbnN0IGNhbGwgPSB1c2VDYWxsKCk7XG4gICAgY29uc3QgeyB1c2VDYWxsVGh1bWJuYWlsIH0gPSB1c2VDYWxsU3RhdGVIb29rcygpO1xuICAgIGNvbnN0IHRodW1ibmFpbCA9IHVzZUNhbGxUaHVtYm5haWwoKTtcbiAgICBjb25zdCBbaW1hZ2VSZWYsIHNldEltYWdlUmVmXSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICghaW1hZ2VSZWYgfHwgIWNhbGwpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IGNsZWFudXAgPSBjYWxsLmJpbmRDYWxsVGh1bWJuYWlsRWxlbWVudChpbWFnZVJlZik7XG4gICAgICAgIHJldHVybiAoKSA9PiBjbGVhbnVwKCk7XG4gICAgfSwgW2ltYWdlUmVmLCBjYWxsXSk7XG4gICAgaWYgKCF0aHVtYm5haWwpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIHJldHVybiAoanN4KFwiaW1nXCIsIHsgY2xhc3NOYW1lOiBjbHN4KCdzdHItdmlkZW9fX2NhbGwtcHJldmlldycsIGNsYXNzTmFtZSksIHN0eWxlOiBzdHlsZSwgYWx0OiBcIkNhbGwgUHJldmlldyBUaHVtYm5haWxcIiwgcmVmOiBzZXRJbWFnZVJlZiB9KSk7XG59O1xuXG5jb25zdCBDYWxsUmVjb3JkaW5nTGlzdEhlYWRlciA9ICh7IGNhbGxSZWNvcmRpbmdzLCBvblJlZnJlc2gsIH0pID0+IHtcbiAgICBjb25zdCB7IHQgfSA9IHVzZUkxOG4oKTtcbiAgICByZXR1cm4gKGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLXJlY29yZGluZy1saXN0X19oZWFkZXJcIiwgY2hpbGRyZW46IFtqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fY2FsbC1yZWNvcmRpbmctbGlzdF9fdGl0bGVcIiwgY2hpbGRyZW46IFtqc3goXCJzcGFuXCIsIHsgY2hpbGRyZW46IHQoJ0NhbGwgUmVjb3JkaW5ncycpIH0pLCBjYWxsUmVjb3JkaW5ncy5sZW5ndGggPyBqc3hzKFwic3BhblwiLCB7IGNoaWxkcmVuOiBbXCIoXCIsIGNhbGxSZWNvcmRpbmdzLmxlbmd0aCwgXCIpXCJdIH0pIDogbnVsbF0gfSksIG9uUmVmcmVzaCAmJiAoanN4KEljb25CdXR0b24sIHsgaWNvbjogXCJyZWZyZXNoXCIsIHRpdGxlOiB0KCdSZWZyZXNoJyksIG9uQ2xpY2s6IG9uUmVmcmVzaCB9KSldIH0pKTtcbn07XG5cbmNvbnN0IGRhdGVGb3JtYXQgPSAoZGF0ZSkgPT4ge1xuICAgIGNvbnN0IGZvcm1hdCA9IG5ldyBEYXRlKGRhdGUpO1xuICAgIHJldHVybiBmb3JtYXQudG9UaW1lU3RyaW5nKCkuc3BsaXQoJyAnKVswXTtcbn07XG5jb25zdCBDYWxsUmVjb3JkaW5nTGlzdEl0ZW0gPSAoeyByZWNvcmRpbmcsIH0pID0+IHtcbiAgICByZXR1cm4gKGpzeHMoXCJsaVwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtcmVjb3JkaW5nLWxpc3RfX2l0ZW1cIiwgY2hpbGRyZW46IFtqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLXJlY29yZGluZy1saXN0X190YWJsZS1jZWxsIHN0ci12aWRlb19fY2FsbC1yZWNvcmRpbmctbGlzdF9fZmlsZW5hbWVcIiwgY2hpbGRyZW46IHJlY29yZGluZy5maWxlbmFtZSB9KSwganN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fY2FsbC1yZWNvcmRpbmctbGlzdF9fdGFibGUtY2VsbCBzdHItdmlkZW9fX2NhbGwtcmVjb3JkaW5nLWxpc3RfX3RpbWVcIiwgY2hpbGRyZW46IGRhdGVGb3JtYXQocmVjb3JkaW5nLnN0YXJ0X3RpbWUpIH0pLCBqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLXJlY29yZGluZy1saXN0X190YWJsZS1jZWxsIHN0ci12aWRlb19fY2FsbC1yZWNvcmRpbmctbGlzdF9fdGltZVwiLCBjaGlsZHJlbjogZGF0ZUZvcm1hdChyZWNvcmRpbmcuZW5kX3RpbWUpIH0pLCBqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLXJlY29yZGluZy1saXN0X190YWJsZS1jZWxsIHN0ci12aWRlb19fY2FsbC1yZWNvcmRpbmctbGlzdF9fZG93bmxvYWRcIiwgY2hpbGRyZW46IGpzeChcImFcIiwgeyBjbGFzc05hbWU6IGNsc3goJ3N0ci12aWRlb19fY2FsbC1yZWNvcmRpbmctbGlzdC1pdGVtX19hY3Rpb24tYnV0dG9uJywgJ3N0ci12aWRlb19fY2FsbC1yZWNvcmRpbmctbGlzdC1pdGVtX19hY3Rpb24tYnV0dG9uLS1kb3dubG9hZCcpLCByb2xlOiBcImJ1dHRvblwiLCBocmVmOiByZWNvcmRpbmcudXJsLCBkb3dubG9hZDogcmVjb3JkaW5nLmZpbGVuYW1lLCB0aXRsZTogXCJEb3dubG9hZCB0aGUgcmVjb3JkaW5nXCIsIGNoaWxkcmVuOiBqc3goSWNvbiwgeyBpY29uOiBcImRvd25sb2FkXCIgfSkgfSkgfSldIH0pKTtcbn07XG5cbmNvbnN0IEVtcHR5Q2FsbFJlY29yZGluZ0xpc3RpbmcgPSAoKSA9PiB7XG4gICAgcmV0dXJuIChqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fY2FsbC1yZWNvcmRpbmctbGlzdF9fbGlzdGluZyBzdHItdmlkZW9fX2NhbGwtcmVjb3JkaW5nLWxpc3RfX2xpc3RpbmctLWVtcHR5XCIsIGNoaWxkcmVuOiBbanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fY2FsbC1yZWNvcmRpbmctbGlzdF9fbGlzdGluZy0taWNvbi1lbXB0eVwiIH0pLCBqc3goXCJwXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fY2FsbC1yZWNvcmRpbmctbGlzdF9fbGlzdGluZy0tdGV4dC1lbXB0eVwiLCBjaGlsZHJlbjogXCJObyByZWNvcmRpbmdzIGF2YWlsYWJsZVwiIH0pXSB9KSk7XG59O1xuXG5jb25zdCBMb2FkaW5nQ2FsbFJlY29yZGluZ0xpc3RpbmcgPSAoeyBjYWxsUmVjb3JkaW5ncywgfSkgPT4ge1xuICAgIHJldHVybiAoanN4cyhGcmFnbWVudCwgeyBjaGlsZHJlbjogW2NhbGxSZWNvcmRpbmdzLm1hcCgocmVjb3JkaW5nKSA9PiAoanN4KENhbGxSZWNvcmRpbmdMaXN0SXRlbSwgeyByZWNvcmRpbmc6IHJlY29yZGluZyB9LCByZWNvcmRpbmcuZmlsZW5hbWUpKSksIGpzeChMb2FkaW5nSW5kaWNhdG9yLCB7IHRleHQ6IFwiUmVjb3JkaW5nIGdldHRpbmcgcmVhZHlcIiB9KV0gfSkpO1xufTtcblxuY29uc3QgQ2FsbFJlY29yZGluZ0xpc3QgPSAoeyBjYWxsUmVjb3JkaW5ncywgQ2FsbFJlY29yZGluZ0xpc3RIZWFkZXI6IENhbGxSZWNvcmRpbmdMaXN0SGVhZGVyJDEgPSBDYWxsUmVjb3JkaW5nTGlzdEhlYWRlciwgQ2FsbFJlY29yZGluZ0xpc3RJdGVtOiBDYWxsUmVjb3JkaW5nTGlzdEl0ZW0kMSA9IENhbGxSZWNvcmRpbmdMaXN0SXRlbSwgRW1wdHlDYWxsUmVjb3JkaW5nTGlzdCA9IEVtcHR5Q2FsbFJlY29yZGluZ0xpc3RpbmcsIGxvYWRpbmcsIExvYWRpbmdDYWxsUmVjb3JkaW5nTGlzdCA9IExvYWRpbmdDYWxsUmVjb3JkaW5nTGlzdGluZywgb25SZWZyZXNoLCB9KSA9PiB7XG4gICAgcmV0dXJuIChqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fY2FsbC1yZWNvcmRpbmctbGlzdFwiLCBjaGlsZHJlbjogW2pzeChDYWxsUmVjb3JkaW5nTGlzdEhlYWRlciQxLCB7IGNhbGxSZWNvcmRpbmdzOiBjYWxsUmVjb3JkaW5ncywgb25SZWZyZXNoOiBvblJlZnJlc2ggfSksIGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtcmVjb3JkaW5nLWxpc3RfX2xpc3RpbmdcIiwgY2hpbGRyZW46IGxvYWRpbmcgPyAoanN4KExvYWRpbmdDYWxsUmVjb3JkaW5nTGlzdCwgeyBjYWxsUmVjb3JkaW5nczogY2FsbFJlY29yZGluZ3MgfSkpIDogY2FsbFJlY29yZGluZ3MubGVuZ3RoID8gKGpzeHMoRnJhZ21lbnQsIHsgY2hpbGRyZW46IFtqc3goXCJ1bFwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtcmVjb3JkaW5nLWxpc3RfX2xpc3RcIiwgY2hpbGRyZW46IGpzeHMoXCJsaVwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtcmVjb3JkaW5nLWxpc3RfX2l0ZW1cIiwgY2hpbGRyZW46IFtqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLXJlY29yZGluZy1saXN0X19maWxlbmFtZVwiLCBjaGlsZHJlbjogXCJOYW1lXCIgfSksIGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtcmVjb3JkaW5nLWxpc3RfX3RpbWVcIiwgY2hpbGRyZW46IFwiU3RhcnQgdGltZVwiIH0pLCBqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLXJlY29yZGluZy1saXN0X190aW1lXCIsIGNoaWxkcmVuOiBcIkVuZCB0aW1lXCIgfSksIGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtcmVjb3JkaW5nLWxpc3RfX2Rvd25sb2FkXCIgfSldIH0pIH0pLCBqc3goXCJ1bFwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtcmVjb3JkaW5nLWxpc3RfX2xpc3RcIiwgY2hpbGRyZW46IGNhbGxSZWNvcmRpbmdzLm1hcCgocmVjb3JkaW5nKSA9PiAoanN4KENhbGxSZWNvcmRpbmdMaXN0SXRlbSQxLCB7IHJlY29yZGluZzogcmVjb3JkaW5nIH0sIHJlY29yZGluZy5maWxlbmFtZSkpKSB9KV0gfSkpIDogKGpzeChFbXB0eUNhbGxSZWNvcmRpbmdMaXN0LCB7fSkpIH0pXSB9KSk7XG59O1xuXG5jb25zdCBOb2lzZUNhbmNlbGxhdGlvbkNvbnRleHQgPSBjcmVhdGVDb250ZXh0KG51bGwpO1xuLyoqXG4gKiBFeHBvc2VzIHRoZSBOb2lzZUNhbmNlbGxhdGlvbiBBUEkuXG4gKiBUaHJvd3MgYW4gZXJyb3IgaWYgdXNlZCBvdXRzaWRlIDxOb2lzZUNhbmNlbGxhdGlvblByb3ZpZGVyIC8+LlxuICovXG5jb25zdCB1c2VOb2lzZUNhbmNlbGxhdGlvbiA9ICgpID0+IHtcbiAgICBjb25zdCBjb250ZXh0ID0gdXNlQ29udGV4dChOb2lzZUNhbmNlbGxhdGlvbkNvbnRleHQpO1xuICAgIGlmICghY29udGV4dCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3VzZU5vaXNlQ2FuY2VsbGF0aW9uIG11c3QgYmUgdXNlZCB3aXRoaW4gYSBOb2lzZUNhbmNlbGxhdGlvblByb3ZpZGVyJyk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZXh0O1xufTtcbmNvbnN0IE5vaXNlQ2FuY2VsbGF0aW9uUHJvdmlkZXIgPSAocHJvcHMpID0+IHtcbiAgICBjb25zdCB7IGNoaWxkcmVuLCBub2lzZUNhbmNlbGxhdGlvbiB9ID0gcHJvcHM7XG4gICAgY29uc3QgY2FsbCA9IHVzZUNhbGwoKTtcbiAgICBjb25zdCB7IHVzZUNhbGxTZXR0aW5ncywgdXNlSGFzUGVybWlzc2lvbnMgfSA9IHVzZUNhbGxTdGF0ZUhvb2tzKCk7XG4gICAgY29uc3Qgc2V0dGluZ3MgPSB1c2VDYWxsU2V0dGluZ3MoKTtcbiAgICBjb25zdCBub2lzZUNhbmNlbGxhdGlvbkFsbG93ZWQgPSAhIShzZXR0aW5ncyAmJlxuICAgICAgICBzZXR0aW5ncy5hdWRpby5ub2lzZV9jYW5jZWxsYXRpb24gJiZcbiAgICAgICAgc2V0dGluZ3MuYXVkaW8ubm9pc2VfY2FuY2VsbGF0aW9uLm1vZGUgIT09XG4gICAgICAgICAgICBOb2lzZUNhbmNlbGxhdGlvblNldHRpbmdzTW9kZUVudW0uRElTQUJMRUQpO1xuICAgIGNvbnN0IGhhc0NhcGFiaWxpdHkgPSB1c2VIYXNQZXJtaXNzaW9ucyhPd25DYXBhYmlsaXR5LkVOQUJMRV9OT0lTRV9DQU5DRUxMQVRJT04pO1xuICAgIGNvbnN0IFtpc1N1cHBvcnRlZEJ5QnJvd3Nlciwgc2V0SXNTdXBwb3J0ZWRCeUJyb3dzZXJdID0gdXNlU3RhdGUodW5kZWZpbmVkKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBub2lzZUNhbmNlbGxhdGlvbi5pc1N1cHBvcnRlZCgpO1xuICAgICAgICBpZiAodHlwZW9mIHJlc3VsdCA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgICBzZXRJc1N1cHBvcnRlZEJ5QnJvd3NlcihyZXN1bHQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0XG4gICAgICAgICAgICAgICAgLnRoZW4oKF9pc1N1cHBvcnRlZEJ5QnJvd3NlcikgPT4gc2V0SXNTdXBwb3J0ZWRCeUJyb3dzZXIoX2lzU3VwcG9ydGVkQnlCcm93c2VyKSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5lcnJvcihgQ2FuJ3QgZGV0ZXJtaW5lIGlmIG5vaXNlIGNhbmNlbGxhdGlvbiBpcyBzdXBwb3J0ZWRgLCBlcnIpKTtcbiAgICAgICAgfVxuICAgIH0sIFtub2lzZUNhbmNlbGxhdGlvbl0pO1xuICAgIGNvbnN0IGlzU3VwcG9ydGVkID0gaXNTdXBwb3J0ZWRCeUJyb3dzZXIgJiYgaGFzQ2FwYWJpbGl0eSAmJiBub2lzZUNhbmNlbGxhdGlvbkFsbG93ZWQ7XG4gICAgY29uc3QgW2lzRW5hYmxlZCwgc2V0SXNFbmFibGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCBkZWluaXQgPSB1c2VSZWYoKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIWNhbGwgfHwgIWlzU3VwcG9ydGVkKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCB1bnN1YnNjcmliZSA9IG5vaXNlQ2FuY2VsbGF0aW9uLm9uKCdjaGFuZ2UnLCAodikgPT4gc2V0SXNFbmFibGVkKHYpKTtcbiAgICAgICAgY29uc3QgaW5pdCA9IChkZWluaXQuY3VycmVudCB8fCBQcm9taXNlLnJlc29sdmUoKSlcbiAgICAgICAgICAgIC50aGVuKCgpID0+IG5vaXNlQ2FuY2VsbGF0aW9uLmluaXQoKSlcbiAgICAgICAgICAgIC50aGVuKCgpID0+IGNhbGwubWljcm9waG9uZS5lbmFibGVOb2lzZUNhbmNlbGxhdGlvbihub2lzZUNhbmNlbGxhdGlvbikpXG4gICAgICAgICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5lcnJvcihgQ2FuJ3QgaW5pdGlhbGl6ZSBub2lzZSBzdXBwcmVzc2lvbmAsIGVycikpO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgZGVpbml0LmN1cnJlbnQgPSBpbml0XG4gICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4gY2FsbC5taWNyb3Bob25lLmRpc2FibGVOb2lzZUNhbmNlbGxhdGlvbigpKVxuICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IG5vaXNlQ2FuY2VsbGF0aW9uLmRpc3Bvc2UoKSlcbiAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB1bnN1YnNjcmliZSgpKTtcbiAgICAgICAgfTtcbiAgICB9LCBbY2FsbCwgaXNTdXBwb3J0ZWQsIG5vaXNlQ2FuY2VsbGF0aW9uXSk7XG4gICAgcmV0dXJuIChqc3goTm9pc2VDYW5jZWxsYXRpb25Db250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiB7XG4gICAgICAgICAgICBpc1N1cHBvcnRlZCxcbiAgICAgICAgICAgIGlzRW5hYmxlZCxcbiAgICAgICAgICAgIHNldEVuYWJsZWQ6IChlbmFibGVkT3JTZXR0ZXIpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIW5vaXNlQ2FuY2VsbGF0aW9uKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgY29uc3QgZW5hYmxlID0gdHlwZW9mIGVuYWJsZWRPclNldHRlciA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICAgICAgICAgICAgICA/IGVuYWJsZWRPclNldHRlcihpc0VuYWJsZWQpXG4gICAgICAgICAgICAgICAgICAgIDogZW5hYmxlZE9yU2V0dGVyO1xuICAgICAgICAgICAgICAgIGlmIChlbmFibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgbm9pc2VDYW5jZWxsYXRpb24uZW5hYmxlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBub2lzZUNhbmNlbGxhdGlvbi5kaXNhYmxlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSwgY2hpbGRyZW46IGNoaWxkcmVuIH0pKTtcbn07XG5cbmNvbnN0IFJpbmdpbmdDYWxsQ29udHJvbHMgPSAoKSA9PiB7XG4gICAgY29uc3QgY2FsbCA9IHVzZUNhbGwoKTtcbiAgICBjb25zdCB7IHVzZUNhbGxDYWxsaW5nU3RhdGUgfSA9IHVzZUNhbGxTdGF0ZUhvb2tzKCk7XG4gICAgY29uc3QgY2FsbENhbGxpbmdTdGF0ZSA9IHVzZUNhbGxDYWxsaW5nU3RhdGUoKTtcbiAgICBpZiAoIWNhbGwpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIGNvbnN0IGJ1dHRvbnNEaXNhYmxlZCA9IGNhbGxDYWxsaW5nU3RhdGUgIT09IENhbGxpbmdTdGF0ZS5SSU5HSU5HO1xuICAgIHJldHVybiAoanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fcGVuZGluZy1jYWxsLWNvbnRyb2xzXCIsIGNoaWxkcmVuOiBjYWxsLmlzQ3JlYXRlZEJ5TWUgPyAoanN4KENhbmNlbENhbGxCdXR0b24sIHsgZGlzYWJsZWQ6IGJ1dHRvbnNEaXNhYmxlZCB9KSkgOiAoanN4cyhGcmFnbWVudCwgeyBjaGlsZHJlbjogW2pzeChBY2NlcHRDYWxsQnV0dG9uLCB7IGRpc2FibGVkOiBidXR0b25zRGlzYWJsZWQgfSksIGpzeChDYW5jZWxDYWxsQnV0dG9uLCB7IG9uQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlYXNvbiA9IGNhbGwuaXNDcmVhdGVkQnlNZSA/ICdjYW5jZWwnIDogJ2RlY2xpbmUnO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbC5sZWF2ZSh7IHJlamVjdDogdHJ1ZSwgcmVhc29uIH0pO1xuICAgICAgICAgICAgICAgICAgICB9LCBkaXNhYmxlZDogYnV0dG9uc0Rpc2FibGVkIH0pXSB9KSkgfSkpO1xufTtcblxuY29uc3QgQ0FMTElOR19TVEFURV9UT19MQUJFTCA9IHtcbiAgICBbQ2FsbGluZ1N0YXRlLkpPSU5JTkddOiAnSm9pbmluZycsXG4gICAgW0NhbGxpbmdTdGF0ZS5SSU5HSU5HXTogJ1JpbmdpbmcnLFxuICAgIFtDYWxsaW5nU3RhdGUuTUlHUkFUSU5HXTogJ01pZ3JhdGluZycsXG4gICAgW0NhbGxpbmdTdGF0ZS5SRUNPTk5FQ1RJTkddOiAnUmUtY29ubmVjdGluZycsXG4gICAgW0NhbGxpbmdTdGF0ZS5SRUNPTk5FQ1RJTkdfRkFJTEVEXTogJ0ZhaWxlZCcsXG4gICAgW0NhbGxpbmdTdGF0ZS5PRkZMSU5FXTogJ05vIGludGVybmV0IGNvbm5lY3Rpb24nLFxuICAgIFtDYWxsaW5nU3RhdGUuSURMRV06ICcnLFxuICAgIFtDYWxsaW5nU3RhdGUuVU5LTk9XTl06ICcnLFxuICAgIFtDYWxsaW5nU3RhdGUuSk9JTkVEXTogJ0pvaW5lZCcsXG4gICAgW0NhbGxpbmdTdGF0ZS5MRUZUXTogJ0xlZnQgY2FsbCcsXG59O1xuY29uc3QgUmluZ2luZ0NhbGwgPSAocHJvcHMpID0+IHtcbiAgICBjb25zdCB7IGluY2x1ZGVTZWxmID0gZmFsc2UsIHRvdGFsTWVtYmVyc1RvU2hvdyA9IDMgfSA9IHByb3BzO1xuICAgIGNvbnN0IGNhbGwgPSB1c2VDYWxsKCk7XG4gICAgY29uc3QgeyB0IH0gPSB1c2VJMThuKCk7XG4gICAgY29uc3QgeyB1c2VDYWxsQ2FsbGluZ1N0YXRlLCB1c2VDYWxsTWVtYmVycyB9ID0gdXNlQ2FsbFN0YXRlSG9va3MoKTtcbiAgICBjb25zdCBjYWxsaW5nU3RhdGUgPSB1c2VDYWxsQ2FsbGluZ1N0YXRlKCk7XG4gICAgY29uc3QgbWVtYmVycyA9IHVzZUNhbGxNZW1iZXJzKCk7XG4gICAgY29uc3QgY29ubmVjdGVkVXNlciA9IHVzZUNvbm5lY3RlZFVzZXIoKTtcbiAgICBpZiAoIWNhbGwpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIC8vIHRha2UgdGhlIGZpcnN0IE4gbWVtYmVycyB0byBzaG93IHRoZWlyIGF2YXRhcnNcbiAgICBjb25zdCBtZW1iZXJzVG9TaG93ID0gKG1lbWJlcnMgfHwgW10pXG4gICAgICAgIC5zbGljZSgwLCB0b3RhbE1lbWJlcnNUb1Nob3cpXG4gICAgICAgIC5tYXAoKHsgdXNlciB9KSA9PiB1c2VyKVxuICAgICAgICAuZmlsdGVyKCh1c2VyKSA9PiB1c2VyLmlkICE9PSBjb25uZWN0ZWRVc2VyPy5pZCB8fCBpbmNsdWRlU2VsZik7XG4gICAgaWYgKGluY2x1ZGVTZWxmICYmXG4gICAgICAgICFtZW1iZXJzVG9TaG93LmZpbmQoKHVzZXIpID0+IHVzZXIuaWQgPT09IGNvbm5lY3RlZFVzZXI/LmlkKSkge1xuICAgICAgICAvLyBpZiB0aGUgY3VycmVudCB1c2VyIGlzIG5vdCBpbiB0aGUgaW5pdGlhbCBiYXRjaCBvZiBtZW1iZXJzLFxuICAgICAgICAvLyByZXBsYWNlIHRoZSBmaXJzdCBpdGVtIGluIG1lbWJlcnNUb1Nob3cgYXJyYXkgd2l0aCB0aGUgY3VycmVudCB1c2VyXG4gICAgICAgIGNvbnN0IHNlbGYgPSBtZW1iZXJzLmZpbmQoKHsgdXNlciB9KSA9PiB1c2VyLmlkID09PSBjb25uZWN0ZWRVc2VyPy5pZCk7XG4gICAgICAgIGlmIChzZWxmKSB7XG4gICAgICAgICAgICBtZW1iZXJzVG9TaG93LnNwbGljZSgwLCAxLCBzZWxmLnVzZXIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGNhbGxpbmdTdGF0ZUxhYmVsID0gQ0FMTElOR19TVEFURV9UT19MQUJFTFtjYWxsaW5nU3RhdGVdO1xuICAgIHJldHVybiAoanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtcGFuZWwgc3RyLXZpZGVvX19jYWxsLXBhbmVsLS1yaW5naW5nXCIsIGNoaWxkcmVuOiBbanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fY2FsbC1wYW5lbF9fbWVtYmVycy1saXN0XCIsIGNoaWxkcmVuOiBtZW1iZXJzVG9TaG93Lm1hcCgodXNlcikgPT4gKGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLXBhbmVsX19tZW1iZXItYm94XCIsIGNoaWxkcmVuOiBbanN4KEF2YXRhciwgeyBuYW1lOiB1c2VyLm5hbWUsIGltYWdlU3JjOiB1c2VyLmltYWdlIH0pLCB1c2VyLm5hbWUgJiYgKGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX21lbWJlcl9kZXRhaWxzXCIsIGNoaWxkcmVuOiBqc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fbWVtYmVyX25hbWVcIiwgY2hpbGRyZW46IHVzZXIubmFtZSB9KSB9KSldIH0sIHVzZXIuaWQpKSkgfSksIGNhbGxpbmdTdGF0ZUxhYmVsICYmIChqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLXBhbmVsX19jYWxsaW5nLXN0YXRlLWxhYmVsXCIsIGNoaWxkcmVuOiB0KGNhbGxpbmdTdGF0ZUxhYmVsKSB9KSksIFtDYWxsaW5nU3RhdGUuUklOR0lORywgQ2FsbGluZ1N0YXRlLkpPSU5JTkddLmluY2x1ZGVzKGNhbGxpbmdTdGF0ZSkgJiYgKGpzeChSaW5naW5nQ2FsbENvbnRyb2xzLCB7fSkpXSB9KSk7XG59O1xuXG5jb25zdCBieU5hbWVPcklkID0gKGEsIGIpID0+IHtcbiAgICBpZiAoYS5uYW1lICYmIGIubmFtZSAmJiBhLm5hbWUgPCBiLm5hbWUpXG4gICAgICAgIHJldHVybiAtMTtcbiAgICBpZiAoYS5uYW1lICYmIGIubmFtZSAmJiBhLm5hbWUgPiBiLm5hbWUpXG4gICAgICAgIHJldHVybiAxO1xuICAgIGlmIChhLmlkIDwgYi5pZClcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIGlmIChhLmlkID4gYi5pZClcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgcmV0dXJuIDA7XG59O1xuY29uc3QgUGVybWlzc2lvblJlcXVlc3RzID0gKCkgPT4ge1xuICAgIGNvbnN0IGNhbGwgPSB1c2VDYWxsKCk7XG4gICAgY29uc3QgeyB1c2VMb2NhbFBhcnRpY2lwYW50LCB1c2VIYXNQZXJtaXNzaW9ucyB9ID0gdXNlQ2FsbFN0YXRlSG9va3MoKTtcbiAgICBjb25zdCBsb2NhbFBhcnRpY2lwYW50ID0gdXNlTG9jYWxQYXJ0aWNpcGFudCgpO1xuICAgIGNvbnN0IFtleHBhbmRlZCwgc2V0RXhwYW5kZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IFtwZXJtaXNzaW9uUmVxdWVzdHMsIHNldFBlcm1pc3Npb25SZXF1ZXN0c10gPSB1c2VTdGF0ZShbXSk7XG4gICAgY29uc3QgY2FuVXBkYXRlQ2FsbFBlcm1pc3Npb25zID0gdXNlSGFzUGVybWlzc2lvbnMoT3duQ2FwYWJpbGl0eS5VUERBVEVfQ0FMTF9QRVJNSVNTSU9OUyk7XG4gICAgY29uc3QgbG9jYWxVc2VySWQgPSBsb2NhbFBhcnRpY2lwYW50Py51c2VySWQ7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKCFjYWxsIHx8ICFjYW5VcGRhdGVDYWxsUGVybWlzc2lvbnMpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHJldHVybiBjYWxsLm9uKCdjYWxsLnBlcm1pc3Npb25fcmVxdWVzdCcsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKGV2ZW50LnVzZXIuaWQgIT09IGxvY2FsVXNlcklkKSB7XG4gICAgICAgICAgICAgICAgc2V0UGVybWlzc2lvblJlcXVlc3RzKChyZXF1ZXN0cykgPT4gWy4uLnJlcXVlc3RzLCBldmVudF0uc29ydCgoYSwgYikgPT4gYnlOYW1lT3JJZChhLnVzZXIsIGIudXNlcikpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSwgW2NhbGwsIGNhblVwZGF0ZUNhbGxQZXJtaXNzaW9ucywgbG9jYWxVc2VySWRdKTtcbiAgICBjb25zdCBoYW5kbGVVcGRhdGVQZXJtaXNzaW9uID0gKHJlcXVlc3QsIHR5cGUpID0+IHtcbiAgICAgICAgcmV0dXJuIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgdXNlciwgcGVybWlzc2lvbnMgfSA9IHJlcXVlc3Q7XG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdncmFudCc6XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IGNhbGw/LmdyYW50UGVybWlzc2lvbnModXNlci5pZCwgcGVybWlzc2lvbnMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdyZXZva2UnOlxuICAgICAgICAgICAgICAgICAgICBhd2FpdCBjYWxsPy5yZXZva2VQZXJtaXNzaW9ucyh1c2VyLmlkLCBwZXJtaXNzaW9ucyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0UGVybWlzc2lvblJlcXVlc3RzKChyZXF1ZXN0cykgPT4gcmVxdWVzdHMuZmlsdGVyKChyKSA9PiByICE9PSByZXF1ZXN0KSk7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCB7IHJlZnMsIHgsIHksIHN0cmF0ZWd5IH0gPSB1c2VGbG9hdGluZ1VJUHJlc2V0KHtcbiAgICAgICAgcGxhY2VtZW50OiAnYm90dG9tJyxcbiAgICAgICAgc3RyYXRlZ3k6ICdhYnNvbHV0ZScsXG4gICAgfSk7XG4gICAgLy8gZG9uJ3QgcmVuZGVyIGFueXRoaW5nIGlmIHRoZXJlIGFyZSBubyBwZXJtaXNzaW9uIHJlcXVlc3RzXG4gICAgaWYgKHBlcm1pc3Npb25SZXF1ZXN0cy5sZW5ndGggPT09IDApXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIHJldHVybiAoanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3Blcm1pc3Npb24tcmVxdWVzdHNcIiwgcmVmOiByZWZzLnNldFJlZmVyZW5jZSwgY2hpbGRyZW46IFtqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fcGVybWlzc2lvbi1yZXF1ZXN0c19fbm90aWZpY2F0aW9uXCIsIGNoaWxkcmVuOiBbanN4cyhcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19wZXJtaXNzaW9uLXJlcXVlc3RzX19ub3RpZmljYXRpb25fX21lc3NhZ2VcIiwgY2hpbGRyZW46IFtwZXJtaXNzaW9uUmVxdWVzdHMubGVuZ3RoLCBcIiBwZW5kaW5nIHBlcm1pc3Npb24gcmVxdWVzdHNcIl0gfSksIGpzeChCdXR0b24sIHsgdHlwZTogXCJidXR0b25cIiwgb25DbGljazogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEV4cGFuZGVkKChlKSA9PiAhZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBjaGlsZHJlbjogZXhwYW5kZWQgPyAnSGlkZSByZXF1ZXN0cycgOiAnU2hvdyByZXF1ZXN0cycgfSldIH0pLCBleHBhbmRlZCAmJiAoanN4KFBlcm1pc3Npb25SZXF1ZXN0TGlzdCwgeyByZWY6IHJlZnMuc2V0RmxvYXRpbmcsIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBzdHJhdGVneSxcbiAgICAgICAgICAgICAgICAgICAgdG9wOiB5ID8/IDAsXG4gICAgICAgICAgICAgICAgICAgIGxlZnQ6IHggPz8gMCxcbiAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3dZOiAnYXV0bycsXG4gICAgICAgICAgICAgICAgfSwgcGVybWlzc2lvblJlcXVlc3RzOiBwZXJtaXNzaW9uUmVxdWVzdHMsIGhhbmRsZVVwZGF0ZVBlcm1pc3Npb246IGhhbmRsZVVwZGF0ZVBlcm1pc3Npb24gfSkpXSB9KSk7XG59O1xuY29uc3QgUGVybWlzc2lvblJlcXVlc3RMaXN0ID0gZm9yd2FyZFJlZihmdW5jdGlvbiBQZXJtaXNzaW9uUmVxdWVzdExpc3QocHJvcHMsIHJlZikge1xuICAgIGNvbnN0IHsgcGVybWlzc2lvblJlcXVlc3RzLCBoYW5kbGVVcGRhdGVQZXJtaXNzaW9uLCAuLi5yZXN0IH0gPSBwcm9wcztcbiAgICBjb25zdCB7IHQgfSA9IHVzZUkxOG4oKTtcbiAgICByZXR1cm4gKGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3Blcm1pc3Npb24tcmVxdWVzdHMtbGlzdFwiLCByZWY6IHJlZiwgLi4ucmVzdCwgY2hpbGRyZW46IHBlcm1pc3Npb25SZXF1ZXN0cy5tYXAoKHJlcXVlc3QsIHJlcUluZGV4KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB7IHVzZXIsIHBlcm1pc3Npb25zIH0gPSByZXF1ZXN0O1xuICAgICAgICAgICAgcmV0dXJuIChqc3goRnJhZ21lbnQkMSwgeyBjaGlsZHJlbjogcGVybWlzc2lvbnMubWFwKChwZXJtaXNzaW9uKSA9PiAoanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3Blcm1pc3Npb24tcmVxdWVzdFwiLCBjaGlsZHJlbjogW2pzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3Blcm1pc3Npb24tcmVxdWVzdF9fbWVzc2FnZVwiLCBjaGlsZHJlbjogbWVzc2FnZUZvclBlcm1pc3Npb24odXNlci5uYW1lIHx8IHVzZXIuaWQsIHBlcm1pc3Npb24sIHQpIH0pLCBqc3goQnV0dG9uLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3Blcm1pc3Npb24tcmVxdWVzdF9fYnV0dG9uLS1hbGxvd1wiLCB0eXBlOiBcImJ1dHRvblwiLCBvbkNsaWNrOiBoYW5kbGVVcGRhdGVQZXJtaXNzaW9uKHJlcXVlc3QsICdncmFudCcpLCBjaGlsZHJlbjogdCgnQWxsb3cnKSB9KSwganN4KEJ1dHRvbiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19wZXJtaXNzaW9uLXJlcXVlc3RfX2J1dHRvbi0tcmVqZWN0XCIsIHR5cGU6IFwiYnV0dG9uXCIsIG9uQ2xpY2s6IGhhbmRsZVVwZGF0ZVBlcm1pc3Npb24ocmVxdWVzdCwgJ3Jldm9rZScpLCBjaGlsZHJlbjogdCgnUmV2b2tlJykgfSksIGpzeChCdXR0b24sIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fcGVybWlzc2lvbi1yZXF1ZXN0X19idXR0b24tLXJlamVjdFwiLCB0eXBlOiBcImJ1dHRvblwiLCBvbkNsaWNrOiBoYW5kbGVVcGRhdGVQZXJtaXNzaW9uKHJlcXVlc3QsICdkaXNtaXNzJyksIGNoaWxkcmVuOiB0KCdEaXNtaXNzJykgfSldIH0sIHBlcm1pc3Npb24pKSkgfSwgYCR7dXNlci5pZH0vJHtyZXFJbmRleH1gKSk7XG4gICAgICAgIH0pIH0pKTtcbn0pO1xuY29uc3QgQnV0dG9uID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgeyBjbGFzc05hbWUsIC4uLnJlc3QgfSA9IHByb3BzO1xuICAgIHJldHVybiAoanN4KFwiYnV0dG9uXCIsIHsgY2xhc3NOYW1lOiBjbHN4KCdzdHItdmlkZW9fX3Blcm1pc3Npb24tcmVxdWVzdF9fYnV0dG9uJywgY2xhc3NOYW1lKSwgLi4ucmVzdCB9KSk7XG59O1xuY29uc3QgbWVzc2FnZUZvclBlcm1pc3Npb24gPSAodXNlck5hbWUsIHBlcm1pc3Npb24sIHQpID0+IHtcbiAgICBzd2l0Y2ggKHBlcm1pc3Npb24pIHtcbiAgICAgICAgY2FzZSBPd25DYXBhYmlsaXR5LlNFTkRfQVVESU86XG4gICAgICAgICAgICByZXR1cm4gdCgne3sgdXNlck5hbWUgfX0gaXMgcmVxdWVzdGluZyB0byBzcGVhaycsIHsgdXNlck5hbWUgfSk7XG4gICAgICAgIGNhc2UgT3duQ2FwYWJpbGl0eS5TRU5EX1ZJREVPOlxuICAgICAgICAgICAgcmV0dXJuIHQoJ3t7IHVzZXJOYW1lIH19IGlzIHJlcXVlc3RpbmcgdG8gc2hhcmUgdGhlaXIgY2FtZXJhJywge1xuICAgICAgICAgICAgICAgIHVzZXJOYW1lLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIGNhc2UgT3duQ2FwYWJpbGl0eS5TQ1JFRU5TSEFSRTpcbiAgICAgICAgICAgIHJldHVybiB0KCd7eyB1c2VyTmFtZSB9fSBpcyByZXF1ZXN0aW5nIHRvIHByZXNlbnQgdGhlaXIgc2NyZWVuJywge1xuICAgICAgICAgICAgICAgIHVzZXJOYW1lLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gdCgne3sgdXNlck5hbWUgfX0gaXMgcmVxdWVzdGluZyBwZXJtaXNzaW9uOiB7eyBwZXJtaXNzaW9uIH19Jywge1xuICAgICAgICAgICAgICAgIHVzZXJOYW1lLFxuICAgICAgICAgICAgICAgIHBlcm1pc3Npb24sXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuXG5jb25zdCBTdHJlYW1UaGVtZSA9ICh7IGFzOiBDb21wb25lbnQgPSAnZGl2JywgY2xhc3NOYW1lLCBjaGlsZHJlbiwgLi4ucHJvcHMgfSkgPT4ge1xuICAgIHJldHVybiAoanN4KENvbXBvbmVudCwgeyAuLi5wcm9wcywgY2xhc3NOYW1lOiBjbHN4KCdzdHItdmlkZW8nLCBjbGFzc05hbWUpLCBjaGlsZHJlbjogY2hpbGRyZW4gfSkpO1xufTtcblxuY29uc3QgRGVmYXVsdERpc2FibGVkVmlkZW9QcmV2aWV3ID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgdCB9ID0gdXNlSTE4bigpO1xuICAgIHJldHVybiAoanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0cl92aWRlb19fdmlkZW8tcHJldmlld19fZGlzYWJsZWQtdmlkZW8tcHJldmlld1wiLCBjaGlsZHJlbjogdCgnVmlkZW8gaXMgZGlzYWJsZWQnKSB9KSk7XG59O1xuY29uc3QgRGVmYXVsdE5vQ2FtZXJhUHJldmlldyA9ICgpID0+IHtcbiAgICBjb25zdCB7IHQgfSA9IHVzZUkxOG4oKTtcbiAgICByZXR1cm4gKGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHJfdmlkZW9fX3ZpZGVvLXByZXZpZXdfX25vLWNhbWVyYS1wcmV2aWV3XCIsIGNoaWxkcmVuOiB0KCdObyBjYW1lcmEgZm91bmQnKSB9KSk7XG59O1xuY29uc3QgVmlkZW9QcmV2aWV3ID0gKHsgY2xhc3NOYW1lLCBtaXJyb3IgPSB0cnVlLCBEaXNhYmxlZFZpZGVvUHJldmlldyA9IERlZmF1bHREaXNhYmxlZFZpZGVvUHJldmlldywgTm9DYW1lcmFQcmV2aWV3ID0gRGVmYXVsdE5vQ2FtZXJhUHJldmlldywgU3RhcnRpbmdDYW1lcmFQcmV2aWV3ID0gTG9hZGluZ0luZGljYXRvciwgfSkgPT4ge1xuICAgIGNvbnN0IHsgdXNlQ2FtZXJhU3RhdGUgfSA9IHVzZUNhbGxTdGF0ZUhvb2tzKCk7XG4gICAgY29uc3QgeyBkZXZpY2VzLCBzdGF0dXMsIGlzTXV0ZSwgbWVkaWFTdHJlYW0gfSA9IHVzZUNhbWVyYVN0YXRlKCk7XG4gICAgbGV0IGNvbnRlbnRzO1xuICAgIGlmIChpc011dGUgJiYgZGV2aWNlcz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGNvbnRlbnRzID0ganN4KE5vQ2FtZXJhUHJldmlldywge30pO1xuICAgIH1cbiAgICBlbHNlIGlmIChzdGF0dXMgPT09ICdlbmFibGVkJykge1xuICAgICAgICBjb25zdCBsb2FkaW5nID0gIW1lZGlhU3RyZWFtO1xuICAgICAgICBjb250ZW50cyA9IChqc3hzKEZyYWdtZW50LCB7IGNoaWxkcmVuOiBbbWVkaWFTdHJlYW0gJiYgKGpzeChCYXNlVmlkZW8sIHsgc3RyZWFtOiBtZWRpYVN0cmVhbSwgY2xhc3NOYW1lOiBjbHN4KCdzdHItdmlkZW9fX3ZpZGVvLXByZXZpZXcnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnc3RyLXZpZGVvX192aWRlby1wcmV2aWV3LS1taXJyb3InOiBtaXJyb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICAnc3RyLXZpZGVvX192aWRlby1wcmV2aWV3LS1sb2FkaW5nJzogbG9hZGluZyxcbiAgICAgICAgICAgICAgICAgICAgfSkgfSkpLCBsb2FkaW5nICYmIGpzeChTdGFydGluZ0NhbWVyYVByZXZpZXcsIHt9KV0gfSkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29udGVudHMgPSBqc3goRGlzYWJsZWRWaWRlb1ByZXZpZXcsIHt9KTtcbiAgICB9XG4gICAgcmV0dXJuIChqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IGNsc3goJ3N0ci12aWRlb19fdmlkZW8tcHJldmlldy1jb250YWluZXInLCBjbGFzc05hbWUpLCBjaGlsZHJlbjogY29udGVudHMgfSkpO1xufTtcblxuY29uc3QgVG9nZ2xlQnV0dG9uID0gZm9yd2FyZFJlZihmdW5jdGlvbiBUb2dnbGVCdXR0b24ocHJvcHMsIHJlZikge1xuICAgIHJldHVybiBqc3goSWNvbkJ1dHRvbiwgeyBlbmFibGVkOiBwcm9wcy5tZW51U2hvd24sIGljb246IFwiZWxsaXBzaXNcIiwgcmVmOiByZWYgfSk7XG59KTtcbmNvbnN0IERlZmF1bHRTY3JlZW5TaGFyZU92ZXJsYXkgPSAoKSA9PiB7XG4gICAgY29uc3QgY2FsbCA9IHVzZUNhbGwoKTtcbiAgICBjb25zdCB7IHQgfSA9IHVzZUkxOG4oKTtcbiAgICBjb25zdCBzdG9wU2NyZWVuU2hhcmUgPSAoKSA9PiB7XG4gICAgICAgIGNhbGw/LnNjcmVlblNoYXJlLmRpc2FibGUoKTtcbiAgICB9O1xuICAgIHJldHVybiAoanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3NjcmVlbi1zaGFyZS1vdmVybGF5XCIsIGNoaWxkcmVuOiBbanN4KEljb24sIHsgaWNvbjogXCJzY3JlZW4tc2hhcmUtb2ZmXCIgfSksIGpzeChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19zY3JlZW4tc2hhcmUtb3ZlcmxheV9fdGl0bGVcIiwgY2hpbGRyZW46IHQoJ1lvdSBhcmUgcHJlc2VudGluZyB5b3VyIHNjcmVlbicpIH0pLCBqc3hzKFwiYnV0dG9uXCIsIHsgb25DbGljazogc3RvcFNjcmVlblNoYXJlLCBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19zY3JlZW4tc2hhcmUtb3ZlcmxheV9fYnV0dG9uXCIsIGNoaWxkcmVuOiBbanN4KEljb24sIHsgaWNvbjogXCJjbG9zZVwiIH0pLCBcIiBcIiwgdCgnU3RvcCBTY3JlZW4gU2hhcmluZycpXSB9KV0gfSkpO1xufTtcbmNvbnN0IERlZmF1bHRQYXJ0aWNpcGFudFZpZXdVSSA9ICh7IGluZGljYXRvcnNWaXNpYmxlID0gdHJ1ZSwgbWVudVBsYWNlbWVudCA9ICdib3R0b20tc3RhcnQnLCBzaG93TWVudUJ1dHRvbiA9IHRydWUsIFBhcnRpY2lwYW50QWN0aW9uc0NvbnRleHRNZW51OiBQYXJ0aWNpcGFudEFjdGlvbnNDb250ZXh0TWVudSQxID0gUGFydGljaXBhbnRBY3Rpb25zQ29udGV4dE1lbnUsIH0pID0+IHtcbiAgICBjb25zdCB7IHBhcnRpY2lwYW50LCB0cmFja1R5cGUgfSA9IHVzZVBhcnRpY2lwYW50Vmlld0NvbnRleHQoKTtcbiAgICBjb25zdCBpc1NjcmVlblNoYXJpbmcgPSBoYXNTY3JlZW5TaGFyZShwYXJ0aWNpcGFudCk7XG4gICAgaWYgKHBhcnRpY2lwYW50LmlzTG9jYWxQYXJ0aWNpcGFudCAmJlxuICAgICAgICBpc1NjcmVlblNoYXJpbmcgJiZcbiAgICAgICAgdHJhY2tUeXBlID09PSAnc2NyZWVuU2hhcmVUcmFjaycpIHtcbiAgICAgICAgcmV0dXJuIChqc3hzKEZyYWdtZW50LCB7IGNoaWxkcmVuOiBbanN4KERlZmF1bHRTY3JlZW5TaGFyZU92ZXJsYXksIHt9KSwganN4KFBhcnRpY2lwYW50RGV0YWlscywgeyBpbmRpY2F0b3JzVmlzaWJsZTogaW5kaWNhdG9yc1Zpc2libGUgfSldIH0pKTtcbiAgICB9XG4gICAgcmV0dXJuIChqc3hzKEZyYWdtZW50LCB7IGNoaWxkcmVuOiBbc2hvd01lbnVCdXR0b24gJiYgKGpzeChNZW51VG9nZ2xlLCB7IHN0cmF0ZWd5OiBcImZpeGVkXCIsIHBsYWNlbWVudDogbWVudVBsYWNlbWVudCwgVG9nZ2xlQnV0dG9uOiBUb2dnbGVCdXR0b24sIGNoaWxkcmVuOiBqc3goUGFydGljaXBhbnRBY3Rpb25zQ29udGV4dE1lbnUkMSwge30pIH0pKSwganN4KFJlYWN0aW9uLCB7IHBhcnRpY2lwYW50OiBwYXJ0aWNpcGFudCB9KSwganN4KFBhcnRpY2lwYW50RGV0YWlscywgeyBpbmRpY2F0b3JzVmlzaWJsZTogaW5kaWNhdG9yc1Zpc2libGUgfSldIH0pKTtcbn07XG5jb25zdCBQYXJ0aWNpcGFudERldGFpbHMgPSAoeyBpbmRpY2F0b3JzVmlzaWJsZSA9IHRydWUsIH0pID0+IHtcbiAgICBjb25zdCB7IHBhcnRpY2lwYW50IH0gPSB1c2VQYXJ0aWNpcGFudFZpZXdDb250ZXh0KCk7XG4gICAgY29uc3QgeyBpc0xvY2FsUGFydGljaXBhbnQsIGNvbm5lY3Rpb25RdWFsaXR5LCBwaW4sIHNlc3Npb25JZCwgbmFtZSwgdXNlcklkLCB9ID0gcGFydGljaXBhbnQ7XG4gICAgY29uc3QgY2FsbCA9IHVzZUNhbGwoKTtcbiAgICBjb25zdCB7IHQgfSA9IHVzZUkxOG4oKTtcbiAgICBjb25zdCBjb25uZWN0aW9uUXVhbGl0eUFzU3RyaW5nID0gISFjb25uZWN0aW9uUXVhbGl0eSAmJlxuICAgICAgICBTZnVNb2RlbHMuQ29ubmVjdGlvblF1YWxpdHlbY29ubmVjdGlvblF1YWxpdHldLnRvTG93ZXJDYXNlKCk7XG4gICAgY29uc3QgaGFzQXVkaW9UcmFjayA9IGhhc0F1ZGlvKHBhcnRpY2lwYW50KTtcbiAgICBjb25zdCBoYXNWaWRlb1RyYWNrID0gaGFzVmlkZW8ocGFydGljaXBhbnQpO1xuICAgIGNvbnN0IGNhblVucGluID0gISFwaW4gJiYgcGluLmlzTG9jYWxQaW47XG4gICAgcmV0dXJuIChqc3hzKEZyYWdtZW50LCB7IGNoaWxkcmVuOiBbanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fcGFydGljaXBhbnQtZGV0YWlsc1wiLCBjaGlsZHJlbjoganN4cyhcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19wYXJ0aWNpcGFudC1kZXRhaWxzX19uYW1lXCIsIGNoaWxkcmVuOiBbbmFtZSB8fCB1c2VySWQsIGluZGljYXRvcnNWaXNpYmxlICYmICFoYXNBdWRpb1RyYWNrICYmIChqc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fcGFydGljaXBhbnQtZGV0YWlsc19fbmFtZS0tYXVkaW8tbXV0ZWRcIiB9KSksIGluZGljYXRvcnNWaXNpYmxlICYmICFoYXNWaWRlb1RyYWNrICYmIChqc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fcGFydGljaXBhbnQtZGV0YWlsc19fbmFtZS0tdmlkZW8tbXV0ZWRcIiB9KSksIGluZGljYXRvcnNWaXNpYmxlICYmIGNhblVucGluICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IHJlbW92ZSB0aGlzIG1vbnN0cm9zaXR5IG9uY2Ugd2UgaGF2ZSBhIHByb3BlciBkZXNpZ25cbiAgICAgICAgICAgICAgICAgICAgICAgIGpzeChcInNwYW5cIiwgeyB0aXRsZTogdCgnVW5waW4nKSwgb25DbGljazogKCkgPT4gY2FsbD8udW5waW4oc2Vzc2lvbklkKSwgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fcGFydGljaXBhbnQtZGV0YWlsc19fbmFtZS0tcGlubmVkXCIgfSkpLCBpbmRpY2F0b3JzVmlzaWJsZSAmJiBqc3goU3BlZWNoSW5kaWNhdG9yLCB7fSldIH0pIH0pLCBpbmRpY2F0b3JzVmlzaWJsZSAmJiAoanN4KE5vdGlmaWNhdGlvbiwgeyBpc1Zpc2libGU6IGlzTG9jYWxQYXJ0aWNpcGFudCAmJlxuICAgICAgICAgICAgICAgICAgICBjb25uZWN0aW9uUXVhbGl0eSA9PT0gU2Z1TW9kZWxzLkNvbm5lY3Rpb25RdWFsaXR5LlBPT1IsIG1lc3NhZ2U6IHQoJ1Bvb3IgY29ubmVjdGlvbiBxdWFsaXR5JyksIGNoaWxkcmVuOiBjb25uZWN0aW9uUXVhbGl0eUFzU3RyaW5nICYmIChqc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBjbHN4KCdzdHItdmlkZW9fX3BhcnRpY2lwYW50LWRldGFpbHNfX2Nvbm5lY3Rpb24tcXVhbGl0eScsIGBzdHItdmlkZW9fX3BhcnRpY2lwYW50LWRldGFpbHNfX2Nvbm5lY3Rpb24tcXVhbGl0eS0tJHtjb25uZWN0aW9uUXVhbGl0eUFzU3RyaW5nfWApLCB0aXRsZTogY29ubmVjdGlvblF1YWxpdHlBc1N0cmluZyB9KSkgfSkpXSB9KSk7XG59O1xuY29uc3QgU3BlZWNoSW5kaWNhdG9yID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgcGFydGljaXBhbnQgfSA9IHVzZVBhcnRpY2lwYW50Vmlld0NvbnRleHQoKTtcbiAgICBjb25zdCB7IGlzU3BlYWtpbmcsIGlzRG9taW5hbnRTcGVha2VyIH0gPSBwYXJ0aWNpcGFudDtcbiAgICByZXR1cm4gKGpzeHMoXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBjbHN4KCdzdHItdmlkZW9fX3NwZWVjaC1pbmRpY2F0b3InLCBpc1NwZWFraW5nICYmICdzdHItdmlkZW9fX3NwZWVjaC1pbmRpY2F0b3ItLXNwZWFraW5nJywgaXNEb21pbmFudFNwZWFrZXIgJiYgJ3N0ci12aWRlb19fc3BlZWNoLWluZGljYXRvci0tZG9taW5hbnQnKSwgY2hpbGRyZW46IFtqc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fc3BlZWNoLWluZGljYXRvcl9fYmFyXCIgfSksIGpzeChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19zcGVlY2gtaW5kaWNhdG9yX19iYXJcIiB9KSwganN4KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3NwZWVjaC1pbmRpY2F0b3JfX2JhclwiIH0pXSB9KSk7XG59O1xuXG5jb25zdCBQYXJ0aWNpcGFudFZpZXcgPSBmb3J3YXJkUmVmKGZ1bmN0aW9uIFBhcnRpY2lwYW50Vmlldyh7IHBhcnRpY2lwYW50LCB0cmFja1R5cGUgPSAndmlkZW9UcmFjaycsIG1pcnJvciwgbXV0ZUF1ZGlvLCByZWZzOiB7IHNldFZpZGVvRWxlbWVudCwgc2V0VmlkZW9QbGFjZWhvbGRlckVsZW1lbnQgfSA9IHt9LCBjbGFzc05hbWUsIFZpZGVvUGxhY2Vob2xkZXIsIFBpY3R1cmVJblBpY3R1cmVQbGFjZWhvbGRlciwgUGFydGljaXBhbnRWaWV3VUkgPSBEZWZhdWx0UGFydGljaXBhbnRWaWV3VUksIH0sIHJlZikge1xuICAgIGNvbnN0IHsgaXNMb2NhbFBhcnRpY2lwYW50LCBpc1NwZWFraW5nLCBpc0RvbWluYW50U3BlYWtlciwgc2Vzc2lvbklkIH0gPSBwYXJ0aWNpcGFudDtcbiAgICBjb25zdCBoYXNBdWRpb1RyYWNrID0gaGFzQXVkaW8ocGFydGljaXBhbnQpO1xuICAgIGNvbnN0IGhhc1ZpZGVvVHJhY2sgPSBoYXNWaWRlbyhwYXJ0aWNpcGFudCk7XG4gICAgY29uc3QgaGFzU2NyZWVuU2hhcmVBdWRpb1RyYWNrID0gaGFzU2NyZWVuU2hhcmVBdWRpbyhwYXJ0aWNpcGFudCk7XG4gICAgY29uc3QgW3RyYWNrZWRFbGVtZW50LCBzZXRUcmFja2VkRWxlbWVudF0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCBbY29udGV4dFZpZGVvRWxlbWVudCwgc2V0Q29udGV4dFZpZGVvRWxlbWVudF0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCBbY29udGV4dFZpZGVvUGxhY2Vob2xkZXJFbGVtZW50LCBzZXRDb250ZXh0VmlkZW9QbGFjZWhvbGRlckVsZW1lbnRdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgLy8gVE9ETzogYWxsb3cgdG8gcGFzcyBjdXN0b20gVmlld3BvcnRUcmFja2VyIGluc3RhbmNlIGZyb20gcHJvcHNcbiAgICB1c2VUcmFja0VsZW1lbnRWaXNpYmlsaXR5KHtcbiAgICAgICAgc2Vzc2lvbklkLFxuICAgICAgICB0cmFja2VkRWxlbWVudCxcbiAgICAgICAgdHJhY2tUeXBlLFxuICAgIH0pO1xuICAgIGNvbnN0IHsgdXNlSW5jb21pbmdWaWRlb1NldHRpbmdzIH0gPSB1c2VDYWxsU3RhdGVIb29rcygpO1xuICAgIGNvbnN0IHsgaXNQYXJ0aWNpcGFudFZpZGVvRW5hYmxlZCB9ID0gdXNlSW5jb21pbmdWaWRlb1NldHRpbmdzKCk7XG4gICAgY29uc3QgcGFydGljaXBhbnRWaWV3Q29udGV4dFZhbHVlID0gdXNlTWVtbygoKSA9PiAoe1xuICAgICAgICBwYXJ0aWNpcGFudCxcbiAgICAgICAgcGFydGljaXBhbnRWaWV3RWxlbWVudDogdHJhY2tlZEVsZW1lbnQsXG4gICAgICAgIHZpZGVvRWxlbWVudDogY29udGV4dFZpZGVvRWxlbWVudCxcbiAgICAgICAgdmlkZW9QbGFjZWhvbGRlckVsZW1lbnQ6IGNvbnRleHRWaWRlb1BsYWNlaG9sZGVyRWxlbWVudCxcbiAgICAgICAgdHJhY2tUeXBlLFxuICAgIH0pLCBbXG4gICAgICAgIGNvbnRleHRWaWRlb0VsZW1lbnQsXG4gICAgICAgIGNvbnRleHRWaWRlb1BsYWNlaG9sZGVyRWxlbWVudCxcbiAgICAgICAgcGFydGljaXBhbnQsXG4gICAgICAgIHRyYWNrZWRFbGVtZW50LFxuICAgICAgICB0cmFja1R5cGUsXG4gICAgXSk7XG4gICAgY29uc3QgdmlkZW9SZWZzID0gdXNlTWVtbygoKSA9PiAoe1xuICAgICAgICBzZXRWaWRlb0VsZW1lbnQ6IChlbGVtZW50KSA9PiB7XG4gICAgICAgICAgICBzZXRWaWRlb0VsZW1lbnQ/LihlbGVtZW50KTtcbiAgICAgICAgICAgIHNldENvbnRleHRWaWRlb0VsZW1lbnQoZWxlbWVudCk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldFZpZGVvUGxhY2Vob2xkZXJFbGVtZW50OiAoZWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgc2V0VmlkZW9QbGFjZWhvbGRlckVsZW1lbnQ/LihlbGVtZW50KTtcbiAgICAgICAgICAgIHNldENvbnRleHRWaWRlb1BsYWNlaG9sZGVyRWxlbWVudChlbGVtZW50KTtcbiAgICAgICAgfSxcbiAgICB9KSwgW3NldFZpZGVvRWxlbWVudCwgc2V0VmlkZW9QbGFjZWhvbGRlckVsZW1lbnRdKTtcbiAgICByZXR1cm4gKGpzeChcImRpdlwiLCB7IFwiZGF0YS10ZXN0aWRcIjogXCJwYXJ0aWNpcGFudC12aWV3XCIsIHJlZjogKGVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgIGFwcGx5RWxlbWVudFRvUmVmKHJlZiwgZWxlbWVudCk7XG4gICAgICAgICAgICBzZXRUcmFja2VkRWxlbWVudChlbGVtZW50KTtcbiAgICAgICAgfSwgY2xhc3NOYW1lOiBjbHN4KCdzdHItdmlkZW9fX3BhcnRpY2lwYW50LXZpZXcnLCBpc0RvbWluYW50U3BlYWtlciAmJiAnc3RyLXZpZGVvX19wYXJ0aWNpcGFudC12aWV3LS1kb21pbmFudC1zcGVha2VyJywgaXNTcGVha2luZyAmJiAnc3RyLXZpZGVvX19wYXJ0aWNpcGFudC12aWV3LS1zcGVha2luZycsICFoYXNWaWRlb1RyYWNrICYmICdzdHItdmlkZW9fX3BhcnRpY2lwYW50LXZpZXctLW5vLXZpZGVvJywgIWhhc0F1ZGlvVHJhY2sgJiYgJ3N0ci12aWRlb19fcGFydGljaXBhbnQtdmlldy0tbm8tYXVkaW8nLCBjbGFzc05hbWUpLCBjaGlsZHJlbjoganN4cyhQYXJ0aWNpcGFudFZpZXdDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiBwYXJ0aWNpcGFudFZpZXdDb250ZXh0VmFsdWUsIGNoaWxkcmVuOiBbIWlzTG9jYWxQYXJ0aWNpcGFudCAmJiAhbXV0ZUF1ZGlvICYmIChqc3hzKEZyYWdtZW50LCB7IGNoaWxkcmVuOiBbaGFzQXVkaW9UcmFjayAmJiAoanN4KEF1ZGlvLCB7IHBhcnRpY2lwYW50OiBwYXJ0aWNpcGFudCwgdHJhY2tUeXBlOiBcImF1ZGlvVHJhY2tcIiB9KSksIGhhc1NjcmVlblNoYXJlQXVkaW9UcmFjayAmJiAoanN4KEF1ZGlvLCB7IHBhcnRpY2lwYW50OiBwYXJ0aWNpcGFudCwgdHJhY2tUeXBlOiBcInNjcmVlblNoYXJlQXVkaW9UcmFja1wiIH0pKV0gfSkpLCBqc3goVmlkZW8kMSwgeyBWaWRlb1BsYWNlaG9sZGVyOiBWaWRlb1BsYWNlaG9sZGVyLCBQaWN0dXJlSW5QaWN0dXJlUGxhY2Vob2xkZXI6IFBpY3R1cmVJblBpY3R1cmVQbGFjZWhvbGRlciwgcGFydGljaXBhbnQ6IHBhcnRpY2lwYW50LCB0cmFja1R5cGU6IHRyYWNrVHlwZSwgcmVmczogdmlkZW9SZWZzLCBlbmFibGVkOiBpc0xvY2FsUGFydGljaXBhbnQgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYWNrVHlwZSAhPT0gJ3ZpZGVvVHJhY2snIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBpc1BhcnRpY2lwYW50VmlkZW9FbmFibGVkKHBhcnRpY2lwYW50LnNlc3Npb25JZCksIG1pcnJvcjogbWlycm9yLCBhdXRvUGxheTogdHJ1ZSB9KSwgaXNDb21wb25lbnRUeXBlKFBhcnRpY2lwYW50Vmlld1VJKSA/IChqc3goUGFydGljaXBhbnRWaWV3VUksIHt9KSkgOiAoUGFydGljaXBhbnRWaWV3VUkpXSB9KSB9KSk7XG59KTtcblBhcnRpY2lwYW50Vmlldy5kaXNwbGF5TmFtZSA9ICdQYXJ0aWNpcGFudFZpZXcnO1xuXG4vLyByZS1leHBvcnRpbmcgdGhlIFN0cmVhbUNhbGxQcm92aWRlciBhcyBTdHJlYW1DYWxsXG5jb25zdCBTdHJlYW1DYWxsID0gU3RyZWFtQ2FsbFByb3ZpZGVyO1xuU3RyZWFtQ2FsbC5kaXNwbGF5TmFtZSA9ICdTdHJlYW1DYWxsJztcblxudmFyIEpvaW5pbmcgPSBcIkpvaW5pbmdcIjtcbnZhciBNaWMgPSBcIk1pY1wiO1xudmFyIFJpbmdpbmcgPSBcIlJpbmdpbmdcIjtcbnZhciBTcGVha2VycyA9IFwiU3BlYWtlcnNcIjtcbnZhciBWaWRlbyA9IFwiVmlkZW9cIjtcbnZhciBMaXZlID0gXCJMaXZlXCI7XG52YXIgUmVhY3Rpb25zID0gXCJSZWFjdGlvbnNcIjtcbnZhciBTdGF0aXN0aWNzID0gXCJTdGF0aXN0aWNzXCI7XG52YXIgSW52aXRlID0gXCJJbnZpdGVcIjtcbnZhciBKb2luID0gXCJKb2luXCI7XG52YXIgWW91ID0gXCJZb3VcIjtcbnZhciBNZSA9IFwiTWVcIjtcbnZhciBVbmtub3duID0gXCJVbmtub3duXCI7XG52YXIgRGVmYXVsdCA9IFwiRGVmYXVsdFwiO1xudmFyIFJlZnJlc2ggPSBcIlJlZnJlc2hcIjtcbnZhciBBbGxvdyA9IFwiQWxsb3dcIjtcbnZhciBSZXZva2UgPSBcIlJldm9rZVwiO1xudmFyIERpc21pc3MgPSBcIkRpc21pc3NcIjtcbnZhciBQaW5uZWQgPSBcIlBpbm5lZFwiO1xudmFyIFVucGluID0gXCJVbnBpblwiO1xudmFyIFBpbiA9IFwiUGluXCI7XG52YXIgQmxvY2sgPSBcIkJsb2NrXCI7XG52YXIgRW50ZXIgPSBcIkVudGVyXCI7XG52YXIgTGVhdmUgPSBcIkxlYXZlXCI7XG52YXIgUGFydGljaXBhbnRzID0gXCJQYXJ0aWNpcGFudHNcIjtcbnZhciBBbm9ueW1vdXMgPSBcIiwgYW5kICh7eyBjb3VudCB9fSkgYW5vbnltb3VzXCI7XG52YXIgZW4gPSB7XG5cdEpvaW5pbmc6IEpvaW5pbmcsXG5cdE1pYzogTWljLFxuXHRcIk5vIGludGVybmV0IGNvbm5lY3Rpb25cIjogXCJObyBpbnRlcm5ldCBjb25uZWN0aW9uXCIsXG5cdFwiUmUtY29ubmVjdGluZ1wiOiBcIlJlLWNvbm5lY3RpbmdcIixcblx0UmluZ2luZzogUmluZ2luZyxcblx0XCJTY3JlZW4gU2hhcmVcIjogXCJTY3JlZW4gU2hhcmVcIixcblx0XCJTZWxlY3QgYSBDYW1lcmFcIjogXCJTZWxlY3QgYSBDYW1lcmFcIixcblx0XCJTZWxlY3QgYSBNaWNcIjogXCJTZWxlY3QgYSBNaWNcIixcblx0XCJTZWxlY3QgU3BlYWtlcnNcIjogXCJTZWxlY3QgU3BlYWtlcnNcIixcblx0U3BlYWtlcnM6IFNwZWFrZXJzLFxuXHRWaWRlbzogVmlkZW8sXG5cdFwiWW91IGFyZSBtdXRlZC4gVW5tdXRlIHRvIHNwZWFrLlwiOiBcIllvdSBhcmUgbXV0ZWQuIFVubXV0ZSB0byBzcGVhay5cIixcblx0TGl2ZTogTGl2ZSxcblx0XCJZb3UgY2FuIG5vdyBzcGVhay5cIjogXCJZb3UgY2FuIG5vdyBzcGVhay5cIixcblx0XCJBd2FpdGluZyBmb3IgYW4gYXBwcm92YWwgdG8gc3BlYWsuXCI6IFwiQXdhaXRpbmcgZm9yIGFuIGFwcHJvdmFsIHRvIHNwZWFrLlwiLFxuXHRcIllvdSBjYW4gbm8gbG9uZ2VyIHNwZWFrLlwiOiBcIllvdSBjYW4gbm8gbG9uZ2VyIHNwZWFrLlwiLFxuXHRcIllvdSBjYW4gbm93IHNoYXJlIHlvdXIgdmlkZW8uXCI6IFwiWW91IGNhbiBub3cgc2hhcmUgeW91ciB2aWRlby5cIixcblx0XCJBd2FpdGluZyBmb3IgYW4gYXBwcm92YWwgdG8gc2hhcmUgeW91ciB2aWRlby5cIjogXCJBd2FpdGluZyBmb3IgYW4gYXBwcm92YWwgdG8gc2hhcmUgeW91ciB2aWRlby5cIixcblx0XCJZb3UgY2FuIG5vIGxvbmdlciBzaGFyZSB5b3VyIHZpZGVvLlwiOiBcIllvdSBjYW4gbm8gbG9uZ2VyIHNoYXJlIHlvdXIgdmlkZW8uXCIsXG5cdFwiV2FpdGluZyBmb3IgcmVjb3JkaW5nIHRvIHN0b3AuLi5cIjogXCJXYWl0aW5nIGZvciByZWNvcmRpbmcgdG8gc3RvcC4uLlwiLFxuXHRcIldhaXRpbmcgZm9yIHJlY29yZGluZyB0byBzdGFydC4uLlwiOiBcIldhaXRpbmcgZm9yIHJlY29yZGluZyB0byBzdGFydC4uLlwiLFxuXHRcIlJlY29yZCBjYWxsXCI6IFwiUmVjb3JkIGNhbGxcIixcblx0UmVhY3Rpb25zOiBSZWFjdGlvbnMsXG5cdFN0YXRpc3RpY3M6IFN0YXRpc3RpY3MsXG5cdFwiWW91IGNhbiBub3cgc2hhcmUgeW91ciBzY3JlZW4uXCI6IFwiWW91IGNhbiBub3cgc2hhcmUgeW91ciBzY3JlZW4uXCIsXG5cdFwiQXdhaXRpbmcgZm9yIGFuIGFwcHJvdmFsIHRvIHNoYXJlIHNjcmVlbi5cIjogXCJBd2FpdGluZyBmb3IgYW4gYXBwcm92YWwgdG8gc2hhcmUgc2NyZWVuLlwiLFxuXHRcIllvdSBjYW4gbm8gbG9uZ2VyIHNoYXJlIHlvdXIgc2NyZWVuLlwiOiBcIllvdSBjYW4gbm8gbG9uZ2VyIHNoYXJlIHlvdXIgc2NyZWVuLlwiLFxuXHRcIlNoYXJlIHNjcmVlblwiOiBcIlNoYXJlIHNjcmVlblwiLFxuXHRcIkluY29taW5nIENhbGwuLi5cIjogXCJJbmNvbWluZyBDYWxsLi4uXCIsXG5cdFwiQ2FsbGluZy4uLlwiOiBcIkNhbGxpbmcuLi5cIixcblx0XCJNdXRlIEFsbFwiOiBcIk11dGUgQWxsXCIsXG5cdEludml0ZTogSW52aXRlLFxuXHRKb2luOiBKb2luLFxuXHRZb3U6IFlvdSxcblx0TWU6IE1lLFxuXHRVbmtub3duOiBVbmtub3duLFxuXHRcIlRvZ2dsZSBkZXZpY2UgbWVudVwiOiBcIlRvZ2dsZSBkZXZpY2UgbWVudVwiLFxuXHREZWZhdWx0OiBEZWZhdWx0LFxuXHRcIkNhbGwgUmVjb3JkaW5nc1wiOiBcIkNhbGwgUmVjb3JkaW5nc1wiLFxuXHRSZWZyZXNoOiBSZWZyZXNoLFxuXHRcIkNoZWNrIHlvdXIgYnJvd3NlciB2aWRlbyBwZXJtaXNzaW9uc1wiOiBcIkNoZWNrIHlvdXIgYnJvd3NlciB2aWRlbyBwZXJtaXNzaW9uc1wiLFxuXHRcIlZpZGVvIHB1Ymxpc2hpbmcgaXMgZGlzYWJsZWQgYnkgdGhlIHN5c3RlbVwiOiBcIlZpZGVvIHB1Ymxpc2hpbmcgaXMgZGlzYWJsZWQgYnkgdGhlIHN5c3RlbVwiLFxuXHRcIllvdSBoYXZlIG5vIHBlcm1pc3Npb24gdG8gc2hhcmUgeW91ciB2aWRlb1wiOiBcIllvdSBoYXZlIG5vIHBlcm1pc3Npb24gdG8gc2hhcmUgeW91ciB2aWRlb1wiLFxuXHRcIllvdSBoYXZlIG5vIHBlcm1pc3Npb24gdG8gc2hhcmUgeW91ciBhdWRpb1wiOiBcIllvdSBoYXZlIG5vIHBlcm1pc3Npb24gdG8gc2hhcmUgeW91ciBhdWRpb1wiLFxuXHRcIllvdSBhcmUgcHJlc2VudGluZyB5b3VyIHNjcmVlblwiOiBcIllvdSBhcmUgcHJlc2VudGluZyB5b3VyIHNjcmVlblwiLFxuXHRcIlN0b3AgU2NyZWVuIFNoYXJpbmdcIjogXCJTdG9wIFNjcmVlbiBTaGFyaW5nXCIsXG5cdEFsbG93OiBBbGxvdyxcblx0UmV2b2tlOiBSZXZva2UsXG5cdERpc21pc3M6IERpc21pc3MsXG5cdFwiTWljcm9waG9uZSBvblwiOiBcIk1pY3JvcGhvbmUgb25cIixcblx0XCJNaWNyb3Bob25lIG9mZlwiOiBcIk1pY3JvcGhvbmUgb2ZmXCIsXG5cdFwiQ2FtZXJhIG9uXCI6IFwiQ2FtZXJhIG9uXCIsXG5cdFwiQ2FtZXJhIG9mZlwiOiBcIkNhbWVyYSBvZmZcIixcblx0XCJObyBjYW1lcmEgZm91bmRcIjogXCJObyBjYW1lcmEgZm91bmRcIixcblx0XCJWaWRlbyBpcyBkaXNhYmxlZFwiOiBcIlZpZGVvIGlzIGRpc2FibGVkXCIsXG5cdFBpbm5lZDogUGlubmVkLFxuXHRVbnBpbjogVW5waW4sXG5cdFBpbjogUGluLFxuXHRcIlBpbiBmb3IgZXZlcnlvbmVcIjogXCJQaW4gZm9yIGV2ZXJ5b25lXCIsXG5cdFwiVW5waW4gZm9yIGV2ZXJ5b25lXCI6IFwiVW5waW4gZm9yIGV2ZXJ5b25lXCIsXG5cdEJsb2NrOiBCbG9jayxcblx0XCJUdXJuIG9mZiB2aWRlb1wiOiBcIlR1cm4gb2ZmIHZpZGVvXCIsXG5cdFwiVHVybiBvZmYgc2NyZWVuIHNoYXJlXCI6IFwiVHVybiBvZmYgc2NyZWVuIHNoYXJlXCIsXG5cdFwiTXV0ZSBhdWRpb1wiOiBcIk11dGUgYXVkaW9cIixcblx0XCJNdXRlIHNjcmVlbiBzaGFyZSBhdWRpb1wiOiBcIk11dGUgc2NyZWVuIHNoYXJlIGF1ZGlvXCIsXG5cdFwiQWxsb3cgYXVkaW9cIjogXCJBbGxvdyBhdWRpb1wiLFxuXHRcIkFsbG93IHZpZGVvXCI6IFwiQWxsb3cgdmlkZW9cIixcblx0XCJBbGxvdyBzY3JlZW4gc2hhcmluZ1wiOiBcIkFsbG93IHNjcmVlbiBzaGFyaW5nXCIsXG5cdFwiRGlzYWJsZSBhdWRpb1wiOiBcIkRpc2FibGUgYXVkaW9cIixcblx0XCJEaXNhYmxlIHZpZGVvXCI6IFwiRGlzYWJsZSB2aWRlb1wiLFxuXHRcIkRpc2FibGUgc2NyZWVuIHNoYXJpbmdcIjogXCJEaXNhYmxlIHNjcmVlbiBzaGFyaW5nXCIsXG5cdEVudGVyOiBFbnRlcixcblx0TGVhdmU6IExlYXZlLFxuXHRcIkxlYXZlIGNhbGxcIjogXCJMZWF2ZSBjYWxsXCIsXG5cdFwiRW5kIGNhbGwgZm9yIGFsbFwiOiBcIkVuZCBjYWxsIGZvciBhbGxcIixcblx0XCJ7eyBkaXJlY3Rpb24gfX0gZnVsbHNjcmVlblwiOiBcInt7IGRpcmVjdGlvbiB9fSBmdWxsc2NyZWVuXCIsXG5cdFwie3sgZGlyZWN0aW9uIH19IHBpY3R1cmUtaW4tcGljdHVyZVwiOiBcInt7IGRpcmVjdGlvbiB9fSBwaWN0dXJlLWluLXBpY3R1cmVcIixcblx0XCJEb21pbmFudCBTcGVha2VyXCI6IFwiRG9taW5hbnQgU3BlYWtlclwiLFxuXHRcIlBvb3IgY29ubmVjdGlvbiBxdWFsaXR5XCI6IFwiUG9vciBjb25uZWN0aW9uIHF1YWxpdHkuIFBsZWFzZSBjaGVjayB5b3VyIGludGVybmV0IGNvbm5lY3Rpb24uXCIsXG5cdFBhcnRpY2lwYW50czogUGFydGljaXBhbnRzLFxuXHRBbm9ueW1vdXM6IEFub255bW91cyxcblx0XCJObyBwYXJ0aWNpcGFudHMgZm91bmRcIjogXCJObyBwYXJ0aWNpcGFudHMgZm91bmRcIixcblx0XCJQYXJ0aWNpcGFudHMgKHt7IG51bWJlck9mUGFydGljaXBhbnRzIH19KVwiOiBcIlBhcnRpY2lwYW50cyAoe3sgbnVtYmVyT2ZQYXJ0aWNpcGFudHMgfX0pXCIsXG5cdFwie3sgdXNlck5hbWUgfX0gaXMgc2hhcmluZyB0aGVpciBzY3JlZW5cIjogXCJ7eyB1c2VyTmFtZSB9fSBpcyBzaGFyaW5nIHRoZWlyIHNjcmVlblwiLFxuXHRcInt7IHVzZXJOYW1lIH19IGlzIHJlcXVlc3RpbmcgdG8gc3BlYWtcIjogXCJ7eyB1c2VyTmFtZSB9fSBpcyByZXF1ZXN0aW5nIHRvIHNwZWFrXCIsXG5cdFwie3sgdXNlck5hbWUgfX0gaXMgcmVxdWVzdGluZyB0byBzaGFyZSB0aGVpciBjYW1lcmFcIjogXCJ7eyB1c2VyTmFtZSB9fSBpcyByZXF1ZXN0aW5nIHRvIHNoYXJlIHRoZWlyIGNhbWVyYVwiLFxuXHRcInt7IHVzZXJOYW1lIH19IGlzIHJlcXVlc3RpbmcgdG8gcHJlc2VudCB0aGVpciBzY3JlZW5cIjogXCJ7eyB1c2VyTmFtZSB9fSBpcyByZXF1ZXN0aW5nIHRvIHByZXNlbnQgdGhlaXIgc2NyZWVuXCIsXG5cdFwie3sgdXNlck5hbWUgfX0gaXMgcmVxdWVzdGluZyBwZXJtaXNzaW9uOiB7eyBwZXJtaXNzaW9uIH19XCI6IFwie3sgdXNlck5hbWUgfX0gaXMgcmVxdWVzdGluZyBwZXJtaXNzaW9uOiB7eyBwZXJtaXNzaW9uIH19XCJcbn07XG5cbmNvbnN0IHRyYW5zbGF0aW9ucyA9IHsgZW4gfTtcblxuY29uc3QgU3RyZWFtVmlkZW8gPSAocHJvcHMpID0+IHtcbiAgICByZXR1cm4gKGpzeChTdHJlYW1WaWRlb1Byb3ZpZGVyLCB7IHRyYW5zbGF0aW9uc092ZXJyaWRlczogdHJhbnNsYXRpb25zLCAuLi5wcm9wcyB9KSk7XG59O1xuU3RyZWFtVmlkZW8uZGlzcGxheU5hbWUgPSAnU3RyZWFtVmlkZW8nO1xuXG5jb25zdCB1c2VGaWx0ZXJlZFBhcnRpY2lwYW50cyA9ICh7IGV4Y2x1ZGVMb2NhbFBhcnRpY2lwYW50ID0gZmFsc2UsIGZpbHRlclBhcnRpY2lwYW50cywgfSkgPT4ge1xuICAgIGNvbnN0IHsgdXNlUGFydGljaXBhbnRzLCB1c2VSZW1vdGVQYXJ0aWNpcGFudHMgfSA9IHVzZUNhbGxTdGF0ZUhvb2tzKCk7XG4gICAgY29uc3QgYWxsUGFydGljaXBhbnRzID0gdXNlUGFydGljaXBhbnRzKCk7XG4gICAgY29uc3QgcmVtb3RlUGFydGljaXBhbnRzID0gdXNlUmVtb3RlUGFydGljaXBhbnRzKCk7XG4gICAgcmV0dXJuIHVzZU1lbW8oKCkgPT4ge1xuICAgICAgICBjb25zdCB1bmZpbHRlcmVkUGFydGljaXBhbnRzID0gZXhjbHVkZUxvY2FsUGFydGljaXBhbnRcbiAgICAgICAgICAgID8gcmVtb3RlUGFydGljaXBhbnRzXG4gICAgICAgICAgICA6IGFsbFBhcnRpY2lwYW50cztcbiAgICAgICAgcmV0dXJuIGZpbHRlclBhcnRpY2lwYW50c1xuICAgICAgICAgICAgPyB1bmZpbHRlcmVkUGFydGljaXBhbnRzLmZpbHRlcigocGFydGljaXBhbnQpID0+IGZpbHRlclBhcnRpY2lwYW50cyhwYXJ0aWNpcGFudCkpXG4gICAgICAgICAgICA6IHVuZmlsdGVyZWRQYXJ0aWNpcGFudHM7XG4gICAgfSwgW1xuICAgICAgICBhbGxQYXJ0aWNpcGFudHMsXG4gICAgICAgIHJlbW90ZVBhcnRpY2lwYW50cyxcbiAgICAgICAgZXhjbHVkZUxvY2FsUGFydGljaXBhbnQsXG4gICAgICAgIGZpbHRlclBhcnRpY2lwYW50cyxcbiAgICBdKTtcbn07XG5jb25zdCB1c2VQYWdpbmF0ZWRMYXlvdXRTb3J0UHJlc2V0ID0gKGNhbGwpID0+IHtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIWNhbGwpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNhbGwuc2V0U29ydFBhcnRpY2lwYW50c0J5KHBhZ2luYXRlZExheW91dFNvcnRQcmVzZXQpO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgcmVzZXRTb3J0UHJlc2V0KGNhbGwpO1xuICAgICAgICB9O1xuICAgIH0sIFtjYWxsXSk7XG59O1xuY29uc3QgdXNlU3BlYWtlckxheW91dFNvcnRQcmVzZXQgPSAoY2FsbCwgaXNPbmVPbk9uZUNhbGwpID0+IHtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIWNhbGwpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIC8vIGFsd2F5cyBzaG93IHRoZSByZW1vdGUgcGFydGljaXBhbnQgaW4gdGhlIHNwb3RsaWdodFxuICAgICAgICBpZiAoaXNPbmVPbk9uZUNhbGwpIHtcbiAgICAgICAgICAgIGNhbGwuc2V0U29ydFBhcnRpY2lwYW50c0J5KGNvbWJpbmVDb21wYXJhdG9ycyhzY3JlZW5TaGFyaW5nLCBsb2dnZWRJbikpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY2FsbC5zZXRTb3J0UGFydGljaXBhbnRzQnkoc3BlYWtlckxheW91dFNvcnRQcmVzZXQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICByZXNldFNvcnRQcmVzZXQoY2FsbCk7XG4gICAgICAgIH07XG4gICAgfSwgW2NhbGwsIGlzT25lT25PbmVDYWxsXSk7XG59O1xuY29uc3QgcmVzZXRTb3J0UHJlc2V0ID0gKGNhbGwpID0+IHtcbiAgICAvLyByZXNldCB0aGUgc29ydGluZyB0byB0aGUgZGVmYXVsdCBmb3IgdGhlIGNhbGwgdHlwZVxuICAgIGNvbnN0IGNhbGxDb25maWcgPSBDYWxsVHlwZXMuZ2V0KGNhbGwudHlwZSk7XG4gICAgY2FsbC5zZXRTb3J0UGFydGljaXBhbnRzQnkoY2FsbENvbmZpZy5vcHRpb25zLnNvcnRQYXJ0aWNpcGFudHNCeSB8fCBkZWZhdWx0U29ydFByZXNldCk7XG59O1xuY29uc3QgbG9nZ2VkSW4gPSAoYSwgYikgPT4ge1xuICAgIGlmIChhLmlzTG9jYWxQYXJ0aWNpcGFudClcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgaWYgKGIuaXNMb2NhbFBhcnRpY2lwYW50KVxuICAgICAgICByZXR1cm4gLTE7XG4gICAgcmV0dXJuIDA7XG59O1xuXG5jb25zdCBMaXZlc3RyZWFtTGF5b3V0ID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgeyB1c2VQYXJ0aWNpcGFudHMsIHVzZVJlbW90ZVBhcnRpY2lwYW50cywgdXNlSGFzT25nb2luZ1NjcmVlblNoYXJlIH0gPSB1c2VDYWxsU3RhdGVIb29rcygpO1xuICAgIGNvbnN0IGNhbGwgPSB1c2VDYWxsKCk7XG4gICAgY29uc3QgcGFydGljaXBhbnRzID0gdXNlUGFydGljaXBhbnRzKCk7XG4gICAgY29uc3QgW2N1cnJlbnRTcGVha2VyXSA9IHBhcnRpY2lwYW50cztcbiAgICBjb25zdCByZW1vdGVQYXJ0aWNpcGFudHMgPSB1c2VSZW1vdGVQYXJ0aWNpcGFudHMoKTtcbiAgICBjb25zdCBoYXNPbmdvaW5nU2NyZWVuU2hhcmUgPSB1c2VIYXNPbmdvaW5nU2NyZWVuU2hhcmUoKTtcbiAgICBjb25zdCBwcmVzZW50ZXIgPSBoYXNPbmdvaW5nU2NyZWVuU2hhcmVcbiAgICAgICAgPyBwYXJ0aWNpcGFudHMuZmluZChoYXNTY3JlZW5TaGFyZSlcbiAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgdXNlUGFnaW5hdGVkTGF5b3V0U29ydFByZXNldChjYWxsKTtcbiAgICBjb25zdCBPdmVybGF5ID0gKGpzeChQYXJ0aWNpcGFudE92ZXJsYXksIHsgc2hvd1BhcnRpY2lwYW50Q291bnQ6IHByb3BzLnNob3dQYXJ0aWNpcGFudENvdW50LCBzaG93RHVyYXRpb246IHByb3BzLnNob3dEdXJhdGlvbiwgc2hvd0xpdmVCYWRnZTogcHJvcHMuc2hvd0xpdmVCYWRnZSwgc2hvd1NwZWFrZXJOYW1lOiBwcm9wcy5zaG93U3BlYWtlck5hbWUgfSkpO1xuICAgIGNvbnN0IHsgZmxvYXRpbmdQYXJ0aWNpcGFudFByb3BzIH0gPSBwcm9wcztcbiAgICBjb25zdCBGbG9hdGluZ1BhcnRpY2lwYW50T3ZlcmxheSA9IGhhc09uZ29pbmdTY3JlZW5TaGFyZSAmJiAoanN4KFBhcnRpY2lwYW50T3ZlcmxheVxuICAgIC8vIHRoZXNlIGVsZW1lbnRzIGFyZW4ndCBuZWVkZWQgZm9yIHRoZSB2aWRlbyBmZWVkXG4gICAgLCB7IFxuICAgICAgICAvLyB0aGVzZSBlbGVtZW50cyBhcmVuJ3QgbmVlZGVkIGZvciB0aGUgdmlkZW8gZmVlZFxuICAgICAgICBzaG93UGFydGljaXBhbnRDb3VudDogZmxvYXRpbmdQYXJ0aWNpcGFudFByb3BzPy5zaG93UGFydGljaXBhbnRDb3VudCA/PyBmYWxzZSwgc2hvd0R1cmF0aW9uOiBmbG9hdGluZ1BhcnRpY2lwYW50UHJvcHM/LnNob3dEdXJhdGlvbiA/PyBmYWxzZSwgc2hvd0xpdmVCYWRnZTogZmxvYXRpbmdQYXJ0aWNpcGFudFByb3BzPy5zaG93TGl2ZUJhZGdlID8/IGZhbHNlLCBzaG93U3BlYWtlck5hbWU6IGZsb2F0aW5nUGFydGljaXBhbnRQcm9wcz8uc2hvd1NwZWFrZXJOYW1lID8/IHRydWUgfSkpO1xuICAgIHJldHVybiAoanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2xpdmVzdHJlYW0tbGF5b3V0X193cmFwcGVyXCIsIGNoaWxkcmVuOiBbanN4KFBhcnRpY2lwYW50c0F1ZGlvLCB7IHBhcnRpY2lwYW50czogcmVtb3RlUGFydGljaXBhbnRzIH0pLCBoYXNPbmdvaW5nU2NyZWVuU2hhcmUgJiYgcHJlc2VudGVyICYmIChqc3goUGFydGljaXBhbnRWaWV3LCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2xpdmVzdHJlYW0tbGF5b3V0X19zY3JlZW4tc2hhcmVcIiwgcGFydGljaXBhbnQ6IHByZXNlbnRlciwgUGFydGljaXBhbnRWaWV3VUk6IE92ZXJsYXksIHRyYWNrVHlwZTogXCJzY3JlZW5TaGFyZVRyYWNrXCIsIG11dGVBdWRpbyAvLyBhdWRpbyBpcyByZW5kZXJlZCBieSBQYXJ0aWNpcGFudHNBdWRpb1xuICAgICAgICAgICAgICAgIDogdHJ1ZSB9KSksIGN1cnJlbnRTcGVha2VyICYmIChqc3goUGFydGljaXBhbnRWaWV3LCB7IGNsYXNzTmFtZTogY2xzeChoYXNPbmdvaW5nU2NyZWVuU2hhcmUgJiZcbiAgICAgICAgICAgICAgICAgICAgY2xzeCgnc3RyLXZpZGVvX19saXZlc3RyZWFtLWxheW91dF9fZmxvYXRpbmctcGFydGljaXBhbnQnLCBgc3RyLXZpZGVvX19saXZlc3RyZWFtLWxheW91dF9fZmxvYXRpbmctcGFydGljaXBhbnQtLSR7ZmxvYXRpbmdQYXJ0aWNpcGFudFByb3BzPy5wb3NpdGlvbiA/PyAndG9wLXJpZ2h0J31gKSksIHBhcnRpY2lwYW50OiBjdXJyZW50U3BlYWtlciwgUGFydGljaXBhbnRWaWV3VUk6IEZsb2F0aW5nUGFydGljaXBhbnRPdmVybGF5IHx8IE92ZXJsYXksIG1pcnJvcjogcHJvcHMubWlycm9yTG9jYWxQYXJ0aWNpcGFudFZpZGVvICE9PSBmYWxzZSA/IHVuZGVmaW5lZCA6IGZhbHNlLCBtdXRlQXVkaW8gLy8gYXVkaW8gaXMgcmVuZGVyZWQgYnkgUGFydGljaXBhbnRzQXVkaW9cbiAgICAgICAgICAgICAgICA6IHRydWUgfSkpXSB9KSk7XG59O1xuY29uc3QgUGFydGljaXBhbnRPdmVybGF5ID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgeyBlbmFibGVGdWxsU2NyZWVuID0gdHJ1ZSwgc2hvd1BhcnRpY2lwYW50Q291bnQgPSB0cnVlLCBzaG93RHVyYXRpb24gPSB0cnVlLCBzaG93TGl2ZUJhZGdlID0gdHJ1ZSwgc2hvd1NwZWFrZXJOYW1lID0gZmFsc2UsIH0gPSBwcm9wcztcbiAgICBjb25zdCB7IHBhcnRpY2lwYW50IH0gPSB1c2VQYXJ0aWNpcGFudFZpZXdDb250ZXh0KCk7XG4gICAgY29uc3QgeyB1c2VQYXJ0aWNpcGFudENvdW50IH0gPSB1c2VDYWxsU3RhdGVIb29rcygpO1xuICAgIGNvbnN0IHBhcnRpY2lwYW50Q291bnQgPSB1c2VQYXJ0aWNpcGFudENvdW50KCk7XG4gICAgY29uc3QgZHVyYXRpb24gPSB1c2VVcGRhdGVDYWxsRHVyYXRpb24oKTtcbiAgICBjb25zdCB0b2dnbGVGdWxsU2NyZWVuID0gdXNlVG9nZ2xlRnVsbFNjcmVlbigpO1xuICAgIGNvbnN0IHsgdCB9ID0gdXNlSTE4bigpO1xuICAgIHJldHVybiAoanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fbGl2ZXN0cmVhbS1sYXlvdXRfX292ZXJsYXlcIiwgY2hpbGRyZW46IGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19saXZlc3RyZWFtLWxheW91dF9fb3ZlcmxheV9fYmFyXCIsIGNoaWxkcmVuOiBbc2hvd0xpdmVCYWRnZSAmJiAoanN4KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2xpdmVzdHJlYW0tbGF5b3V0X19saXZlLWJhZGdlXCIsIGNoaWxkcmVuOiB0KCdMaXZlJykgfSkpLCBzaG93UGFydGljaXBhbnRDb3VudCAmJiAoanN4KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2xpdmVzdHJlYW0tbGF5b3V0X192aWV3ZXJzLWNvdW50XCIsIGNoaWxkcmVuOiBwYXJ0aWNpcGFudENvdW50IH0pKSwgc2hvd1NwZWFrZXJOYW1lICYmIChqc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fbGl2ZXN0cmVhbS1sYXlvdXRfX3NwZWFrZXItbmFtZVwiLCB0aXRsZTogcGFydGljaXBhbnQubmFtZSB8fCBwYXJ0aWNpcGFudC51c2VySWQgfHwgJycsIGNoaWxkcmVuOiBwYXJ0aWNpcGFudC5uYW1lIHx8IHBhcnRpY2lwYW50LnVzZXJJZCB8fCAnJyB9KSksIHNob3dEdXJhdGlvbiAmJiAoanN4KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2xpdmVzdHJlYW0tbGF5b3V0X19kdXJhdGlvblwiLCBjaGlsZHJlbjogZm9ybWF0RHVyYXRpb24oZHVyYXRpb24pIH0pKSwgZW5hYmxlRnVsbFNjcmVlbiAmJiAoanN4KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2xpdmVzdHJlYW0tbGF5b3V0X19nby1mdWxsc2NyZWVuXCIsIG9uQ2xpY2s6IHRvZ2dsZUZ1bGxTY3JlZW4gfSkpXSB9KSB9KSk7XG59O1xuTGl2ZXN0cmVhbUxheW91dC5kaXNwbGF5TmFtZSA9ICdMaXZlc3RyZWFtTGF5b3V0JztcbmNvbnN0IHVzZVVwZGF0ZUNhbGxEdXJhdGlvbiA9ICgpID0+IHtcbiAgICBjb25zdCB7IHVzZUlzQ2FsbExpdmUsIHVzZUNhbGxTZXNzaW9uIH0gPSB1c2VDYWxsU3RhdGVIb29rcygpO1xuICAgIGNvbnN0IGlzQ2FsbExpdmUgPSB1c2VJc0NhbGxMaXZlKCk7XG4gICAgY29uc3Qgc2Vzc2lvbiA9IHVzZUNhbGxTZXNzaW9uKCk7XG4gICAgY29uc3QgW2R1cmF0aW9uLCBzZXREdXJhdGlvbl0gPSB1c2VTdGF0ZSgoKSA9PiB7XG4gICAgICAgIGlmICghc2Vzc2lvbiB8fCAhc2Vzc2lvbi5saXZlX3N0YXJ0ZWRfYXQpXG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgY29uc3QgbGl2ZVN0YXJ0VGltZSA9IG5ldyBEYXRlKHNlc3Npb24ubGl2ZV9zdGFydGVkX2F0KTtcbiAgICAgICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoKG5vdy5nZXRUaW1lKCkgLSBsaXZlU3RhcnRUaW1lLmdldFRpbWUoKSkgLyAxMDAwKTtcbiAgICB9KTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIWlzQ2FsbExpdmUpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IGludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICAgICAgc2V0RHVyYXRpb24oKGQpID0+IGQgKyAxKTtcbiAgICAgICAgfSwgMTAwMCk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgICAgICAgfTtcbiAgICB9LCBbaXNDYWxsTGl2ZV0pO1xuICAgIHJldHVybiBkdXJhdGlvbjtcbn07XG5jb25zdCB1c2VUb2dnbGVGdWxsU2NyZWVuID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgcGFydGljaXBhbnRWaWV3RWxlbWVudCB9ID0gdXNlUGFydGljaXBhbnRWaWV3Q29udGV4dCgpO1xuICAgIGNvbnN0IFtpc0Z1bGxzY3JlZW4sIHNldElzRnVsbHNjcmVlbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgcmV0dXJuIHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgaWYgKGlzRnVsbHNjcmVlbikge1xuICAgICAgICAgICAgZG9jdW1lbnQuZXhpdEZ1bGxzY3JlZW4oKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICBzZXRJc0Z1bGxzY3JlZW4oZmFsc2UpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwYXJ0aWNpcGFudFZpZXdFbGVtZW50Py5yZXF1ZXN0RnVsbHNjcmVlbigpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIHNldElzRnVsbHNjcmVlbih0cnVlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSwgW2lzRnVsbHNjcmVlbiwgcGFydGljaXBhbnRWaWV3RWxlbWVudF0pO1xufTtcbmNvbnN0IGZvcm1hdER1cmF0aW9uID0gKGR1cmF0aW9uSW5NcykgPT4ge1xuICAgIGNvbnN0IGRheXMgPSBNYXRoLmZsb29yKGR1cmF0aW9uSW5NcyAvIDg2NDAwKTtcbiAgICBjb25zdCBob3VycyA9IE1hdGguZmxvb3IoZHVyYXRpb25Jbk1zIC8gMzYwMCk7XG4gICAgY29uc3QgbWludXRlcyA9IE1hdGguZmxvb3IoKGR1cmF0aW9uSW5NcyAlIDM2MDApIC8gNjApO1xuICAgIGNvbnN0IHNlY29uZHMgPSBkdXJhdGlvbkluTXMgJSA2MDtcbiAgICByZXR1cm4gYCR7ZGF5cyA/IGRheXMgKyAnICcgOiAnJ30ke2hvdXJzID8gaG91cnMgKyAnOicgOiAnJ30ke21pbnV0ZXMgPCAxMCA/ICcwJyA6ICcnfSR7bWludXRlc306JHtzZWNvbmRzIDwgMTAgPyAnMCcgOiAnJ30ke3NlY29uZHN9YDtcbn07XG5cbmNvbnN0IEdST1VQX1NJWkUgPSAxNjtcbmNvbnN0IFBhZ2luYXRlZEdyaWRMYXlvdXRHcm91cCA9ICh7IGdyb3VwLCBtaXJyb3IsIFZpZGVvUGxhY2Vob2xkZXIsIFBpY3R1cmVJblBpY3R1cmVQbGFjZWhvbGRlciwgUGFydGljaXBhbnRWaWV3VUksIH0pID0+IHtcbiAgICByZXR1cm4gKGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogY2xzeCgnc3RyLXZpZGVvX19wYWdpbmF0ZWQtZ3JpZC1sYXlvdXRfX2dyb3VwJywge1xuICAgICAgICAgICAgJ3N0ci12aWRlb19fcGFnaW5hdGVkLWdyaWQtbGF5b3V0LS1vbmUnOiBncm91cC5sZW5ndGggPT09IDEsXG4gICAgICAgICAgICAnc3RyLXZpZGVvX19wYWdpbmF0ZWQtZ3JpZC1sYXlvdXQtLXR3by1mb3VyJzogZ3JvdXAubGVuZ3RoID49IDIgJiYgZ3JvdXAubGVuZ3RoIDw9IDQsXG4gICAgICAgICAgICAnc3RyLXZpZGVvX19wYWdpbmF0ZWQtZ3JpZC1sYXlvdXQtLWZpdmUtbmluZSc6IGdyb3VwLmxlbmd0aCA+PSA1ICYmIGdyb3VwLmxlbmd0aCA8PSA5LFxuICAgICAgICB9KSwgY2hpbGRyZW46IGdyb3VwLm1hcCgocGFydGljaXBhbnQpID0+IChqc3goUGFydGljaXBhbnRWaWV3LCB7IHBhcnRpY2lwYW50OiBwYXJ0aWNpcGFudCwgbXV0ZUF1ZGlvOiB0cnVlLCBtaXJyb3I6IG1pcnJvciwgVmlkZW9QbGFjZWhvbGRlcjogVmlkZW9QbGFjZWhvbGRlciwgUGljdHVyZUluUGljdHVyZVBsYWNlaG9sZGVyOiBQaWN0dXJlSW5QaWN0dXJlUGxhY2Vob2xkZXIsIFBhcnRpY2lwYW50Vmlld1VJOiBQYXJ0aWNpcGFudFZpZXdVSSB9LCBwYXJ0aWNpcGFudC5zZXNzaW9uSWQpKSkgfSkpO1xufTtcbmNvbnN0IFBhZ2luYXRlZEdyaWRMYXlvdXQgPSAocHJvcHMpID0+IHtcbiAgICBjb25zdCB7IGdyb3VwU2l6ZSA9IChwcm9wcy5ncm91cFNpemUgfHwgMCkgPiAwXG4gICAgICAgID8gcHJvcHMuZ3JvdXBTaXplIHx8IEdST1VQX1NJWkVcbiAgICAgICAgOiBHUk9VUF9TSVpFLCBleGNsdWRlTG9jYWxQYXJ0aWNpcGFudCA9IGZhbHNlLCBmaWx0ZXJQYXJ0aWNpcGFudHMsIG1pcnJvckxvY2FsUGFydGljaXBhbnRWaWRlbyA9IHRydWUsIHBhZ2VBcnJvd3NWaXNpYmxlID0gdHJ1ZSwgVmlkZW9QbGFjZWhvbGRlciwgUGFydGljaXBhbnRWaWV3VUkgPSBEZWZhdWx0UGFydGljaXBhbnRWaWV3VUksIH0gPSBwcm9wcztcbiAgICBjb25zdCBbcGFnZSwgc2V0UGFnZV0gPSB1c2VTdGF0ZSgwKTtcbiAgICBjb25zdCBbcGFnaW5hdGVkR3JpZExheW91dFdyYXBwZXJFbGVtZW50LCBzZXRQYWdpbmF0ZWRHcmlkTGF5b3V0V3JhcHBlckVsZW1lbnQsXSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIGNvbnN0IGNhbGwgPSB1c2VDYWxsKCk7XG4gICAgY29uc3QgeyB1c2VSZW1vdGVQYXJ0aWNpcGFudHMgfSA9IHVzZUNhbGxTdGF0ZUhvb2tzKCk7XG4gICAgY29uc3QgcmVtb3RlUGFydGljaXBhbnRzID0gdXNlUmVtb3RlUGFydGljaXBhbnRzKCk7XG4gICAgY29uc3QgcGFydGljaXBhbnRzID0gdXNlRmlsdGVyZWRQYXJ0aWNpcGFudHMoe1xuICAgICAgICBleGNsdWRlTG9jYWxQYXJ0aWNpcGFudCxcbiAgICAgICAgZmlsdGVyUGFydGljaXBhbnRzLFxuICAgIH0pO1xuICAgIHVzZVBhZ2luYXRlZExheW91dFNvcnRQcmVzZXQoY2FsbCk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKCFwYWdpbmF0ZWRHcmlkTGF5b3V0V3JhcHBlckVsZW1lbnQgfHwgIWNhbGwpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IGNsZWFudXAgPSBjYWxsLnNldFZpZXdwb3J0KHBhZ2luYXRlZEdyaWRMYXlvdXRXcmFwcGVyRWxlbWVudCk7XG4gICAgICAgIHJldHVybiAoKSA9PiBjbGVhbnVwKCk7XG4gICAgfSwgW3BhZ2luYXRlZEdyaWRMYXlvdXRXcmFwcGVyRWxlbWVudCwgY2FsbF0pO1xuICAgIC8vIG9ubHkgdXNlZCB0byByZW5kZXIgdmlkZW8gZWxlbWVudHNcbiAgICBjb25zdCBwYXJ0aWNpcGFudEdyb3VwcyA9IHVzZU1lbW8oKCkgPT4gY2h1bmsocGFydGljaXBhbnRzLCBncm91cFNpemUpLCBbcGFydGljaXBhbnRzLCBncm91cFNpemVdKTtcbiAgICBjb25zdCBwYWdlQ291bnQgPSBwYXJ0aWNpcGFudEdyb3Vwcy5sZW5ndGg7XG4gICAgLy8gdXBkYXRlIHBhZ2Ugd2hlbiBwYWdlIGNvdW50IGlzIHJlZHVjZWQgYW5kIHNlbGVjdGVkIHBhZ2Ugbm8gbG9uZ2VyIGV4aXN0c1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChwYWdlID4gcGFnZUNvdW50IC0gMSkge1xuICAgICAgICAgICAgc2V0UGFnZShNYXRoLm1heCgwLCBwYWdlQ291bnQgLSAxKSk7XG4gICAgICAgIH1cbiAgICB9LCBbcGFnZSwgcGFnZUNvdW50XSk7XG4gICAgY29uc3Qgc2VsZWN0ZWRHcm91cCA9IHBhcnRpY2lwYW50R3JvdXBzW3BhZ2VdO1xuICAgIGNvbnN0IG1pcnJvciA9IG1pcnJvckxvY2FsUGFydGljaXBhbnRWaWRlbyA/IHVuZGVmaW5lZCA6IGZhbHNlO1xuICAgIGlmICghY2FsbClcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgcmV0dXJuIChqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fcGFnaW5hdGVkLWdyaWQtbGF5b3V0X193cmFwcGVyXCIsIHJlZjogc2V0UGFnaW5hdGVkR3JpZExheW91dFdyYXBwZXJFbGVtZW50LCBjaGlsZHJlbjogW2pzeChQYXJ0aWNpcGFudHNBdWRpbywgeyBwYXJ0aWNpcGFudHM6IHJlbW90ZVBhcnRpY2lwYW50cyB9KSwganN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3BhZ2luYXRlZC1ncmlkLWxheW91dFwiLCBjaGlsZHJlbjogW3BhZ2VBcnJvd3NWaXNpYmxlICYmIHBhZ2VDb3VudCA+IDEgJiYgKGpzeChJY29uQnV0dG9uLCB7IGljb246IFwiY2FyZXQtbGVmdFwiLCBkaXNhYmxlZDogcGFnZSA9PT0gMCwgb25DbGljazogKCkgPT4gc2V0UGFnZSgoY3VycmVudFBhZ2UpID0+IE1hdGgubWF4KDAsIGN1cnJlbnRQYWdlIC0gMSkpIH0pKSwgc2VsZWN0ZWRHcm91cCAmJiAoanN4KFBhZ2luYXRlZEdyaWRMYXlvdXRHcm91cCwgeyBncm91cDogc2VsZWN0ZWRHcm91cCwgbWlycm9yOiBtaXJyb3IsIFZpZGVvUGxhY2Vob2xkZXI6IFZpZGVvUGxhY2Vob2xkZXIsIFBhcnRpY2lwYW50Vmlld1VJOiBQYXJ0aWNpcGFudFZpZXdVSSB9KSksIHBhZ2VBcnJvd3NWaXNpYmxlICYmIHBhZ2VDb3VudCA+IDEgJiYgKGpzeChJY29uQnV0dG9uLCB7IGRpc2FibGVkOiBwYWdlID09PSBwYWdlQ291bnQgLSAxLCBpY29uOiBcImNhcmV0LXJpZ2h0XCIsIG9uQ2xpY2s6ICgpID0+IHNldFBhZ2UoKGN1cnJlbnRQYWdlKSA9PiBNYXRoLm1pbihwYWdlQ291bnQgLSAxLCBjdXJyZW50UGFnZSArIDEpKSB9KSldIH0pXSB9KSk7XG59O1xuUGFnaW5hdGVkR3JpZExheW91dC5kaXNwbGF5TmFtZSA9ICdQYWdpbmF0ZWRHcmlkTGF5b3V0JztcblxuY29uc3QgdXNlQ2FsY3VsYXRlSGFyZExpbWl0ID0gKFxuLyoqXG4gKiBFbGVtZW50IHRoYXQgc3RyZXRjaGVzIHRvIDEwMCUgb2YgdGhlIHdob2xlIGxheW91dCBjb21wb25lbnRcbiAqL1xud3JhcHBlckVsZW1lbnQsIFxuLyoqXG4gKiBFbGVtZW50IHRoYXQgZGlyZWN0bHkgaG9zdHMgaW5kaXZpZHVhbCBgUGFydGljaXBhbnRWaWV3YCAob3Igd3JhcHBlcikgZWxlbWVudHNcbiAqL1xuaG9zdEVsZW1lbnQsIGxpbWl0KSA9PiB7XG4gICAgY29uc3QgW2NhbGN1bGF0ZWRMaW1pdCwgc2V0Q2FsY3VsYXRlZExpbWl0XSA9IHVzZVN0YXRlKHtcbiAgICAgICAgdmVydGljYWw6IHR5cGVvZiBsaW1pdCA9PT0gJ251bWJlcicgPyBsaW1pdCA6IG51bGwsXG4gICAgICAgIGhvcml6b250YWw6IHR5cGVvZiBsaW1pdCA9PT0gJ251bWJlcicgPyBsaW1pdCA6IG51bGwsXG4gICAgfSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKCFob3N0RWxlbWVudCB8fFxuICAgICAgICAgICAgIXdyYXBwZXJFbGVtZW50IHx8XG4gICAgICAgICAgICB0eXBlb2YgbGltaXQgPT09ICdudW1iZXInIHx8XG4gICAgICAgICAgICB0eXBlb2YgbGltaXQgPT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBsZXQgY2hpbGRXaWR0aCA9IG51bGw7XG4gICAgICAgIGxldCBjaGlsZEhlaWdodCA9IG51bGw7XG4gICAgICAgIGNvbnN0IHJlc2l6ZU9ic2VydmVyID0gbmV3IFJlc2l6ZU9ic2VydmVyKChlbnRyaWVzLCBvYnNlcnZlcikgPT4ge1xuICAgICAgICAgICAgLy8gdGhpcyBwYXJ0IHNob3VsZCBpZGVhbGx5IHJ1biBhcyBsaXR0bGUgdGltZXMgYXMgcG9zc2libGVcbiAgICAgICAgICAgIC8vIGdldCBjaGlsZCBtZWFzdXJlbWVudHMgYW5kIGRpc2Nvbm5lY3RcbiAgICAgICAgICAgIC8vIGRvZXMgbm90IGNvbnNpZGVyIGR5bmFtaWNhbGx5IHNpemVkIGNoaWxkcmVuXG4gICAgICAgICAgICAvLyB0aGlzIGhvb2sgaXMgZm9yIFNwZWFrZXJMYXlvdXQgdXNlIG9ubHksIHdoZXJlIGNoaWxkcmVuIGluIHRoZSBiYXIgYXJlIGZpeGVkIHNpemVcbiAgICAgICAgICAgIGlmIChlbnRyaWVzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGlsZCA9IGhvc3RFbGVtZW50LmZpcnN0Q2hpbGQ7XG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkSGVpZ2h0ID0gY2hpbGQuY2xpZW50SGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICBjaGlsZFdpZHRoID0gY2hpbGQuY2xpZW50V2lkdGg7XG4gICAgICAgICAgICAgICAgICAgIG9ic2VydmVyLnVub2JzZXJ2ZShob3N0RWxlbWVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8ga2VlcCB0aGUgc3RhdGUgYXQgeyB2ZXJ0aWNhbDogMSwgaG9yaXpvbnRhbDogMSB9XG4gICAgICAgICAgICAvLyB1bnRpbCB3ZSBnZXQgdGhlIHByb3BlciBjaGlsZCBtZWFzdXJlbWVudHNcbiAgICAgICAgICAgIGlmIChjaGlsZEhlaWdodCA9PT0gbnVsbCB8fCBjaGlsZFdpZHRoID09PSBudWxsKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGNvbnN0IHZlcnRpY2FsID0gTWF0aC5mbG9vcih3cmFwcGVyRWxlbWVudC5jbGllbnRIZWlnaHQgLyBjaGlsZEhlaWdodCk7XG4gICAgICAgICAgICBjb25zdCBob3Jpem9udGFsID0gTWF0aC5mbG9vcih3cmFwcGVyRWxlbWVudC5jbGllbnRXaWR0aCAvIGNoaWxkV2lkdGgpO1xuICAgICAgICAgICAgc2V0Q2FsY3VsYXRlZExpbWl0KChwdikgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChwdi52ZXJ0aWNhbCAhPT0gdmVydGljYWwgfHwgcHYuaG9yaXpvbnRhbCAhPT0gaG9yaXpvbnRhbClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgdmVydGljYWwsIGhvcml6b250YWwgfTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcHY7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJlc2l6ZU9ic2VydmVyLm9ic2VydmUod3JhcHBlckVsZW1lbnQpO1xuICAgICAgICByZXNpemVPYnNlcnZlci5vYnNlcnZlKGhvc3RFbGVtZW50KTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIHJlc2l6ZU9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgfTtcbiAgICB9LCBbaG9zdEVsZW1lbnQsIGxpbWl0LCB3cmFwcGVyRWxlbWVudF0pO1xuICAgIHJldHVybiBjYWxjdWxhdGVkTGltaXQ7XG59O1xuXG5jb25zdCBEZWZhdWx0UGFydGljaXBhbnRWaWV3VUlCYXIgPSAoKSA9PiAoanN4KERlZmF1bHRQYXJ0aWNpcGFudFZpZXdVSSwgeyBtZW51UGxhY2VtZW50OiBcInRvcC1lbmRcIiB9KSk7XG5jb25zdCBTcGVha2VyTGF5b3V0ID0gKHsgUGFydGljaXBhbnRWaWV3VUlCYXIgPSBEZWZhdWx0UGFydGljaXBhbnRWaWV3VUlCYXIsIFBhcnRpY2lwYW50Vmlld1VJU3BvdGxpZ2h0ID0gRGVmYXVsdFBhcnRpY2lwYW50Vmlld1VJLCBWaWRlb1BsYWNlaG9sZGVyLCBQaWN0dXJlSW5QaWN0dXJlUGxhY2Vob2xkZXIsIHBhcnRpY2lwYW50c0JhclBvc2l0aW9uID0gJ2JvdHRvbScsIHBhcnRpY2lwYW50c0JhckxpbWl0LCBtaXJyb3JMb2NhbFBhcnRpY2lwYW50VmlkZW8gPSB0cnVlLCBleGNsdWRlTG9jYWxQYXJ0aWNpcGFudCA9IGZhbHNlLCBmaWx0ZXJQYXJ0aWNpcGFudHMsIHBhZ2VBcnJvd3NWaXNpYmxlID0gdHJ1ZSwgfSkgPT4ge1xuICAgIGNvbnN0IGNhbGwgPSB1c2VDYWxsKCk7XG4gICAgY29uc3QgeyB1c2VQYXJ0aWNpcGFudHMsIHVzZVJlbW90ZVBhcnRpY2lwYW50cyB9ID0gdXNlQ2FsbFN0YXRlSG9va3MoKTtcbiAgICBjb25zdCBhbGxQYXJ0aWNpcGFudHMgPSB1c2VQYXJ0aWNpcGFudHMoKTtcbiAgICBjb25zdCByZW1vdGVQYXJ0aWNpcGFudHMgPSB1c2VSZW1vdGVQYXJ0aWNpcGFudHMoKTtcbiAgICBjb25zdCBbcGFydGljaXBhbnRJblNwb3RsaWdodCwgLi4ub3RoZXJQYXJ0aWNpcGFudHNdID0gdXNlRmlsdGVyZWRQYXJ0aWNpcGFudHMoeyBleGNsdWRlTG9jYWxQYXJ0aWNpcGFudCwgZmlsdGVyUGFydGljaXBhbnRzIH0pO1xuICAgIGNvbnN0IFtwYXJ0aWNpcGFudHNCYXJXcmFwcGVyRWxlbWVudCwgc2V0UGFydGljaXBhbnRzQmFyV3JhcHBlckVsZW1lbnRdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgW3BhcnRpY2lwYW50c0JhckVsZW1lbnQsIHNldFBhcnRpY2lwYW50c0JhckVsZW1lbnRdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgW2J1dHRvbnNXcmFwcGVyRWxlbWVudCwgc2V0QnV0dG9uc1dyYXBwZXJFbGVtZW50XSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIGNvbnN0IGlzU3BlYWtlclNjcmVlblNoYXJpbmcgPSBwYXJ0aWNpcGFudEluU3BvdGxpZ2h0ICYmIGhhc1NjcmVlblNoYXJlKHBhcnRpY2lwYW50SW5TcG90bGlnaHQpO1xuICAgIGNvbnN0IGhhcmRMaW1pdCA9IHVzZUNhbGN1bGF0ZUhhcmRMaW1pdChidXR0b25zV3JhcHBlckVsZW1lbnQsIHBhcnRpY2lwYW50c0JhckVsZW1lbnQsIHBhcnRpY2lwYW50c0JhckxpbWl0KTtcbiAgICBjb25zdCBpc1ZlcnRpY2FsID0gcGFydGljaXBhbnRzQmFyUG9zaXRpb24gPT09ICdsZWZ0JyB8fCBwYXJ0aWNpcGFudHNCYXJQb3NpdGlvbiA9PT0gJ3JpZ2h0JztcbiAgICBjb25zdCBpc0hvcml6b250YWwgPSBwYXJ0aWNpcGFudHNCYXJQb3NpdGlvbiA9PT0gJ3RvcCcgfHwgcGFydGljaXBhbnRzQmFyUG9zaXRpb24gPT09ICdib3R0b20nO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICghcGFydGljaXBhbnRzQmFyV3JhcHBlckVsZW1lbnQgfHwgIWNhbGwpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IGNsZWFudXAgPSBjYWxsLnNldFZpZXdwb3J0KHBhcnRpY2lwYW50c0JhcldyYXBwZXJFbGVtZW50KTtcbiAgICAgICAgcmV0dXJuICgpID0+IGNsZWFudXAoKTtcbiAgICB9LCBbcGFydGljaXBhbnRzQmFyV3JhcHBlckVsZW1lbnQsIGNhbGxdKTtcbiAgICBjb25zdCBpc09uZU9uT25lQ2FsbCA9IGFsbFBhcnRpY2lwYW50cy5sZW5ndGggPT09IDI7XG4gICAgdXNlU3BlYWtlckxheW91dFNvcnRQcmVzZXQoY2FsbCwgaXNPbmVPbk9uZUNhbGwpO1xuICAgIGxldCBwYXJ0aWNpcGFudHNXaXRoQXBwbGllZExpbWl0ID0gb3RoZXJQYXJ0aWNpcGFudHM7XG4gICAgY29uc3QgaGFyZExpbWl0VG9BcHBseSA9IGlzVmVydGljYWxcbiAgICAgICAgPyBoYXJkTGltaXQudmVydGljYWxcbiAgICAgICAgOiBoYXJkTGltaXQuaG9yaXpvbnRhbDtcbiAgICBpZiAodHlwZW9mIHBhcnRpY2lwYW50c0JhckxpbWl0ICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICBoYXJkTGltaXRUb0FwcGx5ICE9PSBudWxsKSB7XG4gICAgICAgIHBhcnRpY2lwYW50c1dpdGhBcHBsaWVkTGltaXQgPSBvdGhlclBhcnRpY2lwYW50cy5zbGljZSgwLCBcbiAgICAgICAgLy8gc3VidHJhY3QgMSBpZiBzcGVha2VyIGlzIHNoYXJpbmcgc2NyZWVuIGFzXG4gICAgICAgIC8vIHRoYXQgb25lIGlzIHJlbmRlcmVkIGluZGVwZW5kZW50bHkgZnJvbSBvdGhlclBhcnRpY2lwYW50cyBhcnJheVxuICAgICAgICBoYXJkTGltaXRUb0FwcGx5IC0gKGlzU3BlYWtlclNjcmVlblNoYXJpbmcgPyAxIDogMCkpO1xuICAgIH1cbiAgICBjb25zdCBtaXJyb3IgPSBtaXJyb3JMb2NhbFBhcnRpY2lwYW50VmlkZW8gPyB1bmRlZmluZWQgOiBmYWxzZTtcbiAgICBpZiAoIWNhbGwpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIGNvbnN0IHJlbmRlclBhcnRpY2lwYW50c0JhciA9IHBhcnRpY2lwYW50c0JhclBvc2l0aW9uICYmXG4gICAgICAgIChwYXJ0aWNpcGFudHNXaXRoQXBwbGllZExpbWl0Lmxlbmd0aCA+IDAgfHwgaXNTcGVha2VyU2NyZWVuU2hhcmluZyk7XG4gICAgcmV0dXJuIChqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fc3BlYWtlci1sYXlvdXRfX3dyYXBwZXJcIiwgY2hpbGRyZW46IFtqc3goUGFydGljaXBhbnRzQXVkaW8sIHsgcGFydGljaXBhbnRzOiByZW1vdGVQYXJ0aWNpcGFudHMgfSksIGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGNsc3goJ3N0ci12aWRlb19fc3BlYWtlci1sYXlvdXQnLCBwYXJ0aWNpcGFudHNCYXJQb3NpdGlvbiAmJlxuICAgICAgICAgICAgICAgICAgICBgc3RyLXZpZGVvX19zcGVha2VyLWxheW91dC0tdmFyaWFudC0ke3BhcnRpY2lwYW50c0JhclBvc2l0aW9ufWApLCBjaGlsZHJlbjogW2pzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3NwZWFrZXItbGF5b3V0X19zcG90bGlnaHRcIiwgY2hpbGRyZW46IHBhcnRpY2lwYW50SW5TcG90bGlnaHQgJiYgKGpzeChQYXJ0aWNpcGFudFZpZXcsIHsgcGFydGljaXBhbnQ6IHBhcnRpY2lwYW50SW5TcG90bGlnaHQsIG11dGVBdWRpbzogdHJ1ZSwgbWlycm9yOiBtaXJyb3IsIHRyYWNrVHlwZTogaXNTcGVha2VyU2NyZWVuU2hhcmluZyA/ICdzY3JlZW5TaGFyZVRyYWNrJyA6ICd2aWRlb1RyYWNrJywgUGFydGljaXBhbnRWaWV3VUk6IFBhcnRpY2lwYW50Vmlld1VJU3BvdGxpZ2h0LCBWaWRlb1BsYWNlaG9sZGVyOiBWaWRlb1BsYWNlaG9sZGVyLCBQaWN0dXJlSW5QaWN0dXJlUGxhY2Vob2xkZXI6IFBpY3R1cmVJblBpY3R1cmVQbGFjZWhvbGRlciB9KSkgfSksIHJlbmRlclBhcnRpY2lwYW50c0JhciAmJiAoanN4cyhcImRpdlwiLCB7IHJlZjogc2V0QnV0dG9uc1dyYXBwZXJFbGVtZW50LCBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19zcGVha2VyLWxheW91dF9fcGFydGljaXBhbnRzLWJhci1idXR0b25zLXdyYXBwZXJcIiwgY2hpbGRyZW46IFtqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19zcGVha2VyLWxheW91dF9fcGFydGljaXBhbnRzLWJhci13cmFwcGVyXCIsIHJlZjogc2V0UGFydGljaXBhbnRzQmFyV3JhcHBlckVsZW1lbnQsIGNoaWxkcmVuOiBqc3hzKFwiZGl2XCIsIHsgcmVmOiBzZXRQYXJ0aWNpcGFudHNCYXJFbGVtZW50LCBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19zcGVha2VyLWxheW91dF9fcGFydGljaXBhbnRzLWJhclwiLCBjaGlsZHJlbjogW2lzU3BlYWtlclNjcmVlblNoYXJpbmcgJiYgKGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3NwZWFrZXItbGF5b3V0X19wYXJ0aWNpcGFudC10aWxlXCIsIGNoaWxkcmVuOiBqc3goUGFydGljaXBhbnRWaWV3LCB7IHBhcnRpY2lwYW50OiBwYXJ0aWNpcGFudEluU3BvdGxpZ2h0LCBQYXJ0aWNpcGFudFZpZXdVSTogUGFydGljaXBhbnRWaWV3VUlCYXIsIFZpZGVvUGxhY2Vob2xkZXI6IFZpZGVvUGxhY2Vob2xkZXIsIFBpY3R1cmVJblBpY3R1cmVQbGFjZWhvbGRlcjogUGljdHVyZUluUGljdHVyZVBsYWNlaG9sZGVyLCBtaXJyb3I6IG1pcnJvciwgbXV0ZUF1ZGlvOiB0cnVlIH0pIH0sIHBhcnRpY2lwYW50SW5TcG90bGlnaHQuc2Vzc2lvbklkKSksIHBhcnRpY2lwYW50c1dpdGhBcHBsaWVkTGltaXQubWFwKChwYXJ0aWNpcGFudCkgPT4gKGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3NwZWFrZXItbGF5b3V0X19wYXJ0aWNpcGFudC10aWxlXCIsIGNoaWxkcmVuOiBqc3goUGFydGljaXBhbnRWaWV3LCB7IHBhcnRpY2lwYW50OiBwYXJ0aWNpcGFudCwgUGFydGljaXBhbnRWaWV3VUk6IFBhcnRpY2lwYW50Vmlld1VJQmFyLCBWaWRlb1BsYWNlaG9sZGVyOiBWaWRlb1BsYWNlaG9sZGVyLCBQaWN0dXJlSW5QaWN0dXJlUGxhY2Vob2xkZXI6IFBpY3R1cmVJblBpY3R1cmVQbGFjZWhvbGRlciwgbWlycm9yOiBtaXJyb3IsIG11dGVBdWRpbzogdHJ1ZSB9KSB9LCBwYXJ0aWNpcGFudC5zZXNzaW9uSWQpKSldIH0pIH0pLCBwYWdlQXJyb3dzVmlzaWJsZSAmJiBpc1ZlcnRpY2FsICYmIChqc3goVmVydGljYWxTY3JvbGxCdXR0b25zLCB7IHNjcm9sbFdyYXBwZXI6IHBhcnRpY2lwYW50c0JhcldyYXBwZXJFbGVtZW50IH0pKSwgcGFnZUFycm93c1Zpc2libGUgJiYgaXNIb3Jpem9udGFsICYmIChqc3goSG9yaXpvbnRhbFNjcm9sbEJ1dHRvbnMsIHsgc2Nyb2xsV3JhcHBlcjogcGFydGljaXBhbnRzQmFyV3JhcHBlckVsZW1lbnQgfSkpXSB9KSldIH0pXSB9KSk7XG59O1xuU3BlYWtlckxheW91dC5kaXNwbGF5TmFtZSA9ICdTcGVha2VyTGF5b3V0JztcbmNvbnN0IEhvcml6b250YWxTY3JvbGxCdXR0b25zID0gKHsgc2Nyb2xsV3JhcHBlciwgfSkgPT4ge1xuICAgIGNvbnN0IHNjcm9sbFBvc2l0aW9uID0gdXNlSG9yaXpvbnRhbFNjcm9sbFBvc2l0aW9uKHNjcm9sbFdyYXBwZXIpO1xuICAgIGNvbnN0IHNjcm9sbFN0YXJ0Q2xpY2tIYW5kbGVyID0gKCkgPT4ge1xuICAgICAgICBzY3JvbGxXcmFwcGVyPy5zY3JvbGxCeSh7IGxlZnQ6IC0xNTAsIGJlaGF2aW9yOiAnc21vb3RoJyB9KTtcbiAgICB9O1xuICAgIGNvbnN0IHNjcm9sbEVuZENsaWNrSGFuZGxlciA9ICgpID0+IHtcbiAgICAgICAgc2Nyb2xsV3JhcHBlcj8uc2Nyb2xsQnkoeyBsZWZ0OiAxNTAsIGJlaGF2aW9yOiAnc21vb3RoJyB9KTtcbiAgICB9O1xuICAgIHJldHVybiAoanN4cyhGcmFnbWVudCwgeyBjaGlsZHJlbjogW3Njcm9sbFBvc2l0aW9uICYmIHNjcm9sbFBvc2l0aW9uICE9PSAnc3RhcnQnICYmIChqc3goSWNvbkJ1dHRvbiwgeyBvbkNsaWNrOiBzY3JvbGxTdGFydENsaWNrSGFuZGxlciwgaWNvbjogXCJjYXJldC1sZWZ0XCIsIGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3NwZWFrZXItbGF5b3V0X19wYXJ0aWNpcGFudHMtYmFyLS1idXR0b24tbGVmdFwiIH0pKSwgc2Nyb2xsUG9zaXRpb24gJiYgc2Nyb2xsUG9zaXRpb24gIT09ICdlbmQnICYmIChqc3goSWNvbkJ1dHRvbiwgeyBvbkNsaWNrOiBzY3JvbGxFbmRDbGlja0hhbmRsZXIsIGljb246IFwiY2FyZXQtcmlnaHRcIiwgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fc3BlYWtlci1sYXlvdXRfX3BhcnRpY2lwYW50cy1iYXItLWJ1dHRvbi1yaWdodFwiIH0pKV0gfSkpO1xufTtcbmNvbnN0IFZlcnRpY2FsU2Nyb2xsQnV0dG9ucyA9ICh7IHNjcm9sbFdyYXBwZXIsIH0pID0+IHtcbiAgICBjb25zdCBzY3JvbGxQb3NpdGlvbiA9IHVzZVZlcnRpY2FsU2Nyb2xsUG9zaXRpb24oc2Nyb2xsV3JhcHBlcik7XG4gICAgY29uc3Qgc2Nyb2xsVG9wQ2xpY2tIYW5kbGVyID0gKCkgPT4ge1xuICAgICAgICBzY3JvbGxXcmFwcGVyPy5zY3JvbGxCeSh7IHRvcDogLTE1MCwgYmVoYXZpb3I6ICdzbW9vdGgnIH0pO1xuICAgIH07XG4gICAgY29uc3Qgc2Nyb2xsQm90dG9tQ2xpY2tIYW5kbGVyID0gKCkgPT4ge1xuICAgICAgICBzY3JvbGxXcmFwcGVyPy5zY3JvbGxCeSh7IHRvcDogMTUwLCBiZWhhdmlvcjogJ3Ntb290aCcgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gKGpzeHMoRnJhZ21lbnQsIHsgY2hpbGRyZW46IFtzY3JvbGxQb3NpdGlvbiAmJiBzY3JvbGxQb3NpdGlvbiAhPT0gJ3RvcCcgJiYgKGpzeChJY29uQnV0dG9uLCB7IG9uQ2xpY2s6IHNjcm9sbFRvcENsaWNrSGFuZGxlciwgaWNvbjogXCJjYXJldC11cFwiLCBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19zcGVha2VyLWxheW91dF9fcGFydGljaXBhbnRzLWJhci0tYnV0dG9uLXRvcFwiIH0pKSwgc2Nyb2xsUG9zaXRpb24gJiYgc2Nyb2xsUG9zaXRpb24gIT09ICdib3R0b20nICYmIChqc3goSWNvbkJ1dHRvbiwgeyBvbkNsaWNrOiBzY3JvbGxCb3R0b21DbGlja0hhbmRsZXIsIGljb246IFwiY2FyZXQtZG93blwiLCBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19zcGVha2VyLWxheW91dF9fcGFydGljaXBhbnRzLWJhci0tYnV0dG9uLWJvdHRvbVwiIH0pKV0gfSkpO1xufTtcblxuY29uc3QgTGl2ZXN0cmVhbVBsYXllciA9IChwcm9wcykgPT4ge1xuICAgIGNvbnN0IHsgY2FsbFR5cGUsIGNhbGxJZCwgbGF5b3V0UHJvcHMgfSA9IHByb3BzO1xuICAgIGNvbnN0IGNsaWVudCA9IHVzZVN0cmVhbVZpZGVvQ2xpZW50KCk7XG4gICAgY29uc3QgW2NhbGwsIHNldENhbGxdID0gdXNlU3RhdGUoKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIWNsaWVudClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgbXlDYWxsID0gY2xpZW50LmNhbGwoY2FsbFR5cGUsIGNhbGxJZCk7XG4gICAgICAgIHNldENhbGwobXlDYWxsKTtcbiAgICAgICAgbXlDYWxsLmpvaW4oKS5jYXRjaCgoZSkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGpvaW4gY2FsbCcsIGUpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIG15Q2FsbC5sZWF2ZSgpLmNhdGNoKChlKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGxlYXZlIGNhbGwnLCBlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgc2V0Q2FsbCh1bmRlZmluZWQpO1xuICAgICAgICB9O1xuICAgIH0sIFtjYWxsSWQsIGNhbGxUeXBlLCBjbGllbnRdKTtcbiAgICByZXR1cm4gKGpzeChTdHJlYW1DYWxsLCB7IGNhbGw6IGNhbGwsIGNoaWxkcmVuOiBqc3goTGl2ZXN0cmVhbUxheW91dCwgeyAuLi5sYXlvdXRQcm9wcyB9KSB9KSk7XG59O1xuXG5jb25zdCBbbWFqb3IsIG1pbm9yLCBwYXRjaF0gPSAoXCIxLjguN1wiKS5zcGxpdCgnLicpO1xuc2V0U2RrSW5mbyh7XG4gICAgdHlwZTogU2Z1TW9kZWxzLlNka1R5cGUuUkVBQ1QsXG4gICAgbWFqb3IsXG4gICAgbWlub3IsXG4gICAgcGF0Y2gsXG59KTtcblxuZXhwb3J0IHsgQWNjZXB0Q2FsbEJ1dHRvbiwgQXVkaW8sIEF2YXRhciwgQXZhdGFyRmFsbGJhY2ssIEJhY2tncm91bmRGaWx0ZXJzUHJvdmlkZXIsIEJhc2VWaWRlbywgQ2FsbENvbnRyb2xzLCBDYWxsUGFydGljaXBhbnRMaXN0aW5nLCBDYWxsUGFydGljaXBhbnRMaXN0aW5nSXRlbSwgQ2FsbFBhcnRpY2lwYW50c0xpc3QsIENhbGxQcmV2aWV3LCBDYWxsUmVjb3JkaW5nTGlzdCwgQ2FsbFJlY29yZGluZ0xpc3RIZWFkZXIsIENhbGxSZWNvcmRpbmdMaXN0SXRlbSwgQ2FsbFN0YXRzLCBDYWxsU3RhdHNCdXR0b24sIENhbmNlbENhbGxCdXR0b24sIENhbmNlbENhbGxDb25maXJtQnV0dG9uLCBDb21wb3NpdGVCdXR0b24sIERlZmF1bHRQYXJ0aWNpcGFudFZpZXdVSSwgRGVmYXVsdFJlYWN0aW9uc01lbnUsIERlZmF1bHRTY3JlZW5TaGFyZU92ZXJsYXksIERlZmF1bHRWaWRlb1BsYWNlaG9sZGVyLCBEZXZpY2VTZWxlY3RvciwgRGV2aWNlU2VsZWN0b3JBdWRpb0lucHV0LCBEZXZpY2VTZWxlY3RvckF1ZGlvT3V0cHV0LCBEZXZpY2VTZWxlY3RvclZpZGVvLCBEZXZpY2VTZXR0aW5ncywgRHJvcERvd25TZWxlY3QsIERyb3BEb3duU2VsZWN0T3B0aW9uLCBFbXB0eUNhbGxSZWNvcmRpbmdMaXN0aW5nLCBHZW5lcmljTWVudSwgR2VuZXJpY01lbnVCdXR0b25JdGVtLCBJY29uLCBJY29uQnV0dG9uLCBMaXZlc3RyZWFtTGF5b3V0LCBMaXZlc3RyZWFtUGxheWVyLCBMb2FkaW5nQ2FsbFJlY29yZGluZ0xpc3RpbmcsIExvYWRpbmdJbmRpY2F0b3IsIE1lbnVUb2dnbGUsIE1lbnVWaXN1YWxUeXBlLCBOb2lzZUNhbmNlbGxhdGlvblByb3ZpZGVyLCBOb3RpZmljYXRpb24sIFBhZ2luYXRlZEdyaWRMYXlvdXQsIFBhcnRpY2lwYW50QWN0aW9uc0NvbnRleHRNZW51LCBQYXJ0aWNpcGFudERldGFpbHMsIFBhcnRpY2lwYW50VmlldywgUGFydGljaXBhbnRWaWV3Q29udGV4dCwgUGFydGljaXBhbnRzQXVkaW8sIFBlcm1pc3Npb25Ob3RpZmljYXRpb24sIFBlcm1pc3Npb25SZXF1ZXN0TGlzdCwgUGVybWlzc2lvblJlcXVlc3RzLCBSZWFjdGlvbnNCdXR0b24sIFJlY29yZENhbGxCdXR0b24sIFJlY29yZENhbGxDb25maXJtYXRpb25CdXR0b24sIFJlY29yZGluZ0luUHJvZ3Jlc3NOb3RpZmljYXRpb24sIFJpbmdpbmdDYWxsLCBSaW5naW5nQ2FsbENvbnRyb2xzLCBTY3JlZW5TaGFyZUJ1dHRvbiwgU2VhcmNoSW5wdXQsIFNlYXJjaFJlc3VsdHMsIFNwZWFrZXJMYXlvdXQsIFNwZWFraW5nV2hpbGVNdXRlZE5vdGlmaWNhdGlvbiwgU3BlZWNoSW5kaWNhdG9yLCBTdGF0Q2FyZCwgU3RyZWFtQ2FsbCwgU3RyZWFtVGhlbWUsIFN0cmVhbVZpZGVvLCBUZXh0QnV0dG9uLCBUb2dnbGVBdWRpb091dHB1dEJ1dHRvbiwgVG9nZ2xlQXVkaW9QcmV2aWV3QnV0dG9uLCBUb2dnbGVBdWRpb1B1Ymxpc2hpbmdCdXR0b24sIFRvZ2dsZVZpZGVvUHJldmlld0J1dHRvbiwgVG9nZ2xlVmlkZW9QdWJsaXNoaW5nQnV0dG9uLCBUb29sdGlwLCBWaWRlbyQxIGFzIFZpZGVvLCBWaWRlb1ByZXZpZXcsIFdpdGhUb29sdGlwLCBkZWZhdWx0UmVhY3Rpb25zLCB0cmFuc2xhdGlvbnMsIHVzZUJhY2tncm91bmRGaWx0ZXJzLCB1c2VIb3Jpem9udGFsU2Nyb2xsUG9zaXRpb24sIHVzZU1lbnVDb250ZXh0LCB1c2VOb2lzZUNhbmNlbGxhdGlvbiwgdXNlUGFydGljaXBhbnRWaWV3Q29udGV4dCwgdXNlUGVyc2lzdGVkRGV2aWNlUHJlZmVyZW5jZXMsIHVzZVJlcXVlc3RQZXJtaXNzaW9uLCB1c2VUcmFja0VsZW1lbnRWaXNpYmlsaXR5LCB1c2VWZXJ0aWNhbFNjcm9sbFBvc2l0aW9uIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5lcy5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../../node_modules/@stream-io/video-react-sdk/dist/index.es.js\n");

/***/ }),

/***/ "(ssr)/../../../node_modules/@stream-io/video-react-sdk/dist/latency-chart-Bj5OSYzg.es.js":
/*!******************************************************************************************!*\
  !*** ../../../node_modules/@stream-io/video-react-sdk/dist/latency-chart-Bj5OSYzg.es.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ CallStatsLatencyChart)\n/* harmony export */ });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/../../../node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var chart_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! chart.js */ \"(ssr)/../../../node_modules/chart.js/dist/chart.js\");\n/* harmony import */ var react_chartjs_2__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-chartjs-2 */ \"(ssr)/../../../node_modules/react-chartjs-2/dist/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/../../../node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n\n\n\n\n\n// NOTE: this is a side effect by definition, but this component is\n// isolated in a separate chunk, and it won't affect the rest of the app.\n// See CallStats.tsx for more details.\nchart_js__WEBPACK_IMPORTED_MODULE_2__.Chart.register(chart_js__WEBPACK_IMPORTED_MODULE_2__.CategoryScale, chart_js__WEBPACK_IMPORTED_MODULE_2__.LinearScale, chart_js__WEBPACK_IMPORTED_MODULE_2__.LineElement, chart_js__WEBPACK_IMPORTED_MODULE_2__.PointElement);\nconst CallStatsLatencyChart = (props) => {\n    const { values } = props;\n    let max = 0;\n    const data = {\n        labels: values.map((point) => {\n            const date = new Date(point.x * 1000);\n            return `${date.getHours()}:${date.getMinutes()}`;\n        }),\n        datasets: [\n            {\n                data: values.map((point) => {\n                    const { y } = point;\n                    max = Math.max(max, y);\n                    return point;\n                }),\n                borderColor: '#00e2a1',\n                backgroundColor: '#00e2a1',\n            },\n        ],\n    };\n    const options = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => getLineOptions(max), [max]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"str-video__call-stats-line-chart-container\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_chartjs_2__WEBPACK_IMPORTED_MODULE_3__.Line, { options: options, data: data, className: \"str-video__call-stats__latencychart\" }) }));\n};\nconst getLineOptions = (max) => ({\n    maintainAspectRatio: false,\n    animation: { duration: 0 },\n    elements: {\n        line: { borderWidth: 1 },\n        point: { radius: 2 },\n    },\n    scales: {\n        y: {\n            position: 'right',\n            stacked: true,\n            min: 0,\n            max: Math.max(180, Math.ceil((max + 10) / 10) * 10),\n            grid: { display: true, color: '#979ca0' },\n            ticks: { stepSize: 30 },\n        },\n        x: {\n            grid: { display: false },\n            ticks: { display: false },\n        },\n    },\n});\n\n\n//# sourceMappingURL=latency-chart-Bj5OSYzg.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BzdHJlYW0taW8vdmlkZW8tcmVhY3Qtc2RrL2Rpc3QvbGF0ZW5jeS1jaGFydC1CajVPU1l6Zy5lcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQXdDO0FBQ2dEO0FBQ2pEO0FBQ1A7O0FBRWhDO0FBQ0E7QUFDQTtBQUNBLDJDQUFLLFVBQVUsbURBQWEsRUFBRSxpREFBVyxFQUFFLGlEQUFXLEVBQUUsa0RBQVk7QUFDcEU7QUFDQSxZQUFZLFNBQVM7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsZ0JBQWdCLEdBQUcsa0JBQWtCO0FBQzNELFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsSUFBSTtBQUNoQztBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLG9CQUFvQiw4Q0FBTztBQUMzQixZQUFZLHNEQUFHLFVBQVUsbUVBQW1FLHNEQUFHLENBQUMsaURBQUksSUFBSSxnRkFBZ0YsR0FBRztBQUMzTDtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsYUFBYTtBQUM5QjtBQUNBLGdCQUFnQixnQkFBZ0I7QUFDaEMsaUJBQWlCLFdBQVc7QUFDNUIsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixpQ0FBaUM7QUFDckQscUJBQXFCLGNBQWM7QUFDbkMsU0FBUztBQUNUO0FBQ0Esb0JBQW9CLGdCQUFnQjtBQUNwQyxxQkFBcUIsZ0JBQWdCO0FBQ3JDLFNBQVM7QUFDVCxLQUFLO0FBQ0wsQ0FBQzs7QUFFMkM7QUFDNUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AaGVsc2EvYXBwLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9Ac3RyZWFtLWlvL3ZpZGVvLXJlYWN0LXNkay9kaXN0L2xhdGVuY3ktY2hhcnQtQmo1T1NZemcuZXMuanM/OGJjNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBqc3ggfSBmcm9tICdyZWFjdC9qc3gtcnVudGltZSc7XG5pbXBvcnQgeyBDaGFydCwgQ2F0ZWdvcnlTY2FsZSwgTGluZWFyU2NhbGUsIExpbmVFbGVtZW50LCBQb2ludEVsZW1lbnQgfSBmcm9tICdjaGFydC5qcyc7XG5pbXBvcnQgeyBMaW5lIH0gZnJvbSAncmVhY3QtY2hhcnRqcy0yJztcbmltcG9ydCB7IHVzZU1lbW8gfSBmcm9tICdyZWFjdCc7XG5cbi8vIE5PVEU6IHRoaXMgaXMgYSBzaWRlIGVmZmVjdCBieSBkZWZpbml0aW9uLCBidXQgdGhpcyBjb21wb25lbnQgaXNcbi8vIGlzb2xhdGVkIGluIGEgc2VwYXJhdGUgY2h1bmssIGFuZCBpdCB3b24ndCBhZmZlY3QgdGhlIHJlc3Qgb2YgdGhlIGFwcC5cbi8vIFNlZSBDYWxsU3RhdHMudHN4IGZvciBtb3JlIGRldGFpbHMuXG5DaGFydC5yZWdpc3RlcihDYXRlZ29yeVNjYWxlLCBMaW5lYXJTY2FsZSwgTGluZUVsZW1lbnQsIFBvaW50RWxlbWVudCk7XG5jb25zdCBDYWxsU3RhdHNMYXRlbmN5Q2hhcnQgPSAocHJvcHMpID0+IHtcbiAgICBjb25zdCB7IHZhbHVlcyB9ID0gcHJvcHM7XG4gICAgbGV0IG1heCA9IDA7XG4gICAgY29uc3QgZGF0YSA9IHtcbiAgICAgICAgbGFiZWxzOiB2YWx1ZXMubWFwKChwb2ludCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKHBvaW50LnggKiAxMDAwKTtcbiAgICAgICAgICAgIHJldHVybiBgJHtkYXRlLmdldEhvdXJzKCl9OiR7ZGF0ZS5nZXRNaW51dGVzKCl9YDtcbiAgICAgICAgfSksXG4gICAgICAgIGRhdGFzZXRzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGF0YTogdmFsdWVzLm1hcCgocG9pbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyB5IH0gPSBwb2ludDtcbiAgICAgICAgICAgICAgICAgICAgbWF4ID0gTWF0aC5tYXgobWF4LCB5KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBvaW50O1xuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIGJvcmRlckNvbG9yOiAnIzAwZTJhMScsXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzAwZTJhMScsXG4gICAgICAgICAgICB9LFxuICAgICAgICBdLFxuICAgIH07XG4gICAgY29uc3Qgb3B0aW9ucyA9IHVzZU1lbW8oKCkgPT4gZ2V0TGluZU9wdGlvbnMobWF4KSwgW21heF0pO1xuICAgIHJldHVybiAoanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fY2FsbC1zdGF0cy1saW5lLWNoYXJ0LWNvbnRhaW5lclwiLCBjaGlsZHJlbjoganN4KExpbmUsIHsgb3B0aW9uczogb3B0aW9ucywgZGF0YTogZGF0YSwgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fY2FsbC1zdGF0c19fbGF0ZW5jeWNoYXJ0XCIgfSkgfSkpO1xufTtcbmNvbnN0IGdldExpbmVPcHRpb25zID0gKG1heCkgPT4gKHtcbiAgICBtYWludGFpbkFzcGVjdFJhdGlvOiBmYWxzZSxcbiAgICBhbmltYXRpb246IHsgZHVyYXRpb246IDAgfSxcbiAgICBlbGVtZW50czoge1xuICAgICAgICBsaW5lOiB7IGJvcmRlcldpZHRoOiAxIH0sXG4gICAgICAgIHBvaW50OiB7IHJhZGl1czogMiB9LFxuICAgIH0sXG4gICAgc2NhbGVzOiB7XG4gICAgICAgIHk6IHtcbiAgICAgICAgICAgIHBvc2l0aW9uOiAncmlnaHQnLFxuICAgICAgICAgICAgc3RhY2tlZDogdHJ1ZSxcbiAgICAgICAgICAgIG1pbjogMCxcbiAgICAgICAgICAgIG1heDogTWF0aC5tYXgoMTgwLCBNYXRoLmNlaWwoKG1heCArIDEwKSAvIDEwKSAqIDEwKSxcbiAgICAgICAgICAgIGdyaWQ6IHsgZGlzcGxheTogdHJ1ZSwgY29sb3I6ICcjOTc5Y2EwJyB9LFxuICAgICAgICAgICAgdGlja3M6IHsgc3RlcFNpemU6IDMwIH0sXG4gICAgICAgIH0sXG4gICAgICAgIHg6IHtcbiAgICAgICAgICAgIGdyaWQ6IHsgZGlzcGxheTogZmFsc2UgfSxcbiAgICAgICAgICAgIHRpY2tzOiB7IGRpc3BsYXk6IGZhbHNlIH0sXG4gICAgICAgIH0sXG4gICAgfSxcbn0pO1xuXG5leHBvcnQgeyBDYWxsU3RhdHNMYXRlbmN5Q2hhcnQgYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bGF0ZW5jeS1jaGFydC1CajVPU1l6Zy5lcy5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../../node_modules/@stream-io/video-react-sdk/dist/latency-chart-Bj5OSYzg.es.js\n");

/***/ }),

/***/ "(ssr)/../../../node_modules/@stream-io/video-react-sdk/dist/css/styles.css":
/*!****************************************************************************!*\
  !*** ../../../node_modules/@stream-io/video-react-sdk/dist/css/styles.css ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"85221b26489e\");\nif (false) {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BzdHJlYW0taW8vdmlkZW8tcmVhY3Qtc2RrL2Rpc3QvY3NzL3N0eWxlcy5jc3MiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLGlFQUFlLGNBQWM7QUFDN0IsSUFBSSxLQUFVLEVBQUUsRUFBdUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AaGVsc2EvYXBwLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9Ac3RyZWFtLWlvL3ZpZGVvLXJlYWN0LXNkay9kaXN0L2Nzcy9zdHlsZXMuY3NzPzU4MzciXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgXCI4NTIyMWIyNjQ4OWVcIlxuaWYgKG1vZHVsZS5ob3QpIHsgbW9kdWxlLmhvdC5hY2NlcHQoKSB9XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/../../../node_modules/@stream-io/video-react-sdk/dist/css/styles.css\n");

/***/ }),

/***/ "(rsc)/../../../node_modules/@stream-io/node-sdk/node_modules/uuid/dist/esm-node/native.js":
/*!*******************************************************************************************!*\
  !*** ../../../node_modules/@stream-io/node-sdk/node_modules/uuid/dist/esm-node/native.js ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! crypto */ \"crypto\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(crypto__WEBPACK_IMPORTED_MODULE_0__);\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  randomUUID: (crypto__WEBPACK_IMPORTED_MODULE_0___default().randomUUID)\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BzdHJlYW0taW8vbm9kZS1zZGsvbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tbm9kZS9uYXRpdmUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTRCO0FBQzVCLGlFQUFlO0FBQ2YsY0FBYywwREFBaUI7QUFDL0IsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL0BoZWxzYS9hcHAvLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BzdHJlYW0taW8vbm9kZS1zZGsvbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tbm9kZS9uYXRpdmUuanM/NzQ0MSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgY3J5cHRvIGZyb20gJ2NyeXB0byc7XG5leHBvcnQgZGVmYXVsdCB7XG4gIHJhbmRvbVVVSUQ6IGNyeXB0by5yYW5kb21VVUlEXG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../../node_modules/@stream-io/node-sdk/node_modules/uuid/dist/esm-node/native.js\n");

/***/ }),

/***/ "(rsc)/../../../node_modules/@stream-io/node-sdk/node_modules/uuid/dist/esm-node/regex.js":
/*!******************************************************************************************!*\
  !*** ../../../node_modules/@stream-io/node-sdk/node_modules/uuid/dist/esm-node/regex.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BzdHJlYW0taW8vbm9kZS1zZGsvbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tbm9kZS9yZWdleC5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsaUVBQWUsY0FBYyxFQUFFLFVBQVUsRUFBRSxlQUFlLEVBQUUsZ0JBQWdCLEVBQUUsVUFBVSxHQUFHLHlDQUF5QyIsInNvdXJjZXMiOlsid2VicGFjazovL0BoZWxzYS9hcHAvLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BzdHJlYW0taW8vbm9kZS1zZGsvbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tbm9kZS9yZWdleC5qcz9kNmNkIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IC9eKD86WzAtOWEtZl17OH0tWzAtOWEtZl17NH0tWzEtNV1bMC05YS1mXXszfS1bODlhYl1bMC05YS1mXXszfS1bMC05YS1mXXsxMn18MDAwMDAwMDAtMDAwMC0wMDAwLTAwMDAtMDAwMDAwMDAwMDAwKSQvaTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../../node_modules/@stream-io/node-sdk/node_modules/uuid/dist/esm-node/regex.js\n");

/***/ }),

/***/ "(rsc)/../../../node_modules/@stream-io/node-sdk/node_modules/uuid/dist/esm-node/rng.js":
/*!****************************************************************************************!*\
  !*** ../../../node_modules/@stream-io/node-sdk/node_modules/uuid/dist/esm-node/rng.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ rng)\n/* harmony export */ });\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! crypto */ \"crypto\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(crypto__WEBPACK_IMPORTED_MODULE_0__);\n\nconst rnds8Pool = new Uint8Array(256); // # of random values to pre-allocate\n\nlet poolPtr = rnds8Pool.length;\nfunction rng() {\n  if (poolPtr > rnds8Pool.length - 16) {\n    crypto__WEBPACK_IMPORTED_MODULE_0___default().randomFillSync(rnds8Pool);\n    poolPtr = 0;\n  }\n\n  return rnds8Pool.slice(poolPtr, poolPtr += 16);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BzdHJlYW0taW8vbm9kZS1zZGsvbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tbm9kZS9ybmcuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTRCO0FBQzVCLHVDQUF1Qzs7QUFFdkM7QUFDZTtBQUNmO0FBQ0EsSUFBSSw0REFBcUI7QUFDekI7QUFDQTs7QUFFQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGhlbHNhL2FwcC8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQHN0cmVhbS1pby9ub2RlLXNkay9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1ub2RlL3JuZy5qcz8zNjdiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjcnlwdG8gZnJvbSAnY3J5cHRvJztcbmNvbnN0IHJuZHM4UG9vbCA9IG5ldyBVaW50OEFycmF5KDI1Nik7IC8vICMgb2YgcmFuZG9tIHZhbHVlcyB0byBwcmUtYWxsb2NhdGVcblxubGV0IHBvb2xQdHIgPSBybmRzOFBvb2wubGVuZ3RoO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcm5nKCkge1xuICBpZiAocG9vbFB0ciA+IHJuZHM4UG9vbC5sZW5ndGggLSAxNikge1xuICAgIGNyeXB0by5yYW5kb21GaWxsU3luYyhybmRzOFBvb2wpO1xuICAgIHBvb2xQdHIgPSAwO1xuICB9XG5cbiAgcmV0dXJuIHJuZHM4UG9vbC5zbGljZShwb29sUHRyLCBwb29sUHRyICs9IDE2KTtcbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../../node_modules/@stream-io/node-sdk/node_modules/uuid/dist/esm-node/rng.js\n");

/***/ }),

/***/ "(rsc)/../../../node_modules/@stream-io/node-sdk/node_modules/uuid/dist/esm-node/stringify.js":
/*!**********************************************************************************************!*\
  !*** ../../../node_modules/@stream-io/node-sdk/node_modules/uuid/dist/esm-node/stringify.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   unsafeStringify: () => (/* binding */ unsafeStringify)\n/* harmony export */ });\n/* harmony import */ var _validate_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./validate.js */ \"(rsc)/../../../node_modules/@stream-io/node-sdk/node_modules/uuid/dist/esm-node/validate.js\");\n\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nconst byteToHex = [];\n\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).slice(1));\n}\n\nfunction unsafeStringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  return byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]];\n}\n\nfunction stringify(arr, offset = 0) {\n  const uuid = unsafeStringify(arr, offset); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!(0,_validate_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (stringify);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BzdHJlYW0taW8vbm9kZS1zZGsvbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tbm9kZS9zdHJpbmdpZnkuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQXFDO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLGdCQUFnQixTQUFTO0FBQ3pCO0FBQ0E7O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDZDQUE2QztBQUM3QztBQUNBO0FBQ0E7QUFDQTs7QUFFQSxPQUFPLHdEQUFRO0FBQ2Y7QUFDQTs7QUFFQTtBQUNBOztBQUVBLGlFQUFlLFNBQVMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AaGVsc2EvYXBwLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9Ac3RyZWFtLWlvL25vZGUtc2RrL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvc3RyaW5naWZ5LmpzPzgzM2EiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHZhbGlkYXRlIGZyb20gJy4vdmFsaWRhdGUuanMnO1xuLyoqXG4gKiBDb252ZXJ0IGFycmF5IG9mIDE2IGJ5dGUgdmFsdWVzIHRvIFVVSUQgc3RyaW5nIGZvcm1hdCBvZiB0aGUgZm9ybTpcbiAqIFhYWFhYWFhYLVhYWFgtWFhYWC1YWFhYLVhYWFhYWFhYWFhYWFxuICovXG5cbmNvbnN0IGJ5dGVUb0hleCA9IFtdO1xuXG5mb3IgKGxldCBpID0gMDsgaSA8IDI1NjsgKytpKSB7XG4gIGJ5dGVUb0hleC5wdXNoKChpICsgMHgxMDApLnRvU3RyaW5nKDE2KS5zbGljZSgxKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1bnNhZmVTdHJpbmdpZnkoYXJyLCBvZmZzZXQgPSAwKSB7XG4gIC8vIE5vdGU6IEJlIGNhcmVmdWwgZWRpdGluZyB0aGlzIGNvZGUhICBJdCdzIGJlZW4gdHVuZWQgZm9yIHBlcmZvcm1hbmNlXG4gIC8vIGFuZCB3b3JrcyBpbiB3YXlzIHlvdSBtYXkgbm90IGV4cGVjdC4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS91dWlkanMvdXVpZC9wdWxsLzQzNFxuICByZXR1cm4gYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAwXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDFdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMl1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAzXV0gKyAnLScgKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDRdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgNV1dICsgJy0nICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA2XV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDddXSArICctJyArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgOF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA5XV0gKyAnLScgKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDEwXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDExXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDEyXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDEzXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDE0XV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDE1XV07XG59XG5cbmZ1bmN0aW9uIHN0cmluZ2lmeShhcnIsIG9mZnNldCA9IDApIHtcbiAgY29uc3QgdXVpZCA9IHVuc2FmZVN0cmluZ2lmeShhcnIsIG9mZnNldCk7IC8vIENvbnNpc3RlbmN5IGNoZWNrIGZvciB2YWxpZCBVVUlELiAgSWYgdGhpcyB0aHJvd3MsIGl0J3MgbGlrZWx5IGR1ZSB0byBvbmVcbiAgLy8gb2YgdGhlIGZvbGxvd2luZzpcbiAgLy8gLSBPbmUgb3IgbW9yZSBpbnB1dCBhcnJheSB2YWx1ZXMgZG9uJ3QgbWFwIHRvIGEgaGV4IG9jdGV0IChsZWFkaW5nIHRvXG4gIC8vIFwidW5kZWZpbmVkXCIgaW4gdGhlIHV1aWQpXG4gIC8vIC0gSW52YWxpZCBpbnB1dCB2YWx1ZXMgZm9yIHRoZSBSRkMgYHZlcnNpb25gIG9yIGB2YXJpYW50YCBmaWVsZHNcblxuICBpZiAoIXZhbGlkYXRlKHV1aWQpKSB7XG4gICAgdGhyb3cgVHlwZUVycm9yKCdTdHJpbmdpZmllZCBVVUlEIGlzIGludmFsaWQnKTtcbiAgfVxuXG4gIHJldHVybiB1dWlkO1xufVxuXG5leHBvcnQgZGVmYXVsdCBzdHJpbmdpZnk7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../../node_modules/@stream-io/node-sdk/node_modules/uuid/dist/esm-node/stringify.js\n");

/***/ }),

/***/ "(rsc)/../../../node_modules/@stream-io/node-sdk/node_modules/uuid/dist/esm-node/v4.js":
/*!***************************************************************************************!*\
  !*** ../../../node_modules/@stream-io/node-sdk/node_modules/uuid/dist/esm-node/v4.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _native_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./native.js */ \"(rsc)/../../../node_modules/@stream-io/node-sdk/node_modules/uuid/dist/esm-node/native.js\");\n/* harmony import */ var _rng_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./rng.js */ \"(rsc)/../../../node_modules/@stream-io/node-sdk/node_modules/uuid/dist/esm-node/rng.js\");\n/* harmony import */ var _stringify_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./stringify.js */ \"(rsc)/../../../node_modules/@stream-io/node-sdk/node_modules/uuid/dist/esm-node/stringify.js\");\n\n\n\n\nfunction v4(options, buf, offset) {\n  if (_native_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].randomUUID && !buf && !options) {\n    return _native_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].randomUUID();\n  }\n\n  options = options || {};\n  const rnds = options.random || (options.rng || _rng_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (let i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return (0,_stringify_js__WEBPACK_IMPORTED_MODULE_2__.unsafeStringify)(rnds);\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (v4);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BzdHJlYW0taW8vbm9kZS1zZGsvbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tbm9kZS92NC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQWlDO0FBQ047QUFDc0I7O0FBRWpEO0FBQ0EsTUFBTSxrREFBTTtBQUNaLFdBQVcsa0RBQU07QUFDakI7O0FBRUE7QUFDQSxpREFBaUQsK0NBQUcsS0FBSzs7QUFFekQ7QUFDQSxtQ0FBbUM7O0FBRW5DO0FBQ0E7O0FBRUEsb0JBQW9CLFFBQVE7QUFDNUI7QUFDQTs7QUFFQTtBQUNBOztBQUVBLFNBQVMsOERBQWU7QUFDeEI7O0FBRUEsaUVBQWUsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL0BoZWxzYS9hcHAvLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BzdHJlYW0taW8vbm9kZS1zZGsvbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tbm9kZS92NC5qcz83MzE3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBuYXRpdmUgZnJvbSAnLi9uYXRpdmUuanMnO1xuaW1wb3J0IHJuZyBmcm9tICcuL3JuZy5qcyc7XG5pbXBvcnQgeyB1bnNhZmVTdHJpbmdpZnkgfSBmcm9tICcuL3N0cmluZ2lmeS5qcyc7XG5cbmZ1bmN0aW9uIHY0KG9wdGlvbnMsIGJ1Ziwgb2Zmc2V0KSB7XG4gIGlmIChuYXRpdmUucmFuZG9tVVVJRCAmJiAhYnVmICYmICFvcHRpb25zKSB7XG4gICAgcmV0dXJuIG5hdGl2ZS5yYW5kb21VVUlEKCk7XG4gIH1cblxuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgY29uc3Qgcm5kcyA9IG9wdGlvbnMucmFuZG9tIHx8IChvcHRpb25zLnJuZyB8fCBybmcpKCk7IC8vIFBlciA0LjQsIHNldCBiaXRzIGZvciB2ZXJzaW9uIGFuZCBgY2xvY2tfc2VxX2hpX2FuZF9yZXNlcnZlZGBcblxuICBybmRzWzZdID0gcm5kc1s2XSAmIDB4MGYgfCAweDQwO1xuICBybmRzWzhdID0gcm5kc1s4XSAmIDB4M2YgfCAweDgwOyAvLyBDb3B5IGJ5dGVzIHRvIGJ1ZmZlciwgaWYgcHJvdmlkZWRcblxuICBpZiAoYnVmKSB7XG4gICAgb2Zmc2V0ID0gb2Zmc2V0IHx8IDA7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDE2OyArK2kpIHtcbiAgICAgIGJ1ZltvZmZzZXQgKyBpXSA9IHJuZHNbaV07XG4gICAgfVxuXG4gICAgcmV0dXJuIGJ1ZjtcbiAgfVxuXG4gIHJldHVybiB1bnNhZmVTdHJpbmdpZnkocm5kcyk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHY0OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../../node_modules/@stream-io/node-sdk/node_modules/uuid/dist/esm-node/v4.js\n");

/***/ }),

/***/ "(rsc)/../../../node_modules/@stream-io/node-sdk/node_modules/uuid/dist/esm-node/validate.js":
/*!*********************************************************************************************!*\
  !*** ../../../node_modules/@stream-io/node-sdk/node_modules/uuid/dist/esm-node/validate.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _regex_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./regex.js */ \"(rsc)/../../../node_modules/@stream-io/node-sdk/node_modules/uuid/dist/esm-node/regex.js\");\n\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && _regex_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].test(uuid);\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (validate);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BzdHJlYW0taW8vbm9kZS1zZGsvbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tbm9kZS92YWxpZGF0ZS5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUErQjs7QUFFL0I7QUFDQSxxQ0FBcUMsaURBQUs7QUFDMUM7O0FBRUEsaUVBQWUsUUFBUSIsInNvdXJjZXMiOlsid2VicGFjazovL0BoZWxzYS9hcHAvLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BzdHJlYW0taW8vbm9kZS1zZGsvbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tbm9kZS92YWxpZGF0ZS5qcz85NmU4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSRUdFWCBmcm9tICcuL3JlZ2V4LmpzJztcblxuZnVuY3Rpb24gdmFsaWRhdGUodXVpZCkge1xuICByZXR1cm4gdHlwZW9mIHV1aWQgPT09ICdzdHJpbmcnICYmIFJFR0VYLnRlc3QodXVpZCk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHZhbGlkYXRlOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../../node_modules/@stream-io/node-sdk/node_modules/uuid/dist/esm-node/validate.js\n");

/***/ }),

/***/ "(rsc)/../../../node_modules/@stream-io/node-sdk/dist/index.es.mjs":
/*!*******************************************************************!*\
  !*** ../../../node_modules/@stream-io/node-sdk/dist/index.es.mjs ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChannelOwnCapability: () => (/* binding */ ChannelOwnCapability),\n/* harmony export */   OwnCapability: () => (/* binding */ OwnCapability),\n/* harmony export */   StreamCall: () => (/* binding */ StreamCall),\n/* harmony export */   StreamChannel: () => (/* binding */ StreamChannel),\n/* harmony export */   StreamChatClient: () => (/* binding */ StreamChatClient),\n/* harmony export */   StreamClient: () => (/* binding */ StreamClient),\n/* harmony export */   StreamVideoClient: () => (/* binding */ StreamVideoClient)\n/* harmony export */ });\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jsonwebtoken */ \"(rsc)/../../../node_modules/jsonwebtoken/index.js\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! uuid */ \"(rsc)/../../../node_modules/@stream-io/node-sdk/node_modules/uuid/dist/esm-node/v4.js\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! crypto */ \"crypto\");\n\n\n\n\nconst ChannelOwnCapability = {\n    BAN_CHANNEL_MEMBERS: 'ban-channel-members',\n    CAST_POLL_VOTE: 'cast-poll-vote',\n    CONNECT_EVENTS: 'connect-events',\n    CREATE_ATTACHMENT: 'create-attachment',\n    CREATE_CALL: 'create-call',\n    DELETE_ANY_MESSAGE: 'delete-any-message',\n    DELETE_CHANNEL: 'delete-channel',\n    DELETE_OWN_MESSAGE: 'delete-own-message',\n    FLAG_MESSAGE: 'flag-message',\n    FREEZE_CHANNEL: 'freeze-channel',\n    JOIN_CALL: 'join-call',\n    JOIN_CHANNEL: 'join-channel',\n    LEAVE_CHANNEL: 'leave-channel',\n    MUTE_CHANNEL: 'mute-channel',\n    PIN_MESSAGE: 'pin-message',\n    QUERY_POLL_VOTES: 'query-poll-votes',\n    QUOTE_MESSAGE: 'quote-message',\n    READ_EVENTS: 'read-events',\n    SEARCH_MESSAGES: 'search-messages',\n    SEND_CUSTOM_EVENTS: 'send-custom-events',\n    SEND_LINKS: 'send-links',\n    SEND_MESSAGE: 'send-message',\n    SEND_POLL: 'send-poll',\n    SEND_REACTION: 'send-reaction',\n    SEND_REPLY: 'send-reply',\n    SEND_TYPING_EVENTS: 'send-typing-events',\n    SET_CHANNEL_COOLDOWN: 'set-channel-cooldown',\n    SKIP_SLOW_MODE: 'skip-slow-mode',\n    SLOW_MODE: 'slow-mode',\n    TYPING_EVENTS: 'typing-events',\n    UPDATE_ANY_MESSAGE: 'update-any-message',\n    UPDATE_CHANNEL: 'update-channel',\n    UPDATE_CHANNEL_MEMBERS: 'update-channel-members',\n    UPDATE_OWN_MESSAGE: 'update-own-message',\n    UPDATE_THREAD: 'update-thread',\n    UPLOAD_FILE: 'upload-file',\n};\nconst OwnCapability = {\n    BLOCK_USERS: 'block-users',\n    CHANGE_MAX_DURATION: 'change-max-duration',\n    CREATE_CALL: 'create-call',\n    CREATE_REACTION: 'create-reaction',\n    ENABLE_NOISE_CANCELLATION: 'enable-noise-cancellation',\n    END_CALL: 'end-call',\n    JOIN_BACKSTAGE: 'join-backstage',\n    JOIN_CALL: 'join-call',\n    JOIN_ENDED_CALL: 'join-ended-call',\n    MUTE_USERS: 'mute-users',\n    PIN_FOR_EVERYONE: 'pin-for-everyone',\n    READ_CALL: 'read-call',\n    REMOVE_CALL_MEMBER: 'remove-call-member',\n    SCREENSHARE: 'screenshare',\n    SEND_AUDIO: 'send-audio',\n    SEND_VIDEO: 'send-video',\n    START_BROADCAST_CALL: 'start-broadcast-call',\n    START_CLOSED_CAPTIONS_CALL: 'start-closed-captions-call',\n    START_RECORD_CALL: 'start-record-call',\n    START_TRANSCRIPTION_CALL: 'start-transcription-call',\n    STOP_BROADCAST_CALL: 'stop-broadcast-call',\n    STOP_CLOSED_CAPTIONS_CALL: 'stop-closed-captions-call',\n    STOP_RECORD_CALL: 'stop-record-call',\n    STOP_TRANSCRIPTION_CALL: 'stop-transcription-call',\n    UPDATE_CALL: 'update-call',\n    UPDATE_CALL_MEMBER: 'update-call-member',\n    UPDATE_CALL_PERMISSIONS: 'update-call-permissions',\n    UPDATE_CALL_SETTINGS: 'update-call-settings',\n};\n\nfunction JWTUserToken(apiSecret, payload) {\n    // make sure we return a clear error when jwt is shimmed (ie. browser build)\n    if (jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__ == null || jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__.sign == null) {\n        throw Error(`Unable to find jwt crypto, if you are getting this error is probably because you are trying to generate tokens on browser or React Native (or other environment where crypto functions are not available). Please Note: token should only be generated server-side.`);\n    }\n    const opts = Object.assign({\n        algorithm: 'HS256',\n        noTimestamp: true,\n    });\n    if (payload.iat) {\n        opts.noTimestamp = false;\n    }\n    return jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__.sign(payload, apiSecret, opts);\n}\nfunction JWTServerToken(apiSecret, jwtOptions = {}) {\n    const payload = {\n        server: true,\n    };\n    const opts = Object.assign({ algorithm: 'HS256', noTimestamp: true }, jwtOptions);\n    return jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__.sign(payload, apiSecret, opts);\n}\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\n\r\nfunction __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\n\nclass StreamError extends Error {\n    constructor(message, metadata, code, errorOptions) {\n        super(message, errorOptions);\n        this.metadata = metadata;\n        this.code = code;\n    }\n}\n\nconst getRateLimitFromResponseHeader = (responseHeaders) => {\n    const rateLimit = responseHeaders.has('x-ratelimit-limit')\n        ? +responseHeaders.get('x-ratelimit-limit')\n        : undefined;\n    const rateLimitRemaining = responseHeaders.has('x-ratelimit-remaining')\n        ? +responseHeaders.get('x-ratelimit-remaining')\n        : undefined;\n    const rateLimitReset = responseHeaders.has('x-ratelimit-reset')\n        ? new Date(+responseHeaders.get('x-ratelimit-reset') * 1000)\n        : undefined;\n    const result = {\n        rateLimit,\n        rateLimitRemaining,\n        rateLimitReset,\n    };\n    return result;\n};\n\nclass BaseApi {\n    constructor(apiConfig) {\n        this.apiConfig = apiConfig;\n        this.sendRequest = (method, url, pathParams, queryParams, body) => __awaiter(this, void 0, void 0, function* () {\n            queryParams = queryParams !== null && queryParams !== void 0 ? queryParams : {};\n            queryParams.api_key = this.apiConfig.apiKey;\n            const encodedParams = this.queryParamsStringify(queryParams);\n            if (pathParams) {\n                Object.keys(pathParams).forEach((paramName) => {\n                    url = url.replace(`{${paramName}}`, pathParams[paramName]);\n                });\n            }\n            url += `?${encodedParams}`;\n            const clientRequestId = (0,uuid__WEBPACK_IMPORTED_MODULE_2__[\"default\"])();\n            const headers = {\n                Authorization: this.apiConfig.token,\n                'stream-auth-type': 'jwt',\n                'Content-Type': 'application/json',\n                'X-Stream-Client': 'stream-node-' + \"0.4.5\",\n                'Accept-Encoding': 'gzip',\n                'x-client-request-id': clientRequestId,\n            };\n            const signal = AbortSignal.timeout(this.apiConfig.timeout);\n            try {\n                const response = yield fetch(`${this.apiConfig.baseUrl}${url}`, {\n                    signal,\n                    method,\n                    body: JSON.stringify(body),\n                    headers,\n                });\n                const responseHeaders = response.headers;\n                const metadata = {\n                    clientRequestId,\n                    responseHeaders,\n                    responseCode: response.status,\n                    rateLimit: getRateLimitFromResponseHeader(responseHeaders),\n                };\n                if (response.status < 200 || response.status >= 300) {\n                    let error;\n                    try {\n                        error = (yield response.json());\n                    }\n                    catch (_) {\n                        throw new StreamError(`Stream error: ${response.status} - ${response.statusText}`, metadata, response.status);\n                    }\n                    throw new StreamError(`Stream error code ${error.code}: ${error.message}`, metadata, error.code, undefined);\n                }\n                const responseBody = (yield response.json());\n                return { body: responseBody, metadata };\n            }\n            catch (error) {\n                if (error instanceof StreamError) {\n                    throw error;\n                }\n                const metadata = {\n                    clientRequestId,\n                    responseCode: error.status,\n                };\n                if (error.name === 'AbortError' || error.name === 'TimeoutError') {\n                    throw new StreamError(`The request was aborted due to to the ${this.apiConfig.timeout}ms timeout, you can set the timeout in the StreamClient constructor`, metadata, undefined, error);\n                }\n                else {\n                    throw new StreamError(`The request failed due to an unexpected error`, metadata, error);\n                }\n            }\n        });\n        this.queryParamsStringify = (params) => {\n            const newParams = [];\n            for (const k in params) {\n                const param = params[k];\n                if (Array.isArray(param)) {\n                    newParams.push(`${k}=${encodeURIComponent(param.join(','))}`);\n                }\n                else if (param instanceof Date) {\n                    newParams.push(param.toISOString());\n                }\n                else if (typeof param === 'object') {\n                    newParams.push(`${k}=${encodeURIComponent(JSON.stringify(param))}`);\n                }\n                else {\n                    if (typeof param === 'string' ||\n                        typeof param === 'number' ||\n                        typeof param === 'boolean') {\n                        newParams.push(`${k}=${encodeURIComponent(param)}`);\n                    }\n                }\n            }\n            return newParams.join('&');\n        };\n    }\n}\n\nconst decoders = {};\nconst decodeDatetimeType = (input) => new Date(Math.floor(input / 1000000));\ndecoders.DatetimeType = decodeDatetimeType;\nconst decode = (typeMappings, input) => {\n    if (!input || Object.keys(typeMappings).length === 0)\n        return input;\n    Object.keys(typeMappings).forEach((key) => {\n        if (input[key] != null) {\n            if (typeMappings[key]) {\n                const decoder = decoders[typeMappings[key].type];\n                if (decoder) {\n                    if (typeMappings[key].isSingle) {\n                        input[key] = decoder(input[key]);\n                    }\n                    else {\n                        Object.keys(input[key]).forEach((k) => {\n                            input[key][k] = decoder(input[key][k]);\n                        });\n                    }\n                }\n            }\n        }\n    });\n    return input;\n};\ndecoders.ActionLog = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        review_queue_item: { type: 'ReviewQueueItem', isSingle: true },\n        target_user: { type: 'User', isSingle: true },\n        user: { type: 'User', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ActionLogResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        review_queue_item: { type: 'ReviewQueueItem', isSingle: true },\n        target_user: { type: 'UserResponse', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.AppResponseFields = (input) => {\n    const typeMappings = {\n        call_types: { type: 'CallType', isSingle: false },\n        channel_configs: { type: 'ChannelConfig', isSingle: false },\n        push_notifications: { type: 'PushNotificationFields', isSingle: true },\n        revoke_tokens_issued_before: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.AutomodDetails = (input) => {\n    const typeMappings = {\n        result: { type: 'MessageModerationResult', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.Ban = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        expires: { type: 'DatetimeType', isSingle: true },\n        channel: { type: 'Channel', isSingle: true },\n        created_by: { type: 'User', isSingle: true },\n        target: { type: 'User', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.BanResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        expires: { type: 'DatetimeType', isSingle: true },\n        banned_by: { type: 'UserResponse', isSingle: true },\n        channel: { type: 'ChannelResponse', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.BlockListResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.BlockUsersResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.BlockedUserResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        blocked_user: { type: 'UserResponse', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallParticipantResponse = (input) => {\n    const typeMappings = {\n        joined_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallRecording = (input) => {\n    const typeMappings = {\n        end_time: { type: 'DatetimeType', isSingle: true },\n        start_time: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        created_by: { type: 'UserResponse', isSingle: true },\n        ended_at: { type: 'DatetimeType', isSingle: true },\n        starts_at: { type: 'DatetimeType', isSingle: true },\n        session: { type: 'CallSessionResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallSessionResponse = (input) => {\n    const typeMappings = {\n        participants: { type: 'CallParticipantResponse', isSingle: false },\n        accepted_by: { type: 'DatetimeType', isSingle: false },\n        missed_by: { type: 'DatetimeType', isSingle: false },\n        rejected_by: { type: 'DatetimeType', isSingle: false },\n        ended_at: { type: 'DatetimeType', isSingle: true },\n        live_ended_at: { type: 'DatetimeType', isSingle: true },\n        live_started_at: { type: 'DatetimeType', isSingle: true },\n        started_at: { type: 'DatetimeType', isSingle: true },\n        timer_ends_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallStateResponseFields = (input) => {\n    const typeMappings = {\n        members: { type: 'MemberResponse', isSingle: false },\n        call: { type: 'CallResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallStatsReportSummaryResponse = (input) => {\n    const typeMappings = {\n        first_stats_time: { type: 'DatetimeType', isSingle: true },\n        created_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallTranscription = (input) => {\n    const typeMappings = {\n        end_time: { type: 'DatetimeType', isSingle: true },\n        start_time: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallType = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallTypeResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CampaignResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        segments: { type: 'Segment', isSingle: false },\n        users: { type: 'UserResponse', isSingle: false },\n        stats: { type: 'CampaignStatsResponse', isSingle: true },\n        scheduled_for: { type: 'DatetimeType', isSingle: true },\n        stop_at: { type: 'DatetimeType', isSingle: true },\n        sender: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CampaignStatsResponse = (input) => {\n    const typeMappings = {\n        stats_completed_at: { type: 'DatetimeType', isSingle: true },\n        stats_started_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.Channel = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        last_message_at: { type: 'DatetimeType', isSingle: true },\n        invites: { type: 'ChannelMember', isSingle: false },\n        members: { type: 'ChannelMember', isSingle: false },\n        config: { type: 'ChannelConfig', isSingle: true },\n        created_by: { type: 'User', isSingle: true },\n        truncated_by: { type: 'User', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ChannelConfig = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ChannelConfigWithInfo = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        commands: { type: 'Command', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ChannelMember = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        archived_at: { type: 'DatetimeType', isSingle: true },\n        ban_expires: { type: 'DatetimeType', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        invite_accepted_at: { type: 'DatetimeType', isSingle: true },\n        invite_rejected_at: { type: 'DatetimeType', isSingle: true },\n        pinned_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ChannelMemberResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        archived_at: { type: 'DatetimeType', isSingle: true },\n        ban_expires: { type: 'DatetimeType', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        invite_accepted_at: { type: 'DatetimeType', isSingle: true },\n        invite_rejected_at: { type: 'DatetimeType', isSingle: true },\n        pinned_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ChannelMute = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        expires: { type: 'DatetimeType', isSingle: true },\n        channel: { type: 'ChannelResponse', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ChannelResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        hide_messages_before: { type: 'DatetimeType', isSingle: true },\n        last_message_at: { type: 'DatetimeType', isSingle: true },\n        mute_expires_at: { type: 'DatetimeType', isSingle: true },\n        truncated_at: { type: 'DatetimeType', isSingle: true },\n        members: { type: 'ChannelMember', isSingle: false },\n        config: { type: 'ChannelConfigWithInfo', isSingle: true },\n        created_by: { type: 'UserResponse', isSingle: true },\n        truncated_by: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ChannelStateResponse = (input) => {\n    const typeMappings = {\n        members: { type: 'ChannelMember', isSingle: false },\n        messages: { type: 'MessageResponse', isSingle: false },\n        pinned_messages: { type: 'MessageResponse', isSingle: false },\n        threads: { type: 'ThreadStateResponse', isSingle: false },\n        hide_messages_before: { type: 'DatetimeType', isSingle: true },\n        pending_messages: { type: 'PendingMessageResponse', isSingle: false },\n        read: { type: 'ReadStateResponse', isSingle: false },\n        watchers: { type: 'UserResponse', isSingle: false },\n        channel: { type: 'ChannelResponse', isSingle: true },\n        membership: { type: 'ChannelMember', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ChannelStateResponseFields = (input) => {\n    const typeMappings = {\n        members: { type: 'ChannelMember', isSingle: false },\n        messages: { type: 'MessageResponse', isSingle: false },\n        pinned_messages: { type: 'MessageResponse', isSingle: false },\n        threads: { type: 'ThreadStateResponse', isSingle: false },\n        hide_messages_before: { type: 'DatetimeType', isSingle: true },\n        pending_messages: { type: 'PendingMessageResponse', isSingle: false },\n        read: { type: 'ReadStateResponse', isSingle: false },\n        watchers: { type: 'UserResponse', isSingle: false },\n        channel: { type: 'ChannelResponse', isSingle: true },\n        membership: { type: 'ChannelMember', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ChannelTypeConfig = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        commands: { type: 'Command', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CheckResponse = (input) => {\n    const typeMappings = {\n        item: { type: 'ReviewQueueItem', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.Command = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ConfigResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CreateCallTypeResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CreateChannelTypeResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CreateCommandResponse = (input) => {\n    const typeMappings = {\n        command: { type: 'Command', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CreateGuestResponse = (input) => {\n    const typeMappings = {\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CreateImportResponse = (input) => {\n    const typeMappings = {\n        import_task: { type: 'ImportTask', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CreateRoleResponse = (input) => {\n    const typeMappings = {\n        role: { type: 'Role', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CustomCheckResponse = (input) => {\n    const typeMappings = {\n        scored_at: { type: 'DatetimeType', isSingle: true },\n        reviewed_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.DeactivateUserResponse = (input) => {\n    const typeMappings = {\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.DeleteCallResponse = (input) => {\n    const typeMappings = {\n        call: { type: 'CallResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.DeleteChannelResponse = (input) => {\n    const typeMappings = {\n        channel: { type: 'ChannelResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.DeleteMessageResponse = (input) => {\n    const typeMappings = {\n        message: { type: 'MessageResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.Device = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.DeviceResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.EgressRTMPResponse = (input) => {\n    const typeMappings = {\n        started_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.EntityCreator = (input) => {\n    const typeMappings = {\n        ban_expires: { type: 'DatetimeType', isSingle: true },\n        created_at: { type: 'DatetimeType', isSingle: true },\n        deactivated_at: { type: 'DatetimeType', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        last_active: { type: 'DatetimeType', isSingle: true },\n        last_engaged_at: { type: 'DatetimeType', isSingle: true },\n        revoke_tokens_issued_before: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        push_notifications: { type: 'PushNotificationSettings', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.EntityCreatorResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        devices: { type: 'DeviceResponse', isSingle: false },\n        ban_expires: { type: 'DatetimeType', isSingle: true },\n        deactivated_at: { type: 'DatetimeType', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        last_active: { type: 'DatetimeType', isSingle: true },\n        revoke_tokens_issued_before: { type: 'DatetimeType', isSingle: true },\n        push_notifications: {\n            type: 'PushNotificationSettingsResponse',\n            isSingle: true,\n        },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.EventResponse = (input) => {\n    const typeMappings = {\n        event: { type: 'WSEvent', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ExportUserResponse = (input) => {\n    const typeMappings = {\n        messages: { type: 'MessageResponse', isSingle: false },\n        reactions: { type: 'ReactionResponse', isSingle: false },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.Flag2 = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'User', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.Flag2Response = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.FlagDetails = (input) => {\n    const typeMappings = {\n        automod: { type: 'AutomodDetails', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.FlagFeedback = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.FullUserResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        channel_mutes: { type: 'ChannelMute', isSingle: false },\n        devices: { type: 'DeviceResponse', isSingle: false },\n        mutes: { type: 'UserMuteResponse', isSingle: false },\n        deactivated_at: { type: 'DatetimeType', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        last_active: { type: 'DatetimeType', isSingle: true },\n        revoke_tokens_issued_before: { type: 'DatetimeType', isSingle: true },\n        push_notifications: {\n            type: 'PushNotificationSettingsResponse',\n            isSingle: true,\n        },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetApplicationResponse = (input) => {\n    const typeMappings = {\n        app: { type: 'AppResponseFields', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetBlockListResponse = (input) => {\n    const typeMappings = {\n        blocklist: { type: 'BlockListResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetBlockedUsersResponse = (input) => {\n    const typeMappings = {\n        blocks: { type: 'BlockedUserResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetCallResponse = (input) => {\n    const typeMappings = {\n        members: { type: 'MemberResponse', isSingle: false },\n        call: { type: 'CallResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetCallTypeResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetCampaignResponse = (input) => {\n    const typeMappings = {\n        campaign: { type: 'CampaignResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetChannelTypeResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        commands: { type: 'Command', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetCommandResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetConfigResponse = (input) => {\n    const typeMappings = {\n        config: { type: 'ConfigResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetExportChannelsStatusResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetImportResponse = (input) => {\n    const typeMappings = {\n        import_task: { type: 'ImportTask', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetManyMessagesResponse = (input) => {\n    const typeMappings = {\n        messages: { type: 'MessageResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetMessageResponse = (input) => {\n    const typeMappings = {\n        message: { type: 'MessageWithChannelResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetOrCreateCallResponse = (input) => {\n    const typeMappings = {\n        members: { type: 'MemberResponse', isSingle: false },\n        call: { type: 'CallResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetReactionsResponse = (input) => {\n    const typeMappings = {\n        reactions: { type: 'Reaction', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetRepliesResponse = (input) => {\n    const typeMappings = {\n        messages: { type: 'MessageResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetReviewQueueItemResponse = (input) => {\n    const typeMappings = {\n        history: { type: 'ReviewQueueItemResponse', isSingle: false },\n        item: { type: 'ReviewQueueItemResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetSegmentResponse = (input) => {\n    const typeMappings = {\n        segment: { type: 'SegmentResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetTaskResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetThreadResponse = (input) => {\n    const typeMappings = {\n        thread: { type: 'ThreadStateResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetUserModerationReportResponse = (input) => {\n    const typeMappings = {\n        user_blocks: { type: 'UserBlock', isSingle: false },\n        user_mutes: { type: 'UserMute', isSingle: false },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GoLiveResponse = (input) => {\n    const typeMappings = {\n        call: { type: 'CallResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ImportTask = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        history: { type: 'ImportTaskHistory', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ImportTaskHistory = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ListBlockListResponse = (input) => {\n    const typeMappings = {\n        blocklists: { type: 'BlockListResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ListCallTypeResponse = (input) => {\n    const typeMappings = {\n        call_types: { type: 'CallTypeResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ListChannelTypesResponse = (input) => {\n    const typeMappings = {\n        channel_types: { type: 'ChannelTypeConfig', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ListCommandsResponse = (input) => {\n    const typeMappings = {\n        commands: { type: 'Command', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ListDevicesResponse = (input) => {\n    const typeMappings = {\n        devices: { type: 'DeviceResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ListImportsResponse = (input) => {\n    const typeMappings = {\n        import_tasks: { type: 'ImportTask', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ListPushProvidersResponse = (input) => {\n    const typeMappings = {\n        push_providers: { type: 'PushProviderResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ListRecordingsResponse = (input) => {\n    const typeMappings = {\n        recordings: { type: 'CallRecording', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ListRolesResponse = (input) => {\n    const typeMappings = {\n        roles: { type: 'Role', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ListTranscriptionsResponse = (input) => {\n    const typeMappings = {\n        transcriptions: { type: 'CallTranscription', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.MarkReadResponse = (input) => {\n    const typeMappings = {\n        event: { type: 'MessageReadEvent', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.MemberResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.MembersResponse = (input) => {\n    const typeMappings = {\n        members: { type: 'ChannelMember', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.Message = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        latest_reactions: { type: 'Reaction', isSingle: false },\n        mentioned_users: { type: 'User', isSingle: false },\n        own_reactions: { type: 'Reaction', isSingle: false },\n        reaction_groups: { type: 'ReactionGroupResponse', isSingle: false },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        message_text_updated_at: { type: 'DatetimeType', isSingle: true },\n        pin_expires: { type: 'DatetimeType', isSingle: true },\n        pinned_at: { type: 'DatetimeType', isSingle: true },\n        thread_participants: { type: 'User', isSingle: false },\n        pinned_by: { type: 'User', isSingle: true },\n        poll: { type: 'Poll', isSingle: true },\n        quoted_message: { type: 'Message', isSingle: true },\n        user: { type: 'User', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.MessageFlagResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        approved_at: { type: 'DatetimeType', isSingle: true },\n        rejected_at: { type: 'DatetimeType', isSingle: true },\n        reviewed_at: { type: 'DatetimeType', isSingle: true },\n        details: { type: 'FlagDetails', isSingle: true },\n        message: { type: 'Message', isSingle: true },\n        moderation_feedback: { type: 'FlagFeedback', isSingle: true },\n        moderation_result: { type: 'MessageModerationResult', isSingle: true },\n        reviewed_by: { type: 'UserResponse', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.MessageHistoryEntryResponse = (input) => {\n    const typeMappings = {\n        message_updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.MessageModerationResult = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.MessageReadEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        thread: { type: 'ThreadResponse', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.MessageResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        latest_reactions: { type: 'ReactionResponse', isSingle: false },\n        mentioned_users: { type: 'UserResponse', isSingle: false },\n        own_reactions: { type: 'ReactionResponse', isSingle: false },\n        user: { type: 'UserResponse', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        message_text_updated_at: { type: 'DatetimeType', isSingle: true },\n        pin_expires: { type: 'DatetimeType', isSingle: true },\n        pinned_at: { type: 'DatetimeType', isSingle: true },\n        thread_participants: { type: 'UserResponse', isSingle: false },\n        pinned_by: { type: 'UserResponse', isSingle: true },\n        poll: { type: 'PollResponseData', isSingle: true },\n        quoted_message: { type: 'MessageResponse', isSingle: true },\n        reaction_groups: { type: 'ReactionGroupResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.MessageWithChannelResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        latest_reactions: { type: 'ReactionResponse', isSingle: false },\n        mentioned_users: { type: 'UserResponse', isSingle: false },\n        own_reactions: { type: 'ReactionResponse', isSingle: false },\n        channel: { type: 'ChannelResponse', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        message_text_updated_at: { type: 'DatetimeType', isSingle: true },\n        pin_expires: { type: 'DatetimeType', isSingle: true },\n        pinned_at: { type: 'DatetimeType', isSingle: true },\n        thread_participants: { type: 'UserResponse', isSingle: false },\n        pinned_by: { type: 'UserResponse', isSingle: true },\n        poll: { type: 'PollResponseData', isSingle: true },\n        quoted_message: { type: 'MessageResponse', isSingle: true },\n        reaction_groups: { type: 'ReactionGroupResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ModerationUsageStats = (input) => {\n    const typeMappings = {\n        reference_date: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.MuteChannelResponse = (input) => {\n    const typeMappings = {\n        channel_mutes: { type: 'ChannelMute', isSingle: false },\n        channel_mute: { type: 'ChannelMute', isSingle: true },\n        own_user: { type: 'OwnUser', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.MuteResponse = (input) => {\n    const typeMappings = {\n        mutes: { type: 'UserMute', isSingle: false },\n        own_user: { type: 'OwnUser', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.NullTime = (input) => {\n    const typeMappings = {\n        value: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.OwnUser = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        channel_mutes: { type: 'ChannelMute', isSingle: false },\n        devices: { type: 'Device', isSingle: false },\n        mutes: { type: 'UserMute', isSingle: false },\n        deactivated_at: { type: 'DatetimeType', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        last_active: { type: 'DatetimeType', isSingle: true },\n        last_engaged_at: { type: 'DatetimeType', isSingle: true },\n        push_notifications: { type: 'PushNotificationSettings', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.OwnUserResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        channel_mutes: { type: 'ChannelMute', isSingle: false },\n        devices: { type: 'DeviceResponse', isSingle: false },\n        mutes: { type: 'UserMuteResponse', isSingle: false },\n        deactivated_at: { type: 'DatetimeType', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        last_active: { type: 'DatetimeType', isSingle: true },\n        revoke_tokens_issued_before: { type: 'DatetimeType', isSingle: true },\n        push_notifications: {\n            type: 'PushNotificationSettingsResponse',\n            isSingle: true,\n        },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.PendingMessageResponse = (input) => {\n    const typeMappings = {\n        channel: { type: 'ChannelResponse', isSingle: true },\n        message: { type: 'MessageResponse', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.Poll = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        latest_answers: { type: 'PollVote', isSingle: false },\n        own_votes: { type: 'PollVote', isSingle: false },\n        created_by: { type: 'User', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.PollResponse = (input) => {\n    const typeMappings = {\n        poll: { type: 'PollResponseData', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.PollResponseData = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        latest_answers: { type: 'PollVoteResponseData', isSingle: false },\n        own_votes: { type: 'PollVoteResponseData', isSingle: false },\n        created_by: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.PollVote = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'User', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.PollVoteResponse = (input) => {\n    const typeMappings = {\n        vote: { type: 'PollVoteResponseData', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.PollVoteResponseData = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.PollVotesResponse = (input) => {\n    const typeMappings = {\n        votes: { type: 'PollVoteResponseData', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.PushNotificationFields = (input) => {\n    const typeMappings = {\n        providers: { type: 'PushProvider', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.PushNotificationSettings = (input) => {\n    const typeMappings = {\n        disabled_until: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.PushNotificationSettingsResponse = (input) => {\n    const typeMappings = {\n        disabled_until: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.PushProvider = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        disabled_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.PushProviderResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        disabled_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryBannedUsersResponse = (input) => {\n    const typeMappings = {\n        bans: { type: 'BanResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryCallMembersResponse = (input) => {\n    const typeMappings = {\n        members: { type: 'MemberResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryCallStatsResponse = (input) => {\n    const typeMappings = {\n        reports: { type: 'CallStatsReportSummaryResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryCallsResponse = (input) => {\n    const typeMappings = {\n        calls: { type: 'CallStateResponseFields', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryCampaignsResponse = (input) => {\n    const typeMappings = {\n        campaigns: { type: 'CampaignResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryChannelsResponse = (input) => {\n    const typeMappings = {\n        channels: { type: 'ChannelStateResponseFields', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryFeedModerationTemplate = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryFeedModerationTemplatesResponse = (input) => {\n    const typeMappings = {\n        templates: { type: 'QueryFeedModerationTemplate', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryMessageFlagsResponse = (input) => {\n    const typeMappings = {\n        flags: { type: 'MessageFlagResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryMessageHistoryResponse = (input) => {\n    const typeMappings = {\n        message_history: { type: 'MessageHistoryEntryResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryModerationConfigsResponse = (input) => {\n    const typeMappings = {\n        configs: { type: 'ConfigResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryModerationLogsResponse = (input) => {\n    const typeMappings = {\n        logs: { type: 'ActionLogResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryPollsResponse = (input) => {\n    const typeMappings = {\n        polls: { type: 'PollResponseData', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryReactionsResponse = (input) => {\n    const typeMappings = {\n        reactions: { type: 'ReactionResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryReviewQueueResponse = (input) => {\n    const typeMappings = {\n        items: { type: 'ReviewQueueItemResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QuerySegmentTargetsResponse = (input) => {\n    const typeMappings = {\n        targets: { type: 'SegmentTargetResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QuerySegmentsResponse = (input) => {\n    const typeMappings = {\n        segments: { type: 'SegmentResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryThreadsResponse = (input) => {\n    const typeMappings = {\n        threads: { type: 'ThreadStateResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryUsageStatsResponse = (input) => {\n    const typeMappings = {\n        items: { type: 'ModerationUsageStats', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryUsersResponse = (input) => {\n    const typeMappings = {\n        users: { type: 'FullUserResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.Reaction = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'User', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ReactionGroupResponse = (input) => {\n    const typeMappings = {\n        first_reaction_at: { type: 'DatetimeType', isSingle: true },\n        last_reaction_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ReactionRemovalResponse = (input) => {\n    const typeMappings = {\n        message: { type: 'Message', isSingle: true },\n        reaction: { type: 'Reaction', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ReactionResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ReactivateUserResponse = (input) => {\n    const typeMappings = {\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ReadStateResponse = (input) => {\n    const typeMappings = {\n        last_read: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ReviewQueueItem = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        actions: { type: 'ActionLog', isSingle: false },\n        bans: { type: 'Ban', isSingle: false },\n        flags: { type: 'Flag2', isSingle: false },\n        completed_at: { type: 'NullTime', isSingle: true },\n        reviewed_at: { type: 'NullTime', isSingle: true },\n        assigned_to: { type: 'User', isSingle: true },\n        entity_creator: { type: 'EntityCreator', isSingle: true },\n        feeds_v2_reaction: { type: 'Reaction', isSingle: true },\n        message: { type: 'Message', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ReviewQueueItemResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        actions: { type: 'ActionLogResponse', isSingle: false },\n        bans: { type: 'Ban', isSingle: false },\n        flags: { type: 'Flag2Response', isSingle: false },\n        completed_at: { type: 'DatetimeType', isSingle: true },\n        reviewed_at: { type: 'DatetimeType', isSingle: true },\n        assigned_to: { type: 'UserResponse', isSingle: true },\n        entity_creator: { type: 'EntityCreatorResponse', isSingle: true },\n        feeds_v2_reaction: { type: 'Reaction', isSingle: true },\n        message: { type: 'MessageResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.Role = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.SearchResult = (input) => {\n    const typeMappings = {\n        message: { type: 'SearchResultMessage', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.SearchResultMessage = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        latest_reactions: { type: 'ReactionResponse', isSingle: false },\n        mentioned_users: { type: 'UserResponse', isSingle: false },\n        own_reactions: { type: 'ReactionResponse', isSingle: false },\n        user: { type: 'UserResponse', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        message_text_updated_at: { type: 'DatetimeType', isSingle: true },\n        pin_expires: { type: 'DatetimeType', isSingle: true },\n        pinned_at: { type: 'DatetimeType', isSingle: true },\n        thread_participants: { type: 'UserResponse', isSingle: false },\n        channel: { type: 'ChannelResponse', isSingle: true },\n        pinned_by: { type: 'UserResponse', isSingle: true },\n        poll: { type: 'PollResponseData', isSingle: true },\n        quoted_message: { type: 'MessageResponse', isSingle: true },\n        reaction_groups: { type: 'ReactionGroupResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.Segment = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.SegmentResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.SegmentTargetResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.SendMessageResponse = (input) => {\n    const typeMappings = {\n        message: { type: 'MessageResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.SendReactionResponse = (input) => {\n    const typeMappings = {\n        message: { type: 'MessageResponse', isSingle: true },\n        reaction: { type: 'ReactionResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.StartCampaignResponse = (input) => {\n    const typeMappings = {\n        campaign: { type: 'CampaignResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.StopLiveResponse = (input) => {\n    const typeMappings = {\n        call: { type: 'CallResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.SubmitActionResponse = (input) => {\n    const typeMappings = {\n        item: { type: 'ReviewQueueItem', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ThreadParticipant = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        last_read_at: { type: 'DatetimeType', isSingle: true },\n        last_thread_message_at: { type: 'DatetimeType', isSingle: true },\n        left_thread_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ThreadResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        last_message_at: { type: 'DatetimeType', isSingle: true },\n        thread_participants: { type: 'ThreadParticipant', isSingle: false },\n        channel: { type: 'ChannelResponse', isSingle: true },\n        created_by: { type: 'UserResponse', isSingle: true },\n        parent_message: { type: 'MessageResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ThreadStateResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        latest_replies: { type: 'MessageResponse', isSingle: false },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        last_message_at: { type: 'DatetimeType', isSingle: true },\n        read: { type: 'ReadStateResponse', isSingle: false },\n        thread_participants: { type: 'ThreadParticipant', isSingle: false },\n        channel: { type: 'ChannelResponse', isSingle: true },\n        created_by: { type: 'UserResponse', isSingle: true },\n        parent_message: { type: 'MessageResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.TruncateChannelResponse = (input) => {\n    const typeMappings = {\n        channel: { type: 'ChannelResponse', isSingle: true },\n        message: { type: 'MessageResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UnreadCountsBatchResponse = (input) => {\n    const typeMappings = {\n        counts_by_user: { type: 'UnreadCountsResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UnreadCountsChannel = (input) => {\n    const typeMappings = {\n        last_read: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UnreadCountsResponse = (input) => {\n    const typeMappings = {\n        channels: { type: 'UnreadCountsChannel', isSingle: false },\n        threads: { type: 'UnreadCountsThread', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UnreadCountsThread = (input) => {\n    const typeMappings = {\n        last_read: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpdateCallMembersResponse = (input) => {\n    const typeMappings = {\n        members: { type: 'MemberResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpdateCallResponse = (input) => {\n    const typeMappings = {\n        members: { type: 'MemberResponse', isSingle: false },\n        call: { type: 'CallResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpdateCallTypeResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpdateChannelPartialResponse = (input) => {\n    const typeMappings = {\n        members: { type: 'ChannelMemberResponse', isSingle: false },\n        channel: { type: 'ChannelResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpdateChannelResponse = (input) => {\n    const typeMappings = {\n        members: { type: 'ChannelMember', isSingle: false },\n        channel: { type: 'ChannelResponse', isSingle: true },\n        message: { type: 'MessageResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpdateChannelTypeResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpdateCommandResponse = (input) => {\n    const typeMappings = {\n        command: { type: 'Command', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpdateMemberPartialResponse = (input) => {\n    const typeMappings = {\n        channel_member: { type: 'ChannelMemberResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpdateMessagePartialResponse = (input) => {\n    const typeMappings = {\n        message: { type: 'MessageResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpdateMessageResponse = (input) => {\n    const typeMappings = {\n        message: { type: 'MessageResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpdateThreadPartialResponse = (input) => {\n    const typeMappings = {\n        thread: { type: 'ThreadResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpdateUsersResponse = (input) => {\n    const typeMappings = {\n        users: { type: 'FullUserResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpsertConfigResponse = (input) => {\n    const typeMappings = {\n        config: { type: 'ConfigResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpsertModerationTemplateResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpsertPushProviderResponse = (input) => {\n    const typeMappings = {\n        push_provider: { type: 'PushProviderResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.User = (input) => {\n    const typeMappings = {\n        ban_expires: { type: 'DatetimeType', isSingle: true },\n        created_at: { type: 'DatetimeType', isSingle: true },\n        deactivated_at: { type: 'DatetimeType', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        last_active: { type: 'DatetimeType', isSingle: true },\n        last_engaged_at: { type: 'DatetimeType', isSingle: true },\n        revoke_tokens_issued_before: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        push_notifications: { type: 'PushNotificationSettings', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UserBlock = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UserMute = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        expires: { type: 'DatetimeType', isSingle: true },\n        target: { type: 'User', isSingle: true },\n        user: { type: 'User', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UserMuteResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        expires: { type: 'DatetimeType', isSingle: true },\n        target: { type: 'UserResponse', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UserResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        devices: { type: 'DeviceResponse', isSingle: false },\n        ban_expires: { type: 'DatetimeType', isSingle: true },\n        deactivated_at: { type: 'DatetimeType', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        last_active: { type: 'DatetimeType', isSingle: true },\n        revoke_tokens_issued_before: { type: 'DatetimeType', isSingle: true },\n        push_notifications: {\n            type: 'PushNotificationSettingsResponse',\n            isSingle: true,\n        },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.WSEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        channel: { type: 'ChannelResponse', isSingle: true },\n        created_by: { type: 'UserResponse', isSingle: true },\n        me: { type: 'OwnUserResponse', isSingle: true },\n        member: { type: 'ChannelMember', isSingle: true },\n        message: { type: 'MessageResponse', isSingle: true },\n        poll: { type: 'PollResponseData', isSingle: true },\n        poll_vote: { type: 'PollVoteResponseData', isSingle: true },\n        reaction: { type: 'ReactionResponse', isSingle: true },\n        thread: { type: 'ThreadResponse', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.WrappedUnreadCountsResponse = (input) => {\n    const typeMappings = {\n        channels: { type: 'UnreadCountsChannel', isSingle: false },\n        threads: { type: 'UnreadCountsThread', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\n\nclass CommonApi extends BaseApi {\n    constructor() {\n        super(...arguments);\n        this.getApp = () => __awaiter(this, void 0, void 0, function* () {\n            var _a;\n            const response = yield this.sendRequest('GET', '/api/v2/app', undefined, undefined);\n            (_a = decoders.GetApplicationResponse) === null || _a === void 0 ? void 0 : _a.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.updateApp = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _b;\n            const body = {\n                async_url_enrich_enabled: request === null || request === void 0 ? void 0 : request.async_url_enrich_enabled,\n                auto_translation_enabled: request === null || request === void 0 ? void 0 : request.auto_translation_enabled,\n                before_message_send_hook_url: request === null || request === void 0 ? void 0 : request.before_message_send_hook_url,\n                cdn_expiration_seconds: request === null || request === void 0 ? void 0 : request.cdn_expiration_seconds,\n                channel_hide_members_only: request === null || request === void 0 ? void 0 : request.channel_hide_members_only,\n                custom_action_handler_url: request === null || request === void 0 ? void 0 : request.custom_action_handler_url,\n                disable_auth_checks: request === null || request === void 0 ? void 0 : request.disable_auth_checks,\n                disable_permissions_checks: request === null || request === void 0 ? void 0 : request.disable_permissions_checks,\n                enforce_unique_usernames: request === null || request === void 0 ? void 0 : request.enforce_unique_usernames,\n                feeds_moderation_enabled: request === null || request === void 0 ? void 0 : request.feeds_moderation_enabled,\n                feeds_v2_region: request === null || request === void 0 ? void 0 : request.feeds_v2_region,\n                image_moderation_enabled: request === null || request === void 0 ? void 0 : request.image_moderation_enabled,\n                migrate_permissions_to_v2: request === null || request === void 0 ? void 0 : request.migrate_permissions_to_v2,\n                moderation_enabled: request === null || request === void 0 ? void 0 : request.moderation_enabled,\n                moderation_webhook_url: request === null || request === void 0 ? void 0 : request.moderation_webhook_url,\n                multi_tenant_enabled: request === null || request === void 0 ? void 0 : request.multi_tenant_enabled,\n                permission_version: request === null || request === void 0 ? void 0 : request.permission_version,\n                reminders_interval: request === null || request === void 0 ? void 0 : request.reminders_interval,\n                reminders_max_members: request === null || request === void 0 ? void 0 : request.reminders_max_members,\n                revoke_tokens_issued_before: request === null || request === void 0 ? void 0 : request.revoke_tokens_issued_before,\n                sns_key: request === null || request === void 0 ? void 0 : request.sns_key,\n                sns_secret: request === null || request === void 0 ? void 0 : request.sns_secret,\n                sns_topic_arn: request === null || request === void 0 ? void 0 : request.sns_topic_arn,\n                sqs_key: request === null || request === void 0 ? void 0 : request.sqs_key,\n                sqs_secret: request === null || request === void 0 ? void 0 : request.sqs_secret,\n                sqs_url: request === null || request === void 0 ? void 0 : request.sqs_url,\n                video_provider: request === null || request === void 0 ? void 0 : request.video_provider,\n                webhook_url: request === null || request === void 0 ? void 0 : request.webhook_url,\n                allowed_flag_reasons: request === null || request === void 0 ? void 0 : request.allowed_flag_reasons,\n                image_moderation_block_labels: request === null || request === void 0 ? void 0 : request.image_moderation_block_labels,\n                image_moderation_labels: request === null || request === void 0 ? void 0 : request.image_moderation_labels,\n                user_search_disallowed_roles: request === null || request === void 0 ? void 0 : request.user_search_disallowed_roles,\n                webhook_events: request === null || request === void 0 ? void 0 : request.webhook_events,\n                agora_options: request === null || request === void 0 ? void 0 : request.agora_options,\n                apn_config: request === null || request === void 0 ? void 0 : request.apn_config,\n                async_moderation_config: request === null || request === void 0 ? void 0 : request.async_moderation_config,\n                datadog_info: request === null || request === void 0 ? void 0 : request.datadog_info,\n                file_upload_config: request === null || request === void 0 ? void 0 : request.file_upload_config,\n                firebase_config: request === null || request === void 0 ? void 0 : request.firebase_config,\n                grants: request === null || request === void 0 ? void 0 : request.grants,\n                hms_options: request === null || request === void 0 ? void 0 : request.hms_options,\n                huawei_config: request === null || request === void 0 ? void 0 : request.huawei_config,\n                image_upload_config: request === null || request === void 0 ? void 0 : request.image_upload_config,\n                push_config: request === null || request === void 0 ? void 0 : request.push_config,\n                xiaomi_config: request === null || request === void 0 ? void 0 : request.xiaomi_config,\n            };\n            const response = yield this.sendRequest('PATCH', '/api/v2/app', undefined, undefined, body);\n            (_b = decoders.Response) === null || _b === void 0 ? void 0 : _b.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.listBlockLists = () => __awaiter(this, void 0, void 0, function* () {\n            var _c;\n            const response = yield this.sendRequest('GET', '/api/v2/blocklists', undefined, undefined);\n            (_c = decoders.ListBlockListResponse) === null || _c === void 0 ? void 0 : _c.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.createBlockList = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _d;\n            const body = {\n                name: request === null || request === void 0 ? void 0 : request.name,\n                words: request === null || request === void 0 ? void 0 : request.words,\n                type: request === null || request === void 0 ? void 0 : request.type,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/blocklists', undefined, undefined, body);\n            (_d = decoders.Response) === null || _d === void 0 ? void 0 : _d.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.deleteBlockList = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _e;\n            const pathParams = {\n                name: request === null || request === void 0 ? void 0 : request.name,\n            };\n            const response = yield this.sendRequest('DELETE', '/api/v2/blocklists/{name}', pathParams, undefined);\n            (_e = decoders.Response) === null || _e === void 0 ? void 0 : _e.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getBlockList = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _f;\n            const pathParams = {\n                name: request === null || request === void 0 ? void 0 : request.name,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/blocklists/{name}', pathParams, undefined);\n            (_f = decoders.GetBlockListResponse) === null || _f === void 0 ? void 0 : _f.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.updateBlockList = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _g;\n            const pathParams = {\n                name: request === null || request === void 0 ? void 0 : request.name,\n            };\n            const body = {\n                words: request === null || request === void 0 ? void 0 : request.words,\n            };\n            const response = yield this.sendRequest('PUT', '/api/v2/blocklists/{name}', pathParams, undefined, body);\n            (_g = decoders.Response) === null || _g === void 0 ? void 0 : _g.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.checkPush = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _h;\n            const body = {\n                apn_template: request === null || request === void 0 ? void 0 : request.apn_template,\n                firebase_data_template: request === null || request === void 0 ? void 0 : request.firebase_data_template,\n                firebase_template: request === null || request === void 0 ? void 0 : request.firebase_template,\n                message_id: request === null || request === void 0 ? void 0 : request.message_id,\n                push_provider_name: request === null || request === void 0 ? void 0 : request.push_provider_name,\n                push_provider_type: request === null || request === void 0 ? void 0 : request.push_provider_type,\n                skip_devices: request === null || request === void 0 ? void 0 : request.skip_devices,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/check_push', undefined, undefined, body);\n            (_h = decoders.CheckPushResponse) === null || _h === void 0 ? void 0 : _h.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.checkSNS = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _j;\n            const body = {\n                sns_key: request === null || request === void 0 ? void 0 : request.sns_key,\n                sns_secret: request === null || request === void 0 ? void 0 : request.sns_secret,\n                sns_topic_arn: request === null || request === void 0 ? void 0 : request.sns_topic_arn,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/check_sns', undefined, undefined, body);\n            (_j = decoders.CheckSNSResponse) === null || _j === void 0 ? void 0 : _j.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.checkSQS = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _k;\n            const body = {\n                sqs_key: request === null || request === void 0 ? void 0 : request.sqs_key,\n                sqs_secret: request === null || request === void 0 ? void 0 : request.sqs_secret,\n                sqs_url: request === null || request === void 0 ? void 0 : request.sqs_url,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/check_sqs', undefined, undefined, body);\n            (_k = decoders.CheckSQSResponse) === null || _k === void 0 ? void 0 : _k.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.deleteDevice = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _l;\n            const queryParams = {\n                id: request === null || request === void 0 ? void 0 : request.id,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n            };\n            const response = yield this.sendRequest('DELETE', '/api/v2/devices', undefined, queryParams);\n            (_l = decoders.Response) === null || _l === void 0 ? void 0 : _l.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.listDevices = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _m;\n            const queryParams = {\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/devices', undefined, queryParams);\n            (_m = decoders.ListDevicesResponse) === null || _m === void 0 ? void 0 : _m.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.createDevice = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _o;\n            const body = {\n                id: request === null || request === void 0 ? void 0 : request.id,\n                push_provider: request === null || request === void 0 ? void 0 : request.push_provider,\n                push_provider_name: request === null || request === void 0 ? void 0 : request.push_provider_name,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                voip_token: request === null || request === void 0 ? void 0 : request.voip_token,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/devices', undefined, undefined, body);\n            (_o = decoders.Response) === null || _o === void 0 ? void 0 : _o.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.exportUsers = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _p;\n            const body = {\n                user_ids: request === null || request === void 0 ? void 0 : request.user_ids,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/export/users', undefined, undefined, body);\n            (_p = decoders.ExportUsersResponse) === null || _p === void 0 ? void 0 : _p.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.listExternalStorage = () => __awaiter(this, void 0, void 0, function* () {\n            var _q;\n            const response = yield this.sendRequest('GET', '/api/v2/external_storage', undefined, undefined);\n            (_q = decoders.ListExternalStorageResponse) === null || _q === void 0 ? void 0 : _q.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.createExternalStorage = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _r;\n            const body = {\n                bucket: request === null || request === void 0 ? void 0 : request.bucket,\n                name: request === null || request === void 0 ? void 0 : request.name,\n                storage_type: request === null || request === void 0 ? void 0 : request.storage_type,\n                gcs_credentials: request === null || request === void 0 ? void 0 : request.gcs_credentials,\n                path: request === null || request === void 0 ? void 0 : request.path,\n                aws_s3: request === null || request === void 0 ? void 0 : request.aws_s3,\n                azure_blob: request === null || request === void 0 ? void 0 : request.azure_blob,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/external_storage', undefined, undefined, body);\n            (_r = decoders.CreateExternalStorageResponse) === null || _r === void 0 ? void 0 : _r.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.deleteExternalStorage = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _s;\n            const pathParams = {\n                name: request === null || request === void 0 ? void 0 : request.name,\n            };\n            const response = yield this.sendRequest('DELETE', '/api/v2/external_storage/{name}', pathParams, undefined);\n            (_s = decoders.DeleteExternalStorageResponse) === null || _s === void 0 ? void 0 : _s.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.updateExternalStorage = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _t;\n            const pathParams = {\n                name: request === null || request === void 0 ? void 0 : request.name,\n            };\n            const body = {\n                bucket: request === null || request === void 0 ? void 0 : request.bucket,\n                storage_type: request === null || request === void 0 ? void 0 : request.storage_type,\n                gcs_credentials: request === null || request === void 0 ? void 0 : request.gcs_credentials,\n                path: request === null || request === void 0 ? void 0 : request.path,\n                aws_s3: request === null || request === void 0 ? void 0 : request.aws_s3,\n                azure_blob: request === null || request === void 0 ? void 0 : request.azure_blob,\n            };\n            const response = yield this.sendRequest('PUT', '/api/v2/external_storage/{name}', pathParams, undefined, body);\n            (_t = decoders.UpdateExternalStorageResponse) === null || _t === void 0 ? void 0 : _t.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.checkExternalStorage = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _u;\n            const pathParams = {\n                name: request === null || request === void 0 ? void 0 : request.name,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/external_storage/{name}/check', pathParams, undefined);\n            (_u = decoders.CheckExternalStorageResponse) === null || _u === void 0 ? void 0 : _u.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.createGuest = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _v;\n            const body = {\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/guest', undefined, undefined, body);\n            (_v = decoders.CreateGuestResponse) === null || _v === void 0 ? void 0 : _v.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.createImportURL = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _w;\n            const body = {\n                filename: request === null || request === void 0 ? void 0 : request.filename,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/import_urls', undefined, undefined, body);\n            (_w = decoders.CreateImportURLResponse) === null || _w === void 0 ? void 0 : _w.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.listImports = () => __awaiter(this, void 0, void 0, function* () {\n            var _x;\n            const response = yield this.sendRequest('GET', '/api/v2/imports', undefined, undefined);\n            (_x = decoders.ListImportsResponse) === null || _x === void 0 ? void 0 : _x.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.createImport = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _y;\n            const body = {\n                mode: request === null || request === void 0 ? void 0 : request.mode,\n                path: request === null || request === void 0 ? void 0 : request.path,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/imports', undefined, undefined, body);\n            (_y = decoders.CreateImportResponse) === null || _y === void 0 ? void 0 : _y.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getImport = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _z;\n            const pathParams = {\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/imports/{id}', pathParams, undefined);\n            (_z = decoders.GetImportResponse) === null || _z === void 0 ? void 0 : _z.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getOG = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _0;\n            const queryParams = {\n                url: request === null || request === void 0 ? void 0 : request.url,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/og', undefined, queryParams);\n            (_0 = decoders.GetOGResponse) === null || _0 === void 0 ? void 0 : _0.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.listPermissions = () => __awaiter(this, void 0, void 0, function* () {\n            var _1;\n            const response = yield this.sendRequest('GET', '/api/v2/permissions', undefined, undefined);\n            (_1 = decoders.ListPermissionsResponse) === null || _1 === void 0 ? void 0 : _1.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getPermission = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _2;\n            const pathParams = {\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/permissions/{id}', pathParams, undefined);\n            (_2 = decoders.GetCustomPermissionResponse) === null || _2 === void 0 ? void 0 : _2.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.listPushProviders = () => __awaiter(this, void 0, void 0, function* () {\n            var _3;\n            const response = yield this.sendRequest('GET', '/api/v2/push_providers', undefined, undefined);\n            (_3 = decoders.ListPushProvidersResponse) === null || _3 === void 0 ? void 0 : _3.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.upsertPushProvider = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _4;\n            const body = {\n                push_provider: request === null || request === void 0 ? void 0 : request.push_provider,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/push_providers', undefined, undefined, body);\n            (_4 = decoders.UpsertPushProviderResponse) === null || _4 === void 0 ? void 0 : _4.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.deletePushProvider = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _5;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                name: request === null || request === void 0 ? void 0 : request.name,\n            };\n            const response = yield this.sendRequest('DELETE', '/api/v2/push_providers/{type}/{name}', pathParams, undefined);\n            (_5 = decoders.Response) === null || _5 === void 0 ? void 0 : _5.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getRateLimits = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _6;\n            const queryParams = {\n                server_side: request === null || request === void 0 ? void 0 : request.server_side,\n                android: request === null || request === void 0 ? void 0 : request.android,\n                ios: request === null || request === void 0 ? void 0 : request.ios,\n                web: request === null || request === void 0 ? void 0 : request.web,\n                endpoints: request === null || request === void 0 ? void 0 : request.endpoints,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/rate_limits', undefined, queryParams);\n            (_6 = decoders.GetRateLimitsResponse) === null || _6 === void 0 ? void 0 : _6.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.listRoles = () => __awaiter(this, void 0, void 0, function* () {\n            var _7;\n            const response = yield this.sendRequest('GET', '/api/v2/roles', undefined, undefined);\n            (_7 = decoders.ListRolesResponse) === null || _7 === void 0 ? void 0 : _7.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.createRole = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _8;\n            const body = {\n                name: request === null || request === void 0 ? void 0 : request.name,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/roles', undefined, undefined, body);\n            (_8 = decoders.CreateRoleResponse) === null || _8 === void 0 ? void 0 : _8.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.deleteRole = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _9;\n            const pathParams = {\n                name: request === null || request === void 0 ? void 0 : request.name,\n            };\n            const response = yield this.sendRequest('DELETE', '/api/v2/roles/{name}', pathParams, undefined);\n            (_9 = decoders.Response) === null || _9 === void 0 ? void 0 : _9.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getTask = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _10;\n            const pathParams = {\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/tasks/{id}', pathParams, undefined);\n            (_10 = decoders.GetTaskResponse) === null || _10 === void 0 ? void 0 : _10.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.queryUsers = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _11;\n            const queryParams = {\n                payload: request === null || request === void 0 ? void 0 : request.payload,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/users', undefined, queryParams);\n            (_11 = decoders.QueryUsersResponse) === null || _11 === void 0 ? void 0 : _11.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.updateUsersPartial = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _12;\n            const body = {\n                users: request === null || request === void 0 ? void 0 : request.users,\n            };\n            const response = yield this.sendRequest('PATCH', '/api/v2/users', undefined, undefined, body);\n            (_12 = decoders.UpdateUsersResponse) === null || _12 === void 0 ? void 0 : _12.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.updateUsers = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _13;\n            const body = {\n                users: request === null || request === void 0 ? void 0 : request.users,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/users', undefined, undefined, body);\n            (_13 = decoders.UpdateUsersResponse) === null || _13 === void 0 ? void 0 : _13.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getBlockedUsers = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _14;\n            const queryParams = {\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/users/block', undefined, queryParams);\n            (_14 = decoders.GetBlockedUsersResponse) === null || _14 === void 0 ? void 0 : _14.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.blockUsers = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _15;\n            const body = {\n                blocked_user_id: request === null || request === void 0 ? void 0 : request.blocked_user_id,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/users/block', undefined, undefined, body);\n            (_15 = decoders.BlockUsersResponse) === null || _15 === void 0 ? void 0 : _15.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.deactivateUsers = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _16;\n            const body = {\n                user_ids: request === null || request === void 0 ? void 0 : request.user_ids,\n                created_by_id: request === null || request === void 0 ? void 0 : request.created_by_id,\n                mark_channels_deleted: request === null || request === void 0 ? void 0 : request.mark_channels_deleted,\n                mark_messages_deleted: request === null || request === void 0 ? void 0 : request.mark_messages_deleted,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/users/deactivate', undefined, undefined, body);\n            (_16 = decoders.DeactivateUsersResponse) === null || _16 === void 0 ? void 0 : _16.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.deleteUsers = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _17;\n            const body = {\n                user_ids: request === null || request === void 0 ? void 0 : request.user_ids,\n                calls: request === null || request === void 0 ? void 0 : request.calls,\n                conversations: request === null || request === void 0 ? void 0 : request.conversations,\n                messages: request === null || request === void 0 ? void 0 : request.messages,\n                new_call_owner_id: request === null || request === void 0 ? void 0 : request.new_call_owner_id,\n                new_channel_owner_id: request === null || request === void 0 ? void 0 : request.new_channel_owner_id,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/users/delete', undefined, undefined, body);\n            (_17 = decoders.DeleteUsersResponse) === null || _17 === void 0 ? void 0 : _17.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.reactivateUsers = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _18;\n            const body = {\n                user_ids: request === null || request === void 0 ? void 0 : request.user_ids,\n                created_by_id: request === null || request === void 0 ? void 0 : request.created_by_id,\n                restore_channels: request === null || request === void 0 ? void 0 : request.restore_channels,\n                restore_messages: request === null || request === void 0 ? void 0 : request.restore_messages,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/users/reactivate', undefined, undefined, body);\n            (_18 = decoders.ReactivateUsersResponse) === null || _18 === void 0 ? void 0 : _18.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.restoreUsers = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _19;\n            const body = {\n                user_ids: request === null || request === void 0 ? void 0 : request.user_ids,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/users/restore', undefined, undefined, body);\n            (_19 = decoders.Response) === null || _19 === void 0 ? void 0 : _19.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.unblockUsers = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _20;\n            const body = {\n                blocked_user_id: request === null || request === void 0 ? void 0 : request.blocked_user_id,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/users/unblock', undefined, undefined, body);\n            (_20 = decoders.UnblockUsersResponse) === null || _20 === void 0 ? void 0 : _20.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.deactivateUser = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _21;\n            const pathParams = {\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n            };\n            const body = {\n                created_by_id: request === null || request === void 0 ? void 0 : request.created_by_id,\n                mark_messages_deleted: request === null || request === void 0 ? void 0 : request.mark_messages_deleted,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/users/{user_id}/deactivate', pathParams, undefined, body);\n            (_21 = decoders.DeactivateUserResponse) === null || _21 === void 0 ? void 0 : _21.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.exportUser = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _22;\n            const pathParams = {\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/users/{user_id}/export', pathParams, undefined);\n            (_22 = decoders.ExportUserResponse) === null || _22 === void 0 ? void 0 : _22.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.reactivateUser = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _23;\n            const pathParams = {\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n            };\n            const body = {\n                created_by_id: request === null || request === void 0 ? void 0 : request.created_by_id,\n                name: request === null || request === void 0 ? void 0 : request.name,\n                restore_messages: request === null || request === void 0 ? void 0 : request.restore_messages,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/users/{user_id}/reactivate', pathParams, undefined, body);\n            (_23 = decoders.ReactivateUserResponse) === null || _23 === void 0 ? void 0 : _23.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n    }\n}\n\nclass VideoApi extends BaseApi {\n    constructor() {\n        super(...arguments);\n        this.queryCallMembers = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _a;\n            const body = {\n                id: request === null || request === void 0 ? void 0 : request.id,\n                type: request === null || request === void 0 ? void 0 : request.type,\n                limit: request === null || request === void 0 ? void 0 : request.limit,\n                next: request === null || request === void 0 ? void 0 : request.next,\n                prev: request === null || request === void 0 ? void 0 : request.prev,\n                sort: request === null || request === void 0 ? void 0 : request.sort,\n                filter_conditions: request === null || request === void 0 ? void 0 : request.filter_conditions,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/video/call/members', undefined, undefined, body);\n            (_a = decoders.QueryCallMembersResponse) === null || _a === void 0 ? void 0 : _a.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.queryCallStats = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _b;\n            const body = {\n                limit: request === null || request === void 0 ? void 0 : request.limit,\n                next: request === null || request === void 0 ? void 0 : request.next,\n                prev: request === null || request === void 0 ? void 0 : request.prev,\n                sort: request === null || request === void 0 ? void 0 : request.sort,\n                filter_conditions: request === null || request === void 0 ? void 0 : request.filter_conditions,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/video/call/stats', undefined, undefined, body);\n            (_b = decoders.QueryCallStatsResponse) === null || _b === void 0 ? void 0 : _b.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getCall = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _c;\n            const queryParams = {\n                members_limit: request === null || request === void 0 ? void 0 : request.members_limit,\n                ring: request === null || request === void 0 ? void 0 : request.ring,\n                notify: request === null || request === void 0 ? void 0 : request.notify,\n                video: request === null || request === void 0 ? void 0 : request.video,\n            };\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/video/call/{type}/{id}', pathParams, queryParams);\n            (_c = decoders.GetCallResponse) === null || _c === void 0 ? void 0 : _c.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.updateCall = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _d;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                starts_at: request === null || request === void 0 ? void 0 : request.starts_at,\n                custom: request === null || request === void 0 ? void 0 : request.custom,\n                settings_override: request === null || request === void 0 ? void 0 : request.settings_override,\n            };\n            const response = yield this.sendRequest('PATCH', '/api/v2/video/call/{type}/{id}', pathParams, undefined, body);\n            (_d = decoders.UpdateCallResponse) === null || _d === void 0 ? void 0 : _d.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getOrCreateCall = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _e;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                members_limit: request === null || request === void 0 ? void 0 : request.members_limit,\n                notify: request === null || request === void 0 ? void 0 : request.notify,\n                ring: request === null || request === void 0 ? void 0 : request.ring,\n                video: request === null || request === void 0 ? void 0 : request.video,\n                data: request === null || request === void 0 ? void 0 : request.data,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/video/call/{type}/{id}', pathParams, undefined, body);\n            (_e = decoders.GetOrCreateCallResponse) === null || _e === void 0 ? void 0 : _e.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.blockUser = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _f;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/block', pathParams, undefined, body);\n            (_f = decoders.BlockUserResponse) === null || _f === void 0 ? void 0 : _f.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.deleteCall = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _g;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                hard: request === null || request === void 0 ? void 0 : request.hard,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/delete', pathParams, undefined, body);\n            (_g = decoders.DeleteCallResponse) === null || _g === void 0 ? void 0 : _g.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.sendCallEvent = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _h;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                custom: request === null || request === void 0 ? void 0 : request.custom,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/event', pathParams, undefined, body);\n            (_h = decoders.SendCallEventResponse) === null || _h === void 0 ? void 0 : _h.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.collectUserFeedback = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _j;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n                session: request === null || request === void 0 ? void 0 : request.session,\n            };\n            const body = {\n                rating: request === null || request === void 0 ? void 0 : request.rating,\n                sdk: request === null || request === void 0 ? void 0 : request.sdk,\n                sdk_version: request === null || request === void 0 ? void 0 : request.sdk_version,\n                user_session_id: request === null || request === void 0 ? void 0 : request.user_session_id,\n                reason: request === null || request === void 0 ? void 0 : request.reason,\n                custom: request === null || request === void 0 ? void 0 : request.custom,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/feedback/{session}', pathParams, undefined, body);\n            (_j = decoders.CollectUserFeedbackResponse) === null || _j === void 0 ? void 0 : _j.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.goLive = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _k;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                recording_storage_name: request === null || request === void 0 ? void 0 : request.recording_storage_name,\n                start_hls: request === null || request === void 0 ? void 0 : request.start_hls,\n                start_recording: request === null || request === void 0 ? void 0 : request.start_recording,\n                start_rtmp_broadcasts: request === null || request === void 0 ? void 0 : request.start_rtmp_broadcasts,\n                start_transcription: request === null || request === void 0 ? void 0 : request.start_transcription,\n                transcription_storage_name: request === null || request === void 0 ? void 0 : request.transcription_storage_name,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/go_live', pathParams, undefined, body);\n            (_k = decoders.GoLiveResponse) === null || _k === void 0 ? void 0 : _k.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.endCall = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _l;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/mark_ended', pathParams, undefined);\n            (_l = decoders.EndCallResponse) === null || _l === void 0 ? void 0 : _l.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.updateCallMembers = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _m;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                remove_members: request === null || request === void 0 ? void 0 : request.remove_members,\n                update_members: request === null || request === void 0 ? void 0 : request.update_members,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/members', pathParams, undefined, body);\n            (_m = decoders.UpdateCallMembersResponse) === null || _m === void 0 ? void 0 : _m.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.muteUsers = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _o;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                audio: request === null || request === void 0 ? void 0 : request.audio,\n                mute_all_users: request === null || request === void 0 ? void 0 : request.mute_all_users,\n                muted_by_id: request === null || request === void 0 ? void 0 : request.muted_by_id,\n                screenshare: request === null || request === void 0 ? void 0 : request.screenshare,\n                screenshare_audio: request === null || request === void 0 ? void 0 : request.screenshare_audio,\n                video: request === null || request === void 0 ? void 0 : request.video,\n                user_ids: request === null || request === void 0 ? void 0 : request.user_ids,\n                muted_by: request === null || request === void 0 ? void 0 : request.muted_by,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/mute_users', pathParams, undefined, body);\n            (_o = decoders.MuteUsersResponse) === null || _o === void 0 ? void 0 : _o.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.videoPin = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _p;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                session_id: request === null || request === void 0 ? void 0 : request.session_id,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/pin', pathParams, undefined, body);\n            (_p = decoders.PinResponse) === null || _p === void 0 ? void 0 : _p.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.listRecordings = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _q;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/video/call/{type}/{id}/recordings', pathParams, undefined);\n            (_q = decoders.ListRecordingsResponse) === null || _q === void 0 ? void 0 : _q.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.startRTMPBroadcasts = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _r;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                broadcasts: request === null || request === void 0 ? void 0 : request.broadcasts,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/rtmp_broadcasts', pathParams, undefined, body);\n            (_r = decoders.StartRTMPBroadcastsResponse) === null || _r === void 0 ? void 0 : _r.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.stopAllRTMPBroadcasts = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _s;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/rtmp_broadcasts/stop', pathParams, undefined);\n            (_s = decoders.StopAllRTMPBroadcastsResponse) === null || _s === void 0 ? void 0 : _s.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.stopRTMPBroadcast = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _t;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n                name: request === null || request === void 0 ? void 0 : request.name,\n            };\n            const body = {};\n            const response = yield this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/rtmp_broadcasts/{name}/stop', pathParams, undefined, body);\n            (_t = decoders.StopRTMPBroadcastsResponse) === null || _t === void 0 ? void 0 : _t.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.startHLSBroadcasting = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _u;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/start_broadcasting', pathParams, undefined);\n            (_u = decoders.StartHLSBroadcastingResponse) === null || _u === void 0 ? void 0 : _u.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.startClosedCaptions = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _v;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/start_closed_captions', pathParams, undefined);\n            (_v = decoders.StartClosedCaptionsResponse) === null || _v === void 0 ? void 0 : _v.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.startRecording = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _w;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                recording_external_storage: request === null || request === void 0 ? void 0 : request.recording_external_storage,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/start_recording', pathParams, undefined, body);\n            (_w = decoders.StartRecordingResponse) === null || _w === void 0 ? void 0 : _w.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.startTranscription = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _x;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                transcription_external_storage: request === null || request === void 0 ? void 0 : request.transcription_external_storage,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/start_transcription', pathParams, undefined, body);\n            (_x = decoders.StartTranscriptionResponse) === null || _x === void 0 ? void 0 : _x.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getCallStats = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _y;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n                session: request === null || request === void 0 ? void 0 : request.session,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/video/call/{type}/{id}/stats/{session}', pathParams, undefined);\n            (_y = decoders.GetCallStatsResponse) === null || _y === void 0 ? void 0 : _y.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.stopHLSBroadcasting = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _z;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/stop_broadcasting', pathParams, undefined);\n            (_z = decoders.StopHLSBroadcastingResponse) === null || _z === void 0 ? void 0 : _z.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.stopClosedCaptions = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _0;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/stop_closed_captions', pathParams, undefined);\n            (_0 = decoders.StopClosedCaptionsResponse) === null || _0 === void 0 ? void 0 : _0.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.stopLive = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _1;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                continue_hls: request === null || request === void 0 ? void 0 : request.continue_hls,\n                continue_recording: request === null || request === void 0 ? void 0 : request.continue_recording,\n                continue_rtmp_broadcast: request === null || request === void 0 ? void 0 : request.continue_rtmp_broadcast,\n                continue_transcription: request === null || request === void 0 ? void 0 : request.continue_transcription,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/stop_live', pathParams, undefined, body);\n            (_1 = decoders.StopLiveResponse) === null || _1 === void 0 ? void 0 : _1.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.stopRecording = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _2;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/stop_recording', pathParams, undefined);\n            (_2 = decoders.StopRecordingResponse) === null || _2 === void 0 ? void 0 : _2.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.stopTranscription = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _3;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/stop_transcription', pathParams, undefined);\n            (_3 = decoders.StopTranscriptionResponse) === null || _3 === void 0 ? void 0 : _3.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.listTranscriptions = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _4;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/video/call/{type}/{id}/transcriptions', pathParams, undefined);\n            (_4 = decoders.ListTranscriptionsResponse) === null || _4 === void 0 ? void 0 : _4.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.unblockUser = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _5;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/unblock', pathParams, undefined, body);\n            (_5 = decoders.UnblockUserResponse) === null || _5 === void 0 ? void 0 : _5.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.videoUnpin = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _6;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                session_id: request === null || request === void 0 ? void 0 : request.session_id,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/unpin', pathParams, undefined, body);\n            (_6 = decoders.UnpinResponse) === null || _6 === void 0 ? void 0 : _6.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.updateUserPermissions = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _7;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                grant_permissions: request === null || request === void 0 ? void 0 : request.grant_permissions,\n                revoke_permissions: request === null || request === void 0 ? void 0 : request.revoke_permissions,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/user_permissions', pathParams, undefined, body);\n            (_7 = decoders.UpdateUserPermissionsResponse) === null || _7 === void 0 ? void 0 : _7.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.deleteRecording = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _8;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n                session: request === null || request === void 0 ? void 0 : request.session,\n                filename: request === null || request === void 0 ? void 0 : request.filename,\n            };\n            const response = yield this.sendRequest('DELETE', '/api/v2/video/call/{type}/{id}/{session}/recordings/{filename}', pathParams, undefined);\n            (_8 = decoders.DeleteRecordingResponse) === null || _8 === void 0 ? void 0 : _8.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.deleteTranscription = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _9;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n                session: request === null || request === void 0 ? void 0 : request.session,\n                filename: request === null || request === void 0 ? void 0 : request.filename,\n            };\n            const response = yield this.sendRequest('DELETE', '/api/v2/video/call/{type}/{id}/{session}/transcriptions/{filename}', pathParams, undefined);\n            (_9 = decoders.DeleteTranscriptionResponse) === null || _9 === void 0 ? void 0 : _9.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.queryCalls = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _10;\n            const body = {\n                limit: request === null || request === void 0 ? void 0 : request.limit,\n                next: request === null || request === void 0 ? void 0 : request.next,\n                prev: request === null || request === void 0 ? void 0 : request.prev,\n                sort: request === null || request === void 0 ? void 0 : request.sort,\n                filter_conditions: request === null || request === void 0 ? void 0 : request.filter_conditions,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/video/calls', undefined, undefined, body);\n            (_10 = decoders.QueryCallsResponse) === null || _10 === void 0 ? void 0 : _10.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.listCallTypes = () => __awaiter(this, void 0, void 0, function* () {\n            var _11;\n            const response = yield this.sendRequest('GET', '/api/v2/video/calltypes', undefined, undefined);\n            (_11 = decoders.ListCallTypeResponse) === null || _11 === void 0 ? void 0 : _11.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.createCallType = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _12;\n            const body = {\n                name: request === null || request === void 0 ? void 0 : request.name,\n                external_storage: request === null || request === void 0 ? void 0 : request.external_storage,\n                grants: request === null || request === void 0 ? void 0 : request.grants,\n                notification_settings: request === null || request === void 0 ? void 0 : request.notification_settings,\n                settings: request === null || request === void 0 ? void 0 : request.settings,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/video/calltypes', undefined, undefined, body);\n            (_12 = decoders.CreateCallTypeResponse) === null || _12 === void 0 ? void 0 : _12.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.deleteCallType = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _13;\n            const pathParams = {\n                name: request === null || request === void 0 ? void 0 : request.name,\n            };\n            const response = yield this.sendRequest('DELETE', '/api/v2/video/calltypes/{name}', pathParams, undefined);\n            (_13 = decoders.Response) === null || _13 === void 0 ? void 0 : _13.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getCallType = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _14;\n            const pathParams = {\n                name: request === null || request === void 0 ? void 0 : request.name,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/video/calltypes/{name}', pathParams, undefined);\n            (_14 = decoders.GetCallTypeResponse) === null || _14 === void 0 ? void 0 : _14.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.updateCallType = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _15;\n            const pathParams = {\n                name: request === null || request === void 0 ? void 0 : request.name,\n            };\n            const body = {\n                external_storage: request === null || request === void 0 ? void 0 : request.external_storage,\n                grants: request === null || request === void 0 ? void 0 : request.grants,\n                notification_settings: request === null || request === void 0 ? void 0 : request.notification_settings,\n                settings: request === null || request === void 0 ? void 0 : request.settings,\n            };\n            const response = yield this.sendRequest('PUT', '/api/v2/video/calltypes/{name}', pathParams, undefined, body);\n            (_15 = decoders.UpdateCallTypeResponse) === null || _15 === void 0 ? void 0 : _15.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getEdges = () => __awaiter(this, void 0, void 0, function* () {\n            var _16;\n            const response = yield this.sendRequest('GET', '/api/v2/video/edges', undefined, undefined);\n            (_16 = decoders.GetEdgesResponse) === null || _16 === void 0 ? void 0 : _16.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n    }\n}\n\nclass CallApi {\n    constructor(videoApi, type, id) {\n        this.videoApi = videoApi;\n        this.type = type;\n        this.id = id;\n        this.get = (request) => {\n            return this.videoApi.getCall(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.update = (request) => {\n            return this.videoApi.updateCall(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.getOrCreate = (request) => {\n            return this.videoApi.getOrCreateCall(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.blockUser = (request) => {\n            return this.videoApi.blockUser(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.delete = (request) => {\n            return this.videoApi.deleteCall(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.sendCallEvent = (request) => {\n            return this.videoApi.sendCallEvent(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.collectUserFeedback = (request) => {\n            return this.videoApi.collectUserFeedback(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.goLive = (request) => {\n            return this.videoApi.goLive(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.end = () => {\n            return this.videoApi.endCall({ id: this.id, type: this.type });\n        };\n        this.updateCallMembers = (request) => {\n            return this.videoApi.updateCallMembers(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.muteUsers = (request) => {\n            return this.videoApi.muteUsers(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.videoPin = (request) => {\n            return this.videoApi.videoPin(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.listRecordings = () => {\n            return this.videoApi.listRecordings({ id: this.id, type: this.type });\n        };\n        this.startRTMPBroadcasts = (request) => {\n            return this.videoApi.startRTMPBroadcasts(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.stopAllRTMPBroadcasts = () => {\n            return this.videoApi.stopAllRTMPBroadcasts({\n                id: this.id,\n                type: this.type,\n            });\n        };\n        this.stopRTMPBroadcast = (request) => {\n            return this.videoApi.stopRTMPBroadcast(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.startHLSBroadcasting = () => {\n            return this.videoApi.startHLSBroadcasting({ id: this.id, type: this.type });\n        };\n        this.startClosedCaptions = () => {\n            return this.videoApi.startClosedCaptions({ id: this.id, type: this.type });\n        };\n        this.startRecording = (request) => {\n            return this.videoApi.startRecording(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.startTranscription = (request) => {\n            return this.videoApi.startTranscription(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.getCallStats = (request) => {\n            return this.videoApi.getCallStats(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.stopHLSBroadcasting = () => {\n            return this.videoApi.stopHLSBroadcasting({ id: this.id, type: this.type });\n        };\n        this.stopClosedCaptions = () => {\n            return this.videoApi.stopClosedCaptions({ id: this.id, type: this.type });\n        };\n        this.stopLive = (request) => {\n            return this.videoApi.stopLive(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.stopRecording = () => {\n            return this.videoApi.stopRecording({ id: this.id, type: this.type });\n        };\n        this.stopTranscription = () => {\n            return this.videoApi.stopTranscription({ id: this.id, type: this.type });\n        };\n        this.listTranscriptions = () => {\n            return this.videoApi.listTranscriptions({ id: this.id, type: this.type });\n        };\n        this.unblockUser = (request) => {\n            return this.videoApi.unblockUser(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.videoUnpin = (request) => {\n            return this.videoApi.videoUnpin(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.updateUserPermissions = (request) => {\n            return this.videoApi.updateUserPermissions(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.deleteRecording = (request) => {\n            return this.videoApi.deleteRecording(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.deleteTranscription = (request) => {\n            return this.videoApi.deleteTranscription(Object.assign({ id: this.id, type: this.type }, request));\n        };\n    }\n}\n\nclass StreamCall extends CallApi {\n    constructor() {\n        super(...arguments);\n        this.create = this.getOrCreate;\n        this.queryMembers = (request) => {\n            return this.videoApi.queryCallMembers(Object.assign({ id: this.id, type: this.type }, (request !== null && request !== void 0 ? request : {})));\n        };\n    }\n    get cid() {\n        return `${this.type}:${this.id}`;\n    }\n}\n\nclass StreamVideoClient extends VideoApi {\n    constructor() {\n        super(...arguments);\n        this.call = (type, id) => {\n            return new StreamCall(this, type, id);\n        };\n    }\n}\n\nclass ChatApi extends BaseApi {\n    constructor() {\n        super(...arguments);\n        this.queryCampaigns = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _a;\n            const body = {\n                limit: request === null || request === void 0 ? void 0 : request.limit,\n                next: request === null || request === void 0 ? void 0 : request.next,\n                prev: request === null || request === void 0 ? void 0 : request.prev,\n                sort: request === null || request === void 0 ? void 0 : request.sort,\n                filter: request === null || request === void 0 ? void 0 : request.filter,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/campaigns/query', undefined, undefined, body);\n            (_a = decoders.QueryCampaignsResponse) === null || _a === void 0 ? void 0 : _a.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getCampaign = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _b;\n            const pathParams = {\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/chat/campaigns/{id}', pathParams, undefined);\n            (_b = decoders.GetCampaignResponse) === null || _b === void 0 ? void 0 : _b.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.startCampaign = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _c;\n            const pathParams = {\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                scheduled_for: request === null || request === void 0 ? void 0 : request.scheduled_for,\n                stop_at: request === null || request === void 0 ? void 0 : request.stop_at,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/campaigns/{id}/start', pathParams, undefined, body);\n            (_c = decoders.StartCampaignResponse) === null || _c === void 0 ? void 0 : _c.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.scheduleCampaign = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _d;\n            const pathParams = {\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {};\n            const response = yield this.sendRequest('POST', '/api/v2/chat/campaigns/{id}/stop', pathParams, undefined, body);\n            (_d = decoders.CampaignResponse) === null || _d === void 0 ? void 0 : _d.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.queryChannels = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _e;\n            const body = {\n                limit: request === null || request === void 0 ? void 0 : request.limit,\n                member_limit: request === null || request === void 0 ? void 0 : request.member_limit,\n                message_limit: request === null || request === void 0 ? void 0 : request.message_limit,\n                offset: request === null || request === void 0 ? void 0 : request.offset,\n                state: request === null || request === void 0 ? void 0 : request.state,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                sort: request === null || request === void 0 ? void 0 : request.sort,\n                filter_conditions: request === null || request === void 0 ? void 0 : request.filter_conditions,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/channels', undefined, undefined, body);\n            (_e = decoders.QueryChannelsResponse) === null || _e === void 0 ? void 0 : _e.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.deleteChannels = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _f;\n            const body = {\n                cids: request === null || request === void 0 ? void 0 : request.cids,\n                hard_delete: request === null || request === void 0 ? void 0 : request.hard_delete,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/channels/delete', undefined, undefined, body);\n            (_f = decoders.DeleteChannelsResponse) === null || _f === void 0 ? void 0 : _f.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.markChannelsRead = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _g;\n            const body = {\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                read_by_channel: request === null || request === void 0 ? void 0 : request.read_by_channel,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/channels/read', undefined, undefined, body);\n            (_g = decoders.MarkReadResponse) === null || _g === void 0 ? void 0 : _g.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getOrCreateDistinctChannel = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _h;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n            };\n            const body = {\n                hide_for_creator: request === null || request === void 0 ? void 0 : request.hide_for_creator,\n                state: request === null || request === void 0 ? void 0 : request.state,\n                thread_unread_counts: request === null || request === void 0 ? void 0 : request.thread_unread_counts,\n                data: request === null || request === void 0 ? void 0 : request.data,\n                members: request === null || request === void 0 ? void 0 : request.members,\n                messages: request === null || request === void 0 ? void 0 : request.messages,\n                watchers: request === null || request === void 0 ? void 0 : request.watchers,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/channels/{type}/query', pathParams, undefined, body);\n            (_h = decoders.ChannelStateResponse) === null || _h === void 0 ? void 0 : _h.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.deleteChannel = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _j;\n            const queryParams = {\n                hard_delete: request === null || request === void 0 ? void 0 : request.hard_delete,\n            };\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const response = yield this.sendRequest('DELETE', '/api/v2/chat/channels/{type}/{id}', pathParams, queryParams);\n            (_j = decoders.DeleteChannelResponse) === null || _j === void 0 ? void 0 : _j.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.updateChannelPartial = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _k;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                unset: request === null || request === void 0 ? void 0 : request.unset,\n                set: request === null || request === void 0 ? void 0 : request.set,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('PATCH', '/api/v2/chat/channels/{type}/{id}', pathParams, undefined, body);\n            (_k = decoders.UpdateChannelPartialResponse) === null || _k === void 0 ? void 0 : _k.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.updateChannel = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _l;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                accept_invite: request === null || request === void 0 ? void 0 : request.accept_invite,\n                cooldown: request === null || request === void 0 ? void 0 : request.cooldown,\n                hide_history: request === null || request === void 0 ? void 0 : request.hide_history,\n                reject_invite: request === null || request === void 0 ? void 0 : request.reject_invite,\n                skip_push: request === null || request === void 0 ? void 0 : request.skip_push,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                add_members: request === null || request === void 0 ? void 0 : request.add_members,\n                add_moderators: request === null || request === void 0 ? void 0 : request.add_moderators,\n                assign_roles: request === null || request === void 0 ? void 0 : request.assign_roles,\n                demote_moderators: request === null || request === void 0 ? void 0 : request.demote_moderators,\n                invites: request === null || request === void 0 ? void 0 : request.invites,\n                remove_members: request === null || request === void 0 ? void 0 : request.remove_members,\n                data: request === null || request === void 0 ? void 0 : request.data,\n                message: request === null || request === void 0 ? void 0 : request.message,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/channels/{type}/{id}', pathParams, undefined, body);\n            (_l = decoders.UpdateChannelResponse) === null || _l === void 0 ? void 0 : _l.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.sendEvent = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _m;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                event: request === null || request === void 0 ? void 0 : request.event,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/channels/{type}/{id}/event', pathParams, undefined, body);\n            (_m = decoders.EventResponse) === null || _m === void 0 ? void 0 : _m.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.deleteFile = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _o;\n            const queryParams = {\n                url: request === null || request === void 0 ? void 0 : request.url,\n            };\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const response = yield this.sendRequest('DELETE', '/api/v2/chat/channels/{type}/{id}/file', pathParams, queryParams);\n            (_o = decoders.Response) === null || _o === void 0 ? void 0 : _o.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.uploadFile = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _p;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                file: request === null || request === void 0 ? void 0 : request.file,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/channels/{type}/{id}/file', pathParams, undefined, body);\n            (_p = decoders.FileUploadResponse) === null || _p === void 0 ? void 0 : _p.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.hideChannel = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _q;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                clear_history: request === null || request === void 0 ? void 0 : request.clear_history,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/channels/{type}/{id}/hide', pathParams, undefined, body);\n            (_q = decoders.HideChannelResponse) === null || _q === void 0 ? void 0 : _q.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.deleteImage = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _r;\n            const queryParams = {\n                url: request === null || request === void 0 ? void 0 : request.url,\n            };\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const response = yield this.sendRequest('DELETE', '/api/v2/chat/channels/{type}/{id}/image', pathParams, queryParams);\n            (_r = decoders.Response) === null || _r === void 0 ? void 0 : _r.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.uploadImage = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _s;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                file: request === null || request === void 0 ? void 0 : request.file,\n                upload_sizes: request === null || request === void 0 ? void 0 : request.upload_sizes,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/channels/{type}/{id}/image', pathParams, undefined, body);\n            (_s = decoders.ImageUploadResponse) === null || _s === void 0 ? void 0 : _s.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.updateMemberPartial = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _t;\n            const pathParams = {\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                unset: request === null || request === void 0 ? void 0 : request.unset,\n                set: request === null || request === void 0 ? void 0 : request.set,\n            };\n            const response = yield this.sendRequest('PATCH', '/api/v2/chat/channels/{type}/{id}/member/{user_id}', pathParams, undefined, body);\n            (_t = decoders.UpdateMemberPartialResponse) === null || _t === void 0 ? void 0 : _t.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.sendMessage = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _u;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                message: request === null || request === void 0 ? void 0 : request.message,\n                force_moderation: request === null || request === void 0 ? void 0 : request.force_moderation,\n                keep_channel_hidden: request === null || request === void 0 ? void 0 : request.keep_channel_hidden,\n                pending: request === null || request === void 0 ? void 0 : request.pending,\n                skip_enrich_url: request === null || request === void 0 ? void 0 : request.skip_enrich_url,\n                skip_push: request === null || request === void 0 ? void 0 : request.skip_push,\n                pending_message_metadata: request === null || request === void 0 ? void 0 : request.pending_message_metadata,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/channels/{type}/{id}/message', pathParams, undefined, body);\n            (_u = decoders.SendMessageResponse) === null || _u === void 0 ? void 0 : _u.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getManyMessages = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _v;\n            const queryParams = {\n                ids: request === null || request === void 0 ? void 0 : request.ids,\n            };\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/chat/channels/{type}/{id}/messages', pathParams, queryParams);\n            (_v = decoders.GetManyMessagesResponse) === null || _v === void 0 ? void 0 : _v.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getOrCreateChannel = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _w;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                hide_for_creator: request === null || request === void 0 ? void 0 : request.hide_for_creator,\n                state: request === null || request === void 0 ? void 0 : request.state,\n                thread_unread_counts: request === null || request === void 0 ? void 0 : request.thread_unread_counts,\n                data: request === null || request === void 0 ? void 0 : request.data,\n                members: request === null || request === void 0 ? void 0 : request.members,\n                messages: request === null || request === void 0 ? void 0 : request.messages,\n                watchers: request === null || request === void 0 ? void 0 : request.watchers,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/channels/{type}/{id}/query', pathParams, undefined, body);\n            (_w = decoders.ChannelStateResponse) === null || _w === void 0 ? void 0 : _w.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.markRead = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _x;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                message_id: request === null || request === void 0 ? void 0 : request.message_id,\n                thread_id: request === null || request === void 0 ? void 0 : request.thread_id,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/channels/{type}/{id}/read', pathParams, undefined, body);\n            (_x = decoders.MarkReadResponse) === null || _x === void 0 ? void 0 : _x.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.showChannel = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _y;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/channels/{type}/{id}/show', pathParams, undefined, body);\n            (_y = decoders.ShowChannelResponse) === null || _y === void 0 ? void 0 : _y.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.truncateChannel = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _z;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                hard_delete: request === null || request === void 0 ? void 0 : request.hard_delete,\n                skip_push: request === null || request === void 0 ? void 0 : request.skip_push,\n                truncated_at: request === null || request === void 0 ? void 0 : request.truncated_at,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                message: request === null || request === void 0 ? void 0 : request.message,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/channels/{type}/{id}/truncate', pathParams, undefined, body);\n            (_z = decoders.TruncateChannelResponse) === null || _z === void 0 ? void 0 : _z.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.markUnread = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _0;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                message_id: request === null || request === void 0 ? void 0 : request.message_id,\n                thread_id: request === null || request === void 0 ? void 0 : request.thread_id,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/channels/{type}/{id}/unread', pathParams, undefined, body);\n            (_0 = decoders.Response) === null || _0 === void 0 ? void 0 : _0.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.listChannelTypes = () => __awaiter(this, void 0, void 0, function* () {\n            var _1;\n            const response = yield this.sendRequest('GET', '/api/v2/chat/channeltypes', undefined, undefined);\n            (_1 = decoders.ListChannelTypesResponse) === null || _1 === void 0 ? void 0 : _1.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.createChannelType = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _2;\n            const body = {\n                automod: request === null || request === void 0 ? void 0 : request.automod,\n                automod_behavior: request === null || request === void 0 ? void 0 : request.automod_behavior,\n                max_message_length: request === null || request === void 0 ? void 0 : request.max_message_length,\n                name: request === null || request === void 0 ? void 0 : request.name,\n                blocklist: request === null || request === void 0 ? void 0 : request.blocklist,\n                blocklist_behavior: request === null || request === void 0 ? void 0 : request.blocklist_behavior,\n                connect_events: request === null || request === void 0 ? void 0 : request.connect_events,\n                custom_events: request === null || request === void 0 ? void 0 : request.custom_events,\n                mark_messages_pending: request === null || request === void 0 ? void 0 : request.mark_messages_pending,\n                message_retention: request === null || request === void 0 ? void 0 : request.message_retention,\n                mutes: request === null || request === void 0 ? void 0 : request.mutes,\n                partition_size: request === null || request === void 0 ? void 0 : request.partition_size,\n                partition_ttl: request === null || request === void 0 ? void 0 : request.partition_ttl,\n                polls: request === null || request === void 0 ? void 0 : request.polls,\n                push_notifications: request === null || request === void 0 ? void 0 : request.push_notifications,\n                reactions: request === null || request === void 0 ? void 0 : request.reactions,\n                read_events: request === null || request === void 0 ? void 0 : request.read_events,\n                replies: request === null || request === void 0 ? void 0 : request.replies,\n                search: request === null || request === void 0 ? void 0 : request.search,\n                skip_last_msg_update_for_system_msgs: request === null || request === void 0 ? void 0 : request.skip_last_msg_update_for_system_msgs,\n                typing_events: request === null || request === void 0 ? void 0 : request.typing_events,\n                uploads: request === null || request === void 0 ? void 0 : request.uploads,\n                url_enrichment: request === null || request === void 0 ? void 0 : request.url_enrichment,\n                blocklists: request === null || request === void 0 ? void 0 : request.blocklists,\n                commands: request === null || request === void 0 ? void 0 : request.commands,\n                permissions: request === null || request === void 0 ? void 0 : request.permissions,\n                grants: request === null || request === void 0 ? void 0 : request.grants,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/channeltypes', undefined, undefined, body);\n            (_2 = decoders.CreateChannelTypeResponse) === null || _2 === void 0 ? void 0 : _2.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.deleteChannelType = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _3;\n            const pathParams = {\n                name: request === null || request === void 0 ? void 0 : request.name,\n            };\n            const response = yield this.sendRequest('DELETE', '/api/v2/chat/channeltypes/{name}', pathParams, undefined);\n            (_3 = decoders.Response) === null || _3 === void 0 ? void 0 : _3.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getChannelType = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _4;\n            const pathParams = {\n                name: request === null || request === void 0 ? void 0 : request.name,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/chat/channeltypes/{name}', pathParams, undefined);\n            (_4 = decoders.GetChannelTypeResponse) === null || _4 === void 0 ? void 0 : _4.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.updateChannelType = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _5;\n            const pathParams = {\n                name: request === null || request === void 0 ? void 0 : request.name,\n            };\n            const body = {\n                automod: request === null || request === void 0 ? void 0 : request.automod,\n                automod_behavior: request === null || request === void 0 ? void 0 : request.automod_behavior,\n                max_message_length: request === null || request === void 0 ? void 0 : request.max_message_length,\n                blocklist: request === null || request === void 0 ? void 0 : request.blocklist,\n                blocklist_behavior: request === null || request === void 0 ? void 0 : request.blocklist_behavior,\n                connect_events: request === null || request === void 0 ? void 0 : request.connect_events,\n                custom_events: request === null || request === void 0 ? void 0 : request.custom_events,\n                mark_messages_pending: request === null || request === void 0 ? void 0 : request.mark_messages_pending,\n                mutes: request === null || request === void 0 ? void 0 : request.mutes,\n                partition_size: request === null || request === void 0 ? void 0 : request.partition_size,\n                partition_ttl: request === null || request === void 0 ? void 0 : request.partition_ttl,\n                polls: request === null || request === void 0 ? void 0 : request.polls,\n                push_notifications: request === null || request === void 0 ? void 0 : request.push_notifications,\n                quotes: request === null || request === void 0 ? void 0 : request.quotes,\n                reactions: request === null || request === void 0 ? void 0 : request.reactions,\n                read_events: request === null || request === void 0 ? void 0 : request.read_events,\n                reminders: request === null || request === void 0 ? void 0 : request.reminders,\n                replies: request === null || request === void 0 ? void 0 : request.replies,\n                search: request === null || request === void 0 ? void 0 : request.search,\n                skip_last_msg_update_for_system_msgs: request === null || request === void 0 ? void 0 : request.skip_last_msg_update_for_system_msgs,\n                typing_events: request === null || request === void 0 ? void 0 : request.typing_events,\n                uploads: request === null || request === void 0 ? void 0 : request.uploads,\n                url_enrichment: request === null || request === void 0 ? void 0 : request.url_enrichment,\n                allowed_flag_reasons: request === null || request === void 0 ? void 0 : request.allowed_flag_reasons,\n                blocklists: request === null || request === void 0 ? void 0 : request.blocklists,\n                commands: request === null || request === void 0 ? void 0 : request.commands,\n                permissions: request === null || request === void 0 ? void 0 : request.permissions,\n                automod_thresholds: request === null || request === void 0 ? void 0 : request.automod_thresholds,\n                grants: request === null || request === void 0 ? void 0 : request.grants,\n            };\n            const response = yield this.sendRequest('PUT', '/api/v2/chat/channeltypes/{name}', pathParams, undefined, body);\n            (_5 = decoders.UpdateChannelTypeResponse) === null || _5 === void 0 ? void 0 : _5.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.listCommands = () => __awaiter(this, void 0, void 0, function* () {\n            var _6;\n            const response = yield this.sendRequest('GET', '/api/v2/chat/commands', undefined, undefined);\n            (_6 = decoders.ListCommandsResponse) === null || _6 === void 0 ? void 0 : _6.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.createCommand = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _7;\n            const body = {\n                description: request === null || request === void 0 ? void 0 : request.description,\n                name: request === null || request === void 0 ? void 0 : request.name,\n                args: request === null || request === void 0 ? void 0 : request.args,\n                set: request === null || request === void 0 ? void 0 : request.set,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/commands', undefined, undefined, body);\n            (_7 = decoders.CreateCommandResponse) === null || _7 === void 0 ? void 0 : _7.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.deleteCommand = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _8;\n            const pathParams = {\n                name: request === null || request === void 0 ? void 0 : request.name,\n            };\n            const response = yield this.sendRequest('DELETE', '/api/v2/chat/commands/{name}', pathParams, undefined);\n            (_8 = decoders.DeleteCommandResponse) === null || _8 === void 0 ? void 0 : _8.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getCommand = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _9;\n            const pathParams = {\n                name: request === null || request === void 0 ? void 0 : request.name,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/chat/commands/{name}', pathParams, undefined);\n            (_9 = decoders.GetCommandResponse) === null || _9 === void 0 ? void 0 : _9.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.updateCommand = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _10;\n            const pathParams = {\n                name: request === null || request === void 0 ? void 0 : request.name,\n            };\n            const body = {\n                description: request === null || request === void 0 ? void 0 : request.description,\n                args: request === null || request === void 0 ? void 0 : request.args,\n                set: request === null || request === void 0 ? void 0 : request.set,\n            };\n            const response = yield this.sendRequest('PUT', '/api/v2/chat/commands/{name}', pathParams, undefined, body);\n            (_10 = decoders.UpdateCommandResponse) === null || _10 === void 0 ? void 0 : _10.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.exportChannels = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _11;\n            const body = {\n                channels: request === null || request === void 0 ? void 0 : request.channels,\n                clear_deleted_message_text: request === null || request === void 0 ? void 0 : request.clear_deleted_message_text,\n                export_users: request === null || request === void 0 ? void 0 : request.export_users,\n                include_soft_deleted_channels: request === null || request === void 0 ? void 0 : request.include_soft_deleted_channels,\n                include_truncated_messages: request === null || request === void 0 ? void 0 : request.include_truncated_messages,\n                version: request === null || request === void 0 ? void 0 : request.version,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/export_channels', undefined, undefined, body);\n            (_11 = decoders.ExportChannelsResponse) === null || _11 === void 0 ? void 0 : _11.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getExportChannelsStatus = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _12;\n            const pathParams = {\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/chat/export_channels/{id}', pathParams, undefined);\n            (_12 = decoders.GetExportChannelsStatusResponse) === null || _12 === void 0 ? void 0 : _12.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.queryMembers = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _13;\n            const queryParams = {\n                payload: request === null || request === void 0 ? void 0 : request.payload,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/chat/members', undefined, queryParams);\n            (_13 = decoders.MembersResponse) === null || _13 === void 0 ? void 0 : _13.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.queryMessageHistory = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _14;\n            const body = {\n                filter: request === null || request === void 0 ? void 0 : request.filter,\n                limit: request === null || request === void 0 ? void 0 : request.limit,\n                next: request === null || request === void 0 ? void 0 : request.next,\n                prev: request === null || request === void 0 ? void 0 : request.prev,\n                sort: request === null || request === void 0 ? void 0 : request.sort,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/messages/history', undefined, undefined, body);\n            (_14 = decoders.QueryMessageHistoryResponse) === null || _14 === void 0 ? void 0 : _14.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.deleteMessage = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _15;\n            const queryParams = {\n                hard: request === null || request === void 0 ? void 0 : request.hard,\n                deleted_by: request === null || request === void 0 ? void 0 : request.deleted_by,\n            };\n            const pathParams = {\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const response = yield this.sendRequest('DELETE', '/api/v2/chat/messages/{id}', pathParams, queryParams);\n            (_15 = decoders.DeleteMessageResponse) === null || _15 === void 0 ? void 0 : _15.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getMessage = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _16;\n            const queryParams = {\n                show_deleted_message: request === null || request === void 0 ? void 0 : request.show_deleted_message,\n            };\n            const pathParams = {\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/chat/messages/{id}', pathParams, queryParams);\n            (_16 = decoders.GetMessageResponse) === null || _16 === void 0 ? void 0 : _16.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.updateMessage = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _17;\n            const pathParams = {\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                message: request === null || request === void 0 ? void 0 : request.message,\n                skip_enrich_url: request === null || request === void 0 ? void 0 : request.skip_enrich_url,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/messages/{id}', pathParams, undefined, body);\n            (_17 = decoders.UpdateMessageResponse) === null || _17 === void 0 ? void 0 : _17.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.updateMessagePartial = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _18;\n            const pathParams = {\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                skip_enrich_url: request === null || request === void 0 ? void 0 : request.skip_enrich_url,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                unset: request === null || request === void 0 ? void 0 : request.unset,\n                set: request === null || request === void 0 ? void 0 : request.set,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('PUT', '/api/v2/chat/messages/{id}', pathParams, undefined, body);\n            (_18 = decoders.UpdateMessagePartialResponse) === null || _18 === void 0 ? void 0 : _18.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.runMessageAction = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _19;\n            const pathParams = {\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                form_data: request === null || request === void 0 ? void 0 : request.form_data,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/messages/{id}/action', pathParams, undefined, body);\n            (_19 = decoders.MessageResponse) === null || _19 === void 0 ? void 0 : _19.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.commitMessage = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _20;\n            const pathParams = {\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {};\n            const response = yield this.sendRequest('POST', '/api/v2/chat/messages/{id}/commit', pathParams, undefined, body);\n            (_20 = decoders.MessageResponse) === null || _20 === void 0 ? void 0 : _20.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.sendReaction = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _21;\n            const pathParams = {\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                reaction: request === null || request === void 0 ? void 0 : request.reaction,\n                enforce_unique: request === null || request === void 0 ? void 0 : request.enforce_unique,\n                skip_push: request === null || request === void 0 ? void 0 : request.skip_push,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/messages/{id}/reaction', pathParams, undefined, body);\n            (_21 = decoders.SendReactionResponse) === null || _21 === void 0 ? void 0 : _21.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.deleteReaction = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _22;\n            const queryParams = {\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n            };\n            const pathParams = {\n                id: request === null || request === void 0 ? void 0 : request.id,\n                type: request === null || request === void 0 ? void 0 : request.type,\n            };\n            const response = yield this.sendRequest('DELETE', '/api/v2/chat/messages/{id}/reaction/{type}', pathParams, queryParams);\n            (_22 = decoders.ReactionRemovalResponse) === null || _22 === void 0 ? void 0 : _22.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getReactions = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _23;\n            const queryParams = {\n                limit: request === null || request === void 0 ? void 0 : request.limit,\n                offset: request === null || request === void 0 ? void 0 : request.offset,\n            };\n            const pathParams = {\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/chat/messages/{id}/reactions', pathParams, queryParams);\n            (_23 = decoders.GetReactionsResponse) === null || _23 === void 0 ? void 0 : _23.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.queryReactions = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _24;\n            const pathParams = {\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                limit: request === null || request === void 0 ? void 0 : request.limit,\n                next: request === null || request === void 0 ? void 0 : request.next,\n                prev: request === null || request === void 0 ? void 0 : request.prev,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                sort: request === null || request === void 0 ? void 0 : request.sort,\n                filter: request === null || request === void 0 ? void 0 : request.filter,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/messages/{id}/reactions', pathParams, undefined, body);\n            (_24 = decoders.QueryReactionsResponse) === null || _24 === void 0 ? void 0 : _24.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.translateMessage = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _25;\n            const pathParams = {\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                language: request === null || request === void 0 ? void 0 : request.language,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/messages/{id}/translate', pathParams, undefined, body);\n            (_25 = decoders.MessageResponse) === null || _25 === void 0 ? void 0 : _25.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.undeleteMessage = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _26;\n            const pathParams = {\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                message: request === null || request === void 0 ? void 0 : request.message,\n                skip_enrich_url: request === null || request === void 0 ? void 0 : request.skip_enrich_url,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/messages/{id}/undelete', pathParams, undefined, body);\n            (_26 = decoders.UpdateMessageResponse) === null || _26 === void 0 ? void 0 : _26.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.castPollVote = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _27;\n            const pathParams = {\n                message_id: request === null || request === void 0 ? void 0 : request.message_id,\n                poll_id: request === null || request === void 0 ? void 0 : request.poll_id,\n            };\n            const body = {\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                user: request === null || request === void 0 ? void 0 : request.user,\n                vote: request === null || request === void 0 ? void 0 : request.vote,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/messages/{message_id}/polls/{poll_id}/vote', pathParams, undefined, body);\n            (_27 = decoders.PollVoteResponse) === null || _27 === void 0 ? void 0 : _27.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.removePollVote = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _28;\n            const queryParams = {\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n            };\n            const pathParams = {\n                message_id: request === null || request === void 0 ? void 0 : request.message_id,\n                poll_id: request === null || request === void 0 ? void 0 : request.poll_id,\n                vote_id: request === null || request === void 0 ? void 0 : request.vote_id,\n            };\n            const response = yield this.sendRequest('DELETE', '/api/v2/chat/messages/{message_id}/polls/{poll_id}/vote/{vote_id}', pathParams, queryParams);\n            (_28 = decoders.PollVoteResponse) === null || _28 === void 0 ? void 0 : _28.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getReplies = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _29;\n            const queryParams = {\n                limit: request === null || request === void 0 ? void 0 : request.limit,\n                offset: request === null || request === void 0 ? void 0 : request.offset,\n                id_gte: request === null || request === void 0 ? void 0 : request.id_gte,\n                id_gt: request === null || request === void 0 ? void 0 : request.id_gt,\n                id_lte: request === null || request === void 0 ? void 0 : request.id_lte,\n                id_lt: request === null || request === void 0 ? void 0 : request.id_lt,\n                created_at_after_or_equal: request === null || request === void 0 ? void 0 : request.created_at_after_or_equal,\n                created_at_after: request === null || request === void 0 ? void 0 : request.created_at_after,\n                created_at_before_or_equal: request === null || request === void 0 ? void 0 : request.created_at_before_or_equal,\n                created_at_before: request === null || request === void 0 ? void 0 : request.created_at_before,\n                id_around: request === null || request === void 0 ? void 0 : request.id_around,\n                created_at_around: request === null || request === void 0 ? void 0 : request.created_at_around,\n                sort: request === null || request === void 0 ? void 0 : request.sort,\n            };\n            const pathParams = {\n                parent_id: request === null || request === void 0 ? void 0 : request.parent_id,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/chat/messages/{parent_id}/replies', pathParams, queryParams);\n            (_29 = decoders.GetRepliesResponse) === null || _29 === void 0 ? void 0 : _29.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.queryMessageFlags = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _30;\n            const queryParams = {\n                payload: request === null || request === void 0 ? void 0 : request.payload,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/chat/moderation/flags/message', undefined, queryParams);\n            (_30 = decoders.QueryMessageFlagsResponse) === null || _30 === void 0 ? void 0 : _30.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.muteChannel = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _31;\n            const body = {\n                expiration: request === null || request === void 0 ? void 0 : request.expiration,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                channel_cids: request === null || request === void 0 ? void 0 : request.channel_cids,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/moderation/mute/channel', undefined, undefined, body);\n            (_31 = decoders.MuteChannelResponse) === null || _31 === void 0 ? void 0 : _31.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.unmuteChannel = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _32;\n            const body = {\n                expiration: request === null || request === void 0 ? void 0 : request.expiration,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                channel_cids: request === null || request === void 0 ? void 0 : request.channel_cids,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/moderation/unmute/channel', undefined, undefined, body);\n            (_32 = decoders.UnmuteResponse) === null || _32 === void 0 ? void 0 : _32.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.createPoll = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _33;\n            const body = {\n                name: request === null || request === void 0 ? void 0 : request.name,\n                allow_answers: request === null || request === void 0 ? void 0 : request.allow_answers,\n                allow_user_suggested_options: request === null || request === void 0 ? void 0 : request.allow_user_suggested_options,\n                description: request === null || request === void 0 ? void 0 : request.description,\n                enforce_unique_vote: request === null || request === void 0 ? void 0 : request.enforce_unique_vote,\n                id: request === null || request === void 0 ? void 0 : request.id,\n                is_closed: request === null || request === void 0 ? void 0 : request.is_closed,\n                max_votes_allowed: request === null || request === void 0 ? void 0 : request.max_votes_allowed,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                voting_visibility: request === null || request === void 0 ? void 0 : request.voting_visibility,\n                options: request === null || request === void 0 ? void 0 : request.options,\n                custom: request === null || request === void 0 ? void 0 : request.custom,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/polls', undefined, undefined, body);\n            (_33 = decoders.PollResponse) === null || _33 === void 0 ? void 0 : _33.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.updatePoll = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _34;\n            const body = {\n                id: request === null || request === void 0 ? void 0 : request.id,\n                name: request === null || request === void 0 ? void 0 : request.name,\n                allow_answers: request === null || request === void 0 ? void 0 : request.allow_answers,\n                allow_user_suggested_options: request === null || request === void 0 ? void 0 : request.allow_user_suggested_options,\n                description: request === null || request === void 0 ? void 0 : request.description,\n                enforce_unique_vote: request === null || request === void 0 ? void 0 : request.enforce_unique_vote,\n                is_closed: request === null || request === void 0 ? void 0 : request.is_closed,\n                max_votes_allowed: request === null || request === void 0 ? void 0 : request.max_votes_allowed,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                voting_visibility: request === null || request === void 0 ? void 0 : request.voting_visibility,\n                options: request === null || request === void 0 ? void 0 : request.options,\n                custom: request === null || request === void 0 ? void 0 : request.custom,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('PUT', '/api/v2/chat/polls', undefined, undefined, body);\n            (_34 = decoders.PollResponse) === null || _34 === void 0 ? void 0 : _34.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.queryPolls = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _35;\n            const queryParams = {\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n            };\n            const body = {\n                limit: request === null || request === void 0 ? void 0 : request.limit,\n                next: request === null || request === void 0 ? void 0 : request.next,\n                prev: request === null || request === void 0 ? void 0 : request.prev,\n                sort: request === null || request === void 0 ? void 0 : request.sort,\n                filter: request === null || request === void 0 ? void 0 : request.filter,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/polls/query', undefined, queryParams, body);\n            (_35 = decoders.QueryPollsResponse) === null || _35 === void 0 ? void 0 : _35.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.deletePoll = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _36;\n            const queryParams = {\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n            };\n            const pathParams = {\n                poll_id: request === null || request === void 0 ? void 0 : request.poll_id,\n            };\n            const response = yield this.sendRequest('DELETE', '/api/v2/chat/polls/{poll_id}', pathParams, queryParams);\n            (_36 = decoders.Response) === null || _36 === void 0 ? void 0 : _36.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getPoll = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _37;\n            const queryParams = {\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n            };\n            const pathParams = {\n                poll_id: request === null || request === void 0 ? void 0 : request.poll_id,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/chat/polls/{poll_id}', pathParams, queryParams);\n            (_37 = decoders.PollResponse) === null || _37 === void 0 ? void 0 : _37.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.updatePollPartial = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _38;\n            const pathParams = {\n                poll_id: request === null || request === void 0 ? void 0 : request.poll_id,\n            };\n            const body = {\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                unset: request === null || request === void 0 ? void 0 : request.unset,\n                set: request === null || request === void 0 ? void 0 : request.set,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('PATCH', '/api/v2/chat/polls/{poll_id}', pathParams, undefined, body);\n            (_38 = decoders.PollResponse) === null || _38 === void 0 ? void 0 : _38.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.createPollOption = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _39;\n            const pathParams = {\n                poll_id: request === null || request === void 0 ? void 0 : request.poll_id,\n            };\n            const body = {\n                text: request === null || request === void 0 ? void 0 : request.text,\n                position: request === null || request === void 0 ? void 0 : request.position,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                custom: request === null || request === void 0 ? void 0 : request.custom,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/polls/{poll_id}/options', pathParams, undefined, body);\n            (_39 = decoders.PollOptionResponse) === null || _39 === void 0 ? void 0 : _39.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.updatePollOption = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _40;\n            const pathParams = {\n                poll_id: request === null || request === void 0 ? void 0 : request.poll_id,\n            };\n            const body = {\n                id: request === null || request === void 0 ? void 0 : request.id,\n                text: request === null || request === void 0 ? void 0 : request.text,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                custom: request === null || request === void 0 ? void 0 : request.custom,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('PUT', '/api/v2/chat/polls/{poll_id}/options', pathParams, undefined, body);\n            (_40 = decoders.PollOptionResponse) === null || _40 === void 0 ? void 0 : _40.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.deletePollOption = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _41;\n            const queryParams = {\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n            };\n            const pathParams = {\n                poll_id: request === null || request === void 0 ? void 0 : request.poll_id,\n                option_id: request === null || request === void 0 ? void 0 : request.option_id,\n            };\n            const response = yield this.sendRequest('DELETE', '/api/v2/chat/polls/{poll_id}/options/{option_id}', pathParams, queryParams);\n            (_41 = decoders.Response) === null || _41 === void 0 ? void 0 : _41.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getPollOption = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _42;\n            const queryParams = {\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n            };\n            const pathParams = {\n                poll_id: request === null || request === void 0 ? void 0 : request.poll_id,\n                option_id: request === null || request === void 0 ? void 0 : request.option_id,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/chat/polls/{poll_id}/options/{option_id}', pathParams, queryParams);\n            (_42 = decoders.PollOptionResponse) === null || _42 === void 0 ? void 0 : _42.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.queryPollVotes = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _43;\n            const queryParams = {\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n            };\n            const pathParams = {\n                poll_id: request === null || request === void 0 ? void 0 : request.poll_id,\n            };\n            const body = {\n                limit: request === null || request === void 0 ? void 0 : request.limit,\n                next: request === null || request === void 0 ? void 0 : request.next,\n                prev: request === null || request === void 0 ? void 0 : request.prev,\n                sort: request === null || request === void 0 ? void 0 : request.sort,\n                filter: request === null || request === void 0 ? void 0 : request.filter,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/polls/{poll_id}/votes', pathParams, queryParams, body);\n            (_43 = decoders.PollVotesResponse) === null || _43 === void 0 ? void 0 : _43.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.queryBannedUsers = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _44;\n            const queryParams = {\n                payload: request === null || request === void 0 ? void 0 : request.payload,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/chat/query_banned_users', undefined, queryParams);\n            (_44 = decoders.QueryBannedUsersResponse) === null || _44 === void 0 ? void 0 : _44.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.search = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _45;\n            const queryParams = {\n                payload: request === null || request === void 0 ? void 0 : request.payload,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/chat/search', undefined, queryParams);\n            (_45 = decoders.SearchResponse) === null || _45 === void 0 ? void 0 : _45.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.querySegments = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _46;\n            const body = {\n                filter: request === null || request === void 0 ? void 0 : request.filter,\n                limit: request === null || request === void 0 ? void 0 : request.limit,\n                next: request === null || request === void 0 ? void 0 : request.next,\n                prev: request === null || request === void 0 ? void 0 : request.prev,\n                sort: request === null || request === void 0 ? void 0 : request.sort,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/segments/query', undefined, undefined, body);\n            (_46 = decoders.QuerySegmentsResponse) === null || _46 === void 0 ? void 0 : _46.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.deleteSegment = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _47;\n            const pathParams = {\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const response = yield this.sendRequest('DELETE', '/api/v2/chat/segments/{id}', pathParams, undefined);\n            (_47 = decoders.Response) === null || _47 === void 0 ? void 0 : _47.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getSegment = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _48;\n            const pathParams = {\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/chat/segments/{id}', pathParams, undefined);\n            (_48 = decoders.GetSegmentResponse) === null || _48 === void 0 ? void 0 : _48.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.deleteSegmentTargets = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _49;\n            const pathParams = {\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                target_ids: request === null || request === void 0 ? void 0 : request.target_ids,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/segments/{id}/deletetargets', pathParams, undefined, body);\n            (_49 = decoders.Response) === null || _49 === void 0 ? void 0 : _49.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.segmentTargetExists = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _50;\n            const pathParams = {\n                id: request === null || request === void 0 ? void 0 : request.id,\n                target_id: request === null || request === void 0 ? void 0 : request.target_id,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/chat/segments/{id}/target/{target_id}', pathParams, undefined);\n            (_50 = decoders.Response) === null || _50 === void 0 ? void 0 : _50.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.querySegmentTargets = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _51;\n            const pathParams = {\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                limit: request === null || request === void 0 ? void 0 : request.limit,\n                next: request === null || request === void 0 ? void 0 : request.next,\n                prev: request === null || request === void 0 ? void 0 : request.prev,\n                sort: request === null || request === void 0 ? void 0 : request.sort,\n                filter: request === null || request === void 0 ? void 0 : request.filter,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/segments/{id}/targets/query', pathParams, undefined, body);\n            (_51 = decoders.QuerySegmentTargetsResponse) === null || _51 === void 0 ? void 0 : _51.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.queryThreads = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _52;\n            const body = {\n                limit: request === null || request === void 0 ? void 0 : request.limit,\n                member_limit: request === null || request === void 0 ? void 0 : request.member_limit,\n                next: request === null || request === void 0 ? void 0 : request.next,\n                participant_limit: request === null || request === void 0 ? void 0 : request.participant_limit,\n                prev: request === null || request === void 0 ? void 0 : request.prev,\n                reply_limit: request === null || request === void 0 ? void 0 : request.reply_limit,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/threads', undefined, undefined, body);\n            (_52 = decoders.QueryThreadsResponse) === null || _52 === void 0 ? void 0 : _52.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getThread = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _53;\n            const queryParams = {\n                reply_limit: request === null || request === void 0 ? void 0 : request.reply_limit,\n                participant_limit: request === null || request === void 0 ? void 0 : request.participant_limit,\n                member_limit: request === null || request === void 0 ? void 0 : request.member_limit,\n            };\n            const pathParams = {\n                message_id: request === null || request === void 0 ? void 0 : request.message_id,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/chat/threads/{message_id}', pathParams, queryParams);\n            (_53 = decoders.GetThreadResponse) === null || _53 === void 0 ? void 0 : _53.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.updateThreadPartial = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _54;\n            const pathParams = {\n                message_id: request === null || request === void 0 ? void 0 : request.message_id,\n            };\n            const body = {\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                unset: request === null || request === void 0 ? void 0 : request.unset,\n                set: request === null || request === void 0 ? void 0 : request.set,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('PATCH', '/api/v2/chat/threads/{message_id}', pathParams, undefined, body);\n            (_54 = decoders.UpdateThreadPartialResponse) === null || _54 === void 0 ? void 0 : _54.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.unreadCounts = () => __awaiter(this, void 0, void 0, function* () {\n            var _55;\n            const response = yield this.sendRequest('GET', '/api/v2/chat/unread', undefined, undefined);\n            (_55 = decoders.WrappedUnreadCountsResponse) === null || _55 === void 0 ? void 0 : _55.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.unreadCountsBatch = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _56;\n            const body = {\n                user_ids: request === null || request === void 0 ? void 0 : request.user_ids,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/unread_batch', undefined, undefined, body);\n            (_56 = decoders.UnreadCountsBatchResponse) === null || _56 === void 0 ? void 0 : _56.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.sendUserCustomEvent = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _57;\n            const pathParams = {\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n            };\n            const body = {\n                event: request === null || request === void 0 ? void 0 : request.event,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/users/{user_id}/event', pathParams, undefined, body);\n            (_57 = decoders.Response) === null || _57 === void 0 ? void 0 : _57.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n    }\n}\n\nclass ChannelApi {\n    constructor(chatApi, type, id) {\n        this.chatApi = chatApi;\n        this.type = type;\n        this.id = id;\n        this.delete = (request) => {\n            if (!this.id) {\n                throw new Error(`Channel isn't yet created, call getOrCreateDistinctChannel() before this operation`);\n            }\n            return this.chatApi.deleteChannel(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.updateChannelPartial = (request) => {\n            if (!this.id) {\n                throw new Error(`Channel isn't yet created, call getOrCreateDistinctChannel() before this operation`);\n            }\n            return this.chatApi.updateChannelPartial(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.update = (request) => {\n            if (!this.id) {\n                throw new Error(`Channel isn't yet created, call getOrCreateDistinctChannel() before this operation`);\n            }\n            return this.chatApi.updateChannel(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.sendEvent = (request) => {\n            if (!this.id) {\n                throw new Error(`Channel isn't yet created, call getOrCreateDistinctChannel() before this operation`);\n            }\n            return this.chatApi.sendEvent(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.deleteFile = (request) => {\n            if (!this.id) {\n                throw new Error(`Channel isn't yet created, call getOrCreateDistinctChannel() before this operation`);\n            }\n            return this.chatApi.deleteFile(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.uploadFile = (request) => {\n            if (!this.id) {\n                throw new Error(`Channel isn't yet created, call getOrCreateDistinctChannel() before this operation`);\n            }\n            return this.chatApi.uploadFile(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.hide = (request) => {\n            if (!this.id) {\n                throw new Error(`Channel isn't yet created, call getOrCreateDistinctChannel() before this operation`);\n            }\n            return this.chatApi.hideChannel(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.deleteImage = (request) => {\n            if (!this.id) {\n                throw new Error(`Channel isn't yet created, call getOrCreateDistinctChannel() before this operation`);\n            }\n            return this.chatApi.deleteImage(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.uploadImage = (request) => {\n            if (!this.id) {\n                throw new Error(`Channel isn't yet created, call getOrCreateDistinctChannel() before this operation`);\n            }\n            return this.chatApi.uploadImage(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.updateMemberPartial = (request) => {\n            if (!this.id) {\n                throw new Error(`Channel isn't yet created, call getOrCreateDistinctChannel() before this operation`);\n            }\n            return this.chatApi.updateMemberPartial(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.sendMessage = (request) => {\n            if (!this.id) {\n                throw new Error(`Channel isn't yet created, call getOrCreateDistinctChannel() before this operation`);\n            }\n            return this.chatApi.sendMessage(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.getManyMessages = (request) => {\n            if (!this.id) {\n                throw new Error(`Channel isn't yet created, call getOrCreateDistinctChannel() before this operation`);\n            }\n            return this.chatApi.getManyMessages(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.getOrCreate = (request) => {\n            if (!this.id) {\n                throw new Error(`Channel isn't yet created, call getOrCreateDistinctChannel() before this operation`);\n            }\n            return this.chatApi.getOrCreateChannel(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.markRead = (request) => {\n            if (!this.id) {\n                throw new Error(`Channel isn't yet created, call getOrCreateDistinctChannel() before this operation`);\n            }\n            return this.chatApi.markRead(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.show = (request) => {\n            if (!this.id) {\n                throw new Error(`Channel isn't yet created, call getOrCreateDistinctChannel() before this operation`);\n            }\n            return this.chatApi.showChannel(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.truncate = (request) => {\n            if (!this.id) {\n                throw new Error(`Channel isn't yet created, call getOrCreateDistinctChannel() before this operation`);\n            }\n            return this.chatApi.truncateChannel(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.markUnread = (request) => {\n            if (!this.id) {\n                throw new Error(`Channel isn't yet created, call getOrCreateDistinctChannel() before this operation`);\n            }\n            return this.chatApi.markUnread(Object.assign({ id: this.id, type: this.type }, request));\n        };\n    }\n}\n\nclass StreamChannel extends ChannelApi {\n    constructor() {\n        super(...arguments);\n        this.getOrCreate = (channel_get_or_create_request) => {\n            if (!this.id) {\n                return this.chatApi\n                    .getOrCreateDistinctChannel(Object.assign({ type: this.type }, channel_get_or_create_request))\n                    .then((response) => {\n                    var _a;\n                    this.id = (_a = response.channel) === null || _a === void 0 ? void 0 : _a.id;\n                    return response;\n                });\n            }\n            else {\n                return this.chatApi.getOrCreateChannel(Object.assign({ id: this.id, type: this.type }, channel_get_or_create_request));\n            }\n        };\n    }\n    get cid() {\n        return `${this.type}:${this.id}`;\n    }\n    queryMembers(request) {\n        var _a;\n        return this.chatApi.queryMembers({\n            payload: Object.assign({ id: this.id, type: this.type }, ((_a = request === null || request === void 0 ? void 0 : request.payload) !== null && _a !== void 0 ? _a : { filter_conditions: {} })),\n        });\n    }\n}\n\nclass StreamChatClient extends ChatApi {\n    constructor() {\n        super(...arguments);\n        this.channel = (type, id) => {\n            return new StreamChannel(this, type, id);\n        };\n    }\n}\n\nclass ModerationApi extends BaseApi {\n    constructor() {\n        super(...arguments);\n        this.ban = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _a;\n            const body = {\n                target_user_id: request === null || request === void 0 ? void 0 : request.target_user_id,\n                banned_by_id: request === null || request === void 0 ? void 0 : request.banned_by_id,\n                channel_cid: request === null || request === void 0 ? void 0 : request.channel_cid,\n                ip_ban: request === null || request === void 0 ? void 0 : request.ip_ban,\n                reason: request === null || request === void 0 ? void 0 : request.reason,\n                shadow: request === null || request === void 0 ? void 0 : request.shadow,\n                timeout: request === null || request === void 0 ? void 0 : request.timeout,\n                banned_by: request === null || request === void 0 ? void 0 : request.banned_by,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/moderation/ban', undefined, undefined, body);\n            (_a = decoders.BanResponse) === null || _a === void 0 ? void 0 : _a.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.check = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _b;\n            const body = {\n                config_key: request === null || request === void 0 ? void 0 : request.config_key,\n                entity_creator_id: request === null || request === void 0 ? void 0 : request.entity_creator_id,\n                entity_id: request === null || request === void 0 ? void 0 : request.entity_id,\n                entity_type: request === null || request === void 0 ? void 0 : request.entity_type,\n                test_mode: request === null || request === void 0 ? void 0 : request.test_mode,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                moderation_payload: request === null || request === void 0 ? void 0 : request.moderation_payload,\n                options: request === null || request === void 0 ? void 0 : request.options,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/moderation/check', undefined, undefined, body);\n            (_b = decoders.CheckResponse) === null || _b === void 0 ? void 0 : _b.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.upsertConfig = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _c;\n            const body = {\n                key: request === null || request === void 0 ? void 0 : request.key,\n                async: request === null || request === void 0 ? void 0 : request.async,\n                ai_image_config: request === null || request === void 0 ? void 0 : request.ai_image_config,\n                ai_text_config: request === null || request === void 0 ? void 0 : request.ai_text_config,\n                automod_platform_circumvention_config: request === null || request === void 0 ? void 0 : request.automod_platform_circumvention_config,\n                automod_semantic_filters_config: request === null || request === void 0 ? void 0 : request.automod_semantic_filters_config,\n                automod_toxicity_config: request === null || request === void 0 ? void 0 : request.automod_toxicity_config,\n                aws_rekognition_config: request === null || request === void 0 ? void 0 : request.aws_rekognition_config,\n                block_list_config: request === null || request === void 0 ? void 0 : request.block_list_config,\n                bodyguard_config: request === null || request === void 0 ? void 0 : request.bodyguard_config,\n                google_vision_config: request === null || request === void 0 ? void 0 : request.google_vision_config,\n                velocity_filter_config: request === null || request === void 0 ? void 0 : request.velocity_filter_config,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/moderation/config', undefined, undefined, body);\n            (_c = decoders.UpsertConfigResponse) === null || _c === void 0 ? void 0 : _c.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.deleteConfig = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _d;\n            const pathParams = {\n                key: request === null || request === void 0 ? void 0 : request.key,\n            };\n            const response = yield this.sendRequest('DELETE', '/api/v2/moderation/config/{key}', pathParams, undefined);\n            (_d = decoders.DeleteModerationConfigResponse) === null || _d === void 0 ? void 0 : _d.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getConfig = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _e;\n            const pathParams = {\n                key: request === null || request === void 0 ? void 0 : request.key,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/moderation/config/{key}', pathParams, undefined);\n            (_e = decoders.GetConfigResponse) === null || _e === void 0 ? void 0 : _e.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.queryModerationConfigs = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _f;\n            const body = {\n                limit: request === null || request === void 0 ? void 0 : request.limit,\n                next: request === null || request === void 0 ? void 0 : request.next,\n                prev: request === null || request === void 0 ? void 0 : request.prev,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                sort: request === null || request === void 0 ? void 0 : request.sort,\n                filter: request === null || request === void 0 ? void 0 : request.filter,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/moderation/configs', undefined, undefined, body);\n            (_f = decoders.QueryModerationConfigsResponse) === null || _f === void 0 ? void 0 : _f.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.customCheck = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _g;\n            const body = {\n                entity_creator_id: request === null || request === void 0 ? void 0 : request.entity_creator_id,\n                entity_id: request === null || request === void 0 ? void 0 : request.entity_id,\n                entity_type: request === null || request === void 0 ? void 0 : request.entity_type,\n                name: request === null || request === void 0 ? void 0 : request.name,\n                reason: request === null || request === void 0 ? void 0 : request.reason,\n                recommended_action: request === null || request === void 0 ? void 0 : request.recommended_action,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                moderation_payload: request === null || request === void 0 ? void 0 : request.moderation_payload,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/moderation/custom_check', undefined, undefined, body);\n            (_g = decoders.CustomCheckResponse) === null || _g === void 0 ? void 0 : _g.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.v2DeleteTemplate = () => __awaiter(this, void 0, void 0, function* () {\n            var _h;\n            const response = yield this.sendRequest('DELETE', '/api/v2/moderation/feeds_moderation_template', undefined, undefined);\n            (_h = decoders.DeleteModerationTemplateResponse) === null || _h === void 0 ? void 0 : _h.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.v2QueryTemplates = () => __awaiter(this, void 0, void 0, function* () {\n            var _j;\n            const response = yield this.sendRequest('GET', '/api/v2/moderation/feeds_moderation_template', undefined, undefined);\n            (_j = decoders.QueryFeedModerationTemplatesResponse) === null || _j === void 0 ? void 0 : _j.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.v2UpsertTemplate = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _k;\n            const body = {\n                name: request === null || request === void 0 ? void 0 : request.name,\n                config: request === null || request === void 0 ? void 0 : request.config,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/moderation/feeds_moderation_template', undefined, undefined, body);\n            (_k = decoders.UpsertModerationTemplateResponse) === null || _k === void 0 ? void 0 : _k.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.flag = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _l;\n            const body = {\n                entity_id: request === null || request === void 0 ? void 0 : request.entity_id,\n                entity_type: request === null || request === void 0 ? void 0 : request.entity_type,\n                entity_creator_id: request === null || request === void 0 ? void 0 : request.entity_creator_id,\n                reason: request === null || request === void 0 ? void 0 : request.reason,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                custom: request === null || request === void 0 ? void 0 : request.custom,\n                moderation_payload: request === null || request === void 0 ? void 0 : request.moderation_payload,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/moderation/flag', undefined, undefined, body);\n            (_l = decoders.FlagResponse) === null || _l === void 0 ? void 0 : _l.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.queryModerationLogs = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _m;\n            const body = {\n                limit: request === null || request === void 0 ? void 0 : request.limit,\n                next: request === null || request === void 0 ? void 0 : request.next,\n                prev: request === null || request === void 0 ? void 0 : request.prev,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                sort: request === null || request === void 0 ? void 0 : request.sort,\n                filter: request === null || request === void 0 ? void 0 : request.filter,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/moderation/logs', undefined, undefined, body);\n            (_m = decoders.QueryModerationLogsResponse) === null || _m === void 0 ? void 0 : _m.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getModeratorStats = () => __awaiter(this, void 0, void 0, function* () {\n            var _o;\n            const response = yield this.sendRequest('GET', '/api/v2/moderation/moderator_stats', undefined, undefined);\n            (_o = decoders.ModeratorStatsResponse) === null || _o === void 0 ? void 0 : _o.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.mute = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _p;\n            const body = {\n                target_ids: request === null || request === void 0 ? void 0 : request.target_ids,\n                timeout: request === null || request === void 0 ? void 0 : request.timeout,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/moderation/mute', undefined, undefined, body);\n            (_p = decoders.MuteResponse) === null || _p === void 0 ? void 0 : _p.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getQueueStats = () => __awaiter(this, void 0, void 0, function* () {\n            var _q;\n            const response = yield this.sendRequest('GET', '/api/v2/moderation/queue_stats', undefined, undefined);\n            (_q = decoders.QueueStatsResponse) === null || _q === void 0 ? void 0 : _q.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.queryReviewQueue = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _r;\n            const body = {\n                limit: request === null || request === void 0 ? void 0 : request.limit,\n                lock_count: request === null || request === void 0 ? void 0 : request.lock_count,\n                lock_duration: request === null || request === void 0 ? void 0 : request.lock_duration,\n                lock_items: request === null || request === void 0 ? void 0 : request.lock_items,\n                next: request === null || request === void 0 ? void 0 : request.next,\n                prev: request === null || request === void 0 ? void 0 : request.prev,\n                stats_only: request === null || request === void 0 ? void 0 : request.stats_only,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                sort: request === null || request === void 0 ? void 0 : request.sort,\n                filter: request === null || request === void 0 ? void 0 : request.filter,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/moderation/review_queue', undefined, undefined, body);\n            (_r = decoders.QueryReviewQueueResponse) === null || _r === void 0 ? void 0 : _r.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getReviewQueueItem = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _s;\n            const pathParams = {\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/moderation/review_queue/{id}', pathParams, undefined);\n            (_s = decoders.GetReviewQueueItemResponse) === null || _s === void 0 ? void 0 : _s.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.submitAction = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _t;\n            const body = {\n                action_type: request === null || request === void 0 ? void 0 : request.action_type,\n                item_id: request === null || request === void 0 ? void 0 : request.item_id,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                ban: request === null || request === void 0 ? void 0 : request.ban,\n                custom: request === null || request === void 0 ? void 0 : request.custom,\n                delete_activity: request === null || request === void 0 ? void 0 : request.delete_activity,\n                delete_message: request === null || request === void 0 ? void 0 : request.delete_message,\n                delete_reaction: request === null || request === void 0 ? void 0 : request.delete_reaction,\n                delete_user: request === null || request === void 0 ? void 0 : request.delete_user,\n                mark_reviewed: request === null || request === void 0 ? void 0 : request.mark_reviewed,\n                unban: request === null || request === void 0 ? void 0 : request.unban,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/moderation/submit_action', undefined, undefined, body);\n            (_t = decoders.SubmitActionResponse) === null || _t === void 0 ? void 0 : _t.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.unban = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _u;\n            const queryParams = {\n                target_user_id: request === null || request === void 0 ? void 0 : request.target_user_id,\n                channel_cid: request === null || request === void 0 ? void 0 : request.channel_cid,\n                created_by: request === null || request === void 0 ? void 0 : request.created_by,\n            };\n            const body = {\n                unbanned_by_id: request === null || request === void 0 ? void 0 : request.unbanned_by_id,\n                unbanned_by: request === null || request === void 0 ? void 0 : request.unbanned_by,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/moderation/unban', undefined, queryParams, body);\n            (_u = decoders.UnbanResponse) === null || _u === void 0 ? void 0 : _u.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.unmute = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _v;\n            const body = {\n                target_ids: request === null || request === void 0 ? void 0 : request.target_ids,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/moderation/unmute', undefined, undefined, body);\n            (_v = decoders.UnmuteResponse) === null || _v === void 0 ? void 0 : _v.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.queryUsageStats = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _w;\n            const body = {\n                limit: request === null || request === void 0 ? void 0 : request.limit,\n                next: request === null || request === void 0 ? void 0 : request.next,\n                prev: request === null || request === void 0 ? void 0 : request.prev,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                sort: request === null || request === void 0 ? void 0 : request.sort,\n                filter: request === null || request === void 0 ? void 0 : request.filter,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/moderation/usage_stats', undefined, undefined, body);\n            (_w = decoders.QueryUsageStatsResponse) === null || _w === void 0 ? void 0 : _w.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getUserReport = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _x;\n            const queryParams = {\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                create_user_if_not_exists: request === null || request === void 0 ? void 0 : request.create_user_if_not_exists,\n                include_user_mutes: request === null || request === void 0 ? void 0 : request.include_user_mutes,\n                include_user_blocks: request === null || request === void 0 ? void 0 : request.include_user_blocks,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/moderation/user_report', undefined, queryParams);\n            (_x = decoders.GetUserModerationReportResponse) === null || _x === void 0 ? void 0 : _x.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n    }\n}\n\nclass StreamModerationClient extends ModerationApi {\n}\n\nclass StreamClient extends CommonApi {\n    /**\n     *\n     * @param apiKey\n     * @param secret\n     * @param config config object\n     */\n    constructor(apiKey, secret, config) {\n        var _a, _b, _c;\n        const token = JWTServerToken(secret);\n        const timeout = (_a = config === null || config === void 0 ? void 0 : config.timeout) !== null && _a !== void 0 ? _a : StreamClient.DEFAULT_TIMEOUT;\n        const chatBaseUrl = (_b = config === null || config === void 0 ? void 0 : config.basePath) !== null && _b !== void 0 ? _b : 'https://chat.stream-io-api.com';\n        const videoBaseUrl = (_c = config === null || config === void 0 ? void 0 : config.basePath) !== null && _c !== void 0 ? _c : 'https://video.stream-io-api.com';\n        super({ apiKey, token, timeout, baseUrl: chatBaseUrl });\n        this.apiKey = apiKey;\n        this.secret = secret;\n        this.config = config;\n        this.options = {};\n        this.upsertUsers = (users) => {\n            const payload = {};\n            users.forEach((u) => {\n                payload[u.id] = u;\n            });\n            return this.updateUsers({ users: payload });\n        };\n        this.queryBannedUsers = (request) => {\n            return this.chat.queryBannedUsers(request);\n        };\n        /**\n         *\n         * @param payload\n         * - user_id - the id of the user the token is for\n         * - validity_in_seconds - how many seconds is the token valid for (starting from issued at), by default it's 1 hour, dicarded if exp is provided\n         * - exp - when the token expires, unix timestamp in seconds\n         * - iat - issued at date of the token, unix timestamp in seconds, by default it's now\n         */\n        this.generateUserToken = (payload) => {\n            var _a, _b, _c;\n            const defaultIat = Math.floor((Date.now() - 1000) / 1000);\n            payload.iat = (_a = payload.iat) !== null && _a !== void 0 ? _a : defaultIat;\n            const validityInSeconds = (_b = payload.validity_in_seconds) !== null && _b !== void 0 ? _b : 60 * 60;\n            payload.exp = (_c = payload.exp) !== null && _c !== void 0 ? _c : payload.iat + validityInSeconds;\n            return JWTUserToken(this.secret, payload);\n        };\n        /**\n         *\n         * @param payload\n         * - user_id - the id of the user the token is for\n         * - validity_in_seconds - how many seconds is the token valid for (starting from issued at), by default it's 1 hour, dicarded if exp is provided\n         * - exp - when the token expires, unix timestamp in seconds\n         * - iat - issued at date of the token, unix timestamp in seconds, by default it's now\n         */\n        this.generateCallToken = (payload) => {\n            return this.generateUserToken(payload);\n        };\n        /**\n         *\n         * @param userID\n         * @param exp\n         * @param iat deprecated, the default date will be set internally\n         * @returns\n         *\n         * @deprecated use generateUserToken instead\n         */\n        this.createToken = (userID, exp = Math.round(Date.now() / 1000) + 60 * 60, iat = Math.floor((Date.now() - 1000) / 1000)) => {\n            const payload = {\n                user_id: userID,\n                exp,\n                iat,\n            };\n            return JWTUserToken(this.secret, payload);\n        };\n        /**\n         *\n         * @param userID\n         * @param call_cids\n         * @param exp\n         * @param iat this is deprecated, the current date will be set internally\n         * @returns\n         *\n         * @deprecated use generateCallToken instead\n         */\n        this.createCallToken = (userIdOrObject, call_cids, exp = Math.round(Date.now() / 1000) + 60 * 60, iat = Math.floor((Date.now() - 1000) / 1000)) => {\n            const payload = {\n                exp,\n                iat,\n                call_cids,\n                user_id: typeof userIdOrObject === 'string'\n                    ? userIdOrObject\n                    : userIdOrObject.user_id,\n            };\n            if (typeof userIdOrObject === 'object' && userIdOrObject.role) {\n                payload.role = userIdOrObject.role;\n            }\n            return JWTUserToken(this.secret, payload);\n        };\n        this.verifyWebhook = (requestBody, xSignature) => {\n            const key = Buffer.from(this.secret, 'utf8');\n            const hash = crypto__WEBPACK_IMPORTED_MODULE_1__.createHmac('sha256', key)\n                .update(requestBody)\n                .digest('hex');\n            try {\n                return crypto__WEBPACK_IMPORTED_MODULE_1__.timingSafeEqual(Buffer.from(hash), Buffer.from(xSignature));\n            }\n            catch (err) {\n                return false;\n            }\n        };\n        this.video = new StreamVideoClient({\n            apiKey,\n            token,\n            timeout,\n            baseUrl: videoBaseUrl,\n        });\n        this.chat = new StreamChatClient({\n            apiKey,\n            token,\n            timeout,\n            baseUrl: chatBaseUrl,\n        });\n        this.moderation = new StreamModerationClient({\n            apiKey,\n            token,\n            timeout,\n            baseUrl: chatBaseUrl,\n        });\n    }\n}\nStreamClient.DEFAULT_TIMEOUT = 3000;\n\n\n//# sourceMappingURL=index.es.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BzdHJlYW0taW8vbm9kZS1zZGsvZGlzdC9pbmRleC5lcy5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUErQjtBQUNMO0FBQ0U7O0FBRTVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFFBQVEseUNBQUcsWUFBWSw4Q0FBUTtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFdBQVcsOENBQVE7QUFDbkI7QUFDQSxrREFBa0Q7QUFDbEQ7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLHVDQUF1QztBQUN4RSxXQUFXLDhDQUFRO0FBQ25COztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QiwrREFBK0QsaUJBQWlCO0FBQzVHO0FBQ0Esb0NBQW9DLE1BQU0sK0JBQStCLFlBQVk7QUFDckYsbUNBQW1DLE1BQU0sbUNBQW1DLFlBQVk7QUFDeEYsZ0NBQWdDO0FBQ2hDO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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O0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlELG9CQUFvQiw2QkFBNkI7QUFDbEcsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQiw4Q0FBOEM7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixzQ0FBc0MsZ0JBQWdCO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsOENBQ0U7QUFDM0I7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLG1EQUFzQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUU2SDtBQUM3SCIsInNvdXJjZXMiOlsid2VicGFjazovL0BoZWxzYS9hcHAvLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BzdHJlYW0taW8vbm9kZS1zZGsvZGlzdC9pbmRleC5lcy5tanM/NGU4NSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgand0IGZyb20gJ2pzb253ZWJ0b2tlbic7XG5pbXBvcnQgeyB2NCB9IGZyb20gJ3V1aWQnO1xuaW1wb3J0IGNyeXB0byBmcm9tICdjcnlwdG8nO1xuXG5jb25zdCBDaGFubmVsT3duQ2FwYWJpbGl0eSA9IHtcbiAgICBCQU5fQ0hBTk5FTF9NRU1CRVJTOiAnYmFuLWNoYW5uZWwtbWVtYmVycycsXG4gICAgQ0FTVF9QT0xMX1ZPVEU6ICdjYXN0LXBvbGwtdm90ZScsXG4gICAgQ09OTkVDVF9FVkVOVFM6ICdjb25uZWN0LWV2ZW50cycsXG4gICAgQ1JFQVRFX0FUVEFDSE1FTlQ6ICdjcmVhdGUtYXR0YWNobWVudCcsXG4gICAgQ1JFQVRFX0NBTEw6ICdjcmVhdGUtY2FsbCcsXG4gICAgREVMRVRFX0FOWV9NRVNTQUdFOiAnZGVsZXRlLWFueS1tZXNzYWdlJyxcbiAgICBERUxFVEVfQ0hBTk5FTDogJ2RlbGV0ZS1jaGFubmVsJyxcbiAgICBERUxFVEVfT1dOX01FU1NBR0U6ICdkZWxldGUtb3duLW1lc3NhZ2UnLFxuICAgIEZMQUdfTUVTU0FHRTogJ2ZsYWctbWVzc2FnZScsXG4gICAgRlJFRVpFX0NIQU5ORUw6ICdmcmVlemUtY2hhbm5lbCcsXG4gICAgSk9JTl9DQUxMOiAnam9pbi1jYWxsJyxcbiAgICBKT0lOX0NIQU5ORUw6ICdqb2luLWNoYW5uZWwnLFxuICAgIExFQVZFX0NIQU5ORUw6ICdsZWF2ZS1jaGFubmVsJyxcbiAgICBNVVRFX0NIQU5ORUw6ICdtdXRlLWNoYW5uZWwnLFxuICAgIFBJTl9NRVNTQUdFOiAncGluLW1lc3NhZ2UnLFxuICAgIFFVRVJZX1BPTExfVk9URVM6ICdxdWVyeS1wb2xsLXZvdGVzJyxcbiAgICBRVU9URV9NRVNTQUdFOiAncXVvdGUtbWVzc2FnZScsXG4gICAgUkVBRF9FVkVOVFM6ICdyZWFkLWV2ZW50cycsXG4gICAgU0VBUkNIX01FU1NBR0VTOiAnc2VhcmNoLW1lc3NhZ2VzJyxcbiAgICBTRU5EX0NVU1RPTV9FVkVOVFM6ICdzZW5kLWN1c3RvbS1ldmVudHMnLFxuICAgIFNFTkRfTElOS1M6ICdzZW5kLWxpbmtzJyxcbiAgICBTRU5EX01FU1NBR0U6ICdzZW5kLW1lc3NhZ2UnLFxuICAgIFNFTkRfUE9MTDogJ3NlbmQtcG9sbCcsXG4gICAgU0VORF9SRUFDVElPTjogJ3NlbmQtcmVhY3Rpb24nLFxuICAgIFNFTkRfUkVQTFk6ICdzZW5kLXJlcGx5JyxcbiAgICBTRU5EX1RZUElOR19FVkVOVFM6ICdzZW5kLXR5cGluZy1ldmVudHMnLFxuICAgIFNFVF9DSEFOTkVMX0NPT0xET1dOOiAnc2V0LWNoYW5uZWwtY29vbGRvd24nLFxuICAgIFNLSVBfU0xPV19NT0RFOiAnc2tpcC1zbG93LW1vZGUnLFxuICAgIFNMT1dfTU9ERTogJ3Nsb3ctbW9kZScsXG4gICAgVFlQSU5HX0VWRU5UUzogJ3R5cGluZy1ldmVudHMnLFxuICAgIFVQREFURV9BTllfTUVTU0FHRTogJ3VwZGF0ZS1hbnktbWVzc2FnZScsXG4gICAgVVBEQVRFX0NIQU5ORUw6ICd1cGRhdGUtY2hhbm5lbCcsXG4gICAgVVBEQVRFX0NIQU5ORUxfTUVNQkVSUzogJ3VwZGF0ZS1jaGFubmVsLW1lbWJlcnMnLFxuICAgIFVQREFURV9PV05fTUVTU0FHRTogJ3VwZGF0ZS1vd24tbWVzc2FnZScsXG4gICAgVVBEQVRFX1RIUkVBRDogJ3VwZGF0ZS10aHJlYWQnLFxuICAgIFVQTE9BRF9GSUxFOiAndXBsb2FkLWZpbGUnLFxufTtcbmNvbnN0IE93bkNhcGFiaWxpdHkgPSB7XG4gICAgQkxPQ0tfVVNFUlM6ICdibG9jay11c2VycycsXG4gICAgQ0hBTkdFX01BWF9EVVJBVElPTjogJ2NoYW5nZS1tYXgtZHVyYXRpb24nLFxuICAgIENSRUFURV9DQUxMOiAnY3JlYXRlLWNhbGwnLFxuICAgIENSRUFURV9SRUFDVElPTjogJ2NyZWF0ZS1yZWFjdGlvbicsXG4gICAgRU5BQkxFX05PSVNFX0NBTkNFTExBVElPTjogJ2VuYWJsZS1ub2lzZS1jYW5jZWxsYXRpb24nLFxuICAgIEVORF9DQUxMOiAnZW5kLWNhbGwnLFxuICAgIEpPSU5fQkFDS1NUQUdFOiAnam9pbi1iYWNrc3RhZ2UnLFxuICAgIEpPSU5fQ0FMTDogJ2pvaW4tY2FsbCcsXG4gICAgSk9JTl9FTkRFRF9DQUxMOiAnam9pbi1lbmRlZC1jYWxsJyxcbiAgICBNVVRFX1VTRVJTOiAnbXV0ZS11c2VycycsXG4gICAgUElOX0ZPUl9FVkVSWU9ORTogJ3Bpbi1mb3ItZXZlcnlvbmUnLFxuICAgIFJFQURfQ0FMTDogJ3JlYWQtY2FsbCcsXG4gICAgUkVNT1ZFX0NBTExfTUVNQkVSOiAncmVtb3ZlLWNhbGwtbWVtYmVyJyxcbiAgICBTQ1JFRU5TSEFSRTogJ3NjcmVlbnNoYXJlJyxcbiAgICBTRU5EX0FVRElPOiAnc2VuZC1hdWRpbycsXG4gICAgU0VORF9WSURFTzogJ3NlbmQtdmlkZW8nLFxuICAgIFNUQVJUX0JST0FEQ0FTVF9DQUxMOiAnc3RhcnQtYnJvYWRjYXN0LWNhbGwnLFxuICAgIFNUQVJUX0NMT1NFRF9DQVBUSU9OU19DQUxMOiAnc3RhcnQtY2xvc2VkLWNhcHRpb25zLWNhbGwnLFxuICAgIFNUQVJUX1JFQ09SRF9DQUxMOiAnc3RhcnQtcmVjb3JkLWNhbGwnLFxuICAgIFNUQVJUX1RSQU5TQ1JJUFRJT05fQ0FMTDogJ3N0YXJ0LXRyYW5zY3JpcHRpb24tY2FsbCcsXG4gICAgU1RPUF9CUk9BRENBU1RfQ0FMTDogJ3N0b3AtYnJvYWRjYXN0LWNhbGwnLFxuICAgIFNUT1BfQ0xPU0VEX0NBUFRJT05TX0NBTEw6ICdzdG9wLWNsb3NlZC1jYXB0aW9ucy1jYWxsJyxcbiAgICBTVE9QX1JFQ09SRF9DQUxMOiAnc3RvcC1yZWNvcmQtY2FsbCcsXG4gICAgU1RPUF9UUkFOU0NSSVBUSU9OX0NBTEw6ICdzdG9wLXRyYW5zY3JpcHRpb24tY2FsbCcsXG4gICAgVVBEQVRFX0NBTEw6ICd1cGRhdGUtY2FsbCcsXG4gICAgVVBEQVRFX0NBTExfTUVNQkVSOiAndXBkYXRlLWNhbGwtbWVtYmVyJyxcbiAgICBVUERBVEVfQ0FMTF9QRVJNSVNTSU9OUzogJ3VwZGF0ZS1jYWxsLXBlcm1pc3Npb25zJyxcbiAgICBVUERBVEVfQ0FMTF9TRVRUSU5HUzogJ3VwZGF0ZS1jYWxsLXNldHRpbmdzJyxcbn07XG5cbmZ1bmN0aW9uIEpXVFVzZXJUb2tlbihhcGlTZWNyZXQsIHBheWxvYWQpIHtcbiAgICAvLyBtYWtlIHN1cmUgd2UgcmV0dXJuIGEgY2xlYXIgZXJyb3Igd2hlbiBqd3QgaXMgc2hpbW1lZCAoaWUuIGJyb3dzZXIgYnVpbGQpXG4gICAgaWYgKGp3dCA9PSBudWxsIHx8IGp3dC5zaWduID09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoYFVuYWJsZSB0byBmaW5kIGp3dCBjcnlwdG8sIGlmIHlvdSBhcmUgZ2V0dGluZyB0aGlzIGVycm9yIGlzIHByb2JhYmx5IGJlY2F1c2UgeW91IGFyZSB0cnlpbmcgdG8gZ2VuZXJhdGUgdG9rZW5zIG9uIGJyb3dzZXIgb3IgUmVhY3QgTmF0aXZlIChvciBvdGhlciBlbnZpcm9ubWVudCB3aGVyZSBjcnlwdG8gZnVuY3Rpb25zIGFyZSBub3QgYXZhaWxhYmxlKS4gUGxlYXNlIE5vdGU6IHRva2VuIHNob3VsZCBvbmx5IGJlIGdlbmVyYXRlZCBzZXJ2ZXItc2lkZS5gKTtcbiAgICB9XG4gICAgY29uc3Qgb3B0cyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICBhbGdvcml0aG06ICdIUzI1NicsXG4gICAgICAgIG5vVGltZXN0YW1wOiB0cnVlLFxuICAgIH0pO1xuICAgIGlmIChwYXlsb2FkLmlhdCkge1xuICAgICAgICBvcHRzLm5vVGltZXN0YW1wID0gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiBqd3Quc2lnbihwYXlsb2FkLCBhcGlTZWNyZXQsIG9wdHMpO1xufVxuZnVuY3Rpb24gSldUU2VydmVyVG9rZW4oYXBpU2VjcmV0LCBqd3RPcHRpb25zID0ge30pIHtcbiAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgICBzZXJ2ZXI6IHRydWUsXG4gICAgfTtcbiAgICBjb25zdCBvcHRzID0gT2JqZWN0LmFzc2lnbih7IGFsZ29yaXRobTogJ0hTMjU2Jywgbm9UaW1lc3RhbXA6IHRydWUgfSwgand0T3B0aW9ucyk7XG4gICAgcmV0dXJuIGp3dC5zaWduKHBheWxvYWQsIGFwaVNlY3JldCwgb3B0cyk7XG59XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uXHJcblxyXG5QZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcclxucHVycG9zZSB3aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLlxyXG5cclxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVMgV0lUSFxyXG5SRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFlcclxuQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULFxyXG5JTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST01cclxuTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1JcclxuT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUlxyXG5QRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxuXHJcbmZ1bmN0aW9uIF9fYXdhaXRlcih0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcclxuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxyXG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XHJcbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xyXG4gICAgfSk7XHJcbn1cblxuY2xhc3MgU3RyZWFtRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZSwgbWV0YWRhdGEsIGNvZGUsIGVycm9yT3B0aW9ucykge1xuICAgICAgICBzdXBlcihtZXNzYWdlLCBlcnJvck9wdGlvbnMpO1xuICAgICAgICB0aGlzLm1ldGFkYXRhID0gbWV0YWRhdGE7XG4gICAgICAgIHRoaXMuY29kZSA9IGNvZGU7XG4gICAgfVxufVxuXG5jb25zdCBnZXRSYXRlTGltaXRGcm9tUmVzcG9uc2VIZWFkZXIgPSAocmVzcG9uc2VIZWFkZXJzKSA9PiB7XG4gICAgY29uc3QgcmF0ZUxpbWl0ID0gcmVzcG9uc2VIZWFkZXJzLmhhcygneC1yYXRlbGltaXQtbGltaXQnKVxuICAgICAgICA/ICtyZXNwb25zZUhlYWRlcnMuZ2V0KCd4LXJhdGVsaW1pdC1saW1pdCcpXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIGNvbnN0IHJhdGVMaW1pdFJlbWFpbmluZyA9IHJlc3BvbnNlSGVhZGVycy5oYXMoJ3gtcmF0ZWxpbWl0LXJlbWFpbmluZycpXG4gICAgICAgID8gK3Jlc3BvbnNlSGVhZGVycy5nZXQoJ3gtcmF0ZWxpbWl0LXJlbWFpbmluZycpXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIGNvbnN0IHJhdGVMaW1pdFJlc2V0ID0gcmVzcG9uc2VIZWFkZXJzLmhhcygneC1yYXRlbGltaXQtcmVzZXQnKVxuICAgICAgICA/IG5ldyBEYXRlKCtyZXNwb25zZUhlYWRlcnMuZ2V0KCd4LXJhdGVsaW1pdC1yZXNldCcpICogMTAwMClcbiAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgY29uc3QgcmVzdWx0ID0ge1xuICAgICAgICByYXRlTGltaXQsXG4gICAgICAgIHJhdGVMaW1pdFJlbWFpbmluZyxcbiAgICAgICAgcmF0ZUxpbWl0UmVzZXQsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzdWx0O1xufTtcblxuY2xhc3MgQmFzZUFwaSB7XG4gICAgY29uc3RydWN0b3IoYXBpQ29uZmlnKSB7XG4gICAgICAgIHRoaXMuYXBpQ29uZmlnID0gYXBpQ29uZmlnO1xuICAgICAgICB0aGlzLnNlbmRSZXF1ZXN0ID0gKG1ldGhvZCwgdXJsLCBwYXRoUGFyYW1zLCBxdWVyeVBhcmFtcywgYm9keSkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbXMgPSBxdWVyeVBhcmFtcyAhPT0gbnVsbCAmJiBxdWVyeVBhcmFtcyAhPT0gdm9pZCAwID8gcXVlcnlQYXJhbXMgOiB7fTtcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1zLmFwaV9rZXkgPSB0aGlzLmFwaUNvbmZpZy5hcGlLZXk7XG4gICAgICAgICAgICBjb25zdCBlbmNvZGVkUGFyYW1zID0gdGhpcy5xdWVyeVBhcmFtc1N0cmluZ2lmeShxdWVyeVBhcmFtcyk7XG4gICAgICAgICAgICBpZiAocGF0aFBhcmFtcykge1xuICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKHBhdGhQYXJhbXMpLmZvckVhY2goKHBhcmFtTmFtZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB1cmwgPSB1cmwucmVwbGFjZShgeyR7cGFyYW1OYW1lfX1gLCBwYXRoUGFyYW1zW3BhcmFtTmFtZV0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdXJsICs9IGA/JHtlbmNvZGVkUGFyYW1zfWA7XG4gICAgICAgICAgICBjb25zdCBjbGllbnRSZXF1ZXN0SWQgPSB2NCgpO1xuICAgICAgICAgICAgY29uc3QgaGVhZGVycyA9IHtcbiAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiB0aGlzLmFwaUNvbmZpZy50b2tlbixcbiAgICAgICAgICAgICAgICAnc3RyZWFtLWF1dGgtdHlwZSc6ICdqd3QnLFxuICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgJ1gtU3RyZWFtLUNsaWVudCc6ICdzdHJlYW0tbm9kZS0nICsgXCIwLjQuNVwiLFxuICAgICAgICAgICAgICAgICdBY2NlcHQtRW5jb2RpbmcnOiAnZ3ppcCcsXG4gICAgICAgICAgICAgICAgJ3gtY2xpZW50LXJlcXVlc3QtaWQnOiBjbGllbnRSZXF1ZXN0SWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3Qgc2lnbmFsID0gQWJvcnRTaWduYWwudGltZW91dCh0aGlzLmFwaUNvbmZpZy50aW1lb3V0KTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCBmZXRjaChgJHt0aGlzLmFwaUNvbmZpZy5iYXNlVXJsfSR7dXJsfWAsIHtcbiAgICAgICAgICAgICAgICAgICAgc2lnbmFsLFxuICAgICAgICAgICAgICAgICAgICBtZXRob2QsXG4gICAgICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpLFxuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlSGVhZGVycyA9IHJlc3BvbnNlLmhlYWRlcnM7XG4gICAgICAgICAgICAgICAgY29uc3QgbWV0YWRhdGEgPSB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWVudFJlcXVlc3RJZCxcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VIZWFkZXJzLFxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZUNvZGU6IHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgICAgICAgICAgICAgICAgcmF0ZUxpbWl0OiBnZXRSYXRlTGltaXRGcm9tUmVzcG9uc2VIZWFkZXIocmVzcG9uc2VIZWFkZXJzKSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPCAyMDAgfHwgcmVzcG9uc2Uuc3RhdHVzID49IDMwMCkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvciA9ICh5aWVsZCByZXNwb25zZS5qc29uKCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChfKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU3RyZWFtRXJyb3IoYFN0cmVhbSBlcnJvcjogJHtyZXNwb25zZS5zdGF0dXN9IC0gJHtyZXNwb25zZS5zdGF0dXNUZXh0fWAsIG1ldGFkYXRhLCByZXNwb25zZS5zdGF0dXMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBTdHJlYW1FcnJvcihgU3RyZWFtIGVycm9yIGNvZGUgJHtlcnJvci5jb2RlfTogJHtlcnJvci5tZXNzYWdlfWAsIG1ldGFkYXRhLCBlcnJvci5jb2RlLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZUJvZHkgPSAoeWllbGQgcmVzcG9uc2UuanNvbigpKTtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBib2R5OiByZXNwb25zZUJvZHksIG1ldGFkYXRhIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBTdHJlYW1FcnJvcikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgbWV0YWRhdGEgPSB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWVudFJlcXVlc3RJZCxcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VDb2RlOiBlcnJvci5zdGF0dXMsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3IubmFtZSA9PT0gJ0Fib3J0RXJyb3InIHx8IGVycm9yLm5hbWUgPT09ICdUaW1lb3V0RXJyb3InKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBTdHJlYW1FcnJvcihgVGhlIHJlcXVlc3Qgd2FzIGFib3J0ZWQgZHVlIHRvIHRvIHRoZSAke3RoaXMuYXBpQ29uZmlnLnRpbWVvdXR9bXMgdGltZW91dCwgeW91IGNhbiBzZXQgdGhlIHRpbWVvdXQgaW4gdGhlIFN0cmVhbUNsaWVudCBjb25zdHJ1Y3RvcmAsIG1ldGFkYXRhLCB1bmRlZmluZWQsIGVycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBTdHJlYW1FcnJvcihgVGhlIHJlcXVlc3QgZmFpbGVkIGR1ZSB0byBhbiB1bmV4cGVjdGVkIGVycm9yYCwgbWV0YWRhdGEsIGVycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnF1ZXJ5UGFyYW1zU3RyaW5naWZ5ID0gKHBhcmFtcykgPT4ge1xuICAgICAgICAgICAgY29uc3QgbmV3UGFyYW1zID0gW107XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGsgaW4gcGFyYW1zKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyYW0gPSBwYXJhbXNba107XG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocGFyYW0pKSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld1BhcmFtcy5wdXNoKGAke2t9PSR7ZW5jb2RlVVJJQ29tcG9uZW50KHBhcmFtLmpvaW4oJywnKSl9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHBhcmFtIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICBuZXdQYXJhbXMucHVzaChwYXJhbS50b0lTT1N0cmluZygpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHBhcmFtID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICBuZXdQYXJhbXMucHVzaChgJHtrfT0ke2VuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShwYXJhbSkpfWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBwYXJhbSA9PT0gJ3N0cmluZycgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVvZiBwYXJhbSA9PT0gJ251bWJlcicgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVvZiBwYXJhbSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdQYXJhbXMucHVzaChgJHtrfT0ke2VuY29kZVVSSUNvbXBvbmVudChwYXJhbSl9YCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmV3UGFyYW1zLmpvaW4oJyYnKTtcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbmNvbnN0IGRlY29kZXJzID0ge307XG5jb25zdCBkZWNvZGVEYXRldGltZVR5cGUgPSAoaW5wdXQpID0+IG5ldyBEYXRlKE1hdGguZmxvb3IoaW5wdXQgLyAxMDAwMDAwKSk7XG5kZWNvZGVycy5EYXRldGltZVR5cGUgPSBkZWNvZGVEYXRldGltZVR5cGU7XG5jb25zdCBkZWNvZGUgPSAodHlwZU1hcHBpbmdzLCBpbnB1dCkgPT4ge1xuICAgIGlmICghaW5wdXQgfHwgT2JqZWN0LmtleXModHlwZU1hcHBpbmdzKS5sZW5ndGggPT09IDApXG4gICAgICAgIHJldHVybiBpbnB1dDtcbiAgICBPYmplY3Qua2V5cyh0eXBlTWFwcGluZ3MpLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICBpZiAoaW5wdXRba2V5XSAhPSBudWxsKSB7XG4gICAgICAgICAgICBpZiAodHlwZU1hcHBpbmdzW2tleV0pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkZWNvZGVyID0gZGVjb2RlcnNbdHlwZU1hcHBpbmdzW2tleV0udHlwZV07XG4gICAgICAgICAgICAgICAgaWYgKGRlY29kZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVNYXBwaW5nc1trZXldLmlzU2luZ2xlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbnB1dFtrZXldID0gZGVjb2RlcihpbnB1dFtrZXldKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKGlucHV0W2tleV0pLmZvckVhY2goKGspID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dFtrZXldW2tdID0gZGVjb2RlcihpbnB1dFtrZXldW2tdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGlucHV0O1xufTtcbmRlY29kZXJzLkFjdGlvbkxvZyA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcmV2aWV3X3F1ZXVlX2l0ZW06IHsgdHlwZTogJ1Jldmlld1F1ZXVlSXRlbScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHRhcmdldF91c2VyOiB7IHR5cGU6ICdVc2VyJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXNlcjogeyB0eXBlOiAnVXNlcicsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkFjdGlvbkxvZ1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICByZXZpZXdfcXVldWVfaXRlbTogeyB0eXBlOiAnUmV2aWV3UXVldWVJdGVtJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdGFyZ2V0X3VzZXI6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVzZXI6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkFwcFJlc3BvbnNlRmllbGRzID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjYWxsX3R5cGVzOiB7IHR5cGU6ICdDYWxsVHlwZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBjaGFubmVsX2NvbmZpZ3M6IHsgdHlwZTogJ0NoYW5uZWxDb25maWcnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgcHVzaF9ub3RpZmljYXRpb25zOiB7IHR5cGU6ICdQdXNoTm90aWZpY2F0aW9uRmllbGRzJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcmV2b2tlX3Rva2Vuc19pc3N1ZWRfYmVmb3JlOiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5BdXRvbW9kRGV0YWlscyA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgcmVzdWx0OiB7IHR5cGU6ICdNZXNzYWdlTW9kZXJhdGlvblJlc3VsdCcsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkJhbiA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgZXhwaXJlczogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgY2hhbm5lbDogeyB0eXBlOiAnQ2hhbm5lbCcsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGNyZWF0ZWRfYnk6IHsgdHlwZTogJ1VzZXInLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB0YXJnZXQ6IHsgdHlwZTogJ1VzZXInLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5CYW5SZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgZXhwaXJlczogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgYmFubmVkX2J5OiB7IHR5cGU6ICdVc2VyUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBjaGFubmVsOiB7IHR5cGU6ICdDaGFubmVsUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1c2VyOiB7IHR5cGU6ICdVc2VyUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5CbG9ja0xpc3RSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQmxvY2tVc2Vyc1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5CbG9ja2VkVXNlclJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBibG9ja2VkX3VzZXI6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVzZXI6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkNhbGxQYXJ0aWNpcGFudFJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBqb2luZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVzZXI6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkNhbGxSZWNvcmRpbmcgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGVuZF90aW1lOiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBzdGFydF90aW1lOiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5DYWxsUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGNyZWF0ZWRfYnk6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGVuZGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBzdGFydHNfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHNlc3Npb246IHsgdHlwZTogJ0NhbGxTZXNzaW9uUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5DYWxsU2Vzc2lvblJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBwYXJ0aWNpcGFudHM6IHsgdHlwZTogJ0NhbGxQYXJ0aWNpcGFudFJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIGFjY2VwdGVkX2J5OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgbWlzc2VkX2J5OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgcmVqZWN0ZWRfYnk6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBlbmRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgbGl2ZV9lbmRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgbGl2ZV9zdGFydGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBzdGFydGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB0aW1lcl9lbmRzX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5DYWxsU3RhdGVSZXNwb25zZUZpZWxkcyA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgbWVtYmVyczogeyB0eXBlOiAnTWVtYmVyUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgY2FsbDogeyB0eXBlOiAnQ2FsbFJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ2FsbFN0YXRzUmVwb3J0U3VtbWFyeVJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBmaXJzdF9zdGF0c190aW1lOiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5DYWxsVHJhbnNjcmlwdGlvbiA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgZW5kX3RpbWU6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHN0YXJ0X3RpbWU6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkNhbGxUeXBlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5DYWxsVHlwZVJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5DYW1wYWlnblJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBzZWdtZW50czogeyB0eXBlOiAnU2VnbWVudCcsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICB1c2VyczogeyB0eXBlOiAnVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIHN0YXRzOiB7IHR5cGU6ICdDYW1wYWlnblN0YXRzUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBzY2hlZHVsZWRfZm9yOiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBzdG9wX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBzZW5kZXI6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkNhbXBhaWduU3RhdHNSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgc3RhdHNfY29tcGxldGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBzdGF0c19zdGFydGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5DaGFubmVsID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBkZWxldGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBsYXN0X21lc3NhZ2VfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGludml0ZXM6IHsgdHlwZTogJ0NoYW5uZWxNZW1iZXInLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgbWVtYmVyczogeyB0eXBlOiAnQ2hhbm5lbE1lbWJlcicsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBjb25maWc6IHsgdHlwZTogJ0NoYW5uZWxDb25maWcnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBjcmVhdGVkX2J5OiB7IHR5cGU6ICdVc2VyJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdHJ1bmNhdGVkX2J5OiB7IHR5cGU6ICdVc2VyJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ2hhbm5lbENvbmZpZyA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ2hhbm5lbENvbmZpZ1dpdGhJbmZvID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBjb21tYW5kczogeyB0eXBlOiAnQ29tbWFuZCcsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5DaGFubmVsTWVtYmVyID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBhcmNoaXZlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgYmFuX2V4cGlyZXM6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGRlbGV0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGludml0ZV9hY2NlcHRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgaW52aXRlX3JlamVjdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBwaW5uZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVzZXI6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkNoYW5uZWxNZW1iZXJSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgYXJjaGl2ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGJhbl9leHBpcmVzOiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBkZWxldGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBpbnZpdGVfYWNjZXB0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGludml0ZV9yZWplY3RlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcGlubmVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1c2VyOiB7IHR5cGU6ICdVc2VyUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5DaGFubmVsTXV0ZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgZXhwaXJlczogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgY2hhbm5lbDogeyB0eXBlOiAnQ2hhbm5lbFJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXNlcjogeyB0eXBlOiAnVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ2hhbm5lbFJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBkZWxldGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBoaWRlX21lc3NhZ2VzX2JlZm9yZTogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgbGFzdF9tZXNzYWdlX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBtdXRlX2V4cGlyZXNfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHRydW5jYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgbWVtYmVyczogeyB0eXBlOiAnQ2hhbm5lbE1lbWJlcicsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBjb25maWc6IHsgdHlwZTogJ0NoYW5uZWxDb25maWdXaXRoSW5mbycsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGNyZWF0ZWRfYnk6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHRydW5jYXRlZF9ieTogeyB0eXBlOiAnVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ2hhbm5lbFN0YXRlUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIG1lbWJlcnM6IHsgdHlwZTogJ0NoYW5uZWxNZW1iZXInLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgbWVzc2FnZXM6IHsgdHlwZTogJ01lc3NhZ2VSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBwaW5uZWRfbWVzc2FnZXM6IHsgdHlwZTogJ01lc3NhZ2VSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICB0aHJlYWRzOiB7IHR5cGU6ICdUaHJlYWRTdGF0ZVJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIGhpZGVfbWVzc2FnZXNfYmVmb3JlOiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBwZW5kaW5nX21lc3NhZ2VzOiB7IHR5cGU6ICdQZW5kaW5nTWVzc2FnZVJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIHJlYWQ6IHsgdHlwZTogJ1JlYWRTdGF0ZVJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIHdhdGNoZXJzOiB7IHR5cGU6ICdVc2VyUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgY2hhbm5lbDogeyB0eXBlOiAnQ2hhbm5lbFJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgbWVtYmVyc2hpcDogeyB0eXBlOiAnQ2hhbm5lbE1lbWJlcicsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkNoYW5uZWxTdGF0ZVJlc3BvbnNlRmllbGRzID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBtZW1iZXJzOiB7IHR5cGU6ICdDaGFubmVsTWVtYmVyJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIG1lc3NhZ2VzOiB7IHR5cGU6ICdNZXNzYWdlUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgcGlubmVkX21lc3NhZ2VzOiB7IHR5cGU6ICdNZXNzYWdlUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgdGhyZWFkczogeyB0eXBlOiAnVGhyZWFkU3RhdGVSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBoaWRlX21lc3NhZ2VzX2JlZm9yZTogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcGVuZGluZ19tZXNzYWdlczogeyB0eXBlOiAnUGVuZGluZ01lc3NhZ2VSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICByZWFkOiB7IHR5cGU6ICdSZWFkU3RhdGVSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICB3YXRjaGVyczogeyB0eXBlOiAnVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIGNoYW5uZWw6IHsgdHlwZTogJ0NoYW5uZWxSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIG1lbWJlcnNoaXA6IHsgdHlwZTogJ0NoYW5uZWxNZW1iZXInLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5DaGFubmVsVHlwZUNvbmZpZyA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgY29tbWFuZHM6IHsgdHlwZTogJ0NvbW1hbmQnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ2hlY2tSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgaXRlbTogeyB0eXBlOiAnUmV2aWV3UXVldWVJdGVtJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ29tbWFuZCA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ29uZmlnUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkNyZWF0ZUNhbGxUeXBlUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkNyZWF0ZUNoYW5uZWxUeXBlUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkNyZWF0ZUNvbW1hbmRSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY29tbWFuZDogeyB0eXBlOiAnQ29tbWFuZCcsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkNyZWF0ZUd1ZXN0UmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIHVzZXI6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkNyZWF0ZUltcG9ydFJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBpbXBvcnRfdGFzazogeyB0eXBlOiAnSW1wb3J0VGFzaycsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkNyZWF0ZVJvbGVSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgcm9sZTogeyB0eXBlOiAnUm9sZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkN1c3RvbUNoZWNrUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIHNjb3JlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcmV2aWV3ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkRlYWN0aXZhdGVVc2VyUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIHVzZXI6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkRlbGV0ZUNhbGxSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY2FsbDogeyB0eXBlOiAnQ2FsbFJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuRGVsZXRlQ2hhbm5lbFJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjaGFubmVsOiB7IHR5cGU6ICdDaGFubmVsUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5EZWxldGVNZXNzYWdlUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIG1lc3NhZ2U6IHsgdHlwZTogJ01lc3NhZ2VSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkRldmljZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuRGV2aWNlUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkVncmVzc1JUTVBSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgc3RhcnRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuRW50aXR5Q3JlYXRvciA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgYmFuX2V4cGlyZXM6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGRlYWN0aXZhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBkZWxldGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBsYXN0X2FjdGl2ZTogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgbGFzdF9lbmdhZ2VkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICByZXZva2VfdG9rZW5zX2lzc3VlZF9iZWZvcmU6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHB1c2hfbm90aWZpY2F0aW9uczogeyB0eXBlOiAnUHVzaE5vdGlmaWNhdGlvblNldHRpbmdzJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuRW50aXR5Q3JlYXRvclJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBkZXZpY2VzOiB7IHR5cGU6ICdEZXZpY2VSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBiYW5fZXhwaXJlczogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgZGVhY3RpdmF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGRlbGV0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGxhc3RfYWN0aXZlOiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICByZXZva2VfdG9rZW5zX2lzc3VlZF9iZWZvcmU6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHB1c2hfbm90aWZpY2F0aW9uczoge1xuICAgICAgICAgICAgdHlwZTogJ1B1c2hOb3RpZmljYXRpb25TZXR0aW5nc1Jlc3BvbnNlJyxcbiAgICAgICAgICAgIGlzU2luZ2xlOiB0cnVlLFxuICAgICAgICB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5FdmVudFJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBldmVudDogeyB0eXBlOiAnV1NFdmVudCcsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkV4cG9ydFVzZXJSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgbWVzc2FnZXM6IHsgdHlwZTogJ01lc3NhZ2VSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICByZWFjdGlvbnM6IHsgdHlwZTogJ1JlYWN0aW9uUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgdXNlcjogeyB0eXBlOiAnVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuRmxhZzIgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVzZXI6IHsgdHlwZTogJ1VzZXInLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5GbGFnMlJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1c2VyOiB7IHR5cGU6ICdVc2VyUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5GbGFnRGV0YWlscyA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgYXV0b21vZDogeyB0eXBlOiAnQXV0b21vZERldGFpbHMnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5GbGFnRmVlZGJhY2sgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkZ1bGxVc2VyUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGNoYW5uZWxfbXV0ZXM6IHsgdHlwZTogJ0NoYW5uZWxNdXRlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIGRldmljZXM6IHsgdHlwZTogJ0RldmljZVJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIG11dGVzOiB7IHR5cGU6ICdVc2VyTXV0ZVJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIGRlYWN0aXZhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBkZWxldGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBsYXN0X2FjdGl2ZTogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcmV2b2tlX3Rva2Vuc19pc3N1ZWRfYmVmb3JlOiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBwdXNoX25vdGlmaWNhdGlvbnM6IHtcbiAgICAgICAgICAgIHR5cGU6ICdQdXNoTm90aWZpY2F0aW9uU2V0dGluZ3NSZXNwb25zZScsXG4gICAgICAgICAgICBpc1NpbmdsZTogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuR2V0QXBwbGljYXRpb25SZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgYXBwOiB7IHR5cGU6ICdBcHBSZXNwb25zZUZpZWxkcycsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkdldEJsb2NrTGlzdFJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBibG9ja2xpc3Q6IHsgdHlwZTogJ0Jsb2NrTGlzdFJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuR2V0QmxvY2tlZFVzZXJzUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGJsb2NrczogeyB0eXBlOiAnQmxvY2tlZFVzZXJSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5HZXRDYWxsUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIG1lbWJlcnM6IHsgdHlwZTogJ01lbWJlclJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIGNhbGw6IHsgdHlwZTogJ0NhbGxSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkdldENhbGxUeXBlUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkdldENhbXBhaWduUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNhbXBhaWduOiB7IHR5cGU6ICdDYW1wYWlnblJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuR2V0Q2hhbm5lbFR5cGVSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgY29tbWFuZHM6IHsgdHlwZTogJ0NvbW1hbmQnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuR2V0Q29tbWFuZFJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5HZXRDb25maWdSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY29uZmlnOiB7IHR5cGU6ICdDb25maWdSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkdldEV4cG9ydENoYW5uZWxzU3RhdHVzUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkdldEltcG9ydFJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBpbXBvcnRfdGFzazogeyB0eXBlOiAnSW1wb3J0VGFzaycsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkdldE1hbnlNZXNzYWdlc1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBtZXNzYWdlczogeyB0eXBlOiAnTWVzc2FnZVJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkdldE1lc3NhZ2VSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgbWVzc2FnZTogeyB0eXBlOiAnTWVzc2FnZVdpdGhDaGFubmVsUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5HZXRPckNyZWF0ZUNhbGxSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgbWVtYmVyczogeyB0eXBlOiAnTWVtYmVyUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgY2FsbDogeyB0eXBlOiAnQ2FsbFJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuR2V0UmVhY3Rpb25zUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIHJlYWN0aW9uczogeyB0eXBlOiAnUmVhY3Rpb24nLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuR2V0UmVwbGllc1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBtZXNzYWdlczogeyB0eXBlOiAnTWVzc2FnZVJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkdldFJldmlld1F1ZXVlSXRlbVJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBoaXN0b3J5OiB7IHR5cGU6ICdSZXZpZXdRdWV1ZUl0ZW1SZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBpdGVtOiB7IHR5cGU6ICdSZXZpZXdRdWV1ZUl0ZW1SZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkdldFNlZ21lbnRSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgc2VnbWVudDogeyB0eXBlOiAnU2VnbWVudFJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuR2V0VGFza1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5HZXRUaHJlYWRSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgdGhyZWFkOiB7IHR5cGU6ICdUaHJlYWRTdGF0ZVJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuR2V0VXNlck1vZGVyYXRpb25SZXBvcnRSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgdXNlcl9ibG9ja3M6IHsgdHlwZTogJ1VzZXJCbG9jaycsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICB1c2VyX211dGVzOiB7IHR5cGU6ICdVc2VyTXV0ZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICB1c2VyOiB7IHR5cGU6ICdVc2VyUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5Hb0xpdmVSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY2FsbDogeyB0eXBlOiAnQ2FsbFJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuSW1wb3J0VGFzayA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgaGlzdG9yeTogeyB0eXBlOiAnSW1wb3J0VGFza0hpc3RvcnknLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuSW1wb3J0VGFza0hpc3RvcnkgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkxpc3RCbG9ja0xpc3RSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgYmxvY2tsaXN0czogeyB0eXBlOiAnQmxvY2tMaXN0UmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuTGlzdENhbGxUeXBlUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNhbGxfdHlwZXM6IHsgdHlwZTogJ0NhbGxUeXBlUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuTGlzdENoYW5uZWxUeXBlc1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjaGFubmVsX3R5cGVzOiB7IHR5cGU6ICdDaGFubmVsVHlwZUNvbmZpZycsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5MaXN0Q29tbWFuZHNSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY29tbWFuZHM6IHsgdHlwZTogJ0NvbW1hbmQnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuTGlzdERldmljZXNSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgZGV2aWNlczogeyB0eXBlOiAnRGV2aWNlUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuTGlzdEltcG9ydHNSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgaW1wb3J0X3Rhc2tzOiB7IHR5cGU6ICdJbXBvcnRUYXNrJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkxpc3RQdXNoUHJvdmlkZXJzUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIHB1c2hfcHJvdmlkZXJzOiB7IHR5cGU6ICdQdXNoUHJvdmlkZXJSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5MaXN0UmVjb3JkaW5nc1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICByZWNvcmRpbmdzOiB7IHR5cGU6ICdDYWxsUmVjb3JkaW5nJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkxpc3RSb2xlc1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICByb2xlczogeyB0eXBlOiAnUm9sZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5MaXN0VHJhbnNjcmlwdGlvbnNSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgdHJhbnNjcmlwdGlvbnM6IHsgdHlwZTogJ0NhbGxUcmFuc2NyaXB0aW9uJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLk1hcmtSZWFkUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGV2ZW50OiB7IHR5cGU6ICdNZXNzYWdlUmVhZEV2ZW50JywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuTWVtYmVyUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVzZXI6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGRlbGV0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLk1lbWJlcnNSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgbWVtYmVyczogeyB0eXBlOiAnQ2hhbm5lbE1lbWJlcicsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5NZXNzYWdlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBsYXRlc3RfcmVhY3Rpb25zOiB7IHR5cGU6ICdSZWFjdGlvbicsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBtZW50aW9uZWRfdXNlcnM6IHsgdHlwZTogJ1VzZXInLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgb3duX3JlYWN0aW9uczogeyB0eXBlOiAnUmVhY3Rpb24nLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgcmVhY3Rpb25fZ3JvdXBzOiB7IHR5cGU6ICdSZWFjdGlvbkdyb3VwUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgZGVsZXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgbWVzc2FnZV90ZXh0X3VwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHBpbl9leHBpcmVzOiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBwaW5uZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHRocmVhZF9wYXJ0aWNpcGFudHM6IHsgdHlwZTogJ1VzZXInLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgcGlubmVkX2J5OiB7IHR5cGU6ICdVc2VyJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcG9sbDogeyB0eXBlOiAnUG9sbCcsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHF1b3RlZF9tZXNzYWdlOiB7IHR5cGU6ICdNZXNzYWdlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXNlcjogeyB0eXBlOiAnVXNlcicsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLk1lc3NhZ2VGbGFnUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGFwcHJvdmVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICByZWplY3RlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcmV2aWV3ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGRldGFpbHM6IHsgdHlwZTogJ0ZsYWdEZXRhaWxzJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgbWVzc2FnZTogeyB0eXBlOiAnTWVzc2FnZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIG1vZGVyYXRpb25fZmVlZGJhY2s6IHsgdHlwZTogJ0ZsYWdGZWVkYmFjaycsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIG1vZGVyYXRpb25fcmVzdWx0OiB7IHR5cGU6ICdNZXNzYWdlTW9kZXJhdGlvblJlc3VsdCcsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHJldmlld2VkX2J5OiB7IHR5cGU6ICdVc2VyUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1c2VyOiB7IHR5cGU6ICdVc2VyUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5NZXNzYWdlSGlzdG9yeUVudHJ5UmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIG1lc3NhZ2VfdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuTWVzc2FnZU1vZGVyYXRpb25SZXN1bHQgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLk1lc3NhZ2VSZWFkRXZlbnQgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHRocmVhZDogeyB0eXBlOiAnVGhyZWFkUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1c2VyOiB7IHR5cGU6ICdVc2VyUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5NZXNzYWdlUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGxhdGVzdF9yZWFjdGlvbnM6IHsgdHlwZTogJ1JlYWN0aW9uUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgbWVudGlvbmVkX3VzZXJzOiB7IHR5cGU6ICdVc2VyUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgb3duX3JlYWN0aW9uczogeyB0eXBlOiAnUmVhY3Rpb25SZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICB1c2VyOiB7IHR5cGU6ICdVc2VyUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBkZWxldGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBtZXNzYWdlX3RleHRfdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcGluX2V4cGlyZXM6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHBpbm5lZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdGhyZWFkX3BhcnRpY2lwYW50czogeyB0eXBlOiAnVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIHBpbm5lZF9ieTogeyB0eXBlOiAnVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcG9sbDogeyB0eXBlOiAnUG9sbFJlc3BvbnNlRGF0YScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHF1b3RlZF9tZXNzYWdlOiB7IHR5cGU6ICdNZXNzYWdlUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICByZWFjdGlvbl9ncm91cHM6IHsgdHlwZTogJ1JlYWN0aW9uR3JvdXBSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5NZXNzYWdlV2l0aENoYW5uZWxSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgbGF0ZXN0X3JlYWN0aW9uczogeyB0eXBlOiAnUmVhY3Rpb25SZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBtZW50aW9uZWRfdXNlcnM6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBvd25fcmVhY3Rpb25zOiB7IHR5cGU6ICdSZWFjdGlvblJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIGNoYW5uZWw6IHsgdHlwZTogJ0NoYW5uZWxSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVzZXI6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGRlbGV0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIG1lc3NhZ2VfdGV4dF91cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBwaW5fZXhwaXJlczogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcGlubmVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB0aHJlYWRfcGFydGljaXBhbnRzOiB7IHR5cGU6ICdVc2VyUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgcGlubmVkX2J5OiB7IHR5cGU6ICdVc2VyUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBwb2xsOiB7IHR5cGU6ICdQb2xsUmVzcG9uc2VEYXRhJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcXVvdGVkX21lc3NhZ2U6IHsgdHlwZTogJ01lc3NhZ2VSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHJlYWN0aW9uX2dyb3VwczogeyB0eXBlOiAnUmVhY3Rpb25Hcm91cFJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLk1vZGVyYXRpb25Vc2FnZVN0YXRzID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICByZWZlcmVuY2VfZGF0ZTogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuTXV0ZUNoYW5uZWxSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY2hhbm5lbF9tdXRlczogeyB0eXBlOiAnQ2hhbm5lbE11dGUnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgY2hhbm5lbF9tdXRlOiB7IHR5cGU6ICdDaGFubmVsTXV0ZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIG93bl91c2VyOiB7IHR5cGU6ICdPd25Vc2VyJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuTXV0ZVJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBtdXRlczogeyB0eXBlOiAnVXNlck11dGUnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgb3duX3VzZXI6IHsgdHlwZTogJ093blVzZXInLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5OdWxsVGltZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgdmFsdWU6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLk93blVzZXIgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGNoYW5uZWxfbXV0ZXM6IHsgdHlwZTogJ0NoYW5uZWxNdXRlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIGRldmljZXM6IHsgdHlwZTogJ0RldmljZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBtdXRlczogeyB0eXBlOiAnVXNlck11dGUnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgZGVhY3RpdmF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGRlbGV0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGxhc3RfYWN0aXZlOiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBsYXN0X2VuZ2FnZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHB1c2hfbm90aWZpY2F0aW9uczogeyB0eXBlOiAnUHVzaE5vdGlmaWNhdGlvblNldHRpbmdzJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuT3duVXNlclJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBjaGFubmVsX211dGVzOiB7IHR5cGU6ICdDaGFubmVsTXV0ZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBkZXZpY2VzOiB7IHR5cGU6ICdEZXZpY2VSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBtdXRlczogeyB0eXBlOiAnVXNlck11dGVSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBkZWFjdGl2YXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgZGVsZXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgbGFzdF9hY3RpdmU6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHJldm9rZV90b2tlbnNfaXNzdWVkX2JlZm9yZTogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcHVzaF9ub3RpZmljYXRpb25zOiB7XG4gICAgICAgICAgICB0eXBlOiAnUHVzaE5vdGlmaWNhdGlvblNldHRpbmdzUmVzcG9uc2UnLFxuICAgICAgICAgICAgaXNTaW5nbGU6IHRydWUsXG4gICAgICAgIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlBlbmRpbmdNZXNzYWdlUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNoYW5uZWw6IHsgdHlwZTogJ0NoYW5uZWxSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIG1lc3NhZ2U6IHsgdHlwZTogJ01lc3NhZ2VSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVzZXI6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlBvbGwgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGxhdGVzdF9hbnN3ZXJzOiB7IHR5cGU6ICdQb2xsVm90ZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBvd25fdm90ZXM6IHsgdHlwZTogJ1BvbGxWb3RlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIGNyZWF0ZWRfYnk6IHsgdHlwZTogJ1VzZXInLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5Qb2xsUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIHBvbGw6IHsgdHlwZTogJ1BvbGxSZXNwb25zZURhdGEnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5Qb2xsUmVzcG9uc2VEYXRhID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBsYXRlc3RfYW5zd2VyczogeyB0eXBlOiAnUG9sbFZvdGVSZXNwb25zZURhdGEnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgb3duX3ZvdGVzOiB7IHR5cGU6ICdQb2xsVm90ZVJlc3BvbnNlRGF0YScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBjcmVhdGVkX2J5OiB7IHR5cGU6ICdVc2VyUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5Qb2xsVm90ZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXNlcjogeyB0eXBlOiAnVXNlcicsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlBvbGxWb3RlUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIHZvdGU6IHsgdHlwZTogJ1BvbGxWb3RlUmVzcG9uc2VEYXRhJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuUG9sbFZvdGVSZXNwb25zZURhdGEgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVzZXI6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlBvbGxWb3Rlc1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICB2b3RlczogeyB0eXBlOiAnUG9sbFZvdGVSZXNwb25zZURhdGEnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuUHVzaE5vdGlmaWNhdGlvbkZpZWxkcyA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgcHJvdmlkZXJzOiB7IHR5cGU6ICdQdXNoUHJvdmlkZXInLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuUHVzaE5vdGlmaWNhdGlvblNldHRpbmdzID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBkaXNhYmxlZF91bnRpbDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuUHVzaE5vdGlmaWNhdGlvblNldHRpbmdzUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGRpc2FibGVkX3VudGlsOiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5QdXNoUHJvdmlkZXIgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGRpc2FibGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5QdXNoUHJvdmlkZXJSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgZGlzYWJsZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlF1ZXJ5QmFubmVkVXNlcnNSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgYmFuczogeyB0eXBlOiAnQmFuUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuUXVlcnlDYWxsTWVtYmVyc1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBtZW1iZXJzOiB7IHR5cGU6ICdNZW1iZXJSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5RdWVyeUNhbGxTdGF0c1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICByZXBvcnRzOiB7IHR5cGU6ICdDYWxsU3RhdHNSZXBvcnRTdW1tYXJ5UmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuUXVlcnlDYWxsc1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjYWxsczogeyB0eXBlOiAnQ2FsbFN0YXRlUmVzcG9uc2VGaWVsZHMnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuUXVlcnlDYW1wYWlnbnNSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY2FtcGFpZ25zOiB7IHR5cGU6ICdDYW1wYWlnblJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlF1ZXJ5Q2hhbm5lbHNSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY2hhbm5lbHM6IHsgdHlwZTogJ0NoYW5uZWxTdGF0ZVJlc3BvbnNlRmllbGRzJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlF1ZXJ5RmVlZE1vZGVyYXRpb25UZW1wbGF0ZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuUXVlcnlGZWVkTW9kZXJhdGlvblRlbXBsYXRlc1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICB0ZW1wbGF0ZXM6IHsgdHlwZTogJ1F1ZXJ5RmVlZE1vZGVyYXRpb25UZW1wbGF0ZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5RdWVyeU1lc3NhZ2VGbGFnc1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBmbGFnczogeyB0eXBlOiAnTWVzc2FnZUZsYWdSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5RdWVyeU1lc3NhZ2VIaXN0b3J5UmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIG1lc3NhZ2VfaGlzdG9yeTogeyB0eXBlOiAnTWVzc2FnZUhpc3RvcnlFbnRyeVJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlF1ZXJ5TW9kZXJhdGlvbkNvbmZpZ3NSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY29uZmlnczogeyB0eXBlOiAnQ29uZmlnUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuUXVlcnlNb2RlcmF0aW9uTG9nc1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBsb2dzOiB7IHR5cGU6ICdBY3Rpb25Mb2dSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5RdWVyeVBvbGxzUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIHBvbGxzOiB7IHR5cGU6ICdQb2xsUmVzcG9uc2VEYXRhJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlF1ZXJ5UmVhY3Rpb25zUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIHJlYWN0aW9uczogeyB0eXBlOiAnUmVhY3Rpb25SZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5RdWVyeVJldmlld1F1ZXVlUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGl0ZW1zOiB7IHR5cGU6ICdSZXZpZXdRdWV1ZUl0ZW1SZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5RdWVyeVNlZ21lbnRUYXJnZXRzUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIHRhcmdldHM6IHsgdHlwZTogJ1NlZ21lbnRUYXJnZXRSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5RdWVyeVNlZ21lbnRzUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIHNlZ21lbnRzOiB7IHR5cGU6ICdTZWdtZW50UmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuUXVlcnlUaHJlYWRzUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIHRocmVhZHM6IHsgdHlwZTogJ1RocmVhZFN0YXRlUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuUXVlcnlVc2FnZVN0YXRzUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGl0ZW1zOiB7IHR5cGU6ICdNb2RlcmF0aW9uVXNhZ2VTdGF0cycsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5RdWVyeVVzZXJzUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIHVzZXJzOiB7IHR5cGU6ICdGdWxsVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlJlYWN0aW9uID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1c2VyOiB7IHR5cGU6ICdVc2VyJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuUmVhY3Rpb25Hcm91cFJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBmaXJzdF9yZWFjdGlvbl9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgbGFzdF9yZWFjdGlvbl9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuUmVhY3Rpb25SZW1vdmFsUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIG1lc3NhZ2U6IHsgdHlwZTogJ01lc3NhZ2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICByZWFjdGlvbjogeyB0eXBlOiAnUmVhY3Rpb24nLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5SZWFjdGlvblJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1c2VyOiB7IHR5cGU6ICdVc2VyUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5SZWFjdGl2YXRlVXNlclJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICB1c2VyOiB7IHR5cGU6ICdVc2VyUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5SZWFkU3RhdGVSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgbGFzdF9yZWFkOiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1c2VyOiB7IHR5cGU6ICdVc2VyUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5SZXZpZXdRdWV1ZUl0ZW0gPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGFjdGlvbnM6IHsgdHlwZTogJ0FjdGlvbkxvZycsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBiYW5zOiB7IHR5cGU6ICdCYW4nLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgZmxhZ3M6IHsgdHlwZTogJ0ZsYWcyJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIGNvbXBsZXRlZF9hdDogeyB0eXBlOiAnTnVsbFRpbWUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICByZXZpZXdlZF9hdDogeyB0eXBlOiAnTnVsbFRpbWUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBhc3NpZ25lZF90bzogeyB0eXBlOiAnVXNlcicsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGVudGl0eV9jcmVhdG9yOiB7IHR5cGU6ICdFbnRpdHlDcmVhdG9yJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgZmVlZHNfdjJfcmVhY3Rpb246IHsgdHlwZTogJ1JlYWN0aW9uJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgbWVzc2FnZTogeyB0eXBlOiAnTWVzc2FnZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlJldmlld1F1ZXVlSXRlbVJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBhY3Rpb25zOiB7IHR5cGU6ICdBY3Rpb25Mb2dSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBiYW5zOiB7IHR5cGU6ICdCYW4nLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgZmxhZ3M6IHsgdHlwZTogJ0ZsYWcyUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgY29tcGxldGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICByZXZpZXdlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgYXNzaWduZWRfdG86IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGVudGl0eV9jcmVhdG9yOiB7IHR5cGU6ICdFbnRpdHlDcmVhdG9yUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBmZWVkc192Ml9yZWFjdGlvbjogeyB0eXBlOiAnUmVhY3Rpb24nLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBtZXNzYWdlOiB7IHR5cGU6ICdNZXNzYWdlUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5Sb2xlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5TZWFyY2hSZXN1bHQgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIG1lc3NhZ2U6IHsgdHlwZTogJ1NlYXJjaFJlc3VsdE1lc3NhZ2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5TZWFyY2hSZXN1bHRNZXNzYWdlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBsYXRlc3RfcmVhY3Rpb25zOiB7IHR5cGU6ICdSZWFjdGlvblJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIG1lbnRpb25lZF91c2VyczogeyB0eXBlOiAnVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIG93bl9yZWFjdGlvbnM6IHsgdHlwZTogJ1JlYWN0aW9uUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgdXNlcjogeyB0eXBlOiAnVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgZGVsZXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgbWVzc2FnZV90ZXh0X3VwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHBpbl9leHBpcmVzOiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBwaW5uZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHRocmVhZF9wYXJ0aWNpcGFudHM6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBjaGFubmVsOiB7IHR5cGU6ICdDaGFubmVsUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBwaW5uZWRfYnk6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHBvbGw6IHsgdHlwZTogJ1BvbGxSZXNwb25zZURhdGEnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBxdW90ZWRfbWVzc2FnZTogeyB0eXBlOiAnTWVzc2FnZVJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcmVhY3Rpb25fZ3JvdXBzOiB7IHR5cGU6ICdSZWFjdGlvbkdyb3VwUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuU2VnbWVudCA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgZGVsZXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuU2VnbWVudFJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBkZWxldGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5TZWdtZW50VGFyZ2V0UmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlNlbmRNZXNzYWdlUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIG1lc3NhZ2U6IHsgdHlwZTogJ01lc3NhZ2VSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlNlbmRSZWFjdGlvblJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBtZXNzYWdlOiB7IHR5cGU6ICdNZXNzYWdlUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICByZWFjdGlvbjogeyB0eXBlOiAnUmVhY3Rpb25SZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlN0YXJ0Q2FtcGFpZ25SZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY2FtcGFpZ246IHsgdHlwZTogJ0NhbXBhaWduUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5TdG9wTGl2ZVJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjYWxsOiB7IHR5cGU6ICdDYWxsUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5TdWJtaXRBY3Rpb25SZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgaXRlbTogeyB0eXBlOiAnUmV2aWV3UXVldWVJdGVtJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuVGhyZWFkUGFydGljaXBhbnQgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGxhc3RfcmVhZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgbGFzdF90aHJlYWRfbWVzc2FnZV9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgbGVmdF90aHJlYWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVzZXI6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlRocmVhZFJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBkZWxldGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBsYXN0X21lc3NhZ2VfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHRocmVhZF9wYXJ0aWNpcGFudHM6IHsgdHlwZTogJ1RocmVhZFBhcnRpY2lwYW50JywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIGNoYW5uZWw6IHsgdHlwZTogJ0NoYW5uZWxSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGNyZWF0ZWRfYnk6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHBhcmVudF9tZXNzYWdlOiB7IHR5cGU6ICdNZXNzYWdlUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5UaHJlYWRTdGF0ZVJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBsYXRlc3RfcmVwbGllczogeyB0eXBlOiAnTWVzc2FnZVJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIGRlbGV0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGxhc3RfbWVzc2FnZV9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcmVhZDogeyB0eXBlOiAnUmVhZFN0YXRlUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgdGhyZWFkX3BhcnRpY2lwYW50czogeyB0eXBlOiAnVGhyZWFkUGFydGljaXBhbnQnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgY2hhbm5lbDogeyB0eXBlOiAnQ2hhbm5lbFJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgY3JlYXRlZF9ieTogeyB0eXBlOiAnVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcGFyZW50X21lc3NhZ2U6IHsgdHlwZTogJ01lc3NhZ2VSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlRydW5jYXRlQ2hhbm5lbFJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjaGFubmVsOiB7IHR5cGU6ICdDaGFubmVsUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBtZXNzYWdlOiB7IHR5cGU6ICdNZXNzYWdlUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5VbnJlYWRDb3VudHNCYXRjaFJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjb3VudHNfYnlfdXNlcjogeyB0eXBlOiAnVW5yZWFkQ291bnRzUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuVW5yZWFkQ291bnRzQ2hhbm5lbCA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgbGFzdF9yZWFkOiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5VbnJlYWRDb3VudHNSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY2hhbm5lbHM6IHsgdHlwZTogJ1VucmVhZENvdW50c0NoYW5uZWwnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgdGhyZWFkczogeyB0eXBlOiAnVW5yZWFkQ291bnRzVGhyZWFkJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlVucmVhZENvdW50c1RocmVhZCA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgbGFzdF9yZWFkOiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5VcGRhdGVDYWxsTWVtYmVyc1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBtZW1iZXJzOiB7IHR5cGU6ICdNZW1iZXJSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5VcGRhdGVDYWxsUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIG1lbWJlcnM6IHsgdHlwZTogJ01lbWJlclJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIGNhbGw6IHsgdHlwZTogJ0NhbGxSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlVwZGF0ZUNhbGxUeXBlUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlVwZGF0ZUNoYW5uZWxQYXJ0aWFsUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIG1lbWJlcnM6IHsgdHlwZTogJ0NoYW5uZWxNZW1iZXJSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBjaGFubmVsOiB7IHR5cGU6ICdDaGFubmVsUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5VcGRhdGVDaGFubmVsUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIG1lbWJlcnM6IHsgdHlwZTogJ0NoYW5uZWxNZW1iZXInLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgY2hhbm5lbDogeyB0eXBlOiAnQ2hhbm5lbFJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgbWVzc2FnZTogeyB0eXBlOiAnTWVzc2FnZVJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuVXBkYXRlQ2hhbm5lbFR5cGVSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuVXBkYXRlQ29tbWFuZFJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjb21tYW5kOiB7IHR5cGU6ICdDb21tYW5kJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuVXBkYXRlTWVtYmVyUGFydGlhbFJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjaGFubmVsX21lbWJlcjogeyB0eXBlOiAnQ2hhbm5lbE1lbWJlclJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuVXBkYXRlTWVzc2FnZVBhcnRpYWxSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgbWVzc2FnZTogeyB0eXBlOiAnTWVzc2FnZVJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuVXBkYXRlTWVzc2FnZVJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBtZXNzYWdlOiB7IHR5cGU6ICdNZXNzYWdlUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5VcGRhdGVUaHJlYWRQYXJ0aWFsUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIHRocmVhZDogeyB0eXBlOiAnVGhyZWFkUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5VcGRhdGVVc2Vyc1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICB1c2VyczogeyB0eXBlOiAnRnVsbFVzZXJSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5VcHNlcnRDb25maWdSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY29uZmlnOiB7IHR5cGU6ICdDb25maWdSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlVwc2VydE1vZGVyYXRpb25UZW1wbGF0ZVJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5VcHNlcnRQdXNoUHJvdmlkZXJSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgcHVzaF9wcm92aWRlcjogeyB0eXBlOiAnUHVzaFByb3ZpZGVyUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5Vc2VyID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBiYW5fZXhwaXJlczogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgZGVhY3RpdmF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGRlbGV0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGxhc3RfYWN0aXZlOiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBsYXN0X2VuZ2FnZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHJldm9rZV90b2tlbnNfaXNzdWVkX2JlZm9yZTogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcHVzaF9ub3RpZmljYXRpb25zOiB7IHR5cGU6ICdQdXNoTm90aWZpY2F0aW9uU2V0dGluZ3MnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5Vc2VyQmxvY2sgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlVzZXJNdXRlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBleHBpcmVzOiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB0YXJnZXQ6IHsgdHlwZTogJ1VzZXInLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1c2VyOiB7IHR5cGU6ICdVc2VyJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuVXNlck11dGVSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgZXhwaXJlczogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdGFyZ2V0OiB7IHR5cGU6ICdVc2VyUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1c2VyOiB7IHR5cGU6ICdVc2VyUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5Vc2VyUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGRldmljZXM6IHsgdHlwZTogJ0RldmljZVJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIGJhbl9leHBpcmVzOiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBkZWFjdGl2YXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgZGVsZXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgbGFzdF9hY3RpdmU6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHJldm9rZV90b2tlbnNfaXNzdWVkX2JlZm9yZTogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcHVzaF9ub3RpZmljYXRpb25zOiB7XG4gICAgICAgICAgICB0eXBlOiAnUHVzaE5vdGlmaWNhdGlvblNldHRpbmdzUmVzcG9uc2UnLFxuICAgICAgICAgICAgaXNTaW5nbGU6IHRydWUsXG4gICAgICAgIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLldTRXZlbnQgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGNoYW5uZWw6IHsgdHlwZTogJ0NoYW5uZWxSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGNyZWF0ZWRfYnk6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIG1lOiB7IHR5cGU6ICdPd25Vc2VyUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBtZW1iZXI6IHsgdHlwZTogJ0NoYW5uZWxNZW1iZXInLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBtZXNzYWdlOiB7IHR5cGU6ICdNZXNzYWdlUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBwb2xsOiB7IHR5cGU6ICdQb2xsUmVzcG9uc2VEYXRhJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcG9sbF92b3RlOiB7IHR5cGU6ICdQb2xsVm90ZVJlc3BvbnNlRGF0YScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHJlYWN0aW9uOiB7IHR5cGU6ICdSZWFjdGlvblJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdGhyZWFkOiB7IHR5cGU6ICdUaHJlYWRSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVzZXI6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLldyYXBwZWRVbnJlYWRDb3VudHNSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY2hhbm5lbHM6IHsgdHlwZTogJ1VucmVhZENvdW50c0NoYW5uZWwnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgdGhyZWFkczogeyB0eXBlOiAnVW5yZWFkQ291bnRzVGhyZWFkJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcblxuY2xhc3MgQ29tbW9uQXBpIGV4dGVuZHMgQmFzZUFwaSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuZ2V0QXBwID0gKCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi9hcHAnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAoX2EgPSBkZWNvZGVycy5HZXRBcHBsaWNhdGlvblJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnVwZGF0ZUFwcCA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX2I7XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIGFzeW5jX3VybF9lbnJpY2hfZW5hYmxlZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmFzeW5jX3VybF9lbnJpY2hfZW5hYmxlZCxcbiAgICAgICAgICAgICAgICBhdXRvX3RyYW5zbGF0aW9uX2VuYWJsZWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5hdXRvX3RyYW5zbGF0aW9uX2VuYWJsZWQsXG4gICAgICAgICAgICAgICAgYmVmb3JlX21lc3NhZ2Vfc2VuZF9ob29rX3VybDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmJlZm9yZV9tZXNzYWdlX3NlbmRfaG9va191cmwsXG4gICAgICAgICAgICAgICAgY2RuX2V4cGlyYXRpb25fc2Vjb25kczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmNkbl9leHBpcmF0aW9uX3NlY29uZHMsXG4gICAgICAgICAgICAgICAgY2hhbm5lbF9oaWRlX21lbWJlcnNfb25seTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmNoYW5uZWxfaGlkZV9tZW1iZXJzX29ubHksXG4gICAgICAgICAgICAgICAgY3VzdG9tX2FjdGlvbl9oYW5kbGVyX3VybDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmN1c3RvbV9hY3Rpb25faGFuZGxlcl91cmwsXG4gICAgICAgICAgICAgICAgZGlzYWJsZV9hdXRoX2NoZWNrczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmRpc2FibGVfYXV0aF9jaGVja3MsXG4gICAgICAgICAgICAgICAgZGlzYWJsZV9wZXJtaXNzaW9uc19jaGVja3M6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5kaXNhYmxlX3Blcm1pc3Npb25zX2NoZWNrcyxcbiAgICAgICAgICAgICAgICBlbmZvcmNlX3VuaXF1ZV91c2VybmFtZXM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5lbmZvcmNlX3VuaXF1ZV91c2VybmFtZXMsXG4gICAgICAgICAgICAgICAgZmVlZHNfbW9kZXJhdGlvbl9lbmFibGVkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuZmVlZHNfbW9kZXJhdGlvbl9lbmFibGVkLFxuICAgICAgICAgICAgICAgIGZlZWRzX3YyX3JlZ2lvbjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmZlZWRzX3YyX3JlZ2lvbixcbiAgICAgICAgICAgICAgICBpbWFnZV9tb2RlcmF0aW9uX2VuYWJsZWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5pbWFnZV9tb2RlcmF0aW9uX2VuYWJsZWQsXG4gICAgICAgICAgICAgICAgbWlncmF0ZV9wZXJtaXNzaW9uc190b192MjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm1pZ3JhdGVfcGVybWlzc2lvbnNfdG9fdjIsXG4gICAgICAgICAgICAgICAgbW9kZXJhdGlvbl9lbmFibGVkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubW9kZXJhdGlvbl9lbmFibGVkLFxuICAgICAgICAgICAgICAgIG1vZGVyYXRpb25fd2ViaG9va191cmw6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5tb2RlcmF0aW9uX3dlYmhvb2tfdXJsLFxuICAgICAgICAgICAgICAgIG11bHRpX3RlbmFudF9lbmFibGVkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubXVsdGlfdGVuYW50X2VuYWJsZWQsXG4gICAgICAgICAgICAgICAgcGVybWlzc2lvbl92ZXJzaW9uOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QucGVybWlzc2lvbl92ZXJzaW9uLFxuICAgICAgICAgICAgICAgIHJlbWluZGVyc19pbnRlcnZhbDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnJlbWluZGVyc19pbnRlcnZhbCxcbiAgICAgICAgICAgICAgICByZW1pbmRlcnNfbWF4X21lbWJlcnM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5yZW1pbmRlcnNfbWF4X21lbWJlcnMsXG4gICAgICAgICAgICAgICAgcmV2b2tlX3Rva2Vuc19pc3N1ZWRfYmVmb3JlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QucmV2b2tlX3Rva2Vuc19pc3N1ZWRfYmVmb3JlLFxuICAgICAgICAgICAgICAgIHNuc19rZXk6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5zbnNfa2V5LFxuICAgICAgICAgICAgICAgIHNuc19zZWNyZXQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5zbnNfc2VjcmV0LFxuICAgICAgICAgICAgICAgIHNuc190b3BpY19hcm46IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5zbnNfdG9waWNfYXJuLFxuICAgICAgICAgICAgICAgIHNxc19rZXk6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5zcXNfa2V5LFxuICAgICAgICAgICAgICAgIHNxc19zZWNyZXQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5zcXNfc2VjcmV0LFxuICAgICAgICAgICAgICAgIHNxc191cmw6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5zcXNfdXJsLFxuICAgICAgICAgICAgICAgIHZpZGVvX3Byb3ZpZGVyOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudmlkZW9fcHJvdmlkZXIsXG4gICAgICAgICAgICAgICAgd2ViaG9va191cmw6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC53ZWJob29rX3VybCxcbiAgICAgICAgICAgICAgICBhbGxvd2VkX2ZsYWdfcmVhc29uczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmFsbG93ZWRfZmxhZ19yZWFzb25zLFxuICAgICAgICAgICAgICAgIGltYWdlX21vZGVyYXRpb25fYmxvY2tfbGFiZWxzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaW1hZ2VfbW9kZXJhdGlvbl9ibG9ja19sYWJlbHMsXG4gICAgICAgICAgICAgICAgaW1hZ2VfbW9kZXJhdGlvbl9sYWJlbHM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5pbWFnZV9tb2RlcmF0aW9uX2xhYmVscyxcbiAgICAgICAgICAgICAgICB1c2VyX3NlYXJjaF9kaXNhbGxvd2VkX3JvbGVzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcl9zZWFyY2hfZGlzYWxsb3dlZF9yb2xlcyxcbiAgICAgICAgICAgICAgICB3ZWJob29rX2V2ZW50czogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LndlYmhvb2tfZXZlbnRzLFxuICAgICAgICAgICAgICAgIGFnb3JhX29wdGlvbnM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5hZ29yYV9vcHRpb25zLFxuICAgICAgICAgICAgICAgIGFwbl9jb25maWc6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5hcG5fY29uZmlnLFxuICAgICAgICAgICAgICAgIGFzeW5jX21vZGVyYXRpb25fY29uZmlnOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuYXN5bmNfbW9kZXJhdGlvbl9jb25maWcsXG4gICAgICAgICAgICAgICAgZGF0YWRvZ19pbmZvOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuZGF0YWRvZ19pbmZvLFxuICAgICAgICAgICAgICAgIGZpbGVfdXBsb2FkX2NvbmZpZzogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmZpbGVfdXBsb2FkX2NvbmZpZyxcbiAgICAgICAgICAgICAgICBmaXJlYmFzZV9jb25maWc6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5maXJlYmFzZV9jb25maWcsXG4gICAgICAgICAgICAgICAgZ3JhbnRzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuZ3JhbnRzLFxuICAgICAgICAgICAgICAgIGhtc19vcHRpb25zOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaG1zX29wdGlvbnMsXG4gICAgICAgICAgICAgICAgaHVhd2VpX2NvbmZpZzogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lmh1YXdlaV9jb25maWcsXG4gICAgICAgICAgICAgICAgaW1hZ2VfdXBsb2FkX2NvbmZpZzogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmltYWdlX3VwbG9hZF9jb25maWcsXG4gICAgICAgICAgICAgICAgcHVzaF9jb25maWc6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5wdXNoX2NvbmZpZyxcbiAgICAgICAgICAgICAgICB4aWFvbWlfY29uZmlnOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QueGlhb21pX2NvbmZpZyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BBVENIJywgJy9hcGkvdjIvYXBwJywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF9iID0gZGVjb2RlcnMuUmVzcG9uc2UpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubGlzdEJsb2NrTGlzdHMgPSAoKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX2M7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ0dFVCcsICcvYXBpL3YyL2Jsb2NrbGlzdHMnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAoX2MgPSBkZWNvZGVycy5MaXN0QmxvY2tMaXN0UmVzcG9uc2UpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuY3JlYXRlQmxvY2tMaXN0ID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfZDtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgbmFtZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm5hbWUsXG4gICAgICAgICAgICAgICAgd29yZHM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC53b3JkcyxcbiAgICAgICAgICAgICAgICB0eXBlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudHlwZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9ibG9ja2xpc3RzJywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF9kID0gZGVjb2RlcnMuUmVzcG9uc2UpID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZC5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZGVsZXRlQmxvY2tMaXN0ID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfZTtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgbmFtZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm5hbWUsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdERUxFVEUnLCAnL2FwaS92Mi9ibG9ja2xpc3RzL3tuYW1lfScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAoX2UgPSBkZWNvZGVycy5SZXNwb25zZSkgPT09IG51bGwgfHwgX2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5nZXRCbG9ja0xpc3QgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF9mO1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBuYW1lOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubmFtZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ0dFVCcsICcvYXBpL3YyL2Jsb2NrbGlzdHMve25hbWV9JywgcGF0aFBhcmFtcywgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIChfZiA9IGRlY29kZXJzLkdldEJsb2NrTGlzdFJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfZiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2YuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnVwZGF0ZUJsb2NrTGlzdCA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX2c7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIG5hbWU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5uYW1lLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgd29yZHM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC53b3JkcyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BVVCcsICcvYXBpL3YyL2Jsb2NrbGlzdHMve25hbWV9JywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfZyA9IGRlY29kZXJzLlJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfZyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2cuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmNoZWNrUHVzaCA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX2g7XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIGFwbl90ZW1wbGF0ZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmFwbl90ZW1wbGF0ZSxcbiAgICAgICAgICAgICAgICBmaXJlYmFzZV9kYXRhX3RlbXBsYXRlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuZmlyZWJhc2VfZGF0YV90ZW1wbGF0ZSxcbiAgICAgICAgICAgICAgICBmaXJlYmFzZV90ZW1wbGF0ZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmZpcmViYXNlX3RlbXBsYXRlLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2VfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5tZXNzYWdlX2lkLFxuICAgICAgICAgICAgICAgIHB1c2hfcHJvdmlkZXJfbmFtZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnB1c2hfcHJvdmlkZXJfbmFtZSxcbiAgICAgICAgICAgICAgICBwdXNoX3Byb3ZpZGVyX3R5cGU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5wdXNoX3Byb3ZpZGVyX3R5cGUsXG4gICAgICAgICAgICAgICAgc2tpcF9kZXZpY2VzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Quc2tpcF9kZXZpY2VzLFxuICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyX2lkLFxuICAgICAgICAgICAgICAgIHVzZXI6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL2NoZWNrX3B1c2gnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoX2ggPSBkZWNvZGVycy5DaGVja1B1c2hSZXNwb25zZSkgPT09IG51bGwgfHwgX2ggPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9oLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5jaGVja1NOUyA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX2o7XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIHNuc19rZXk6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5zbnNfa2V5LFxuICAgICAgICAgICAgICAgIHNuc19zZWNyZXQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5zbnNfc2VjcmV0LFxuICAgICAgICAgICAgICAgIHNuc190b3BpY19hcm46IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5zbnNfdG9waWNfYXJuLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL2NoZWNrX3NucycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfaiA9IGRlY29kZXJzLkNoZWNrU05TUmVzcG9uc2UpID09PSBudWxsIHx8IF9qID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfai5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuY2hlY2tTUVMgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF9rO1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBzcXNfa2V5OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Quc3FzX2tleSxcbiAgICAgICAgICAgICAgICBzcXNfc2VjcmV0OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Quc3FzX3NlY3JldCxcbiAgICAgICAgICAgICAgICBzcXNfdXJsOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Quc3FzX3VybCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9jaGVja19zcXMnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoX2sgPSBkZWNvZGVycy5DaGVja1NRU1Jlc3BvbnNlKSA9PT0gbnVsbCB8fCBfayA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2suY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmRlbGV0ZURldmljZSA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX2w7XG4gICAgICAgICAgICBjb25zdCBxdWVyeVBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmlkLFxuICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyX2lkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnREVMRVRFJywgJy9hcGkvdjIvZGV2aWNlcycsIHVuZGVmaW5lZCwgcXVlcnlQYXJhbXMpO1xuICAgICAgICAgICAgKF9sID0gZGVjb2RlcnMuUmVzcG9uc2UpID09PSBudWxsIHx8IF9sID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfbC5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubGlzdERldmljZXMgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF9tO1xuICAgICAgICAgICAgY29uc3QgcXVlcnlQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXJfaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi9kZXZpY2VzJywgdW5kZWZpbmVkLCBxdWVyeVBhcmFtcyk7XG4gICAgICAgICAgICAoX20gPSBkZWNvZGVycy5MaXN0RGV2aWNlc1Jlc3BvbnNlKSA9PT0gbnVsbCB8fCBfbSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX20uY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmNyZWF0ZURldmljZSA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX287XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaWQsXG4gICAgICAgICAgICAgICAgcHVzaF9wcm92aWRlcjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnB1c2hfcHJvdmlkZXIsXG4gICAgICAgICAgICAgICAgcHVzaF9wcm92aWRlcl9uYW1lOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QucHVzaF9wcm92aWRlcl9uYW1lLFxuICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyX2lkLFxuICAgICAgICAgICAgICAgIHZvaXBfdG9rZW46IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC52b2lwX3Rva2VuLFxuICAgICAgICAgICAgICAgIHVzZXI6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL2RldmljZXMnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoX28gPSBkZWNvZGVycy5SZXNwb25zZSkgPT09IG51bGwgfHwgX28gPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9vLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5leHBvcnRVc2VycyA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX3A7XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIHVzZXJfaWRzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcl9pZHMsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvZXhwb3J0L3VzZXJzJywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF9wID0gZGVjb2RlcnMuRXhwb3J0VXNlcnNSZXNwb25zZSkgPT09IG51bGwgfHwgX3AgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9wLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5saXN0RXh0ZXJuYWxTdG9yYWdlID0gKCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF9xO1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi9leHRlcm5hbF9zdG9yYWdlJywgdW5kZWZpbmVkLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgKF9xID0gZGVjb2RlcnMuTGlzdEV4dGVybmFsU3RvcmFnZVJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfcSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3EuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmNyZWF0ZUV4dGVybmFsU3RvcmFnZSA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX3I7XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIGJ1Y2tldDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmJ1Y2tldCxcbiAgICAgICAgICAgICAgICBuYW1lOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubmFtZSxcbiAgICAgICAgICAgICAgICBzdG9yYWdlX3R5cGU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5zdG9yYWdlX3R5cGUsXG4gICAgICAgICAgICAgICAgZ2NzX2NyZWRlbnRpYWxzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuZ2NzX2NyZWRlbnRpYWxzLFxuICAgICAgICAgICAgICAgIHBhdGg6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5wYXRoLFxuICAgICAgICAgICAgICAgIGF3c19zMzogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmF3c19zMyxcbiAgICAgICAgICAgICAgICBhenVyZV9ibG9iOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuYXp1cmVfYmxvYixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9leHRlcm5hbF9zdG9yYWdlJywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF9yID0gZGVjb2RlcnMuQ3JlYXRlRXh0ZXJuYWxTdG9yYWdlUmVzcG9uc2UpID09PSBudWxsIHx8IF9yID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfci5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZGVsZXRlRXh0ZXJuYWxTdG9yYWdlID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfcztcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgbmFtZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm5hbWUsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdERUxFVEUnLCAnL2FwaS92Mi9leHRlcm5hbF9zdG9yYWdlL3tuYW1lfScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAoX3MgPSBkZWNvZGVycy5EZWxldGVFeHRlcm5hbFN0b3JhZ2VSZXNwb25zZSkgPT09IG51bGwgfHwgX3MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9zLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy51cGRhdGVFeHRlcm5hbFN0b3JhZ2UgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF90O1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBuYW1lOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubmFtZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIGJ1Y2tldDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmJ1Y2tldCxcbiAgICAgICAgICAgICAgICBzdG9yYWdlX3R5cGU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5zdG9yYWdlX3R5cGUsXG4gICAgICAgICAgICAgICAgZ2NzX2NyZWRlbnRpYWxzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuZ2NzX2NyZWRlbnRpYWxzLFxuICAgICAgICAgICAgICAgIHBhdGg6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5wYXRoLFxuICAgICAgICAgICAgICAgIGF3c19zMzogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmF3c19zMyxcbiAgICAgICAgICAgICAgICBhenVyZV9ibG9iOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuYXp1cmVfYmxvYixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BVVCcsICcvYXBpL3YyL2V4dGVybmFsX3N0b3JhZ2Uve25hbWV9JywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfdCA9IGRlY29kZXJzLlVwZGF0ZUV4dGVybmFsU3RvcmFnZVJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3QuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmNoZWNrRXh0ZXJuYWxTdG9yYWdlID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfdTtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgbmFtZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm5hbWUsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi9leHRlcm5hbF9zdG9yYWdlL3tuYW1lfS9jaGVjaycsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAoX3UgPSBkZWNvZGVycy5DaGVja0V4dGVybmFsU3RvcmFnZVJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfdSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3UuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmNyZWF0ZUd1ZXN0ID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfdjtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgdXNlcjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXIsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvZ3Vlc3QnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoX3YgPSBkZWNvZGVycy5DcmVhdGVHdWVzdFJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfdiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3YuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmNyZWF0ZUltcG9ydFVSTCA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX3c7XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIGZpbGVuYW1lOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuZmlsZW5hbWUsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvaW1wb3J0X3VybHMnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoX3cgPSBkZWNvZGVycy5DcmVhdGVJbXBvcnRVUkxSZXNwb25zZSkgPT09IG51bGwgfHwgX3cgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF93LmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5saXN0SW1wb3J0cyA9ICgpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfeDtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnR0VUJywgJy9hcGkvdjIvaW1wb3J0cycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIChfeCA9IGRlY29kZXJzLkxpc3RJbXBvcnRzUmVzcG9uc2UpID09PSBudWxsIHx8IF94ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfeC5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuY3JlYXRlSW1wb3J0ID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfeTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgbW9kZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm1vZGUsXG4gICAgICAgICAgICAgICAgcGF0aDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnBhdGgsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvaW1wb3J0cycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfeSA9IGRlY29kZXJzLkNyZWF0ZUltcG9ydFJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfeSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3kuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmdldEltcG9ydCA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX3o7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi9pbXBvcnRzL3tpZH0nLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgKF96ID0gZGVjb2RlcnMuR2V0SW1wb3J0UmVzcG9uc2UpID09PSBudWxsIHx8IF96ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfei5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZ2V0T0cgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF8wO1xuICAgICAgICAgICAgY29uc3QgcXVlcnlQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdXJsOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXJsLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnR0VUJywgJy9hcGkvdjIvb2cnLCB1bmRlZmluZWQsIHF1ZXJ5UGFyYW1zKTtcbiAgICAgICAgICAgIChfMCA9IGRlY29kZXJzLkdldE9HUmVzcG9uc2UpID09PSBudWxsIHx8IF8wID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMC5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubGlzdFBlcm1pc3Npb25zID0gKCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF8xO1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi9wZXJtaXNzaW9ucycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIChfMSA9IGRlY29kZXJzLkxpc3RQZXJtaXNzaW9uc1Jlc3BvbnNlKSA9PT0gbnVsbCB8fCBfMSA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzEuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmdldFBlcm1pc3Npb24gPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF8yO1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnR0VUJywgJy9hcGkvdjIvcGVybWlzc2lvbnMve2lkfScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAoXzIgPSBkZWNvZGVycy5HZXRDdXN0b21QZXJtaXNzaW9uUmVzcG9uc2UpID09PSBudWxsIHx8IF8yID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMi5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubGlzdFB1c2hQcm92aWRlcnMgPSAoKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzM7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ0dFVCcsICcvYXBpL3YyL3B1c2hfcHJvdmlkZXJzJywgdW5kZWZpbmVkLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgKF8zID0gZGVjb2RlcnMuTGlzdFB1c2hQcm92aWRlcnNSZXNwb25zZSkgPT09IG51bGwgfHwgXzMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8zLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy51cHNlcnRQdXNoUHJvdmlkZXIgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF80O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBwdXNoX3Byb3ZpZGVyOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QucHVzaF9wcm92aWRlcixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9wdXNoX3Byb3ZpZGVycycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfNCA9IGRlY29kZXJzLlVwc2VydFB1c2hQcm92aWRlclJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfNCA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzQuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmRlbGV0ZVB1c2hQcm92aWRlciA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzU7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC50eXBlLFxuICAgICAgICAgICAgICAgIG5hbWU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5uYW1lLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnREVMRVRFJywgJy9hcGkvdjIvcHVzaF9wcm92aWRlcnMve3R5cGV9L3tuYW1lfScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAoXzUgPSBkZWNvZGVycy5SZXNwb25zZSkgPT09IG51bGwgfHwgXzUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF81LmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5nZXRSYXRlTGltaXRzID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfNjtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHNlcnZlcl9zaWRlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Quc2VydmVyX3NpZGUsXG4gICAgICAgICAgICAgICAgYW5kcm9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmFuZHJvaWQsXG4gICAgICAgICAgICAgICAgaW9zOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaW9zLFxuICAgICAgICAgICAgICAgIHdlYjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LndlYixcbiAgICAgICAgICAgICAgICBlbmRwb2ludHM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5lbmRwb2ludHMsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi9yYXRlX2xpbWl0cycsIHVuZGVmaW5lZCwgcXVlcnlQYXJhbXMpO1xuICAgICAgICAgICAgKF82ID0gZGVjb2RlcnMuR2V0UmF0ZUxpbWl0c1Jlc3BvbnNlKSA9PT0gbnVsbCB8fCBfNiA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzYuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmxpc3RSb2xlcyA9ICgpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfNztcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnR0VUJywgJy9hcGkvdjIvcm9sZXMnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAoXzcgPSBkZWNvZGVycy5MaXN0Um9sZXNSZXNwb25zZSkgPT09IG51bGwgfHwgXzcgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF83LmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5jcmVhdGVSb2xlID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfODtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgbmFtZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm5hbWUsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvcm9sZXMnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoXzggPSBkZWNvZGVycy5DcmVhdGVSb2xlUmVzcG9uc2UpID09PSBudWxsIHx8IF84ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfOC5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZGVsZXRlUm9sZSA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzk7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIG5hbWU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5uYW1lLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnREVMRVRFJywgJy9hcGkvdjIvcm9sZXMve25hbWV9JywgcGF0aFBhcmFtcywgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIChfOSA9IGRlY29kZXJzLlJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfOSA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzkuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmdldFRhc2sgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF8xMDtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ0dFVCcsICcvYXBpL3YyL3Rhc2tzL3tpZH0nLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgKF8xMCA9IGRlY29kZXJzLkdldFRhc2tSZXNwb25zZSkgPT09IG51bGwgfHwgXzEwID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMTAuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnF1ZXJ5VXNlcnMgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF8xMTtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHBheWxvYWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5wYXlsb2FkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnR0VUJywgJy9hcGkvdjIvdXNlcnMnLCB1bmRlZmluZWQsIHF1ZXJ5UGFyYW1zKTtcbiAgICAgICAgICAgIChfMTEgPSBkZWNvZGVycy5RdWVyeVVzZXJzUmVzcG9uc2UpID09PSBudWxsIHx8IF8xMSA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzExLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy51cGRhdGVVc2Vyc1BhcnRpYWwgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF8xMjtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgdXNlcnM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VycyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BBVENIJywgJy9hcGkvdjIvdXNlcnMnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoXzEyID0gZGVjb2RlcnMuVXBkYXRlVXNlcnNSZXNwb25zZSkgPT09IG51bGwgfHwgXzEyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMTIuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnVwZGF0ZVVzZXJzID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfMTM7XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIHVzZXJzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcnMsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvdXNlcnMnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoXzEzID0gZGVjb2RlcnMuVXBkYXRlVXNlcnNSZXNwb25zZSkgPT09IG51bGwgfHwgXzEzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMTMuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmdldEJsb2NrZWRVc2VycyA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzE0O1xuICAgICAgICAgICAgY29uc3QgcXVlcnlQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXJfaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi91c2Vycy9ibG9jaycsIHVuZGVmaW5lZCwgcXVlcnlQYXJhbXMpO1xuICAgICAgICAgICAgKF8xNCA9IGRlY29kZXJzLkdldEJsb2NrZWRVc2Vyc1Jlc3BvbnNlKSA9PT0gbnVsbCB8fCBfMTQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8xNC5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuYmxvY2tVc2VycyA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzE1O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBibG9ja2VkX3VzZXJfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5ibG9ja2VkX3VzZXJfaWQsXG4gICAgICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXJfaWQsXG4gICAgICAgICAgICAgICAgdXNlcjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXIsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvdXNlcnMvYmxvY2snLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoXzE1ID0gZGVjb2RlcnMuQmxvY2tVc2Vyc1Jlc3BvbnNlKSA9PT0gbnVsbCB8fCBfMTUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8xNS5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZGVhY3RpdmF0ZVVzZXJzID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfMTY7XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIHVzZXJfaWRzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcl9pZHMsXG4gICAgICAgICAgICAgICAgY3JlYXRlZF9ieV9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmNyZWF0ZWRfYnlfaWQsXG4gICAgICAgICAgICAgICAgbWFya19jaGFubmVsc19kZWxldGVkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubWFya19jaGFubmVsc19kZWxldGVkLFxuICAgICAgICAgICAgICAgIG1hcmtfbWVzc2FnZXNfZGVsZXRlZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm1hcmtfbWVzc2FnZXNfZGVsZXRlZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi91c2Vycy9kZWFjdGl2YXRlJywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF8xNiA9IGRlY29kZXJzLkRlYWN0aXZhdGVVc2Vyc1Jlc3BvbnNlKSA9PT0gbnVsbCB8fCBfMTYgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8xNi5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZGVsZXRlVXNlcnMgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF8xNztcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgdXNlcl9pZHM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyX2lkcyxcbiAgICAgICAgICAgICAgICBjYWxsczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmNhbGxzLFxuICAgICAgICAgICAgICAgIGNvbnZlcnNhdGlvbnM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5jb252ZXJzYXRpb25zLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2VzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubWVzc2FnZXMsXG4gICAgICAgICAgICAgICAgbmV3X2NhbGxfb3duZXJfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5uZXdfY2FsbF9vd25lcl9pZCxcbiAgICAgICAgICAgICAgICBuZXdfY2hhbm5lbF9vd25lcl9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm5ld19jaGFubmVsX293bmVyX2lkLFxuICAgICAgICAgICAgICAgIHVzZXI6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL3VzZXJzL2RlbGV0ZScsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfMTcgPSBkZWNvZGVycy5EZWxldGVVc2Vyc1Jlc3BvbnNlKSA9PT0gbnVsbCB8fCBfMTcgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8xNy5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucmVhY3RpdmF0ZVVzZXJzID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfMTg7XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIHVzZXJfaWRzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcl9pZHMsXG4gICAgICAgICAgICAgICAgY3JlYXRlZF9ieV9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmNyZWF0ZWRfYnlfaWQsXG4gICAgICAgICAgICAgICAgcmVzdG9yZV9jaGFubmVsczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnJlc3RvcmVfY2hhbm5lbHMsXG4gICAgICAgICAgICAgICAgcmVzdG9yZV9tZXNzYWdlczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnJlc3RvcmVfbWVzc2FnZXMsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvdXNlcnMvcmVhY3RpdmF0ZScsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfMTggPSBkZWNvZGVycy5SZWFjdGl2YXRlVXNlcnNSZXNwb25zZSkgPT09IG51bGwgfHwgXzE4ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMTguY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnJlc3RvcmVVc2VycyA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzE5O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICB1c2VyX2lkczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXJfaWRzLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL3VzZXJzL3Jlc3RvcmUnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoXzE5ID0gZGVjb2RlcnMuUmVzcG9uc2UpID09PSBudWxsIHx8IF8xOSA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzE5LmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy51bmJsb2NrVXNlcnMgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF8yMDtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgYmxvY2tlZF91c2VyX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuYmxvY2tlZF91c2VyX2lkLFxuICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyX2lkLFxuICAgICAgICAgICAgICAgIHVzZXI6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL3VzZXJzL3VuYmxvY2snLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoXzIwID0gZGVjb2RlcnMuVW5ibG9ja1VzZXJzUmVzcG9uc2UpID09PSBudWxsIHx8IF8yMCA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzIwLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5kZWFjdGl2YXRlVXNlciA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzIxO1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcl9pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIGNyZWF0ZWRfYnlfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5jcmVhdGVkX2J5X2lkLFxuICAgICAgICAgICAgICAgIG1hcmtfbWVzc2FnZXNfZGVsZXRlZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm1hcmtfbWVzc2FnZXNfZGVsZXRlZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi91c2Vycy97dXNlcl9pZH0vZGVhY3RpdmF0ZScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoXzIxID0gZGVjb2RlcnMuRGVhY3RpdmF0ZVVzZXJSZXNwb25zZSkgPT09IG51bGwgfHwgXzIxID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMjEuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmV4cG9ydFVzZXIgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF8yMjtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXJfaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi91c2Vycy97dXNlcl9pZH0vZXhwb3J0JywgcGF0aFBhcmFtcywgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIChfMjIgPSBkZWNvZGVycy5FeHBvcnRVc2VyUmVzcG9uc2UpID09PSBudWxsIHx8IF8yMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzIyLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5yZWFjdGl2YXRlVXNlciA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzIzO1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcl9pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIGNyZWF0ZWRfYnlfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5jcmVhdGVkX2J5X2lkLFxuICAgICAgICAgICAgICAgIG5hbWU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5uYW1lLFxuICAgICAgICAgICAgICAgIHJlc3RvcmVfbWVzc2FnZXM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5yZXN0b3JlX21lc3NhZ2VzLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL3VzZXJzL3t1c2VyX2lkfS9yZWFjdGl2YXRlJywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfMjMgPSBkZWNvZGVycy5SZWFjdGl2YXRlVXNlclJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfMjMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8yMy5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5jbGFzcyBWaWRlb0FwaSBleHRlbmRzIEJhc2VBcGkge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLnF1ZXJ5Q2FsbE1lbWJlcnMgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmlkLFxuICAgICAgICAgICAgICAgIHR5cGU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC50eXBlLFxuICAgICAgICAgICAgICAgIGxpbWl0OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubGltaXQsXG4gICAgICAgICAgICAgICAgbmV4dDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm5leHQsXG4gICAgICAgICAgICAgICAgcHJldjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnByZXYsXG4gICAgICAgICAgICAgICAgc29ydDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnNvcnQsXG4gICAgICAgICAgICAgICAgZmlsdGVyX2NvbmRpdGlvbnM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5maWx0ZXJfY29uZGl0aW9ucyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi92aWRlby9jYWxsL21lbWJlcnMnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoX2EgPSBkZWNvZGVycy5RdWVyeUNhbGxNZW1iZXJzUmVzcG9uc2UpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucXVlcnlDYWxsU3RhdHMgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF9iO1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBsaW1pdDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmxpbWl0LFxuICAgICAgICAgICAgICAgIG5leHQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5uZXh0LFxuICAgICAgICAgICAgICAgIHByZXY6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5wcmV2LFxuICAgICAgICAgICAgICAgIHNvcnQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5zb3J0LFxuICAgICAgICAgICAgICAgIGZpbHRlcl9jb25kaXRpb25zOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuZmlsdGVyX2NvbmRpdGlvbnMsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvdmlkZW8vY2FsbC9zdGF0cycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfYiA9IGRlY29kZXJzLlF1ZXJ5Q2FsbFN0YXRzUmVzcG9uc2UpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZ2V0Q2FsbCA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX2M7XG4gICAgICAgICAgICBjb25zdCBxdWVyeVBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBtZW1iZXJzX2xpbWl0OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubWVtYmVyc19saW1pdCxcbiAgICAgICAgICAgICAgICByaW5nOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QucmluZyxcbiAgICAgICAgICAgICAgICBub3RpZnk6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5ub3RpZnksXG4gICAgICAgICAgICAgICAgdmlkZW86IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC52aWRlbyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC50eXBlLFxuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi92aWRlby9jYWxsL3t0eXBlfS97aWR9JywgcGF0aFBhcmFtcywgcXVlcnlQYXJhbXMpO1xuICAgICAgICAgICAgKF9jID0gZGVjb2RlcnMuR2V0Q2FsbFJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnVwZGF0ZUNhbGwgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF9kO1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudHlwZSxcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgc3RhcnRzX2F0OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Quc3RhcnRzX2F0LFxuICAgICAgICAgICAgICAgIGN1c3RvbTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmN1c3RvbSxcbiAgICAgICAgICAgICAgICBzZXR0aW5nc19vdmVycmlkZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnNldHRpbmdzX292ZXJyaWRlLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUEFUQ0gnLCAnL2FwaS92Mi92aWRlby9jYWxsL3t0eXBlfS97aWR9JywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfZCA9IGRlY29kZXJzLlVwZGF0ZUNhbGxSZXNwb25zZSkgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5nZXRPckNyZWF0ZUNhbGwgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF9lO1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudHlwZSxcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgbWVtYmVyc19saW1pdDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm1lbWJlcnNfbGltaXQsXG4gICAgICAgICAgICAgICAgbm90aWZ5OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Qubm90aWZ5LFxuICAgICAgICAgICAgICAgIHJpbmc6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5yaW5nLFxuICAgICAgICAgICAgICAgIHZpZGVvOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudmlkZW8sXG4gICAgICAgICAgICAgICAgZGF0YTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmRhdGEsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvdmlkZW8vY2FsbC97dHlwZX0ve2lkfScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoX2UgPSBkZWNvZGVycy5HZXRPckNyZWF0ZUNhbGxSZXNwb25zZSkgPT09IG51bGwgfHwgX2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5ibG9ja1VzZXIgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF9mO1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudHlwZSxcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXJfaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvdmlkZW8vY2FsbC97dHlwZX0ve2lkfS9ibG9jaycsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoX2YgPSBkZWNvZGVycy5CbG9ja1VzZXJSZXNwb25zZSkgPT09IG51bGwgfHwgX2YgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9mLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5kZWxldGVDYWxsID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfZztcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnR5cGUsXG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIGhhcmQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5oYXJkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL3ZpZGVvL2NhbGwve3R5cGV9L3tpZH0vZGVsZXRlJywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfZyA9IGRlY29kZXJzLkRlbGV0ZUNhbGxSZXNwb25zZSkgPT09IG51bGwgfHwgX2cgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9nLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zZW5kQ2FsbEV2ZW50ID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfaDtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnR5cGUsXG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyX2lkLFxuICAgICAgICAgICAgICAgIGN1c3RvbTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmN1c3RvbSxcbiAgICAgICAgICAgICAgICB1c2VyOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi92aWRlby9jYWxsL3t0eXBlfS97aWR9L2V2ZW50JywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfaCA9IGRlY29kZXJzLlNlbmRDYWxsRXZlbnRSZXNwb25zZSkgPT09IG51bGwgfHwgX2ggPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9oLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5jb2xsZWN0VXNlckZlZWRiYWNrID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfajtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnR5cGUsXG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5pZCxcbiAgICAgICAgICAgICAgICBzZXNzaW9uOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Quc2Vzc2lvbixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIHJhdGluZzogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnJhdGluZyxcbiAgICAgICAgICAgICAgICBzZGs6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5zZGssXG4gICAgICAgICAgICAgICAgc2RrX3ZlcnNpb246IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5zZGtfdmVyc2lvbixcbiAgICAgICAgICAgICAgICB1c2VyX3Nlc3Npb25faWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyX3Nlc3Npb25faWQsXG4gICAgICAgICAgICAgICAgcmVhc29uOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QucmVhc29uLFxuICAgICAgICAgICAgICAgIGN1c3RvbTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmN1c3RvbSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi92aWRlby9jYWxsL3t0eXBlfS97aWR9L2ZlZWRiYWNrL3tzZXNzaW9ufScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoX2ogPSBkZWNvZGVycy5Db2xsZWN0VXNlckZlZWRiYWNrUmVzcG9uc2UpID09PSBudWxsIHx8IF9qID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfai5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZ29MaXZlID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfaztcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnR5cGUsXG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIHJlY29yZGluZ19zdG9yYWdlX25hbWU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5yZWNvcmRpbmdfc3RvcmFnZV9uYW1lLFxuICAgICAgICAgICAgICAgIHN0YXJ0X2hsczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnN0YXJ0X2hscyxcbiAgICAgICAgICAgICAgICBzdGFydF9yZWNvcmRpbmc6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5zdGFydF9yZWNvcmRpbmcsXG4gICAgICAgICAgICAgICAgc3RhcnRfcnRtcF9icm9hZGNhc3RzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Quc3RhcnRfcnRtcF9icm9hZGNhc3RzLFxuICAgICAgICAgICAgICAgIHN0YXJ0X3RyYW5zY3JpcHRpb246IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5zdGFydF90cmFuc2NyaXB0aW9uLFxuICAgICAgICAgICAgICAgIHRyYW5zY3JpcHRpb25fc3RvcmFnZV9uYW1lOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudHJhbnNjcmlwdGlvbl9zdG9yYWdlX25hbWUsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvdmlkZW8vY2FsbC97dHlwZX0ve2lkfS9nb19saXZlJywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfayA9IGRlY29kZXJzLkdvTGl2ZVJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfayA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2suY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmVuZENhbGwgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF9sO1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudHlwZSxcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL3ZpZGVvL2NhbGwve3R5cGV9L3tpZH0vbWFya19lbmRlZCcsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAoX2wgPSBkZWNvZGVycy5FbmRDYWxsUmVzcG9uc2UpID09PSBudWxsIHx8IF9sID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfbC5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudXBkYXRlQ2FsbE1lbWJlcnMgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF9tO1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudHlwZSxcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlX21lbWJlcnM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5yZW1vdmVfbWVtYmVycyxcbiAgICAgICAgICAgICAgICB1cGRhdGVfbWVtYmVyczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVwZGF0ZV9tZW1iZXJzLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL3ZpZGVvL2NhbGwve3R5cGV9L3tpZH0vbWVtYmVycycsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoX20gPSBkZWNvZGVycy5VcGRhdGVDYWxsTWVtYmVyc1Jlc3BvbnNlKSA9PT0gbnVsbCB8fCBfbSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX20uY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm11dGVVc2VycyA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX287XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC50eXBlLFxuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBhdWRpbzogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmF1ZGlvLFxuICAgICAgICAgICAgICAgIG11dGVfYWxsX3VzZXJzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubXV0ZV9hbGxfdXNlcnMsXG4gICAgICAgICAgICAgICAgbXV0ZWRfYnlfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5tdXRlZF9ieV9pZCxcbiAgICAgICAgICAgICAgICBzY3JlZW5zaGFyZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnNjcmVlbnNoYXJlLFxuICAgICAgICAgICAgICAgIHNjcmVlbnNoYXJlX2F1ZGlvOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Quc2NyZWVuc2hhcmVfYXVkaW8sXG4gICAgICAgICAgICAgICAgdmlkZW86IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC52aWRlbyxcbiAgICAgICAgICAgICAgICB1c2VyX2lkczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXJfaWRzLFxuICAgICAgICAgICAgICAgIG11dGVkX2J5OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubXV0ZWRfYnksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvdmlkZW8vY2FsbC97dHlwZX0ve2lkfS9tdXRlX3VzZXJzJywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfbyA9IGRlY29kZXJzLk11dGVVc2Vyc1Jlc3BvbnNlKSA9PT0gbnVsbCB8fCBfbyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX28uY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnZpZGVvUGluID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfcDtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnR5cGUsXG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIHNlc3Npb25faWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5zZXNzaW9uX2lkLFxuICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyX2lkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL3ZpZGVvL2NhbGwve3R5cGV9L3tpZH0vcGluJywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfcCA9IGRlY29kZXJzLlBpblJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfcCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3AuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmxpc3RSZWNvcmRpbmdzID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfcTtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnR5cGUsXG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ0dFVCcsICcvYXBpL3YyL3ZpZGVvL2NhbGwve3R5cGV9L3tpZH0vcmVjb3JkaW5ncycsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAoX3EgPSBkZWNvZGVycy5MaXN0UmVjb3JkaW5nc1Jlc3BvbnNlKSA9PT0gbnVsbCB8fCBfcSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3EuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnN0YXJ0UlRNUEJyb2FkY2FzdHMgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF9yO1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudHlwZSxcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgYnJvYWRjYXN0czogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmJyb2FkY2FzdHMsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvdmlkZW8vY2FsbC97dHlwZX0ve2lkfS9ydG1wX2Jyb2FkY2FzdHMnLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF9yID0gZGVjb2RlcnMuU3RhcnRSVE1QQnJvYWRjYXN0c1Jlc3BvbnNlKSA9PT0gbnVsbCB8fCBfciA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3IuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnN0b3BBbGxSVE1QQnJvYWRjYXN0cyA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX3M7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC50eXBlLFxuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvdmlkZW8vY2FsbC97dHlwZX0ve2lkfS9ydG1wX2Jyb2FkY2FzdHMvc3RvcCcsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAoX3MgPSBkZWNvZGVycy5TdG9wQWxsUlRNUEJyb2FkY2FzdHNSZXNwb25zZSkgPT09IG51bGwgfHwgX3MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9zLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zdG9wUlRNUEJyb2FkY2FzdCA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX3Q7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC50eXBlLFxuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaWQsXG4gICAgICAgICAgICAgICAgbmFtZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm5hbWUsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHt9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvdmlkZW8vY2FsbC97dHlwZX0ve2lkfS9ydG1wX2Jyb2FkY2FzdHMve25hbWV9L3N0b3AnLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF90ID0gZGVjb2RlcnMuU3RvcFJUTVBCcm9hZGNhc3RzUmVzcG9uc2UpID09PSBudWxsIHx8IF90ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdC5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc3RhcnRITFNCcm9hZGNhc3RpbmcgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF91O1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudHlwZSxcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL3ZpZGVvL2NhbGwve3R5cGV9L3tpZH0vc3RhcnRfYnJvYWRjYXN0aW5nJywgcGF0aFBhcmFtcywgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIChfdSA9IGRlY29kZXJzLlN0YXJ0SExTQnJvYWRjYXN0aW5nUmVzcG9uc2UpID09PSBudWxsIHx8IF91ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdS5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc3RhcnRDbG9zZWRDYXB0aW9ucyA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX3Y7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC50eXBlLFxuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvdmlkZW8vY2FsbC97dHlwZX0ve2lkfS9zdGFydF9jbG9zZWRfY2FwdGlvbnMnLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgKF92ID0gZGVjb2RlcnMuU3RhcnRDbG9zZWRDYXB0aW9uc1Jlc3BvbnNlKSA9PT0gbnVsbCB8fCBfdiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3YuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnN0YXJ0UmVjb3JkaW5nID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfdztcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnR5cGUsXG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIHJlY29yZGluZ19leHRlcm5hbF9zdG9yYWdlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QucmVjb3JkaW5nX2V4dGVybmFsX3N0b3JhZ2UsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvdmlkZW8vY2FsbC97dHlwZX0ve2lkfS9zdGFydF9yZWNvcmRpbmcnLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF93ID0gZGVjb2RlcnMuU3RhcnRSZWNvcmRpbmdSZXNwb25zZSkgPT09IG51bGwgfHwgX3cgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF93LmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zdGFydFRyYW5zY3JpcHRpb24gPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF94O1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudHlwZSxcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgdHJhbnNjcmlwdGlvbl9leHRlcm5hbF9zdG9yYWdlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudHJhbnNjcmlwdGlvbl9leHRlcm5hbF9zdG9yYWdlLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL3ZpZGVvL2NhbGwve3R5cGV9L3tpZH0vc3RhcnRfdHJhbnNjcmlwdGlvbicsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoX3ggPSBkZWNvZGVycy5TdGFydFRyYW5zY3JpcHRpb25SZXNwb25zZSkgPT09IG51bGwgfHwgX3ggPT09IHZvaWQgMCA/IHZvaWQgMCA6IF94LmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5nZXRDYWxsU3RhdHMgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF95O1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudHlwZSxcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmlkLFxuICAgICAgICAgICAgICAgIHNlc3Npb246IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5zZXNzaW9uLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnR0VUJywgJy9hcGkvdjIvdmlkZW8vY2FsbC97dHlwZX0ve2lkfS9zdGF0cy97c2Vzc2lvbn0nLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgKF95ID0gZGVjb2RlcnMuR2V0Q2FsbFN0YXRzUmVzcG9uc2UpID09PSBudWxsIHx8IF95ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfeS5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc3RvcEhMU0Jyb2FkY2FzdGluZyA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX3o7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC50eXBlLFxuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvdmlkZW8vY2FsbC97dHlwZX0ve2lkfS9zdG9wX2Jyb2FkY2FzdGluZycsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAoX3ogPSBkZWNvZGVycy5TdG9wSExTQnJvYWRjYXN0aW5nUmVzcG9uc2UpID09PSBudWxsIHx8IF96ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfei5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc3RvcENsb3NlZENhcHRpb25zID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfMDtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnR5cGUsXG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi92aWRlby9jYWxsL3t0eXBlfS97aWR9L3N0b3BfY2xvc2VkX2NhcHRpb25zJywgcGF0aFBhcmFtcywgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIChfMCA9IGRlY29kZXJzLlN0b3BDbG9zZWRDYXB0aW9uc1Jlc3BvbnNlKSA9PT0gbnVsbCB8fCBfMCA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzAuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnN0b3BMaXZlID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfMTtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnR5cGUsXG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlX2hsczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmNvbnRpbnVlX2hscyxcbiAgICAgICAgICAgICAgICBjb250aW51ZV9yZWNvcmRpbmc6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5jb250aW51ZV9yZWNvcmRpbmcsXG4gICAgICAgICAgICAgICAgY29udGludWVfcnRtcF9icm9hZGNhc3Q6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5jb250aW51ZV9ydG1wX2Jyb2FkY2FzdCxcbiAgICAgICAgICAgICAgICBjb250aW51ZV90cmFuc2NyaXB0aW9uOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuY29udGludWVfdHJhbnNjcmlwdGlvbixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi92aWRlby9jYWxsL3t0eXBlfS97aWR9L3N0b3BfbGl2ZScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoXzEgPSBkZWNvZGVycy5TdG9wTGl2ZVJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfMSA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzEuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnN0b3BSZWNvcmRpbmcgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF8yO1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudHlwZSxcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL3ZpZGVvL2NhbGwve3R5cGV9L3tpZH0vc3RvcF9yZWNvcmRpbmcnLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgKF8yID0gZGVjb2RlcnMuU3RvcFJlY29yZGluZ1Jlc3BvbnNlKSA9PT0gbnVsbCB8fCBfMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzIuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnN0b3BUcmFuc2NyaXB0aW9uID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfMztcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnR5cGUsXG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi92aWRlby9jYWxsL3t0eXBlfS97aWR9L3N0b3BfdHJhbnNjcmlwdGlvbicsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAoXzMgPSBkZWNvZGVycy5TdG9wVHJhbnNjcmlwdGlvblJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfMyA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzMuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmxpc3RUcmFuc2NyaXB0aW9ucyA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzQ7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC50eXBlLFxuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi92aWRlby9jYWxsL3t0eXBlfS97aWR9L3RyYW5zY3JpcHRpb25zJywgcGF0aFBhcmFtcywgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIChfNCA9IGRlY29kZXJzLkxpc3RUcmFuc2NyaXB0aW9uc1Jlc3BvbnNlKSA9PT0gbnVsbCB8fCBfNCA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzQuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnVuYmxvY2tVc2VyID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfNTtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnR5cGUsXG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyX2lkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL3ZpZGVvL2NhbGwve3R5cGV9L3tpZH0vdW5ibG9jaycsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoXzUgPSBkZWNvZGVycy5VbmJsb2NrVXNlclJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfNSA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzUuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnZpZGVvVW5waW4gPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF82O1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudHlwZSxcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgc2Vzc2lvbl9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnNlc3Npb25faWQsXG4gICAgICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXJfaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvdmlkZW8vY2FsbC97dHlwZX0ve2lkfS91bnBpbicsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoXzYgPSBkZWNvZGVycy5VbnBpblJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfNiA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzYuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnVwZGF0ZVVzZXJQZXJtaXNzaW9ucyA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzc7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC50eXBlLFxuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcl9pZCxcbiAgICAgICAgICAgICAgICBncmFudF9wZXJtaXNzaW9uczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmdyYW50X3Blcm1pc3Npb25zLFxuICAgICAgICAgICAgICAgIHJldm9rZV9wZXJtaXNzaW9uczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnJldm9rZV9wZXJtaXNzaW9ucyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi92aWRlby9jYWxsL3t0eXBlfS97aWR9L3VzZXJfcGVybWlzc2lvbnMnLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF83ID0gZGVjb2RlcnMuVXBkYXRlVXNlclBlcm1pc3Npb25zUmVzcG9uc2UpID09PSBudWxsIHx8IF83ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfNy5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZGVsZXRlUmVjb3JkaW5nID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfODtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnR5cGUsXG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5pZCxcbiAgICAgICAgICAgICAgICBzZXNzaW9uOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Quc2Vzc2lvbixcbiAgICAgICAgICAgICAgICBmaWxlbmFtZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmZpbGVuYW1lLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnREVMRVRFJywgJy9hcGkvdjIvdmlkZW8vY2FsbC97dHlwZX0ve2lkfS97c2Vzc2lvbn0vcmVjb3JkaW5ncy97ZmlsZW5hbWV9JywgcGF0aFBhcmFtcywgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIChfOCA9IGRlY29kZXJzLkRlbGV0ZVJlY29yZGluZ1Jlc3BvbnNlKSA9PT0gbnVsbCB8fCBfOCA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzguY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmRlbGV0ZVRyYW5zY3JpcHRpb24gPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF85O1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudHlwZSxcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmlkLFxuICAgICAgICAgICAgICAgIHNlc3Npb246IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5zZXNzaW9uLFxuICAgICAgICAgICAgICAgIGZpbGVuYW1lOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuZmlsZW5hbWUsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdERUxFVEUnLCAnL2FwaS92Mi92aWRlby9jYWxsL3t0eXBlfS97aWR9L3tzZXNzaW9ufS90cmFuc2NyaXB0aW9ucy97ZmlsZW5hbWV9JywgcGF0aFBhcmFtcywgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIChfOSA9IGRlY29kZXJzLkRlbGV0ZVRyYW5zY3JpcHRpb25SZXNwb25zZSkgPT09IG51bGwgfHwgXzkgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF85LmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5xdWVyeUNhbGxzID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfMTA7XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIGxpbWl0OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubGltaXQsXG4gICAgICAgICAgICAgICAgbmV4dDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm5leHQsXG4gICAgICAgICAgICAgICAgcHJldjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnByZXYsXG4gICAgICAgICAgICAgICAgc29ydDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnNvcnQsXG4gICAgICAgICAgICAgICAgZmlsdGVyX2NvbmRpdGlvbnM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5maWx0ZXJfY29uZGl0aW9ucyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi92aWRlby9jYWxscycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfMTAgPSBkZWNvZGVycy5RdWVyeUNhbGxzUmVzcG9uc2UpID09PSBudWxsIHx8IF8xMCA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzEwLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5saXN0Q2FsbFR5cGVzID0gKCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF8xMTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnR0VUJywgJy9hcGkvdjIvdmlkZW8vY2FsbHR5cGVzJywgdW5kZWZpbmVkLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgKF8xMSA9IGRlY29kZXJzLkxpc3RDYWxsVHlwZVJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfMTEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8xMS5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuY3JlYXRlQ2FsbFR5cGUgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF8xMjtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgbmFtZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm5hbWUsXG4gICAgICAgICAgICAgICAgZXh0ZXJuYWxfc3RvcmFnZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmV4dGVybmFsX3N0b3JhZ2UsXG4gICAgICAgICAgICAgICAgZ3JhbnRzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuZ3JhbnRzLFxuICAgICAgICAgICAgICAgIG5vdGlmaWNhdGlvbl9zZXR0aW5nczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm5vdGlmaWNhdGlvbl9zZXR0aW5ncyxcbiAgICAgICAgICAgICAgICBzZXR0aW5nczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnNldHRpbmdzLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL3ZpZGVvL2NhbGx0eXBlcycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfMTIgPSBkZWNvZGVycy5DcmVhdGVDYWxsVHlwZVJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfMTIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8xMi5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZGVsZXRlQ2FsbFR5cGUgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF8xMztcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgbmFtZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm5hbWUsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdERUxFVEUnLCAnL2FwaS92Mi92aWRlby9jYWxsdHlwZXMve25hbWV9JywgcGF0aFBhcmFtcywgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIChfMTMgPSBkZWNvZGVycy5SZXNwb25zZSkgPT09IG51bGwgfHwgXzEzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMTMuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmdldENhbGxUeXBlID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfMTQ7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIG5hbWU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5uYW1lLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnR0VUJywgJy9hcGkvdjIvdmlkZW8vY2FsbHR5cGVzL3tuYW1lfScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAoXzE0ID0gZGVjb2RlcnMuR2V0Q2FsbFR5cGVSZXNwb25zZSkgPT09IG51bGwgfHwgXzE0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMTQuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnVwZGF0ZUNhbGxUeXBlID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfMTU7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIG5hbWU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5uYW1lLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgZXh0ZXJuYWxfc3RvcmFnZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmV4dGVybmFsX3N0b3JhZ2UsXG4gICAgICAgICAgICAgICAgZ3JhbnRzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuZ3JhbnRzLFxuICAgICAgICAgICAgICAgIG5vdGlmaWNhdGlvbl9zZXR0aW5nczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm5vdGlmaWNhdGlvbl9zZXR0aW5ncyxcbiAgICAgICAgICAgICAgICBzZXR0aW5nczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnNldHRpbmdzLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUFVUJywgJy9hcGkvdjIvdmlkZW8vY2FsbHR5cGVzL3tuYW1lfScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoXzE1ID0gZGVjb2RlcnMuVXBkYXRlQ2FsbFR5cGVSZXNwb25zZSkgPT09IG51bGwgfHwgXzE1ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMTUuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmdldEVkZ2VzID0gKCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF8xNjtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnR0VUJywgJy9hcGkvdjIvdmlkZW8vZWRnZXMnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAoXzE2ID0gZGVjb2RlcnMuR2V0RWRnZXNSZXNwb25zZSkgPT09IG51bGwgfHwgXzE2ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMTYuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuY2xhc3MgQ2FsbEFwaSB7XG4gICAgY29uc3RydWN0b3IodmlkZW9BcGksIHR5cGUsIGlkKSB7XG4gICAgICAgIHRoaXMudmlkZW9BcGkgPSB2aWRlb0FwaTtcbiAgICAgICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICB0aGlzLmdldCA9IChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52aWRlb0FwaS5nZXRDYWxsKE9iamVjdC5hc3NpZ24oeyBpZDogdGhpcy5pZCwgdHlwZTogdGhpcy50eXBlIH0sIHJlcXVlc3QpKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy51cGRhdGUgPSAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmlkZW9BcGkudXBkYXRlQ2FsbChPYmplY3QuYXNzaWduKHsgaWQ6IHRoaXMuaWQsIHR5cGU6IHRoaXMudHlwZSB9LCByZXF1ZXN0KSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZ2V0T3JDcmVhdGUgPSAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmlkZW9BcGkuZ2V0T3JDcmVhdGVDYWxsKE9iamVjdC5hc3NpZ24oeyBpZDogdGhpcy5pZCwgdHlwZTogdGhpcy50eXBlIH0sIHJlcXVlc3QpKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5ibG9ja1VzZXIgPSAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmlkZW9BcGkuYmxvY2tVc2VyKE9iamVjdC5hc3NpZ24oeyBpZDogdGhpcy5pZCwgdHlwZTogdGhpcy50eXBlIH0sIHJlcXVlc3QpKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5kZWxldGUgPSAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmlkZW9BcGkuZGVsZXRlQ2FsbChPYmplY3QuYXNzaWduKHsgaWQ6IHRoaXMuaWQsIHR5cGU6IHRoaXMudHlwZSB9LCByZXF1ZXN0KSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc2VuZENhbGxFdmVudCA9IChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52aWRlb0FwaS5zZW5kQ2FsbEV2ZW50KE9iamVjdC5hc3NpZ24oeyBpZDogdGhpcy5pZCwgdHlwZTogdGhpcy50eXBlIH0sIHJlcXVlc3QpKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5jb2xsZWN0VXNlckZlZWRiYWNrID0gKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZpZGVvQXBpLmNvbGxlY3RVc2VyRmVlZGJhY2soT2JqZWN0LmFzc2lnbih7IGlkOiB0aGlzLmlkLCB0eXBlOiB0aGlzLnR5cGUgfSwgcmVxdWVzdCkpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmdvTGl2ZSA9IChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52aWRlb0FwaS5nb0xpdmUoT2JqZWN0LmFzc2lnbih7IGlkOiB0aGlzLmlkLCB0eXBlOiB0aGlzLnR5cGUgfSwgcmVxdWVzdCkpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmVuZCA9ICgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZpZGVvQXBpLmVuZENhbGwoeyBpZDogdGhpcy5pZCwgdHlwZTogdGhpcy50eXBlIH0pO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnVwZGF0ZUNhbGxNZW1iZXJzID0gKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZpZGVvQXBpLnVwZGF0ZUNhbGxNZW1iZXJzKE9iamVjdC5hc3NpZ24oeyBpZDogdGhpcy5pZCwgdHlwZTogdGhpcy50eXBlIH0sIHJlcXVlc3QpKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5tdXRlVXNlcnMgPSAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmlkZW9BcGkubXV0ZVVzZXJzKE9iamVjdC5hc3NpZ24oeyBpZDogdGhpcy5pZCwgdHlwZTogdGhpcy50eXBlIH0sIHJlcXVlc3QpKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy52aWRlb1BpbiA9IChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52aWRlb0FwaS52aWRlb1BpbihPYmplY3QuYXNzaWduKHsgaWQ6IHRoaXMuaWQsIHR5cGU6IHRoaXMudHlwZSB9LCByZXF1ZXN0KSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMubGlzdFJlY29yZGluZ3MgPSAoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52aWRlb0FwaS5saXN0UmVjb3JkaW5ncyh7IGlkOiB0aGlzLmlkLCB0eXBlOiB0aGlzLnR5cGUgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc3RhcnRSVE1QQnJvYWRjYXN0cyA9IChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52aWRlb0FwaS5zdGFydFJUTVBCcm9hZGNhc3RzKE9iamVjdC5hc3NpZ24oeyBpZDogdGhpcy5pZCwgdHlwZTogdGhpcy50eXBlIH0sIHJlcXVlc3QpKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zdG9wQWxsUlRNUEJyb2FkY2FzdHMgPSAoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52aWRlb0FwaS5zdG9wQWxsUlRNUEJyb2FkY2FzdHMoe1xuICAgICAgICAgICAgICAgIGlkOiB0aGlzLmlkLFxuICAgICAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnN0b3BSVE1QQnJvYWRjYXN0ID0gKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZpZGVvQXBpLnN0b3BSVE1QQnJvYWRjYXN0KE9iamVjdC5hc3NpZ24oeyBpZDogdGhpcy5pZCwgdHlwZTogdGhpcy50eXBlIH0sIHJlcXVlc3QpKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zdGFydEhMU0Jyb2FkY2FzdGluZyA9ICgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZpZGVvQXBpLnN0YXJ0SExTQnJvYWRjYXN0aW5nKHsgaWQ6IHRoaXMuaWQsIHR5cGU6IHRoaXMudHlwZSB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zdGFydENsb3NlZENhcHRpb25zID0gKCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmlkZW9BcGkuc3RhcnRDbG9zZWRDYXB0aW9ucyh7IGlkOiB0aGlzLmlkLCB0eXBlOiB0aGlzLnR5cGUgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc3RhcnRSZWNvcmRpbmcgPSAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmlkZW9BcGkuc3RhcnRSZWNvcmRpbmcoT2JqZWN0LmFzc2lnbih7IGlkOiB0aGlzLmlkLCB0eXBlOiB0aGlzLnR5cGUgfSwgcmVxdWVzdCkpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnN0YXJ0VHJhbnNjcmlwdGlvbiA9IChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52aWRlb0FwaS5zdGFydFRyYW5zY3JpcHRpb24oT2JqZWN0LmFzc2lnbih7IGlkOiB0aGlzLmlkLCB0eXBlOiB0aGlzLnR5cGUgfSwgcmVxdWVzdCkpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmdldENhbGxTdGF0cyA9IChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52aWRlb0FwaS5nZXRDYWxsU3RhdHMoT2JqZWN0LmFzc2lnbih7IGlkOiB0aGlzLmlkLCB0eXBlOiB0aGlzLnR5cGUgfSwgcmVxdWVzdCkpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnN0b3BITFNCcm9hZGNhc3RpbmcgPSAoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52aWRlb0FwaS5zdG9wSExTQnJvYWRjYXN0aW5nKHsgaWQ6IHRoaXMuaWQsIHR5cGU6IHRoaXMudHlwZSB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zdG9wQ2xvc2VkQ2FwdGlvbnMgPSAoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52aWRlb0FwaS5zdG9wQ2xvc2VkQ2FwdGlvbnMoeyBpZDogdGhpcy5pZCwgdHlwZTogdGhpcy50eXBlIH0pO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnN0b3BMaXZlID0gKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZpZGVvQXBpLnN0b3BMaXZlKE9iamVjdC5hc3NpZ24oeyBpZDogdGhpcy5pZCwgdHlwZTogdGhpcy50eXBlIH0sIHJlcXVlc3QpKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zdG9wUmVjb3JkaW5nID0gKCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmlkZW9BcGkuc3RvcFJlY29yZGluZyh7IGlkOiB0aGlzLmlkLCB0eXBlOiB0aGlzLnR5cGUgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc3RvcFRyYW5zY3JpcHRpb24gPSAoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52aWRlb0FwaS5zdG9wVHJhbnNjcmlwdGlvbih7IGlkOiB0aGlzLmlkLCB0eXBlOiB0aGlzLnR5cGUgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMubGlzdFRyYW5zY3JpcHRpb25zID0gKCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmlkZW9BcGkubGlzdFRyYW5zY3JpcHRpb25zKHsgaWQ6IHRoaXMuaWQsIHR5cGU6IHRoaXMudHlwZSB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy51bmJsb2NrVXNlciA9IChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52aWRlb0FwaS51bmJsb2NrVXNlcihPYmplY3QuYXNzaWduKHsgaWQ6IHRoaXMuaWQsIHR5cGU6IHRoaXMudHlwZSB9LCByZXF1ZXN0KSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMudmlkZW9VbnBpbiA9IChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52aWRlb0FwaS52aWRlb1VucGluKE9iamVjdC5hc3NpZ24oeyBpZDogdGhpcy5pZCwgdHlwZTogdGhpcy50eXBlIH0sIHJlcXVlc3QpKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy51cGRhdGVVc2VyUGVybWlzc2lvbnMgPSAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmlkZW9BcGkudXBkYXRlVXNlclBlcm1pc3Npb25zKE9iamVjdC5hc3NpZ24oeyBpZDogdGhpcy5pZCwgdHlwZTogdGhpcy50eXBlIH0sIHJlcXVlc3QpKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5kZWxldGVSZWNvcmRpbmcgPSAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmlkZW9BcGkuZGVsZXRlUmVjb3JkaW5nKE9iamVjdC5hc3NpZ24oeyBpZDogdGhpcy5pZCwgdHlwZTogdGhpcy50eXBlIH0sIHJlcXVlc3QpKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5kZWxldGVUcmFuc2NyaXB0aW9uID0gKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZpZGVvQXBpLmRlbGV0ZVRyYW5zY3JpcHRpb24oT2JqZWN0LmFzc2lnbih7IGlkOiB0aGlzLmlkLCB0eXBlOiB0aGlzLnR5cGUgfSwgcmVxdWVzdCkpO1xuICAgICAgICB9O1xuICAgIH1cbn1cblxuY2xhc3MgU3RyZWFtQ2FsbCBleHRlbmRzIENhbGxBcGkge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLmNyZWF0ZSA9IHRoaXMuZ2V0T3JDcmVhdGU7XG4gICAgICAgIHRoaXMucXVlcnlNZW1iZXJzID0gKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZpZGVvQXBpLnF1ZXJ5Q2FsbE1lbWJlcnMoT2JqZWN0LmFzc2lnbih7IGlkOiB0aGlzLmlkLCB0eXBlOiB0aGlzLnR5cGUgfSwgKHJlcXVlc3QgIT09IG51bGwgJiYgcmVxdWVzdCAhPT0gdm9pZCAwID8gcmVxdWVzdCA6IHt9KSkpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBnZXQgY2lkKCkge1xuICAgICAgICByZXR1cm4gYCR7dGhpcy50eXBlfToke3RoaXMuaWR9YDtcbiAgICB9XG59XG5cbmNsYXNzIFN0cmVhbVZpZGVvQ2xpZW50IGV4dGVuZHMgVmlkZW9BcGkge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLmNhbGwgPSAodHlwZSwgaWQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgU3RyZWFtQ2FsbCh0aGlzLCB0eXBlLCBpZCk7XG4gICAgICAgIH07XG4gICAgfVxufVxuXG5jbGFzcyBDaGF0QXBpIGV4dGVuZHMgQmFzZUFwaSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMucXVlcnlDYW1wYWlnbnMgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBsaW1pdDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmxpbWl0LFxuICAgICAgICAgICAgICAgIG5leHQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5uZXh0LFxuICAgICAgICAgICAgICAgIHByZXY6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5wcmV2LFxuICAgICAgICAgICAgICAgIHNvcnQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5zb3J0LFxuICAgICAgICAgICAgICAgIGZpbHRlcjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmZpbHRlcixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9jaGF0L2NhbXBhaWducy9xdWVyeScsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfYSA9IGRlY29kZXJzLlF1ZXJ5Q2FtcGFpZ25zUmVzcG9uc2UpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZ2V0Q2FtcGFpZ24gPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF9iO1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnR0VUJywgJy9hcGkvdjIvY2hhdC9jYW1wYWlnbnMve2lkfScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAoX2IgPSBkZWNvZGVycy5HZXRDYW1wYWlnblJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnN0YXJ0Q2FtcGFpZ24gPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF9jO1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgc2NoZWR1bGVkX2ZvcjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnNjaGVkdWxlZF9mb3IsXG4gICAgICAgICAgICAgICAgc3RvcF9hdDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnN0b3BfYXQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9jYW1wYWlnbnMve2lkfS9zdGFydCcsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoX2MgPSBkZWNvZGVycy5TdGFydENhbXBhaWduUmVzcG9uc2UpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc2NoZWR1bGVDYW1wYWlnbiA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX2Q7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHt9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9jYW1wYWlnbnMve2lkfS9zdG9wJywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfZCA9IGRlY29kZXJzLkNhbXBhaWduUmVzcG9uc2UpID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZC5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucXVlcnlDaGFubmVscyA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX2U7XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIGxpbWl0OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubGltaXQsXG4gICAgICAgICAgICAgICAgbWVtYmVyX2xpbWl0OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubWVtYmVyX2xpbWl0LFxuICAgICAgICAgICAgICAgIG1lc3NhZ2VfbGltaXQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5tZXNzYWdlX2xpbWl0LFxuICAgICAgICAgICAgICAgIG9mZnNldDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm9mZnNldCxcbiAgICAgICAgICAgICAgICBzdGF0ZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnN0YXRlLFxuICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyX2lkLFxuICAgICAgICAgICAgICAgIHNvcnQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5zb3J0LFxuICAgICAgICAgICAgICAgIGZpbHRlcl9jb25kaXRpb25zOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuZmlsdGVyX2NvbmRpdGlvbnMsXG4gICAgICAgICAgICAgICAgdXNlcjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXIsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9jaGFubmVscycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfZSA9IGRlY29kZXJzLlF1ZXJ5Q2hhbm5lbHNSZXNwb25zZSkgPT09IG51bGwgfHwgX2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5kZWxldGVDaGFubmVscyA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX2Y7XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIGNpZHM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5jaWRzLFxuICAgICAgICAgICAgICAgIGhhcmRfZGVsZXRlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaGFyZF9kZWxldGUsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9jaGFubmVscy9kZWxldGUnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoX2YgPSBkZWNvZGVycy5EZWxldGVDaGFubmVsc1Jlc3BvbnNlKSA9PT0gbnVsbCB8fCBfZiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2YuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm1hcmtDaGFubmVsc1JlYWQgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF9nO1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcl9pZCxcbiAgICAgICAgICAgICAgICByZWFkX2J5X2NoYW5uZWw6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5yZWFkX2J5X2NoYW5uZWwsXG4gICAgICAgICAgICAgICAgdXNlcjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXIsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9jaGFubmVscy9yZWFkJywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF9nID0gZGVjb2RlcnMuTWFya1JlYWRSZXNwb25zZSkgPT09IG51bGwgfHwgX2cgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9nLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5nZXRPckNyZWF0ZURpc3RpbmN0Q2hhbm5lbCA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX2g7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC50eXBlLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgaGlkZV9mb3JfY3JlYXRvcjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmhpZGVfZm9yX2NyZWF0b3IsXG4gICAgICAgICAgICAgICAgc3RhdGU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5zdGF0ZSxcbiAgICAgICAgICAgICAgICB0aHJlYWRfdW5yZWFkX2NvdW50czogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnRocmVhZF91bnJlYWRfY291bnRzLFxuICAgICAgICAgICAgICAgIGRhdGE6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5kYXRhLFxuICAgICAgICAgICAgICAgIG1lbWJlcnM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5tZW1iZXJzLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2VzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubWVzc2FnZXMsXG4gICAgICAgICAgICAgICAgd2F0Y2hlcnM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC53YXRjaGVycyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9jaGF0L2NoYW5uZWxzL3t0eXBlfS9xdWVyeScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoX2ggPSBkZWNvZGVycy5DaGFubmVsU3RhdGVSZXNwb25zZSkgPT09IG51bGwgfHwgX2ggPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9oLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5kZWxldGVDaGFubmVsID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfajtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIGhhcmRfZGVsZXRlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaGFyZF9kZWxldGUsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudHlwZSxcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnREVMRVRFJywgJy9hcGkvdjIvY2hhdC9jaGFubmVscy97dHlwZX0ve2lkfScsIHBhdGhQYXJhbXMsIHF1ZXJ5UGFyYW1zKTtcbiAgICAgICAgICAgIChfaiA9IGRlY29kZXJzLkRlbGV0ZUNoYW5uZWxSZXNwb25zZSkgPT09IG51bGwgfHwgX2ogPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9qLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy51cGRhdGVDaGFubmVsUGFydGlhbCA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX2s7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC50eXBlLFxuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcl9pZCxcbiAgICAgICAgICAgICAgICB1bnNldDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVuc2V0LFxuICAgICAgICAgICAgICAgIHNldDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnNldCxcbiAgICAgICAgICAgICAgICB1c2VyOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BBVENIJywgJy9hcGkvdjIvY2hhdC9jaGFubmVscy97dHlwZX0ve2lkfScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoX2sgPSBkZWNvZGVycy5VcGRhdGVDaGFubmVsUGFydGlhbFJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfayA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2suY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnVwZGF0ZUNoYW5uZWwgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF9sO1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudHlwZSxcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgYWNjZXB0X2ludml0ZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmFjY2VwdF9pbnZpdGUsXG4gICAgICAgICAgICAgICAgY29vbGRvd246IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5jb29sZG93bixcbiAgICAgICAgICAgICAgICBoaWRlX2hpc3Rvcnk6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5oaWRlX2hpc3RvcnksXG4gICAgICAgICAgICAgICAgcmVqZWN0X2ludml0ZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnJlamVjdF9pbnZpdGUsXG4gICAgICAgICAgICAgICAgc2tpcF9wdXNoOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Quc2tpcF9wdXNoLFxuICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyX2lkLFxuICAgICAgICAgICAgICAgIGFkZF9tZW1iZXJzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuYWRkX21lbWJlcnMsXG4gICAgICAgICAgICAgICAgYWRkX21vZGVyYXRvcnM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5hZGRfbW9kZXJhdG9ycyxcbiAgICAgICAgICAgICAgICBhc3NpZ25fcm9sZXM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5hc3NpZ25fcm9sZXMsXG4gICAgICAgICAgICAgICAgZGVtb3RlX21vZGVyYXRvcnM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5kZW1vdGVfbW9kZXJhdG9ycyxcbiAgICAgICAgICAgICAgICBpbnZpdGVzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaW52aXRlcyxcbiAgICAgICAgICAgICAgICByZW1vdmVfbWVtYmVyczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnJlbW92ZV9tZW1iZXJzLFxuICAgICAgICAgICAgICAgIGRhdGE6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5kYXRhLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5tZXNzYWdlLFxuICAgICAgICAgICAgICAgIHVzZXI6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL2NoYXQvY2hhbm5lbHMve3R5cGV9L3tpZH0nLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF9sID0gZGVjb2RlcnMuVXBkYXRlQ2hhbm5lbFJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfbCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2wuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnNlbmRFdmVudCA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX207XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC50eXBlLFxuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBldmVudDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmV2ZW50LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL2NoYXQvY2hhbm5lbHMve3R5cGV9L3tpZH0vZXZlbnQnLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF9tID0gZGVjb2RlcnMuRXZlbnRSZXNwb25zZSkgPT09IG51bGwgfHwgX20gPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9tLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5kZWxldGVGaWxlID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfbztcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHVybDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVybCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC50eXBlLFxuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdERUxFVEUnLCAnL2FwaS92Mi9jaGF0L2NoYW5uZWxzL3t0eXBlfS97aWR9L2ZpbGUnLCBwYXRoUGFyYW1zLCBxdWVyeVBhcmFtcyk7XG4gICAgICAgICAgICAoX28gPSBkZWNvZGVycy5SZXNwb25zZSkgPT09IG51bGwgfHwgX28gPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9vLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy51cGxvYWRGaWxlID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfcDtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnR5cGUsXG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIGZpbGU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5maWxlLFxuICAgICAgICAgICAgICAgIHVzZXI6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL2NoYXQvY2hhbm5lbHMve3R5cGV9L3tpZH0vZmlsZScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoX3AgPSBkZWNvZGVycy5GaWxlVXBsb2FkUmVzcG9uc2UpID09PSBudWxsIHx8IF9wID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcC5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuaGlkZUNoYW5uZWwgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF9xO1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudHlwZSxcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgY2xlYXJfaGlzdG9yeTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmNsZWFyX2hpc3RvcnksXG4gICAgICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXJfaWQsXG4gICAgICAgICAgICAgICAgdXNlcjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXIsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9jaGFubmVscy97dHlwZX0ve2lkfS9oaWRlJywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfcSA9IGRlY29kZXJzLkhpZGVDaGFubmVsUmVzcG9uc2UpID09PSBudWxsIHx8IF9xID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcS5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZGVsZXRlSW1hZ2UgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF9yO1xuICAgICAgICAgICAgY29uc3QgcXVlcnlQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdXJsOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXJsLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnR5cGUsXG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ0RFTEVURScsICcvYXBpL3YyL2NoYXQvY2hhbm5lbHMve3R5cGV9L3tpZH0vaW1hZ2UnLCBwYXRoUGFyYW1zLCBxdWVyeVBhcmFtcyk7XG4gICAgICAgICAgICAoX3IgPSBkZWNvZGVycy5SZXNwb25zZSkgPT09IG51bGwgfHwgX3IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9yLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy51cGxvYWRJbWFnZSA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX3M7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC50eXBlLFxuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBmaWxlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuZmlsZSxcbiAgICAgICAgICAgICAgICB1cGxvYWRfc2l6ZXM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51cGxvYWRfc2l6ZXMsXG4gICAgICAgICAgICAgICAgdXNlcjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXIsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9jaGFubmVscy97dHlwZX0ve2lkfS9pbWFnZScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoX3MgPSBkZWNvZGVycy5JbWFnZVVwbG9hZFJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3MuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnVwZGF0ZU1lbWJlclBhcnRpYWwgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF90O1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcl9pZCxcbiAgICAgICAgICAgICAgICB0eXBlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudHlwZSxcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgdW5zZXQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51bnNldCxcbiAgICAgICAgICAgICAgICBzZXQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5zZXQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQQVRDSCcsICcvYXBpL3YyL2NoYXQvY2hhbm5lbHMve3R5cGV9L3tpZH0vbWVtYmVyL3t1c2VyX2lkfScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoX3QgPSBkZWNvZGVycy5VcGRhdGVNZW1iZXJQYXJ0aWFsUmVzcG9uc2UpID09PSBudWxsIHx8IF90ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdC5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc2VuZE1lc3NhZ2UgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF91O1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudHlwZSxcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgZm9yY2VfbW9kZXJhdGlvbjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmZvcmNlX21vZGVyYXRpb24sXG4gICAgICAgICAgICAgICAga2VlcF9jaGFubmVsX2hpZGRlbjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmtlZXBfY2hhbm5lbF9oaWRkZW4sXG4gICAgICAgICAgICAgICAgcGVuZGluZzogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnBlbmRpbmcsXG4gICAgICAgICAgICAgICAgc2tpcF9lbnJpY2hfdXJsOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Quc2tpcF9lbnJpY2hfdXJsLFxuICAgICAgICAgICAgICAgIHNraXBfcHVzaDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnNraXBfcHVzaCxcbiAgICAgICAgICAgICAgICBwZW5kaW5nX21lc3NhZ2VfbWV0YWRhdGE6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5wZW5kaW5nX21lc3NhZ2VfbWV0YWRhdGEsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9jaGFubmVscy97dHlwZX0ve2lkfS9tZXNzYWdlJywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfdSA9IGRlY29kZXJzLlNlbmRNZXNzYWdlUmVzcG9uc2UpID09PSBudWxsIHx8IF91ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdS5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZ2V0TWFueU1lc3NhZ2VzID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfdjtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIGlkczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmlkcyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC50eXBlLFxuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi9jaGF0L2NoYW5uZWxzL3t0eXBlfS97aWR9L21lc3NhZ2VzJywgcGF0aFBhcmFtcywgcXVlcnlQYXJhbXMpO1xuICAgICAgICAgICAgKF92ID0gZGVjb2RlcnMuR2V0TWFueU1lc3NhZ2VzUmVzcG9uc2UpID09PSBudWxsIHx8IF92ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdi5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZ2V0T3JDcmVhdGVDaGFubmVsID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfdztcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnR5cGUsXG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIGhpZGVfZm9yX2NyZWF0b3I6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5oaWRlX2Zvcl9jcmVhdG9yLFxuICAgICAgICAgICAgICAgIHN0YXRlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Quc3RhdGUsXG4gICAgICAgICAgICAgICAgdGhyZWFkX3VucmVhZF9jb3VudHM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC50aHJlYWRfdW5yZWFkX2NvdW50cyxcbiAgICAgICAgICAgICAgICBkYXRhOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuZGF0YSxcbiAgICAgICAgICAgICAgICBtZW1iZXJzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubWVtYmVycyxcbiAgICAgICAgICAgICAgICBtZXNzYWdlczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm1lc3NhZ2VzLFxuICAgICAgICAgICAgICAgIHdhdGNoZXJzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Qud2F0Y2hlcnMsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9jaGFubmVscy97dHlwZX0ve2lkfS9xdWVyeScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoX3cgPSBkZWNvZGVycy5DaGFubmVsU3RhdGVSZXNwb25zZSkgPT09IG51bGwgfHwgX3cgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF93LmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5tYXJrUmVhZCA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX3g7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC50eXBlLFxuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubWVzc2FnZV9pZCxcbiAgICAgICAgICAgICAgICB0aHJlYWRfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC50aHJlYWRfaWQsXG4gICAgICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXJfaWQsXG4gICAgICAgICAgICAgICAgdXNlcjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXIsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9jaGFubmVscy97dHlwZX0ve2lkfS9yZWFkJywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfeCA9IGRlY29kZXJzLk1hcmtSZWFkUmVzcG9uc2UpID09PSBudWxsIHx8IF94ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfeC5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc2hvd0NoYW5uZWwgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF95O1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudHlwZSxcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXJfaWQsXG4gICAgICAgICAgICAgICAgdXNlcjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXIsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9jaGFubmVscy97dHlwZX0ve2lkfS9zaG93JywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfeSA9IGRlY29kZXJzLlNob3dDaGFubmVsUmVzcG9uc2UpID09PSBudWxsIHx8IF95ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfeS5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudHJ1bmNhdGVDaGFubmVsID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfejtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnR5cGUsXG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIGhhcmRfZGVsZXRlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaGFyZF9kZWxldGUsXG4gICAgICAgICAgICAgICAgc2tpcF9wdXNoOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Quc2tpcF9wdXNoLFxuICAgICAgICAgICAgICAgIHRydW5jYXRlZF9hdDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnRydW5jYXRlZF9hdCxcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcl9pZCxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubWVzc2FnZSxcbiAgICAgICAgICAgICAgICB1c2VyOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9jaGF0L2NoYW5uZWxzL3t0eXBlfS97aWR9L3RydW5jYXRlJywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfeiA9IGRlY29kZXJzLlRydW5jYXRlQ2hhbm5lbFJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfeiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3ouY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm1hcmtVbnJlYWQgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF8wO1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudHlwZSxcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZV9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm1lc3NhZ2VfaWQsXG4gICAgICAgICAgICAgICAgdGhyZWFkX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudGhyZWFkX2lkLFxuICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyX2lkLFxuICAgICAgICAgICAgICAgIHVzZXI6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL2NoYXQvY2hhbm5lbHMve3R5cGV9L3tpZH0vdW5yZWFkJywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfMCA9IGRlY29kZXJzLlJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfMCA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzAuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmxpc3RDaGFubmVsVHlwZXMgPSAoKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzE7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ0dFVCcsICcvYXBpL3YyL2NoYXQvY2hhbm5lbHR5cGVzJywgdW5kZWZpbmVkLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgKF8xID0gZGVjb2RlcnMuTGlzdENoYW5uZWxUeXBlc1Jlc3BvbnNlKSA9PT0gbnVsbCB8fCBfMSA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzEuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmNyZWF0ZUNoYW5uZWxUeXBlID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfMjtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgYXV0b21vZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmF1dG9tb2QsXG4gICAgICAgICAgICAgICAgYXV0b21vZF9iZWhhdmlvcjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmF1dG9tb2RfYmVoYXZpb3IsXG4gICAgICAgICAgICAgICAgbWF4X21lc3NhZ2VfbGVuZ3RoOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubWF4X21lc3NhZ2VfbGVuZ3RoLFxuICAgICAgICAgICAgICAgIG5hbWU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5uYW1lLFxuICAgICAgICAgICAgICAgIGJsb2NrbGlzdDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmJsb2NrbGlzdCxcbiAgICAgICAgICAgICAgICBibG9ja2xpc3RfYmVoYXZpb3I6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5ibG9ja2xpc3RfYmVoYXZpb3IsXG4gICAgICAgICAgICAgICAgY29ubmVjdF9ldmVudHM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5jb25uZWN0X2V2ZW50cyxcbiAgICAgICAgICAgICAgICBjdXN0b21fZXZlbnRzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuY3VzdG9tX2V2ZW50cyxcbiAgICAgICAgICAgICAgICBtYXJrX21lc3NhZ2VzX3BlbmRpbmc6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5tYXJrX21lc3NhZ2VzX3BlbmRpbmcsXG4gICAgICAgICAgICAgICAgbWVzc2FnZV9yZXRlbnRpb246IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5tZXNzYWdlX3JldGVudGlvbixcbiAgICAgICAgICAgICAgICBtdXRlczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm11dGVzLFxuICAgICAgICAgICAgICAgIHBhcnRpdGlvbl9zaXplOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QucGFydGl0aW9uX3NpemUsXG4gICAgICAgICAgICAgICAgcGFydGl0aW9uX3R0bDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnBhcnRpdGlvbl90dGwsXG4gICAgICAgICAgICAgICAgcG9sbHM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5wb2xscyxcbiAgICAgICAgICAgICAgICBwdXNoX25vdGlmaWNhdGlvbnM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5wdXNoX25vdGlmaWNhdGlvbnMsXG4gICAgICAgICAgICAgICAgcmVhY3Rpb25zOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QucmVhY3Rpb25zLFxuICAgICAgICAgICAgICAgIHJlYWRfZXZlbnRzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QucmVhZF9ldmVudHMsXG4gICAgICAgICAgICAgICAgcmVwbGllczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnJlcGxpZXMsXG4gICAgICAgICAgICAgICAgc2VhcmNoOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Quc2VhcmNoLFxuICAgICAgICAgICAgICAgIHNraXBfbGFzdF9tc2dfdXBkYXRlX2Zvcl9zeXN0ZW1fbXNnczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnNraXBfbGFzdF9tc2dfdXBkYXRlX2Zvcl9zeXN0ZW1fbXNncyxcbiAgICAgICAgICAgICAgICB0eXBpbmdfZXZlbnRzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudHlwaW5nX2V2ZW50cyxcbiAgICAgICAgICAgICAgICB1cGxvYWRzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXBsb2FkcyxcbiAgICAgICAgICAgICAgICB1cmxfZW5yaWNobWVudDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVybF9lbnJpY2htZW50LFxuICAgICAgICAgICAgICAgIGJsb2NrbGlzdHM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5ibG9ja2xpc3RzLFxuICAgICAgICAgICAgICAgIGNvbW1hbmRzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuY29tbWFuZHMsXG4gICAgICAgICAgICAgICAgcGVybWlzc2lvbnM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5wZXJtaXNzaW9ucyxcbiAgICAgICAgICAgICAgICBncmFudHM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5ncmFudHMsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9jaGFubmVsdHlwZXMnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoXzIgPSBkZWNvZGVycy5DcmVhdGVDaGFubmVsVHlwZVJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzIuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmRlbGV0ZUNoYW5uZWxUeXBlID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfMztcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgbmFtZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm5hbWUsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdERUxFVEUnLCAnL2FwaS92Mi9jaGF0L2NoYW5uZWx0eXBlcy97bmFtZX0nLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgKF8zID0gZGVjb2RlcnMuUmVzcG9uc2UpID09PSBudWxsIHx8IF8zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMy5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZ2V0Q2hhbm5lbFR5cGUgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF80O1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBuYW1lOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubmFtZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ0dFVCcsICcvYXBpL3YyL2NoYXQvY2hhbm5lbHR5cGVzL3tuYW1lfScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAoXzQgPSBkZWNvZGVycy5HZXRDaGFubmVsVHlwZVJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfNCA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzQuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnVwZGF0ZUNoYW5uZWxUeXBlID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfNTtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgbmFtZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm5hbWUsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBhdXRvbW9kOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuYXV0b21vZCxcbiAgICAgICAgICAgICAgICBhdXRvbW9kX2JlaGF2aW9yOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuYXV0b21vZF9iZWhhdmlvcixcbiAgICAgICAgICAgICAgICBtYXhfbWVzc2FnZV9sZW5ndGg6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5tYXhfbWVzc2FnZV9sZW5ndGgsXG4gICAgICAgICAgICAgICAgYmxvY2tsaXN0OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuYmxvY2tsaXN0LFxuICAgICAgICAgICAgICAgIGJsb2NrbGlzdF9iZWhhdmlvcjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmJsb2NrbGlzdF9iZWhhdmlvcixcbiAgICAgICAgICAgICAgICBjb25uZWN0X2V2ZW50czogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmNvbm5lY3RfZXZlbnRzLFxuICAgICAgICAgICAgICAgIGN1c3RvbV9ldmVudHM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5jdXN0b21fZXZlbnRzLFxuICAgICAgICAgICAgICAgIG1hcmtfbWVzc2FnZXNfcGVuZGluZzogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm1hcmtfbWVzc2FnZXNfcGVuZGluZyxcbiAgICAgICAgICAgICAgICBtdXRlczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm11dGVzLFxuICAgICAgICAgICAgICAgIHBhcnRpdGlvbl9zaXplOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QucGFydGl0aW9uX3NpemUsXG4gICAgICAgICAgICAgICAgcGFydGl0aW9uX3R0bDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnBhcnRpdGlvbl90dGwsXG4gICAgICAgICAgICAgICAgcG9sbHM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5wb2xscyxcbiAgICAgICAgICAgICAgICBwdXNoX25vdGlmaWNhdGlvbnM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5wdXNoX25vdGlmaWNhdGlvbnMsXG4gICAgICAgICAgICAgICAgcXVvdGVzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QucXVvdGVzLFxuICAgICAgICAgICAgICAgIHJlYWN0aW9uczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnJlYWN0aW9ucyxcbiAgICAgICAgICAgICAgICByZWFkX2V2ZW50czogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnJlYWRfZXZlbnRzLFxuICAgICAgICAgICAgICAgIHJlbWluZGVyczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnJlbWluZGVycyxcbiAgICAgICAgICAgICAgICByZXBsaWVzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QucmVwbGllcyxcbiAgICAgICAgICAgICAgICBzZWFyY2g6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5zZWFyY2gsXG4gICAgICAgICAgICAgICAgc2tpcF9sYXN0X21zZ191cGRhdGVfZm9yX3N5c3RlbV9tc2dzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Quc2tpcF9sYXN0X21zZ191cGRhdGVfZm9yX3N5c3RlbV9tc2dzLFxuICAgICAgICAgICAgICAgIHR5cGluZ19ldmVudHM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC50eXBpbmdfZXZlbnRzLFxuICAgICAgICAgICAgICAgIHVwbG9hZHM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51cGxvYWRzLFxuICAgICAgICAgICAgICAgIHVybF9lbnJpY2htZW50OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXJsX2VucmljaG1lbnQsXG4gICAgICAgICAgICAgICAgYWxsb3dlZF9mbGFnX3JlYXNvbnM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5hbGxvd2VkX2ZsYWdfcmVhc29ucyxcbiAgICAgICAgICAgICAgICBibG9ja2xpc3RzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuYmxvY2tsaXN0cyxcbiAgICAgICAgICAgICAgICBjb21tYW5kczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmNvbW1hbmRzLFxuICAgICAgICAgICAgICAgIHBlcm1pc3Npb25zOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QucGVybWlzc2lvbnMsXG4gICAgICAgICAgICAgICAgYXV0b21vZF90aHJlc2hvbGRzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuYXV0b21vZF90aHJlc2hvbGRzLFxuICAgICAgICAgICAgICAgIGdyYW50czogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmdyYW50cyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BVVCcsICcvYXBpL3YyL2NoYXQvY2hhbm5lbHR5cGVzL3tuYW1lfScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoXzUgPSBkZWNvZGVycy5VcGRhdGVDaGFubmVsVHlwZVJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfNSA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzUuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmxpc3RDb21tYW5kcyA9ICgpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfNjtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnR0VUJywgJy9hcGkvdjIvY2hhdC9jb21tYW5kcycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIChfNiA9IGRlY29kZXJzLkxpc3RDb21tYW5kc1Jlc3BvbnNlKSA9PT0gbnVsbCB8fCBfNiA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzYuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmNyZWF0ZUNvbW1hbmQgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF83O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgICAgIG5hbWU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5uYW1lLFxuICAgICAgICAgICAgICAgIGFyZ3M6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5hcmdzLFxuICAgICAgICAgICAgICAgIHNldDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnNldCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9jaGF0L2NvbW1hbmRzJywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF83ID0gZGVjb2RlcnMuQ3JlYXRlQ29tbWFuZFJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfNyA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzcuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmRlbGV0ZUNvbW1hbmQgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF84O1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBuYW1lOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubmFtZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ0RFTEVURScsICcvYXBpL3YyL2NoYXQvY29tbWFuZHMve25hbWV9JywgcGF0aFBhcmFtcywgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIChfOCA9IGRlY29kZXJzLkRlbGV0ZUNvbW1hbmRSZXNwb25zZSkgPT09IG51bGwgfHwgXzggPT09IHZvaWQgMCA/IHZvaWQgMCA6IF84LmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5nZXRDb21tYW5kID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfOTtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgbmFtZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm5hbWUsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi9jaGF0L2NvbW1hbmRzL3tuYW1lfScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAoXzkgPSBkZWNvZGVycy5HZXRDb21tYW5kUmVzcG9uc2UpID09PSBudWxsIHx8IF85ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfOS5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudXBkYXRlQ29tbWFuZCA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzEwO1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBuYW1lOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubmFtZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuZGVzY3JpcHRpb24sXG4gICAgICAgICAgICAgICAgYXJnczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmFyZ3MsXG4gICAgICAgICAgICAgICAgc2V0OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Quc2V0LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUFVUJywgJy9hcGkvdjIvY2hhdC9jb21tYW5kcy97bmFtZX0nLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF8xMCA9IGRlY29kZXJzLlVwZGF0ZUNvbW1hbmRSZXNwb25zZSkgPT09IG51bGwgfHwgXzEwID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMTAuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmV4cG9ydENoYW5uZWxzID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfMTE7XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIGNoYW5uZWxzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuY2hhbm5lbHMsXG4gICAgICAgICAgICAgICAgY2xlYXJfZGVsZXRlZF9tZXNzYWdlX3RleHQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5jbGVhcl9kZWxldGVkX21lc3NhZ2VfdGV4dCxcbiAgICAgICAgICAgICAgICBleHBvcnRfdXNlcnM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5leHBvcnRfdXNlcnMsXG4gICAgICAgICAgICAgICAgaW5jbHVkZV9zb2Z0X2RlbGV0ZWRfY2hhbm5lbHM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5pbmNsdWRlX3NvZnRfZGVsZXRlZF9jaGFubmVscyxcbiAgICAgICAgICAgICAgICBpbmNsdWRlX3RydW5jYXRlZF9tZXNzYWdlczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmluY2x1ZGVfdHJ1bmNhdGVkX21lc3NhZ2VzLFxuICAgICAgICAgICAgICAgIHZlcnNpb246IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC52ZXJzaW9uLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL2NoYXQvZXhwb3J0X2NoYW5uZWxzJywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF8xMSA9IGRlY29kZXJzLkV4cG9ydENoYW5uZWxzUmVzcG9uc2UpID09PSBudWxsIHx8IF8xMSA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzExLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5nZXRFeHBvcnRDaGFubmVsc1N0YXR1cyA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzEyO1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnR0VUJywgJy9hcGkvdjIvY2hhdC9leHBvcnRfY2hhbm5lbHMve2lkfScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAoXzEyID0gZGVjb2RlcnMuR2V0RXhwb3J0Q2hhbm5lbHNTdGF0dXNSZXNwb25zZSkgPT09IG51bGwgfHwgXzEyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMTIuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnF1ZXJ5TWVtYmVycyA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzEzO1xuICAgICAgICAgICAgY29uc3QgcXVlcnlQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgcGF5bG9hZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnBheWxvYWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi9jaGF0L21lbWJlcnMnLCB1bmRlZmluZWQsIHF1ZXJ5UGFyYW1zKTtcbiAgICAgICAgICAgIChfMTMgPSBkZWNvZGVycy5NZW1iZXJzUmVzcG9uc2UpID09PSBudWxsIHx8IF8xMyA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzEzLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5xdWVyeU1lc3NhZ2VIaXN0b3J5ID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfMTQ7XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIGZpbHRlcjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmZpbHRlcixcbiAgICAgICAgICAgICAgICBsaW1pdDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmxpbWl0LFxuICAgICAgICAgICAgICAgIG5leHQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5uZXh0LFxuICAgICAgICAgICAgICAgIHByZXY6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5wcmV2LFxuICAgICAgICAgICAgICAgIHNvcnQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5zb3J0LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL2NoYXQvbWVzc2FnZXMvaGlzdG9yeScsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfMTQgPSBkZWNvZGVycy5RdWVyeU1lc3NhZ2VIaXN0b3J5UmVzcG9uc2UpID09PSBudWxsIHx8IF8xNCA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzE0LmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5kZWxldGVNZXNzYWdlID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfMTU7XG4gICAgICAgICAgICBjb25zdCBxdWVyeVBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBoYXJkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaGFyZCxcbiAgICAgICAgICAgICAgICBkZWxldGVkX2J5OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuZGVsZXRlZF9ieSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdERUxFVEUnLCAnL2FwaS92Mi9jaGF0L21lc3NhZ2VzL3tpZH0nLCBwYXRoUGFyYW1zLCBxdWVyeVBhcmFtcyk7XG4gICAgICAgICAgICAoXzE1ID0gZGVjb2RlcnMuRGVsZXRlTWVzc2FnZVJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfMTUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8xNS5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZ2V0TWVzc2FnZSA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzE2O1xuICAgICAgICAgICAgY29uc3QgcXVlcnlQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgc2hvd19kZWxldGVkX21lc3NhZ2U6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5zaG93X2RlbGV0ZWRfbWVzc2FnZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi9jaGF0L21lc3NhZ2VzL3tpZH0nLCBwYXRoUGFyYW1zLCBxdWVyeVBhcmFtcyk7XG4gICAgICAgICAgICAoXzE2ID0gZGVjb2RlcnMuR2V0TWVzc2FnZVJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfMTYgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8xNi5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudXBkYXRlTWVzc2FnZSA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzE3O1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgc2tpcF9lbnJpY2hfdXJsOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Quc2tpcF9lbnJpY2hfdXJsLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL2NoYXQvbWVzc2FnZXMve2lkfScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoXzE3ID0gZGVjb2RlcnMuVXBkYXRlTWVzc2FnZVJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfMTcgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8xNy5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudXBkYXRlTWVzc2FnZVBhcnRpYWwgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF8xODtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIHNraXBfZW5yaWNoX3VybDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnNraXBfZW5yaWNoX3VybCxcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcl9pZCxcbiAgICAgICAgICAgICAgICB1bnNldDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVuc2V0LFxuICAgICAgICAgICAgICAgIHNldDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnNldCxcbiAgICAgICAgICAgICAgICB1c2VyOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BVVCcsICcvYXBpL3YyL2NoYXQvbWVzc2FnZXMve2lkfScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoXzE4ID0gZGVjb2RlcnMuVXBkYXRlTWVzc2FnZVBhcnRpYWxSZXNwb25zZSkgPT09IG51bGwgfHwgXzE4ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMTguY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnJ1bk1lc3NhZ2VBY3Rpb24gPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF8xOTtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIGZvcm1fZGF0YTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmZvcm1fZGF0YSxcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcl9pZCxcbiAgICAgICAgICAgICAgICB1c2VyOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9jaGF0L21lc3NhZ2VzL3tpZH0vYWN0aW9uJywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfMTkgPSBkZWNvZGVycy5NZXNzYWdlUmVzcG9uc2UpID09PSBudWxsIHx8IF8xOSA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzE5LmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5jb21taXRNZXNzYWdlID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfMjA7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHt9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9tZXNzYWdlcy97aWR9L2NvbW1pdCcsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoXzIwID0gZGVjb2RlcnMuTWVzc2FnZVJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfMjAgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8yMC5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc2VuZFJlYWN0aW9uID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfMjE7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICByZWFjdGlvbjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnJlYWN0aW9uLFxuICAgICAgICAgICAgICAgIGVuZm9yY2VfdW5pcXVlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuZW5mb3JjZV91bmlxdWUsXG4gICAgICAgICAgICAgICAgc2tpcF9wdXNoOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Quc2tpcF9wdXNoLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL2NoYXQvbWVzc2FnZXMve2lkfS9yZWFjdGlvbicsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoXzIxID0gZGVjb2RlcnMuU2VuZFJlYWN0aW9uUmVzcG9uc2UpID09PSBudWxsIHx8IF8yMSA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzIxLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5kZWxldGVSZWFjdGlvbiA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzIyO1xuICAgICAgICAgICAgY29uc3QgcXVlcnlQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXJfaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmlkLFxuICAgICAgICAgICAgICAgIHR5cGU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC50eXBlLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnREVMRVRFJywgJy9hcGkvdjIvY2hhdC9tZXNzYWdlcy97aWR9L3JlYWN0aW9uL3t0eXBlfScsIHBhdGhQYXJhbXMsIHF1ZXJ5UGFyYW1zKTtcbiAgICAgICAgICAgIChfMjIgPSBkZWNvZGVycy5SZWFjdGlvblJlbW92YWxSZXNwb25zZSkgPT09IG51bGwgfHwgXzIyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMjIuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmdldFJlYWN0aW9ucyA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzIzO1xuICAgICAgICAgICAgY29uc3QgcXVlcnlQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgbGltaXQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5saW1pdCxcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5vZmZzZXQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnR0VUJywgJy9hcGkvdjIvY2hhdC9tZXNzYWdlcy97aWR9L3JlYWN0aW9ucycsIHBhdGhQYXJhbXMsIHF1ZXJ5UGFyYW1zKTtcbiAgICAgICAgICAgIChfMjMgPSBkZWNvZGVycy5HZXRSZWFjdGlvbnNSZXNwb25zZSkgPT09IG51bGwgfHwgXzIzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMjMuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnF1ZXJ5UmVhY3Rpb25zID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfMjQ7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBsaW1pdDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmxpbWl0LFxuICAgICAgICAgICAgICAgIG5leHQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5uZXh0LFxuICAgICAgICAgICAgICAgIHByZXY6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5wcmV2LFxuICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyX2lkLFxuICAgICAgICAgICAgICAgIHNvcnQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5zb3J0LFxuICAgICAgICAgICAgICAgIGZpbHRlcjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmZpbHRlcixcbiAgICAgICAgICAgICAgICB1c2VyOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9jaGF0L21lc3NhZ2VzL3tpZH0vcmVhY3Rpb25zJywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfMjQgPSBkZWNvZGVycy5RdWVyeVJlYWN0aW9uc1Jlc3BvbnNlKSA9PT0gbnVsbCB8fCBfMjQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8yNC5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudHJhbnNsYXRlTWVzc2FnZSA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzI1O1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgbGFuZ3VhZ2U6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5sYW5ndWFnZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9jaGF0L21lc3NhZ2VzL3tpZH0vdHJhbnNsYXRlJywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfMjUgPSBkZWNvZGVycy5NZXNzYWdlUmVzcG9uc2UpID09PSBudWxsIHx8IF8yNSA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzI1LmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy51bmRlbGV0ZU1lc3NhZ2UgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF8yNjtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5tZXNzYWdlLFxuICAgICAgICAgICAgICAgIHNraXBfZW5yaWNoX3VybDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnNraXBfZW5yaWNoX3VybCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9jaGF0L21lc3NhZ2VzL3tpZH0vdW5kZWxldGUnLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF8yNiA9IGRlY29kZXJzLlVwZGF0ZU1lc3NhZ2VSZXNwb25zZSkgPT09IG51bGwgfHwgXzI2ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMjYuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmNhc3RQb2xsVm90ZSA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzI3O1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubWVzc2FnZV9pZCxcbiAgICAgICAgICAgICAgICBwb2xsX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QucG9sbF9pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyX2lkLFxuICAgICAgICAgICAgICAgIHVzZXI6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyLFxuICAgICAgICAgICAgICAgIHZvdGU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC52b3RlLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL2NoYXQvbWVzc2FnZXMve21lc3NhZ2VfaWR9L3BvbGxzL3twb2xsX2lkfS92b3RlJywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfMjcgPSBkZWNvZGVycy5Qb2xsVm90ZVJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfMjcgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8yNy5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucmVtb3ZlUG9sbFZvdGUgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF8yODtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyX2lkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZV9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm1lc3NhZ2VfaWQsXG4gICAgICAgICAgICAgICAgcG9sbF9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnBvbGxfaWQsXG4gICAgICAgICAgICAgICAgdm90ZV9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnZvdGVfaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdERUxFVEUnLCAnL2FwaS92Mi9jaGF0L21lc3NhZ2VzL3ttZXNzYWdlX2lkfS9wb2xscy97cG9sbF9pZH0vdm90ZS97dm90ZV9pZH0nLCBwYXRoUGFyYW1zLCBxdWVyeVBhcmFtcyk7XG4gICAgICAgICAgICAoXzI4ID0gZGVjb2RlcnMuUG9sbFZvdGVSZXNwb25zZSkgPT09IG51bGwgfHwgXzI4ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMjguY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmdldFJlcGxpZXMgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF8yOTtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIGxpbWl0OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubGltaXQsXG4gICAgICAgICAgICAgICAgb2Zmc2V0OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Qub2Zmc2V0LFxuICAgICAgICAgICAgICAgIGlkX2d0ZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmlkX2d0ZSxcbiAgICAgICAgICAgICAgICBpZF9ndDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmlkX2d0LFxuICAgICAgICAgICAgICAgIGlkX2x0ZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmlkX2x0ZSxcbiAgICAgICAgICAgICAgICBpZF9sdDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmlkX2x0LFxuICAgICAgICAgICAgICAgIGNyZWF0ZWRfYXRfYWZ0ZXJfb3JfZXF1YWw6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5jcmVhdGVkX2F0X2FmdGVyX29yX2VxdWFsLFxuICAgICAgICAgICAgICAgIGNyZWF0ZWRfYXRfYWZ0ZXI6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5jcmVhdGVkX2F0X2FmdGVyLFxuICAgICAgICAgICAgICAgIGNyZWF0ZWRfYXRfYmVmb3JlX29yX2VxdWFsOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuY3JlYXRlZF9hdF9iZWZvcmVfb3JfZXF1YWwsXG4gICAgICAgICAgICAgICAgY3JlYXRlZF9hdF9iZWZvcmU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5jcmVhdGVkX2F0X2JlZm9yZSxcbiAgICAgICAgICAgICAgICBpZF9hcm91bmQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5pZF9hcm91bmQsXG4gICAgICAgICAgICAgICAgY3JlYXRlZF9hdF9hcm91bmQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5jcmVhdGVkX2F0X2Fyb3VuZCxcbiAgICAgICAgICAgICAgICBzb3J0OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Quc29ydCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHBhcmVudF9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnBhcmVudF9pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ0dFVCcsICcvYXBpL3YyL2NoYXQvbWVzc2FnZXMve3BhcmVudF9pZH0vcmVwbGllcycsIHBhdGhQYXJhbXMsIHF1ZXJ5UGFyYW1zKTtcbiAgICAgICAgICAgIChfMjkgPSBkZWNvZGVycy5HZXRSZXBsaWVzUmVzcG9uc2UpID09PSBudWxsIHx8IF8yOSA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzI5LmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5xdWVyeU1lc3NhZ2VGbGFncyA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzMwO1xuICAgICAgICAgICAgY29uc3QgcXVlcnlQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgcGF5bG9hZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnBheWxvYWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi9jaGF0L21vZGVyYXRpb24vZmxhZ3MvbWVzc2FnZScsIHVuZGVmaW5lZCwgcXVlcnlQYXJhbXMpO1xuICAgICAgICAgICAgKF8zMCA9IGRlY29kZXJzLlF1ZXJ5TWVzc2FnZUZsYWdzUmVzcG9uc2UpID09PSBudWxsIHx8IF8zMCA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzMwLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5tdXRlQ2hhbm5lbCA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzMxO1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBleHBpcmF0aW9uOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuZXhwaXJhdGlvbixcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcl9pZCxcbiAgICAgICAgICAgICAgICBjaGFubmVsX2NpZHM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5jaGFubmVsX2NpZHMsXG4gICAgICAgICAgICAgICAgdXNlcjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXIsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9tb2RlcmF0aW9uL211dGUvY2hhbm5lbCcsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfMzEgPSBkZWNvZGVycy5NdXRlQ2hhbm5lbFJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfMzEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8zMS5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudW5tdXRlQ2hhbm5lbCA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzMyO1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBleHBpcmF0aW9uOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuZXhwaXJhdGlvbixcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcl9pZCxcbiAgICAgICAgICAgICAgICBjaGFubmVsX2NpZHM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5jaGFubmVsX2NpZHMsXG4gICAgICAgICAgICAgICAgdXNlcjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXIsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9tb2RlcmF0aW9uL3VubXV0ZS9jaGFubmVsJywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF8zMiA9IGRlY29kZXJzLlVubXV0ZVJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfMzIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8zMi5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuY3JlYXRlUG9sbCA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzMzO1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBuYW1lOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubmFtZSxcbiAgICAgICAgICAgICAgICBhbGxvd19hbnN3ZXJzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuYWxsb3dfYW5zd2VycyxcbiAgICAgICAgICAgICAgICBhbGxvd191c2VyX3N1Z2dlc3RlZF9vcHRpb25zOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuYWxsb3dfdXNlcl9zdWdnZXN0ZWRfb3B0aW9ucyxcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgICAgIGVuZm9yY2VfdW5pcXVlX3ZvdGU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5lbmZvcmNlX3VuaXF1ZV92b3RlLFxuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaWQsXG4gICAgICAgICAgICAgICAgaXNfY2xvc2VkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaXNfY2xvc2VkLFxuICAgICAgICAgICAgICAgIG1heF92b3Rlc19hbGxvd2VkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubWF4X3ZvdGVzX2FsbG93ZWQsXG4gICAgICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXJfaWQsXG4gICAgICAgICAgICAgICAgdm90aW5nX3Zpc2liaWxpdHk6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC52b3RpbmdfdmlzaWJpbGl0eSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Qub3B0aW9ucyxcbiAgICAgICAgICAgICAgICBjdXN0b206IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5jdXN0b20sXG4gICAgICAgICAgICAgICAgdXNlcjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXIsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9wb2xscycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfMzMgPSBkZWNvZGVycy5Qb2xsUmVzcG9uc2UpID09PSBudWxsIHx8IF8zMyA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzMzLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy51cGRhdGVQb2xsID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfMzQ7XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaWQsXG4gICAgICAgICAgICAgICAgbmFtZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm5hbWUsXG4gICAgICAgICAgICAgICAgYWxsb3dfYW5zd2VyczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmFsbG93X2Fuc3dlcnMsXG4gICAgICAgICAgICAgICAgYWxsb3dfdXNlcl9zdWdnZXN0ZWRfb3B0aW9uczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmFsbG93X3VzZXJfc3VnZ2VzdGVkX29wdGlvbnMsXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgICAgICBlbmZvcmNlX3VuaXF1ZV92b3RlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuZW5mb3JjZV91bmlxdWVfdm90ZSxcbiAgICAgICAgICAgICAgICBpc19jbG9zZWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5pc19jbG9zZWQsXG4gICAgICAgICAgICAgICAgbWF4X3ZvdGVzX2FsbG93ZWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5tYXhfdm90ZXNfYWxsb3dlZCxcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcl9pZCxcbiAgICAgICAgICAgICAgICB2b3RpbmdfdmlzaWJpbGl0eTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnZvdGluZ192aXNpYmlsaXR5LFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5vcHRpb25zLFxuICAgICAgICAgICAgICAgIGN1c3RvbTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmN1c3RvbSxcbiAgICAgICAgICAgICAgICB1c2VyOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BVVCcsICcvYXBpL3YyL2NoYXQvcG9sbHMnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoXzM0ID0gZGVjb2RlcnMuUG9sbFJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfMzQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8zNC5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucXVlcnlQb2xscyA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzM1O1xuICAgICAgICAgICAgY29uc3QgcXVlcnlQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXJfaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBsaW1pdDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmxpbWl0LFxuICAgICAgICAgICAgICAgIG5leHQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5uZXh0LFxuICAgICAgICAgICAgICAgIHByZXY6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5wcmV2LFxuICAgICAgICAgICAgICAgIHNvcnQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5zb3J0LFxuICAgICAgICAgICAgICAgIGZpbHRlcjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmZpbHRlcixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9jaGF0L3BvbGxzL3F1ZXJ5JywgdW5kZWZpbmVkLCBxdWVyeVBhcmFtcywgYm9keSk7XG4gICAgICAgICAgICAoXzM1ID0gZGVjb2RlcnMuUXVlcnlQb2xsc1Jlc3BvbnNlKSA9PT0gbnVsbCB8fCBfMzUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8zNS5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZGVsZXRlUG9sbCA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzM2O1xuICAgICAgICAgICAgY29uc3QgcXVlcnlQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXJfaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBwb2xsX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QucG9sbF9pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ0RFTEVURScsICcvYXBpL3YyL2NoYXQvcG9sbHMve3BvbGxfaWR9JywgcGF0aFBhcmFtcywgcXVlcnlQYXJhbXMpO1xuICAgICAgICAgICAgKF8zNiA9IGRlY29kZXJzLlJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfMzYgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8zNi5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZ2V0UG9sbCA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzM3O1xuICAgICAgICAgICAgY29uc3QgcXVlcnlQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXJfaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBwb2xsX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QucG9sbF9pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ0dFVCcsICcvYXBpL3YyL2NoYXQvcG9sbHMve3BvbGxfaWR9JywgcGF0aFBhcmFtcywgcXVlcnlQYXJhbXMpO1xuICAgICAgICAgICAgKF8zNyA9IGRlY29kZXJzLlBvbGxSZXNwb25zZSkgPT09IG51bGwgfHwgXzM3ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMzcuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnVwZGF0ZVBvbGxQYXJ0aWFsID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfMzg7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHBvbGxfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5wb2xsX2lkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXJfaWQsXG4gICAgICAgICAgICAgICAgdW5zZXQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51bnNldCxcbiAgICAgICAgICAgICAgICBzZXQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5zZXQsXG4gICAgICAgICAgICAgICAgdXNlcjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXIsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQQVRDSCcsICcvYXBpL3YyL2NoYXQvcG9sbHMve3BvbGxfaWR9JywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfMzggPSBkZWNvZGVycy5Qb2xsUmVzcG9uc2UpID09PSBudWxsIHx8IF8zOCA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzM4LmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5jcmVhdGVQb2xsT3B0aW9uID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfMzk7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHBvbGxfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5wb2xsX2lkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgdGV4dDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnRleHQsXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5wb3NpdGlvbixcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcl9pZCxcbiAgICAgICAgICAgICAgICBjdXN0b206IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5jdXN0b20sXG4gICAgICAgICAgICAgICAgdXNlcjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXIsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9wb2xscy97cG9sbF9pZH0vb3B0aW9ucycsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoXzM5ID0gZGVjb2RlcnMuUG9sbE9wdGlvblJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfMzkgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8zOS5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudXBkYXRlUG9sbE9wdGlvbiA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzQwO1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBwb2xsX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QucG9sbF9pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaWQsXG4gICAgICAgICAgICAgICAgdGV4dDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnRleHQsXG4gICAgICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXJfaWQsXG4gICAgICAgICAgICAgICAgY3VzdG9tOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuY3VzdG9tLFxuICAgICAgICAgICAgICAgIHVzZXI6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUFVUJywgJy9hcGkvdjIvY2hhdC9wb2xscy97cG9sbF9pZH0vb3B0aW9ucycsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoXzQwID0gZGVjb2RlcnMuUG9sbE9wdGlvblJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfNDAgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF80MC5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZGVsZXRlUG9sbE9wdGlvbiA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzQxO1xuICAgICAgICAgICAgY29uc3QgcXVlcnlQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXJfaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBwb2xsX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QucG9sbF9pZCxcbiAgICAgICAgICAgICAgICBvcHRpb25faWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5vcHRpb25faWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdERUxFVEUnLCAnL2FwaS92Mi9jaGF0L3BvbGxzL3twb2xsX2lkfS9vcHRpb25zL3tvcHRpb25faWR9JywgcGF0aFBhcmFtcywgcXVlcnlQYXJhbXMpO1xuICAgICAgICAgICAgKF80MSA9IGRlY29kZXJzLlJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfNDEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF80MS5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZ2V0UG9sbE9wdGlvbiA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzQyO1xuICAgICAgICAgICAgY29uc3QgcXVlcnlQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXJfaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBwb2xsX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QucG9sbF9pZCxcbiAgICAgICAgICAgICAgICBvcHRpb25faWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5vcHRpb25faWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi9jaGF0L3BvbGxzL3twb2xsX2lkfS9vcHRpb25zL3tvcHRpb25faWR9JywgcGF0aFBhcmFtcywgcXVlcnlQYXJhbXMpO1xuICAgICAgICAgICAgKF80MiA9IGRlY29kZXJzLlBvbGxPcHRpb25SZXNwb25zZSkgPT09IG51bGwgfHwgXzQyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfNDIuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnF1ZXJ5UG9sbFZvdGVzID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfNDM7XG4gICAgICAgICAgICBjb25zdCBxdWVyeVBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcl9pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHBvbGxfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5wb2xsX2lkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgbGltaXQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5saW1pdCxcbiAgICAgICAgICAgICAgICBuZXh0OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubmV4dCxcbiAgICAgICAgICAgICAgICBwcmV2OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QucHJldixcbiAgICAgICAgICAgICAgICBzb3J0OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Quc29ydCxcbiAgICAgICAgICAgICAgICBmaWx0ZXI6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5maWx0ZXIsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9wb2xscy97cG9sbF9pZH0vdm90ZXMnLCBwYXRoUGFyYW1zLCBxdWVyeVBhcmFtcywgYm9keSk7XG4gICAgICAgICAgICAoXzQzID0gZGVjb2RlcnMuUG9sbFZvdGVzUmVzcG9uc2UpID09PSBudWxsIHx8IF80MyA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzQzLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5xdWVyeUJhbm5lZFVzZXJzID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfNDQ7XG4gICAgICAgICAgICBjb25zdCBxdWVyeVBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBwYXlsb2FkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QucGF5bG9hZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ0dFVCcsICcvYXBpL3YyL2NoYXQvcXVlcnlfYmFubmVkX3VzZXJzJywgdW5kZWZpbmVkLCBxdWVyeVBhcmFtcyk7XG4gICAgICAgICAgICAoXzQ0ID0gZGVjb2RlcnMuUXVlcnlCYW5uZWRVc2Vyc1Jlc3BvbnNlKSA9PT0gbnVsbCB8fCBfNDQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF80NC5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc2VhcmNoID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfNDU7XG4gICAgICAgICAgICBjb25zdCBxdWVyeVBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBwYXlsb2FkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QucGF5bG9hZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ0dFVCcsICcvYXBpL3YyL2NoYXQvc2VhcmNoJywgdW5kZWZpbmVkLCBxdWVyeVBhcmFtcyk7XG4gICAgICAgICAgICAoXzQ1ID0gZGVjb2RlcnMuU2VhcmNoUmVzcG9uc2UpID09PSBudWxsIHx8IF80NSA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzQ1LmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5xdWVyeVNlZ21lbnRzID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfNDY7XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIGZpbHRlcjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmZpbHRlcixcbiAgICAgICAgICAgICAgICBsaW1pdDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmxpbWl0LFxuICAgICAgICAgICAgICAgIG5leHQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5uZXh0LFxuICAgICAgICAgICAgICAgIHByZXY6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5wcmV2LFxuICAgICAgICAgICAgICAgIHNvcnQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5zb3J0LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL2NoYXQvc2VnbWVudHMvcXVlcnknLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoXzQ2ID0gZGVjb2RlcnMuUXVlcnlTZWdtZW50c1Jlc3BvbnNlKSA9PT0gbnVsbCB8fCBfNDYgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF80Ni5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZGVsZXRlU2VnbWVudCA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzQ3O1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnREVMRVRFJywgJy9hcGkvdjIvY2hhdC9zZWdtZW50cy97aWR9JywgcGF0aFBhcmFtcywgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIChfNDcgPSBkZWNvZGVycy5SZXNwb25zZSkgPT09IG51bGwgfHwgXzQ3ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfNDcuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmdldFNlZ21lbnQgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF80ODtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ0dFVCcsICcvYXBpL3YyL2NoYXQvc2VnbWVudHMve2lkfScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAoXzQ4ID0gZGVjb2RlcnMuR2V0U2VnbWVudFJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfNDggPT09IHZvaWQgMCA/IHZvaWQgMCA6IF80OC5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZGVsZXRlU2VnbWVudFRhcmdldHMgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF80OTtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIHRhcmdldF9pZHM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC50YXJnZXRfaWRzLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL2NoYXQvc2VnbWVudHMve2lkfS9kZWxldGV0YXJnZXRzJywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfNDkgPSBkZWNvZGVycy5SZXNwb25zZSkgPT09IG51bGwgfHwgXzQ5ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfNDkuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnNlZ21lbnRUYXJnZXRFeGlzdHMgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF81MDtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5pZCxcbiAgICAgICAgICAgICAgICB0YXJnZXRfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC50YXJnZXRfaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi9jaGF0L3NlZ21lbnRzL3tpZH0vdGFyZ2V0L3t0YXJnZXRfaWR9JywgcGF0aFBhcmFtcywgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIChfNTAgPSBkZWNvZGVycy5SZXNwb25zZSkgPT09IG51bGwgfHwgXzUwID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfNTAuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnF1ZXJ5U2VnbWVudFRhcmdldHMgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF81MTtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIGxpbWl0OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubGltaXQsXG4gICAgICAgICAgICAgICAgbmV4dDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm5leHQsXG4gICAgICAgICAgICAgICAgcHJldjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnByZXYsXG4gICAgICAgICAgICAgICAgc29ydDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnNvcnQsXG4gICAgICAgICAgICAgICAgZmlsdGVyOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuZmlsdGVyLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL2NoYXQvc2VnbWVudHMve2lkfS90YXJnZXRzL3F1ZXJ5JywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfNTEgPSBkZWNvZGVycy5RdWVyeVNlZ21lbnRUYXJnZXRzUmVzcG9uc2UpID09PSBudWxsIHx8IF81MSA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzUxLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5xdWVyeVRocmVhZHMgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF81MjtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgbGltaXQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5saW1pdCxcbiAgICAgICAgICAgICAgICBtZW1iZXJfbGltaXQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5tZW1iZXJfbGltaXQsXG4gICAgICAgICAgICAgICAgbmV4dDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm5leHQsXG4gICAgICAgICAgICAgICAgcGFydGljaXBhbnRfbGltaXQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5wYXJ0aWNpcGFudF9saW1pdCxcbiAgICAgICAgICAgICAgICBwcmV2OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QucHJldixcbiAgICAgICAgICAgICAgICByZXBseV9saW1pdDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnJlcGx5X2xpbWl0LFxuICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyX2lkLFxuICAgICAgICAgICAgICAgIHVzZXI6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL2NoYXQvdGhyZWFkcycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfNTIgPSBkZWNvZGVycy5RdWVyeVRocmVhZHNSZXNwb25zZSkgPT09IG51bGwgfHwgXzUyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfNTIuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmdldFRocmVhZCA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzUzO1xuICAgICAgICAgICAgY29uc3QgcXVlcnlQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgcmVwbHlfbGltaXQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5yZXBseV9saW1pdCxcbiAgICAgICAgICAgICAgICBwYXJ0aWNpcGFudF9saW1pdDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnBhcnRpY2lwYW50X2xpbWl0LFxuICAgICAgICAgICAgICAgIG1lbWJlcl9saW1pdDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm1lbWJlcl9saW1pdCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2VfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5tZXNzYWdlX2lkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnR0VUJywgJy9hcGkvdjIvY2hhdC90aHJlYWRzL3ttZXNzYWdlX2lkfScsIHBhdGhQYXJhbXMsIHF1ZXJ5UGFyYW1zKTtcbiAgICAgICAgICAgIChfNTMgPSBkZWNvZGVycy5HZXRUaHJlYWRSZXNwb25zZSkgPT09IG51bGwgfHwgXzUzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfNTMuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnVwZGF0ZVRocmVhZFBhcnRpYWwgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF81NDtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZV9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm1lc3NhZ2VfaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcl9pZCxcbiAgICAgICAgICAgICAgICB1bnNldDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVuc2V0LFxuICAgICAgICAgICAgICAgIHNldDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnNldCxcbiAgICAgICAgICAgICAgICB1c2VyOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BBVENIJywgJy9hcGkvdjIvY2hhdC90aHJlYWRzL3ttZXNzYWdlX2lkfScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoXzU0ID0gZGVjb2RlcnMuVXBkYXRlVGhyZWFkUGFydGlhbFJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfNTQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF81NC5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudW5yZWFkQ291bnRzID0gKCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF81NTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnR0VUJywgJy9hcGkvdjIvY2hhdC91bnJlYWQnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAoXzU1ID0gZGVjb2RlcnMuV3JhcHBlZFVucmVhZENvdW50c1Jlc3BvbnNlKSA9PT0gbnVsbCB8fCBfNTUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF81NS5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudW5yZWFkQ291bnRzQmF0Y2ggPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF81NjtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgdXNlcl9pZHM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyX2lkcyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9jaGF0L3VucmVhZF9iYXRjaCcsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfNTYgPSBkZWNvZGVycy5VbnJlYWRDb3VudHNCYXRjaFJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfNTYgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF81Ni5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc2VuZFVzZXJDdXN0b21FdmVudCA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzU3O1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcl9pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIGV2ZW50OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuZXZlbnQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC91c2Vycy97dXNlcl9pZH0vZXZlbnQnLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF81NyA9IGRlY29kZXJzLlJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfNTcgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF81Ny5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5jbGFzcyBDaGFubmVsQXBpIHtcbiAgICBjb25zdHJ1Y3RvcihjaGF0QXBpLCB0eXBlLCBpZCkge1xuICAgICAgICB0aGlzLmNoYXRBcGkgPSBjaGF0QXBpO1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgICAgIHRoaXMuZGVsZXRlID0gKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5pZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2hhbm5lbCBpc24ndCB5ZXQgY3JlYXRlZCwgY2FsbCBnZXRPckNyZWF0ZURpc3RpbmN0Q2hhbm5lbCgpIGJlZm9yZSB0aGlzIG9wZXJhdGlvbmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2hhdEFwaS5kZWxldGVDaGFubmVsKE9iamVjdC5hc3NpZ24oeyBpZDogdGhpcy5pZCwgdHlwZTogdGhpcy50eXBlIH0sIHJlcXVlc3QpKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy51cGRhdGVDaGFubmVsUGFydGlhbCA9IChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuaWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENoYW5uZWwgaXNuJ3QgeWV0IGNyZWF0ZWQsIGNhbGwgZ2V0T3JDcmVhdGVEaXN0aW5jdENoYW5uZWwoKSBiZWZvcmUgdGhpcyBvcGVyYXRpb25gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNoYXRBcGkudXBkYXRlQ2hhbm5lbFBhcnRpYWwoT2JqZWN0LmFzc2lnbih7IGlkOiB0aGlzLmlkLCB0eXBlOiB0aGlzLnR5cGUgfSwgcmVxdWVzdCkpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnVwZGF0ZSA9IChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuaWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENoYW5uZWwgaXNuJ3QgeWV0IGNyZWF0ZWQsIGNhbGwgZ2V0T3JDcmVhdGVEaXN0aW5jdENoYW5uZWwoKSBiZWZvcmUgdGhpcyBvcGVyYXRpb25gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNoYXRBcGkudXBkYXRlQ2hhbm5lbChPYmplY3QuYXNzaWduKHsgaWQ6IHRoaXMuaWQsIHR5cGU6IHRoaXMudHlwZSB9LCByZXF1ZXN0KSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc2VuZEV2ZW50ID0gKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5pZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2hhbm5lbCBpc24ndCB5ZXQgY3JlYXRlZCwgY2FsbCBnZXRPckNyZWF0ZURpc3RpbmN0Q2hhbm5lbCgpIGJlZm9yZSB0aGlzIG9wZXJhdGlvbmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2hhdEFwaS5zZW5kRXZlbnQoT2JqZWN0LmFzc2lnbih7IGlkOiB0aGlzLmlkLCB0eXBlOiB0aGlzLnR5cGUgfSwgcmVxdWVzdCkpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmRlbGV0ZUZpbGUgPSAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmlkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDaGFubmVsIGlzbid0IHlldCBjcmVhdGVkLCBjYWxsIGdldE9yQ3JlYXRlRGlzdGluY3RDaGFubmVsKCkgYmVmb3JlIHRoaXMgb3BlcmF0aW9uYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jaGF0QXBpLmRlbGV0ZUZpbGUoT2JqZWN0LmFzc2lnbih7IGlkOiB0aGlzLmlkLCB0eXBlOiB0aGlzLnR5cGUgfSwgcmVxdWVzdCkpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnVwbG9hZEZpbGUgPSAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmlkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDaGFubmVsIGlzbid0IHlldCBjcmVhdGVkLCBjYWxsIGdldE9yQ3JlYXRlRGlzdGluY3RDaGFubmVsKCkgYmVmb3JlIHRoaXMgb3BlcmF0aW9uYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jaGF0QXBpLnVwbG9hZEZpbGUoT2JqZWN0LmFzc2lnbih7IGlkOiB0aGlzLmlkLCB0eXBlOiB0aGlzLnR5cGUgfSwgcmVxdWVzdCkpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmhpZGUgPSAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmlkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDaGFubmVsIGlzbid0IHlldCBjcmVhdGVkLCBjYWxsIGdldE9yQ3JlYXRlRGlzdGluY3RDaGFubmVsKCkgYmVmb3JlIHRoaXMgb3BlcmF0aW9uYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jaGF0QXBpLmhpZGVDaGFubmVsKE9iamVjdC5hc3NpZ24oeyBpZDogdGhpcy5pZCwgdHlwZTogdGhpcy50eXBlIH0sIHJlcXVlc3QpKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5kZWxldGVJbWFnZSA9IChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuaWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENoYW5uZWwgaXNuJ3QgeWV0IGNyZWF0ZWQsIGNhbGwgZ2V0T3JDcmVhdGVEaXN0aW5jdENoYW5uZWwoKSBiZWZvcmUgdGhpcyBvcGVyYXRpb25gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNoYXRBcGkuZGVsZXRlSW1hZ2UoT2JqZWN0LmFzc2lnbih7IGlkOiB0aGlzLmlkLCB0eXBlOiB0aGlzLnR5cGUgfSwgcmVxdWVzdCkpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnVwbG9hZEltYWdlID0gKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5pZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2hhbm5lbCBpc24ndCB5ZXQgY3JlYXRlZCwgY2FsbCBnZXRPckNyZWF0ZURpc3RpbmN0Q2hhbm5lbCgpIGJlZm9yZSB0aGlzIG9wZXJhdGlvbmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2hhdEFwaS51cGxvYWRJbWFnZShPYmplY3QuYXNzaWduKHsgaWQ6IHRoaXMuaWQsIHR5cGU6IHRoaXMudHlwZSB9LCByZXF1ZXN0KSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMudXBkYXRlTWVtYmVyUGFydGlhbCA9IChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuaWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENoYW5uZWwgaXNuJ3QgeWV0IGNyZWF0ZWQsIGNhbGwgZ2V0T3JDcmVhdGVEaXN0aW5jdENoYW5uZWwoKSBiZWZvcmUgdGhpcyBvcGVyYXRpb25gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNoYXRBcGkudXBkYXRlTWVtYmVyUGFydGlhbChPYmplY3QuYXNzaWduKHsgaWQ6IHRoaXMuaWQsIHR5cGU6IHRoaXMudHlwZSB9LCByZXF1ZXN0KSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc2VuZE1lc3NhZ2UgPSAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmlkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDaGFubmVsIGlzbid0IHlldCBjcmVhdGVkLCBjYWxsIGdldE9yQ3JlYXRlRGlzdGluY3RDaGFubmVsKCkgYmVmb3JlIHRoaXMgb3BlcmF0aW9uYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jaGF0QXBpLnNlbmRNZXNzYWdlKE9iamVjdC5hc3NpZ24oeyBpZDogdGhpcy5pZCwgdHlwZTogdGhpcy50eXBlIH0sIHJlcXVlc3QpKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5nZXRNYW55TWVzc2FnZXMgPSAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmlkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDaGFubmVsIGlzbid0IHlldCBjcmVhdGVkLCBjYWxsIGdldE9yQ3JlYXRlRGlzdGluY3RDaGFubmVsKCkgYmVmb3JlIHRoaXMgb3BlcmF0aW9uYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jaGF0QXBpLmdldE1hbnlNZXNzYWdlcyhPYmplY3QuYXNzaWduKHsgaWQ6IHRoaXMuaWQsIHR5cGU6IHRoaXMudHlwZSB9LCByZXF1ZXN0KSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZ2V0T3JDcmVhdGUgPSAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmlkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDaGFubmVsIGlzbid0IHlldCBjcmVhdGVkLCBjYWxsIGdldE9yQ3JlYXRlRGlzdGluY3RDaGFubmVsKCkgYmVmb3JlIHRoaXMgb3BlcmF0aW9uYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jaGF0QXBpLmdldE9yQ3JlYXRlQ2hhbm5lbChPYmplY3QuYXNzaWduKHsgaWQ6IHRoaXMuaWQsIHR5cGU6IHRoaXMudHlwZSB9LCByZXF1ZXN0KSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMubWFya1JlYWQgPSAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmlkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDaGFubmVsIGlzbid0IHlldCBjcmVhdGVkLCBjYWxsIGdldE9yQ3JlYXRlRGlzdGluY3RDaGFubmVsKCkgYmVmb3JlIHRoaXMgb3BlcmF0aW9uYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jaGF0QXBpLm1hcmtSZWFkKE9iamVjdC5hc3NpZ24oeyBpZDogdGhpcy5pZCwgdHlwZTogdGhpcy50eXBlIH0sIHJlcXVlc3QpKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zaG93ID0gKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5pZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2hhbm5lbCBpc24ndCB5ZXQgY3JlYXRlZCwgY2FsbCBnZXRPckNyZWF0ZURpc3RpbmN0Q2hhbm5lbCgpIGJlZm9yZSB0aGlzIG9wZXJhdGlvbmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2hhdEFwaS5zaG93Q2hhbm5lbChPYmplY3QuYXNzaWduKHsgaWQ6IHRoaXMuaWQsIHR5cGU6IHRoaXMudHlwZSB9LCByZXF1ZXN0KSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMudHJ1bmNhdGUgPSAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmlkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDaGFubmVsIGlzbid0IHlldCBjcmVhdGVkLCBjYWxsIGdldE9yQ3JlYXRlRGlzdGluY3RDaGFubmVsKCkgYmVmb3JlIHRoaXMgb3BlcmF0aW9uYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jaGF0QXBpLnRydW5jYXRlQ2hhbm5lbChPYmplY3QuYXNzaWduKHsgaWQ6IHRoaXMuaWQsIHR5cGU6IHRoaXMudHlwZSB9LCByZXF1ZXN0KSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMubWFya1VucmVhZCA9IChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuaWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENoYW5uZWwgaXNuJ3QgeWV0IGNyZWF0ZWQsIGNhbGwgZ2V0T3JDcmVhdGVEaXN0aW5jdENoYW5uZWwoKSBiZWZvcmUgdGhpcyBvcGVyYXRpb25gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNoYXRBcGkubWFya1VucmVhZChPYmplY3QuYXNzaWduKHsgaWQ6IHRoaXMuaWQsIHR5cGU6IHRoaXMudHlwZSB9LCByZXF1ZXN0KSk7XG4gICAgICAgIH07XG4gICAgfVxufVxuXG5jbGFzcyBTdHJlYW1DaGFubmVsIGV4dGVuZHMgQ2hhbm5lbEFwaSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuZ2V0T3JDcmVhdGUgPSAoY2hhbm5lbF9nZXRfb3JfY3JlYXRlX3JlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5pZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNoYXRBcGlcbiAgICAgICAgICAgICAgICAgICAgLmdldE9yQ3JlYXRlRGlzdGluY3RDaGFubmVsKE9iamVjdC5hc3NpZ24oeyB0eXBlOiB0aGlzLnR5cGUgfSwgY2hhbm5lbF9nZXRfb3JfY3JlYXRlX3JlcXVlc3QpKVxuICAgICAgICAgICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmlkID0gKF9hID0gcmVzcG9uc2UuY2hhbm5lbCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmlkO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jaGF0QXBpLmdldE9yQ3JlYXRlQ2hhbm5lbChPYmplY3QuYXNzaWduKHsgaWQ6IHRoaXMuaWQsIHR5cGU6IHRoaXMudHlwZSB9LCBjaGFubmVsX2dldF9vcl9jcmVhdGVfcmVxdWVzdCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbiAgICBnZXQgY2lkKCkge1xuICAgICAgICByZXR1cm4gYCR7dGhpcy50eXBlfToke3RoaXMuaWR9YDtcbiAgICB9XG4gICAgcXVlcnlNZW1iZXJzKHJlcXVlc3QpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICByZXR1cm4gdGhpcy5jaGF0QXBpLnF1ZXJ5TWVtYmVycyh7XG4gICAgICAgICAgICBwYXlsb2FkOiBPYmplY3QuYXNzaWduKHsgaWQ6IHRoaXMuaWQsIHR5cGU6IHRoaXMudHlwZSB9LCAoKF9hID0gcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnBheWxvYWQpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHsgZmlsdGVyX2NvbmRpdGlvbnM6IHt9IH0pKSxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5jbGFzcyBTdHJlYW1DaGF0Q2xpZW50IGV4dGVuZHMgQ2hhdEFwaSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuY2hhbm5lbCA9ICh0eXBlLCBpZCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBTdHJlYW1DaGFubmVsKHRoaXMsIHR5cGUsIGlkKTtcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbmNsYXNzIE1vZGVyYXRpb25BcGkgZXh0ZW5kcyBCYXNlQXBpIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5iYW4gPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICB0YXJnZXRfdXNlcl9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnRhcmdldF91c2VyX2lkLFxuICAgICAgICAgICAgICAgIGJhbm5lZF9ieV9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmJhbm5lZF9ieV9pZCxcbiAgICAgICAgICAgICAgICBjaGFubmVsX2NpZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmNoYW5uZWxfY2lkLFxuICAgICAgICAgICAgICAgIGlwX2JhbjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmlwX2JhbixcbiAgICAgICAgICAgICAgICByZWFzb246IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5yZWFzb24sXG4gICAgICAgICAgICAgICAgc2hhZG93OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Quc2hhZG93LFxuICAgICAgICAgICAgICAgIHRpbWVvdXQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC50aW1lb3V0LFxuICAgICAgICAgICAgICAgIGJhbm5lZF9ieTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmJhbm5lZF9ieSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9tb2RlcmF0aW9uL2JhbicsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfYSA9IGRlY29kZXJzLkJhblJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmNoZWNrID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfYjtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgY29uZmlnX2tleTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmNvbmZpZ19rZXksXG4gICAgICAgICAgICAgICAgZW50aXR5X2NyZWF0b3JfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5lbnRpdHlfY3JlYXRvcl9pZCxcbiAgICAgICAgICAgICAgICBlbnRpdHlfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5lbnRpdHlfaWQsXG4gICAgICAgICAgICAgICAgZW50aXR5X3R5cGU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5lbnRpdHlfdHlwZSxcbiAgICAgICAgICAgICAgICB0ZXN0X21vZGU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC50ZXN0X21vZGUsXG4gICAgICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXJfaWQsXG4gICAgICAgICAgICAgICAgbW9kZXJhdGlvbl9wYXlsb2FkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubW9kZXJhdGlvbl9wYXlsb2FkLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5vcHRpb25zLFxuICAgICAgICAgICAgICAgIHVzZXI6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL21vZGVyYXRpb24vY2hlY2snLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoX2IgPSBkZWNvZGVycy5DaGVja1Jlc3BvbnNlKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnVwc2VydENvbmZpZyA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX2M7XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIGtleTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmtleSxcbiAgICAgICAgICAgICAgICBhc3luYzogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmFzeW5jLFxuICAgICAgICAgICAgICAgIGFpX2ltYWdlX2NvbmZpZzogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmFpX2ltYWdlX2NvbmZpZyxcbiAgICAgICAgICAgICAgICBhaV90ZXh0X2NvbmZpZzogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmFpX3RleHRfY29uZmlnLFxuICAgICAgICAgICAgICAgIGF1dG9tb2RfcGxhdGZvcm1fY2lyY3VtdmVudGlvbl9jb25maWc6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5hdXRvbW9kX3BsYXRmb3JtX2NpcmN1bXZlbnRpb25fY29uZmlnLFxuICAgICAgICAgICAgICAgIGF1dG9tb2Rfc2VtYW50aWNfZmlsdGVyc19jb25maWc6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5hdXRvbW9kX3NlbWFudGljX2ZpbHRlcnNfY29uZmlnLFxuICAgICAgICAgICAgICAgIGF1dG9tb2RfdG94aWNpdHlfY29uZmlnOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuYXV0b21vZF90b3hpY2l0eV9jb25maWcsXG4gICAgICAgICAgICAgICAgYXdzX3Jla29nbml0aW9uX2NvbmZpZzogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmF3c19yZWtvZ25pdGlvbl9jb25maWcsXG4gICAgICAgICAgICAgICAgYmxvY2tfbGlzdF9jb25maWc6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5ibG9ja19saXN0X2NvbmZpZyxcbiAgICAgICAgICAgICAgICBib2R5Z3VhcmRfY29uZmlnOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuYm9keWd1YXJkX2NvbmZpZyxcbiAgICAgICAgICAgICAgICBnb29nbGVfdmlzaW9uX2NvbmZpZzogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lmdvb2dsZV92aXNpb25fY29uZmlnLFxuICAgICAgICAgICAgICAgIHZlbG9jaXR5X2ZpbHRlcl9jb25maWc6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC52ZWxvY2l0eV9maWx0ZXJfY29uZmlnLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL21vZGVyYXRpb24vY29uZmlnJywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF9jID0gZGVjb2RlcnMuVXBzZXJ0Q29uZmlnUmVzcG9uc2UpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZGVsZXRlQ29uZmlnID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfZDtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAga2V5OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Qua2V5LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnREVMRVRFJywgJy9hcGkvdjIvbW9kZXJhdGlvbi9jb25maWcve2tleX0nLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgKF9kID0gZGVjb2RlcnMuRGVsZXRlTW9kZXJhdGlvbkNvbmZpZ1Jlc3BvbnNlKSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2QuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmdldENvbmZpZyA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX2U7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIGtleTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmtleSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ0dFVCcsICcvYXBpL3YyL21vZGVyYXRpb24vY29uZmlnL3trZXl9JywgcGF0aFBhcmFtcywgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIChfZSA9IGRlY29kZXJzLkdldENvbmZpZ1Jlc3BvbnNlKSA9PT0gbnVsbCB8fCBfZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2UuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnF1ZXJ5TW9kZXJhdGlvbkNvbmZpZ3MgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF9mO1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBsaW1pdDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmxpbWl0LFxuICAgICAgICAgICAgICAgIG5leHQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5uZXh0LFxuICAgICAgICAgICAgICAgIHByZXY6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5wcmV2LFxuICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyX2lkLFxuICAgICAgICAgICAgICAgIHNvcnQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5zb3J0LFxuICAgICAgICAgICAgICAgIGZpbHRlcjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmZpbHRlcixcbiAgICAgICAgICAgICAgICB1c2VyOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9tb2RlcmF0aW9uL2NvbmZpZ3MnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoX2YgPSBkZWNvZGVycy5RdWVyeU1vZGVyYXRpb25Db25maWdzUmVzcG9uc2UpID09PSBudWxsIHx8IF9mID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZi5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuY3VzdG9tQ2hlY2sgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF9nO1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBlbnRpdHlfY3JlYXRvcl9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmVudGl0eV9jcmVhdG9yX2lkLFxuICAgICAgICAgICAgICAgIGVudGl0eV9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmVudGl0eV9pZCxcbiAgICAgICAgICAgICAgICBlbnRpdHlfdHlwZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmVudGl0eV90eXBlLFxuICAgICAgICAgICAgICAgIG5hbWU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5uYW1lLFxuICAgICAgICAgICAgICAgIHJlYXNvbjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnJlYXNvbixcbiAgICAgICAgICAgICAgICByZWNvbW1lbmRlZF9hY3Rpb246IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5yZWNvbW1lbmRlZF9hY3Rpb24sXG4gICAgICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXJfaWQsXG4gICAgICAgICAgICAgICAgbW9kZXJhdGlvbl9wYXlsb2FkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubW9kZXJhdGlvbl9wYXlsb2FkLFxuICAgICAgICAgICAgICAgIHVzZXI6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL21vZGVyYXRpb24vY3VzdG9tX2NoZWNrJywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF9nID0gZGVjb2RlcnMuQ3VzdG9tQ2hlY2tSZXNwb25zZSkgPT09IG51bGwgfHwgX2cgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9nLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy52MkRlbGV0ZVRlbXBsYXRlID0gKCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF9oO1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdERUxFVEUnLCAnL2FwaS92Mi9tb2RlcmF0aW9uL2ZlZWRzX21vZGVyYXRpb25fdGVtcGxhdGUnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAoX2ggPSBkZWNvZGVycy5EZWxldGVNb2RlcmF0aW9uVGVtcGxhdGVSZXNwb25zZSkgPT09IG51bGwgfHwgX2ggPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9oLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy52MlF1ZXJ5VGVtcGxhdGVzID0gKCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF9qO1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi9tb2RlcmF0aW9uL2ZlZWRzX21vZGVyYXRpb25fdGVtcGxhdGUnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAoX2ogPSBkZWNvZGVycy5RdWVyeUZlZWRNb2RlcmF0aW9uVGVtcGxhdGVzUmVzcG9uc2UpID09PSBudWxsIHx8IF9qID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfai5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudjJVcHNlcnRUZW1wbGF0ZSA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX2s7XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIG5hbWU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5uYW1lLFxuICAgICAgICAgICAgICAgIGNvbmZpZzogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmNvbmZpZyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9tb2RlcmF0aW9uL2ZlZWRzX21vZGVyYXRpb25fdGVtcGxhdGUnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoX2sgPSBkZWNvZGVycy5VcHNlcnRNb2RlcmF0aW9uVGVtcGxhdGVSZXNwb25zZSkgPT09IG51bGwgfHwgX2sgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9rLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5mbGFnID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfbDtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgZW50aXR5X2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuZW50aXR5X2lkLFxuICAgICAgICAgICAgICAgIGVudGl0eV90eXBlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuZW50aXR5X3R5cGUsXG4gICAgICAgICAgICAgICAgZW50aXR5X2NyZWF0b3JfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5lbnRpdHlfY3JlYXRvcl9pZCxcbiAgICAgICAgICAgICAgICByZWFzb246IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5yZWFzb24sXG4gICAgICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXJfaWQsXG4gICAgICAgICAgICAgICAgY3VzdG9tOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuY3VzdG9tLFxuICAgICAgICAgICAgICAgIG1vZGVyYXRpb25fcGF5bG9hZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm1vZGVyYXRpb25fcGF5bG9hZCxcbiAgICAgICAgICAgICAgICB1c2VyOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9tb2RlcmF0aW9uL2ZsYWcnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoX2wgPSBkZWNvZGVycy5GbGFnUmVzcG9uc2UpID09PSBudWxsIHx8IF9sID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfbC5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucXVlcnlNb2RlcmF0aW9uTG9ncyA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX207XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIGxpbWl0OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubGltaXQsXG4gICAgICAgICAgICAgICAgbmV4dDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm5leHQsXG4gICAgICAgICAgICAgICAgcHJldjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnByZXYsXG4gICAgICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXJfaWQsXG4gICAgICAgICAgICAgICAgc29ydDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnNvcnQsXG4gICAgICAgICAgICAgICAgZmlsdGVyOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuZmlsdGVyLFxuICAgICAgICAgICAgICAgIHVzZXI6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL21vZGVyYXRpb24vbG9ncycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfbSA9IGRlY29kZXJzLlF1ZXJ5TW9kZXJhdGlvbkxvZ3NSZXNwb25zZSkgPT09IG51bGwgfHwgX20gPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9tLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5nZXRNb2RlcmF0b3JTdGF0cyA9ICgpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfbztcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnR0VUJywgJy9hcGkvdjIvbW9kZXJhdGlvbi9tb2RlcmF0b3Jfc3RhdHMnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAoX28gPSBkZWNvZGVycy5Nb2RlcmF0b3JTdGF0c1Jlc3BvbnNlKSA9PT0gbnVsbCB8fCBfbyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX28uY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm11dGUgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF9wO1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICB0YXJnZXRfaWRzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudGFyZ2V0X2lkcyxcbiAgICAgICAgICAgICAgICB0aW1lb3V0OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudGltZW91dCxcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcl9pZCxcbiAgICAgICAgICAgICAgICB1c2VyOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9tb2RlcmF0aW9uL211dGUnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoX3AgPSBkZWNvZGVycy5NdXRlUmVzcG9uc2UpID09PSBudWxsIHx8IF9wID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcC5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZ2V0UXVldWVTdGF0cyA9ICgpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfcTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnR0VUJywgJy9hcGkvdjIvbW9kZXJhdGlvbi9xdWV1ZV9zdGF0cycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIChfcSA9IGRlY29kZXJzLlF1ZXVlU3RhdHNSZXNwb25zZSkgPT09IG51bGwgfHwgX3EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9xLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5xdWVyeVJldmlld1F1ZXVlID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfcjtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgbGltaXQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5saW1pdCxcbiAgICAgICAgICAgICAgICBsb2NrX2NvdW50OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubG9ja19jb3VudCxcbiAgICAgICAgICAgICAgICBsb2NrX2R1cmF0aW9uOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubG9ja19kdXJhdGlvbixcbiAgICAgICAgICAgICAgICBsb2NrX2l0ZW1zOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubG9ja19pdGVtcyxcbiAgICAgICAgICAgICAgICBuZXh0OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubmV4dCxcbiAgICAgICAgICAgICAgICBwcmV2OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QucHJldixcbiAgICAgICAgICAgICAgICBzdGF0c19vbmx5OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Quc3RhdHNfb25seSxcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcl9pZCxcbiAgICAgICAgICAgICAgICBzb3J0OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Quc29ydCxcbiAgICAgICAgICAgICAgICBmaWx0ZXI6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5maWx0ZXIsXG4gICAgICAgICAgICAgICAgdXNlcjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXIsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvbW9kZXJhdGlvbi9yZXZpZXdfcXVldWUnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoX3IgPSBkZWNvZGVycy5RdWVyeVJldmlld1F1ZXVlUmVzcG9uc2UpID09PSBudWxsIHx8IF9yID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfci5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZ2V0UmV2aWV3UXVldWVJdGVtID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfcztcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ0dFVCcsICcvYXBpL3YyL21vZGVyYXRpb24vcmV2aWV3X3F1ZXVlL3tpZH0nLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgKF9zID0gZGVjb2RlcnMuR2V0UmV2aWV3UXVldWVJdGVtUmVzcG9uc2UpID09PSBudWxsIHx8IF9zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcy5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc3VibWl0QWN0aW9uID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfdDtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgYWN0aW9uX3R5cGU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5hY3Rpb25fdHlwZSxcbiAgICAgICAgICAgICAgICBpdGVtX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaXRlbV9pZCxcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcl9pZCxcbiAgICAgICAgICAgICAgICBiYW46IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5iYW4sXG4gICAgICAgICAgICAgICAgY3VzdG9tOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuY3VzdG9tLFxuICAgICAgICAgICAgICAgIGRlbGV0ZV9hY3Rpdml0eTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmRlbGV0ZV9hY3Rpdml0eSxcbiAgICAgICAgICAgICAgICBkZWxldGVfbWVzc2FnZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmRlbGV0ZV9tZXNzYWdlLFxuICAgICAgICAgICAgICAgIGRlbGV0ZV9yZWFjdGlvbjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmRlbGV0ZV9yZWFjdGlvbixcbiAgICAgICAgICAgICAgICBkZWxldGVfdXNlcjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmRlbGV0ZV91c2VyLFxuICAgICAgICAgICAgICAgIG1hcmtfcmV2aWV3ZWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5tYXJrX3Jldmlld2VkLFxuICAgICAgICAgICAgICAgIHVuYmFuOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudW5iYW4sXG4gICAgICAgICAgICAgICAgdXNlcjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXIsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvbW9kZXJhdGlvbi9zdWJtaXRfYWN0aW9uJywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF90ID0gZGVjb2RlcnMuU3VibWl0QWN0aW9uUmVzcG9uc2UpID09PSBudWxsIHx8IF90ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdC5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudW5iYW4gPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF91O1xuICAgICAgICAgICAgY29uc3QgcXVlcnlQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0X3VzZXJfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC50YXJnZXRfdXNlcl9pZCxcbiAgICAgICAgICAgICAgICBjaGFubmVsX2NpZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmNoYW5uZWxfY2lkLFxuICAgICAgICAgICAgICAgIGNyZWF0ZWRfYnk6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5jcmVhdGVkX2J5LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgdW5iYW5uZWRfYnlfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51bmJhbm5lZF9ieV9pZCxcbiAgICAgICAgICAgICAgICB1bmJhbm5lZF9ieTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVuYmFubmVkX2J5LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL21vZGVyYXRpb24vdW5iYW4nLCB1bmRlZmluZWQsIHF1ZXJ5UGFyYW1zLCBib2R5KTtcbiAgICAgICAgICAgIChfdSA9IGRlY29kZXJzLlVuYmFuUmVzcG9uc2UpID09PSBudWxsIHx8IF91ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdS5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudW5tdXRlID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfdjtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0X2lkczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnRhcmdldF9pZHMsXG4gICAgICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXJfaWQsXG4gICAgICAgICAgICAgICAgdXNlcjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXIsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvbW9kZXJhdGlvbi91bm11dGUnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoX3YgPSBkZWNvZGVycy5Vbm11dGVSZXNwb25zZSkgPT09IG51bGwgfHwgX3YgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF92LmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5xdWVyeVVzYWdlU3RhdHMgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF93O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBsaW1pdDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmxpbWl0LFxuICAgICAgICAgICAgICAgIG5leHQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5uZXh0LFxuICAgICAgICAgICAgICAgIHByZXY6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5wcmV2LFxuICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyX2lkLFxuICAgICAgICAgICAgICAgIHNvcnQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5zb3J0LFxuICAgICAgICAgICAgICAgIGZpbHRlcjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmZpbHRlcixcbiAgICAgICAgICAgICAgICB1c2VyOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9tb2RlcmF0aW9uL3VzYWdlX3N0YXRzJywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF93ID0gZGVjb2RlcnMuUXVlcnlVc2FnZVN0YXRzUmVzcG9uc2UpID09PSBudWxsIHx8IF93ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdy5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZ2V0VXNlclJlcG9ydCA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX3g7XG4gICAgICAgICAgICBjb25zdCBxdWVyeVBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcl9pZCxcbiAgICAgICAgICAgICAgICBjcmVhdGVfdXNlcl9pZl9ub3RfZXhpc3RzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuY3JlYXRlX3VzZXJfaWZfbm90X2V4aXN0cyxcbiAgICAgICAgICAgICAgICBpbmNsdWRlX3VzZXJfbXV0ZXM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5pbmNsdWRlX3VzZXJfbXV0ZXMsXG4gICAgICAgICAgICAgICAgaW5jbHVkZV91c2VyX2Jsb2NrczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmluY2x1ZGVfdXNlcl9ibG9ja3MsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi9tb2RlcmF0aW9uL3VzZXJfcmVwb3J0JywgdW5kZWZpbmVkLCBxdWVyeVBhcmFtcyk7XG4gICAgICAgICAgICAoX3ggPSBkZWNvZGVycy5HZXRVc2VyTW9kZXJhdGlvblJlcG9ydFJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfeCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3guY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuY2xhc3MgU3RyZWFtTW9kZXJhdGlvbkNsaWVudCBleHRlbmRzIE1vZGVyYXRpb25BcGkge1xufVxuXG5jbGFzcyBTdHJlYW1DbGllbnQgZXh0ZW5kcyBDb21tb25BcGkge1xuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIGFwaUtleVxuICAgICAqIEBwYXJhbSBzZWNyZXRcbiAgICAgKiBAcGFyYW0gY29uZmlnIGNvbmZpZyBvYmplY3RcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihhcGlLZXksIHNlY3JldCwgY29uZmlnKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICBjb25zdCB0b2tlbiA9IEpXVFNlcnZlclRva2VuKHNlY3JldCk7XG4gICAgICAgIGNvbnN0IHRpbWVvdXQgPSAoX2EgPSBjb25maWcgPT09IG51bGwgfHwgY29uZmlnID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjb25maWcudGltZW91dCkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogU3RyZWFtQ2xpZW50LkRFRkFVTFRfVElNRU9VVDtcbiAgICAgICAgY29uc3QgY2hhdEJhc2VVcmwgPSAoX2IgPSBjb25maWcgPT09IG51bGwgfHwgY29uZmlnID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjb25maWcuYmFzZVBhdGgpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6ICdodHRwczovL2NoYXQuc3RyZWFtLWlvLWFwaS5jb20nO1xuICAgICAgICBjb25zdCB2aWRlb0Jhc2VVcmwgPSAoX2MgPSBjb25maWcgPT09IG51bGwgfHwgY29uZmlnID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjb25maWcuYmFzZVBhdGgpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6ICdodHRwczovL3ZpZGVvLnN0cmVhbS1pby1hcGkuY29tJztcbiAgICAgICAgc3VwZXIoeyBhcGlLZXksIHRva2VuLCB0aW1lb3V0LCBiYXNlVXJsOiBjaGF0QmFzZVVybCB9KTtcbiAgICAgICAgdGhpcy5hcGlLZXkgPSBhcGlLZXk7XG4gICAgICAgIHRoaXMuc2VjcmV0ID0gc2VjcmV0O1xuICAgICAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgdGhpcy5vcHRpb25zID0ge307XG4gICAgICAgIHRoaXMudXBzZXJ0VXNlcnMgPSAodXNlcnMpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSB7fTtcbiAgICAgICAgICAgIHVzZXJzLmZvckVhY2goKHUpID0+IHtcbiAgICAgICAgICAgICAgICBwYXlsb2FkW3UuaWRdID0gdTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudXBkYXRlVXNlcnMoeyB1c2VyczogcGF5bG9hZCB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5xdWVyeUJhbm5lZFVzZXJzID0gKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNoYXQucXVlcnlCYW5uZWRVc2VycyhyZXF1ZXN0KTtcbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSBwYXlsb2FkXG4gICAgICAgICAqIC0gdXNlcl9pZCAtIHRoZSBpZCBvZiB0aGUgdXNlciB0aGUgdG9rZW4gaXMgZm9yXG4gICAgICAgICAqIC0gdmFsaWRpdHlfaW5fc2Vjb25kcyAtIGhvdyBtYW55IHNlY29uZHMgaXMgdGhlIHRva2VuIHZhbGlkIGZvciAoc3RhcnRpbmcgZnJvbSBpc3N1ZWQgYXQpLCBieSBkZWZhdWx0IGl0J3MgMSBob3VyLCBkaWNhcmRlZCBpZiBleHAgaXMgcHJvdmlkZWRcbiAgICAgICAgICogLSBleHAgLSB3aGVuIHRoZSB0b2tlbiBleHBpcmVzLCB1bml4IHRpbWVzdGFtcCBpbiBzZWNvbmRzXG4gICAgICAgICAqIC0gaWF0IC0gaXNzdWVkIGF0IGRhdGUgb2YgdGhlIHRva2VuLCB1bml4IHRpbWVzdGFtcCBpbiBzZWNvbmRzLCBieSBkZWZhdWx0IGl0J3Mgbm93XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmdlbmVyYXRlVXNlclRva2VuID0gKHBheWxvYWQpID0+IHtcbiAgICAgICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICAgICAgY29uc3QgZGVmYXVsdElhdCA9IE1hdGguZmxvb3IoKERhdGUubm93KCkgLSAxMDAwKSAvIDEwMDApO1xuICAgICAgICAgICAgcGF5bG9hZC5pYXQgPSAoX2EgPSBwYXlsb2FkLmlhdCkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogZGVmYXVsdElhdDtcbiAgICAgICAgICAgIGNvbnN0IHZhbGlkaXR5SW5TZWNvbmRzID0gKF9iID0gcGF5bG9hZC52YWxpZGl0eV9pbl9zZWNvbmRzKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiA2MCAqIDYwO1xuICAgICAgICAgICAgcGF5bG9hZC5leHAgPSAoX2MgPSBwYXlsb2FkLmV4cCkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogcGF5bG9hZC5pYXQgKyB2YWxpZGl0eUluU2Vjb25kcztcbiAgICAgICAgICAgIHJldHVybiBKV1RVc2VyVG9rZW4odGhpcy5zZWNyZXQsIHBheWxvYWQpO1xuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHBheWxvYWRcbiAgICAgICAgICogLSB1c2VyX2lkIC0gdGhlIGlkIG9mIHRoZSB1c2VyIHRoZSB0b2tlbiBpcyBmb3JcbiAgICAgICAgICogLSB2YWxpZGl0eV9pbl9zZWNvbmRzIC0gaG93IG1hbnkgc2Vjb25kcyBpcyB0aGUgdG9rZW4gdmFsaWQgZm9yIChzdGFydGluZyBmcm9tIGlzc3VlZCBhdCksIGJ5IGRlZmF1bHQgaXQncyAxIGhvdXIsIGRpY2FyZGVkIGlmIGV4cCBpcyBwcm92aWRlZFxuICAgICAgICAgKiAtIGV4cCAtIHdoZW4gdGhlIHRva2VuIGV4cGlyZXMsIHVuaXggdGltZXN0YW1wIGluIHNlY29uZHNcbiAgICAgICAgICogLSBpYXQgLSBpc3N1ZWQgYXQgZGF0ZSBvZiB0aGUgdG9rZW4sIHVuaXggdGltZXN0YW1wIGluIHNlY29uZHMsIGJ5IGRlZmF1bHQgaXQncyBub3dcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZ2VuZXJhdGVDYWxsVG9rZW4gPSAocGF5bG9hZCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2VuZXJhdGVVc2VyVG9rZW4ocGF5bG9hZCk7XG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0gdXNlcklEXG4gICAgICAgICAqIEBwYXJhbSBleHBcbiAgICAgICAgICogQHBhcmFtIGlhdCBkZXByZWNhdGVkLCB0aGUgZGVmYXVsdCBkYXRlIHdpbGwgYmUgc2V0IGludGVybmFsbHlcbiAgICAgICAgICogQHJldHVybnNcbiAgICAgICAgICpcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgdXNlIGdlbmVyYXRlVXNlclRva2VuIGluc3RlYWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY3JlYXRlVG9rZW4gPSAodXNlcklELCBleHAgPSBNYXRoLnJvdW5kKERhdGUubm93KCkgLyAxMDAwKSArIDYwICogNjAsIGlhdCA9IE1hdGguZmxvb3IoKERhdGUubm93KCkgLSAxMDAwKSAvIDEwMDApKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHVzZXJJRCxcbiAgICAgICAgICAgICAgICBleHAsXG4gICAgICAgICAgICAgICAgaWF0LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiBKV1RVc2VyVG9rZW4odGhpcy5zZWNyZXQsIHBheWxvYWQpO1xuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHVzZXJJRFxuICAgICAgICAgKiBAcGFyYW0gY2FsbF9jaWRzXG4gICAgICAgICAqIEBwYXJhbSBleHBcbiAgICAgICAgICogQHBhcmFtIGlhdCB0aGlzIGlzIGRlcHJlY2F0ZWQsIHRoZSBjdXJyZW50IGRhdGUgd2lsbCBiZSBzZXQgaW50ZXJuYWxseVxuICAgICAgICAgKiBAcmV0dXJuc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAZGVwcmVjYXRlZCB1c2UgZ2VuZXJhdGVDYWxsVG9rZW4gaW5zdGVhZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jcmVhdGVDYWxsVG9rZW4gPSAodXNlcklkT3JPYmplY3QsIGNhbGxfY2lkcywgZXhwID0gTWF0aC5yb3VuZChEYXRlLm5vdygpIC8gMTAwMCkgKyA2MCAqIDYwLCBpYXQgPSBNYXRoLmZsb29yKChEYXRlLm5vdygpIC0gMTAwMCkgLyAxMDAwKSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAgICAgICAgICAgICBleHAsXG4gICAgICAgICAgICAgICAgaWF0LFxuICAgICAgICAgICAgICAgIGNhbGxfY2lkcyxcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiB0eXBlb2YgdXNlcklkT3JPYmplY3QgPT09ICdzdHJpbmcnXG4gICAgICAgICAgICAgICAgICAgID8gdXNlcklkT3JPYmplY3RcbiAgICAgICAgICAgICAgICAgICAgOiB1c2VySWRPck9iamVjdC51c2VyX2lkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdXNlcklkT3JPYmplY3QgPT09ICdvYmplY3QnICYmIHVzZXJJZE9yT2JqZWN0LnJvbGUpIHtcbiAgICAgICAgICAgICAgICBwYXlsb2FkLnJvbGUgPSB1c2VySWRPck9iamVjdC5yb2xlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIEpXVFVzZXJUb2tlbih0aGlzLnNlY3JldCwgcGF5bG9hZCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMudmVyaWZ5V2ViaG9vayA9IChyZXF1ZXN0Qm9keSwgeFNpZ25hdHVyZSkgPT4ge1xuICAgICAgICAgICAgY29uc3Qga2V5ID0gQnVmZmVyLmZyb20odGhpcy5zZWNyZXQsICd1dGY4Jyk7XG4gICAgICAgICAgICBjb25zdCBoYXNoID0gY3J5cHRvXG4gICAgICAgICAgICAgICAgLmNyZWF0ZUhtYWMoJ3NoYTI1NicsIGtleSlcbiAgICAgICAgICAgICAgICAudXBkYXRlKHJlcXVlc3RCb2R5KVxuICAgICAgICAgICAgICAgIC5kaWdlc3QoJ2hleCcpO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY3J5cHRvLnRpbWluZ1NhZmVFcXVhbChCdWZmZXIuZnJvbShoYXNoKSwgQnVmZmVyLmZyb20oeFNpZ25hdHVyZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy52aWRlbyA9IG5ldyBTdHJlYW1WaWRlb0NsaWVudCh7XG4gICAgICAgICAgICBhcGlLZXksXG4gICAgICAgICAgICB0b2tlbixcbiAgICAgICAgICAgIHRpbWVvdXQsXG4gICAgICAgICAgICBiYXNlVXJsOiB2aWRlb0Jhc2VVcmwsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmNoYXQgPSBuZXcgU3RyZWFtQ2hhdENsaWVudCh7XG4gICAgICAgICAgICBhcGlLZXksXG4gICAgICAgICAgICB0b2tlbixcbiAgICAgICAgICAgIHRpbWVvdXQsXG4gICAgICAgICAgICBiYXNlVXJsOiBjaGF0QmFzZVVybCxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubW9kZXJhdGlvbiA9IG5ldyBTdHJlYW1Nb2RlcmF0aW9uQ2xpZW50KHtcbiAgICAgICAgICAgIGFwaUtleSxcbiAgICAgICAgICAgIHRva2VuLFxuICAgICAgICAgICAgdGltZW91dCxcbiAgICAgICAgICAgIGJhc2VVcmw6IGNoYXRCYXNlVXJsLFxuICAgICAgICB9KTtcbiAgICB9XG59XG5TdHJlYW1DbGllbnQuREVGQVVMVF9USU1FT1VUID0gMzAwMDtcblxuZXhwb3J0IHsgQ2hhbm5lbE93bkNhcGFiaWxpdHksIE93bkNhcGFiaWxpdHksIFN0cmVhbUNhbGwsIFN0cmVhbUNoYW5uZWwsIFN0cmVhbUNoYXRDbGllbnQsIFN0cmVhbUNsaWVudCwgU3RyZWFtVmlkZW9DbGllbnQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmVzLm1qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../../node_modules/@stream-io/node-sdk/dist/index.es.mjs\n");

/***/ })

};
;